{
  "schema_version": "workflow.v2",
  "workflow_id": "software_product_development",
  "revision": "wfrev_2026_02_21_a",
  "effective_date": "2026-02-21",
  "name": "Software Product Development",
  "description": "End-to-end workflow for software product creation from discovery through implementation. Uses WP/WS ontology per ADR-051/052.",
  "pow_class": "reference",
  "derived_from": null,
  "source_version": null,
  "tags": [
    "software_delivery"
  ],
  "scopes": {
    "project": {
      "parent": null
    },
    "work_package": {
      "parent": "project"
    },
    "work_statement": {
      "parent": "work_package"
    }
  },
  "document_types": {
    "project_discovery": {
      "name": "Project Discovery",
      "scope": "project",
      "may_own": [],
      "acceptance_required": false
    },
    "primary_implementation_plan": {
      "name": "Preliminary Implementation Plan",
      "scope": "project",
      "may_own": [],
      "acceptance_required": false,
      "description": "Preliminary plan with WP candidates that inform architecture"
    },
    "technical_architecture": {
      "name": "Technical Architecture",
      "scope": "project",
      "may_own": [],
      "acceptance_required": true,
      "accepted_by": [
        "architect"
      ]
    },
    "implementation_plan": {
      "name": "Implementation Plan",
      "scope": "project",
      "may_own": [
        "work_package"
      ],
      "collection_field": "work_packages",
      "acceptance_required": true,
      "accepted_by": [
        "pm"
      ],
      "description": "Final plan that creates committed Work Package documents"
    },
    "work_package": {
      "name": "Work Package",
      "scope": "project",
      "may_own": [
        "work_statement"
      ],
      "acceptance_required": false,
      "description": "Unit of planned work with scope, governance pins, and completion criteria"
    },
    "work_statement": {
      "name": "Work Statement",
      "scope": "work_package",
      "may_own": [],
      "acceptance_required": true,
      "accepted_by": [
        "pm",
        "technical_lead"
      ],
      "description": "Unit of authorized execution with procedure, verification criteria, and allowed paths"
    }
  },
  "entity_types": {
    "work_package": {
      "name": "Work Package",
      "parent_doc_type": "implementation_plan",
      "creates_scope": "work_package"
    },
    "work_statement": {
      "name": "Work Statement",
      "parent_doc_type": "work_package",
      "creates_scope": "work_statement"
    }
  },
  "steps": [
    {
      "step_id": "discovery",
      "role": "Technical Architect 1.0",
      "task_prompt": "Project Discovery v1.0",
      "produces": "project_discovery",
      "scope": "project",
      "inputs": []
    },
    {
      "step_id": "primary_plan",
      "role": "Project Manager 1.0",
      "task_prompt": "Implementation Plan Primary v1.0",
      "produces": "primary_implementation_plan",
      "scope": "project",
      "inputs": [
        {
          "doc_type": "project_discovery",
          "scope": "project"
        }
      ]
    },
    {
      "step_id": "implementation_plan",
      "role": "Project Manager 1.0",
      "task_prompt": "Implementation Plan v1.0",
      "produces": "implementation_plan",
      "scope": "project",
      "creates_entities": "work_package",
      "inputs": [
        {
          "doc_type": "project_discovery",
          "scope": "project"
        },
        {
          "doc_type": "primary_implementation_plan",
          "scope": "project"
        }
      ]
    },
    {
      "step_id": "technical_architecture",
      "role": "Technical Architect 1.0",
      "task_prompt": "Technical Architecture v1.0",
      "produces": "technical_architecture",
      "scope": "project",
      "inputs": [
        {
          "doc_type": "project_discovery",
          "scope": "project"
        },
        {
          "doc_type": "primary_implementation_plan",
          "scope": "project"
        },
        {
          "doc_type": "implementation_plan",
          "scope": "project"
        }
      ]
    },
    {
      "step_id": "per_work_package",
      "iterate_over": {
        "doc_type": "implementation_plan",
        "collection_field": "work_packages",
        "entity_type": "work_package"
      },
      "scope": "work_package",
      "steps": [
        {
          "step_id": "work_statement_decomposition",
          "role": "Project Manager 1.0",
          "task_prompt": "Work Statement v1.0",
          "produces": "work_statement",
          "scope": "work_package",
          "inputs": [
            {
              "entity_type": "work_package",
              "scope": "work_package",
              "context": true
            },
            {
              "doc_type": "technical_architecture",
              "scope": "project"
            }
          ]
        }
      ]
    }
  ]
}
