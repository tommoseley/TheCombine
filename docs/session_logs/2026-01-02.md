# Session Summary — 2026-01-02

## Scope
- ADR-010 Week 4 deployment completion
- GitHub Actions workflow repair (App Runner → ECS)
- Repository restructure (four-bucket model)
- AI bootstrapping documentation system
- Git secret remediation

## Decisions Made
- Adopted `seed/` as governed input location (not `ops/`, not `docs/`)
- Adopted four-bucket structure: `app/`, `seed/`, `ops/`, `docs/`
- Dockerfile uses explicit COPY, not blanket `COPY . .`
- `AI.md` at root for AI collaborator bootstrap
- `docs/PROJECT_STATE.md` for volatile current state
- `docs/session_logs/` for immutable session summaries
- Session summaries are logs — never edited after writing
- "Prepare session close" is the trigger phrase for session close ritual
- Backfill prompt for old sessions is self-contained (no file reading required)
- PROJECT_STATE.md is primary cold-start source; session logs are safety net

## Implemented
- ADR-010 Week 4: deployed to test environment
- GitHub Actions workflow: ECS Fargate + Route 53
- IAM permissions for GitHub Actions role
- Anthropic API key in AWS Secrets Manager
- Fixed `document_builder.py` corrupted emoji characters
- Repository restructure:
  - `shared/` eliminated
  - `Documentation/Prompts/` → `seed/prompts/`
  - `Documentation/ADR/` → `docs/adr/`
  - `private/` scripts → `ops/aws/`, `ops/db/`, `ops/scripts/`
  - Root temp files → `recycle/`
- `seed/manifest.json` with SHA-256 checksums
- `.dockerignore` (new file)
- `Dockerfile` with explicit COPYs
- `AI.md` with session management and backfill prompt
- `docs/PROJECT_STATE.md`
- `docs/session_logs/` structure
- Removed hardcoded API key from `ops/scripts/run-local.ps1`
- Rewrote git history to remove exposed secret

## Updated or Created
- `.github/workflows/deploy.yml`
- `app/domain/services/document_builder.py`
- `Dockerfile`
- `.dockerignore`
- `.gitignore`
- `run.ps1`
- `seed/manifest.json`
- `AI.md`
- `docs/PROJECT_STATE.md`
- `docs/session_logs/2026-01-02.md`
- `ops/aws/*` (consolidated from `private/`)
- `ops/db/*` (consolidated from `scripts/`)
- `ops/scripts/*` (consolidated utilities)
- `ops/scripts/run-local.ps1` (removed hardcoded secret)

## Commits / PRs
- `85f2732` — Reorganization, bootstrapping, and AI session management

## Open Threads
- ADR-011 (project/epic ownership model) — Tom has draft from ChatGPT
- `recycle/` folder needs review then deletion
- Automated seed manifest regeneration script
- Rotate Anthropic API key (exposed in prior commit)

## Known Risks / Drift Warnings
- Route 53 points directly to task IP — changes on every deploy
- No HTTPS yet
- `recycle/` contains files that may be needed — review before deletion
- Anthropic API key was exposed and should be rotated
