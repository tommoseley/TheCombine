# Session Summary â€” 2026-01-13

## Scope
- Landing page redesign with new marketing content
- Header layout improvements (left/right justification)
- Data-driven environment badge system
- Dark mode fixes for document viewer fragments
- GitHub Actions deployment fix

## Decisions Made
- System config table for data-driven settings (no redeploy needed)
- Environment badge fetched via `/api/config/environment` API
- Header uses full-width layout (removed container margins)
- Problem Statement moved to top of Architecture Overview tab

## Implemented
- Landing page: Core Principle box, What It Is/Is Not, How It Works (01-04), CTA
- `system_config` table with key-value store
- `SystemConfigService` with in-memory caching
- `GET /api/config/environment` and `GET /api/config/{key}` endpoints
- Environment badge in header (name + version, color-coded)
- Header layout: logo left, search/icons/user right
- Dark mode text colors in fragment templates
- ArchitecturalSummaryView: problem_statement order changed to 5

## Updated or Created
- `app/web/templates/public/pages/home.html` (complete rewrite)
- `app/web/templates/public/layout/base.html` (header layout + env badge)
- `alembic/versions/20260113_181330_add_system_config_table.py`
- `app/api/models/system_config.py`
- `app/api/services/system_config_service.py`
- `app/api/routers/config_routes.py`
- `app/api/main.py` (registered config_router)
- `app/domain/registry/seed_fragment_artifacts.py` (dark mode classes)
- `app/domain/registry/seed_component_artifacts.py` (problem_statement order)
- `.github/workflows/deploy.yml` (use ANTHROPIC_SECRET_ARN variable)

## Commits / PRs
- Pending commit with message provided

## Open Threads
- Fragment dark mode changes require re-seeding: `python -m app.domain.registry.seed_fragment_artifacts`
- ArchitecturalSummaryView docdef change requires delete + re-seed
- "View Sample Discovery" button needs sample project or static route

## Known Risks / Drift Warnings
- None