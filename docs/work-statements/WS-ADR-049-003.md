# WS-ADR-049-003: DCW Decomposition -- Implementation Plan

**Status:** Complete
**Created:** 2026-02-09
**Scope:** Single-commit (workflow definition creation)
**ADR:** ADR-049 (Accepted)

---

## Purpose

Create the `implementation_plan` DCW following the QA-only pattern (no PGC gate). This is the third and final DCW decomposition required by ADR-049, completing the No Black Boxes principle implementation.

---

## Governing References

- **ADR-049**: No Black Boxes -- Explicit DCW Composition
- **WS-ADR-049-001**: Pattern established for project_discovery (Full pattern)
- **WS-ADR-049-002**: Pattern applied to technical_architecture (Full pattern)
- **POL-WS-001**: Standard Work Statements

---

## Scope

### In Scope

- Create `implementation_plan` DCW v1.0.0 with QA-only pattern:
  - Generation node (LLM) - no PGC gate needed
  - QA Gate with explicit evaluate internal (LLM)
  - Remediation node with feedback loop
- Update active_releases.json to register the workflow
- Verify definition loads correctly

### Out of Scope

- PGC gate (document type specifies pgc_context: null)
- UI rendering verification
- Creating new prompts or schemas (all exist)

---

## Current State Analysis

**Document type configuration (package.yaml):**

- `pgc_context: null` - No pre-generation clarification needed
- `required_inputs: [primary_implementation_plan, technical_architecture]`
- `role_prompt_ref: prompt:role:project_manager:1.0.0`
- `creates_children: [epic]`

**No workflow exists yet.**

**Target structure (v1.0.0):**

```
DCW: implementation_plan (QA-only pattern)
 ├── generation (type: task, internal_type: LLM)
 │    └── Uses upstream artifacts as inputs
 │
 ├── qa_gate (type: gate)
 │    └── internal: evaluate (LLM)
 │
 ├── remediation (type: task, internal_type: LLM)
 │    └── Feedback loop from QA gate
 │
 ├── end_stabilized
 └── end_blocked
```

---

## Procedure

### Step 1: Create Workflow Directory and Definition

Create `combine-config/workflows/implementation_plan/releases/1.0.0/definition.json` following the QA-only pattern.

### Step 2: Update active_releases.json

Add `implementation_plan` workflow entry pointing to 1.0.0.

### Step 3: Verify Loading

Verify the definition loads correctly via PlanRegistry.

---

## Verification Checklist

- [x] v1.0.0 definition created with QA-only pattern
- [x] Generation node has internal_type: LLM
- [x] QA Gate has evaluate internal
- [x] No PGC gate (per document type - entry is generation node)
- [x] active_releases.json updated
- [x] Definition loads correctly (PlanRegistry verified)
- [x] All 1955 tests pass

---

## Definition of Done

- `implementation_plan` v1.0.0 exists with explicit QA gate internals
- All references resolve correctly
- No regressions in workflow tests
- ADR-049 acceptance criteria fully satisfied

---

*End of WS-ADR-049-003*
