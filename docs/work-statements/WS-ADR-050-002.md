# WS-ADR-050-002: Prove ADR-050 Protocol on One Real Change

## Status: Complete

## Governing References

- ADR-050 -- Work Statement Verification Constitution
- POL-WS-001 -- Standard Work Statements
- WS-ADR-050-001 -- Tier 0 Verification Harness (prerequisite)

## Verification Mode: A

---

## Purpose

Execute one real, bounded change to the Combine codebase using the full ADR-050 protocol: intent-first testing, implementation, and Tier 0 sweep. This proves the verification discipline works in practice before investing in Work Statements as a first-class Combine document type.

---

## Preconditions

- WS-ADR-050-001 is complete (Tier 0 harness exists and returns zero on clean repo)
- A bounded target change has been selected (see Target Selection below)

---

## Target Selection

Select ONE of the following (or similar bounded change). The target must be:

- Small enough to complete in a single session
- Concrete enough to produce testable Tier 1 criteria
- Real (not a toy exercise -- actual Combine improvement)

**Candidates:**

1. **Remove deprecated HTMX admin section** (`app/web/routes/admin/`)
   - Tier 1: admin routes return 404, no other routes affected, no import references remain

2. **Epic render_model support** (FullDocumentViewer renders epic fields instead of raw JSON)
   - Tier 1: API returns structured render_model for epic documents, SPA renders name/intent/criteria

3. **Delete unused LoginPage.jsx**
   - Tier 1: file removed, no import references, SPA builds, no route references

The specific target will be chosen at execution time based on what is most valuable. This WS governs the protocol, not the target.

---

## Scope

### Includes

- Writing a Work Statement for the chosen target with concrete Tier 1 criteria
- Writing failing tests from those criteria (intent-first)
- Implementing the change
- Running Tier 0 sweep
- Producing a demo package

### Excludes

- Multiple changes or chained Work Statements
- Mode B work
- Any infrastructure or platform changes
- Changes to the Tier 0 harness itself

---

## Procedure

### Step 1: Select Target and Write Tier 1 Criteria

Choose the target change. Write 3-6 concrete, testable postconditions. Each criterion must be expressible as an automated test.

**Example (for HTMX cleanup):**
- `GET /admin/workbench` returns 404
- `GET /admin/documents` returns 404
- No Python file imports from `app.web.routes.admin`
- All existing non-admin routes continue to return expected status codes
- No Jinja2 templates reference admin routes

### Step 2: Write Failing Tests (Intent-First)

For each Tier 1 criterion, write a test that asserts the postcondition. All tests must fail because the change has not been made yet.

Verify: run the tests, confirm they all fail for the expected reasons.

### Step 3: Implement

Make the change. Follow the target Work Statement's procedure. Do not modify tests during implementation.

### Step 4: Verify Tier 1 Tests Pass

Run the Tier 1 tests. All must pass. If any fail, the implementation does not satisfy intent -- fix the implementation, not the tests.

### Step 5: Run Tier 0 Sweep

Run `ops/scripts/tier0.sh`. Must return zero. This confirms no collateral damage.

### Step 6: Produce Demo Package

Document:
- What changed (files modified/created/deleted)
- Tier 1 test results (all pass)
- Tier 0 results (clean)
- Any observations about the protocol (friction, gaps, surprises)

---

## Tier 1 Verification Criteria (for this meta-WS)

1. A target-specific Work Statement exists with concrete Tier 1 criteria
2. Failing tests exist before implementation and pass after
3. Tier 0 returns zero after the change
4. A demo package is produced documenting the cycle

---

## Prohibited Actions

- Do not skip the failing-test phase
- Do not write tests after implementation
- Do not modify tests to make them pass (fix implementation instead)
- Do not combine multiple changes into one cycle
- Do not bypass Tier 0

---

## Verification Checklist

- [ ] Target selected with concrete Tier 1 criteria
- [ ] All Tier 1 tests written and verified failing
- [ ] Implementation complete
- [ ] All Tier 1 tests pass
- [ ] Tier 0 harness returns zero
- [ ] Demo package produced
- [ ] Observations documented for protocol refinement

## Definition of Done

- One complete ADR-050 factory cycle has been executed against the Combine's own codebase
- The cycle is documented with evidence (test results, Tier 0 output, files changed)
- ADR-050 Acceptance Criteria item 2 is satisfied ("at least one Work Statement has been executed under Mode A with Intent-First testing")

---

_End of WS-ADR-050-002_
