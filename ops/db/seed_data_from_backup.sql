-- Seed data extracted from dev_backup_utf8.sql
-- Run: psql -d combine -f ops/db/seed_data_from_backup.sql

-- Delete existing seed data (FK-safe order: dependents first)
DELETE FROM document_definitions;
DELETE FROM component_artifacts;
DELETE FROM fragment_artifacts;
DELETE FROM schema_artifacts;
DELETE FROM document_types;

-- Insert seed data (FK-safe order: dependencies first)
COPY public.schema_artifacts (id, schema_id, version, kind, status, schema_json, sha256, governance_refs, created_at, created_by, updated_at) FROM stdin;
5b9f2284-7652-45a0-b763-bca5736a385e	OpenQuestionV1	1.0	type	accepted	{"$id": "schema:OpenQuestionV1", "type": "object", "title": "Open Question", "$schema": "https://json-schema.org/draft/2020-12/schema", "required": ["id", "text", "blocking", "why_it_matters"], "properties": {"id": {"type": "string", "minLength": 1, "description": "Unique identifier for the question"}, "tags": {"type": "array", "items": {"type": "string"}, "default": [], "description": "Optional categorization tags"}, "text": {"type": "string", "minLength": 2, "description": "The question text"}, "notes": {"type": "string", "description": "Additional context or notes"}, "options": {"type": "array", "items": {"type": "object", "required": ["id", "label"], "properties": {"id": {"type": "string", "minLength": 1, "description": "Option identifier"}, "label": {"type": "string", "minLength": 1, "description": "Short option label"}, "description": {"type": "string", "description": "Detailed option description"}}, "additionalProperties": false}, "default": [], "description": "Possible answer options"}, "blocking": {"type": "boolean", "default": false, "description": "Whether this question blocks progress"}, "priority": {"enum": ["must", "should", "could"], "type": "string", "default": "should", "description": "Priority level for human guidance"}, "why_it_matters": {"type": "string", "minLength": 2, "description": "Explanation of why this question is important"}, "default_response": {"type": "object", "properties": {"free_text": {"type": "string", "description": "Free-text response"}, "option_id": {"type": "string", "description": "ID of selected option"}}, "description": "Default or recommended response", "additionalProperties": false}}, "description": "A structured open question with optional decision options.", "additionalProperties": false}	99acd3bdff24bedac3550efc381f367f4039eb1b3e23ccc4967b4c7edb2abff9	{"adrs": ["ADR-031"], "policies": []}	2026-01-09 21:17:09.28051-05	seed	\N
b7e0537b-5cb7-4a06-a247-425d4f58b998	RiskV1	1.0	type	accepted	{"$id": "schema:RiskV1", "type": "object", "title": "Risk", "$schema": "https://json-schema.org/draft/2020-12/schema", "required": ["id", "description", "impact"], "properties": {"id": {"type": "string", "minLength": 1, "description": "Unique identifier for the risk"}, "notes": {"type": "string", "description": "Additional context"}, "impact": {"type": "string", "minLength": 2, "description": "Impact if the risk materializes"}, "severity": {"enum": ["low", "medium", "high", "critical"], "type": "string", "description": "Severity if the risk occurs"}, "likelihood": {"enum": ["low", "medium", "high"], "type": "string", "description": "Likelihood of the risk occurring"}, "mitigation": {"type": "string", "description": "Proposed mitigation strategy"}, "description": {"type": "string", "minLength": 2, "description": "Description of the risk"}, "affected_items": {"type": "array", "items": {"type": "string"}, "default": [], "description": "IDs of affected epics, stories, or components"}}, "description": "A structured risk with impact and affected items.", "additionalProperties": false}	484862c9af7e5bdb87dfbe90807d282cb8912a248b8a3a1172de837ba29c6251	{"adrs": ["ADR-031"], "policies": []}	2026-01-09 21:17:09.288253-05	seed	\N
7099ab48-3cc4-440a-b502-48a46ee17514	ScopeListV1	1.0	type	accepted	{"$id": "schema:ScopeListV1", "type": "object", "title": "Scope List", "$schema": "https://json-schema.org/draft/2020-12/schema", "required": ["items"], "properties": {"items": {"type": "array", "items": {"type": "string"}, "description": "List of scope items"}, "notes": {"type": "string", "description": "Additional context about scope"}}, "description": "A list of in-scope or out-of-scope items.", "additionalProperties": false}	0ba804c848094ed3a9da7751489c8ea49051010dea726c52289d91341754e964	{"adrs": ["ADR-031"], "policies": []}	2026-01-09 21:17:09.29082-05	seed	\N
213d01ab-2b85-49f7-a1ee-96ff7908a609	DependencyV1	1.0	type	accepted	{"$id": "schema:DependencyV1", "type": "object", "title": "Dependency", "$schema": "https://json-schema.org/draft/2020-12/schema", "required": ["depends_on_id", "reason"], "properties": {"notes": {"type": "string", "description": "Additional context"}, "reason": {"type": "string", "minLength": 2, "description": "Why this dependency exists"}, "blocking": {"type": "boolean", "default": true, "description": "Whether this is a blocking dependency"}, "depends_on_id": {"type": "string", "minLength": 1, "description": "ID of the item this depends on"}, "depends_on_type": {"enum": ["epic", "story", "component", "external"], "type": "string", "description": "Type of the dependency target"}}, "description": "A dependency reference with reason.", "additionalProperties": false}	1368e45793b85b4374a423dca9d991b30285f7d00a685119fa9d016c97be426a	{"adrs": ["ADR-031"], "policies": []}	2026-01-09 21:17:09.292712-05	seed	\N
c0c34a6c-80a5-4afe-a973-a1634331858a	RenderModelV1	1.0	envelope	accepted	{"$id": "schema:RenderModelV1", "type": "object", "title": "Render Model V1", "required": ["render_model_version", "document_id", "document_type", "schema_id", "schema_bundle_sha256", "title", "sections"], "properties": {"title": {"type": "string", "minLength": 1}, "actions": {"type": "array", "items": {"$ref": "schema:RenderActionV1"}}, "sections": {"type": "array", "items": {"$ref": "schema:RenderSectionV1"}}, "subtitle": {"type": "string"}, "schema_id": {"type": "string", "pattern": "^schema:[A-Za-z0-9._-]+$"}, "document_id": {"type": "string", "minLength": 1}, "document_type": {"type": "string", "minLength": 1}, "render_model_version": {"type": "string", "const": "1.0"}, "schema_bundle_sha256": {"type": "string", "pattern": "^sha256:[a-f0-9]{64}$"}}, "additionalProperties": false}	694c3efdd97098adbf34d4c62d542167529c0e2437fcb2de2a484f16a9f224dd	{"adrs": ["ADR-033"], "policies": []}	2026-01-09 21:17:09.294792-05	seed	\N
1dbe2cf3-dcb3-4a6d-892d-a9fec620a26e	RenderSectionV1	1.0	type	accepted	{"$id": "schema:RenderSectionV1", "type": "object", "title": "Render Section V1", "required": ["id", "title", "order", "blocks"], "properties": {"id": {"type": "string", "minLength": 1}, "order": {"type": "integer", "minimum": 0}, "title": {"type": "string", "minLength": 1}, "blocks": {"type": "array", "items": {"$ref": "schema:RenderBlockV1"}}, "description": {"type": "string"}}, "additionalProperties": false}	aab37f8e72a50c5449b828d998fe5006ea1b6e4e8b9773def65902854cd21a1b	{"adrs": ["ADR-033"], "policies": []}	2026-01-09 21:17:09.296704-05	seed	\N
683c5f3d-9345-4666-91ce-43c9d9e8c2a1	RenderBlockV1	1.0	type	accepted	{"$id": "schema:RenderBlockV1", "type": "object", "title": "Render Block V1", "required": ["type", "data"], "properties": {"key": {"type": "string"}, "data": {"type": "object"}, "type": {"type": "string", "pattern": "^schema:[A-Za-z0-9._-]+$"}}, "additionalProperties": false}	a6ce8b1c382badc5a9fdd7146a58d7eaea848d20f0ed26a5377c613492788eee	{"adrs": ["ADR-033"], "policies": []}	2026-01-09 21:17:09.298481-05	seed	\N
ac908f96-7dba-4119-8794-11b354b0f687	RenderActionV1	1.0	type	accepted	{"$id": "schema:RenderActionV1", "type": "object", "title": "Render Action V1", "required": ["id", "label", "method", "href"], "properties": {"id": {"type": "string", "minLength": 1}, "href": {"type": "string", "minLength": 1}, "label": {"type": "string", "minLength": 1}, "method": {"enum": ["GET", "POST", "PUT", "PATCH", "DELETE"], "type": "string"}}, "additionalProperties": false}	5962c8f37407b6bb5db5928c98f5fcdfe8ec0a92b38858eb15b4222cc931c1de	{"adrs": ["ADR-033"], "policies": []}	2026-01-09 21:17:09.300922-05	seed	\N
712dd363-24df-4f90-bef5-768ba4c721ec	CanonicalComponentV1	1.0	document	accepted	{"$id": "schema:CanonicalComponentV1", "type": "object", "title": "Canonical Component Specification", "$schema": "https://json-schema.org/draft/2020-12/schema", "required": ["component_id", "schema_id", "generation_guidance", "view_bindings"], "properties": {"schema_id": {"type": "string", "pattern": "^schema:[A-Za-z0-9._-]+$", "description": "Reference to canonical schema (e.g., schema:OpenQuestionV1)"}, "component_id": {"type": "string", "pattern": "^component:[A-Za-z0-9._-]+:[0-9]+\\\\.[0-9]+\\\\.[0-9]+$", "description": "Canonical component ID with semver (e.g., component:OpenQuestionV1:1.0.0)"}, "view_bindings": {"type": "object", "description": "Channel-specific fragment bindings", "additionalProperties": {"type": "object", "properties": {"fragment_id": {"type": "string", "description": "Canonical fragment ID for this channel"}}, "additionalProperties": false}}, "generation_guidance": {"type": "object", "required": ["bullets"], "properties": {"bullets": {"type": "array", "items": {"type": "string"}, "minItems": 1, "description": "Prompt generation bullets for LLM"}}, "additionalProperties": false}}, "description": "Defines a reusable component with schema, prompt guidance, and view bindings.", "additionalProperties": false}	7ab4cf1b340df029fc55ab7418ee7aed151b9f69fb714a324888df1233623d1b	{"adrs": ["ADR-034"], "policies": []}	2026-01-09 21:17:09.303111-05	seed	\N
43fe6ff9-f575-478f-8ab1-d473fe6b3c68	DocumentDefinitionV2	1.0	document	accepted	{"$id": "schema:DocumentDefinitionV2", "type": "object", "title": "Document Definition V2", "$schema": "https://json-schema.org/draft/2020-12/schema", "required": ["document_def_id", "prompt_header", "sections"], "properties": {"sections": {"type": "array", "items": {"type": "object", "required": ["section_id", "title", "order", "component_id", "shape", "source_pointer"], "properties": {"order": {"type": "integer", "minimum": 0, "description": "Section ordering"}, "shape": {"enum": ["single", "list", "nested_list"], "type": "string", "description": "How component data is structured"}, "title": {"type": "string", "minLength": 1, "description": "Section title"}, "context": {"type": "object", "description": "Context mappings from parent to child", "additionalProperties": {"type": "string", "pattern": "^/.*$"}}, "section_id": {"type": "string", "minLength": 1, "description": "Unique section identifier"}, "description": {"type": "string", "description": "Section description"}, "repeat_over": {"type": "string", "pattern": "^/.*$", "description": "JSON pointer for nested_list parent iteration"}, "component_id": {"type": "string", "pattern": "^component:[A-Za-z0-9._-]+:[0-9]+\\\\.[0-9]+\\\\.[0-9]+$", "description": "Reference to canonical component"}, "source_pointer": {"type": "string", "pattern": "^/.*$", "description": "JSON pointer to data source"}}, "additionalProperties": false}, "description": "Ordered list of document sections"}, "prompt_header": {"type": "object", "properties": {"role": {"type": "string", "description": "Role context for LLM"}, "constraints": {"type": "array", "items": {"type": "string"}, "description": "Generation constraints"}}, "additionalProperties": false}, "document_def_id": {"type": "string", "pattern": "^docdef:[A-Za-z0-9._-]+:[0-9]+\\\\.[0-9]+\\\\.[0-9]+$", "description": "Canonical document definition ID with semver"}, "document_schema_id": {"type": "string", "pattern": "^schema:[A-Za-z0-9._-]+$", "description": "Optional reference to document-level schema"}}, "description": "Composes canonical components into a document structure.", "additionalProperties": false}	58ccab0bff9fbb4f2124a5c8e7ffb7b6498ea3dc505a54227509f07c63a99fd5	{"adrs": ["ADR-034"], "policies": []}	2026-01-09 21:17:09.305862-05	seed	\N
0ff59b0a-150c-4a80-9083-ae5c0369af20	OpenQuestionsBlockV1	1.0	type	accepted	{"$id": "schema:OpenQuestionsBlockV1", "type": "object", "title": "Open Questions Block", "$schema": "https://json-schema.org/draft/2020-12/schema", "required": ["items"], "properties": {"items": {"type": "array", "items": {"$ref": "schema:OpenQuestionV1"}, "description": "List of open questions"}, "total_count": {"type": "integer", "minimum": 0, "description": "Total count of questions (derived, non-authoritative)"}, "blocking_count": {"type": "integer", "minimum": 0, "description": "Count of blocking questions (derived, non-authoritative)"}}, "description": "Container block for a list of open questions within a section context.", "additionalProperties": false}	8f92eaef0d97670077ae23ed12632d21b8273c7d45904540ce38d0fa196632bf	{"adrs": ["ADR-034"], "policies": []}	2026-01-09 21:17:09.307905-05	seed	\N
14529940-e0a4-4e0c-8823-915ebb163a8c	StoryV1	1.0	type	accepted	{"$id": "schema:StoryV1", "type": "object", "title": "Story", "$schema": "https://json-schema.org/draft/2020-12/schema", "required": ["id", "epic_id", "title", "description", "status"], "properties": {"id": {"type": "string", "minLength": 1, "description": "Stable story identifier"}, "tags": {"type": "array", "items": {"type": "string"}, "default": [], "description": "Optional categorization tags"}, "notes": {"type": "string", "description": "Additional context / notes"}, "title": {"type": "string", "minLength": 2, "description": "Short story title"}, "status": {"enum": ["draft", "ready", "in_progress", "blocked", "done"], "type": "string", "default": "draft", "description": "Workflow status"}, "epic_id": {"type": "string", "minLength": 1, "description": "Parent epic identifier (reference, must match parent when nested)"}, "description": {"type": "string", "minLength": 2, "description": "Story description"}, "acceptance_criteria": {"type": "array", "items": {"type": "string", "minLength": 2}, "default": [], "description": "User-validated acceptance criteria"}}, "description": "A story linked to an epic via epic_id (flatten-first canonical reference).", "additionalProperties": false}	510164dc73f018cc9b37563bd6ec8ea2c35996a2445c152ead782891e178aaf4	{"adrs": ["ADR-034"], "policies": []}	2026-01-09 21:17:09.309903-05	seed	\N
2b780726-4cc0-4765-b6d5-9562835a6373	StringListBlockV1	1.0	type	accepted	{"$id": "schema:StringListBlockV1", "type": "object", "title": "String List Block", "$schema": "https://json-schema.org/draft/2020-12/schema", "required": ["items"], "properties": {"items": {"type": "array", "items": {"type": "string"}, "description": "List of string items"}, "style": {"enum": ["bullet", "numbered", "check"], "type": "string", "default": "bullet", "description": "Rendering style for the list"}, "title": {"type": "string", "description": "Optional title for the list section"}}, "description": "Generic container block for rendering simple string lists.", "additionalProperties": false}	2b441dd3cdd2b03208b9b5a243319c1df1f9ecc470de1e39901374889ac3a916	{"adrs": ["ADR-034"], "policies": []}	2026-01-09 21:17:09.312084-05	seed	\N
362b1ce0-e9fe-4d69-beaf-e9e2be1b8122	SummaryBlockV1	1.0	type	accepted	{"$id": "schema:SummaryBlockV1", "type": "object", "title": "Summary Block", "$schema": "https://json-schema.org/draft/2020-12/schema", "properties": {"architectural_intent": {"type": "string", "description": "High-level architectural direction"}, "problem_understanding": {"type": "string", "description": "Understanding of the problem space"}, "scope_pressure_points": {"type": "string", "description": "Areas where scope may expand or contract"}}, "description": "Multi-field summary block for document headers.", "additionalProperties": false}	fe73de9222a49179a6771e51dda631f9a73d0ed7c4a87f5639acd5d6f4c4c74f	{"adrs": ["ADR-034"], "policies": []}	2026-01-09 21:17:09.313919-05	seed	\N
a653ae80-d95e-461a-b1bb-c452a59291b3	RisksBlockV1	1.0	type	accepted	{"$id": "schema:RisksBlockV1", "type": "object", "title": "Risks Block", "$schema": "https://json-schema.org/draft/2020-12/schema", "required": ["items"], "properties": {"items": {"type": "array", "items": {"$ref": "schema:RiskV1"}, "description": "Risks to render in this block"}, "title": {"type": "string", "description": "Optional title override"}}, "description": "Container block for rendering risk lists.", "additionalProperties": false}	5f9ea8a59c15c61284288613bf100689df3776c1346692b614e06047c81c2580	{"adrs": ["ADR-034"], "policies": []}	2026-01-09 21:17:09.315617-05	seed	\N
f00cfafa-b118-4752-8a39-6fe87c26c714	ParagraphBlockV1	1.0	type	accepted	{"$id": "schema:ParagraphBlockV1", "type": "object", "title": "Paragraph Block", "$schema": "https://json-schema.org/draft/2020-12/schema", "properties": {"value": {"type": "string", "description": "Alternative field name for content (builder compatibility)"}, "content": {"type": "string", "description": "The paragraph text content"}, "detail_ref": {"$ref": "schema:DocumentRefV1", "description": "Optional reference to detail view"}}, "description": "Simple paragraph text block for narrative content.", "additionalProperties": false}	b38217e0bf4805e4501575606a8a0414a301001c5c6eba60fdb46b17d2537a48	{"adrs": ["ADR-034"], "policies": []}	2026-01-09 21:17:09.31782-05	seed	\N
0d6920ea-d3a0-4a46-ad81-d2e06d8a77ce	IndicatorBlockV1	1.0	type	accepted	{"$id": "schema:IndicatorBlockV1", "type": "object", "title": "Indicator Block", "$schema": "https://json-schema.org/draft/2020-12/schema", "required": ["value"], "properties": {"label": {"type": "string", "description": "Optional label for the indicator"}, "value": {"type": "string", "description": "The indicator value (e.g., low, medium, high)"}}, "description": "Simple indicator block for derived values like risk level.", "additionalProperties": false}	38c9f40cac9f4740da6877892b5f4728c8a032da5ee1998f0c40bba8c4aa8412	{"adrs": ["ADR-034"], "policies": []}	2026-01-09 21:17:09.319542-05	seed	\N
52534947-72d2-422a-aba1-516de6e28313	EpicSummaryBlockV1	1.0	type	accepted	{"$id": "schema:EpicSummaryBlockV1", "type": "object", "title": "Epic Summary Block", "$schema": "https://json-schema.org/draft/2020-12/schema", "required": ["title"], "properties": {"phase": {"type": "string", "description": "MVP phase indicator"}, "title": {"type": "string", "description": "Epic title"}, "intent": {"type": "string", "description": "One-paragraph intent/vision"}, "epic_id": {"type": "string", "description": "Epic identifier"}, "detail_ref": {"$ref": "schema:DocumentRefV1", "description": "Reference to EpicDetailView"}, "risk_level": {"enum": ["low", "medium", "high"], "type": "string", "description": "Derived aggregate risk level"}}, "description": "Compact epic summary for backlog views. Intentionally lossy.", "additionalProperties": false}	848c1128d8b8f1414193d8291493cc831ae0ab67c6a6c2f921e825b8ee60e224	{"adrs": ["ADR-034"], "policies": []}	2026-01-09 21:17:09.321452-05	seed	\N
37686e93-3e19-4388-a8ab-a71682d7c99e	DependenciesBlockV1	1.0	type	accepted	{"$id": "schema:DependenciesBlockV1", "type": "object", "title": "Dependencies Block", "$schema": "https://json-schema.org/draft/2020-12/schema", "required": ["items"], "properties": {"items": {"type": "array", "items": {"$ref": "schema:DependencyV1"}, "description": "Dependencies to render in this block"}, "title": {"type": "string", "description": "Optional title override"}}, "description": "Container block for rendering dependency lists.", "additionalProperties": false}	315f059ae49c82b0d6de0dc11c4f91dc40fba5ec6df46140239e629f108c7e07	{"adrs": ["ADR-034"], "policies": []}	2026-01-09 21:17:09.323123-05	seed	\N
b9944a65-584d-4340-8cb7-d60c1bb7063e	DocumentRefV1	1.0	type	accepted	{"$id": "schema:DocumentRefV1", "type": "object", "title": "Document Reference", "$schema": "https://json-schema.org/draft/2020-12/schema", "required": ["document_type"], "properties": {"params": {"type": "object", "description": "Parameters to resolve the target document (e.g., {epic_id: 'AUTH-100'})", "additionalProperties": {"type": "string"}}, "document_type": {"type": "string", "description": "Target docdef type (e.g., EpicDetailView, EpicArchitectureView)"}}, "description": "Frozen reference to another document view. Used in summary views for detail links.", "additionalProperties": false}	d93773986b1bd49bb71f85d02d9fd3d4fa6c10097e10d521ef746c8c94f9de73	{"adrs": ["ADR-034"], "policies": ["SUMMARY_VIEW_CONTRACT"]}	2026-01-09 21:17:09.324939-05	seed	\N
5bf6b0f9-f463-4216-9425-38ffdc0d8643	StorySummaryBlockV1	1.0	type	accepted	{"$id": "schema:StorySummaryBlockV1", "type": "object", "title": "Story Summary Block", "$schema": "https://json-schema.org/draft/2020-12/schema", "required": ["story_id", "title", "intent", "detail_ref"], "properties": {"phase": {"enum": ["mvp", "later"], "type": "string", "description": "Story phase indicator"}, "title": {"type": "string", "minLength": 1, "description": "Story title for scanning"}, "intent": {"type": "string", "minLength": 2, "description": "Short intent (1-2 sentences)"}, "story_id": {"type": "string", "minLength": 1, "description": "Stable story identifier"}, "detail_ref": {"$ref": "schema:DocumentRefV1", "description": "Reference to StoryDetailView (required)"}, "risk_level": {"enum": ["low", "medium", "high"], "type": "string", "description": "Derived risk level (optional, omit if no risks)"}}, "description": "Lossy story summary for backlog views. Intentionally excludes acceptance_criteria, scope, dependencies, questions, notes.", "additionalProperties": false}	067dbe13b2027748591d271c0aadb578506cbbc75b05b15685c478217fc4d9d3	{"adrs": ["ADR-034"], "policies": ["SUMMARY_VIEW_CONTRACT"]}	2026-01-09 21:17:09.326531-05	seed	\N
629812b7-5a1f-424c-aa9b-7d67f1e07e12	StoriesBlockV1	1.0	type	accepted	{"$id": "schema:StoriesBlockV1", "type": "object", "title": "Stories Block", "$schema": "https://json-schema.org/draft/2020-12/schema", "required": ["items"], "properties": {"items": {"type": "array", "items": {"$ref": "schema:StorySummaryBlockV1"}, "description": "Story summaries in this container"}}, "description": "Container block for story summaries within an epic.", "additionalProperties": false}	6710380724e0417ba92710e179fd73928e4d09d2afcec80694f959e8141c204d	{"adrs": ["ADR-034"], "policies": []}	2026-01-09 21:17:09.328148-05	seed	\N
30b14ffe-142d-4af6-90fa-a97dd83e2378	ArchComponentBlockV1	1.0	type	accepted	{"$id": "schema:ArchComponentBlockV1", "type": "object", "title": "Architecture Component Block", "$schema": "https://json-schema.org/draft/2020-12/schema", "required": ["id", "name"], "properties": {"id": {"type": "string"}, "name": {"type": "string"}, "layer": {"type": "string"}, "purpose": {"type": "string"}, "mvp_phase": {"type": "string"}, "responsibilities": {"type": "array", "items": {"type": "string"}}, "technology_choices": {"type": "array", "items": {"type": "string"}}, "depends_on_components": {"type": "array", "items": {"type": "string"}}}, "description": "An architecture component with layer, purpose, and dependencies.", "additionalProperties": true}	08fa9e3e38f38eba8e4b9fe62d55f7a21dfe41edd4760f402594727fd91c3010	{"adrs": ["ADR-034"], "policies": []}	2026-01-09 21:17:09.329779-05	seed	\N
c69aa17f-e80b-47c8-8ba9-f70aff14bfaa	QualityAttributeBlockV1	1.0	type	accepted	{"$id": "schema:QualityAttributeBlockV1", "type": "object", "title": "Quality Attribute Block", "$schema": "https://json-schema.org/draft/2020-12/schema", "required": ["name"], "properties": {"name": {"type": "string"}, "target": {"type": "string"}, "rationale": {"type": "string"}, "acceptance_criteria": {"type": "array", "items": {"type": "string"}}}, "description": "A quality attribute with target, rationale, and acceptance criteria.", "additionalProperties": true}	06de6c6bf8b6280d1c315457e43535e48015e3581afdcb4e0c9a015abe103d13	{"adrs": ["ADR-034"], "policies": []}	2026-01-09 21:17:09.331377-05	seed	\N
68a5bdee-d4c2-43ad-be17-dbbdd80ecac6	InterfaceBlockV1	1.0	type	accepted	{"$id": "schema:InterfaceBlockV1", "type": "object", "title": "Interface Block", "$schema": "https://json-schema.org/draft/2020-12/schema", "required": ["id", "name"], "properties": {"id": {"type": "string"}, "name": {"type": "string"}, "type": {"type": "string"}, "protocol": {"type": "string"}, "endpoints": {"type": "array", "items": {"type": "object", "properties": {"path": {"type": "string"}, "method": {"type": "string"}, "description": {"type": "string"}, "error_cases": {"type": "array", "items": {"type": "string"}}, "idempotency": {"type": "string"}, "request_schema": {"type": "string"}, "response_schema": {"type": "string"}}}}, "description": {"type": "string"}, "authorization": {"type": "string"}, "authentication": {"type": "string"}, "consumer_components": {"type": "array", "items": {"type": "string"}}, "producer_components": {"type": "array", "items": {"type": "string"}}}, "description": "An API interface with endpoints.", "additionalProperties": true}	33a9d106fa065222755a140a3b696d4c8cf82e618b76dfd0bab5f98c980cc06f	{"adrs": ["ADR-034"], "policies": []}	2026-01-09 21:17:09.33306-05	seed	\N
d03e09b7-9e05-4b43-8047-a527d463bb22	WorkflowBlockV1	1.0	type	accepted	{"$id": "schema:WorkflowBlockV1", "type": "object", "title": "Workflow Block", "$schema": "https://json-schema.org/draft/2020-12/schema", "required": ["id", "name"], "properties": {"id": {"type": "string"}, "name": {"type": "string"}, "steps": {"type": "array", "items": {"type": "object", "properties": {"actor": {"type": "string"}, "notes": {"type": "array", "items": {"type": "string"}}, "order": {"type": "integer"}, "action": {"type": "string"}, "inputs": {"type": "array", "items": {"type": "string"}}, "outputs": {"type": "array", "items": {"type": "string"}}}}}, "trigger": {"type": "string"}, "description": {"type": "string"}}, "description": "A workflow with trigger and steps.", "additionalProperties": true}	0186214f0df5acfa7796100937641bdce731e1c651b884efad444c21c6fcf8c5	{"adrs": ["ADR-034"], "policies": []}	2026-01-09 21:17:09.335364-05	seed	\N
891f9ce2-f804-4201-83cd-6bd400a6b790	DataModelBlockV1	1.0	type	accepted	{"$id": "schema:DataModelBlockV1", "type": "object", "title": "Data Model Block", "$schema": "https://json-schema.org/draft/2020-12/schema", "required": ["name"], "properties": {"name": {"type": "string"}, "fields": {"type": "array", "items": {"type": "object", "properties": {"name": {"type": "string"}, "type": {"type": "string"}, "notes": {"type": "array", "items": {"type": "string"}}, "required": {"type": "boolean"}, "validation_rules": {"type": "array", "items": {"type": "string"}}}}}, "description": {"type": "string"}, "primary_keys": {"type": "array", "items": {"type": "string"}}, "relationships": {"type": "array"}}, "description": "A data model entity with fields.", "additionalProperties": true}	5fc7799d4e998d5fe61f6d5b6ffc4a8b28fdcb8f5b19375e40e03e40d0d10648	{"adrs": ["ADR-034"], "policies": []}	2026-01-09 21:17:09.337137-05	seed	\N
0552932e-9388-4097-a5be-0bbd6cd01b59	EpicStoriesCardBlockV1	1.0	type	accepted	{"$id": "schema:EpicStoriesCardBlockV1", "type": "object", "title": "Epic Stories Card Block", "$schema": "https://json-schema.org/draft/2020-12/schema", "required": ["epic_id", "name", "stories"], "properties": {"name": {"type": "string", "minLength": 1, "description": "Epic display name"}, "phase": {"enum": ["mvp", "later"], "type": "string", "description": "MVP or later phase"}, "intent": {"type": "string", "description": "Brief description of what the epic achieves"}, "epic_id": {"type": "string", "minLength": 1, "description": "Unique epic identifier"}, "stories": {"type": "array", "items": {"type": "object", "required": ["story_id", "title", "intent", "phase"], "properties": {"phase": {"enum": ["mvp", "later"], "type": "string", "description": "MVP or later phase"}, "title": {"type": "string", "minLength": 1, "description": "Story title"}, "intent": {"type": "string", "minLength": 1, "description": "Brief story intent"}, "story_id": {"type": "string", "minLength": 1, "description": "Story identifier (non-empty, no rigid format)"}, "detail_ref": {"type": "object", "properties": {"params": {"type": "object"}, "document_type": {"type": "string"}}, "description": "Reference to StoryDetailView"}, "risk_level": {"enum": ["low", "medium", "high"], "type": "string", "description": "Optional risk level"}}}, "description": "Array of StorySummary items (empty allowed)"}, "detail_ref": {"type": "object", "properties": {"params": {"type": "object"}, "document_type": {"type": "string"}}, "description": "Reference to EpicDetailView"}, "risk_level": {"enum": ["low", "medium", "high"], "type": "string", "description": "Derived or provided risk level"}}, "description": "View projection for an epic card with nested story summaries. NOT canonical storage.", "additionalProperties": true}	f98d693847f017868f9c2c8dcd3b1cca388c2e9f5560138e34ef71890977a516	{"adrs": ["ADR-034"], "policies": ["WS-STORY-BACKLOG-VIEW"]}	2026-01-09 21:17:09.338747-05	seed	\N
\.
COPY public.fragment_artifacts (id, fragment_id, version, schema_type_id, status, fragment_markup, sha256, created_at, created_by, updated_at) FROM stdin;
7abed95c-088c-448f-9a5b-80dbd720ca26	fragment:OpenQuestionV1:web:1.0.0	1.0	OpenQuestionV1	accepted	<div class="open-question {% if item.blocking %}open-question--blocking{% endif %}" data-question-id="{{ item.id }}">\n  <div class="open-question__header">\n    <span class="open-question__text">{{ item.text }}</span>\n    {% if item.blocking %}\n    <span class="open-question__badge open-question__badge--blocking">Blocking</span>\n    {% endif %}\n    {% if item.priority %}\n    <span class="open-question__badge open-question__badge--{{ item.priority }}">{{ item.priority | capitalize }}</span>\n    {% endif %}\n  </div>\n  {% if item.why_it_matters %}\n  <div class="open-question__why">\n    <strong>Why it matters:</strong> {{ item.why_it_matters }}\n  </div>\n  {% endif %}\n  {% if item.options and item.options | length > 0 %}\n  <div class="open-question__options">\n    <strong>Options:</strong>\n    <ul class="open-question__options-list">\n      {% for option in item.options %}\n      <li class="open-question__option">\n        <strong>{{ option.label }}</strong>\n        {% if option.description %}: {{ option.description }}{% endif %}\n      </li>\n      {% endfor %}\n    </ul>\n  </div>\n  {% endif %}\n  {% if item.notes %}\n  <div class="open-question__notes">\n    <em>{{ item.notes }}</em>\n  </div>\n  {% endif %}\n</div>	2e6ef7c3a4ba638fcd69f02e646b03803943b98345ff37a5b26afe1c4cf0fa96	2026-01-09 21:17:11.925511-05	seed	\N
d48a05c6-4dd9-4900-a664-ded77ed65d49	fragment:RiskV1:web:1.0.0	1.0	RiskV1	accepted	<div class="risk {% if item.severity == 'critical' %}risk--critical{% elif item.severity == 'high' %}risk--high{% endif %}" data-risk-id="{{ item.id }}">\n  <div class="risk__header">\n    <span class="risk__description">{{ item.description }}</span>\n    {% if item.severity %}\n    <span class="risk__badge risk__badge--{{ item.severity }}">{{ item.severity | capitalize }}</span>\n    {% endif %}\n    {% if item.likelihood %}\n    <span class="risk__badge risk__badge--likelihood">{{ item.likelihood | capitalize }} likelihood</span>\n    {% endif %}\n  </div>\n  <div class="risk__impact">\n    <strong>Impact:</strong> {{ item.impact }}\n  </div>\n  {% if item.mitigation %}\n  <div class="risk__mitigation">\n    <strong>Mitigation:</strong> {{ item.mitigation }}\n  </div>\n  {% endif %}\n  {% if item.affected_items and item.affected_items | length > 0 %}\n  <div class="risk__affected">\n    <strong>Affects:</strong> {{ item.affected_items | join(', ') }}\n  </div>\n  {% endif %}\n</div>	391fcf732b398a3267a41e89cb0b650770954ef9b3ee39ca313ca8df435c6027	2026-01-09 21:17:11.941624-05	seed	\N
b960123d-e9c3-4c62-9bc0-1bb68cdd23ad	fragment:OpenQuestionsBlockV1:web:1.0.0	1.0	OpenQuestionsBlockV1	accepted	\n<div class="open-questions-block" data-block-type="OpenQuestionsBlockV1">\n  {% if block.context %}\n  <div class="block-context text-sm text-gray-500 mb-2">\n    {% if block.context.epic_title %}Epic: {{ block.context.epic_title }}{% endif %}\n  </div>\n  {% endif %}\n  \n  <div class="questions-list space-y-4">\n    {% for item in block.data["items"] %}\n      <div class="open-question-item border-l-4 border-amber-400 pl-4 py-2">\n        <div class="question-header flex items-start gap-2">\n          <span class="question-id font-mono text-sm text-gray-500">{{ item.id }}</span>\n          {% if item.blocking %}\n          <span class="blocking-badge bg-red-100 text-red-700 text-xs px-2 py-0.5 rounded">Blocking</span>\n          {% endif %}\n        </div>\n        <p class="question-text font-medium mt-1">{{ item.text }}</p>\n        {% if item.why_it_matters %}\n        <p class="why-it-matters text-sm text-gray-600 mt-1">{{ item.why_it_matters }}</p>\n        {% endif %}\n      </div>\n    {% endfor %}\n  </div>\n  \n  {% if not block.data["items"] or block.data["items"] | length == 0 %}\n  <p class="text-gray-400 italic">No open questions.</p>\n  {% endif %}\n</div>\n	3ab945f05eb77e9247ed17bd30a3ed804c91377783208599c48500a45ebbcf67	2026-01-09 21:17:11.946135-05	seed	\N
72bdecfd-e7ef-4821-bb98-bee6103994fc	fragment:StoryV1:web:1.0.0	1.0	StoryV1	accepted	\n<div class="story-item border-l-4 border-blue-400 pl-4 py-3 bg-white rounded shadow-sm">\n  <div class="story-header flex items-center gap-2 mb-2">\n    <span class="story-id font-mono text-sm text-gray-500">{{ block.data.id }}</span>\n    <span class="story-status px-2 py-0.5 text-xs rounded \n      {% if block.data.status == 'done' %}bg-green-100 text-green-700\n      {% elif block.data.status == 'blocked' %}bg-red-100 text-red-700\n      {% elif block.data.status == 'in_progress' %}bg-yellow-100 text-yellow-700\n      {% elif block.data.status == 'ready' %}bg-blue-100 text-blue-700\n      {% else %}bg-gray-100 text-gray-600{% endif %}">\n      {{ block.data.status }}\n    </span>\n  </div>\n  <h4 class="story-title font-medium text-gray-900">{{ block.data.title }}</h4>\n  <p class="story-description text-sm text-gray-600 mt-1">{{ block.data.description }}</p>\n  {% if block.data.acceptance_criteria %}\n  <div class="acceptance-criteria mt-2">\n    <span class="text-xs font-medium text-gray-500">Acceptance Criteria:</span>\n    <ul class="list-disc list-inside text-sm text-gray-600 mt-1">\n      {% for criterion in block.data.acceptance_criteria %}\n      <li>{{ criterion }}</li>\n      {% endfor %}\n    </ul>\n  </div>\n  {% endif %}\n  {% if block.data.notes %}\n  <p class="story-notes text-xs text-gray-500 mt-2 italic">{{ block.data.notes }}</p>\n  {% endif %}\n</div>\n	d480aa10a0c37d5e4b85723144b28e4b2b0d8ce0231d359fc352b0cb0bdcb5e4	2026-01-09 21:17:11.949983-05	seed	\N
00797d3e-79ae-4feb-9a22-9f9cb3a93455	fragment:StoriesBlockV1:web:1.0.0	1.0	StoriesBlockV1	accepted	\n<div class="stories-block" data-block-type="StoriesBlockV1">\n  {% if block.context and block.context.epic_title %}\n  <h3 class="text-lg font-semibold text-gray-900 mb-3">{{ block.context.epic_title }}</h3>\n  {% endif %}\n  \n  <div class="space-y-2">\n    {% for item in block.data["items"] %}\n    <div class="story-summary-card p-3 border border-gray-200 rounded-lg hover:border-blue-300 transition-colors">\n      <div class="flex items-start justify-between gap-2">\n        <div class="flex-1 min-w-0">\n          <p class="font-medium text-gray-900">{{ item.title }}</p>\n          <p class="text-sm text-gray-600 mt-1 line-clamp-2">{{ item.intent }}</p>\n          <div class="flex items-center gap-2 mt-2">\n            {% if item.phase %}\n            <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium\n              {% if item.phase == 'mvp' %}bg-blue-100 text-blue-800{% else %}bg-gray-100 text-gray-600{% endif %}">\n              {{ item.phase | upper }}\n            </span>\n            {% endif %}\n            {% if item.risk_level %}\n            <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium\n              {% if item.risk_level == 'high' %}bg-red-100 text-red-800\n              {% elif item.risk_level == 'medium' %}bg-amber-100 text-amber-800\n              {% else %}bg-green-100 text-green-800{% endif %}">\n              {{ item.risk_level }} risk\n            </span>\n            {% endif %}\n          </div>\n        </div>\n        {% if item.detail_ref %}\n        <a href="#" class="text-blue-600 hover:text-blue-800 text-xs flex-shrink-0"\n           data-detail-ref="{{ item.detail_ref | tojson }}">\n          View ΓåÆ\n        </a>\n        {% endif %}\n      </div>\n    </div>\n    {% endfor %}\n  </div>\n  \n  {% if not block.data["items"] or block.data["items"] | length == 0 %}\n  <p class="text-gray-400 italic text-sm">No stories.</p>\n  {% endif %}\n</div>\n	8a998d324448c19938be3329793a16bdca524bd63281eeb4a2b46698ce2f1cca	2026-01-09 21:17:11.954224-05	seed	\N
521a0ff9-50f5-4b60-88ff-490214571242	fragment:StringListBlockV1:web:1.0.0	1.0	StringListBlockV1	accepted	\n<div class="string-list-block" data-block-type="StringListBlockV1">\n  {# Title handled by section header - don't duplicate #}\n  {% set style = block.context.style | default(block.data.style) | default('bullet') %}\n  \n  {% if style == 'numbered' %}\n  <ol class="list-decimal list-inside space-y-2 text-gray-700">\n    {% for item in block.data["items"] %}\n    <li>{{ item.value if item is mapping else item }}</li>\n    {% endfor %}\n  </ol>\n  {% elif style == 'check' %}\n  <ul class="space-y-2">\n    {% for item in block.data["items"] %}\n    <li class="flex items-start">\n      <svg class="w-5 h-5 text-green-500 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">\n        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>\n      </svg>\n      <span class="text-gray-700">{{ item.value if item is mapping else item }}</span>\n    </li>\n    {% endfor %}\n  </ul>\n  {% else %}\n  <ul class="list-disc list-inside space-y-2 text-gray-700">\n    {% for item in block.data["items"] %}\n    <li>{{ item.value if item is mapping else item }}</li>\n    {% endfor %}\n  </ul>\n  {% endif %}\n  \n  {% if not block.data["items"] or block.data["items"] | length == 0 %}\n  <p class="text-gray-400 italic">No items.</p>\n  {% endif %}\n</div>\n	ffd37b81614dfdc872cef3048d96f49e8669093a12033c48e47a27feef30c740	2026-01-09 21:17:11.958394-05	seed	\N
2a88800a-794d-4155-99f2-2440a89a74af	fragment:SummaryBlockV1:web:1.0.0	1.0	SummaryBlockV1	accepted	\n<div class="summary-block bg-blue-50 rounded-lg p-4 space-y-3" data-block-type="SummaryBlockV1">\n  {# ProjectDiscovery fields #}\n  {% if block.data.problem_understanding %}\n  <div>\n    <span class="text-sm font-medium text-blue-800">Problem Understanding:</span>\n    <p class="text-blue-900">{{ block.data.problem_understanding }}</p>\n  </div>\n  {% endif %}\n  \n  {% if block.data.architectural_intent %}\n  <div>\n    <span class="text-sm font-medium text-blue-800">Architectural Intent:</span>\n    <p class="text-blue-900">{{ block.data.architectural_intent }}</p>\n  </div>\n  {% endif %}\n  \n  {% if block.data.scope_pressure_points %}\n  <div>\n    <span class="text-sm font-medium text-blue-800">Scope Pressure Points:</span>\n    <p class="text-blue-900">{{ block.data.scope_pressure_points }}</p>\n  </div>\n  {% endif %}\n  \n  {# EpicBacklog epic_set_summary fields #}\n  {% if block.data.overall_intent %}\n  <div>\n    <span class="text-sm font-medium text-blue-800">Overall Intent:</span>\n    <p class="text-blue-900">{{ block.data.overall_intent }}</p>\n  </div>\n  {% endif %}\n  \n  {% if block.data.mvp_definition %}\n  <div>\n    <span class="text-sm font-medium text-blue-800">MVP Definition:</span>\n    <p class="text-blue-900">{{ block.data.mvp_definition }}</p>\n  </div>\n  {% endif %}\n  \n  {# Architecture Summary fields #}\n  {% if block.data.title %}\n  <div>\n    <h3 class="text-lg font-semibold text-blue-900">{{ block.data.title }}</h3>\n  </div>\n  {% endif %}\n  \n  {% if block.data.architectural_style %}\n  <div>\n    <span class="text-sm font-medium text-blue-800">Architectural Style:</span>\n    <p class="text-blue-900">{{ block.data.architectural_style }}</p>\n  </div>\n  {% endif %}\n  \n  {% if block.data.refined_description %}\n  <div>\n    <span class="text-sm font-medium text-blue-800">Description:</span>\n    <p class="text-blue-900">{{ block.data.refined_description }}</p>\n  </div>\n  {% endif %}\n</div>\n	503c225ad7edaad5290ba0c036d9138feeb492cf07044ffeb6a6233e7c2eb37d	2026-01-09 21:17:11.962236-05	seed	\N
3ac992de-a966-487a-8899-e6bc8b8bb97c	fragment:RisksBlockV1:web:1.0.0	1.0	RisksBlockV1	accepted	\n<div class="risks-block" data-block-type="RisksBlockV1">\n  {# Title handled by section header - don't duplicate #}\n  <div class="space-y-3">\n    {% for item in block.data["items"] %}\n      {% set likelihood = item.likelihood | default('medium') %}\n      {% if likelihood == 'high' %}\n        {% set border_class = 'border-red-400 bg-red-50' %}\n        {% set badge_class = 'bg-red-100 text-red-700' %}\n      {% elif likelihood == 'medium' %}\n        {% set border_class = 'border-amber-400 bg-amber-50' %}\n        {% set badge_class = 'bg-amber-100 text-amber-700' %}\n      {% else %}\n        {% set border_class = 'border-gray-300 bg-gray-50' %}\n        {% set badge_class = 'bg-gray-100 text-gray-700' %}\n      {% endif %}\n      \n      <div class="border-l-4 {{ border_class }} p-4 rounded-r-lg">\n        <div class="flex items-center justify-between mb-1">\n          <p class="font-medium text-gray-900">{{ item.description }}</p>\n          {% if item.likelihood %}\n          <span class="px-2 py-0.5 text-xs font-medium rounded {{ badge_class }}">\n            {{ likelihood | title }}\n          </span>\n          {% endif %}\n        </div>\n        {% if item.impact %}\n        <p class="text-sm text-gray-600">{{ item.impact }}</p>\n        {% endif %}\n        {% if item.affected_epics and item.affected_epics | length > 0 %}\n        <p class="text-xs text-gray-500 mt-2">\n          Affects: {{ item.affected_epics | join(', ') }}\n        </p>\n        {% endif %}\n      </div>\n    {% endfor %}\n  </div>\n  \n  {% if not block.data["items"] or block.data["items"] | length == 0 %}\n  <p class="text-gray-400 italic">No risks identified.</p>\n  {% endif %}\n</div>\n	ef1d90389ceb95bad27e44a026b9b6192f3089e86fab462695a4971f9d9e92ed	2026-01-09 21:17:11.96617-05	seed	\N
043c1663-7741-49eb-baa9-11b85c641062	fragment:ParagraphBlockV1:web:1.0.0	1.0	ParagraphBlockV1	accepted	\n<div class="paragraph-block" data-block-type="ParagraphBlockV1">\n  {% if block.context and block.context.title %}\n  <h3 class="text-lg font-semibold text-gray-900 mb-2">{{ block.context.title }}</h3>\n  {% endif %}\n  \n  {% set text = block.data.content or block.data.value or block.data %}\n  {% if text is string %}\n  <p class="text-gray-700 leading-relaxed">{{ text }}</p>\n  {% elif text is mapping and text.value %}\n  <p class="text-gray-700 leading-relaxed">{{ text.value }}</p>\n  {% else %}\n  <p class="text-gray-400 italic">No content.</p>\n  {% endif %}\n</div>\n	6f3e7da288d2704fb151f5cb6f3e935ff3c7f248bc7771cf1d31da81d2299d7c	2026-01-09 21:17:11.970768-05	seed	\N
8b0c2838-4816-4a50-bf68-3f95fcaf1cd6	fragment:IndicatorBlockV1:web:1.0.0	1.0	IndicatorBlockV1	accepted	\n<div class="indicator-block inline-flex items-center gap-2" data-block-type="IndicatorBlockV1">\n  {% if block.context and block.context.title %}\n  <span class="text-sm text-gray-600">{{ block.context.title }}:</span>\n  {% endif %}\n  \n  {% set value = block.data.value | default('unknown') %}\n  {% if value == 'high' %}\n  <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800">\n    {{ value | title }}\n  </span>\n  {% elif value == 'medium' %}\n  <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-amber-100 text-amber-800">\n    {{ value | title }}\n  </span>\n  {% elif value == 'low' %}\n  <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">\n    {{ value | title }}\n  </span>\n  {% else %}\n  <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800">\n    {{ value | title }}\n  </span>\n  {% endif %}\n</div>\n	70a795fc94b1c76af11c23272c22ef016a3b26160aa7f01a5012afd46024a8fd	2026-01-09 21:17:11.974499-05	seed	\N
e21aa91a-cb15-47ae-9854-ac9ae9d2065a	fragment:EpicSummaryBlockV1:web:1.0.0	1.0	EpicSummaryBlockV1	accepted	\n<div class="epic-summary-block border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-colors" data-block-type="EpicSummaryBlockV1" data-epic-id="{{ block.data.epic_id | default(block.context.epic_id) }}">\n  <div class="flex items-start justify-between gap-4">\n    <div class="flex-1 min-w-0">\n      <!-- Title -->\n      <h3 class="text-lg font-semibold text-gray-900 truncate">\n        {{ block.data.name | default(block.data.title) | default('Untitled Epic') }}\n      </h3>\n      \n      <!-- Intent (truncated) -->\n      {% if block.data.intent or block.data.vision %}\n      <p class="text-sm text-gray-600 mt-1 line-clamp-2">\n        {{ block.data.intent | default(block.data.vision) }}\n      </p>\n      {% endif %}\n    </div>\n    \n    <div class="flex items-center gap-3 flex-shrink-0">\n      <!-- Phase Badge -->\n      {% if block.data.mvp_phase %}\n      <span class="inline-flex items-center px-2 py-1 rounded text-xs font-medium \n        {% if block.data.mvp_phase == 'mvp' %}bg-blue-100 text-blue-800{% else %}bg-gray-100 text-gray-600{% endif %}">\n        {{ block.data.mvp_phase | upper }}\n      </span>\n      {% endif %}\n      \n      <!-- Risk Level Indicator -->\n      {% set risk = block.data.risk_level | default('low') %}\n      <span class="inline-flex items-center px-2 py-1 rounded text-xs font-medium\n        {% if risk == 'high' %}bg-red-100 text-red-800\n        {% elif risk == 'medium' %}bg-amber-100 text-amber-800\n        {% else %}bg-green-100 text-green-800{% endif %}">\n        {{ risk | title }} Risk\n      </span>\n    </div>\n  </div>\n  \n  <!-- Detail Link -->\n  {% if block.data.detail_ref %}\n  <div class="mt-3 pt-3 border-t border-gray-100">\n    <a href="#" class="text-sm text-blue-600 hover:text-blue-800 font-medium"\n       data-detail-ref="{{ block.data.detail_ref | tojson }}">\n      View Details ΓåÆ\n    </a>\n  </div>\n  {% endif %}\n</div>\n	40baafd3a6dfa33d84576ad31198b34ccf973d47111185075d339b4477f8f388	2026-01-09 21:17:11.978612-05	seed	\N
ce480cf2-1f9d-4c94-93a8-938c13891bb9	fragment:DependenciesBlockV1:web:1.0.0	1.0	DependenciesBlockV1	accepted	\n<div class="dependencies-block" data-block-type="DependenciesBlockV1">\n  {# Title handled by section header - don't duplicate #}\n  <div class="space-y-2">\n    {% for item in block.data["items"] %}\n    <div class="flex items-start gap-3 p-3 border border-gray-200 rounded-lg {% if item.blocking %}bg-amber-50 border-amber-200{% else %}bg-gray-50{% endif %}">\n      <!-- Blocking indicator -->\n      {% if item.blocking %}\n      <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-amber-100 text-amber-800 flex-shrink-0">\n        Blocking\n      </span>\n      {% else %}\n      <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-600 flex-shrink-0">\n        Optional\n      </span>\n      {% endif %}\n      \n      <div class="flex-1 min-w-0">\n        <!-- Target -->\n        <p class="font-medium text-gray-900">\n          {% if item.depends_on_type %}{{ item.depends_on_type }}:{% endif %}{{ item.depends_on_id }}\n        </p>\n        \n        <!-- Reason -->\n        <p class="text-sm text-gray-600 mt-1">{{ item.reason }}</p>\n        \n        <!-- Notes -->\n        {% if item.notes %}\n        <p class="text-xs text-gray-500 mt-1 italic">{{ item.notes }}</p>\n        {% endif %}\n      </div>\n    </div>\n    {% endfor %}\n  </div>\n  \n  {% if not block.data["items"] or block.data["items"] | length == 0 %}\n  <p class="text-gray-400 italic">No dependencies.</p>\n  {% endif %}\n</div>\n	48f70535059402b37c7fa3a77345de0a844b28faa6ca94f131ca8bb90938c407	2026-01-09 21:17:11.98304-05	seed	\N
f9d6a590-5f15-4553-ba91-d5e8ac9ccc8b	fragment:StorySummaryBlockV1:web:1.0.0	1.0	StorySummaryBlockV1	accepted	\n<div class="story-summary-card p-3 border border-gray-200 rounded-lg hover:border-blue-300 transition-colors">\n  <div class="flex items-start justify-between gap-2">\n    <div class="flex-1 min-w-0">\n      <!-- Title -->\n      <p class="font-medium text-gray-900">{{ block.data.title }}</p>\n      \n      <!-- Intent -->\n      <p class="text-sm text-gray-600 mt-1 line-clamp-2">{{ block.data.intent }}</p>\n      \n      <!-- Badges row -->\n      <div class="flex items-center gap-2 mt-2">\n        <!-- Phase badge -->\n        {% if block.data.mvp_phase %}\n        <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium\n          {% if block.data.mvp_phase == 'mvp' %}bg-blue-100 text-blue-800{% else %}bg-gray-100 text-gray-600{% endif %}">\n          {{ block.data.phase | upper }}\n        </span>\n        {% endif %}\n        \n        <!-- Risk badge -->\n        {% if block.data.risk_level %}\n        <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium\n          {% if block.data.risk_level == 'high' %}bg-red-100 text-red-800\n          {% elif block.data.risk_level == 'medium' %}bg-amber-100 text-amber-800\n          {% else %}bg-green-100 text-green-800{% endif %}">\n          {{ block.data.risk_level }} risk\n        </span>\n        {% endif %}\n      </div>\n    </div>\n    \n    <!-- Detail link -->\n    {% if block.data.detail_ref %}\n    <a href="#" class="text-blue-600 hover:text-blue-800 text-xs flex-shrink-0" \n       data-detail-ref="{{ block.data.detail_ref | tojson }}">\n      View ΓåÆ\n    </a>\n    {% endif %}\n  </div>\n</div>\n	083d51ea012bb26c857bbc325e9962d128fc966594aa8130922b7546189391b6	2026-01-09 21:17:11.988264-05	seed	\N
56707935-7b5d-42ed-8f76-0eb362149fc5	fragment:ArchComponentBlockV1:web:1.0.0	1.0	ArchComponentBlockV1	accepted	\n<div class="arch-component-card border border-gray-200 rounded-lg p-4 mb-4 bg-white" data-block-type="ArchComponentBlockV1">\n  <div class="flex items-start justify-between gap-4 mb-3">\n    <div>\n      <h4 class="text-lg font-semibold text-gray-900">{{ block.data.name }}</h4>\n      <span class="text-sm text-gray-500">{{ block.data.id }}</span>\n    </div>\n    <div class="flex items-center gap-2">\n      {% if block.data.layer %}\n      <span class="inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-purple-100 text-purple-800">\n        {{ block.data.layer }}\n      </span>\n      {% endif %}\n      {% if block.data.mvp_phase %}\n      <span class="inline-flex items-center px-2 py-1 rounded text-xs font-medium \n        {% if block.data.mvp_phase == 'mvp' %}bg-blue-100 text-blue-800{% else %}bg-gray-100 text-gray-600{% endif %}">\n        {{ block.data.mvp_phase | upper }}\n      </span>\n      {% endif %}\n    </div>\n  </div>\n  \n  {% if block.data.purpose %}\n  <p class="text-gray-600 mb-3">{{ block.data.purpose }}</p>\n  {% endif %}\n  \n  {% if block.data.responsibilities and block.data.responsibilities | length > 0 %}\n  <div class="mb-3">\n    <span class="text-sm font-medium text-gray-700">Responsibilities:</span>\n    <ul class="list-disc list-inside text-sm text-gray-600 mt-1">\n      {% for r in block.data.responsibilities %}\n      <li>{{ r }}</li>\n      {% endfor %}\n    </ul>\n  </div>\n  {% endif %}\n  \n  {% if block.data.technology_choices and block.data.technology_choices | length > 0 %}\n  <div class="mb-3">\n    <span class="text-sm font-medium text-gray-700">Technology:</span>\n    <div class="flex flex-wrap gap-1 mt-1">\n      {% for tech in block.data.technology_choices %}\n      <span class="inline-flex items-center px-2 py-0.5 rounded text-xs bg-gray-100 text-gray-700">{{ tech }}</span>\n      {% endfor %}\n    </div>\n  </div>\n  {% endif %}\n  \n  {% if block.data.depends_on_components and block.data.depends_on_components | length > 0 %}\n  <div class="text-sm text-gray-500">\n    <span class="font-medium">Depends on:</span> {{ block.data.depends_on_components | join(', ') }}\n  </div>\n  {% endif %}\n</div>\n	fff0d0bf3a14f2aa1633ccc1937570aa57cdf68929f70d3f31153b7b42fe27c9	2026-01-09 21:17:11.992749-05	seed	\N
13f0f0cf-cdd8-4efe-a92c-b6ee65364561	fragment:QualityAttributeBlockV1:web:1.0.0	1.0	QualityAttributeBlockV1	accepted	\n<div class="quality-attr-card border border-gray-200 rounded-lg p-4 mb-4 bg-white" data-block-type="QualityAttributeBlockV1">\n  <h4 class="text-lg font-semibold text-gray-900 mb-2">{{ block.data.name }}</h4>\n  \n  {% if block.data.target %}\n  <div class="mb-2">\n    <span class="text-sm font-medium text-gray-700">Target:</span>\n    <p class="text-gray-600">{{ block.data.target }}</p>\n  </div>\n  {% endif %}\n  \n  {% if block.data.rationale %}\n  <div class="mb-2">\n    <span class="text-sm font-medium text-gray-700">Rationale:</span>\n    <p class="text-sm text-gray-600">{{ block.data.rationale }}</p>\n  </div>\n  {% endif %}\n  \n  {% if block.data.acceptance_criteria and block.data.acceptance_criteria | length > 0 %}\n  <div>\n    <span class="text-sm font-medium text-gray-700">Acceptance Criteria:</span>\n    <ul class="list-disc list-inside text-sm text-gray-600 mt-1">\n      {% for c in block.data.acceptance_criteria %}\n      <li>{{ c }}</li>\n      {% endfor %}\n    </ul>\n  </div>\n  {% endif %}\n</div>\n	e4536460bf78f3c4df2919845a5fbb18d86aeb820ec385dfb44d23fe84d0b83e	2026-01-09 21:17:11.99763-05	seed	\N
d1b39541-70c5-4b90-94cc-d02bf9242f8a	fragment:InterfaceBlockV1:web:1.0.0	1.0	InterfaceBlockV1	accepted	\n<div class="interface-card border border-gray-200 rounded-lg p-4 mb-4 bg-white" data-block-type="InterfaceBlockV1">\n  <div class="flex items-start justify-between gap-4 mb-3">\n    <div>\n      <h4 class="text-lg font-semibold text-gray-900">{{ block.data.name }}</h4>\n      <span class="text-sm text-gray-500">{{ block.data.id }}</span>\n    </div>\n    <div class="flex items-center gap-2">\n      {% if block.data.type %}\n      <span class="inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-indigo-100 text-indigo-800">\n        {{ block.data.type }}\n      </span>\n      {% endif %}\n      {% if block.data.protocol %}\n      <span class="inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-gray-100 text-gray-700">\n        {{ block.data.protocol }}\n      </span>\n      {% endif %}\n    </div>\n  </div>\n  \n  {% if block.data.description %}\n  <p class="text-gray-600 mb-3">{{ block.data.description }}</p>\n  {% endif %}\n  \n  {% if block.data.endpoints and block.data.endpoints | length > 0 %}\n  <div class="mt-3">\n    <span class="text-sm font-medium text-gray-700">Endpoints:</span>\n    <div class="mt-2 space-y-2">\n      {% for ep in block.data.endpoints %}\n      <div class="bg-gray-50 rounded p-2 text-sm">\n        <div class="flex items-center gap-2">\n          <span class="font-mono px-1.5 py-0.5 rounded text-xs font-bold\n            {% if ep.method == 'GET' %}bg-green-100 text-green-700\n            {% elif ep.method == 'POST' %}bg-blue-100 text-blue-700\n            {% elif ep.method == 'PUT' %}bg-amber-100 text-amber-700\n            {% elif ep.method == 'DELETE' %}bg-red-100 text-red-700\n            {% else %}bg-gray-100 text-gray-700{% endif %}">\n            {{ ep.method }}\n          </span>\n          <span class="font-mono text-gray-800">{{ ep.path }}</span>\n        </div>\n        {% if ep.description %}\n        <p class="text-gray-600 mt-1">{{ ep.description }}</p>\n        {% endif %}\n      </div>\n      {% endfor %}\n    </div>\n  </div>\n  {% endif %}\n</div>\n	da6b0762ab3e5270f0ff6958f241084ab17f26e7c7784bf2a2ddde1c06899145	2026-01-09 21:17:12.00463-05	seed	\N
c65b69b9-8de5-4869-bcc3-d463c5745b8a	fragment:WorkflowBlockV1:web:1.0.0	1.0	WorkflowBlockV1	accepted	\n<div class="workflow-card border border-gray-200 rounded-lg p-4 mb-4 bg-white" data-block-type="WorkflowBlockV1">\n  <h4 class="text-lg font-semibold text-gray-900 mb-2">{{ block.data.name }}</h4>\n  \n  {% if block.data.description %}\n  <p class="text-gray-600 mb-3">{{ block.data.description }}</p>\n  {% endif %}\n  \n  {% if block.data.trigger %}\n  <div class="mb-3 text-sm">\n    <span class="font-medium text-gray-700">Trigger:</span>\n    <span class="text-gray-600">{{ block.data.trigger }}</span>\n  </div>\n  {% endif %}\n  \n  {% if block.data.steps and block.data.steps | length > 0 %}\n  <div class="mt-3">\n    <span class="text-sm font-medium text-gray-700">Steps:</span>\n    <div class="mt-2 space-y-2">\n      {% for step in block.data.steps %}\n      <div class="flex gap-3 text-sm">\n        <span class="flex-shrink-0 w-6 h-6 rounded-full bg-blue-100 text-blue-700 flex items-center justify-center font-medium">\n          {{ step.order }}\n        </span>\n        <div class="flex-1">\n          <div class="flex items-center gap-2">\n            <span class="font-medium text-gray-800">{{ step.actor }}</span>\n            <span class="text-gray-400">ΓåÆ</span>\n            <span class="text-gray-600">{{ step.action }}</span>\n          </div>\n        </div>\n      </div>\n      {% endfor %}\n    </div>\n  </div>\n  {% endif %}\n</div>\n	4769bad16f60dd44fe94538f96d529ca6f050e55ebaea8650ebe021e6c01b013	2026-01-09 21:17:12.008713-05	seed	\N
550311a1-4780-403a-838e-5a488e3ceacd	fragment:DataModelBlockV1:web:1.0.0	1.0	DataModelBlockV1	accepted	\n<div class="data-model-card border border-gray-200 rounded-lg p-4 mb-4 bg-white" data-block-type="DataModelBlockV1">\n  <h4 class="text-lg font-semibold text-gray-900 mb-2">{{ block.data.name }}</h4>\n  \n  {% if block.data.description %}\n  <p class="text-gray-600 mb-3">{{ block.data.description }}</p>\n  {% endif %}\n  \n  {% if block.data.primary_keys and block.data.primary_keys | length > 0 %}\n  <div class="mb-3 text-sm">\n    <span class="font-medium text-gray-700">Primary Key:</span>\n    <span class="font-mono text-gray-600">{{ block.data.primary_keys | join(', ') }}</span>\n  </div>\n  {% endif %}\n  \n  {% if block.data.fields and block.data.fields | length > 0 %}\n  <div class="mt-3">\n    <span class="text-sm font-medium text-gray-700">Fields:</span>\n    <div class="mt-2 overflow-x-auto">\n      <table class="min-w-full text-sm">\n        <thead class="bg-gray-50">\n          <tr>\n            <th class="px-3 py-2 text-left font-medium text-gray-700">Name</th>\n            <th class="px-3 py-2 text-left font-medium text-gray-700">Type</th>\n            <th class="px-3 py-2 text-left font-medium text-gray-700">Required</th>\n          </tr>\n        </thead>\n        <tbody class="divide-y divide-gray-100">\n          {% for field in block.data.fields %}\n          <tr>\n            <td class="px-3 py-2 font-mono text-gray-800">{{ field.name }}</td>\n            <td class="px-3 py-2 text-gray-600">{{ field.type }}</td>\n            <td class="px-3 py-2">\n              {% if field.required %}\n              <span class="text-green-600">Γ£ô</span>\n              {% else %}\n              <span class="text-gray-400">-</span>\n              {% endif %}\n            </td>\n          </tr>\n          {% endfor %}\n        </tbody>\n      </table>\n    </div>\n  </div>\n  {% endif %}\n</div>\n	f2f8de4bebc6cfb9b0f011fbb07a3a52e668d0bccc8070ee196b0e170464a90b	2026-01-09 21:17:12.012393-05	seed	\N
3831171b-cc16-406f-8566-2b0fe9ebaee4	fragment:EpicStoriesCardBlockV1:web:1.0.0	1.0	EpicStoriesCardBlockV1	accepted	\n<div class="epic-stories-card border border-gray-200 rounded-lg bg-white shadow-sm mb-6" \n     data-block-type="EpicStoriesCardBlockV1" data-epic-id="{{ block.data.epic_id }}">\n  {# Epic Header #}\n  <div class="p-4 border-b border-gray-100">\n    <div class="flex items-start justify-between gap-4">\n      <div class="flex-1 min-w-0">\n        <h3 class="text-lg font-semibold text-gray-900">\n          {{ block.data.epic_name | default(block.data.name) | default(block.data.epic_id) }}\n        </h3>\n        {% if block.data.intent %}\n        <p class="text-sm text-gray-600 mt-1">{{ block.data.intent }}</p>\n        {% endif %}\n      </div>\n      <div class="flex items-center gap-2 flex-shrink-0">\n        {% set phase = block.data.phase | default(block.data.mvp_phase) %}\n        {% if phase %}\n        <span class="inline-flex items-center px-2 py-1 rounded text-xs font-medium \n          {% if phase == 'mvp' %}bg-blue-100 text-blue-800{% else %}bg-gray-100 text-gray-600{% endif %}">\n          {{ phase | upper }}\n        </span>\n        {% endif %}\n        {% if block.data.risk_level %}\n        <span class="inline-flex items-center px-2 py-1 rounded text-xs font-medium\n          {% if block.data.risk_level == 'high' %}bg-red-100 text-red-800\n          {% elif block.data.risk_level == 'medium' %}bg-amber-100 text-amber-800\n          {% else %}bg-green-100 text-green-800{% endif %}">\n          {{ block.data.risk_level | title }} Risk\n        </span>\n        {% endif %}\n        {% if block.data.detail_ref %}\n        <a href="#" class="text-blue-600 hover:text-blue-800 text-sm font-medium"\n           data-detail-ref="{{ block.data.detail_ref | tojson }}">\n          View Epic &rarr;\n        </a>\n        {% endif %}\n      </div>\n    </div>\n  </div>\n  \n  {# Stories Section OR Generate Button #}\n  {% if block.data.stories and block.data.stories | length > 0 %}\n  <div class="stories-section">\n    <div class="px-4 py-2 bg-gray-50 border-b border-gray-100">\n      <span class="text-sm font-medium text-gray-700">Stories ({{ block.data.stories | length }})</span>\n    </div>\n    <ul class="divide-y divide-gray-100">\n      {% for story in block.data.stories %}\n      <li class="px-4 py-3 hover:bg-gray-50 transition-colors">\n        <div class="flex items-start justify-between gap-3">\n          <div class="flex-1 min-w-0">\n            <div class="flex items-center gap-2">\n              <span class="text-xs font-mono text-gray-500">{{ story.story_id | default(story.id) }}</span>\n              <span class="text-sm font-medium text-gray-900">{{ story.title }}</span>\n            </div>\n            {% set story_desc = story.intent | default(story.description) %}\n            {% if story_desc %}\n            <p class="text-sm text-gray-600 mt-1 line-clamp-2">{{ story_desc }}</p>\n            {% endif %}\n          </div>\n          <div class="flex items-center gap-2 flex-shrink-0">\n            {% set story_phase = story.phase | default(story.mvp_phase) %}\n            {% if story_phase %}\n            <span class="inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium \n              {% if story_phase == 'mvp' %}bg-blue-100 text-blue-800{% else %}bg-gray-100 text-gray-600{% endif %}">\n              {{ story_phase | upper }}\n            </span>\n            {% endif %}\n            {% if story.detail_ref %}\n            <a href="#" class="text-blue-600 hover:text-blue-800 text-xs"\n               data-detail-ref="{{ story.detail_ref | tojson }}">\n              View &rarr;\n            </a>\n            {% endif %}\n          </div>\n        </div>\n      </li>\n      {% endfor %}\n    </ul>\n  </div>\n  {% else %}\n  {# No stories - show generate button #}\n  <div class="p-4 bg-gray-50 no-stories-section">\n      <p class="text-sm text-gray-500 mb-3 no-stories-text">No stories generated yet</p>\n    <button type="button"\n            class="generate-epic-btn inline-flex items-center gap-2 px-3 py-1.5 bg-violet-600 hover:bg-violet-700 text-white text-sm font-medium rounded-lg transition-colors disabled:opacity-50"\n            data-epic-id="{{ block.data.epic_id }}"\n            onclick="generateEpicStories(this)">\n      <i data-lucide="sparkles" class="w-4 h-4"></i>\n      <span class="btn-text">Generate Stories</span>\n    </button>\n    <div class="generate-status mt-2 text-sm"></div>\n  </div>\n  {% endif %}\n</div>\n	9021178c9b0339512a3a2bb594bcb0a8b8906bf660a6e69479dd4c6dbd960ebc	2026-01-11 10:15:43.078028-05	seed	\N
\.
COPY public.component_artifacts (id, component_id, schema_artifact_id, schema_id, generation_guidance, view_bindings, status, created_at, created_by, accepted_at) FROM stdin;
94ffa717-ba7a-49e1-9b8c-b7f946f277d7	component:OpenQuestionV1:1.0.0	5b9f2284-7652-45a0-b763-bca5736a385e	schema:OpenQuestionV1	{"bullets": ["Provide a stable question id (e.g., Q-001).", "Write a clear, specific question that requires human decision.", "Set blocking=true only if work cannot proceed responsibly without an answer.", "Explain why_it_matters in one sentence.", "Include options only if there are meaningful discrete choices.", "If options exist, default_response SHOULD match one option.", "Use notes for assumptions, context, or follow-up suggestions."]}	{"web": {"fragment_id": "fragment:OpenQuestionV1:web:1.0.0"}}	accepted	2026-01-09 21:17:14.795267-05	seed	2026-01-09 21:17:14.803291-05
efbafed9-122d-4e59-b659-0fc5e37bbab7	component:OpenQuestionsBlockV1:1.0.0	0ff59b0a-150c-4a80-9083-ae5c0369af20	schema:OpenQuestionsBlockV1	{"bullets": ["Render-only container. Do not generate this block; items are provided upstream."]}	{"web": {"fragment_id": "fragment:OpenQuestionsBlockV1:web:1.0.0"}}	accepted	2026-01-09 21:17:14.795267-05	seed	2026-01-09 21:17:14.808521-05
df4790b6-86bc-449e-baaf-ece5422a9426	component:StoryV1:1.0.0	14529940-e0a4-4e0c-8823-915ebb163a8c	schema:StoryV1	{"bullets": ["Produce a story with a stable id and explicit epic_id reference.", "Keep title short and specific; description should be actionable and user-facing.", "Set status to one of: draft, ready, in_progress, blocked, done (default draft).", "Acceptance criteria must be concrete, testable statements.", "Include dependencies only when explicitly known; otherwise omit or leave empty.", "Avoid implementation detail (no class names, endpoints, tech stack) unless explicitly provided.", "Keep notes brief; do not introduce new scope silently.", "epic_id must match parent epic id when nested under an epic."]}	{"web": {"fragment_id": "fragment:StoryV1:web:1.0.0"}}	accepted	2026-01-09 21:17:14.795267-05	seed	2026-01-09 21:17:14.81074-05
58b3f76f-5be6-4753-b284-32a8761b6570	component:StringListBlockV1:1.0.0	2b780726-4cc0-4765-b6d5-9562835a6373	schema:StringListBlockV1	{"bullets": ["Render-only container. Do not generate items; items are provided upstream."]}	{"web": {"fragment_id": "fragment:StringListBlockV1:web:1.0.0"}}	accepted	2026-01-09 21:17:14.795267-05	seed	2026-01-09 21:17:14.812667-05
0e4ccd2d-5b02-450e-8ae8-27200e498a22	component:SummaryBlockV1:1.0.0	362b1ce0-e9fe-4d69-beaf-e9e2be1b8122	schema:SummaryBlockV1	{"bullets": ["Produce a summary with clear, concise prose for each field.", "problem_understanding: What is the core problem being solved?", "architectural_intent: What high-level approach is being taken?", "scope_pressure_points: Where might scope expand or contract?", "Keep each field under 2-3 sentences for readability."]}	{"web": {"fragment_id": "fragment:SummaryBlockV1:web:1.0.0"}}	accepted	2026-01-09 21:17:14.795267-05	seed	2026-01-09 21:17:14.814544-05
6600d7f9-30f6-4738-bbb4-39f5d338ad92	component:RisksBlockV1:1.0.0	a653ae80-d95e-461a-b1bb-c452a59291b3	schema:RisksBlockV1	{"bullets": ["Render-only container. Do not generate this block; items are provided upstream."]}	{"web": {"fragment_id": "fragment:RisksBlockV1:web:1.0.0"}}	accepted	2026-01-09 21:17:14.795267-05	seed	2026-01-09 21:17:14.816602-05
caf697e2-c159-4217-9cf2-80c584a87b7d	component:ParagraphBlockV1:1.0.0	f00cfafa-b118-4752-8a39-6fe87c26c714	schema:ParagraphBlockV1	{"bullets": ["Produce clear, concise prose for the section content.", "Keep paragraphs focused on a single topic or theme.", "Avoid bullet points within paragraph blocks.", "Use context.title to understand the section purpose."]}	{"web": {"fragment_id": "fragment:ParagraphBlockV1:web:1.0.0"}}	accepted	2026-01-09 21:17:14.795267-05	seed	2026-01-09 21:17:14.81861-05
56e505ba-9fcf-4d1e-98a9-e47608af721b	component:IndicatorBlockV1:1.0.0	0d6920ea-d3a0-4a46-ad81-d2e06d8a77ce	schema:IndicatorBlockV1	{"bullets": ["This is a render-only block for derived values.", "Do not generate indicator values directly.", "Values come from frozen derivation rules."]}	{"web": {"fragment_id": "fragment:IndicatorBlockV1:web:1.0.0"}}	accepted	2026-01-09 21:17:14.795267-05	seed	2026-01-09 21:17:14.820504-05
fb75765e-8509-41d1-9fec-7fd752b48daf	component:EpicSummaryBlockV1:1.0.0	52534947-72d2-422a-aba1-516de6e28313	schema:EpicSummaryBlockV1	{"bullets": ["This is a render-only container for backlog views.", "Contains 3-5 fields: title, intent, phase, risk_level, detail_ref.", "Intentionally lossy - optimized for scanning.", "risk_level is derived, not generated.", "detail_ref links to EpicDetailView."]}	{"web": {"fragment_id": "fragment:EpicSummaryBlockV1:web:1.0.0"}}	accepted	2026-01-09 21:17:14.795267-05	seed	2026-01-09 21:17:14.822403-05
5397888b-28a0-4720-b393-fafd4d55ba04	component:DependenciesBlockV1:1.0.0	37686e93-3e19-4388-a8ab-a71682d7c99e	schema:DependenciesBlockV1	{"bullets": ["This is a render-only container for dependency lists.", "Each item should conform to DependencyV1 schema.", "Include depends_on_id, reason, and blocking flag.", "Mark blocking=true for hard dependencies."]}	{"web": {"fragment_id": "fragment:DependenciesBlockV1:web:1.0.0"}}	accepted	2026-01-09 21:17:14.795267-05	seed	2026-01-09 21:17:14.824279-05
eec9dd15-97ab-440b-96a3-8687f1af5996	component:StorySummaryBlockV1:1.0.0	5bf6b0f9-f463-4216-9425-38ffdc0d8643	schema:StorySummaryBlockV1	{"bullets": ["This is a render-only item for story backlog views.", "Required: story_id, title, intent (1-2 sentences), detail_ref.", "Optional: phase (mvp|later), risk_level (low|medium|high).", "Intentionally lossy - excludes acceptance_criteria, scope, dependencies, questions, notes.", "risk_level is derived upstream, omit if no risks.", "detail_ref must link to StoryDetailView."]}	{"web": {"fragment_id": "fragment:StorySummaryBlockV1:web:1.0.0"}}	accepted	2026-01-09 21:17:14.795267-05	seed	2026-01-09 21:17:14.825983-05
3ca36488-3406-44b6-b0af-aa17b50ace7e	component:StoriesBlockV1:1.0.0	629812b7-5a1f-424c-aa9b-7d67f1e07e12	schema:StoriesBlockV1	{"bullets": ["Render-only container. Do not generate this block; items are provided upstream."]}	{"web": {"fragment_id": "fragment:StoriesBlockV1:web:1.0.0"}}	accepted	2026-01-09 21:17:14.795267-05	seed	2026-01-09 21:17:14.827606-05
5cb575e0-04f9-4611-b91a-d0ee258018a6	component:ArchComponentBlockV1:1.0.0	30b14ffe-142d-4af6-90fa-a97dd83e2378	schema:ArchComponentBlockV1	"Renders an architecture component card with name, layer, purpose, and details."	{"web": {"fragment_id": "fragment:ArchComponentBlockV1:web:1.0.0"}}	accepted	2026-01-09 21:17:14.795267-05	seed	2026-01-09 21:17:14.829306-05
c687be1d-da52-459d-97c3-ce58212f39bf	component:QualityAttributeBlockV1:1.0.0	c69aa17f-e80b-47c8-8ba9-f70aff14bfaa	schema:QualityAttributeBlockV1	"Renders a quality attribute with name, target, rationale, and acceptance criteria."	{"web": {"fragment_id": "fragment:QualityAttributeBlockV1:web:1.0.0"}}	accepted	2026-01-09 21:17:14.795267-05	seed	2026-01-09 21:17:14.830899-05
5fa0001b-ed01-4719-908f-08523e6e1e2a	component:InterfaceBlockV1:1.0.0	68a5bdee-d4c2-43ad-be17-dbbdd80ecac6	schema:InterfaceBlockV1	"Renders an API interface with endpoints."	{"web": {"fragment_id": "fragment:InterfaceBlockV1:web:1.0.0"}}	accepted	2026-01-09 21:17:14.795267-05	seed	2026-01-09 21:17:14.832851-05
5b6d2a02-5d4f-47cd-9bdb-f722dee71147	component:WorkflowBlockV1:1.0.0	d03e09b7-9e05-4b43-8047-a527d463bb22	schema:WorkflowBlockV1	"Renders a workflow with steps."	{"web": {"fragment_id": "fragment:WorkflowBlockV1:web:1.0.0"}}	accepted	2026-01-09 21:17:14.795267-05	seed	2026-01-09 21:17:14.835136-05
32ade249-4d2c-471f-a34e-353fc5db7ae2	component:DataModelBlockV1:1.0.0	891f9ce2-f804-4201-83cd-6bd400a6b790	schema:DataModelBlockV1	"Renders a data model entity with fields."	{"web": {"fragment_id": "fragment:DataModelBlockV1:web:1.0.0"}}	accepted	2026-01-09 21:17:14.795267-05	seed	2026-01-09 21:17:14.840134-05
a94b0e22-d7d3-4174-8572-32aa07518b95	component:EpicStoriesCardBlockV1:1.0.0	0552932e-9388-4097-a5be-0bbd6cd01b59	schema:EpicStoriesCardBlockV1	"Renders an epic card with nested story summaries. Stories are summary-level only (no AC, no dependencies). Empty stories array omits story section entirely."	{"web": {"fragment_id": "fragment:EpicStoriesCardBlockV1:web:1.0.0"}}	accepted	2026-01-09 21:17:14.795267-05	seed	2026-01-09 21:17:14.841961-05
\.
COPY public.document_definitions (id, document_def_id, document_schema_id, prompt_header, sections, status, created_at, created_by, accepted_at) FROM stdin;
99067959-6e45-4b71-8262-cfd1491e236f	docdef:EpicBacklog:1.0.0	\N	{"role": "You are a Business Analyst creating an Epic Backlog for a software project.", "constraints": ["Output valid JSON matching the document schema.", "Be specific and actionable.", "Do not invent requirements not supported by inputs.", "Each epic must have at least one open question if unknowns exist."]}	[{"order": 10, "shape": "nested_list", "title": "Open Questions", "context": {"epic_id": "/id", "epic_title": "/title"}, "section_id": "epic_open_questions", "description": "Questions requiring human decision before implementation", "repeat_over": "/epics", "component_id": "component:OpenQuestionV1:1.0.0", "source_pointer": "/open_questions"}]	accepted	2026-01-09 21:17:14.844754-05	seed	2026-01-09 21:17:14.846827-05
ceb262ec-4d2f-482c-b42d-df752cec80bb	docdef:EpicBacklog:1.1.0	\N	{"role": "You are a Business Analyst creating an Epic Backlog for a software project.", "constraints": ["Output valid JSON matching the document schema.", "Be specific and actionable.", "Do not invent requirements not supported by inputs.", "Each epic must have at least one open question if unknowns exist."]}	[{"order": 10, "shape": "container", "title": "Open Questions", "context": {"epic_id": "/id", "epic_title": "/title"}, "section_id": "epic_open_questions", "description": "Questions requiring human decision before implementation", "repeat_over": "/epics", "component_id": "component:OpenQuestionsBlockV1:1.0.0", "source_pointer": "/open_questions"}]	accepted	2026-01-09 21:17:14.844754-05	seed	2026-01-09 21:17:14.849775-05
1edbb50e-b9dd-42fc-b3a7-7675d9b16301	docdef:RootQuestionsTest:1.0.0	\N	{"role": "Test document for root-level questions.", "constraints": []}	[{"order": 10, "shape": "container", "title": "Open Questions", "section_id": "root_questions", "component_id": "component:OpenQuestionsBlockV1:1.0.0", "source_pointer": "/open_questions"}]	accepted	2026-01-09 21:17:14.844754-05	seed	2026-01-09 21:17:14.851429-05
c3ea4899-3f8a-47ca-aa1a-cddfa9075562	docdef:DeepNestingTest:1.0.0	\N	{"role": "Test document for deep nesting probe.", "constraints": []}	[{"order": 10, "shape": "container", "title": "Capability Questions", "context": {"epic_id": "/id", "epic_title": "/title"}, "section_id": "deep_questions", "repeat_over": "/epics", "component_id": "component:OpenQuestionsBlockV1:1.0.0", "source_pointer": "/open_questions"}]	accepted	2026-01-09 21:17:14.844754-05	seed	2026-01-09 21:17:14.852847-05
904548ff-f7e6-4972-bbda-d13059dc4409	docdef:StoryBacklogTest:1.0.0	\N	{"role": "Test document for story backlog rendering.", "constraints": []}	[{"order": 10, "shape": "container", "title": "Stories", "context": {"epic_id": "/id", "epic_title": "/title"}, "section_id": "epic_stories", "repeat_over": "/epics", "component_id": "component:StoriesBlockV1:1.0.0", "source_pointer": "/stories"}]	accepted	2026-01-09 21:17:14.844754-05	seed	2026-01-09 21:17:14.854145-05
06a3f7e6-53bd-4554-8184-961b2ffd1db0	docdef:ProjectDiscovery:1.0.0	\N	{"role": "You are producing a Project Discovery document.", "constraints": ["Do not propose solutions, architectures, plans, or implementation approaches.", "Do not infer intent beyond what is supported by inputs.", "All assumptions must be stated explicitly and labeled as assumptions.", "Unknowns must remain visible, not filled in."]}	[{"order": 10, "shape": "single", "title": "Preliminary Summary", "section_id": "summary", "component_id": "component:SummaryBlockV1:1.0.0", "source_pointer": "/preliminary_summary"}, {"order": 20, "shape": "container", "title": "Known Constraints", "context": {"title": "Known Constraints"}, "section_id": "constraints", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/known_constraints"}, {"order": 30, "shape": "container", "title": "Assumptions", "context": {"title": "Assumptions"}, "section_id": "assumptions", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/assumptions"}, {"order": 40, "shape": "container", "title": "Identified Risks", "context": {"title": "Identified Risks"}, "section_id": "risks", "component_id": "component:RisksBlockV1:1.0.0", "source_pointer": "/identified_risks"}, {"order": 50, "shape": "container", "title": "MVP Guardrails", "context": {"style": "check", "title": "MVP Guardrails"}, "section_id": "guardrails", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/mvp_guardrails"}, {"order": 60, "shape": "container", "title": "Recommendations for PM", "context": {"title": "Recommendations for PM"}, "section_id": "recommendations", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/recommendations_for_pm"}]	accepted	2026-01-09 21:17:14.844754-05	seed	2026-01-09 21:17:14.855509-05
67a40b19-3413-4903-b943-28959d593f82	docdef:EpicSummaryView:1.0.0	\N	{"role": "You are producing an Epic Summary for backlog scanning.", "constraints": ["Keep summary intentionally brief.", "3-5 fields maximum.", "Optimized for scanning, not understanding."]}	[{"order": 10, "shape": "single", "title": "Title", "context": {"title": ""}, "section_id": "title", "component_id": "component:ParagraphBlockV1:1.0.0", "source_pointer": "/title"}, {"order": 20, "shape": "single", "title": "Intent", "context": {"title": "Intent"}, "section_id": "intent", "component_id": "component:ParagraphBlockV1:1.0.0", "source_pointer": "/vision"}, {"order": 30, "shape": "single", "title": "Phase", "context": {"title": "Phase"}, "section_id": "phase", "component_id": "component:ParagraphBlockV1:1.0.0", "source_pointer": "/phase"}, {"order": 40, "shape": "single", "title": "Risk Level", "context": {"title": "Risk"}, "section_id": "risk_level", "component_id": "component:IndicatorBlockV1:1.0.0", "derived_from": {"source": "/risks", "function": "risk_level"}}]	accepted	2026-01-09 21:17:14.844754-05	seed	2026-01-09 21:17:14.856916-05
573074f0-291a-406d-846d-9d5554d58508	docdef:EpicDetailView:1.0.0	\N	{"role": "You are producing an Epic Detail document.", "constraints": ["Focus on the single epic being defined.", "Be specific about scope boundaries.", "All risks must include likelihood and impact.", "Open questions should identify blocking vs non-blocking."]}	[{"order": 10, "shape": "single", "title": "Vision", "context": {"title": "Vision"}, "section_id": "vision", "component_id": "component:ParagraphBlockV1:1.0.0", "source_pointer": "/vision"}, {"order": 20, "shape": "single", "title": "Problem/Opportunity", "context": {"title": "Problem/Opportunity"}, "section_id": "problem", "component_id": "component:ParagraphBlockV1:1.0.0", "source_pointer": "/problem"}, {"order": 30, "shape": "container", "title": "Business Goals", "context": {"title": "Business Goals"}, "section_id": "business_goals", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/business_goals"}, {"order": 40, "shape": "container", "title": "In Scope", "context": {"style": "check", "title": "In Scope"}, "section_id": "in_scope", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/in_scope"}, {"order": 50, "shape": "container", "title": "Out of Scope", "context": {"title": "Out of Scope"}, "section_id": "out_of_scope", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/out_of_scope"}, {"order": 60, "shape": "container", "title": "Requirements", "context": {"style": "numbered", "title": "Requirements"}, "section_id": "requirements", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/requirements"}, {"order": 70, "shape": "container", "title": "Acceptance Criteria", "context": {"style": "check", "title": "Acceptance Criteria"}, "section_id": "acceptance_criteria", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/acceptance_criteria"}, {"order": 80, "shape": "container", "title": "Risks", "context": {"title": "Risks"}, "section_id": "risks", "component_id": "component:RisksBlockV1:1.0.0", "source_pointer": "/risks"}, {"order": 90, "shape": "container", "title": "Open Questions", "context": {"title": "Open Questions"}, "section_id": "open_questions", "component_id": "component:OpenQuestionsBlockV1:1.0.0", "source_pointer": "/open_questions"}, {"order": 100, "shape": "container", "title": "Dependencies", "context": {"title": "Dependencies"}, "section_id": "dependencies", "component_id": "component:DependenciesBlockV1:1.0.0", "source_pointer": "/dependencies"}]	accepted	2026-01-09 21:17:14.844754-05	seed	2026-01-09 21:17:14.858126-05
9828e0bf-cba5-47e4-ad75-6a297aa2b73a	docdef:EpicBacklogView:1.0.0	\N	{"role": "You are producing an Epic Backlog overview.", "constraints": ["Show project context and epic set summary first.", "Each epic renders as a summary card.", "Include risks overview and architecture recommendations."]}	[{"order": 10, "shape": "single", "title": "Epic Set Summary", "section_id": "epic_set_summary", "viewer_tab": "overview", "component_id": "component:SummaryBlockV1:1.0.0", "source_pointer": "/epic_set_summary"}, {"order": 20, "shape": "container", "title": "Key Constraints", "section_id": "key_constraints", "viewer_tab": "overview", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/epic_set_summary/key_constraints"}, {"order": 30, "shape": "container", "title": "Out of Scope", "section_id": "out_of_scope", "viewer_tab": "overview", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/epic_set_summary/out_of_scope"}, {"order": 40, "shape": "container", "title": "Epics", "context": {"epic_id": "/epic_id", "epic_title": "/title"}, "section_id": "epic_summaries", "viewer_tab": "details", "repeat_over": "/epics", "component_id": "component:EpicSummaryBlockV1:1.0.0", "derived_fields": [{"field": "risk_level", "source": "/risks", "function": "risk_level"}], "exclude_fields": ["risks", "open_questions", "requirements", "acceptance_criteria", "notes_for_architecture", "related_discovery_items"], "source_pointer": "/", "detail_ref_template": {"params": {"epic_id": "/epic_id"}, "document_type": "EpicDetailView"}}, {"order": 50, "shape": "container", "title": "Risks Overview", "section_id": "risks_overview", "viewer_tab": "overview", "component_id": "component:RisksBlockV1:1.0.0", "source_pointer": "/risks_overview"}, {"order": 60, "shape": "container", "title": "Recommendations for Architecture", "section_id": "architecture_recommendations", "viewer_tab": "overview", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/recommendations_for_architecture"}]	accepted	2026-01-09 21:17:14.844754-05	seed	2026-01-09 21:17:14.859508-05
30f06469-2847-4460-946a-30f1c448b530	docdef:EpicArchitectureView:1.0.0	\N	{"role": "You are producing an Epic Architecture document.", "constraints": ["Focus on technical structure for one epic.", "Text-first, typed where it matters.", "No diagrams required."]}	[{"order": 10, "shape": "single", "title": "Architecture Intent", "context": {"title": "Architecture Intent"}, "section_id": "architecture_intent", "component_id": "component:ParagraphBlockV1:1.0.0", "source_pointer": "/architecture_intent"}, {"order": 20, "shape": "container", "title": "Systems/Services Touched", "context": {"title": "Systems/Services Touched"}, "section_id": "systems_touched", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/systems_touched"}, {"order": 30, "shape": "container", "title": "External Integrations", "context": {"title": "External Integrations"}, "section_id": "external_integrations", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/external_integrations"}, {"order": 40, "shape": "container", "title": "Key Interfaces/APIs", "context": {"title": "Key Interfaces/APIs"}, "section_id": "key_interfaces", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/key_interfaces"}, {"order": 50, "shape": "container", "title": "Data/Events", "context": {"title": "Data/Events"}, "section_id": "data_events", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/data_events"}, {"order": 60, "shape": "container", "title": "Dependencies", "context": {"title": "Dependencies"}, "section_id": "dependencies", "component_id": "component:DependenciesBlockV1:1.0.0", "source_pointer": "/dependencies"}, {"order": 70, "shape": "container", "title": "Architectural Constraints", "context": {"title": "Architectural Constraints"}, "section_id": "architectural_constraints", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/architectural_constraints"}, {"order": 80, "shape": "container", "title": "Architecture Decisions", "context": {"style": "numbered", "title": "Architecture Decisions"}, "section_id": "architecture_decisions", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/architecture_decisions"}, {"order": 90, "shape": "container", "title": "Architecture Open Questions", "context": {"title": "Architecture Open Questions"}, "section_id": "architecture_open_questions", "component_id": "component:OpenQuestionsBlockV1:1.0.0", "source_pointer": "/architecture_open_questions"}, {"order": 100, "shape": "container", "title": "Observability/SLO Notes", "context": {"title": "Observability/SLO Notes"}, "section_id": "observability_notes", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/observability_notes"}]	accepted	2026-01-09 21:17:14.844754-05	seed	2026-01-09 21:17:14.860866-05
b521e4e9-79f1-48b3-9bd6-76c7d11889da	docdef:ArchitecturalSummaryView:1.0.0	\N	{"role": "You are producing an Architecture document view.", "constraints": ["Full architecture detail with overview and details tabs.", "Overview shows summary and key decisions.", "Details shows components, interfaces, workflows, etc."]}	[{"order": 10, "shape": "single", "title": "Architecture Summary", "section_id": "architecture_summary", "viewer_tab": "overview", "component_id": "component:SummaryBlockV1:1.0.0", "source_pointer": "/architecture_summary"}, {"order": 20, "shape": "container", "title": "Key Decisions", "section_id": "key_decisions", "viewer_tab": "overview", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/architecture_summary/key_decisions"}, {"order": 30, "shape": "container", "title": "MVP Scope Notes", "section_id": "mvp_scope_notes", "viewer_tab": "overview", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/architecture_summary/mvp_scope_notes"}, {"order": 40, "shape": "single", "title": "Problem Statement", "section_id": "problem_statement", "viewer_tab": "overview", "component_id": "component:ParagraphBlockV1:1.0.0", "source_pointer": "/context/problem_statement"}, {"order": 100, "shape": "container", "title": "Constraints", "section_id": "constraints", "viewer_tab": "details", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/context/constraints"}, {"order": 110, "shape": "container", "title": "Assumptions", "section_id": "assumptions", "viewer_tab": "details", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/context/assumptions"}, {"order": 120, "shape": "container", "title": "Non-Goals", "section_id": "non_goals", "viewer_tab": "details", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/context/non_goals"}, {"order": 200, "shape": "container", "title": "Components", "section_id": "components", "viewer_tab": "implementation", "repeat_over": "/components", "component_id": "component:ArchComponentBlockV1:1.0.0", "source_pointer": "/"}, {"order": 210, "shape": "container", "title": "Data Model", "section_id": "data_model", "viewer_tab": "implementation", "repeat_over": "/data_model", "component_id": "component:DataModelBlockV1:1.0.0", "source_pointer": "/"}, {"order": 220, "shape": "container", "title": "Interfaces", "section_id": "interfaces", "viewer_tab": "implementation", "repeat_over": "/interfaces", "component_id": "component:InterfaceBlockV1:1.0.0", "source_pointer": "/"}, {"order": 230, "shape": "container", "title": "Workflows", "section_id": "workflows", "viewer_tab": "details", "repeat_over": "/workflows", "component_id": "component:WorkflowBlockV1:1.0.0", "source_pointer": "/"}, {"order": 240, "shape": "container", "title": "Quality Attributes", "section_id": "quality_attributes", "viewer_tab": "details", "repeat_over": "/quality_attributes", "component_id": "component:QualityAttributeBlockV1:1.0.0", "source_pointer": "/"}, {"order": 300, "shape": "container", "title": "Data Classification", "section_id": "security_data_classification", "viewer_tab": "details", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/security_considerations/data_classification"}, {"order": 310, "shape": "container", "title": "Security Controls", "section_id": "security_controls", "viewer_tab": "details", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/security_considerations/controls"}, {"order": 400, "shape": "container", "title": "Logging", "section_id": "observability_logging", "viewer_tab": "details", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/observability/logging"}, {"order": 410, "shape": "container", "title": "Metrics", "section_id": "observability_metrics", "viewer_tab": "details", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/observability/metrics"}, {"order": 500, "shape": "container", "title": "Risks", "section_id": "risks", "viewer_tab": "details", "component_id": "component:RisksBlockV1:1.0.0", "source_pointer": "/risks"}, {"order": 510, "shape": "container", "title": "Open Questions", "section_id": "open_questions", "viewer_tab": "details", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/open_questions"}]	accepted	2026-01-09 21:17:14.844754-05	seed	2026-01-09 21:17:14.862079-05
50e927bb-b7c5-4779-afa2-99e0fe042d49	docdef:StoryDetailView:1.0.0	\N	{"role": "You are producing a Story Detail document.", "constraints": ["Single-story comprehensive view.", "Optimized for understanding and execution.", "Do not duplicate epic-level fields (vision, roadmap, business goals).", "Acceptance criteria must be a list, not prose."]}	[{"order": 10, "shape": "single", "title": "Story Intent", "context": {"title": "Story Intent"}, "section_id": "story_intent", "component_id": "component:ParagraphBlockV1:1.0.0", "source_pointer": "/intent", "detail_ref_template": {"params": {"epic_id": "/epic_id"}, "document_type": "EpicDetailView"}}, {"order": 20, "shape": "single", "title": "User Value", "context": {"title": "User Value"}, "section_id": "user_value", "component_id": "component:ParagraphBlockV1:1.0.0", "source_pointer": "/user_value"}, {"order": 30, "shape": "container", "title": "Acceptance Criteria", "context": {"style": "check", "title": "Acceptance Criteria"}, "section_id": "acceptance_criteria", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/acceptance_criteria"}, {"order": 40, "shape": "container", "title": "In Scope", "context": {"style": "check", "title": "In Scope"}, "section_id": "in_scope", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/in_scope"}, {"order": 50, "shape": "container", "title": "Out of Scope", "context": {"title": "Out of Scope"}, "section_id": "out_of_scope", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/out_of_scope"}, {"order": 60, "shape": "container", "title": "Dependencies", "context": {"title": "Dependencies"}, "section_id": "dependencies", "component_id": "component:DependenciesBlockV1:1.0.0", "source_pointer": "/dependencies"}, {"order": 70, "shape": "container", "title": "Open Questions", "context": {"title": "Open Questions"}, "section_id": "open_questions", "component_id": "component:OpenQuestionsBlockV1:1.0.0", "source_pointer": "/open_questions"}, {"order": 80, "shape": "container", "title": "Notes for Implementation", "context": {"title": "Notes for Implementation"}, "section_id": "implementation_notes", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/implementation_notes"}, {"order": 90, "shape": "container", "title": "Risks", "context": {"title": "Risks"}, "section_id": "risks", "component_id": "component:RisksBlockV1:1.0.0", "source_pointer": "/risks"}]	accepted	2026-01-09 21:17:14.844754-05	seed	2026-01-09 21:17:14.863542-05
42f389f5-e238-4d68-99cf-bddfb4ac52ef	docdef:StorySummaryView:1.0.0	\N	{"role": "You are producing a Story Summary for scanning.", "constraints": ["3 fields maximum.", "Intentionally lossy.", "Optimized for scanning, not understanding.", "Must NOT include: acceptance_criteria, scope, dependencies, questions, notes."]}	[{"order": 10, "shape": "single", "title": "Story Intent", "context": {"title": ""}, "section_id": "story_intent", "component_id": "component:ParagraphBlockV1:1.0.0", "source_pointer": "/intent", "detail_ref_template": {"params": {"story_id": "/story_id"}, "document_type": "StoryDetailView"}}, {"order": 20, "shape": "single", "title": "Phase", "context": {"title": "Phase"}, "section_id": "phase", "component_id": "component:IndicatorBlockV1:1.0.0", "source_pointer": "/phase"}, {"order": 30, "shape": "single", "title": "Risk Level", "context": {"title": "Risk"}, "section_id": "risk_level", "component_id": "component:IndicatorBlockV1:1.0.0", "derived_from": {"source": "/risks", "function": "risk_level", "omit_when_source_empty": true}}]	accepted	2026-01-09 21:17:14.844754-05	seed	2026-01-09 21:17:14.864841-05
fa548aad-247a-4340-bce3-53957961251d	docdef:StoryBacklogView:1.0.0	\N	{"role": "You are producing a Story Backlog view.", "constraints": ["Epic cards with nested story summaries.", "Stories are summary-level only.", "One card per epic."]}	[{"order": 10, "shape": "container", "title": null, "section_id": "epic_stories", "repeat_over": "/epics", "component_id": "component:EpicStoriesCardBlockV1:1.0.0", "source_pointer": "/"}]	accepted	2026-01-09 21:17:14.844754-05	seed	2026-01-09 21:17:14.866288-05
\.
COPY public.document_types (id, doc_type_id, name, description, category, icon, schema_definition, schema_version, builder_role, builder_task, system_prompt_id, handler_id, required_inputs, optional_inputs, gating_rules, scope, display_order, is_active, version, created_at, updated_at, created_by, notes, acceptance_required, accepted_by_role, view_docdef, status_badges, primary_action, display_config) FROM stdin;
ed36cf87-1517-446f-bc86-1b862de2f4db	project_discovery	Project Discovery	Product Discovery captures what weΓÇÖre trying to build before we decide how to build it.\nThis document records the problem being solved, the goals that matter, known constraints, risks, and the things we explicitly donΓÇÖt know yet.\n\nIts purpose is to establish shared understanding and prevent premature decisions. Everything that follows ΓÇö epics, architecture, and stories ΓÇö should trace back to whatΓÇÖs captured here. If Product Discovery is weak or missing, downstream documents will drift or contradict each other.	architecture	compass	{"type": "object", "required": ["project_name", "preliminary_summary"], "properties": {"unknowns": {"type": "array", "items": {"type": "object"}}, "project_name": {"type": "string"}, "mvp_guardrails": {"type": "array", "items": {"type": "object"}}, "blocking_questions": {"type": "array", "items": {"type": "object"}}, "preliminary_summary": {"type": "string"}, "early_decision_points": {"type": "array", "items": {"type": "object"}}, "architectural_directions": {"type": "array", "items": {"type": "object"}}}}	1.0	architect	project_discovery	\N	project_discovery	[]	[]	{}	project	10	t	1.0	2025-12-17 11:38:28.951547-05	2025-12-17 11:38:28.951547-05	\N	\N	f	\N	ProjectDiscovery	\N	\N	\N
a49fc2d7-a4e6-4402-a1cd-ab425685241e	epic_backlog	Epic Backlog	The Epic Backlog defines the major units of intent required to deliver the product. Each epic represents a meaningful outcome that must exist for the product to succeed, without prescribing implementation details.\n\nThis document translates discovery into structure. It sets scope boundaries, highlights dependencies, and makes explicit what is in and out of the MVP. Architecture uses the Epic Backlog as its primary input. Stories are never created directly from discovery.	planning	layers	{"epics": [{"name": "string", "intent": "string", "epic_id": "string", "in_scope": ["string"], "mvp_phase": "mvp | later-phase", "dependencies": [{"reason": "string", "depends_on_epic_id": "string"}], "out_of_scope": ["string"], "business_value": "string", "open_questions": ["string"], "primary_outcomes": ["string"], "notes_for_architecture": ["string"], "related_discovery_items": {"risks": ["string"], "unknowns": ["string"], "early_decision_points": ["string"]}}], "project_name": "string", "risks_overview": [{"impact": "string", "description": "string", "affected_epics": ["string"]}], "epic_set_summary": {"out_of_scope": ["string"], "mvp_definition": "string", "overall_intent": "string", "key_constraints": ["string"]}, "recommendations_for_architecture": ["string"]}	1.0	pm	epic_backlog	\N	epic_backlog	["project_discovery"]	["architecture_spec"]	{}	project	20	t	1.0	2025-12-17 11:38:28.951547-05	2025-12-17 11:38:28.951547-05	\N	\N	f	pm	EpicBacklogView	\N	\N	\N
40882ada-0854-440a-97c2-743ceadde8ca	story_backlog	Story Backlog	Canonical story backlog containing epics with nested story summaries. Initialized from EpicBacklog, populated by generate-epic commands.	planning	list-checks	{"type": "object", "required": ["project_id", "epics"], "properties": {"epics": {"type": "array", "items": {"type": "object", "required": ["epic_id", "name", "stories"], "properties": {"name": {"type": "string"}, "intent": {"type": "string"}, "epic_id": {"type": "string"}, "stories": {"type": "array"}, "mvp_phase": {"type": "string"}}}}, "project_id": {"type": "string"}, "project_name": {"type": "string"}, "source_epic_backlog_ref": {"type": "object"}}}	2.0	system	init	\N	story_backlog_init	["epic_backlog", "technical_architecture"]	[]	{}	project	40	t	1.0	2026-01-09 21:31:28.735581-05	2026-01-09 21:31:28.735581-05	\N	\N	f	\N	StoryBacklogView	\N	\N	\N
7b049d86-f54e-4a32-8954-6de351d517f1	technical_architecture	Technical Architecture	Technical Architecture describes how the system will be structured to support the epics.\nIt defines components, responsibilities, data models, interfaces, and key technical decisions ΓÇö but only to the level necessary to enable implementation.\n\nThis document exists to reduce risk and ambiguity before work begins. It ensures that stories are feasible, consistent, and aligned with system constraints. If architecture is missing or incomplete, story breakdown becomes guesswork.	architecture	landmark	{"type": "object", "required": ["architecture_summary", "components"], "properties": {"risks": {"type": "array"}, "workflows": {"type": "array"}, "components": {"type": "array", "items": {"type": "object", "required": ["name", "purpose"], "properties": {"name": {"type": "string"}, "purpose": {"type": "string"}, "interfaces": {"type": "array"}, "technology": {"type": "string"}}}}, "data_models": {"type": "array"}, "api_interfaces": {"type": "array"}, "quality_attributes": {"type": "object"}, "architecture_summary": {"type": "object", "properties": {"style": {"type": "string"}, "title": {"type": "string"}, "key_decisions": {"type": "array", "items": {"type": "string"}}}}}}	1.0	architect	technical_architecture	\N	technical_architecture	["project_discovery"]	[]	{}	project	30	t	1.0	2025-12-17 11:38:28.951547-05	2025-12-17 11:38:28.951547-05	\N	\N	f	architect	ArchitecturalSummaryView	\N	\N	\N
713fbf40-7c08-44f2-8716-b2687e517046	story_detail	Story Detail	Full BA story output with acceptance criteria, components, and notes. Source of truth for individual story details.	planning	file-text	{"type": "object", "required": ["story_id", "epic_id", "title", "description"], "properties": {"notes": {"type": "array"}, "title": {"type": "string"}, "epic_id": {"type": "string"}, "story_id": {"type": "string"}, "mvp_phase": {"type": "string"}, "description": {"type": "string"}, "acceptance_criteria": {"type": "array"}, "related_pm_story_ids": {"type": "array"}, "related_arch_components": {"type": "array"}}}	1.0	ba	story_backlog	\N	story_detail	[]	[]	{}	story	41	t	1.0	2026-01-09 21:39:44.358472-05	2026-01-09 21:39:44.358472-05	\N	\N	f	\N	\N	\N	\N	\N
\.
