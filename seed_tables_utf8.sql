--
-- PostgreSQL database dump
--

\restrict S1qM0YlBZ30xqKdDg7RWPnMW1kL41JqHi7Qai5fzu8tLDgTyKligthlPXbPdIaU

-- Dumped from database version 18.1
-- Dumped by pg_dump version 18.1

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: document_definitions; Type: TABLE; Schema: public; Owner: combine_user
--

CREATE TABLE public.document_definitions (
    id uuid DEFAULT gen_random_uuid() NOT NULL,
    document_def_id character varying(150) NOT NULL,
    document_schema_id uuid,
    prompt_header jsonb NOT NULL,
    sections jsonb NOT NULL,
    status character varying(20) DEFAULT 'draft'::character varying NOT NULL,
    created_at timestamp with time zone DEFAULT now() NOT NULL,
    created_by character varying(100),
    accepted_at timestamp with time zone,
    CONSTRAINT ck_document_definitions_status CHECK (((status)::text = ANY ((ARRAY['draft'::character varying, 'accepted'::character varying])::text[])))
);


ALTER TABLE public.document_definitions OWNER TO combine_user;

--
-- Data for Name: document_definitions; Type: TABLE DATA; Schema: public; Owner: combine_user
--

COPY public.document_definitions (id, document_def_id, document_schema_id, prompt_header, sections, status, created_at, created_by, accepted_at) FROM stdin;
99067959-6e45-4b71-8262-cfd1491e236f	docdef:EpicBacklog:1.0.0	\N	{"role": "You are a Business Analyst creating an Epic Backlog for a software project.", "constraints": ["Output valid JSON matching the document schema.", "Be specific and actionable.", "Do not invent requirements not supported by inputs.", "Each epic must have at least one open question if unknowns exist."]}	[{"order": 10, "shape": "nested_list", "title": "Open Questions", "context": {"epic_id": "/id", "epic_title": "/title"}, "section_id": "epic_open_questions", "description": "Questions requiring human decision before implementation", "repeat_over": "/epics", "component_id": "component:OpenQuestionV1:1.0.0", "source_pointer": "/open_questions"}]	accepted	2026-01-09 21:17:14.844754-05	seed	2026-01-09 21:17:14.846827-05
ceb262ec-4d2f-482c-b42d-df752cec80bb	docdef:EpicBacklog:1.1.0	\N	{"role": "You are a Business Analyst creating an Epic Backlog for a software project.", "constraints": ["Output valid JSON matching the document schema.", "Be specific and actionable.", "Do not invent requirements not supported by inputs.", "Each epic must have at least one open question if unknowns exist."]}	[{"order": 10, "shape": "container", "title": "Open Questions", "context": {"epic_id": "/id", "epic_title": "/title"}, "section_id": "epic_open_questions", "description": "Questions requiring human decision before implementation", "repeat_over": "/epics", "component_id": "component:OpenQuestionsBlockV1:1.0.0", "source_pointer": "/open_questions"}]	accepted	2026-01-09 21:17:14.844754-05	seed	2026-01-09 21:17:14.849775-05
1edbb50e-b9dd-42fc-b3a7-7675d9b16301	docdef:RootQuestionsTest:1.0.0	\N	{"role": "Test document for root-level questions.", "constraints": []}	[{"order": 10, "shape": "container", "title": "Open Questions", "section_id": "root_questions", "component_id": "component:OpenQuestionsBlockV1:1.0.0", "source_pointer": "/open_questions"}]	accepted	2026-01-09 21:17:14.844754-05	seed	2026-01-09 21:17:14.851429-05
c3ea4899-3f8a-47ca-aa1a-cddfa9075562	docdef:DeepNestingTest:1.0.0	\N	{"role": "Test document for deep nesting probe.", "constraints": []}	[{"order": 10, "shape": "container", "title": "Capability Questions", "context": {"epic_id": "/id", "epic_title": "/title"}, "section_id": "deep_questions", "repeat_over": "/epics", "component_id": "component:OpenQuestionsBlockV1:1.0.0", "source_pointer": "/open_questions"}]	accepted	2026-01-09 21:17:14.844754-05	seed	2026-01-09 21:17:14.852847-05
904548ff-f7e6-4972-bbda-d13059dc4409	docdef:StoryBacklogTest:1.0.0	\N	{"role": "Test document for story backlog rendering.", "constraints": []}	[{"order": 10, "shape": "container", "title": "Stories", "context": {"epic_id": "/id", "epic_title": "/title"}, "section_id": "epic_stories", "repeat_over": "/epics", "component_id": "component:StoriesBlockV1:1.0.0", "source_pointer": "/stories"}]	accepted	2026-01-09 21:17:14.844754-05	seed	2026-01-09 21:17:14.854145-05
06a3f7e6-53bd-4554-8184-961b2ffd1db0	docdef:ProjectDiscovery:1.0.0	\N	{"role": "You are producing a Project Discovery document.", "constraints": ["Do not propose solutions, architectures, plans, or implementation approaches.", "Do not infer intent beyond what is supported by inputs.", "All assumptions must be stated explicitly and labeled as assumptions.", "Unknowns must remain visible, not filled in."]}	[{"order": 10, "shape": "single", "title": "Preliminary Summary", "section_id": "summary", "component_id": "component:SummaryBlockV1:1.0.0", "source_pointer": "/preliminary_summary"}, {"order": 20, "shape": "container", "title": "Known Constraints", "context": {"title": "Known Constraints"}, "section_id": "constraints", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/known_constraints"}, {"order": 30, "shape": "container", "title": "Assumptions", "context": {"title": "Assumptions"}, "section_id": "assumptions", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/assumptions"}, {"order": 40, "shape": "container", "title": "Identified Risks", "context": {"title": "Identified Risks"}, "section_id": "risks", "component_id": "component:RisksBlockV1:1.0.0", "source_pointer": "/identified_risks"}, {"order": 50, "shape": "container", "title": "MVP Guardrails", "context": {"style": "check", "title": "MVP Guardrails"}, "section_id": "guardrails", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/mvp_guardrails"}, {"order": 60, "shape": "container", "title": "Recommendations for PM", "context": {"title": "Recommendations for PM"}, "section_id": "recommendations", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/recommendations_for_pm"}]	accepted	2026-01-09 21:17:14.844754-05	seed	2026-01-09 21:17:14.855509-05
67a40b19-3413-4903-b943-28959d593f82	docdef:EpicSummaryView:1.0.0	\N	{"role": "You are producing an Epic Summary for backlog scanning.", "constraints": ["Keep summary intentionally brief.", "3-5 fields maximum.", "Optimized for scanning, not understanding."]}	[{"order": 10, "shape": "single", "title": "Title", "context": {"title": ""}, "section_id": "title", "component_id": "component:ParagraphBlockV1:1.0.0", "source_pointer": "/title"}, {"order": 20, "shape": "single", "title": "Intent", "context": {"title": "Intent"}, "section_id": "intent", "component_id": "component:ParagraphBlockV1:1.0.0", "source_pointer": "/vision"}, {"order": 30, "shape": "single", "title": "Phase", "context": {"title": "Phase"}, "section_id": "phase", "component_id": "component:ParagraphBlockV1:1.0.0", "source_pointer": "/phase"}, {"order": 40, "shape": "single", "title": "Risk Level", "context": {"title": "Risk"}, "section_id": "risk_level", "component_id": "component:IndicatorBlockV1:1.0.0", "derived_from": {"source": "/risks", "function": "risk_level"}}]	accepted	2026-01-09 21:17:14.844754-05	seed	2026-01-09 21:17:14.856916-05
573074f0-291a-406d-846d-9d5554d58508	docdef:EpicDetailView:1.0.0	\N	{"role": "You are producing an Epic Detail document.", "constraints": ["Focus on the single epic being defined.", "Be specific about scope boundaries.", "All risks must include likelihood and impact.", "Open questions should identify blocking vs non-blocking."]}	[{"order": 10, "shape": "single", "title": "Vision", "context": {"title": "Vision"}, "section_id": "vision", "component_id": "component:ParagraphBlockV1:1.0.0", "source_pointer": "/vision"}, {"order": 20, "shape": "single", "title": "Problem/Opportunity", "context": {"title": "Problem/Opportunity"}, "section_id": "problem", "component_id": "component:ParagraphBlockV1:1.0.0", "source_pointer": "/problem"}, {"order": 30, "shape": "container", "title": "Business Goals", "context": {"title": "Business Goals"}, "section_id": "business_goals", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/business_goals"}, {"order": 40, "shape": "container", "title": "In Scope", "context": {"style": "check", "title": "In Scope"}, "section_id": "in_scope", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/in_scope"}, {"order": 50, "shape": "container", "title": "Out of Scope", "context": {"title": "Out of Scope"}, "section_id": "out_of_scope", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/out_of_scope"}, {"order": 60, "shape": "container", "title": "Requirements", "context": {"style": "numbered", "title": "Requirements"}, "section_id": "requirements", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/requirements"}, {"order": 70, "shape": "container", "title": "Acceptance Criteria", "context": {"style": "check", "title": "Acceptance Criteria"}, "section_id": "acceptance_criteria", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/acceptance_criteria"}, {"order": 80, "shape": "container", "title": "Risks", "context": {"title": "Risks"}, "section_id": "risks", "component_id": "component:RisksBlockV1:1.0.0", "source_pointer": "/risks"}, {"order": 90, "shape": "container", "title": "Open Questions", "context": {"title": "Open Questions"}, "section_id": "open_questions", "component_id": "component:OpenQuestionsBlockV1:1.0.0", "source_pointer": "/open_questions"}, {"order": 100, "shape": "container", "title": "Dependencies", "context": {"title": "Dependencies"}, "section_id": "dependencies", "component_id": "component:DependenciesBlockV1:1.0.0", "source_pointer": "/dependencies"}]	accepted	2026-01-09 21:17:14.844754-05	seed	2026-01-09 21:17:14.858126-05
9828e0bf-cba5-47e4-ad75-6a297aa2b73a	docdef:EpicBacklogView:1.0.0	\N	{"role": "You are producing an Epic Backlog overview.", "constraints": ["Show project context and epic set summary first.", "Each epic renders as a summary card.", "Include risks overview and architecture recommendations."]}	[{"order": 10, "shape": "single", "title": "Epic Set Summary", "section_id": "epic_set_summary", "viewer_tab": "overview", "component_id": "component:SummaryBlockV1:1.0.0", "source_pointer": "/epic_set_summary"}, {"order": 20, "shape": "container", "title": "Key Constraints", "section_id": "key_constraints", "viewer_tab": "overview", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/epic_set_summary/key_constraints"}, {"order": 30, "shape": "container", "title": "Out of Scope", "section_id": "out_of_scope", "viewer_tab": "overview", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/epic_set_summary/out_of_scope"}, {"order": 40, "shape": "container", "title": "Epics", "context": {"epic_id": "/epic_id", "epic_title": "/title"}, "section_id": "epic_summaries", "viewer_tab": "details", "repeat_over": "/epics", "component_id": "component:EpicSummaryBlockV1:1.0.0", "derived_fields": [{"field": "risk_level", "source": "/risks", "function": "risk_level"}], "exclude_fields": ["risks", "open_questions", "requirements", "acceptance_criteria", "notes_for_architecture", "related_discovery_items"], "source_pointer": "/", "detail_ref_template": {"params": {"epic_id": "/epic_id"}, "document_type": "EpicDetailView"}}, {"order": 50, "shape": "container", "title": "Risks Overview", "section_id": "risks_overview", "viewer_tab": "overview", "component_id": "component:RisksBlockV1:1.0.0", "source_pointer": "/risks_overview"}, {"order": 60, "shape": "container", "title": "Recommendations for Architecture", "section_id": "architecture_recommendations", "viewer_tab": "overview", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/recommendations_for_architecture"}]	accepted	2026-01-09 21:17:14.844754-05	seed	2026-01-09 21:17:14.859508-05
30f06469-2847-4460-946a-30f1c448b530	docdef:EpicArchitectureView:1.0.0	\N	{"role": "You are producing an Epic Architecture document.", "constraints": ["Focus on technical structure for one epic.", "Text-first, typed where it matters.", "No diagrams required."]}	[{"order": 10, "shape": "single", "title": "Architecture Intent", "context": {"title": "Architecture Intent"}, "section_id": "architecture_intent", "component_id": "component:ParagraphBlockV1:1.0.0", "source_pointer": "/architecture_intent"}, {"order": 20, "shape": "container", "title": "Systems/Services Touched", "context": {"title": "Systems/Services Touched"}, "section_id": "systems_touched", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/systems_touched"}, {"order": 30, "shape": "container", "title": "External Integrations", "context": {"title": "External Integrations"}, "section_id": "external_integrations", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/external_integrations"}, {"order": 40, "shape": "container", "title": "Key Interfaces/APIs", "context": {"title": "Key Interfaces/APIs"}, "section_id": "key_interfaces", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/key_interfaces"}, {"order": 50, "shape": "container", "title": "Data/Events", "context": {"title": "Data/Events"}, "section_id": "data_events", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/data_events"}, {"order": 60, "shape": "container", "title": "Dependencies", "context": {"title": "Dependencies"}, "section_id": "dependencies", "component_id": "component:DependenciesBlockV1:1.0.0", "source_pointer": "/dependencies"}, {"order": 70, "shape": "container", "title": "Architectural Constraints", "context": {"title": "Architectural Constraints"}, "section_id": "architectural_constraints", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/architectural_constraints"}, {"order": 80, "shape": "container", "title": "Architecture Decisions", "context": {"style": "numbered", "title": "Architecture Decisions"}, "section_id": "architecture_decisions", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/architecture_decisions"}, {"order": 90, "shape": "container", "title": "Architecture Open Questions", "context": {"title": "Architecture Open Questions"}, "section_id": "architecture_open_questions", "component_id": "component:OpenQuestionsBlockV1:1.0.0", "source_pointer": "/architecture_open_questions"}, {"order": 100, "shape": "container", "title": "Observability/SLO Notes", "context": {"title": "Observability/SLO Notes"}, "section_id": "observability_notes", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/observability_notes"}]	accepted	2026-01-09 21:17:14.844754-05	seed	2026-01-09 21:17:14.860866-05
b521e4e9-79f1-48b3-9bd6-76c7d11889da	docdef:ArchitecturalSummaryView:1.0.0	\N	{"role": "You are producing an Architecture document view.", "constraints": ["Full architecture detail with overview and details tabs.", "Overview shows summary and key decisions.", "Details shows components, interfaces, workflows, etc."]}	[{"order": 10, "shape": "single", "title": "Architecture Summary", "section_id": "architecture_summary", "viewer_tab": "overview", "component_id": "component:SummaryBlockV1:1.0.0", "source_pointer": "/architecture_summary"}, {"order": 20, "shape": "container", "title": "Key Decisions", "section_id": "key_decisions", "viewer_tab": "overview", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/architecture_summary/key_decisions"}, {"order": 30, "shape": "container", "title": "MVP Scope Notes", "section_id": "mvp_scope_notes", "viewer_tab": "overview", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/architecture_summary/mvp_scope_notes"}, {"order": 40, "shape": "single", "title": "Problem Statement", "section_id": "problem_statement", "viewer_tab": "overview", "component_id": "component:ParagraphBlockV1:1.0.0", "source_pointer": "/context/problem_statement"}, {"order": 100, "shape": "container", "title": "Constraints", "section_id": "constraints", "viewer_tab": "details", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/context/constraints"}, {"order": 110, "shape": "container", "title": "Assumptions", "section_id": "assumptions", "viewer_tab": "details", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/context/assumptions"}, {"order": 120, "shape": "container", "title": "Non-Goals", "section_id": "non_goals", "viewer_tab": "details", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/context/non_goals"}, {"order": 200, "shape": "container", "title": "Components", "section_id": "components", "viewer_tab": "implementation", "repeat_over": "/components", "component_id": "component:ArchComponentBlockV1:1.0.0", "source_pointer": "/"}, {"order": 210, "shape": "container", "title": "Data Model", "section_id": "data_model", "viewer_tab": "implementation", "repeat_over": "/data_model", "component_id": "component:DataModelBlockV1:1.0.0", "source_pointer": "/"}, {"order": 220, "shape": "container", "title": "Interfaces", "section_id": "interfaces", "viewer_tab": "implementation", "repeat_over": "/interfaces", "component_id": "component:InterfaceBlockV1:1.0.0", "source_pointer": "/"}, {"order": 230, "shape": "container", "title": "Workflows", "section_id": "workflows", "viewer_tab": "details", "repeat_over": "/workflows", "component_id": "component:WorkflowBlockV1:1.0.0", "source_pointer": "/"}, {"order": 240, "shape": "container", "title": "Quality Attributes", "section_id": "quality_attributes", "viewer_tab": "details", "repeat_over": "/quality_attributes", "component_id": "component:QualityAttributeBlockV1:1.0.0", "source_pointer": "/"}, {"order": 300, "shape": "container", "title": "Data Classification", "section_id": "security_data_classification", "viewer_tab": "details", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/security_considerations/data_classification"}, {"order": 310, "shape": "container", "title": "Security Controls", "section_id": "security_controls", "viewer_tab": "details", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/security_considerations/controls"}, {"order": 400, "shape": "container", "title": "Logging", "section_id": "observability_logging", "viewer_tab": "details", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/observability/logging"}, {"order": 410, "shape": "container", "title": "Metrics", "section_id": "observability_metrics", "viewer_tab": "details", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/observability/metrics"}, {"order": 500, "shape": "container", "title": "Risks", "section_id": "risks", "viewer_tab": "details", "component_id": "component:RisksBlockV1:1.0.0", "source_pointer": "/risks"}, {"order": 510, "shape": "container", "title": "Open Questions", "section_id": "open_questions", "viewer_tab": "details", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/open_questions"}]	accepted	2026-01-09 21:17:14.844754-05	seed	2026-01-09 21:17:14.862079-05
50e927bb-b7c5-4779-afa2-99e0fe042d49	docdef:StoryDetailView:1.0.0	\N	{"role": "You are producing a Story Detail document.", "constraints": ["Single-story comprehensive view.", "Optimized for understanding and execution.", "Do not duplicate epic-level fields (vision, roadmap, business goals).", "Acceptance criteria must be a list, not prose."]}	[{"order": 10, "shape": "single", "title": "Story Intent", "context": {"title": "Story Intent"}, "section_id": "story_intent", "component_id": "component:ParagraphBlockV1:1.0.0", "source_pointer": "/intent", "detail_ref_template": {"params": {"epic_id": "/epic_id"}, "document_type": "EpicDetailView"}}, {"order": 20, "shape": "single", "title": "User Value", "context": {"title": "User Value"}, "section_id": "user_value", "component_id": "component:ParagraphBlockV1:1.0.0", "source_pointer": "/user_value"}, {"order": 30, "shape": "container", "title": "Acceptance Criteria", "context": {"style": "check", "title": "Acceptance Criteria"}, "section_id": "acceptance_criteria", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/acceptance_criteria"}, {"order": 40, "shape": "container", "title": "In Scope", "context": {"style": "check", "title": "In Scope"}, "section_id": "in_scope", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/in_scope"}, {"order": 50, "shape": "container", "title": "Out of Scope", "context": {"title": "Out of Scope"}, "section_id": "out_of_scope", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/out_of_scope"}, {"order": 60, "shape": "container", "title": "Dependencies", "context": {"title": "Dependencies"}, "section_id": "dependencies", "component_id": "component:DependenciesBlockV1:1.0.0", "source_pointer": "/dependencies"}, {"order": 70, "shape": "container", "title": "Open Questions", "context": {"title": "Open Questions"}, "section_id": "open_questions", "component_id": "component:OpenQuestionsBlockV1:1.0.0", "source_pointer": "/open_questions"}, {"order": 80, "shape": "container", "title": "Notes for Implementation", "context": {"title": "Notes for Implementation"}, "section_id": "implementation_notes", "component_id": "component:StringListBlockV1:1.0.0", "source_pointer": "/implementation_notes"}, {"order": 90, "shape": "container", "title": "Risks", "context": {"title": "Risks"}, "section_id": "risks", "component_id": "component:RisksBlockV1:1.0.0", "source_pointer": "/risks"}]	accepted	2026-01-09 21:17:14.844754-05	seed	2026-01-09 21:17:14.863542-05
42f389f5-e238-4d68-99cf-bddfb4ac52ef	docdef:StorySummaryView:1.0.0	\N	{"role": "You are producing a Story Summary for scanning.", "constraints": ["3 fields maximum.", "Intentionally lossy.", "Optimized for scanning, not understanding.", "Must NOT include: acceptance_criteria, scope, dependencies, questions, notes."]}	[{"order": 10, "shape": "single", "title": "Story Intent", "context": {"title": ""}, "section_id": "story_intent", "component_id": "component:ParagraphBlockV1:1.0.0", "source_pointer": "/intent", "detail_ref_template": {"params": {"story_id": "/story_id"}, "document_type": "StoryDetailView"}}, {"order": 20, "shape": "single", "title": "Phase", "context": {"title": "Phase"}, "section_id": "phase", "component_id": "component:IndicatorBlockV1:1.0.0", "source_pointer": "/phase"}, {"order": 30, "shape": "single", "title": "Risk Level", "context": {"title": "Risk"}, "section_id": "risk_level", "component_id": "component:IndicatorBlockV1:1.0.0", "derived_from": {"source": "/risks", "function": "risk_level", "omit_when_source_empty": true}}]	accepted	2026-01-09 21:17:14.844754-05	seed	2026-01-09 21:17:14.864841-05
fa548aad-247a-4340-bce3-53957961251d	docdef:StoryBacklogView:1.0.0	\N	{"role": "You are producing a Story Backlog view.", "constraints": ["Epic cards with nested story summaries.", "Stories are summary-level only.", "One card per epic."]}	[{"order": 10, "shape": "container", "title": null, "section_id": "epic_stories", "repeat_over": "/epics", "component_id": "component:EpicStoriesCardBlockV1:1.0.0", "source_pointer": "/"}]	accepted	2026-01-09 21:17:14.844754-05	seed	2026-01-09 21:17:14.866288-05
\.


--
-- Name: document_definitions document_definitions_document_def_id_key; Type: CONSTRAINT; Schema: public; Owner: combine_user
--

ALTER TABLE ONLY public.document_definitions
    ADD CONSTRAINT document_definitions_document_def_id_key UNIQUE (document_def_id);


--
-- Name: document_definitions document_definitions_pkey; Type: CONSTRAINT; Schema: public; Owner: combine_user
--

ALTER TABLE ONLY public.document_definitions
    ADD CONSTRAINT document_definitions_pkey PRIMARY KEY (id);


--
-- Name: ix_document_definitions_accepted_at; Type: INDEX; Schema: public; Owner: combine_user
--

CREATE INDEX ix_document_definitions_accepted_at ON public.document_definitions USING btree (accepted_at);


--
-- Name: ix_document_definitions_status; Type: INDEX; Schema: public; Owner: combine_user
--

CREATE INDEX ix_document_definitions_status ON public.document_definitions USING btree (status);


--
-- Name: document_definitions document_definitions_document_schema_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: combine_user
--

ALTER TABLE ONLY public.document_definitions
    ADD CONSTRAINT document_definitions_document_schema_id_fkey FOREIGN KEY (document_schema_id) REFERENCES public.schema_artifacts(id);


--
-- PostgreSQL database dump complete
--

\unrestrict S1qM0YlBZ30xqKdDg7RWPnMW1kL41JqHi7Qai5fzu8tLDgTyKligthlPXbPdIaU

