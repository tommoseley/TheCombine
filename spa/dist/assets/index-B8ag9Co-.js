(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var ts=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var db={exports:{}},Aa={},fb={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $o=Symbol.for("react.element"),YN=Symbol.for("react.portal"),XN=Symbol.for("react.fragment"),QN=Symbol.for("react.strict_mode"),ZN=Symbol.for("react.profiler"),JN=Symbol.for("react.provider"),ej=Symbol.for("react.context"),tj=Symbol.for("react.forward_ref"),nj=Symbol.for("react.suspense"),rj=Symbol.for("react.memo"),ij=Symbol.for("react.lazy"),Jg=Symbol.iterator;function oj(e){return e===null||typeof e!="object"?null:(e=Jg&&e[Jg]||e["@@iterator"],typeof e=="function"?e:null)}var hb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pb=Object.assign,mb={};function bi(e,t,n){this.props=e,this.context=t,this.refs=mb,this.updater=n||hb}bi.prototype.isReactComponent={};bi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};bi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function gb(){}gb.prototype=bi.prototype;function vm(e,t,n){this.props=e,this.context=t,this.refs=mb,this.updater=n||hb}var ym=vm.prototype=new gb;ym.constructor=vm;pb(ym,bi.prototype);ym.isPureReactComponent=!0;var ev=Array.isArray,vb=Object.prototype.hasOwnProperty,xm={current:null},yb={key:!0,ref:!0,__self:!0,__source:!0};function xb(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)vb.call(t,r)&&!yb.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:$o,type:e,key:o,ref:s,props:i,_owner:xm.current}}function sj(e,t){return{$$typeof:$o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function wm(e){return typeof e=="object"&&e!==null&&e.$$typeof===$o}function aj(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var tv=/\/+/g;function Nl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?aj(""+e.key):t.toString(36)}function Os(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case $o:case YN:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Nl(s,0):r,ev(i)?(n="",e!=null&&(n=e.replace(tv,"$&/")+"/"),Os(i,t,n,"",function(u){return u})):i!=null&&(wm(i)&&(i=sj(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(tv,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",ev(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+Nl(o,a);s+=Os(o,t,n,l,i)}else if(l=oj(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+Nl(o,a++),s+=Os(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function ns(e,t,n){if(e==null)return e;var r=[],i=0;return Os(e,r,"","",function(o){return t.call(n,o,i++)}),r}function lj(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var rt={current:null},Ls={transition:null},uj={ReactCurrentDispatcher:rt,ReactCurrentBatchConfig:Ls,ReactCurrentOwner:xm};function wb(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:ns,forEach:function(e,t,n){ns(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ns(e,function(){t++}),t},toArray:function(e){return ns(e,function(t){return t})||[]},only:function(e){if(!wm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Component=bi;ne.Fragment=XN;ne.Profiler=ZN;ne.PureComponent=vm;ne.StrictMode=QN;ne.Suspense=nj;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uj;ne.act=wb;ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=pb({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=xm.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)vb.call(t,l)&&!yb.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:$o,type:e.type,key:i,ref:o,props:r,_owner:s}};ne.createContext=function(e){return e={$$typeof:ej,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:JN,_context:e},e.Consumer=e};ne.createElement=xb;ne.createFactory=function(e){var t=xb.bind(null,e);return t.type=e,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:tj,render:e}};ne.isValidElement=wm;ne.lazy=function(e){return{$$typeof:ij,_payload:{_status:-1,_result:e},_init:lj}};ne.memo=function(e,t){return{$$typeof:rj,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=Ls.transition;Ls.transition={};try{e()}finally{Ls.transition=t}};ne.unstable_act=wb;ne.useCallback=function(e,t){return rt.current.useCallback(e,t)};ne.useContext=function(e){return rt.current.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e){return rt.current.useDeferredValue(e)};ne.useEffect=function(e,t){return rt.current.useEffect(e,t)};ne.useId=function(){return rt.current.useId()};ne.useImperativeHandle=function(e,t,n){return rt.current.useImperativeHandle(e,t,n)};ne.useInsertionEffect=function(e,t){return rt.current.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return rt.current.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return rt.current.useMemo(e,t)};ne.useReducer=function(e,t,n){return rt.current.useReducer(e,t,n)};ne.useRef=function(e){return rt.current.useRef(e)};ne.useState=function(e){return rt.current.useState(e)};ne.useSyncExternalStore=function(e,t,n){return rt.current.useSyncExternalStore(e,t,n)};ne.useTransition=function(){return rt.current.useTransition()};ne.version="18.3.1";fb.exports=ne;var k=fb.exports;const $=gm(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cj=k,dj=Symbol.for("react.element"),fj=Symbol.for("react.fragment"),hj=Object.prototype.hasOwnProperty,pj=cj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mj={key:!0,ref:!0,__self:!0,__source:!0};function _b(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)hj.call(t,r)&&!mj.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:dj,type:e,key:o,ref:s,props:i,_owner:pj.current}}Aa.Fragment=fj;Aa.jsx=_b;Aa.jsxs=_b;db.exports=Aa;var d=db.exports,ip={},bb={exports:{}},_t={},Sb={exports:{}},Eb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,j){var A=I.length;I.push(j);e:for(;0<A;){var M=A-1>>>1,D=I[M];if(0<i(D,j))I[M]=j,I[A]=D,A=M;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var j=I[0],A=I.pop();if(A!==j){I[0]=A;e:for(var M=0,D=I.length,B=D>>>1;M<B;){var U=2*(M+1)-1,K=I[U],Q=U+1,Z=I[Q];if(0>i(K,A))Q<D&&0>i(Z,K)?(I[M]=Z,I[Q]=A,M=Q):(I[M]=K,I[U]=A,M=U);else if(Q<D&&0>i(Z,A))I[M]=Z,I[Q]=A,M=Q;else break e}}return j}function i(I,j){var A=I.sortIndex-j.sortIndex;return A!==0?A:I.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,h=3,p=!1,y=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(I){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=I)r(u),j.sortIndex=j.expirationTime,t(l,j);else break;j=n(u)}}function x(I){if(v=!1,w(I),!y)if(n(l)!==null)y=!0,T(S);else{var j=n(u);j!==null&&z(x,j.startTime-I)}}function S(I,j){y=!1,v&&(v=!1,m(C),C=-1),p=!0;var A=h;try{for(w(j),f=n(l);f!==null&&(!(f.expirationTime>j)||I&&!L());){var M=f.callback;if(typeof M=="function"){f.callback=null,h=f.priorityLevel;var D=M(f.expirationTime<=j);j=e.unstable_now(),typeof D=="function"?f.callback=D:f===n(l)&&r(l),w(j)}else r(l);f=n(l)}if(f!==null)var B=!0;else{var U=n(u);U!==null&&z(x,U.startTime-j),B=!1}return B}finally{f=null,h=A,p=!1}}var E=!1,N=null,C=-1,R=5,O=-1;function L(){return!(e.unstable_now()-O<R)}function F(){if(N!==null){var I=e.unstable_now();O=I;var j=!0;try{j=N(!0,I)}finally{j?q():(E=!1,N=null)}}else E=!1}var q;if(typeof g=="function")q=function(){g(F)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,P=b.port2;b.port1.onmessage=F,q=function(){P.postMessage(null)}}else q=function(){_(F,0)};function T(I){N=I,E||(E=!0,q())}function z(I,j){C=_(function(){I(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,T(S))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(I){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var A=h;h=j;try{return I()}finally{h=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,j){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var A=h;h=I;try{return j()}finally{h=A}},e.unstable_scheduleCallback=function(I,j,A){var M=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?M+A:M):A=M,I){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=A+D,I={id:c++,callback:j,priorityLevel:I,startTime:A,expirationTime:D,sortIndex:-1},A>M?(I.sortIndex=A,t(u,I),n(l)===null&&I===n(u)&&(v?(m(C),C=-1):v=!0,z(x,A-M))):(I.sortIndex=D,t(l,I),y||p||(y=!0,T(S))),I},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(I){var j=h;return function(){var A=h;h=j;try{return I.apply(this,arguments)}finally{h=A}}}})(Eb);Sb.exports=Eb;var gj=Sb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vj=k,xt=gj;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kb=new Set,go={};function Ir(e,t){di(e,t),di(e+"Capture",t)}function di(e,t){for(go[e]=t,e=0;e<t.length;e++)kb.add(t[e])}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),op=Object.prototype.hasOwnProperty,yj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nv={},rv={};function xj(e){return op.call(rv,e)?!0:op.call(nv,e)?!1:yj.test(e)?rv[e]=!0:(nv[e]=!0,!1)}function wj(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _j(e,t,n,r){if(t===null||typeof t>"u"||wj(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function it(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ge[e]=new it(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ge[t]=new it(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ge[e]=new it(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ge[e]=new it(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ge[e]=new it(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ge[e]=new it(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ge[e]=new it(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ge[e]=new it(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ge[e]=new it(e,5,!1,e.toLowerCase(),null,!1,!1)});var _m=/[\-:]([a-z])/g;function bm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_m,bm);Ge[t]=new it(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_m,bm);Ge[t]=new it(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_m,bm);Ge[t]=new it(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ge[e]=new it(e,1,!1,e.toLowerCase(),null,!1,!1)});Ge.xlinkHref=new it("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ge[e]=new it(e,1,!1,e.toLowerCase(),null,!0,!0)});function Sm(e,t,n,r){var i=Ge.hasOwnProperty(t)?Ge[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_j(t,n,i,r)&&(n=null),r||i===null?xj(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Nn=vj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rs=Symbol.for("react.element"),Hr=Symbol.for("react.portal"),Ur=Symbol.for("react.fragment"),Em=Symbol.for("react.strict_mode"),sp=Symbol.for("react.profiler"),Nb=Symbol.for("react.provider"),jb=Symbol.for("react.context"),km=Symbol.for("react.forward_ref"),ap=Symbol.for("react.suspense"),lp=Symbol.for("react.suspense_list"),Nm=Symbol.for("react.memo"),Mn=Symbol.for("react.lazy"),Cb=Symbol.for("react.offscreen"),iv=Symbol.iterator;function Pi(e){return e===null||typeof e!="object"?null:(e=iv&&e[iv]||e["@@iterator"],typeof e=="function"?e:null)}var Ne=Object.assign,jl;function Wi(e){if(jl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);jl=t&&t[1]||""}return`
`+jl+e}var Cl=!1;function Tl(e,t){if(!e||Cl)return"";Cl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{Cl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Wi(e):""}function bj(e){switch(e.tag){case 5:return Wi(e.type);case 16:return Wi("Lazy");case 13:return Wi("Suspense");case 19:return Wi("SuspenseList");case 0:case 2:case 15:return e=Tl(e.type,!1),e;case 11:return e=Tl(e.type.render,!1),e;case 1:return e=Tl(e.type,!0),e;default:return""}}function up(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ur:return"Fragment";case Hr:return"Portal";case sp:return"Profiler";case Em:return"StrictMode";case ap:return"Suspense";case lp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case jb:return(e.displayName||"Context")+".Consumer";case Nb:return(e._context.displayName||"Context")+".Provider";case km:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Nm:return t=e.displayName||null,t!==null?t:up(e.type)||"Memo";case Mn:t=e._payload,e=e._init;try{return up(e(t))}catch{}}return null}function Sj(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return up(t);case 8:return t===Em?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function er(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Tb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ej(e){var t=Tb(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function is(e){e._valueTracker||(e._valueTracker=Ej(e))}function Rb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Tb(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Qs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function cp(e,t){var n=t.checked;return Ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ov(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=er(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ib(e,t){t=t.checked,t!=null&&Sm(e,"checked",t,!1)}function dp(e,t){Ib(e,t);var n=er(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fp(e,t.type,n):t.hasOwnProperty("defaultValue")&&fp(e,t.type,er(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function sv(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function fp(e,t,n){(t!=="number"||Qs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Gi=Array.isArray;function ni(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+er(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function hp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return Ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function av(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(H(92));if(Gi(n)){if(1<n.length)throw Error(H(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:er(n)}}function Pb(e,t){var n=er(t.value),r=er(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function lv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Mb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Mb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var os,Ab=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(os=os||document.createElement("div"),os.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=os.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function vo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var io={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kj=["Webkit","ms","Moz","O"];Object.keys(io).forEach(function(e){kj.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),io[t]=io[e]})});function Ob(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||io.hasOwnProperty(e)&&io[e]?(""+t).trim():t+"px"}function Lb(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ob(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Nj=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mp(e,t){if(t){if(Nj[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function gp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vp=null;function jm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yp=null,ri=null,ii=null;function uv(e){if(e=Uo(e)){if(typeof yp!="function")throw Error(H(280));var t=e.stateNode;t&&(t=Da(t),yp(e.stateNode,e.type,t))}}function qb(e){ri?ii?ii.push(e):ii=[e]:ri=e}function zb(){if(ri){var e=ri,t=ii;if(ii=ri=null,uv(e),t)for(e=0;e<t.length;e++)uv(t[e])}}function Db(e,t){return e(t)}function Fb(){}var Rl=!1;function $b(e,t,n){if(Rl)return e(t,n);Rl=!0;try{return Db(e,t,n)}finally{Rl=!1,(ri!==null||ii!==null)&&(Fb(),zb())}}function yo(e,t){var n=e.stateNode;if(n===null)return null;var r=Da(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(H(231,t,typeof n));return n}var xp=!1;if(xn)try{var Mi={};Object.defineProperty(Mi,"passive",{get:function(){xp=!0}}),window.addEventListener("test",Mi,Mi),window.removeEventListener("test",Mi,Mi)}catch{xp=!1}function jj(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var oo=!1,Zs=null,Js=!1,wp=null,Cj={onError:function(e){oo=!0,Zs=e}};function Tj(e,t,n,r,i,o,s,a,l){oo=!1,Zs=null,jj.apply(Cj,arguments)}function Rj(e,t,n,r,i,o,s,a,l){if(Tj.apply(this,arguments),oo){if(oo){var u=Zs;oo=!1,Zs=null}else throw Error(H(198));Js||(Js=!0,wp=u)}}function Pr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Bb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function cv(e){if(Pr(e)!==e)throw Error(H(188))}function Ij(e){var t=e.alternate;if(!t){if(t=Pr(e),t===null)throw Error(H(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return cv(i),e;if(o===r)return cv(i),t;o=o.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?e:t}function Hb(e){return e=Ij(e),e!==null?Ub(e):null}function Ub(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ub(e);if(t!==null)return t;e=e.sibling}return null}var Vb=xt.unstable_scheduleCallback,dv=xt.unstable_cancelCallback,Pj=xt.unstable_shouldYield,Mj=xt.unstable_requestPaint,Ie=xt.unstable_now,Aj=xt.unstable_getCurrentPriorityLevel,Cm=xt.unstable_ImmediatePriority,Wb=xt.unstable_UserBlockingPriority,ea=xt.unstable_NormalPriority,Oj=xt.unstable_LowPriority,Gb=xt.unstable_IdlePriority,Oa=null,Jt=null;function Lj(e){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(Oa,e,void 0,(e.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:Dj,qj=Math.log,zj=Math.LN2;function Dj(e){return e>>>=0,e===0?32:31-(qj(e)/zj|0)|0}var ss=64,as=4194304;function Ki(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ta(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Ki(a):(o&=s,o!==0&&(r=Ki(o)))}else s=n&~i,s!==0?r=Ki(s):o!==0&&(r=Ki(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-$t(t),i=1<<n,r|=e[n],t&=~i;return r}function Fj(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $j(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-$t(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=Fj(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function _p(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Kb(){var e=ss;return ss<<=1,!(ss&4194240)&&(ss=64),e}function Il(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$t(t),e[t]=n}function Bj(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-$t(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Tm(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-$t(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var fe=0;function Yb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Xb,Rm,Qb,Zb,Jb,bp=!1,ls=[],Un=null,Vn=null,Wn=null,xo=new Map,wo=new Map,qn=[],Hj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fv(e,t){switch(e){case"focusin":case"focusout":Un=null;break;case"dragenter":case"dragleave":Vn=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":xo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wo.delete(t.pointerId)}}function Ai(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Uo(t),t!==null&&Rm(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Uj(e,t,n,r,i){switch(t){case"focusin":return Un=Ai(Un,e,t,n,r,i),!0;case"dragenter":return Vn=Ai(Vn,e,t,n,r,i),!0;case"mouseover":return Wn=Ai(Wn,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return xo.set(o,Ai(xo.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,wo.set(o,Ai(wo.get(o)||null,e,t,n,r,i)),!0}return!1}function e2(e){var t=pr(e.target);if(t!==null){var n=Pr(t);if(n!==null){if(t=n.tag,t===13){if(t=Bb(n),t!==null){e.blockedOn=t,Jb(e.priority,function(){Qb(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Sp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);vp=r,n.target.dispatchEvent(r),vp=null}else return t=Uo(n),t!==null&&Rm(t),e.blockedOn=n,!1;t.shift()}return!0}function hv(e,t,n){qs(e)&&n.delete(t)}function Vj(){bp=!1,Un!==null&&qs(Un)&&(Un=null),Vn!==null&&qs(Vn)&&(Vn=null),Wn!==null&&qs(Wn)&&(Wn=null),xo.forEach(hv),wo.forEach(hv)}function Oi(e,t){e.blockedOn===t&&(e.blockedOn=null,bp||(bp=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,Vj)))}function _o(e){function t(i){return Oi(i,e)}if(0<ls.length){Oi(ls[0],e);for(var n=1;n<ls.length;n++){var r=ls[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Un!==null&&Oi(Un,e),Vn!==null&&Oi(Vn,e),Wn!==null&&Oi(Wn,e),xo.forEach(t),wo.forEach(t),n=0;n<qn.length;n++)r=qn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<qn.length&&(n=qn[0],n.blockedOn===null);)e2(n),n.blockedOn===null&&qn.shift()}var oi=Nn.ReactCurrentBatchConfig,na=!0;function Wj(e,t,n,r){var i=fe,o=oi.transition;oi.transition=null;try{fe=1,Im(e,t,n,r)}finally{fe=i,oi.transition=o}}function Gj(e,t,n,r){var i=fe,o=oi.transition;oi.transition=null;try{fe=4,Im(e,t,n,r)}finally{fe=i,oi.transition=o}}function Im(e,t,n,r){if(na){var i=Sp(e,t,n,r);if(i===null)$l(e,t,r,ra,n),fv(e,r);else if(Uj(i,e,t,n,r))r.stopPropagation();else if(fv(e,r),t&4&&-1<Hj.indexOf(e)){for(;i!==null;){var o=Uo(i);if(o!==null&&Xb(o),o=Sp(e,t,n,r),o===null&&$l(e,t,r,ra,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else $l(e,t,r,null,n)}}var ra=null;function Sp(e,t,n,r){if(ra=null,e=jm(r),e=pr(e),e!==null)if(t=Pr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Bb(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ra=e,null}function t2(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Aj()){case Cm:return 1;case Wb:return 4;case ea:case Oj:return 16;case Gb:return 536870912;default:return 16}default:return 16}}var Bn=null,Pm=null,zs=null;function n2(){if(zs)return zs;var e,t=Pm,n=t.length,r,i="value"in Bn?Bn.value:Bn.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return zs=i.slice(e,1<r?1-r:void 0)}function Ds(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function us(){return!0}function pv(){return!1}function bt(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?us:pv,this.isPropagationStopped=pv,this}return Ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=us)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=us)},persist:function(){},isPersistent:us}),t}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mm=bt(Si),Ho=Ne({},Si,{view:0,detail:0}),Kj=bt(Ho),Pl,Ml,Li,La=Ne({},Ho,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Am,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Li&&(Li&&e.type==="mousemove"?(Pl=e.screenX-Li.screenX,Ml=e.screenY-Li.screenY):Ml=Pl=0,Li=e),Pl)},movementY:function(e){return"movementY"in e?e.movementY:Ml}}),mv=bt(La),Yj=Ne({},La,{dataTransfer:0}),Xj=bt(Yj),Qj=Ne({},Ho,{relatedTarget:0}),Al=bt(Qj),Zj=Ne({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),Jj=bt(Zj),eC=Ne({},Si,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tC=bt(eC),nC=Ne({},Si,{data:0}),gv=bt(nC),rC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=oC[e])?!!t[e]:!1}function Am(){return sC}var aC=Ne({},Ho,{key:function(e){if(e.key){var t=rC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ds(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?iC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Am,charCode:function(e){return e.type==="keypress"?Ds(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ds(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lC=bt(aC),uC=Ne({},La,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vv=bt(uC),cC=Ne({},Ho,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Am}),dC=bt(cC),fC=Ne({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),hC=bt(fC),pC=Ne({},La,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mC=bt(pC),gC=[9,13,27,32],Om=xn&&"CompositionEvent"in window,so=null;xn&&"documentMode"in document&&(so=document.documentMode);var vC=xn&&"TextEvent"in window&&!so,r2=xn&&(!Om||so&&8<so&&11>=so),yv=" ",xv=!1;function i2(e,t){switch(e){case"keyup":return gC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function o2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vr=!1;function yC(e,t){switch(e){case"compositionend":return o2(t);case"keypress":return t.which!==32?null:(xv=!0,yv);case"textInput":return e=t.data,e===yv&&xv?null:e;default:return null}}function xC(e,t){if(Vr)return e==="compositionend"||!Om&&i2(e,t)?(e=n2(),zs=Pm=Bn=null,Vr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return r2&&t.locale!=="ko"?null:t.data;default:return null}}var wC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wC[e.type]:t==="textarea"}function s2(e,t,n,r){qb(r),t=ia(t,"onChange"),0<t.length&&(n=new Mm("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ao=null,bo=null;function _C(e){v2(e,0)}function qa(e){var t=Kr(e);if(Rb(t))return e}function bC(e,t){if(e==="change")return t}var a2=!1;if(xn){var Ol;if(xn){var Ll="oninput"in document;if(!Ll){var _v=document.createElement("div");_v.setAttribute("oninput","return;"),Ll=typeof _v.oninput=="function"}Ol=Ll}else Ol=!1;a2=Ol&&(!document.documentMode||9<document.documentMode)}function bv(){ao&&(ao.detachEvent("onpropertychange",l2),bo=ao=null)}function l2(e){if(e.propertyName==="value"&&qa(bo)){var t=[];s2(t,bo,e,jm(e)),$b(_C,t)}}function SC(e,t,n){e==="focusin"?(bv(),ao=t,bo=n,ao.attachEvent("onpropertychange",l2)):e==="focusout"&&bv()}function EC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qa(bo)}function kC(e,t){if(e==="click")return qa(t)}function NC(e,t){if(e==="input"||e==="change")return qa(t)}function jC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ht=typeof Object.is=="function"?Object.is:jC;function So(e,t){if(Ht(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!op.call(t,i)||!Ht(e[i],t[i]))return!1}return!0}function Sv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ev(e,t){var n=Sv(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Sv(n)}}function u2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?u2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function c2(){for(var e=window,t=Qs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Qs(e.document)}return t}function Lm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function CC(e){var t=c2(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&u2(n.ownerDocument.documentElement,n)){if(r!==null&&Lm(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Ev(n,o);var s=Ev(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var TC=xn&&"documentMode"in document&&11>=document.documentMode,Wr=null,Ep=null,lo=null,kp=!1;function kv(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kp||Wr==null||Wr!==Qs(r)||(r=Wr,"selectionStart"in r&&Lm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),lo&&So(lo,r)||(lo=r,r=ia(Ep,"onSelect"),0<r.length&&(t=new Mm("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Wr)))}function cs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Gr={animationend:cs("Animation","AnimationEnd"),animationiteration:cs("Animation","AnimationIteration"),animationstart:cs("Animation","AnimationStart"),transitionend:cs("Transition","TransitionEnd")},ql={},d2={};xn&&(d2=document.createElement("div").style,"AnimationEvent"in window||(delete Gr.animationend.animation,delete Gr.animationiteration.animation,delete Gr.animationstart.animation),"TransitionEvent"in window||delete Gr.transitionend.transition);function za(e){if(ql[e])return ql[e];if(!Gr[e])return e;var t=Gr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in d2)return ql[e]=t[n];return e}var f2=za("animationend"),h2=za("animationiteration"),p2=za("animationstart"),m2=za("transitionend"),g2=new Map,Nv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ir(e,t){g2.set(e,t),Ir(t,[e])}for(var zl=0;zl<Nv.length;zl++){var Dl=Nv[zl],RC=Dl.toLowerCase(),IC=Dl[0].toUpperCase()+Dl.slice(1);ir(RC,"on"+IC)}ir(f2,"onAnimationEnd");ir(h2,"onAnimationIteration");ir(p2,"onAnimationStart");ir("dblclick","onDoubleClick");ir("focusin","onFocus");ir("focusout","onBlur");ir(m2,"onTransitionEnd");di("onMouseEnter",["mouseout","mouseover"]);di("onMouseLeave",["mouseout","mouseover"]);di("onPointerEnter",["pointerout","pointerover"]);di("onPointerLeave",["pointerout","pointerover"]);Ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ir("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yi));function jv(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Rj(r,t,void 0,e),e.currentTarget=null}function v2(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;jv(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;jv(i,a,u),o=l}}}if(Js)throw e=wp,Js=!1,wp=null,e}function me(e,t){var n=t[Rp];n===void 0&&(n=t[Rp]=new Set);var r=e+"__bubble";n.has(r)||(y2(t,e,2,!1),n.add(r))}function Fl(e,t,n){var r=0;t&&(r|=4),y2(n,e,r,t)}var ds="_reactListening"+Math.random().toString(36).slice(2);function Eo(e){if(!e[ds]){e[ds]=!0,kb.forEach(function(n){n!=="selectionchange"&&(PC.has(n)||Fl(n,!1,e),Fl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ds]||(t[ds]=!0,Fl("selectionchange",!1,t))}}function y2(e,t,n,r){switch(t2(t)){case 1:var i=Wj;break;case 4:i=Gj;break;default:i=Im}n=i.bind(null,t,n,e),i=void 0,!xp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function $l(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=pr(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}$b(function(){var u=o,c=jm(n),f=[];e:{var h=g2.get(e);if(h!==void 0){var p=Mm,y=e;switch(e){case"keypress":if(Ds(n)===0)break e;case"keydown":case"keyup":p=lC;break;case"focusin":y="focus",p=Al;break;case"focusout":y="blur",p=Al;break;case"beforeblur":case"afterblur":p=Al;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=mv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Xj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=dC;break;case f2:case h2:case p2:p=Jj;break;case m2:p=hC;break;case"scroll":p=Kj;break;case"wheel":p=mC;break;case"copy":case"cut":case"paste":p=tC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=vv}var v=(t&4)!==0,_=!v&&e==="scroll",m=v?h!==null?h+"Capture":null:h;v=[];for(var g=u,w;g!==null;){w=g;var x=w.stateNode;if(w.tag===5&&x!==null&&(w=x,m!==null&&(x=yo(g,m),x!=null&&v.push(ko(g,x,w)))),_)break;g=g.return}0<v.length&&(h=new p(h,y,null,n,c),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==vp&&(y=n.relatedTarget||n.fromElement)&&(pr(y)||y[wn]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?pr(y):null,y!==null&&(_=Pr(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(v=mv,x="onMouseLeave",m="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=vv,x="onPointerLeave",m="onPointerEnter",g="pointer"),_=p==null?h:Kr(p),w=y==null?h:Kr(y),h=new v(x,g+"leave",p,n,c),h.target=_,h.relatedTarget=w,x=null,pr(c)===u&&(v=new v(m,g+"enter",y,n,c),v.target=w,v.relatedTarget=_,x=v),_=x,p&&y)t:{for(v=p,m=y,g=0,w=v;w;w=zr(w))g++;for(w=0,x=m;x;x=zr(x))w++;for(;0<g-w;)v=zr(v),g--;for(;0<w-g;)m=zr(m),w--;for(;g--;){if(v===m||m!==null&&v===m.alternate)break t;v=zr(v),m=zr(m)}v=null}else v=null;p!==null&&Cv(f,h,p,v,!1),y!==null&&_!==null&&Cv(f,_,y,v,!0)}}e:{if(h=u?Kr(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=bC;else if(wv(h))if(a2)S=NC;else{S=EC;var E=SC}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=kC);if(S&&(S=S(e,u))){s2(f,S,n,c);break e}E&&E(e,h,u),e==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&fp(h,"number",h.value)}switch(E=u?Kr(u):window,e){case"focusin":(wv(E)||E.contentEditable==="true")&&(Wr=E,Ep=u,lo=null);break;case"focusout":lo=Ep=Wr=null;break;case"mousedown":kp=!0;break;case"contextmenu":case"mouseup":case"dragend":kp=!1,kv(f,n,c);break;case"selectionchange":if(TC)break;case"keydown":case"keyup":kv(f,n,c)}var N;if(Om)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Vr?i2(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(r2&&n.locale!=="ko"&&(Vr||C!=="onCompositionStart"?C==="onCompositionEnd"&&Vr&&(N=n2()):(Bn=c,Pm="value"in Bn?Bn.value:Bn.textContent,Vr=!0)),E=ia(u,C),0<E.length&&(C=new gv(C,e,null,n,c),f.push({event:C,listeners:E}),N?C.data=N:(N=o2(n),N!==null&&(C.data=N)))),(N=vC?yC(e,n):xC(e,n))&&(u=ia(u,"onBeforeInput"),0<u.length&&(c=new gv("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=N))}v2(f,t)})}function ko(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ia(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=yo(e,n),o!=null&&r.unshift(ko(e,o,i)),o=yo(e,t),o!=null&&r.push(ko(e,o,i))),e=e.return}return r}function zr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Cv(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=yo(n,o),l!=null&&s.unshift(ko(n,l,a))):i||(l=yo(n,o),l!=null&&s.push(ko(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var MC=/\r\n?/g,AC=/\u0000|\uFFFD/g;function Tv(e){return(typeof e=="string"?e:""+e).replace(MC,`
`).replace(AC,"")}function fs(e,t,n){if(t=Tv(t),Tv(e)!==t&&n)throw Error(H(425))}function oa(){}var Np=null,jp=null;function Cp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Tp=typeof setTimeout=="function"?setTimeout:void 0,OC=typeof clearTimeout=="function"?clearTimeout:void 0,Rv=typeof Promise=="function"?Promise:void 0,LC=typeof queueMicrotask=="function"?queueMicrotask:typeof Rv<"u"?function(e){return Rv.resolve(null).then(e).catch(qC)}:Tp;function qC(e){setTimeout(function(){throw e})}function Bl(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),_o(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);_o(t)}function Gn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Iv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ei=Math.random().toString(36).slice(2),Qt="__reactFiber$"+Ei,No="__reactProps$"+Ei,wn="__reactContainer$"+Ei,Rp="__reactEvents$"+Ei,zC="__reactListeners$"+Ei,DC="__reactHandles$"+Ei;function pr(e){var t=e[Qt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[wn]||n[Qt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Iv(e);e!==null;){if(n=e[Qt])return n;e=Iv(e)}return t}e=n,n=e.parentNode}return null}function Uo(e){return e=e[Qt]||e[wn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Kr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function Da(e){return e[No]||null}var Ip=[],Yr=-1;function or(e){return{current:e}}function ge(e){0>Yr||(e.current=Ip[Yr],Ip[Yr]=null,Yr--)}function he(e,t){Yr++,Ip[Yr]=e.current,e.current=t}var tr={},Ze=or(tr),ut=or(!1),Er=tr;function fi(e,t){var n=e.type.contextTypes;if(!n)return tr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ct(e){return e=e.childContextTypes,e!=null}function sa(){ge(ut),ge(Ze)}function Pv(e,t,n){if(Ze.current!==tr)throw Error(H(168));he(Ze,t),he(ut,n)}function x2(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(H(108,Sj(e)||"Unknown",i));return Ne({},n,r)}function aa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tr,Er=Ze.current,he(Ze,e),he(ut,ut.current),!0}function Mv(e,t,n){var r=e.stateNode;if(!r)throw Error(H(169));n?(e=x2(e,t,Er),r.__reactInternalMemoizedMergedChildContext=e,ge(ut),ge(Ze),he(Ze,e)):ge(ut),he(ut,n)}var dn=null,Fa=!1,Hl=!1;function w2(e){dn===null?dn=[e]:dn.push(e)}function FC(e){Fa=!0,w2(e)}function sr(){if(!Hl&&dn!==null){Hl=!0;var e=0,t=fe;try{var n=dn;for(fe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}dn=null,Fa=!1}catch(i){throw dn!==null&&(dn=dn.slice(e+1)),Vb(Cm,sr),i}finally{fe=t,Hl=!1}}return null}var Xr=[],Qr=0,la=null,ua=0,St=[],Et=0,kr=null,fn=1,hn="";function dr(e,t){Xr[Qr++]=ua,Xr[Qr++]=la,la=e,ua=t}function _2(e,t,n){St[Et++]=fn,St[Et++]=hn,St[Et++]=kr,kr=e;var r=fn;e=hn;var i=32-$t(r)-1;r&=~(1<<i),n+=1;var o=32-$t(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,fn=1<<32-$t(t)+i|n<<i|r,hn=o+e}else fn=1<<o|n<<i|r,hn=e}function qm(e){e.return!==null&&(dr(e,1),_2(e,1,0))}function zm(e){for(;e===la;)la=Xr[--Qr],Xr[Qr]=null,ua=Xr[--Qr],Xr[Qr]=null;for(;e===kr;)kr=St[--Et],St[Et]=null,hn=St[--Et],St[Et]=null,fn=St[--Et],St[Et]=null}var yt=null,vt=null,xe=!1,Dt=null;function b2(e,t){var n=Nt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Av(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,yt=e,vt=Gn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,yt=e,vt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=kr!==null?{id:fn,overflow:hn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Nt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,yt=e,vt=null,!0):!1;default:return!1}}function Pp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Mp(e){if(xe){var t=vt;if(t){var n=t;if(!Av(e,t)){if(Pp(e))throw Error(H(418));t=Gn(n.nextSibling);var r=yt;t&&Av(e,t)?b2(r,n):(e.flags=e.flags&-4097|2,xe=!1,yt=e)}}else{if(Pp(e))throw Error(H(418));e.flags=e.flags&-4097|2,xe=!1,yt=e}}}function Ov(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yt=e}function hs(e){if(e!==yt)return!1;if(!xe)return Ov(e),xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Cp(e.type,e.memoizedProps)),t&&(t=vt)){if(Pp(e))throw S2(),Error(H(418));for(;t;)b2(e,t),t=Gn(t.nextSibling)}if(Ov(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){vt=Gn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}vt=null}}else vt=yt?Gn(e.stateNode.nextSibling):null;return!0}function S2(){for(var e=vt;e;)e=Gn(e.nextSibling)}function hi(){vt=yt=null,xe=!1}function Dm(e){Dt===null?Dt=[e]:Dt.push(e)}var $C=Nn.ReactCurrentBatchConfig;function qi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,e))}return e}function ps(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Lv(e){var t=e._init;return t(e._payload)}function E2(e){function t(m,g){if(e){var w=m.deletions;w===null?(m.deletions=[g],m.flags|=16):w.push(g)}}function n(m,g){if(!e)return null;for(;g!==null;)t(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function i(m,g){return m=Qn(m,g),m.index=0,m.sibling=null,m}function o(m,g,w){return m.index=w,e?(w=m.alternate,w!==null?(w=w.index,w<g?(m.flags|=2,g):w):(m.flags|=2,g)):(m.flags|=1048576,g)}function s(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,g,w,x){return g===null||g.tag!==6?(g=Xl(w,m.mode,x),g.return=m,g):(g=i(g,w),g.return=m,g)}function l(m,g,w,x){var S=w.type;return S===Ur?c(m,g,w.props.children,x,w.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Mn&&Lv(S)===g.type)?(x=i(g,w.props),x.ref=qi(m,g,w),x.return=m,x):(x=Ws(w.type,w.key,w.props,null,m.mode,x),x.ref=qi(m,g,w),x.return=m,x)}function u(m,g,w,x){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=Ql(w,m.mode,x),g.return=m,g):(g=i(g,w.children||[]),g.return=m,g)}function c(m,g,w,x,S){return g===null||g.tag!==7?(g=_r(w,m.mode,x,S),g.return=m,g):(g=i(g,w),g.return=m,g)}function f(m,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Xl(""+g,m.mode,w),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case rs:return w=Ws(g.type,g.key,g.props,null,m.mode,w),w.ref=qi(m,null,g),w.return=m,w;case Hr:return g=Ql(g,m.mode,w),g.return=m,g;case Mn:var x=g._init;return f(m,x(g._payload),w)}if(Gi(g)||Pi(g))return g=_r(g,m.mode,w,null),g.return=m,g;ps(m,g)}return null}function h(m,g,w,x){var S=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:a(m,g,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case rs:return w.key===S?l(m,g,w,x):null;case Hr:return w.key===S?u(m,g,w,x):null;case Mn:return S=w._init,h(m,g,S(w._payload),x)}if(Gi(w)||Pi(w))return S!==null?null:c(m,g,w,x,null);ps(m,w)}return null}function p(m,g,w,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return m=m.get(w)||null,a(g,m,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case rs:return m=m.get(x.key===null?w:x.key)||null,l(g,m,x,S);case Hr:return m=m.get(x.key===null?w:x.key)||null,u(g,m,x,S);case Mn:var E=x._init;return p(m,g,w,E(x._payload),S)}if(Gi(x)||Pi(x))return m=m.get(w)||null,c(g,m,x,S,null);ps(g,x)}return null}function y(m,g,w,x){for(var S=null,E=null,N=g,C=g=0,R=null;N!==null&&C<w.length;C++){N.index>C?(R=N,N=null):R=N.sibling;var O=h(m,N,w[C],x);if(O===null){N===null&&(N=R);break}e&&N&&O.alternate===null&&t(m,N),g=o(O,g,C),E===null?S=O:E.sibling=O,E=O,N=R}if(C===w.length)return n(m,N),xe&&dr(m,C),S;if(N===null){for(;C<w.length;C++)N=f(m,w[C],x),N!==null&&(g=o(N,g,C),E===null?S=N:E.sibling=N,E=N);return xe&&dr(m,C),S}for(N=r(m,N);C<w.length;C++)R=p(N,m,C,w[C],x),R!==null&&(e&&R.alternate!==null&&N.delete(R.key===null?C:R.key),g=o(R,g,C),E===null?S=R:E.sibling=R,E=R);return e&&N.forEach(function(L){return t(m,L)}),xe&&dr(m,C),S}function v(m,g,w,x){var S=Pi(w);if(typeof S!="function")throw Error(H(150));if(w=S.call(w),w==null)throw Error(H(151));for(var E=S=null,N=g,C=g=0,R=null,O=w.next();N!==null&&!O.done;C++,O=w.next()){N.index>C?(R=N,N=null):R=N.sibling;var L=h(m,N,O.value,x);if(L===null){N===null&&(N=R);break}e&&N&&L.alternate===null&&t(m,N),g=o(L,g,C),E===null?S=L:E.sibling=L,E=L,N=R}if(O.done)return n(m,N),xe&&dr(m,C),S;if(N===null){for(;!O.done;C++,O=w.next())O=f(m,O.value,x),O!==null&&(g=o(O,g,C),E===null?S=O:E.sibling=O,E=O);return xe&&dr(m,C),S}for(N=r(m,N);!O.done;C++,O=w.next())O=p(N,m,C,O.value,x),O!==null&&(e&&O.alternate!==null&&N.delete(O.key===null?C:O.key),g=o(O,g,C),E===null?S=O:E.sibling=O,E=O);return e&&N.forEach(function(F){return t(m,F)}),xe&&dr(m,C),S}function _(m,g,w,x){if(typeof w=="object"&&w!==null&&w.type===Ur&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case rs:e:{for(var S=w.key,E=g;E!==null;){if(E.key===S){if(S=w.type,S===Ur){if(E.tag===7){n(m,E.sibling),g=i(E,w.props.children),g.return=m,m=g;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Mn&&Lv(S)===E.type){n(m,E.sibling),g=i(E,w.props),g.ref=qi(m,E,w),g.return=m,m=g;break e}n(m,E);break}else t(m,E);E=E.sibling}w.type===Ur?(g=_r(w.props.children,m.mode,x,w.key),g.return=m,m=g):(x=Ws(w.type,w.key,w.props,null,m.mode,x),x.ref=qi(m,g,w),x.return=m,m=x)}return s(m);case Hr:e:{for(E=w.key;g!==null;){if(g.key===E)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(m,g.sibling),g=i(g,w.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else t(m,g);g=g.sibling}g=Ql(w,m.mode,x),g.return=m,m=g}return s(m);case Mn:return E=w._init,_(m,g,E(w._payload),x)}if(Gi(w))return y(m,g,w,x);if(Pi(w))return v(m,g,w,x);ps(m,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(m,g.sibling),g=i(g,w),g.return=m,m=g):(n(m,g),g=Xl(w,m.mode,x),g.return=m,m=g),s(m)):n(m,g)}return _}var pi=E2(!0),k2=E2(!1),ca=or(null),da=null,Zr=null,Fm=null;function $m(){Fm=Zr=da=null}function Bm(e){var t=ca.current;ge(ca),e._currentValue=t}function Ap(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function si(e,t){da=e,Fm=Zr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(at=!0),e.firstContext=null)}function Tt(e){var t=e._currentValue;if(Fm!==e)if(e={context:e,memoizedValue:t,next:null},Zr===null){if(da===null)throw Error(H(308));Zr=e,da.dependencies={lanes:0,firstContext:e}}else Zr=Zr.next=e;return t}var mr=null;function Hm(e){mr===null?mr=[e]:mr.push(e)}function N2(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Hm(t)):(n.next=i.next,i.next=n),t.interleaved=n,_n(e,r)}function _n(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var An=!1;function Um(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function j2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Kn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,_n(e,n)}return i=r.interleaved,i===null?(t.next=t,Hm(r)):(t.next=i.next,i.next=t),r.interleaved=t,_n(e,n)}function Fs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Tm(e,n)}}function qv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function fa(e,t,n,r){var i=e.updateQueue;An=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var h=a.lane,p=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,v=a;switch(h=t,p=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){f=y.call(p,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,h=typeof y=="function"?y.call(p,f,h):y,h==null)break e;f=Ne({},f,h);break e;case 2:An=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);jr|=s,e.lanes=s,e.memoizedState=f}}function zv(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var Vo={},en=or(Vo),jo=or(Vo),Co=or(Vo);function gr(e){if(e===Vo)throw Error(H(174));return e}function Vm(e,t){switch(he(Co,t),he(jo,e),he(en,Vo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=pp(t,e)}ge(en),he(en,t)}function mi(){ge(en),ge(jo),ge(Co)}function C2(e){gr(Co.current);var t=gr(en.current),n=pp(t,e.type);t!==n&&(he(jo,e),he(en,n))}function Wm(e){jo.current===e&&(ge(en),ge(jo))}var Ee=or(0);function ha(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ul=[];function Gm(){for(var e=0;e<Ul.length;e++)Ul[e]._workInProgressVersionPrimary=null;Ul.length=0}var $s=Nn.ReactCurrentDispatcher,Vl=Nn.ReactCurrentBatchConfig,Nr=0,ke=null,ze=null,Be=null,pa=!1,uo=!1,To=0,BC=0;function Ye(){throw Error(H(321))}function Km(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ht(e[n],t[n]))return!1;return!0}function Ym(e,t,n,r,i,o){if(Nr=o,ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$s.current=e===null||e.memoizedState===null?WC:GC,e=n(r,i),uo){o=0;do{if(uo=!1,To=0,25<=o)throw Error(H(301));o+=1,Be=ze=null,t.updateQueue=null,$s.current=KC,e=n(r,i)}while(uo)}if($s.current=ma,t=ze!==null&&ze.next!==null,Nr=0,Be=ze=ke=null,pa=!1,t)throw Error(H(300));return e}function Xm(){var e=To!==0;return To=0,e}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?ke.memoizedState=Be=e:Be=Be.next=e,Be}function Rt(){if(ze===null){var e=ke.alternate;e=e!==null?e.memoizedState:null}else e=ze.next;var t=Be===null?ke.memoizedState:Be.next;if(t!==null)Be=t,ze=e;else{if(e===null)throw Error(H(310));ze=e,e={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},Be===null?ke.memoizedState=Be=e:Be=Be.next=e}return Be}function Ro(e,t){return typeof t=="function"?t(e):t}function Wl(e){var t=Rt(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=ze,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Nr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,ke.lanes|=c,jr|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Ht(r,t.memoizedState)||(at=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,ke.lanes|=o,jr|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Gl(e){var t=Rt(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Ht(o,t.memoizedState)||(at=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function T2(){}function R2(e,t){var n=ke,r=Rt(),i=t(),o=!Ht(r.memoizedState,i);if(o&&(r.memoizedState=i,at=!0),r=r.queue,Qm(M2.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Be!==null&&Be.memoizedState.tag&1){if(n.flags|=2048,Io(9,P2.bind(null,n,r,i,t),void 0,null),He===null)throw Error(H(349));Nr&30||I2(n,t,i)}return i}function I2(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function P2(e,t,n,r){t.value=n,t.getSnapshot=r,A2(t)&&O2(e)}function M2(e,t,n){return n(function(){A2(t)&&O2(e)})}function A2(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ht(e,n)}catch{return!0}}function O2(e){var t=_n(e,1);t!==null&&Bt(t,e,1,-1)}function Dv(e){var t=Xt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ro,lastRenderedState:e},t.queue=e,e=e.dispatch=VC.bind(null,ke,e),[t.memoizedState,e]}function Io(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function L2(){return Rt().memoizedState}function Bs(e,t,n,r){var i=Xt();ke.flags|=e,i.memoizedState=Io(1|t,n,void 0,r===void 0?null:r)}function $a(e,t,n,r){var i=Rt();r=r===void 0?null:r;var o=void 0;if(ze!==null){var s=ze.memoizedState;if(o=s.destroy,r!==null&&Km(r,s.deps)){i.memoizedState=Io(t,n,o,r);return}}ke.flags|=e,i.memoizedState=Io(1|t,n,o,r)}function Fv(e,t){return Bs(8390656,8,e,t)}function Qm(e,t){return $a(2048,8,e,t)}function q2(e,t){return $a(4,2,e,t)}function z2(e,t){return $a(4,4,e,t)}function D2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function F2(e,t,n){return n=n!=null?n.concat([e]):null,$a(4,4,D2.bind(null,t,e),n)}function Zm(){}function $2(e,t){var n=Rt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Km(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function B2(e,t){var n=Rt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Km(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function H2(e,t,n){return Nr&21?(Ht(n,t)||(n=Kb(),ke.lanes|=n,jr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,at=!0),e.memoizedState=n)}function HC(e,t){var n=fe;fe=n!==0&&4>n?n:4,e(!0);var r=Vl.transition;Vl.transition={};try{e(!1),t()}finally{fe=n,Vl.transition=r}}function U2(){return Rt().memoizedState}function UC(e,t,n){var r=Xn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},V2(e))W2(t,n);else if(n=N2(e,t,n,r),n!==null){var i=nt();Bt(n,e,r,i),G2(n,t,r)}}function VC(e,t,n){var r=Xn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(V2(e))W2(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Ht(a,s)){var l=t.interleaved;l===null?(i.next=i,Hm(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=N2(e,t,i,r),n!==null&&(i=nt(),Bt(n,e,r,i),G2(n,t,r))}}function V2(e){var t=e.alternate;return e===ke||t!==null&&t===ke}function W2(e,t){uo=pa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function G2(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Tm(e,n)}}var ma={readContext:Tt,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useInsertionEffect:Ye,useLayoutEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useMutableSource:Ye,useSyncExternalStore:Ye,useId:Ye,unstable_isNewReconciler:!1},WC={readContext:Tt,useCallback:function(e,t){return Xt().memoizedState=[e,t===void 0?null:t],e},useContext:Tt,useEffect:Fv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Bs(4194308,4,D2.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bs(4,2,e,t)},useMemo:function(e,t){var n=Xt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=UC.bind(null,ke,e),[r.memoizedState,e]},useRef:function(e){var t=Xt();return e={current:e},t.memoizedState=e},useState:Dv,useDebugValue:Zm,useDeferredValue:function(e){return Xt().memoizedState=e},useTransition:function(){var e=Dv(!1),t=e[0];return e=HC.bind(null,e[1]),Xt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ke,i=Xt();if(xe){if(n===void 0)throw Error(H(407));n=n()}else{if(n=t(),He===null)throw Error(H(349));Nr&30||I2(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Fv(M2.bind(null,r,o,e),[e]),r.flags|=2048,Io(9,P2.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Xt(),t=He.identifierPrefix;if(xe){var n=hn,r=fn;n=(r&~(1<<32-$t(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=To++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=BC++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},GC={readContext:Tt,useCallback:$2,useContext:Tt,useEffect:Qm,useImperativeHandle:F2,useInsertionEffect:q2,useLayoutEffect:z2,useMemo:B2,useReducer:Wl,useRef:L2,useState:function(){return Wl(Ro)},useDebugValue:Zm,useDeferredValue:function(e){var t=Rt();return H2(t,ze.memoizedState,e)},useTransition:function(){var e=Wl(Ro)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:T2,useSyncExternalStore:R2,useId:U2,unstable_isNewReconciler:!1},KC={readContext:Tt,useCallback:$2,useContext:Tt,useEffect:Qm,useImperativeHandle:F2,useInsertionEffect:q2,useLayoutEffect:z2,useMemo:B2,useReducer:Gl,useRef:L2,useState:function(){return Gl(Ro)},useDebugValue:Zm,useDeferredValue:function(e){var t=Rt();return ze===null?t.memoizedState=e:H2(t,ze.memoizedState,e)},useTransition:function(){var e=Gl(Ro)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:T2,useSyncExternalStore:R2,useId:U2,unstable_isNewReconciler:!1};function Lt(e,t){if(e&&e.defaultProps){t=Ne({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Op(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ne({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return(e=e._reactInternals)?Pr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nt(),i=Xn(e),o=vn(r,i);o.payload=t,n!=null&&(o.callback=n),t=Kn(e,o,i),t!==null&&(Bt(t,e,i,r),Fs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nt(),i=Xn(e),o=vn(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Kn(e,o,i),t!==null&&(Bt(t,e,i,r),Fs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nt(),r=Xn(e),i=vn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Kn(e,i,r),t!==null&&(Bt(t,e,r,n),Fs(t,e,r))}};function $v(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!So(n,r)||!So(i,o):!0}function K2(e,t,n){var r=!1,i=tr,o=t.contextType;return typeof o=="object"&&o!==null?o=Tt(o):(i=ct(t)?Er:Ze.current,r=t.contextTypes,o=(r=r!=null)?fi(e,i):tr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Bv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Lp(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Um(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Tt(o):(o=ct(t)?Er:Ze.current,i.context=fi(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Op(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),fa(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function gi(e,t){try{var n="",r=t;do n+=bj(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Kl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function qp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var YC=typeof WeakMap=="function"?WeakMap:Map;function Y2(e,t,n){n=vn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){va||(va=!0,Gp=r),qp(e,t)},n}function X2(e,t,n){n=vn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){qp(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){qp(e,t),typeof r!="function"&&(Yn===null?Yn=new Set([this]):Yn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Hv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new YC;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=u4.bind(null,e,t,n),t.then(e,e))}function Uv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Vv(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=vn(-1,1),t.tag=2,Kn(n,t,1))),n.lanes|=1),e)}var XC=Nn.ReactCurrentOwner,at=!1;function tt(e,t,n,r){t.child=e===null?k2(t,null,n,r):pi(t,e.child,n,r)}function Wv(e,t,n,r,i){n=n.render;var o=t.ref;return si(t,i),r=Ym(e,t,n,r,o,i),n=Xm(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,bn(e,t,i)):(xe&&n&&qm(t),t.flags|=1,tt(e,t,r,i),t.child)}function Gv(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!sg(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Q2(e,t,o,r,i)):(e=Ws(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:So,n(s,r)&&e.ref===t.ref)return bn(e,t,i)}return t.flags|=1,e=Qn(o,r),e.ref=t.ref,e.return=t,t.child=e}function Q2(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(So(o,r)&&e.ref===t.ref)if(at=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(at=!0);else return t.lanes=e.lanes,bn(e,t,i)}return zp(e,t,n,r,i)}function Z2(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(ei,mt),mt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,he(ei,mt),mt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,he(ei,mt),mt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,he(ei,mt),mt|=r;return tt(e,t,i,n),t.child}function J2(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function zp(e,t,n,r,i){var o=ct(n)?Er:Ze.current;return o=fi(t,o),si(t,i),n=Ym(e,t,n,r,o,i),r=Xm(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,bn(e,t,i)):(xe&&r&&qm(t),t.flags|=1,tt(e,t,n,i),t.child)}function Kv(e,t,n,r,i){if(ct(n)){var o=!0;aa(t)}else o=!1;if(si(t,i),t.stateNode===null)Hs(e,t),K2(t,n,r),Lp(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Tt(u):(u=ct(n)?Er:Ze.current,u=fi(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Bv(t,s,r,u),An=!1;var h=t.memoizedState;s.state=h,fa(t,r,s,i),l=t.memoizedState,a!==r||h!==l||ut.current||An?(typeof c=="function"&&(Op(t,n,c,r),l=t.memoizedState),(a=An||$v(t,n,a,r,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,j2(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Lt(t.type,a),s.props=u,f=t.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Tt(l):(l=ct(n)?Er:Ze.current,l=fi(t,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&Bv(t,s,r,l),An=!1,h=t.memoizedState,s.state=h,fa(t,r,s,i);var y=t.memoizedState;a!==f||h!==y||ut.current||An?(typeof p=="function"&&(Op(t,n,p,r),y=t.memoizedState),(u=An||$v(t,n,u,r,h,y,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),s.props=r,s.state=y,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Dp(e,t,n,r,o,i)}function Dp(e,t,n,r,i,o){J2(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Mv(t,n,!1),bn(e,t,o);r=t.stateNode,XC.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=pi(t,e.child,null,o),t.child=pi(t,null,a,o)):tt(e,t,a,o),t.memoizedState=r.state,i&&Mv(t,n,!0),t.child}function eS(e){var t=e.stateNode;t.pendingContext?Pv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Pv(e,t.context,!1),Vm(e,t.containerInfo)}function Yv(e,t,n,r,i){return hi(),Dm(i),t.flags|=256,tt(e,t,n,r),t.child}var Fp={dehydrated:null,treeContext:null,retryLane:0};function $p(e){return{baseLanes:e,cachePool:null,transitions:null}}function tS(e,t,n){var r=t.pendingProps,i=Ee.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),he(Ee,i&1),e===null)return Mp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Va(s,r,0,null),e=_r(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=$p(n),t.memoizedState=Fp,e):Jm(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return QC(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Qn(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Qn(a,o):(o=_r(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?$p(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Fp,r}return o=e.child,e=o.sibling,r=Qn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Jm(e,t){return t=Va({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ms(e,t,n,r){return r!==null&&Dm(r),pi(t,e.child,null,n),e=Jm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function QC(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=Kl(Error(H(422))),ms(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Va({mode:"visible",children:r.children},i,0,null),o=_r(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&pi(t,e.child,null,s),t.child.memoizedState=$p(s),t.memoizedState=Fp,o);if(!(t.mode&1))return ms(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(H(419)),r=Kl(o,r,void 0),ms(e,t,s,r)}if(a=(s&e.childLanes)!==0,at||a){if(r=He,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,_n(e,i),Bt(r,e,i,-1))}return og(),r=Kl(Error(H(421))),ms(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=c4.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,vt=Gn(i.nextSibling),yt=t,xe=!0,Dt=null,e!==null&&(St[Et++]=fn,St[Et++]=hn,St[Et++]=kr,fn=e.id,hn=e.overflow,kr=t),t=Jm(t,r.children),t.flags|=4096,t)}function Xv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ap(e.return,t,n)}function Yl(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function nS(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(tt(e,t,r.children,n),r=Ee.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xv(e,n,t);else if(e.tag===19)Xv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(he(Ee,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ha(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Yl(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ha(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Yl(t,!0,n,null,o);break;case"together":Yl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),jr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,n=Qn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Qn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ZC(e,t,n){switch(t.tag){case 3:eS(t),hi();break;case 5:C2(t);break;case 1:ct(t.type)&&aa(t);break;case 4:Vm(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;he(ca,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(he(Ee,Ee.current&1),t.flags|=128,null):n&t.child.childLanes?tS(e,t,n):(he(Ee,Ee.current&1),e=bn(e,t,n),e!==null?e.sibling:null);he(Ee,Ee.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return nS(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),he(Ee,Ee.current),r)break;return null;case 22:case 23:return t.lanes=0,Z2(e,t,n)}return bn(e,t,n)}var rS,Bp,iS,oS;rS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bp=function(){};iS=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,gr(en.current);var o=null;switch(n){case"input":i=cp(e,i),r=cp(e,r),o=[];break;case"select":i=Ne({},i,{value:void 0}),r=Ne({},r,{value:void 0}),o=[];break;case"textarea":i=hp(e,i),r=hp(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=oa)}mp(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(go.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(go.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&me("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};oS=function(e,t,n,r){n!==r&&(t.flags|=4)};function zi(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function JC(e,t,n){var r=t.pendingProps;switch(zm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(t),null;case 1:return ct(t.type)&&sa(),Xe(t),null;case 3:return r=t.stateNode,mi(),ge(ut),ge(Ze),Gm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(hs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Dt!==null&&(Xp(Dt),Dt=null))),Bp(e,t),Xe(t),null;case 5:Wm(t);var i=gr(Co.current);if(n=t.type,e!==null&&t.stateNode!=null)iS(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(H(166));return Xe(t),null}if(e=gr(en.current),hs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Qt]=t,r[No]=o,e=(t.mode&1)!==0,n){case"dialog":me("cancel",r),me("close",r);break;case"iframe":case"object":case"embed":me("load",r);break;case"video":case"audio":for(i=0;i<Yi.length;i++)me(Yi[i],r);break;case"source":me("error",r);break;case"img":case"image":case"link":me("error",r),me("load",r);break;case"details":me("toggle",r);break;case"input":ov(r,o),me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},me("invalid",r);break;case"textarea":av(r,o),me("invalid",r)}mp(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&fs(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&fs(r.textContent,a,e),i=["children",""+a]):go.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&me("scroll",r)}switch(n){case"input":is(r),sv(r,o,!0);break;case"textarea":is(r),lv(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=oa)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Mb(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Qt]=t,e[No]=r,rS(e,t,!1,!1),t.stateNode=e;e:{switch(s=gp(n,r),n){case"dialog":me("cancel",e),me("close",e),i=r;break;case"iframe":case"object":case"embed":me("load",e),i=r;break;case"video":case"audio":for(i=0;i<Yi.length;i++)me(Yi[i],e);i=r;break;case"source":me("error",e),i=r;break;case"img":case"image":case"link":me("error",e),me("load",e),i=r;break;case"details":me("toggle",e),i=r;break;case"input":ov(e,r),i=cp(e,r),me("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ne({},r,{value:void 0}),me("invalid",e);break;case"textarea":av(e,r),i=hp(e,r),me("invalid",e);break;default:i=r}mp(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Lb(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ab(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&vo(e,l):typeof l=="number"&&vo(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(go.hasOwnProperty(o)?l!=null&&o==="onScroll"&&me("scroll",e):l!=null&&Sm(e,o,l,s))}switch(n){case"input":is(e),sv(e,r,!1);break;case"textarea":is(e),lv(e);break;case"option":r.value!=null&&e.setAttribute("value",""+er(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?ni(e,!!r.multiple,o,!1):r.defaultValue!=null&&ni(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=oa)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xe(t),null;case 6:if(e&&t.stateNode!=null)oS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(H(166));if(n=gr(Co.current),gr(en.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[Qt]=t,(o=r.nodeValue!==n)&&(e=yt,e!==null))switch(e.tag){case 3:fs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fs(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qt]=t,t.stateNode=r}return Xe(t),null;case 13:if(ge(Ee),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xe&&vt!==null&&t.mode&1&&!(t.flags&128))S2(),hi(),t.flags|=98560,o=!1;else if(o=hs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(H(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(H(317));o[Qt]=t}else hi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xe(t),o=!1}else Dt!==null&&(Xp(Dt),Dt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ee.current&1?De===0&&(De=3):og())),t.updateQueue!==null&&(t.flags|=4),Xe(t),null);case 4:return mi(),Bp(e,t),e===null&&Eo(t.stateNode.containerInfo),Xe(t),null;case 10:return Bm(t.type._context),Xe(t),null;case 17:return ct(t.type)&&sa(),Xe(t),null;case 19:if(ge(Ee),o=t.memoizedState,o===null)return Xe(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)zi(o,!1);else{if(De!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=ha(e),s!==null){for(t.flags|=128,zi(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return he(Ee,Ee.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ie()>vi&&(t.flags|=128,r=!0,zi(o,!1),t.lanes=4194304)}else{if(!r)if(e=ha(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),zi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!xe)return Xe(t),null}else 2*Ie()-o.renderingStartTime>vi&&n!==1073741824&&(t.flags|=128,r=!0,zi(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ie(),t.sibling=null,n=Ee.current,he(Ee,r?n&1|2:n&1),t):(Xe(t),null);case 22:case 23:return ig(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?mt&1073741824&&(Xe(t),t.subtreeFlags&6&&(t.flags|=8192)):Xe(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function e4(e,t){switch(zm(t),t.tag){case 1:return ct(t.type)&&sa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return mi(),ge(ut),ge(Ze),Gm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Wm(t),null;case 13:if(ge(Ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));hi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ge(Ee),null;case 4:return mi(),null;case 10:return Bm(t.type._context),null;case 22:case 23:return ig(),null;case 24:return null;default:return null}}var gs=!1,Qe=!1,t4=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Jr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ce(e,t,r)}else n.current=null}function Hp(e,t,n){try{n()}catch(r){Ce(e,t,r)}}var Qv=!1;function n4(e,t){if(Np=na,e=c2(),Lm(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=e,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===i&&(a=s),h===o&&++c===r&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(jp={focusedElem:e,selectionRange:n},na=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,_=y.memoizedState,m=t.stateNode,g=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:Lt(t.type,v),_);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(x){Ce(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return y=Qv,Qv=!1,y}function co(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Hp(t,n,o)}i=i.next}while(i!==r)}}function Ha(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Up(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function sS(e){var t=e.alternate;t!==null&&(e.alternate=null,sS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Qt],delete t[No],delete t[Rp],delete t[zC],delete t[DC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function aS(e){return e.tag===5||e.tag===3||e.tag===4}function Zv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||aS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=oa));else if(r!==4&&(e=e.child,e!==null))for(Vp(e,t,n),e=e.sibling;e!==null;)Vp(e,t,n),e=e.sibling}function Wp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Wp(e,t,n),e=e.sibling;e!==null;)Wp(e,t,n),e=e.sibling}var Ve=null,qt=!1;function Rn(e,t,n){for(n=n.child;n!==null;)lS(e,t,n),n=n.sibling}function lS(e,t,n){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(Oa,n)}catch{}switch(n.tag){case 5:Qe||Jr(n,t);case 6:var r=Ve,i=qt;Ve=null,Rn(e,t,n),Ve=r,qt=i,Ve!==null&&(qt?(e=Ve,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ve.removeChild(n.stateNode));break;case 18:Ve!==null&&(qt?(e=Ve,n=n.stateNode,e.nodeType===8?Bl(e.parentNode,n):e.nodeType===1&&Bl(e,n),_o(e)):Bl(Ve,n.stateNode));break;case 4:r=Ve,i=qt,Ve=n.stateNode.containerInfo,qt=!0,Rn(e,t,n),Ve=r,qt=i;break;case 0:case 11:case 14:case 15:if(!Qe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Hp(n,t,s),i=i.next}while(i!==r)}Rn(e,t,n);break;case 1:if(!Qe&&(Jr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ce(n,t,a)}Rn(e,t,n);break;case 21:Rn(e,t,n);break;case 22:n.mode&1?(Qe=(r=Qe)||n.memoizedState!==null,Rn(e,t,n),Qe=r):Rn(e,t,n);break;default:Rn(e,t,n)}}function Jv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new t4),t.forEach(function(r){var i=d4.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function At(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ve=a.stateNode,qt=!1;break e;case 3:Ve=a.stateNode.containerInfo,qt=!0;break e;case 4:Ve=a.stateNode.containerInfo,qt=!0;break e}a=a.return}if(Ve===null)throw Error(H(160));lS(o,s,i),Ve=null,qt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ce(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)uS(t,e),t=t.sibling}function uS(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(At(t,e),Yt(e),r&4){try{co(3,e,e.return),Ha(3,e)}catch(v){Ce(e,e.return,v)}try{co(5,e,e.return)}catch(v){Ce(e,e.return,v)}}break;case 1:At(t,e),Yt(e),r&512&&n!==null&&Jr(n,n.return);break;case 5:if(At(t,e),Yt(e),r&512&&n!==null&&Jr(n,n.return),e.flags&32){var i=e.stateNode;try{vo(i,"")}catch(v){Ce(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Ib(i,o),gp(a,s);var u=gp(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?Lb(i,f):c==="dangerouslySetInnerHTML"?Ab(i,f):c==="children"?vo(i,f):Sm(i,c,f,u)}switch(a){case"input":dp(i,o);break;case"textarea":Pb(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?ni(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?ni(i,!!o.multiple,o.defaultValue,!0):ni(i,!!o.multiple,o.multiple?[]:"",!1))}i[No]=o}catch(v){Ce(e,e.return,v)}}break;case 6:if(At(t,e),Yt(e),r&4){if(e.stateNode===null)throw Error(H(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(v){Ce(e,e.return,v)}}break;case 3:if(At(t,e),Yt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_o(t.containerInfo)}catch(v){Ce(e,e.return,v)}break;case 4:At(t,e),Yt(e);break;case 13:At(t,e),Yt(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(ng=Ie())),r&4&&Jv(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Qe=(u=Qe)||c,At(t,e),Qe=u):At(t,e),Yt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(Y=e,c=e.child;c!==null;){for(f=Y=c;Y!==null;){switch(h=Y,p=h.child,h.tag){case 0:case 11:case 14:case 15:co(4,h,h.return);break;case 1:Jr(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(v){Ce(r,n,v)}}break;case 5:Jr(h,h.return);break;case 22:if(h.memoizedState!==null){ty(f);continue}}p!==null?(p.return=h,Y=p):ty(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Ob("display",s))}catch(v){Ce(e,e.return,v)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Ce(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:At(t,e),Yt(e),r&4&&Jv(e);break;case 21:break;default:At(t,e),Yt(e)}}function Yt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(aS(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(vo(i,""),r.flags&=-33);var o=Zv(e);Wp(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Zv(e);Vp(e,a,s);break;default:throw Error(H(161))}}catch(l){Ce(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function r4(e,t,n){Y=e,cS(e)}function cS(e,t,n){for(var r=(e.mode&1)!==0;Y!==null;){var i=Y,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||gs;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Qe;a=gs;var u=Qe;if(gs=s,(Qe=l)&&!u)for(Y=i;Y!==null;)s=Y,l=s.child,s.tag===22&&s.memoizedState!==null?ny(i):l!==null?(l.return=s,Y=l):ny(i);for(;o!==null;)Y=o,cS(o),o=o.sibling;Y=i,gs=a,Qe=u}ey(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Y=o):ey(e)}}function ey(e){for(;Y!==null;){var t=Y;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qe||Ha(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Qe)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Lt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&zv(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}zv(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&_o(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Qe||t.flags&512&&Up(t)}catch(h){Ce(t,t.return,h)}}if(t===e){Y=null;break}if(n=t.sibling,n!==null){n.return=t.return,Y=n;break}Y=t.return}}function ty(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Y=n;break}Y=t.return}}function ny(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ha(4,t)}catch(l){Ce(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Ce(t,i,l)}}var o=t.return;try{Up(t)}catch(l){Ce(t,o,l)}break;case 5:var s=t.return;try{Up(t)}catch(l){Ce(t,s,l)}}}catch(l){Ce(t,t.return,l)}if(t===e){Y=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Y=a;break}Y=t.return}}var i4=Math.ceil,ga=Nn.ReactCurrentDispatcher,eg=Nn.ReactCurrentOwner,Ct=Nn.ReactCurrentBatchConfig,ue=0,He=null,Ae=null,We=0,mt=0,ei=or(0),De=0,Po=null,jr=0,Ua=0,tg=0,fo=null,st=null,ng=0,vi=1/0,cn=null,va=!1,Gp=null,Yn=null,vs=!1,Hn=null,ya=0,ho=0,Kp=null,Us=-1,Vs=0;function nt(){return ue&6?Ie():Us!==-1?Us:Us=Ie()}function Xn(e){return e.mode&1?ue&2&&We!==0?We&-We:$C.transition!==null?(Vs===0&&(Vs=Kb()),Vs):(e=fe,e!==0||(e=window.event,e=e===void 0?16:t2(e.type)),e):1}function Bt(e,t,n,r){if(50<ho)throw ho=0,Kp=null,Error(H(185));Bo(e,n,r),(!(ue&2)||e!==He)&&(e===He&&(!(ue&2)&&(Ua|=n),De===4&&zn(e,We)),dt(e,r),n===1&&ue===0&&!(t.mode&1)&&(vi=Ie()+500,Fa&&sr()))}function dt(e,t){var n=e.callbackNode;$j(e,t);var r=ta(e,e===He?We:0);if(r===0)n!==null&&dv(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&dv(n),t===1)e.tag===0?FC(ry.bind(null,e)):w2(ry.bind(null,e)),LC(function(){!(ue&6)&&sr()}),n=null;else{switch(Yb(r)){case 1:n=Cm;break;case 4:n=Wb;break;case 16:n=ea;break;case 536870912:n=Gb;break;default:n=ea}n=yS(n,dS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function dS(e,t){if(Us=-1,Vs=0,ue&6)throw Error(H(327));var n=e.callbackNode;if(ai()&&e.callbackNode!==n)return null;var r=ta(e,e===He?We:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=xa(e,r);else{t=r;var i=ue;ue|=2;var o=hS();(He!==e||We!==t)&&(cn=null,vi=Ie()+500,wr(e,t));do try{a4();break}catch(a){fS(e,a)}while(!0);$m(),ga.current=o,ue=i,Ae!==null?t=0:(He=null,We=0,t=De)}if(t!==0){if(t===2&&(i=_p(e),i!==0&&(r=i,t=Yp(e,i))),t===1)throw n=Po,wr(e,0),zn(e,r),dt(e,Ie()),n;if(t===6)zn(e,r);else{if(i=e.current.alternate,!(r&30)&&!o4(i)&&(t=xa(e,r),t===2&&(o=_p(e),o!==0&&(r=o,t=Yp(e,o))),t===1))throw n=Po,wr(e,0),zn(e,r),dt(e,Ie()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(H(345));case 2:fr(e,st,cn);break;case 3:if(zn(e,r),(r&130023424)===r&&(t=ng+500-Ie(),10<t)){if(ta(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){nt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Tp(fr.bind(null,e,st,cn),t);break}fr(e,st,cn);break;case 4:if(zn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-$t(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=Ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*i4(r/1960))-r,10<r){e.timeoutHandle=Tp(fr.bind(null,e,st,cn),r);break}fr(e,st,cn);break;case 5:fr(e,st,cn);break;default:throw Error(H(329))}}}return dt(e,Ie()),e.callbackNode===n?dS.bind(null,e):null}function Yp(e,t){var n=fo;return e.current.memoizedState.isDehydrated&&(wr(e,t).flags|=256),e=xa(e,t),e!==2&&(t=st,st=n,t!==null&&Xp(t)),e}function Xp(e){st===null?st=e:st.push.apply(st,e)}function o4(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Ht(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zn(e,t){for(t&=~tg,t&=~Ua,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-$t(t),r=1<<n;e[n]=-1,t&=~r}}function ry(e){if(ue&6)throw Error(H(327));ai();var t=ta(e,0);if(!(t&1))return dt(e,Ie()),null;var n=xa(e,t);if(e.tag!==0&&n===2){var r=_p(e);r!==0&&(t=r,n=Yp(e,r))}if(n===1)throw n=Po,wr(e,0),zn(e,t),dt(e,Ie()),n;if(n===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fr(e,st,cn),dt(e,Ie()),null}function rg(e,t){var n=ue;ue|=1;try{return e(t)}finally{ue=n,ue===0&&(vi=Ie()+500,Fa&&sr())}}function Cr(e){Hn!==null&&Hn.tag===0&&!(ue&6)&&ai();var t=ue;ue|=1;var n=Ct.transition,r=fe;try{if(Ct.transition=null,fe=1,e)return e()}finally{fe=r,Ct.transition=n,ue=t,!(ue&6)&&sr()}}function ig(){mt=ei.current,ge(ei)}function wr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,OC(n)),Ae!==null)for(n=Ae.return;n!==null;){var r=n;switch(zm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&sa();break;case 3:mi(),ge(ut),ge(Ze),Gm();break;case 5:Wm(r);break;case 4:mi();break;case 13:ge(Ee);break;case 19:ge(Ee);break;case 10:Bm(r.type._context);break;case 22:case 23:ig()}n=n.return}if(He=e,Ae=e=Qn(e.current,null),We=mt=t,De=0,Po=null,tg=Ua=jr=0,st=fo=null,mr!==null){for(t=0;t<mr.length;t++)if(n=mr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}mr=null}return e}function fS(e,t){do{var n=Ae;try{if($m(),$s.current=ma,pa){for(var r=ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}pa=!1}if(Nr=0,Be=ze=ke=null,uo=!1,To=0,eg.current=null,n===null||n.return===null){De=1,Po=t,Ae=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=We,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=Uv(s);if(p!==null){p.flags&=-257,Vv(p,s,a,o,t),p.mode&1&&Hv(o,u,t),t=p,l=u;var y=t.updateQueue;if(y===null){var v=new Set;v.add(l),t.updateQueue=v}else y.add(l);break e}else{if(!(t&1)){Hv(o,u,t),og();break e}l=Error(H(426))}}else if(xe&&a.mode&1){var _=Uv(s);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Vv(_,s,a,o,t),Dm(gi(l,a));break e}}o=l=gi(l,a),De!==4&&(De=2),fo===null?fo=[o]:fo.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var m=Y2(o,l,t);qv(o,m);break e;case 1:a=l;var g=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Yn===null||!Yn.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var x=X2(o,a,t);qv(o,x);break e}}o=o.return}while(o!==null)}mS(n)}catch(S){t=S,Ae===n&&n!==null&&(Ae=n=n.return);continue}break}while(!0)}function hS(){var e=ga.current;return ga.current=ma,e===null?ma:e}function og(){(De===0||De===3||De===2)&&(De=4),He===null||!(jr&268435455)&&!(Ua&268435455)||zn(He,We)}function xa(e,t){var n=ue;ue|=2;var r=hS();(He!==e||We!==t)&&(cn=null,wr(e,t));do try{s4();break}catch(i){fS(e,i)}while(!0);if($m(),ue=n,ga.current=r,Ae!==null)throw Error(H(261));return He=null,We=0,De}function s4(){for(;Ae!==null;)pS(Ae)}function a4(){for(;Ae!==null&&!Pj();)pS(Ae)}function pS(e){var t=vS(e.alternate,e,mt);e.memoizedProps=e.pendingProps,t===null?mS(e):Ae=t,eg.current=null}function mS(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=e4(n,t),n!==null){n.flags&=32767,Ae=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{De=6,Ae=null;return}}else if(n=JC(n,t,mt),n!==null){Ae=n;return}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);De===0&&(De=5)}function fr(e,t,n){var r=fe,i=Ct.transition;try{Ct.transition=null,fe=1,l4(e,t,n,r)}finally{Ct.transition=i,fe=r}return null}function l4(e,t,n,r){do ai();while(Hn!==null);if(ue&6)throw Error(H(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Bj(e,o),e===He&&(Ae=He=null,We=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||vs||(vs=!0,yS(ea,function(){return ai(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ct.transition,Ct.transition=null;var s=fe;fe=1;var a=ue;ue|=4,eg.current=null,n4(e,n),uS(n,e),CC(jp),na=!!Np,jp=Np=null,e.current=n,r4(n),Mj(),ue=a,fe=s,Ct.transition=o}else e.current=n;if(vs&&(vs=!1,Hn=e,ya=i),o=e.pendingLanes,o===0&&(Yn=null),Lj(n.stateNode),dt(e,Ie()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(va)throw va=!1,e=Gp,Gp=null,e;return ya&1&&e.tag!==0&&ai(),o=e.pendingLanes,o&1?e===Kp?ho++:(ho=0,Kp=e):ho=0,sr(),null}function ai(){if(Hn!==null){var e=Yb(ya),t=Ct.transition,n=fe;try{if(Ct.transition=null,fe=16>e?16:e,Hn===null)var r=!1;else{if(e=Hn,Hn=null,ya=0,ue&6)throw Error(H(331));var i=ue;for(ue|=4,Y=e.current;Y!==null;){var o=Y,s=o.child;if(Y.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Y=u;Y!==null;){var c=Y;switch(c.tag){case 0:case 11:case 15:co(8,c,o)}var f=c.child;if(f!==null)f.return=c,Y=f;else for(;Y!==null;){c=Y;var h=c.sibling,p=c.return;if(sS(c),c===u){Y=null;break}if(h!==null){h.return=p,Y=h;break}Y=p}}}var y=o.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}Y=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Y=s;else e:for(;Y!==null;){if(o=Y,o.flags&2048)switch(o.tag){case 0:case 11:case 15:co(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,Y=m;break e}Y=o.return}}var g=e.current;for(Y=g;Y!==null;){s=Y;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Y=w;else e:for(s=g;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ha(9,a)}}catch(S){Ce(a,a.return,S)}if(a===s){Y=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,Y=x;break e}Y=a.return}}if(ue=i,sr(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(Oa,e)}catch{}r=!0}return r}finally{fe=n,Ct.transition=t}}return!1}function iy(e,t,n){t=gi(n,t),t=Y2(e,t,1),e=Kn(e,t,1),t=nt(),e!==null&&(Bo(e,1,t),dt(e,t))}function Ce(e,t,n){if(e.tag===3)iy(e,e,n);else for(;t!==null;){if(t.tag===3){iy(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yn===null||!Yn.has(r))){e=gi(n,e),e=X2(t,e,1),t=Kn(t,e,1),e=nt(),t!==null&&(Bo(t,1,e),dt(t,e));break}}t=t.return}}function u4(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=nt(),e.pingedLanes|=e.suspendedLanes&n,He===e&&(We&n)===n&&(De===4||De===3&&(We&130023424)===We&&500>Ie()-ng?wr(e,0):tg|=n),dt(e,t)}function gS(e,t){t===0&&(e.mode&1?(t=as,as<<=1,!(as&130023424)&&(as=4194304)):t=1);var n=nt();e=_n(e,t),e!==null&&(Bo(e,t,n),dt(e,n))}function c4(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),gS(e,n)}function d4(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(t),gS(e,n)}var vS;vS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ut.current)at=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return at=!1,ZC(e,t,n);at=!!(e.flags&131072)}else at=!1,xe&&t.flags&1048576&&_2(t,ua,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var i=fi(t,Ze.current);si(t,n),i=Ym(null,t,r,e,i,n);var o=Xm();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ct(r)?(o=!0,aa(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Um(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Lp(t,r,e,n),t=Dp(null,t,r,!0,o,n)):(t.tag=0,xe&&o&&qm(t),tt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=h4(r),e=Lt(r,e),i){case 0:t=zp(null,t,r,e,n);break e;case 1:t=Kv(null,t,r,e,n);break e;case 11:t=Wv(null,t,r,e,n);break e;case 14:t=Gv(null,t,r,Lt(r.type,e),n);break e}throw Error(H(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Lt(r,i),zp(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Lt(r,i),Kv(e,t,r,i,n);case 3:e:{if(eS(t),e===null)throw Error(H(387));r=t.pendingProps,o=t.memoizedState,i=o.element,j2(e,t),fa(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=gi(Error(H(423)),t),t=Yv(e,t,r,n,i);break e}else if(r!==i){i=gi(Error(H(424)),t),t=Yv(e,t,r,n,i);break e}else for(vt=Gn(t.stateNode.containerInfo.firstChild),yt=t,xe=!0,Dt=null,n=k2(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hi(),r===i){t=bn(e,t,n);break e}tt(e,t,r,n)}t=t.child}return t;case 5:return C2(t),e===null&&Mp(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,Cp(r,i)?s=null:o!==null&&Cp(r,o)&&(t.flags|=32),J2(e,t),tt(e,t,s,n),t.child;case 6:return e===null&&Mp(t),null;case 13:return tS(e,t,n);case 4:return Vm(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=pi(t,null,r,n):tt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Lt(r,i),Wv(e,t,r,i,n);case 7:return tt(e,t,t.pendingProps,n),t.child;case 8:return tt(e,t,t.pendingProps.children,n),t.child;case 12:return tt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,he(ca,r._currentValue),r._currentValue=s,o!==null)if(Ht(o.value,s)){if(o.children===i.children&&!ut.current){t=bn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=vn(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Ap(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(H(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Ap(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}tt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,si(t,n),i=Tt(i),r=r(i),t.flags|=1,tt(e,t,r,n),t.child;case 14:return r=t.type,i=Lt(r,t.pendingProps),i=Lt(r.type,i),Gv(e,t,r,i,n);case 15:return Q2(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Lt(r,i),Hs(e,t),t.tag=1,ct(r)?(e=!0,aa(t)):e=!1,si(t,n),K2(t,r,i),Lp(t,r,i,n),Dp(null,t,r,!0,e,n);case 19:return nS(e,t,n);case 22:return Z2(e,t,n)}throw Error(H(156,t.tag))};function yS(e,t){return Vb(e,t)}function f4(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,n,r){return new f4(e,t,n,r)}function sg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function h4(e){if(typeof e=="function")return sg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===km)return 11;if(e===Nm)return 14}return 2}function Qn(e,t){var n=e.alternate;return n===null?(n=Nt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ws(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")sg(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Ur:return _r(n.children,i,o,t);case Em:s=8,i|=8;break;case sp:return e=Nt(12,n,t,i|2),e.elementType=sp,e.lanes=o,e;case ap:return e=Nt(13,n,t,i),e.elementType=ap,e.lanes=o,e;case lp:return e=Nt(19,n,t,i),e.elementType=lp,e.lanes=o,e;case Cb:return Va(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Nb:s=10;break e;case jb:s=9;break e;case km:s=11;break e;case Nm:s=14;break e;case Mn:s=16,r=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=Nt(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function _r(e,t,n,r){return e=Nt(7,e,r,t),e.lanes=n,e}function Va(e,t,n,r){return e=Nt(22,e,r,t),e.elementType=Cb,e.lanes=n,e.stateNode={isHidden:!1},e}function Xl(e,t,n){return e=Nt(6,e,null,t),e.lanes=n,e}function Ql(e,t,n){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function p4(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Il(0),this.expirationTimes=Il(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Il(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ag(e,t,n,r,i,o,s,a,l){return e=new p4(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Nt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Um(o),e}function m4(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function xS(e){if(!e)return tr;e=e._reactInternals;e:{if(Pr(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ct(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var n=e.type;if(ct(n))return x2(e,n,t)}return t}function wS(e,t,n,r,i,o,s,a,l){return e=ag(n,r,!0,e,i,o,s,a,l),e.context=xS(null),n=e.current,r=nt(),i=Xn(n),o=vn(r,i),o.callback=t??null,Kn(n,o,i),e.current.lanes=i,Bo(e,i,r),dt(e,r),e}function Wa(e,t,n,r){var i=t.current,o=nt(),s=Xn(i);return n=xS(n),t.context===null?t.context=n:t.pendingContext=n,t=vn(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Kn(i,t,s),e!==null&&(Bt(e,i,s,o),Fs(e,i,s)),s}function wa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function oy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function lg(e,t){oy(e,t),(e=e.alternate)&&oy(e,t)}function g4(){return null}var _S=typeof reportError=="function"?reportError:function(e){console.error(e)};function ug(e){this._internalRoot=e}Ga.prototype.render=ug.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));Wa(e,t,null,null)};Ga.prototype.unmount=ug.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cr(function(){Wa(null,e,null,null)}),t[wn]=null}};function Ga(e){this._internalRoot=e}Ga.prototype.unstable_scheduleHydration=function(e){if(e){var t=Zb();e={blockedOn:null,target:e,priority:t};for(var n=0;n<qn.length&&t!==0&&t<qn[n].priority;n++);qn.splice(n,0,e),n===0&&e2(e)}};function cg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ka(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function sy(){}function v4(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=wa(s);o.call(u)}}var s=wS(t,r,e,0,null,!1,!1,"",sy);return e._reactRootContainer=s,e[wn]=s.current,Eo(e.nodeType===8?e.parentNode:e),Cr(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=wa(l);a.call(u)}}var l=ag(e,0,!1,null,null,!1,!1,"",sy);return e._reactRootContainer=l,e[wn]=l.current,Eo(e.nodeType===8?e.parentNode:e),Cr(function(){Wa(t,l,n,r)}),l}function Ya(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=wa(s);a.call(l)}}Wa(t,s,e,i)}else s=v4(n,t,e,i,r);return wa(s)}Xb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ki(t.pendingLanes);n!==0&&(Tm(t,n|1),dt(t,Ie()),!(ue&6)&&(vi=Ie()+500,sr()))}break;case 13:Cr(function(){var r=_n(e,1);if(r!==null){var i=nt();Bt(r,e,1,i)}}),lg(e,1)}};Rm=function(e){if(e.tag===13){var t=_n(e,134217728);if(t!==null){var n=nt();Bt(t,e,134217728,n)}lg(e,134217728)}};Qb=function(e){if(e.tag===13){var t=Xn(e),n=_n(e,t);if(n!==null){var r=nt();Bt(n,e,t,r)}lg(e,t)}};Zb=function(){return fe};Jb=function(e,t){var n=fe;try{return fe=e,t()}finally{fe=n}};yp=function(e,t,n){switch(t){case"input":if(dp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Da(r);if(!i)throw Error(H(90));Rb(r),dp(r,i)}}}break;case"textarea":Pb(e,n);break;case"select":t=n.value,t!=null&&ni(e,!!n.multiple,t,!1)}};Db=rg;Fb=Cr;var y4={usingClientEntryPoint:!1,Events:[Uo,Kr,Da,qb,zb,rg]},Di={findFiberByHostInstance:pr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},x4={bundleType:Di.bundleType,version:Di.version,rendererPackageName:Di.rendererPackageName,rendererConfig:Di.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Hb(e),e===null?null:e.stateNode},findFiberByHostInstance:Di.findFiberByHostInstance||g4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ys=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ys.isDisabled&&ys.supportsFiber)try{Oa=ys.inject(x4),Jt=ys}catch{}}_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y4;_t.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cg(t))throw Error(H(200));return m4(e,t,null,n)};_t.createRoot=function(e,t){if(!cg(e))throw Error(H(299));var n=!1,r="",i=_S;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ag(e,1,!1,null,null,n,!1,r,i),e[wn]=t.current,Eo(e.nodeType===8?e.parentNode:e),new ug(t)};_t.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=Hb(t),e=e===null?null:e.stateNode,e};_t.flushSync=function(e){return Cr(e)};_t.hydrate=function(e,t,n){if(!Ka(t))throw Error(H(200));return Ya(null,e,t,!0,n)};_t.hydrateRoot=function(e,t,n){if(!cg(e))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=_S;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=wS(t,null,e,1,n??null,i,!1,o,s),e[wn]=t.current,Eo(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ga(t)};_t.render=function(e,t,n){if(!Ka(t))throw Error(H(200));return Ya(null,e,t,!1,n)};_t.unmountComponentAtNode=function(e){if(!Ka(e))throw Error(H(40));return e._reactRootContainer?(Cr(function(){Ya(null,null,e,!1,function(){e._reactRootContainer=null,e[wn]=null})}),!0):!1};_t.unstable_batchedUpdates=rg;_t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ka(n))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return Ya(e,t,n,!1,r)};_t.version="18.3.1-next-f1338f8080-20240426";function bS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bS)}catch(e){console.error(e)}}bS(),bb.exports=_t;var w4=bb.exports,ay=w4;ip.createRoot=ay.createRoot,ip.hydrateRoot=ay.hydrateRoot;function ht(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=ht(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var SS={exports:{}},ES={},kS={exports:{}},NS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yi=k;function _4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var b4=typeof Object.is=="function"?Object.is:_4,S4=yi.useState,E4=yi.useEffect,k4=yi.useLayoutEffect,N4=yi.useDebugValue;function j4(e,t){var n=t(),r=S4({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return k4(function(){i.value=n,i.getSnapshot=t,Zl(i)&&o({inst:i})},[e,n,t]),E4(function(){return Zl(i)&&o({inst:i}),e(function(){Zl(i)&&o({inst:i})})},[e]),N4(n),n}function Zl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!b4(e,n)}catch{return!0}}function C4(e,t){return t()}var T4=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?C4:j4;NS.useSyncExternalStore=yi.useSyncExternalStore!==void 0?yi.useSyncExternalStore:T4;kS.exports=NS;var R4=kS.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xa=k,I4=R4;function P4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var M4=typeof Object.is=="function"?Object.is:P4,A4=I4.useSyncExternalStore,O4=Xa.useRef,L4=Xa.useEffect,q4=Xa.useMemo,z4=Xa.useDebugValue;ES.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=O4(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=q4(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&s.hasValue){var y=s.value;if(i(y,p))return f=y}return f=p}if(y=f,M4(c,p))return y;var v=r(p);return i!==void 0&&i(y,v)?(c=p,y):(c=p,f=v)}var u=!1,c,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var a=A4(e,o[0],o[1]);return L4(function(){s.hasValue=!0,s.value=a},[a]),z4(a),a};SS.exports=ES;var D4=SS.exports;const F4=gm(D4),$4={},ly=e=>{let t;const n=new Set,r=(c,f)=>{const h=typeof c=="function"?c(t):c;if(!Object.is(h,t)){const p=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(y=>y(t,p))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{($4?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,l);return l},B4=e=>e?ly(e):ly,{useDebugValue:H4}=$,{useSyncExternalStoreWithSelector:U4}=F4,V4=e=>e;function jS(e,t=V4,n){const r=U4(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return H4(r),r}const uy=(e,t)=>{const n=B4(e),r=(i,o=t)=>jS(n,i,o);return Object.assign(r,n),r},W4=(e,t)=>e?uy(e,t):uy;function Je(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var G4={value:()=>{}};function Qa(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Gs(n)}function Gs(e){this._=e}function K4(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Gs.prototype=Qa.prototype={constructor:Gs,on:function(e,t){var n=this._,r=K4(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=Y4(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=cy(n[i],e.name,t);else if(t==null)for(i in n)n[i]=cy(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Gs(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function Y4(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function cy(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=G4,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Qp="http://www.w3.org/1999/xhtml";const dy={svg:"http://www.w3.org/2000/svg",xhtml:Qp,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Za(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),dy.hasOwnProperty(t)?{space:dy[t],local:e}:e}function X4(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Qp&&t.documentElement.namespaceURI===Qp?t.createElement(e):t.createElementNS(n,e)}}function Q4(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function CS(e){var t=Za(e);return(t.local?Q4:X4)(t)}function Z4(){}function dg(e){return e==null?Z4:function(){return this.querySelector(e)}}function J4(e){typeof e!="function"&&(e=dg(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=new Array(s),l,u,c=0;c<s;++c)(l=o[c])&&(u=e.call(l,l.__data__,c,o))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new wt(r,this._parents)}function eT(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function tT(){return[]}function TS(e){return e==null?tT:function(){return this.querySelectorAll(e)}}function nT(e){return function(){return eT(e.apply(this,arguments))}}function rT(e){typeof e=="function"?e=nT(e):e=TS(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&(r.push(e.call(l,l.__data__,u,s)),i.push(l));return new wt(r,i)}function RS(e){return function(){return this.matches(e)}}function IS(e){return function(t){return t.matches(e)}}var iT=Array.prototype.find;function oT(e){return function(){return iT.call(this.children,e)}}function sT(){return this.firstElementChild}function aT(e){return this.select(e==null?sT:oT(typeof e=="function"?e:IS(e)))}var lT=Array.prototype.filter;function uT(){return Array.from(this.children)}function cT(e){return function(){return lT.call(this.children,e)}}function dT(e){return this.selectAll(e==null?uT:cT(typeof e=="function"?e:IS(e)))}function fT(e){typeof e!="function"&&(e=RS(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&a.push(l);return new wt(r,this._parents)}function PS(e){return new Array(e.length)}function hT(){return new wt(this._enter||this._groups.map(PS),this._parents)}function _a(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}_a.prototype={constructor:_a,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function pT(e){return function(){return e}}function mT(e,t,n,r,i,o){for(var s=0,a,l=t.length,u=o.length;s<u;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new _a(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function gT(e,t,n,r,i,o,s){var a,l,u=new Map,c=t.length,f=o.length,h=new Array(c),p;for(a=0;a<c;++a)(l=t[a])&&(h[a]=p=s.call(l,l.__data__,a,t)+"",u.has(p)?i[a]=l:u.set(p,l));for(a=0;a<f;++a)p=s.call(e,o[a],a,o)+"",(l=u.get(p))?(r[a]=l,l.__data__=o[a],u.delete(p)):n[a]=new _a(e,o[a]);for(a=0;a<c;++a)(l=t[a])&&u.get(h[a])===l&&(i[a]=l)}function vT(e){return e.__data__}function yT(e,t){if(!arguments.length)return Array.from(this,vT);var n=t?gT:mT,r=this._parents,i=this._groups;typeof e!="function"&&(e=pT(e));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),u=0;u<o;++u){var c=r[u],f=i[u],h=f.length,p=xT(e.call(c,c&&c.__data__,u,r)),y=p.length,v=a[u]=new Array(y),_=s[u]=new Array(y),m=l[u]=new Array(h);n(c,f,v,_,m,p,t);for(var g=0,w=0,x,S;g<y;++g)if(x=v[g]){for(g>=w&&(w=g+1);!(S=_[w])&&++w<y;);x._next=S||null}}return s=new wt(s,r),s._enter=a,s._exit=l,s}function xT(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function wT(){return new wt(this._exit||this._groups.map(PS),this._parents)}function _T(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function bT(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var u=n[l],c=r[l],f=u.length,h=a[l]=new Array(f),p,y=0;y<f;++y)(p=u[y]||c[y])&&(h[y]=p);for(;l<i;++l)a[l]=n[l];return new wt(a,this._parents)}function ST(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function ET(e){e||(e=kT);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,l=i[o]=new Array(a),u,c=0;c<a;++c)(u=s[c])&&(l[c]=u);l.sort(t)}return new wt(i,this._parents).order()}function kT(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function NT(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function jT(){return Array.from(this)}function CT(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function TT(){let e=0;for(const t of this)++e;return e}function RT(){return!this.node()}function IT(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}function PT(e){return function(){this.removeAttribute(e)}}function MT(e){return function(){this.removeAttributeNS(e.space,e.local)}}function AT(e,t){return function(){this.setAttribute(e,t)}}function OT(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function LT(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function qT(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function zT(e,t){var n=Za(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?MT:PT:typeof t=="function"?n.local?qT:LT:n.local?OT:AT)(n,t))}function MS(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function DT(e){return function(){this.style.removeProperty(e)}}function FT(e,t,n){return function(){this.style.setProperty(e,t,n)}}function $T(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function BT(e,t,n){return arguments.length>1?this.each((t==null?DT:typeof t=="function"?$T:FT)(e,t,n??"")):xi(this.node(),e)}function xi(e,t){return e.style.getPropertyValue(t)||MS(e).getComputedStyle(e,null).getPropertyValue(t)}function HT(e){return function(){delete this[e]}}function UT(e,t){return function(){this[e]=t}}function VT(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function WT(e,t){return arguments.length>1?this.each((t==null?HT:typeof t=="function"?VT:UT)(e,t)):this.node()[e]}function AS(e){return e.trim().split(/^|\s+/)}function fg(e){return e.classList||new OS(e)}function OS(e){this._node=e,this._names=AS(e.getAttribute("class")||"")}OS.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function LS(e,t){for(var n=fg(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function qS(e,t){for(var n=fg(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function GT(e){return function(){LS(this,e)}}function KT(e){return function(){qS(this,e)}}function YT(e,t){return function(){(t.apply(this,arguments)?LS:qS)(this,e)}}function XT(e,t){var n=AS(e+"");if(arguments.length<2){for(var r=fg(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?YT:t?GT:KT)(n,t))}function QT(){this.textContent=""}function ZT(e){return function(){this.textContent=e}}function JT(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function e3(e){return arguments.length?this.each(e==null?QT:(typeof e=="function"?JT:ZT)(e)):this.node().textContent}function t3(){this.innerHTML=""}function n3(e){return function(){this.innerHTML=e}}function r3(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function i3(e){return arguments.length?this.each(e==null?t3:(typeof e=="function"?r3:n3)(e)):this.node().innerHTML}function o3(){this.nextSibling&&this.parentNode.appendChild(this)}function s3(){return this.each(o3)}function a3(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function l3(){return this.each(a3)}function u3(e){var t=typeof e=="function"?e:CS(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function c3(){return null}function d3(e,t){var n=typeof e=="function"?e:CS(e),r=t==null?c3:typeof t=="function"?t:dg(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function f3(){var e=this.parentNode;e&&e.removeChild(this)}function h3(){return this.each(f3)}function p3(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function m3(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function g3(e){return this.select(e?m3:p3)}function v3(e){return arguments.length?this.property("__data__",e):this.node().__data__}function y3(e){return function(t){e.call(this,t,this.__data__)}}function x3(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function w3(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function _3(e,t,n){return function(){var r=this.__on,i,o=y3(t);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function b3(e,t,n){var r=x3(e+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(i=0,c=a[l];i<o;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(a=t?_3:w3,i=0;i<o;++i)this.each(a(r[i],t,n));return this}function zS(e,t,n){var r=MS(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function S3(e,t){return function(){return zS(this,e,t)}}function E3(e,t){return function(){return zS(this,e,t.apply(this,arguments))}}function k3(e,t){return this.each((typeof t=="function"?E3:S3)(e,t))}function*N3(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var DS=[null];function wt(e,t){this._groups=e,this._parents=t}function Wo(){return new wt([[document.documentElement]],DS)}function j3(){return this}wt.prototype=Wo.prototype={constructor:wt,select:J4,selectAll:rT,selectChild:aT,selectChildren:dT,filter:fT,data:yT,enter:hT,exit:wT,join:_T,merge:bT,selection:j3,order:ST,sort:ET,call:NT,nodes:jT,node:CT,size:TT,empty:RT,each:IT,attr:zT,style:BT,property:WT,classed:XT,text:e3,html:i3,raise:s3,lower:l3,append:u3,insert:d3,remove:h3,clone:g3,datum:v3,on:b3,dispatch:k3,[Symbol.iterator]:N3};function kt(e){return typeof e=="string"?new wt([[document.querySelector(e)]],[document.documentElement]):new wt([[e]],DS)}function C3(e){let t;for(;t=e.sourceEvent;)e=t;return e}function zt(e,t){if(e=C3(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const T3={passive:!1},Mo={capture:!0,passive:!1};function Jl(e){e.stopImmediatePropagation()}function li(e){e.preventDefault(),e.stopImmediatePropagation()}function FS(e){var t=e.document.documentElement,n=kt(e).on("dragstart.drag",li,Mo);"onselectstart"in t?n.on("selectstart.drag",li,Mo):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function $S(e,t){var n=e.document.documentElement,r=kt(e).on("dragstart.drag",null);t&&(r.on("click.drag",li,Mo),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const xs=e=>()=>e;function Zp(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:s,y:a,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}Zp.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function R3(e){return!e.ctrlKey&&!e.button}function I3(){return this.parentNode}function P3(e,t){return t??{x:e.x,y:e.y}}function M3(){return navigator.maxTouchPoints||"ontouchstart"in this}function A3(){var e=R3,t=I3,n=P3,r=M3,i={},o=Qa("start","drag","end"),s=0,a,l,u,c,f=0;function h(x){x.on("mousedown.drag",p).filter(r).on("touchstart.drag",_).on("touchmove.drag",m,T3).on("touchend.drag touchcancel.drag",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(x,S){if(!(c||!e.call(this,x,S))){var E=w(this,t.call(this,x,S),x,S,"mouse");E&&(kt(x.view).on("mousemove.drag",y,Mo).on("mouseup.drag",v,Mo),FS(x.view),Jl(x),u=!1,a=x.clientX,l=x.clientY,E("start",x))}}function y(x){if(li(x),!u){var S=x.clientX-a,E=x.clientY-l;u=S*S+E*E>f}i.mouse("drag",x)}function v(x){kt(x.view).on("mousemove.drag mouseup.drag",null),$S(x.view,u),li(x),i.mouse("end",x)}function _(x,S){if(e.call(this,x,S)){var E=x.changedTouches,N=t.call(this,x,S),C=E.length,R,O;for(R=0;R<C;++R)(O=w(this,N,x,S,E[R].identifier,E[R]))&&(Jl(x),O("start",x,E[R]))}}function m(x){var S=x.changedTouches,E=S.length,N,C;for(N=0;N<E;++N)(C=i[S[N].identifier])&&(li(x),C("drag",x,S[N]))}function g(x){var S=x.changedTouches,E=S.length,N,C;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),N=0;N<E;++N)(C=i[S[N].identifier])&&(Jl(x),C("end",x,S[N]))}function w(x,S,E,N,C,R){var O=o.copy(),L=zt(R||E,S),F,q,b;if((b=n.call(x,new Zp("beforestart",{sourceEvent:E,target:h,identifier:C,active:s,x:L[0],y:L[1],dx:0,dy:0,dispatch:O}),N))!=null)return F=b.x-L[0]||0,q=b.y-L[1]||0,function P(T,z,I){var j=L,A;switch(T){case"start":i[C]=P,A=s++;break;case"end":delete i[C],--s;case"drag":L=zt(I||z,S),A=s;break}O.call(T,x,new Zp(T,{sourceEvent:z,subject:b,target:h,identifier:C,active:A,x:L[0]+F,y:L[1]+q,dx:L[0]-j[0],dy:L[1]-j[1],dispatch:O}),N)}}return h.filter=function(x){return arguments.length?(e=typeof x=="function"?x:xs(!!x),h):e},h.container=function(x){return arguments.length?(t=typeof x=="function"?x:xs(x),h):t},h.subject=function(x){return arguments.length?(n=typeof x=="function"?x:xs(x),h):n},h.touchable=function(x){return arguments.length?(r=typeof x=="function"?x:xs(!!x),h):r},h.on=function(){var x=o.on.apply(o,arguments);return x===o?h:x},h.clickDistance=function(x){return arguments.length?(f=(x=+x)*x,h):Math.sqrt(f)},h}function hg(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function BS(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Go(){}var Ao=.7,ba=1/Ao,ui="\\s*([+-]?\\d+)\\s*",Oo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",tn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",O3=/^#([0-9a-f]{3,8})$/,L3=new RegExp(`^rgb\\(${ui},${ui},${ui}\\)$`),q3=new RegExp(`^rgb\\(${tn},${tn},${tn}\\)$`),z3=new RegExp(`^rgba\\(${ui},${ui},${ui},${Oo}\\)$`),D3=new RegExp(`^rgba\\(${tn},${tn},${tn},${Oo}\\)$`),F3=new RegExp(`^hsl\\(${Oo},${tn},${tn}\\)$`),$3=new RegExp(`^hsla\\(${Oo},${tn},${tn},${Oo}\\)$`),fy={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hg(Go,Lo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:hy,formatHex:hy,formatHex8:B3,formatHsl:H3,formatRgb:py,toString:py});function hy(){return this.rgb().formatHex()}function B3(){return this.rgb().formatHex8()}function H3(){return HS(this).formatHsl()}function py(){return this.rgb().formatRgb()}function Lo(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=O3.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?my(t):n===3?new lt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ws(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ws(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=L3.exec(e))?new lt(t[1],t[2],t[3],1):(t=q3.exec(e))?new lt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=z3.exec(e))?ws(t[1],t[2],t[3],t[4]):(t=D3.exec(e))?ws(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=F3.exec(e))?yy(t[1],t[2]/100,t[3]/100,1):(t=$3.exec(e))?yy(t[1],t[2]/100,t[3]/100,t[4]):fy.hasOwnProperty(e)?my(fy[e]):e==="transparent"?new lt(NaN,NaN,NaN,0):null}function my(e){return new lt(e>>16&255,e>>8&255,e&255,1)}function ws(e,t,n,r){return r<=0&&(e=t=n=NaN),new lt(e,t,n,r)}function U3(e){return e instanceof Go||(e=Lo(e)),e?(e=e.rgb(),new lt(e.r,e.g,e.b,e.opacity)):new lt}function Jp(e,t,n,r){return arguments.length===1?U3(e):new lt(e,t,n,r??1)}function lt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}hg(lt,Jp,BS(Go,{brighter(e){return e=e==null?ba:Math.pow(ba,e),new lt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ao:Math.pow(Ao,e),new lt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new lt(br(this.r),br(this.g),br(this.b),Sa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:gy,formatHex:gy,formatHex8:V3,formatRgb:vy,toString:vy}));function gy(){return`#${vr(this.r)}${vr(this.g)}${vr(this.b)}`}function V3(){return`#${vr(this.r)}${vr(this.g)}${vr(this.b)}${vr((isNaN(this.opacity)?1:this.opacity)*255)}`}function vy(){const e=Sa(this.opacity);return`${e===1?"rgb(":"rgba("}${br(this.r)}, ${br(this.g)}, ${br(this.b)}${e===1?")":`, ${e})`}`}function Sa(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function br(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function vr(e){return e=br(e),(e<16?"0":"")+e.toString(16)}function yy(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ft(e,t,n,r)}function HS(e){if(e instanceof Ft)return new Ft(e.h,e.s,e.l,e.opacity);if(e instanceof Go||(e=Lo(e)),!e)return new Ft;if(e instanceof Ft)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Ft(s,a,l,e.opacity)}function W3(e,t,n,r){return arguments.length===1?HS(e):new Ft(e,t,n,r??1)}function Ft(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}hg(Ft,W3,BS(Go,{brighter(e){return e=e==null?ba:Math.pow(ba,e),new Ft(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ao:Math.pow(Ao,e),new Ft(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new lt(eu(e>=240?e-240:e+120,i,r),eu(e,i,r),eu(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ft(xy(this.h),_s(this.s),_s(this.l),Sa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Sa(this.opacity);return`${e===1?"hsl(":"hsla("}${xy(this.h)}, ${_s(this.s)*100}%, ${_s(this.l)*100}%${e===1?")":`, ${e})`}`}}));function xy(e){return e=(e||0)%360,e<0?e+360:e}function _s(e){return Math.max(0,Math.min(1,e||0))}function eu(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const US=e=>()=>e;function G3(e,t){return function(n){return e+n*t}}function K3(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Y3(e){return(e=+e)==1?VS:function(t,n){return n-t?K3(t,n,e):US(isNaN(t)?n:t)}}function VS(e,t){var n=t-e;return n?G3(e,n):US(isNaN(e)?t:e)}const wy=function e(t){var n=Y3(t);function r(i,o){var s=n((i=Jp(i)).r,(o=Jp(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=VS(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function On(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var em=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tu=new RegExp(em.source,"g");function X3(e){return function(){return e}}function Q3(e){return function(t){return e(t)+""}}function Z3(e,t){var n=em.lastIndex=tu.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(e=e+"",t=t+"";(r=em.exec(e))&&(i=tu.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:On(r,i)})),n=tu.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?Q3(l[0].x):X3(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}var _y=180/Math.PI,tm={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function WS(e,t,n,r,i,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*_y,skewX:Math.atan(l)*_y,scaleX:s,scaleY:a}}var bs;function J3(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?tm:WS(t.a,t.b,t.c,t.d,t.e,t.f)}function e5(e){return e==null||(bs||(bs=document.createElementNS("http://www.w3.org/2000/svg","g")),bs.setAttribute("transform",e),!(e=bs.transform.baseVal.consolidate()))?tm:(e=e.matrix,WS(e.a,e.b,e.c,e.d,e.e,e.f))}function GS(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,f,h,p,y){if(u!==f||c!==h){var v=p.push("translate(",null,t,null,n);y.push({i:v-4,x:On(u,f)},{i:v-2,x:On(c,h)})}else(f||h)&&p.push("translate("+f+t+h+n)}function s(u,c,f,h){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:On(u,c)})):c&&f.push(i(f)+"rotate("+c+r)}function a(u,c,f,h){u!==c?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:On(u,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(u,c,f,h,p,y){if(u!==f||c!==h){var v=p.push(i(p)+"scale(",null,",",null,")");y.push({i:v-4,x:On(u,f)},{i:v-2,x:On(c,h)})}else(f!==1||h!==1)&&p.push(i(p)+"scale("+f+","+h+")")}return function(u,c){var f=[],h=[];return u=e(u),c=e(c),o(u.translateX,u.translateY,c.translateX,c.translateY,f,h),s(u.rotate,c.rotate,f,h),a(u.skewX,c.skewX,f,h),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,h),u=c=null,function(p){for(var y=-1,v=h.length,_;++y<v;)f[(_=h[y]).i]=_.x(p);return f.join("")}}}var t5=GS(J3,"px, ","px)","deg)"),n5=GS(e5,", ",")",")"),r5=1e-12;function by(e){return((e=Math.exp(e))+1/e)/2}function i5(e){return((e=Math.exp(e))-1/e)/2}function o5(e){return((e=Math.exp(2*e))-1)/(e+1)}const s5=function e(t,n,r){function i(o,s){var a=o[0],l=o[1],u=o[2],c=s[0],f=s[1],h=s[2],p=c-a,y=f-l,v=p*p+y*y,_,m;if(v<r5)m=Math.log(h/u)/t,_=function(N){return[a+N*p,l+N*y,u*Math.exp(t*N*m)]};else{var g=Math.sqrt(v),w=(h*h-u*u+r*v)/(2*u*n*g),x=(h*h-u*u-r*v)/(2*h*n*g),S=Math.log(Math.sqrt(w*w+1)-w),E=Math.log(Math.sqrt(x*x+1)-x);m=(E-S)/t,_=function(N){var C=N*m,R=by(S),O=u/(n*g)*(R*o5(t*C+S)-i5(S));return[a+O*p,l+O*y,u*R/by(t*C+S)]}}return _.duration=m*1e3*t/Math.SQRT2,_}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,l=a*a;return e(s,a,l)},i}(Math.SQRT2,2,4);var wi=0,Xi=0,Fi=0,KS=1e3,Ea,Qi,ka=0,Tr=0,Ja=0,qo=typeof performance=="object"&&performance.now?performance:Date,YS=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function pg(){return Tr||(YS(a5),Tr=qo.now()+Ja)}function a5(){Tr=0}function Na(){this._call=this._time=this._next=null}Na.prototype=XS.prototype={constructor:Na,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?pg():+n)+(t==null?0:+t),!this._next&&Qi!==this&&(Qi?Qi._next=this:Ea=this,Qi=this),this._call=e,this._time=n,nm()},stop:function(){this._call&&(this._call=null,this._time=1/0,nm())}};function XS(e,t,n){var r=new Na;return r.restart(e,t,n),r}function l5(){pg(),++wi;for(var e=Ea,t;e;)(t=Tr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--wi}function Sy(){Tr=(ka=qo.now())+Ja,wi=Xi=0;try{l5()}finally{wi=0,c5(),Tr=0}}function u5(){var e=qo.now(),t=e-ka;t>KS&&(Ja-=t,ka=e)}function c5(){for(var e,t=Ea,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Ea=n);Qi=e,nm(r)}function nm(e){if(!wi){Xi&&(Xi=clearTimeout(Xi));var t=e-Tr;t>24?(e<1/0&&(Xi=setTimeout(Sy,e-qo.now()-Ja)),Fi&&(Fi=clearInterval(Fi))):(Fi||(ka=qo.now(),Fi=setInterval(u5,KS)),wi=1,YS(Sy))}}function Ey(e,t,n){var r=new Na;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var d5=Qa("start","end","cancel","interrupt"),f5=[],QS=0,ky=1,rm=2,Ks=3,Ny=4,im=5,Ys=6;function el(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;h5(e,n,{name:t,index:r,group:i,on:d5,tween:f5,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:QS})}function mg(e,t){var n=Ut(e,t);if(n.state>QS)throw new Error("too late; already scheduled");return n}function nn(e,t){var n=Ut(e,t);if(n.state>Ks)throw new Error("too late; already running");return n}function Ut(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function h5(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=XS(o,0,n.time);function o(u){n.state=ky,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var c,f,h,p;if(n.state!==ky)return l();for(c in r)if(p=r[c],p.name===n.name){if(p.state===Ks)return Ey(s);p.state===Ny?(p.state=Ys,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete r[c]):+c<t&&(p.state=Ys,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete r[c])}if(Ey(function(){n.state===Ks&&(n.state=Ny,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=rm,n.on.call("start",e,e.__data__,n.index,n.group),n.state===rm){for(n.state=Ks,i=new Array(h=n.tween.length),c=0,f=-1;c<h;++c)(p=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=p);i.length=f+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=im,1),f=-1,h=i.length;++f<h;)i[f].call(e,c);n.state===im&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Ys,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Xs(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>rm&&r.state<im,r.state=Ys,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function p5(e){return this.each(function(){Xs(this,e)})}function m5(e,t){var n,r;return function(){var i=nn(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function g5(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=nn(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=a;break}l===u&&i.push(a)}o.tween=i}}function v5(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Ut(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?m5:g5)(n,e,t))}function gg(e,t,n){var r=e._id;return e.each(function(){var i=nn(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Ut(i,r).value[t]}}function ZS(e,t){var n;return(typeof t=="number"?On:t instanceof Lo?wy:(n=Lo(t))?(t=n,wy):Z3)(e,t)}function y5(e){return function(){this.removeAttribute(e)}}function x5(e){return function(){this.removeAttributeNS(e.space,e.local)}}function w5(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function _5(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function b5(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function S5(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function E5(e,t){var n=Za(e),r=n==="transform"?n5:ZS;return this.attrTween(e,typeof t=="function"?(n.local?S5:b5)(n,r,gg(this,"attr."+e,t)):t==null?(n.local?x5:y5)(n):(n.local?_5:w5)(n,r,t))}function k5(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function N5(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function j5(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&N5(e,o)),n}return i._value=t,i}function C5(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&k5(e,o)),n}return i._value=t,i}function T5(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Za(e);return this.tween(n,(r.local?j5:C5)(r,t))}function R5(e,t){return function(){mg(this,e).delay=+t.apply(this,arguments)}}function I5(e,t){return t=+t,function(){mg(this,e).delay=t}}function P5(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?R5:I5)(t,e)):Ut(this.node(),t).delay}function M5(e,t){return function(){nn(this,e).duration=+t.apply(this,arguments)}}function A5(e,t){return t=+t,function(){nn(this,e).duration=t}}function O5(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?M5:A5)(t,e)):Ut(this.node(),t).duration}function L5(e,t){if(typeof t!="function")throw new Error;return function(){nn(this,e).ease=t}}function q5(e){var t=this._id;return arguments.length?this.each(L5(t,e)):Ut(this.node(),t).ease}function z5(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;nn(this,e).ease=n}}function D5(e){if(typeof e!="function")throw new Error;return this.each(z5(this._id,e))}function F5(e){typeof e!="function"&&(e=RS(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&a.push(l);return new Sn(r,this._parents,this._name,this._id)}function $5(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l=t[a],u=n[a],c=l.length,f=s[a]=new Array(c),h,p=0;p<c;++p)(h=l[p]||u[p])&&(f[p]=h);for(;a<r;++a)s[a]=t[a];return new Sn(s,this._parents,this._name,this._id)}function B5(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function H5(e,t,n){var r,i,o=B5(t)?mg:nn;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}function U5(e,t){var n=this._id;return arguments.length<2?Ut(this.node(),n).on.on(e):this.each(H5(n,e,t))}function V5(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function W5(){return this.on("end.remove",V5(this._id))}function G5(e){var t=this._name,n=this._id;typeof e!="function"&&(e=dg(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],l=a.length,u=o[s]=new Array(l),c,f,h=0;h<l;++h)(c=a[h])&&(f=e.call(c,c.__data__,h,a))&&("__data__"in c&&(f.__data__=c.__data__),u[h]=f,el(u[h],t,n,h,u,Ut(c,n)));return new Sn(o,this._parents,t,n)}function K5(e){var t=this._name,n=this._id;typeof e!="function"&&(e=TS(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l=r[a],u=l.length,c,f=0;f<u;++f)if(c=l[f]){for(var h=e.call(c,c.__data__,f,l),p,y=Ut(c,n),v=0,_=h.length;v<_;++v)(p=h[v])&&el(p,t,n,v,h,y);o.push(h),s.push(c)}return new Sn(o,s,t,n)}var Y5=Wo.prototype.constructor;function X5(){return new Y5(this._groups,this._parents)}function Q5(e,t){var n,r,i;return function(){var o=xi(this,e),s=(this.style.removeProperty(e),xi(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function JS(e){return function(){this.style.removeProperty(e)}}function Z5(e,t,n){var r,i=n+"",o;return function(){var s=xi(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function J5(e,t,n){var r,i,o;return function(){var s=xi(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),xi(this,e))),s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a))}}function eR(e,t){var n,r,i,o="style."+t,s="end."+o,a;return function(){var l=nn(this,e),u=l.on,c=l.value[o]==null?a||(a=JS(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(s,i=c),l.on=r}}function tR(e,t,n){var r=(e+="")=="transform"?t5:ZS;return t==null?this.styleTween(e,Q5(e,r)).on("end.style."+e,JS(e)):typeof t=="function"?this.styleTween(e,J5(e,r,gg(this,"style."+e,t))).each(eR(this._id,e)):this.styleTween(e,Z5(e,r,t),n).on("end.style."+e,null)}function nR(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function rR(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&nR(e,s,n)),r}return o._value=t,o}function iR(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,rR(e,t,n??""))}function oR(e){return function(){this.textContent=e}}function sR(e){return function(){var t=e(this);this.textContent=t??""}}function aR(e){return this.tween("text",typeof e=="function"?sR(gg(this,"text",e)):oR(e==null?"":e+""))}function lR(e){return function(t){this.textContent=e.call(this,t)}}function uR(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&lR(i)),t}return r._value=e,r}function cR(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,uR(e))}function dR(){for(var e=this._name,t=this._id,n=eE(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)if(l=s[u]){var c=Ut(l,t);el(l,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Sn(r,this._parents,e,n)}function fR(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--i===0&&o()}};n.each(function(){var u=nn(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),u.on=t}),i===0&&o()})}var hR=0;function Sn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function eE(){return++hR}var ln=Wo.prototype;Sn.prototype={constructor:Sn,select:G5,selectAll:K5,selectChild:ln.selectChild,selectChildren:ln.selectChildren,filter:F5,merge:$5,selection:X5,transition:dR,call:ln.call,nodes:ln.nodes,node:ln.node,size:ln.size,empty:ln.empty,each:ln.each,on:U5,attr:E5,attrTween:T5,style:tR,styleTween:iR,text:aR,textTween:cR,remove:W5,tween:v5,delay:P5,duration:O5,ease:q5,easeVarying:D5,end:fR,[Symbol.iterator]:ln[Symbol.iterator]};function pR(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var mR={time:null,delay:0,duration:250,ease:pR};function gR(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function vR(e){var t,n;e instanceof Sn?(t=e._id,e=e._name):(t=eE(),(n=mR).time=pg(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&el(l,e,t,u,s,n||gR(l,t));return new Sn(r,this._parents,e,t)}Wo.prototype.interrupt=p5;Wo.prototype.transition=vR;const Ss=e=>()=>e;function yR(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function pn(e,t,n){this.k=e,this.x=t,this.y=n}pn.prototype={constructor:pn,scale:function(e){return e===1?this:new pn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new pn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var yn=new pn(1,0,0);pn.prototype;function nu(e){e.stopImmediatePropagation()}function $i(e){e.preventDefault(),e.stopImmediatePropagation()}function xR(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function wR(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function jy(){return this.__zoom||yn}function _R(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function bR(){return navigator.maxTouchPoints||"ontouchstart"in this}function SR(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function tE(){var e=xR,t=wR,n=SR,r=_R,i=bR,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,l=s5,u=Qa("start","zoom","end"),c,f,h,p=500,y=150,v=0,_=10;function m(b){b.property("__zoom",jy).on("wheel.zoom",C,{passive:!1}).on("mousedown.zoom",R).on("dblclick.zoom",O).filter(i).on("touchstart.zoom",L).on("touchmove.zoom",F).on("touchend.zoom touchcancel.zoom",q).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(b,P,T,z){var I=b.selection?b.selection():b;I.property("__zoom",jy),b!==I?S(b,P,T,z):I.interrupt().each(function(){E(this,arguments).event(z).start().zoom(null,typeof P=="function"?P.apply(this,arguments):P).end()})},m.scaleBy=function(b,P,T,z){m.scaleTo(b,function(){var I=this.__zoom.k,j=typeof P=="function"?P.apply(this,arguments):P;return I*j},T,z)},m.scaleTo=function(b,P,T,z){m.transform(b,function(){var I=t.apply(this,arguments),j=this.__zoom,A=T==null?x(I):typeof T=="function"?T.apply(this,arguments):T,M=j.invert(A),D=typeof P=="function"?P.apply(this,arguments):P;return n(w(g(j,D),A,M),I,s)},T,z)},m.translateBy=function(b,P,T,z){m.transform(b,function(){return n(this.__zoom.translate(typeof P=="function"?P.apply(this,arguments):P,typeof T=="function"?T.apply(this,arguments):T),t.apply(this,arguments),s)},null,z)},m.translateTo=function(b,P,T,z,I){m.transform(b,function(){var j=t.apply(this,arguments),A=this.__zoom,M=z==null?x(j):typeof z=="function"?z.apply(this,arguments):z;return n(yn.translate(M[0],M[1]).scale(A.k).translate(typeof P=="function"?-P.apply(this,arguments):-P,typeof T=="function"?-T.apply(this,arguments):-T),j,s)},z,I)};function g(b,P){return P=Math.max(o[0],Math.min(o[1],P)),P===b.k?b:new pn(P,b.x,b.y)}function w(b,P,T){var z=P[0]-T[0]*b.k,I=P[1]-T[1]*b.k;return z===b.x&&I===b.y?b:new pn(b.k,z,I)}function x(b){return[(+b[0][0]+ +b[1][0])/2,(+b[0][1]+ +b[1][1])/2]}function S(b,P,T,z){b.on("start.zoom",function(){E(this,arguments).event(z).start()}).on("interrupt.zoom end.zoom",function(){E(this,arguments).event(z).end()}).tween("zoom",function(){var I=this,j=arguments,A=E(I,j).event(z),M=t.apply(I,j),D=T==null?x(M):typeof T=="function"?T.apply(I,j):T,B=Math.max(M[1][0]-M[0][0],M[1][1]-M[0][1]),U=I.__zoom,K=typeof P=="function"?P.apply(I,j):P,Q=l(U.invert(D).concat(B/U.k),K.invert(D).concat(B/K.k));return function(Z){if(Z===1)Z=K;else{var ae=Q(Z),re=B/ae[2];Z=new pn(re,D[0]-ae[0]*re,D[1]-ae[1]*re)}A.zoom(null,Z)}})}function E(b,P,T){return!T&&b.__zooming||new N(b,P)}function N(b,P){this.that=b,this.args=P,this.active=0,this.sourceEvent=null,this.extent=t.apply(b,P),this.taps=0}N.prototype={event:function(b){return b&&(this.sourceEvent=b),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(b,P){return this.mouse&&b!=="mouse"&&(this.mouse[1]=P.invert(this.mouse[0])),this.touch0&&b!=="touch"&&(this.touch0[1]=P.invert(this.touch0[0])),this.touch1&&b!=="touch"&&(this.touch1[1]=P.invert(this.touch1[0])),this.that.__zoom=P,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(b){var P=kt(this.that).datum();u.call(b,this.that,new yR(b,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:u}),P)}};function C(b,...P){if(!e.apply(this,arguments))return;var T=E(this,P).event(b),z=this.__zoom,I=Math.max(o[0],Math.min(o[1],z.k*Math.pow(2,r.apply(this,arguments)))),j=zt(b);if(T.wheel)(T.mouse[0][0]!==j[0]||T.mouse[0][1]!==j[1])&&(T.mouse[1]=z.invert(T.mouse[0]=j)),clearTimeout(T.wheel);else{if(z.k===I)return;T.mouse=[j,z.invert(j)],Xs(this),T.start()}$i(b),T.wheel=setTimeout(A,y),T.zoom("mouse",n(w(g(z,I),T.mouse[0],T.mouse[1]),T.extent,s));function A(){T.wheel=null,T.end()}}function R(b,...P){if(h||!e.apply(this,arguments))return;var T=b.currentTarget,z=E(this,P,!0).event(b),I=kt(b.view).on("mousemove.zoom",D,!0).on("mouseup.zoom",B,!0),j=zt(b,T),A=b.clientX,M=b.clientY;FS(b.view),nu(b),z.mouse=[j,this.__zoom.invert(j)],Xs(this),z.start();function D(U){if($i(U),!z.moved){var K=U.clientX-A,Q=U.clientY-M;z.moved=K*K+Q*Q>v}z.event(U).zoom("mouse",n(w(z.that.__zoom,z.mouse[0]=zt(U,T),z.mouse[1]),z.extent,s))}function B(U){I.on("mousemove.zoom mouseup.zoom",null),$S(U.view,z.moved),$i(U),z.event(U).end()}}function O(b,...P){if(e.apply(this,arguments)){var T=this.__zoom,z=zt(b.changedTouches?b.changedTouches[0]:b,this),I=T.invert(z),j=T.k*(b.shiftKey?.5:2),A=n(w(g(T,j),z,I),t.apply(this,P),s);$i(b),a>0?kt(this).transition().duration(a).call(S,A,z,b):kt(this).call(m.transform,A,z,b)}}function L(b,...P){if(e.apply(this,arguments)){var T=b.touches,z=T.length,I=E(this,P,b.changedTouches.length===z).event(b),j,A,M,D;for(nu(b),A=0;A<z;++A)M=T[A],D=zt(M,this),D=[D,this.__zoom.invert(D),M.identifier],I.touch0?!I.touch1&&I.touch0[2]!==D[2]&&(I.touch1=D,I.taps=0):(I.touch0=D,j=!0,I.taps=1+!!c);c&&(c=clearTimeout(c)),j&&(I.taps<2&&(f=D[0],c=setTimeout(function(){c=null},p)),Xs(this),I.start())}}function F(b,...P){if(this.__zooming){var T=E(this,P).event(b),z=b.changedTouches,I=z.length,j,A,M,D;for($i(b),j=0;j<I;++j)A=z[j],M=zt(A,this),T.touch0&&T.touch0[2]===A.identifier?T.touch0[0]=M:T.touch1&&T.touch1[2]===A.identifier&&(T.touch1[0]=M);if(A=T.that.__zoom,T.touch1){var B=T.touch0[0],U=T.touch0[1],K=T.touch1[0],Q=T.touch1[1],Z=(Z=K[0]-B[0])*Z+(Z=K[1]-B[1])*Z,ae=(ae=Q[0]-U[0])*ae+(ae=Q[1]-U[1])*ae;A=g(A,Math.sqrt(Z/ae)),M=[(B[0]+K[0])/2,(B[1]+K[1])/2],D=[(U[0]+Q[0])/2,(U[1]+Q[1])/2]}else if(T.touch0)M=T.touch0[0],D=T.touch0[1];else return;T.zoom("touch",n(w(A,M,D),T.extent,s))}}function q(b,...P){if(this.__zooming){var T=E(this,P).event(b),z=b.changedTouches,I=z.length,j,A;for(nu(b),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),j=0;j<I;++j)A=z[j],T.touch0&&T.touch0[2]===A.identifier?delete T.touch0:T.touch1&&T.touch1[2]===A.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(A=zt(A,this),Math.hypot(f[0]-A[0],f[1]-A[1])<_)){var M=kt(this).on("dblclick.zoom");M&&M.apply(this,arguments)}}}return m.wheelDelta=function(b){return arguments.length?(r=typeof b=="function"?b:Ss(+b),m):r},m.filter=function(b){return arguments.length?(e=typeof b=="function"?b:Ss(!!b),m):e},m.touchable=function(b){return arguments.length?(i=typeof b=="function"?b:Ss(!!b),m):i},m.extent=function(b){return arguments.length?(t=typeof b=="function"?b:Ss([[+b[0][0],+b[0][1]],[+b[1][0],+b[1][1]]]),m):t},m.scaleExtent=function(b){return arguments.length?(o[0]=+b[0],o[1]=+b[1],m):[o[0],o[1]]},m.translateExtent=function(b){return arguments.length?(s[0][0]=+b[0][0],s[1][0]=+b[1][0],s[0][1]=+b[0][1],s[1][1]=+b[1][1],m):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},m.constrain=function(b){return arguments.length?(n=b,m):n},m.duration=function(b){return arguments.length?(a=+b,m):a},m.interpolate=function(b){return arguments.length?(l=b,m):l},m.on=function(){var b=u.on.apply(u,arguments);return b===u?m:b},m.clickDistance=function(b){return arguments.length?(v=(b=+b)*b,m):Math.sqrt(v)},m.tapDistance=function(b){return arguments.length?(_=+b,m):_},m}const tl=k.createContext(null),ER=tl.Provider,En={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},nE=En.error001();function we(e,t){const n=k.useContext(tl);if(n===null)throw new Error(nE);return jS(n,e,t)}const Ue=()=>{const e=k.useContext(tl);if(e===null)throw new Error(nE);return k.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},kR=e=>e.userSelectionActive?"none":"all";function po({position:e,children:t,className:n,style:r,...i}){const o=we(kR),s=`${e}`.split("-");return $.createElement("div",{className:ht(["react-flow__panel",n,...s]),style:{...r,pointerEvents:o},...i},t)}function NR({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:$.createElement(po,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},$.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const jR=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:o={},labelBgPadding:s=[2,4],labelBgBorderRadius:a=2,children:l,className:u,...c})=>{const f=k.useRef(null),[h,p]=k.useState({x:0,y:0,width:0,height:0}),y=ht(["react-flow__edge-textwrapper",u]);return k.useEffect(()=>{if(f.current){const v=f.current.getBBox();p({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),typeof n>"u"||!n?null:$.createElement("g",{transform:`translate(${e-h.width/2} ${t-h.height/2})`,className:y,visibility:h.width?"visible":"hidden",...c},i&&$.createElement("rect",{width:h.width+2*s[0],x:-s[0],y:-s[1],height:h.height+2*s[1],className:"react-flow__edge-textbg",style:o,rx:a,ry:a}),$.createElement("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:f,style:r},n),l)};var CR=k.memo(jR);const vg=e=>({width:e.offsetWidth,height:e.offsetHeight}),_i=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),yg=(e={x:0,y:0},t)=>({x:_i(e.x,t[0][0],t[1][0]),y:_i(e.y,t[0][1],t[1][1])}),Cy=(e,t,n)=>e<t?_i(Math.abs(e-t),1,50)/50:e>n?-_i(Math.abs(e-n),1,50)/50:0,rE=(e,t)=>{const n=Cy(e.x,35,t.width-35)*20,r=Cy(e.y,35,t.height-35)*20;return[n,r]},iE=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},oE=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),zo=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),sE=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Ty=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),TR=(e,t)=>sE(oE(zo(e),zo(t))),om=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},RR=e=>jt(e.width)&&jt(e.height)&&jt(e.x)&&jt(e.y),jt=e=>!isNaN(e)&&isFinite(e),Te=Symbol.for("internals"),aE=["Enter"," ","Escape"],IR=(e,t)=>{},PR=e=>"nativeEvent"in e;function sm(e){var i,o;const t=PR(e)?e.nativeEvent:e,n=((o=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:o[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const lE=e=>"clientX"in e,Zn=(e,t)=>{var o,s;const n=lE(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,i=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},ja=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},Ko=({id:e,path:t,labelX:n,labelY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:h,interactionWidth:p=20})=>$.createElement($.Fragment,null,$.createElement("path",{id:e,style:c,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:h}),p&&$.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}),i&&jt(n)&&jt(r)?$.createElement(CR,{x:n,y:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u}):null);Ko.displayName="BaseEdge";function Bi(e,t,n){return n===void 0?n:r=>{const i=t().edges.find(o=>o.id===e);i&&n(r,{...i})}}function uE({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,s=Math.abs(r-t)/2,a=r<t?r+s:r-s;return[o,a,i,s]}function cE({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:s,targetControlY:a}){const l=e*.125+i*.375+s*.375+n*.125,u=t*.125+o*.375+a*.375+r*.125,c=Math.abs(l-e),f=Math.abs(u-t);return[l,u,c,f]}var Rr;(function(e){e.Strict="strict",e.Loose="loose"})(Rr||(Rr={}));var yr;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(yr||(yr={}));var Do;(function(e){e.Partial="partial",e.Full="full"})(Do||(Do={}));var Dn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Dn||(Dn={}));var Ca;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Ca||(Ca={}));var X;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(X||(X={}));function Ry({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===X.Left||e===X.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function dE({sourceX:e,sourceY:t,sourcePosition:n=X.Bottom,targetX:r,targetY:i,targetPosition:o=X.Top}){const[s,a]=Ry({pos:n,x1:e,y1:t,x2:r,y2:i}),[l,u]=Ry({pos:o,x1:r,y1:i,x2:e,y2:t}),[c,f,h,p]=cE({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:s,sourceControlY:a,targetControlX:l,targetControlY:u});return[`M${e},${t} C${s},${a} ${l},${u} ${r},${i}`,c,f,h,p]}const xg=k.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=X.Bottom,targetPosition:o=X.Top,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:y,interactionWidth:v})=>{const[_,m,g]=dE({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:o});return $.createElement(Ko,{path:_,labelX:m,labelY:g,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:y,interactionWidth:v})});xg.displayName="SimpleBezierEdge";const Iy={[X.Left]:{x:-1,y:0},[X.Right]:{x:1,y:0},[X.Top]:{x:0,y:-1},[X.Bottom]:{x:0,y:1}},MR=({source:e,sourcePosition:t=X.Bottom,target:n})=>t===X.Left||t===X.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Py=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function AR({source:e,sourcePosition:t=X.Bottom,target:n,targetPosition:r=X.Top,center:i,offset:o}){const s=Iy[t],a=Iy[r],l={x:e.x+s.x*o,y:e.y+s.y*o},u={x:n.x+a.x*o,y:n.y+a.y*o},c=MR({source:l,sourcePosition:t,target:u}),f=c.x!==0?"x":"y",h=c[f];let p=[],y,v;const _={x:0,y:0},m={x:0,y:0},[g,w,x,S]=uE({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[f]*a[f]===-1){y=i.x??g,v=i.y??w;const N=[{x:y,y:l.y},{x:y,y:u.y}],C=[{x:l.x,y:v},{x:u.x,y:v}];s[f]===h?p=f==="x"?N:C:p=f==="x"?C:N}else{const N=[{x:l.x,y:u.y}],C=[{x:u.x,y:l.y}];if(f==="x"?p=s.x===h?C:N:p=s.y===h?N:C,t===r){const q=Math.abs(e[f]-n[f]);if(q<=o){const b=Math.min(o-1,o-q);s[f]===h?_[f]=(l[f]>e[f]?-1:1)*b:m[f]=(u[f]>n[f]?-1:1)*b}}if(t!==r){const q=f==="x"?"y":"x",b=s[f]===a[q],P=l[q]>u[q],T=l[q]<u[q];(s[f]===1&&(!b&&P||b&&T)||s[f]!==1&&(!b&&T||b&&P))&&(p=f==="x"?N:C)}const R={x:l.x+_.x,y:l.y+_.y},O={x:u.x+m.x,y:u.y+m.y},L=Math.max(Math.abs(R.x-p[0].x),Math.abs(O.x-p[0].x)),F=Math.max(Math.abs(R.y-p[0].y),Math.abs(O.y-p[0].y));L>=F?(y=(R.x+O.x)/2,v=p[0].y):(y=p[0].x,v=(R.y+O.y)/2)}return[[e,{x:l.x+_.x,y:l.y+_.y},...p,{x:u.x+m.x,y:u.y+m.y},n],y,v,x,S]}function OR(e,t,n,r){const i=Math.min(Py(e,t)/2,Py(t,n)/2,r),{x:o,y:s}=t;if(e.x===o&&o===n.x||e.y===s&&s===n.y)return`L${o} ${s}`;if(e.y===s){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${o+i*u},${s}Q ${o},${s} ${o},${s+i*c}`}const a=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${o},${s+i*l}Q ${o},${s} ${o+i*a},${s}`}function am({sourceX:e,sourceY:t,sourcePosition:n=X.Bottom,targetX:r,targetY:i,targetPosition:o=X.Top,borderRadius:s=5,centerX:a,centerY:l,offset:u=20}){const[c,f,h,p,y]=AR({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:a,y:l},offset:u});return[c.reduce((_,m,g)=>{let w="";return g>0&&g<c.length-1?w=OR(c[g-1],m,c[g+1],s):w=`${g===0?"M":"L"}${m.x} ${m.y}`,_+=w,_},""),f,h,p,y]}const nl=k.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,sourcePosition:f=X.Bottom,targetPosition:h=X.Top,markerEnd:p,markerStart:y,pathOptions:v,interactionWidth:_})=>{const[m,g,w]=am({sourceX:e,sourceY:t,sourcePosition:f,targetX:n,targetY:r,targetPosition:h,borderRadius:v==null?void 0:v.borderRadius,offset:v==null?void 0:v.offset});return $.createElement(Ko,{path:m,labelX:g,labelY:w,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:p,markerStart:y,interactionWidth:_})});nl.displayName="SmoothStepEdge";const wg=k.memo(e=>{var t;return $.createElement(nl,{...e,pathOptions:k.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});wg.displayName="StepEdge";function LR({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,o,s,a]=uE({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,o,s,a]}const _g=k.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:h,interactionWidth:p})=>{const[y,v,_]=LR({sourceX:e,sourceY:t,targetX:n,targetY:r});return $.createElement(Ko,{path:y,labelX:v,labelY:_,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:h,interactionWidth:p})});_g.displayName="StraightEdge";function Es(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function My({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){switch(e){case X.Left:return[t-Es(t-r,o),n];case X.Right:return[t+Es(r-t,o),n];case X.Top:return[t,n-Es(n-i,o)];case X.Bottom:return[t,n+Es(i-n,o)]}}function fE({sourceX:e,sourceY:t,sourcePosition:n=X.Bottom,targetX:r,targetY:i,targetPosition:o=X.Top,curvature:s=.25}){const[a,l]=My({pos:n,x1:e,y1:t,x2:r,y2:i,c:s}),[u,c]=My({pos:o,x1:r,y1:i,x2:e,y2:t,c:s}),[f,h,p,y]=cE({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:u,targetControlY:c});return[`M${e},${t} C${a},${l} ${u},${c} ${r},${i}`,f,h,p,y]}const Ta=k.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=X.Bottom,targetPosition:o=X.Top,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:y,pathOptions:v,interactionWidth:_})=>{const[m,g,w]=fE({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:o,curvature:v==null?void 0:v.curvature});return $.createElement(Ko,{path:m,labelX:g,labelY:w,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:y,interactionWidth:_})});Ta.displayName="BezierEdge";const bg=k.createContext(null),qR=bg.Provider;bg.Consumer;const zR=()=>k.useContext(bg),DR=e=>"id"in e&&"source"in e&&"target"in e,FR=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,lm=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,$R=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),BR=(e,t)=>{if(!e.source||!e.target)return t;let n;return DR(e)?n={...e}:n={...e,id:FR(e)},$R(n,t)?t:t.concat(n)},um=({x:e,y:t},[n,r,i],o,[s,a])=>{const l={x:(e-n)/i,y:(t-r)/i};return o?{x:s*Math.round(l.x/s),y:a*Math.round(l.y/a)}:l},hE=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r}),Sr=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],i={x:e.position.x-n,y:e.position.y-r};return{...i,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:i}},rl=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const{x:o,y:s}=Sr(i,t).positionAbsolute;return oE(r,zo({x:o,y:s,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return sE(n)},pE=(e,t,[n,r,i]=[0,0,1],o=!1,s=!1,a=[0,0])=>{const l={x:(t.x-n)/i,y:(t.y-r)/i,width:t.width/i,height:t.height/i},u=[];return e.forEach(c=>{const{width:f,height:h,selectable:p=!0,hidden:y=!1}=c;if(s&&!p||y)return!1;const{positionAbsolute:v}=Sr(c,a),_={x:v.x,y:v.y,width:f||0,height:h||0},m=om(l,_),g=typeof f>"u"||typeof h>"u"||f===null||h===null,w=o&&m>0,x=(f||0)*(h||0);(g||w||m>=x||c.dragging)&&u.push(c)}),u},mE=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},gE=(e,t,n,r,i,o=.1)=>{const s=t/(e.width*(1+o)),a=n/(e.height*(1+o)),l=Math.min(s,a),u=_i(l,r,i),c=e.x+e.width/2,f=e.y+e.height/2,h=t/2-c*u,p=n/2-f*u;return{x:h,y:p,zoom:u}},hr=(e,t=0)=>e.transition().duration(t);function Ay(e,t,n,r){return(t[n]||[]).reduce((i,o)=>{var s,a;return`${e.id}-${o.id}-${n}`!==r&&i.push({id:o.id||null,type:n,nodeId:e.id,x:(((s=e.positionAbsolute)==null?void 0:s.x)??0)+o.x+o.width/2,y:(((a=e.positionAbsolute)==null?void 0:a.y)??0)+o.y+o.height/2}),i},[])}function HR(e,t,n,r,i,o){const{x:s,y:a}=Zn(e),u=t.elementsFromPoint(s,a).find(y=>y.classList.contains("react-flow__handle"));if(u){const y=u.getAttribute("data-nodeid");if(y){const v=Sg(void 0,u),_=u.getAttribute("data-handleid"),m=o({nodeId:y,id:_,type:v});if(m){const g=i.find(w=>w.nodeId===y&&w.type===v&&w.id===_);return{handle:{id:_,type:v,nodeId:y,x:(g==null?void 0:g.x)||n.x,y:(g==null?void 0:g.y)||n.y},validHandleResult:m}}}}let c=[],f=1/0;if(i.forEach(y=>{const v=Math.sqrt((y.x-n.x)**2+(y.y-n.y)**2);if(v<=r){const _=o(y);v<=f&&(v<f?c=[{handle:y,validHandleResult:_}]:v===f&&c.push({handle:y,validHandleResult:_}),f=v)}}),!c.length)return{handle:null,validHandleResult:vE()};if(c.length===1)return c[0];const h=c.some(({validHandleResult:y})=>y.isValid),p=c.some(({handle:y})=>y.type==="target");return c.find(({handle:y,validHandleResult:v})=>p?y.type==="target":h?v.isValid:!0)||c[0]}const UR={source:null,target:null,sourceHandle:null,targetHandle:null},vE=()=>({handleDomNode:null,isValid:!1,connection:UR,endHandle:null});function yE(e,t,n,r,i,o,s){const a=i==="target",l=s.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...vE(),handleDomNode:l};if(l){const c=Sg(void 0,l),f=l.getAttribute("data-nodeid"),h=l.getAttribute("data-handleid"),p=l.classList.contains("connectable"),y=l.classList.contains("connectableend"),v={source:a?f:n,sourceHandle:a?h:r,target:a?n:f,targetHandle:a?r:h};u.connection=v,p&&y&&(t===Rr.Strict?a&&c==="source"||!a&&c==="target":f!==n||h!==r)&&(u.endHandle={nodeId:f,handleId:h,type:c},u.isValid=o(v))}return u}function VR({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((i,o)=>{if(o[Te]){const{handleBounds:s}=o[Te];let a=[],l=[];s&&(a=Ay(o,s,"source",`${t}-${n}-${r}`),l=Ay(o,s,"target",`${t}-${n}-${r}`)),i.push(...a,...l)}return i},[])}function Sg(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function ru(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function WR(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function xE({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:i,getState:o,setState:s,isValidConnection:a,edgeUpdaterType:l,onReconnectEnd:u}){const c=iE(e.target),{connectionMode:f,domNode:h,autoPanOnConnect:p,connectionRadius:y,onConnectStart:v,panBy:_,getNodes:m,cancelConnection:g}=o();let w=0,x;const{x:S,y:E}=Zn(e),N=c==null?void 0:c.elementFromPoint(S,E),C=Sg(l,N),R=h==null?void 0:h.getBoundingClientRect();if(!R||!C)return;let O,L=Zn(e,R),F=!1,q=null,b=!1,P=null;const T=VR({nodes:m(),nodeId:n,handleId:t,handleType:C}),z=()=>{if(!p)return;const[A,M]=rE(L,R);_({x:A,y:M}),w=requestAnimationFrame(z)};s({connectionPosition:L,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:C,connectionStartHandle:{nodeId:n,handleId:t,type:C},connectionEndHandle:null}),v==null||v(e,{nodeId:n,handleId:t,handleType:C});function I(A){const{transform:M}=o();L=Zn(A,R);const{handle:D,validHandleResult:B}=HR(A,c,um(L,M,!1,[1,1]),y,T,U=>yE(U,f,n,t,i?"target":"source",a,c));if(x=D,F||(z(),F=!0),P=B.handleDomNode,q=B.connection,b=B.isValid,s({connectionPosition:x&&b?hE({x:x.x,y:x.y},M):L,connectionStatus:WR(!!x,b),connectionEndHandle:B.endHandle}),!x&&!b&&!P)return ru(O);q.source!==q.target&&P&&(ru(O),O=P,P.classList.add("connecting","react-flow__handle-connecting"),P.classList.toggle("valid",b),P.classList.toggle("react-flow__handle-valid",b))}function j(A){var M,D;(x||P)&&q&&b&&(r==null||r(q)),(D=(M=o()).onConnectEnd)==null||D.call(M,A),l&&(u==null||u(A)),ru(O),g(),cancelAnimationFrame(w),F=!1,b=!1,q=null,P=null,c.removeEventListener("mousemove",I),c.removeEventListener("mouseup",j),c.removeEventListener("touchmove",I),c.removeEventListener("touchend",j)}c.addEventListener("mousemove",I),c.addEventListener("mouseup",j),c.addEventListener("touchmove",I),c.addEventListener("touchend",j)}const Oy=()=>!0,GR=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),KR=(e,t,n)=>r=>{const{connectionStartHandle:i,connectionEndHandle:o,connectionClickStartHandle:s}=r;return{connecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n||(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n}},wE=k.forwardRef(({type:e="source",position:t=X.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:s,onConnect:a,children:l,className:u,onMouseDown:c,onTouchStart:f,...h},p)=>{var R,O;const y=s||null,v=e==="target",_=Ue(),m=zR(),{connectOnClick:g,noPanClassName:w}=we(GR,Je),{connecting:x,clickConnecting:S}=we(KR(m,y,e),Je);m||(O=(R=_.getState()).onError)==null||O.call(R,"010",En.error010());const E=L=>{const{defaultEdgeOptions:F,onConnect:q,hasDefaultEdges:b}=_.getState(),P={...F,...L};if(b){const{edges:T,setEdges:z}=_.getState();z(BR(P,T))}q==null||q(P),a==null||a(P)},N=L=>{if(!m)return;const F=lE(L);i&&(F&&L.button===0||!F)&&xE({event:L,handleId:y,nodeId:m,onConnect:E,isTarget:v,getState:_.getState,setState:_.setState,isValidConnection:n||_.getState().isValidConnection||Oy}),F?c==null||c(L):f==null||f(L)},C=L=>{const{onClickConnectStart:F,onClickConnectEnd:q,connectionClickStartHandle:b,connectionMode:P,isValidConnection:T}=_.getState();if(!m||!b&&!i)return;if(!b){F==null||F(L,{nodeId:m,handleId:y,handleType:e}),_.setState({connectionClickStartHandle:{nodeId:m,type:e,handleId:y}});return}const z=iE(L.target),I=n||T||Oy,{connection:j,isValid:A}=yE({nodeId:m,id:y,type:e},P,b.nodeId,b.handleId||null,b.type,I,z);A&&E(j),q==null||q(L),_.setState({connectionClickStartHandle:null})};return $.createElement("div",{"data-handleid":y,"data-nodeid":m,"data-handlepos":t,"data-id":`${m}-${y}-${e}`,className:ht(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",w,u,{source:!v,target:v,connectable:r,connectablestart:i,connectableend:o,connecting:S,connectionindicator:r&&(i&&!x||o&&x)}]),onMouseDown:N,onTouchStart:N,onClick:g?C:void 0,ref:p,...h},l)});wE.displayName="Handle";var nr=k.memo(wE);const _E=({data:e,isConnectable:t,targetPosition:n=X.Top,sourcePosition:r=X.Bottom})=>$.createElement($.Fragment,null,$.createElement(nr,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,$.createElement(nr,{type:"source",position:r,isConnectable:t}));_E.displayName="DefaultNode";var cm=k.memo(_E);const bE=({data:e,isConnectable:t,sourcePosition:n=X.Bottom})=>$.createElement($.Fragment,null,e==null?void 0:e.label,$.createElement(nr,{type:"source",position:n,isConnectable:t}));bE.displayName="InputNode";var SE=k.memo(bE);const EE=({data:e,isConnectable:t,targetPosition:n=X.Top})=>$.createElement($.Fragment,null,$.createElement(nr,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);EE.displayName="OutputNode";var kE=k.memo(EE);const Eg=()=>null;Eg.displayName="GroupNode";const YR=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),ks=e=>e.id;function XR(e,t){return Je(e.selectedNodes.map(ks),t.selectedNodes.map(ks))&&Je(e.selectedEdges.map(ks),t.selectedEdges.map(ks))}const NE=k.memo(({onSelectionChange:e})=>{const t=Ue(),{selectedNodes:n,selectedEdges:r}=we(YR,XR);return k.useEffect(()=>{const i={nodes:n,edges:r};e==null||e(i),t.getState().onSelectionChange.forEach(o=>o(i))},[n,r,e]),null});NE.displayName="SelectionListener";const QR=e=>!!e.onSelectionChange;function ZR({onSelectionChange:e}){const t=we(QR);return e||t?$.createElement(NE,{onSelectionChange:e}):null}const JR=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Dr(e,t){k.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function te(e,t,n){k.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const eI=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:i,onConnectStart:o,onConnectEnd:s,onClickConnectStart:a,onClickConnectEnd:l,nodesDraggable:u,nodesConnectable:c,nodesFocusable:f,edgesFocusable:h,edgesUpdatable:p,elevateNodesOnSelect:y,minZoom:v,maxZoom:_,nodeExtent:m,onNodesChange:g,onEdgesChange:w,elementsSelectable:x,connectionMode:S,snapGrid:E,snapToGrid:N,translateExtent:C,connectOnClick:R,defaultEdgeOptions:O,fitView:L,fitViewOptions:F,onNodesDelete:q,onEdgesDelete:b,onNodeDrag:P,onNodeDragStart:T,onNodeDragStop:z,onSelectionDrag:I,onSelectionDragStart:j,onSelectionDragStop:A,noPanClassName:M,nodeOrigin:D,rfId:B,autoPanOnConnect:U,autoPanOnNodeDrag:K,onError:Q,connectionRadius:Z,isValidConnection:ae,nodeDragThreshold:re})=>{const{setNodes:ie,setEdges:Re,setDefaultNodesAndEdges:ve,setMinZoom:Le,setMaxZoom:Me,setTranslateExtent:V,setNodeExtent:oe,reset:G}=we(JR,Je),W=Ue();return k.useEffect(()=>{const ce=r==null?void 0:r.map(qe=>({...qe,...O}));return ve(n,ce),()=>{G()}},[]),te("defaultEdgeOptions",O,W.setState),te("connectionMode",S,W.setState),te("onConnect",i,W.setState),te("onConnectStart",o,W.setState),te("onConnectEnd",s,W.setState),te("onClickConnectStart",a,W.setState),te("onClickConnectEnd",l,W.setState),te("nodesDraggable",u,W.setState),te("nodesConnectable",c,W.setState),te("nodesFocusable",f,W.setState),te("edgesFocusable",h,W.setState),te("edgesUpdatable",p,W.setState),te("elementsSelectable",x,W.setState),te("elevateNodesOnSelect",y,W.setState),te("snapToGrid",N,W.setState),te("snapGrid",E,W.setState),te("onNodesChange",g,W.setState),te("onEdgesChange",w,W.setState),te("connectOnClick",R,W.setState),te("fitViewOnInit",L,W.setState),te("fitViewOnInitOptions",F,W.setState),te("onNodesDelete",q,W.setState),te("onEdgesDelete",b,W.setState),te("onNodeDrag",P,W.setState),te("onNodeDragStart",T,W.setState),te("onNodeDragStop",z,W.setState),te("onSelectionDrag",I,W.setState),te("onSelectionDragStart",j,W.setState),te("onSelectionDragStop",A,W.setState),te("noPanClassName",M,W.setState),te("nodeOrigin",D,W.setState),te("rfId",B,W.setState),te("autoPanOnConnect",U,W.setState),te("autoPanOnNodeDrag",K,W.setState),te("onError",Q,W.setState),te("connectionRadius",Z,W.setState),te("isValidConnection",ae,W.setState),te("nodeDragThreshold",re,W.setState),Dr(e,ie),Dr(t,Re),Dr(v,Le),Dr(_,Me),Dr(C,V),Dr(m,oe),null},Ly={display:"none"},tI={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},jE="react-flow__node-desc",CE="react-flow__edge-desc",nI="react-flow__aria-live",rI=e=>e.ariaLiveMessage;function iI({rfId:e}){const t=we(rI);return $.createElement("div",{id:`${nI}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:tI},t)}function oI({rfId:e,disableKeyboardA11y:t}){return $.createElement($.Fragment,null,$.createElement("div",{id:`${jE}-${e}`,style:Ly},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),$.createElement("div",{id:`${CE}-${e}`,style:Ly},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&$.createElement(iI,{rfId:e}))}var Fo=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=k.useState(!1),i=k.useRef(!1),o=k.useRef(new Set([])),[s,a]=k.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),c=u.reduce((f,h)=>f.concat(...h),[]);return[u,c]}return[[],[]]},[e]);return k.useEffect(()=>{const l=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||l;if(e!==null){const c=p=>{if(i.current=p.ctrlKey||p.metaKey||p.shiftKey,(!i.current||i.current&&!t.actInsideInputWithModifier)&&sm(p))return!1;const v=zy(p.code,a);o.current.add(p[v]),qy(s,o.current,!1)&&(p.preventDefault(),r(!0))},f=p=>{if((!i.current||i.current&&!t.actInsideInputWithModifier)&&sm(p))return!1;const v=zy(p.code,a);qy(s,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(p[v]),p.key==="Meta"&&o.current.clear(),i.current=!1},h=()=>{o.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",c),u==null||u.addEventListener("keyup",f),window.addEventListener("blur",h),()=>{u==null||u.removeEventListener("keydown",c),u==null||u.removeEventListener("keyup",f),window.removeEventListener("blur",h)}}},[e,r]),n};function qy(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function zy(e,t){return t.includes(e)?"code":"key"}function TE(e,t,n,r){var a,l;const i=e.parentNode||e.parentId;if(!i)return n;const o=t.get(i),s=Sr(o,r);return TE(o,t,{x:(n.x??0)+s.x,y:(n.y??0)+s.y,z:(((a=o[Te])==null?void 0:a.z)??0)>(n.z??0)?((l=o[Te])==null?void 0:l.z)??0:n.z??0},r)}function RE(e,t,n){e.forEach(r=>{var o;const i=r.parentNode||r.parentId;if(i&&!e.has(i))throw new Error(`Parent node ${i} not found`);if(i||n!=null&&n[r.id]){const{x:s,y:a,z:l}=TE(r,e,{...r.position,z:((o=r[Te])==null?void 0:o.z)??0},t);r.positionAbsolute={x:s,y:a},r[Te].z=l,n!=null&&n[r.id]&&(r[Te].isParent=!0)}})}function iu(e,t,n,r){const i=new Map,o={},s=r?1e3:0;return e.forEach(a=>{var p;const l=(jt(a.zIndex)?a.zIndex:0)+(a.selected?s:0),u=t.get(a.id),c={...a,positionAbsolute:{x:a.position.x,y:a.position.y}},f=a.parentNode||a.parentId;f&&(o[f]=!0);const h=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==a.type;Object.defineProperty(c,Te,{enumerable:!1,value:{handleBounds:h||(p=u==null?void 0:u[Te])==null?void 0:p.handleBounds,z:l}}),i.set(a.id,c)}),RE(i,n,o),i}function IE(e,t={}){const{getNodes:n,width:r,height:i,minZoom:o,maxZoom:s,d3Zoom:a,d3Selection:l,fitViewOnInitDone:u,fitViewOnInit:c,nodeOrigin:f}=e(),h=t.initial&&!u&&c;if(a&&l&&(h||!t.initial)){const y=n().filter(_=>{var g;const m=t.includeHiddenNodes?_.width&&_.height:!_.hidden;return(g=t.nodes)!=null&&g.length?m&&t.nodes.some(w=>w.id===_.id):m}),v=y.every(_=>_.width&&_.height);if(y.length>0&&v){const _=rl(y,f),{x:m,y:g,zoom:w}=gE(_,r,i,t.minZoom??o,t.maxZoom??s,t.padding??.1),x=yn.translate(m,g).scale(w);return typeof t.duration=="number"&&t.duration>0?a.transform(hr(l,t.duration),x):a.transform(l,x),!0}}return!1}function sI(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[Te]:r[Te],selected:n.selected})}),new Map(t)}function aI(e,t){return t.map(n=>{const r=e.find(i=>i.id===n.id);return r&&(n.selected=r.selected),n})}function Ns({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:i,edges:o,onNodesChange:s,onEdgesChange:a,hasDefaultNodes:l,hasDefaultEdges:u}=n();e!=null&&e.length&&(l&&r({nodeInternals:sI(e,i)}),s==null||s(e)),t!=null&&t.length&&(u&&r({edges:aI(t,o)}),a==null||a(t))}const Fr=()=>{},lI={zoomIn:Fr,zoomOut:Fr,zoomTo:Fr,getZoom:()=>1,setViewport:Fr,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Fr,fitBounds:Fr,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},uI=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),cI=()=>{const e=Ue(),{d3Zoom:t,d3Selection:n}=we(uI,Je);return k.useMemo(()=>n&&t?{zoomIn:i=>t.scaleBy(hr(n,i==null?void 0:i.duration),1.2),zoomOut:i=>t.scaleBy(hr(n,i==null?void 0:i.duration),1/1.2),zoomTo:(i,o)=>t.scaleTo(hr(n,o==null?void 0:o.duration),i),getZoom:()=>e.getState().transform[2],setViewport:(i,o)=>{const[s,a,l]=e.getState().transform,u=yn.translate(i.x??s,i.y??a).scale(i.zoom??l);t.transform(hr(n,o==null?void 0:o.duration),u)},getViewport:()=>{const[i,o,s]=e.getState().transform;return{x:i,y:o,zoom:s}},fitView:i=>IE(e.getState,i),setCenter:(i,o,s)=>{const{width:a,height:l,maxZoom:u}=e.getState(),c=typeof(s==null?void 0:s.zoom)<"u"?s.zoom:u,f=a/2-i*c,h=l/2-o*c,p=yn.translate(f,h).scale(c);t.transform(hr(n,s==null?void 0:s.duration),p)},fitBounds:(i,o)=>{const{width:s,height:a,minZoom:l,maxZoom:u}=e.getState(),{x:c,y:f,zoom:h}=gE(i,s,a,l,u,(o==null?void 0:o.padding)??.1),p=yn.translate(c,f).scale(h);t.transform(hr(n,o==null?void 0:o.duration),p)},project:i=>{const{transform:o,snapToGrid:s,snapGrid:a}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),um(i,o,s,a)},screenToFlowPosition:i=>{const{transform:o,snapToGrid:s,snapGrid:a,domNode:l}=e.getState();if(!l)return i;const{x:u,y:c}=l.getBoundingClientRect(),f={x:i.x-u,y:i.y-c};return um(f,o,s,a)},flowToScreenPosition:i=>{const{transform:o,domNode:s}=e.getState();if(!s)return i;const{x:a,y:l}=s.getBoundingClientRect(),u=hE(i,o);return{x:u.x+a,y:u.y+l}},viewportInitialized:!0}:lI,[t,n])};function kg(){const e=cI(),t=Ue(),n=k.useCallback(()=>t.getState().getNodes().map(v=>({...v})),[]),r=k.useCallback(v=>t.getState().nodeInternals.get(v),[]),i=k.useCallback(()=>{const{edges:v=[]}=t.getState();return v.map(_=>({..._}))},[]),o=k.useCallback(v=>{const{edges:_=[]}=t.getState();return _.find(m=>m.id===v)},[]),s=k.useCallback(v=>{const{getNodes:_,setNodes:m,hasDefaultNodes:g,onNodesChange:w}=t.getState(),x=_(),S=typeof v=="function"?v(x):v;if(g)m(S);else if(w){const E=S.length===0?x.map(N=>({type:"remove",id:N.id})):S.map(N=>({item:N,type:"reset"}));w(E)}},[]),a=k.useCallback(v=>{const{edges:_=[],setEdges:m,hasDefaultEdges:g,onEdgesChange:w}=t.getState(),x=typeof v=="function"?v(_):v;if(g)m(x);else if(w){const S=x.length===0?_.map(E=>({type:"remove",id:E.id})):x.map(E=>({item:E,type:"reset"}));w(S)}},[]),l=k.useCallback(v=>{const _=Array.isArray(v)?v:[v],{getNodes:m,setNodes:g,hasDefaultNodes:w,onNodesChange:x}=t.getState();if(w){const E=[...m(),..._];g(E)}else if(x){const S=_.map(E=>({item:E,type:"add"}));x(S)}},[]),u=k.useCallback(v=>{const _=Array.isArray(v)?v:[v],{edges:m=[],setEdges:g,hasDefaultEdges:w,onEdgesChange:x}=t.getState();if(w)g([...m,..._]);else if(x){const S=_.map(E=>({item:E,type:"add"}));x(S)}},[]),c=k.useCallback(()=>{const{getNodes:v,edges:_=[],transform:m}=t.getState(),[g,w,x]=m;return{nodes:v().map(S=>({...S})),edges:_.map(S=>({...S})),viewport:{x:g,y:w,zoom:x}}},[]),f=k.useCallback(({nodes:v,edges:_})=>{const{nodeInternals:m,getNodes:g,edges:w,hasDefaultNodes:x,hasDefaultEdges:S,onNodesDelete:E,onEdgesDelete:N,onNodesChange:C,onEdgesChange:R}=t.getState(),O=(v||[]).map(P=>P.id),L=(_||[]).map(P=>P.id),F=g().reduce((P,T)=>{const z=T.parentNode||T.parentId,I=!O.includes(T.id)&&z&&P.find(A=>A.id===z);return(typeof T.deletable=="boolean"?T.deletable:!0)&&(O.includes(T.id)||I)&&P.push(T),P},[]),q=w.filter(P=>typeof P.deletable=="boolean"?P.deletable:!0),b=q.filter(P=>L.includes(P.id));if(F||b){const P=mE(F,q),T=[...b,...P],z=T.reduce((I,j)=>(I.includes(j.id)||I.push(j.id),I),[]);if((S||x)&&(S&&t.setState({edges:w.filter(I=>!z.includes(I.id))}),x&&(F.forEach(I=>{m.delete(I.id)}),t.setState({nodeInternals:new Map(m)}))),z.length>0&&(N==null||N(T),R&&R(z.map(I=>({id:I,type:"remove"})))),F.length>0&&(E==null||E(F),C)){const I=F.map(j=>({id:j.id,type:"remove"}));C(I)}}},[]),h=k.useCallback(v=>{const _=RR(v),m=_?null:t.getState().nodeInternals.get(v.id);return!_&&!m?[null,null,_]:[_?v:Ty(m),m,_]},[]),p=k.useCallback((v,_=!0,m)=>{const[g,w,x]=h(v);return g?(m||t.getState().getNodes()).filter(S=>{if(!x&&(S.id===w.id||!S.positionAbsolute))return!1;const E=Ty(S),N=om(E,g);return _&&N>0||N>=g.width*g.height}):[]},[]),y=k.useCallback((v,_,m=!0)=>{const[g]=h(v);if(!g)return!1;const w=om(g,_);return m&&w>0||w>=g.width*g.height},[]);return k.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:i,getEdge:o,setNodes:s,setEdges:a,addNodes:l,addEdges:u,toObject:c,deleteElements:f,getIntersectingNodes:p,isNodeIntersecting:y}),[e,n,r,i,o,s,a,l,u,c,f,p,y])}const dI={actInsideInputWithModifier:!1};var fI=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=Ue(),{deleteElements:r}=kg(),i=Fo(e,dI),o=Fo(t);k.useEffect(()=>{if(i){const{edges:s,getNodes:a}=n.getState(),l=a().filter(c=>c.selected),u=s.filter(c=>c.selected);r({nodes:l,edges:u}),n.setState({nodesSelectionActive:!1})}},[i]),k.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])};function hI(e){const t=Ue();k.useEffect(()=>{let n;const r=()=>{var o,s;if(!e.current)return;const i=vg(e.current);(i.height===0||i.width===0)&&((s=(o=t.getState()).onError)==null||s.call(o,"004",En.error004())),t.setState({width:i.width||500,height:i.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const Ng={position:"absolute",width:"100%",height:"100%",top:0,left:0},pI=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,js=e=>({x:e.x,y:e.y,zoom:e.k}),$r=(e,t)=>e.target.closest(`.${t}`),Dy=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Fy=e=>{const t=e.ctrlKey&&ja()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},mI=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),gI=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:i=!0,zoomOnPinch:o=!0,panOnScroll:s=!1,panOnScrollSpeed:a=.5,panOnScrollMode:l=yr.Free,zoomOnDoubleClick:u=!0,elementsSelectable:c,panOnDrag:f=!0,defaultViewport:h,translateExtent:p,minZoom:y,maxZoom:v,zoomActivationKeyCode:_,preventScrolling:m=!0,children:g,noWheelClassName:w,noPanClassName:x})=>{const S=k.useRef(),E=Ue(),N=k.useRef(!1),C=k.useRef(!1),R=k.useRef(null),O=k.useRef({x:0,y:0,zoom:0}),{d3Zoom:L,d3Selection:F,d3ZoomHandler:q,userSelectionActive:b}=we(mI,Je),P=Fo(_),T=k.useRef(0),z=k.useRef(!1),I=k.useRef();return hI(R),k.useEffect(()=>{if(R.current){const j=R.current.getBoundingClientRect(),A=tE().scaleExtent([y,v]).translateExtent(p),M=kt(R.current).call(A),D=yn.translate(h.x,h.y).scale(_i(h.zoom,y,v)),B=[[0,0],[j.width,j.height]],U=A.constrain()(D,B,p);A.transform(M,U),A.wheelDelta(Fy),E.setState({d3Zoom:A,d3Selection:M,d3ZoomHandler:M.on("wheel.zoom"),transform:[U.x,U.y,U.k],domNode:R.current.closest(".react-flow")})}},[]),k.useEffect(()=>{F&&L&&(s&&!P&&!b?F.on("wheel.zoom",j=>{if($r(j,w))return!1;j.preventDefault(),j.stopImmediatePropagation();const A=F.property("__zoom").k||1;if(j.ctrlKey&&o){const ae=zt(j),re=Fy(j),ie=A*Math.pow(2,re);L.scaleTo(F,ie,ae,j);return}const M=j.deltaMode===1?20:1;let D=l===yr.Vertical?0:j.deltaX*M,B=l===yr.Horizontal?0:j.deltaY*M;!ja()&&j.shiftKey&&l!==yr.Vertical&&(D=j.deltaY*M,B=0),L.translateBy(F,-(D/A)*a,-(B/A)*a,{internal:!0});const U=js(F.property("__zoom")),{onViewportChangeStart:K,onViewportChange:Q,onViewportChangeEnd:Z}=E.getState();clearTimeout(I.current),z.current||(z.current=!0,t==null||t(j,U),K==null||K(U)),z.current&&(e==null||e(j,U),Q==null||Q(U),I.current=setTimeout(()=>{n==null||n(j,U),Z==null||Z(U),z.current=!1},150))},{passive:!1}):typeof q<"u"&&F.on("wheel.zoom",function(j,A){if(!m&&j.type==="wheel"&&!j.ctrlKey||$r(j,w))return null;j.preventDefault(),q.call(this,j,A)},{passive:!1}))},[b,s,l,F,L,q,P,o,m,w,t,e,n]),k.useEffect(()=>{L&&L.on("start",j=>{var D,B;if(!j.sourceEvent||j.sourceEvent.internal)return null;T.current=(D=j.sourceEvent)==null?void 0:D.button;const{onViewportChangeStart:A}=E.getState(),M=js(j.transform);N.current=!0,O.current=M,((B=j.sourceEvent)==null?void 0:B.type)==="mousedown"&&E.setState({paneDragging:!0}),A==null||A(M),t==null||t(j.sourceEvent,M)})},[L,t]),k.useEffect(()=>{L&&(b&&!N.current?L.on("zoom",null):b||L.on("zoom",j=>{var M;const{onViewportChange:A}=E.getState();if(E.setState({transform:[j.transform.x,j.transform.y,j.transform.k]}),C.current=!!(r&&Dy(f,T.current??0)),(e||A)&&!((M=j.sourceEvent)!=null&&M.internal)){const D=js(j.transform);A==null||A(D),e==null||e(j.sourceEvent,D)}}))},[b,L,e,f,r]),k.useEffect(()=>{L&&L.on("end",j=>{if(!j.sourceEvent||j.sourceEvent.internal)return null;const{onViewportChangeEnd:A}=E.getState();if(N.current=!1,E.setState({paneDragging:!1}),r&&Dy(f,T.current??0)&&!C.current&&r(j.sourceEvent),C.current=!1,(n||A)&&pI(O.current,j.transform)){const M=js(j.transform);O.current=M,clearTimeout(S.current),S.current=setTimeout(()=>{A==null||A(M),n==null||n(j.sourceEvent,M)},s?150:0)}})},[L,s,f,n,r]),k.useEffect(()=>{L&&L.filter(j=>{const A=P||i,M=o&&j.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&j.button===1&&j.type==="mousedown"&&($r(j,"react-flow__node")||$r(j,"react-flow__edge")))return!0;if(!f&&!A&&!s&&!u&&!o||b||!u&&j.type==="dblclick"||$r(j,w)&&j.type==="wheel"||$r(j,x)&&(j.type!=="wheel"||s&&j.type==="wheel"&&!P)||!o&&j.ctrlKey&&j.type==="wheel"||!A&&!s&&!M&&j.type==="wheel"||!f&&(j.type==="mousedown"||j.type==="touchstart")||Array.isArray(f)&&!f.includes(j.button)&&j.type==="mousedown")return!1;const D=Array.isArray(f)&&f.includes(j.button)||!j.button||j.button<=1;return(!j.ctrlKey||j.type==="wheel")&&D})},[b,L,i,o,s,u,f,c,P]),$.createElement("div",{className:"react-flow__renderer",ref:R,style:Ng},g)},vI=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function yI(){const{userSelectionActive:e,userSelectionRect:t}=we(vI,Je);return e&&t?$.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function $y(e,t){const n=t.parentNode||t.parentId,r=e.find(i=>i.id===n);if(r){const i=t.position.x+t.width-r.width,o=t.position.y+t.height-r.height;if(i>0||o>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,i>0&&(r.style.width+=i),o>0&&(r.style.height+=o),t.position.x<0){const s=Math.abs(t.position.x);r.position.x=r.position.x-s,r.style.width+=s,t.position.x=0}if(t.position.y<0){const s=Math.abs(t.position.y);r.position.y=r.position.y-s,r.style.height+=s,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function PE(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,i)=>{const o=e.filter(a=>a.id===i.id);if(o.length===0)return r.push(i),r;const s={...i};for(const a of o)if(a)switch(a.type){case"select":{s.selected=a.selected;break}case"position":{typeof a.position<"u"&&(s.position=a.position),typeof a.positionAbsolute<"u"&&(s.positionAbsolute=a.positionAbsolute),typeof a.dragging<"u"&&(s.dragging=a.dragging),s.expandParent&&$y(r,s);break}case"dimensions":{typeof a.dimensions<"u"&&(s.width=a.dimensions.width,s.height=a.dimensions.height),typeof a.updateStyle<"u"&&(s.style={...s.style||{},...a.dimensions}),typeof a.resizing=="boolean"&&(s.resizing=a.resizing),s.expandParent&&$y(r,s);break}case"remove":return r}return r.push(s),r},n)}function ME(e,t){return PE(e,t)}function xI(e,t){return PE(e,t)}const Ln=(e,t)=>({id:e,type:"select",selected:t});function ti(e,t){return e.reduce((n,r)=>{const i=t.includes(r.id);return!r.selected&&i?(r.selected=!0,n.push(Ln(r.id,!0))):r.selected&&!i&&(r.selected=!1,n.push(Ln(r.id,!1))),n},[])}const ou=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},wI=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),AE=k.memo(({isSelecting:e,selectionMode:t=Do.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:i,onPaneClick:o,onPaneContextMenu:s,onPaneScroll:a,onPaneMouseEnter:l,onPaneMouseMove:u,onPaneMouseLeave:c,children:f})=>{const h=k.useRef(null),p=Ue(),y=k.useRef(0),v=k.useRef(0),_=k.useRef(),{userSelectionActive:m,elementsSelectable:g,dragging:w}=we(wI,Je),x=()=>{p.setState({userSelectionActive:!1,userSelectionRect:null}),y.current=0,v.current=0},S=q=>{o==null||o(q),p.getState().resetSelectedElements(),p.setState({nodesSelectionActive:!1})},E=q=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){q.preventDefault();return}s==null||s(q)},N=a?q=>a(q):void 0,C=q=>{const{resetSelectedElements:b,domNode:P}=p.getState();if(_.current=P==null?void 0:P.getBoundingClientRect(),!g||!e||q.button!==0||q.target!==h.current||!_.current)return;const{x:T,y:z}=Zn(q,_.current);b(),p.setState({userSelectionRect:{width:0,height:0,startX:T,startY:z,x:T,y:z}}),r==null||r(q)},R=q=>{const{userSelectionRect:b,nodeInternals:P,edges:T,transform:z,onNodesChange:I,onEdgesChange:j,nodeOrigin:A,getNodes:M}=p.getState();if(!e||!_.current||!b)return;p.setState({userSelectionActive:!0,nodesSelectionActive:!1});const D=Zn(q,_.current),B=b.startX??0,U=b.startY??0,K={...b,x:D.x<B?D.x:B,y:D.y<U?D.y:U,width:Math.abs(D.x-B),height:Math.abs(D.y-U)},Q=M(),Z=pE(P,K,z,t===Do.Partial,!0,A),ae=mE(Z,T).map(ie=>ie.id),re=Z.map(ie=>ie.id);if(y.current!==re.length){y.current=re.length;const ie=ti(Q,re);ie.length&&(I==null||I(ie))}if(v.current!==ae.length){v.current=ae.length;const ie=ti(T,ae);ie.length&&(j==null||j(ie))}p.setState({userSelectionRect:K})},O=q=>{if(q.button!==0)return;const{userSelectionRect:b}=p.getState();!m&&b&&q.target===h.current&&(S==null||S(q)),p.setState({nodesSelectionActive:y.current>0}),x(),i==null||i(q)},L=q=>{m&&(p.setState({nodesSelectionActive:y.current>0}),i==null||i(q)),x()},F=g&&(e||m);return $.createElement("div",{className:ht(["react-flow__pane",{dragging:w,selection:e}]),onClick:F?void 0:ou(S,h),onContextMenu:ou(E,h),onWheel:ou(N,h),onMouseEnter:F?void 0:l,onMouseDown:F?C:void 0,onMouseMove:F?R:u,onMouseUp:F?O:void 0,onMouseLeave:F?L:c,ref:h,style:Ng},f,$.createElement(yI,null))});AE.displayName="Pane";function OE(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:OE(r,t):!1}function By(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function _I(e,t,n,r){return Array.from(e.values()).filter(i=>(i.selected||i.id===r)&&(!i.parentNode||i.parentId||!OE(i,e))&&(i.draggable||t&&typeof i.draggable>"u")).map(i=>{var o,s;return{id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((o=i.positionAbsolute)==null?void 0:o.x)??0),y:n.y-(((s=i.positionAbsolute)==null?void 0:s.y)??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode||i.parentId,parentId:i.parentNode||i.parentId,width:i.width,height:i.height,expandParent:i.expandParent}})}function bI(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function LE(e,t,n,r,i=[0,0],o){const s=bI(e,e.extent||r);let a=s;const l=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(l&&e.width&&e.height){const f=n.get(l),{x:h,y:p}=Sr(f,i).positionAbsolute;a=f&&jt(h)&&jt(p)&&jt(f.width)&&jt(f.height)?[[h+e.width*i[0],p+e.height*i[1]],[h+f.width-e.width+e.width*i[0],p+f.height-e.height+e.height*i[1]]]:a}else o==null||o("005",En.error005()),a=s;else if(e.extent&&l&&e.extent!=="parent"){const f=n.get(l),{x:h,y:p}=Sr(f,i).positionAbsolute;a=[[e.extent[0][0]+h,e.extent[0][1]+p],[e.extent[1][0]+h,e.extent[1][1]+p]]}let u={x:0,y:0};if(l){const f=n.get(l);u=Sr(f,i).positionAbsolute}const c=a&&a!=="parent"?yg(t,a):t;return{position:{x:c.x-u.x,y:c.y-u.y},positionAbsolute:c}}function su({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(i=>({...n.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[e?r.find(i=>i.id===e):r[0],r]}const Hy=(e,t,n,r)=>{const i=t.querySelectorAll(e);if(!i||!i.length)return null;const o=Array.from(i),s=t.getBoundingClientRect(),a={x:s.width*r[0],y:s.height*r[1]};return o.map(l=>{const u=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(u.left-s.left-a.x)/n,y:(u.top-s.top-a.y)/n,...vg(l)}})};function Hi(e,t,n){return n===void 0?n:r=>{const i=t().nodeInternals.get(e);i&&n(r,{...i})}}function dm({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:s,nodeInternals:a,onError:l}=t.getState(),u=a.get(e);if(!u){l==null||l("012",En.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&s)&&(o({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):i([e])}function SI(){const e=Ue();return k.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:i,snapToGrid:o}=e.getState(),s=n.touches?n.touches[0].clientX:n.clientX,a=n.touches?n.touches[0].clientY:n.clientY,l={x:(s-r[0])/r[2],y:(a-r[1])/r[2]};return{xSnapped:o?i[0]*Math.round(l.x/i[0]):l.x,ySnapped:o?i[1]*Math.round(l.y/i[1]):l.y,...l}},[])}function au(e){return(t,n,r)=>e==null?void 0:e(t,r)}function qE({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,selectNodesOnDrag:s}){const a=Ue(),[l,u]=k.useState(!1),c=k.useRef([]),f=k.useRef({x:null,y:null}),h=k.useRef(0),p=k.useRef(null),y=k.useRef({x:0,y:0}),v=k.useRef(null),_=k.useRef(!1),m=k.useRef(!1),g=k.useRef(!1),w=SI();return k.useEffect(()=>{if(e!=null&&e.current){const x=kt(e.current),S=({x:C,y:R})=>{const{nodeInternals:O,onNodeDrag:L,onSelectionDrag:F,updateNodePositions:q,nodeExtent:b,snapGrid:P,snapToGrid:T,nodeOrigin:z,onError:I}=a.getState();f.current={x:C,y:R};let j=!1,A={x:0,y:0,x2:0,y2:0};if(c.current.length>1&&b){const D=rl(c.current,z);A=zo(D)}if(c.current=c.current.map(D=>{const B={x:C-D.distance.x,y:R-D.distance.y};T&&(B.x=P[0]*Math.round(B.x/P[0]),B.y=P[1]*Math.round(B.y/P[1]));const U=[[b[0][0],b[0][1]],[b[1][0],b[1][1]]];c.current.length>1&&b&&!D.extent&&(U[0][0]=D.positionAbsolute.x-A.x+b[0][0],U[1][0]=D.positionAbsolute.x+(D.width??0)-A.x2+b[1][0],U[0][1]=D.positionAbsolute.y-A.y+b[0][1],U[1][1]=D.positionAbsolute.y+(D.height??0)-A.y2+b[1][1]);const K=LE(D,B,O,U,z,I);return j=j||D.position.x!==K.position.x||D.position.y!==K.position.y,D.position=K.position,D.positionAbsolute=K.positionAbsolute,D}),!j)return;q(c.current,!0,!0),u(!0);const M=i?L:au(F);if(M&&v.current){const[D,B]=su({nodeId:i,dragItems:c.current,nodeInternals:O});M(v.current,D,B)}},E=()=>{if(!p.current)return;const[C,R]=rE(y.current,p.current);if(C!==0||R!==0){const{transform:O,panBy:L}=a.getState();f.current.x=(f.current.x??0)-C/O[2],f.current.y=(f.current.y??0)-R/O[2],L({x:C,y:R})&&S(f.current)}h.current=requestAnimationFrame(E)},N=C=>{var z;const{nodeInternals:R,multiSelectionActive:O,nodesDraggable:L,unselectNodesAndEdges:F,onNodeDragStart:q,onSelectionDragStart:b}=a.getState();m.current=!0;const P=i?q:au(b);(!s||!o)&&!O&&i&&((z=R.get(i))!=null&&z.selected||F()),i&&o&&s&&dm({id:i,store:a,nodeRef:e});const T=w(C);if(f.current=T,c.current=_I(R,L,T,i),P&&c.current){const[I,j]=su({nodeId:i,dragItems:c.current,nodeInternals:R});P(C.sourceEvent,I,j)}};if(t)x.on(".drag",null);else{const C=A3().on("start",R=>{const{domNode:O,nodeDragThreshold:L}=a.getState();L===0&&N(R),g.current=!1;const F=w(R);f.current=F,p.current=(O==null?void 0:O.getBoundingClientRect())||null,y.current=Zn(R.sourceEvent,p.current)}).on("drag",R=>{var q,b;const O=w(R),{autoPanOnNodeDrag:L,nodeDragThreshold:F}=a.getState();if(R.sourceEvent.type==="touchmove"&&R.sourceEvent.touches.length>1&&(g.current=!0),!g.current){if(!_.current&&m.current&&L&&(_.current=!0,E()),!m.current){const P=O.xSnapped-(((q=f==null?void 0:f.current)==null?void 0:q.x)??0),T=O.ySnapped-(((b=f==null?void 0:f.current)==null?void 0:b.y)??0);Math.sqrt(P*P+T*T)>F&&N(R)}(f.current.x!==O.xSnapped||f.current.y!==O.ySnapped)&&c.current&&m.current&&(v.current=R.sourceEvent,y.current=Zn(R.sourceEvent,p.current),S(O))}}).on("end",R=>{if(!(!m.current||g.current)&&(u(!1),_.current=!1,m.current=!1,cancelAnimationFrame(h.current),c.current)){const{updateNodePositions:O,nodeInternals:L,onNodeDragStop:F,onSelectionDragStop:q}=a.getState(),b=i?F:au(q);if(O(c.current,!1,!1),b){const[P,T]=su({nodeId:i,dragItems:c.current,nodeInternals:L});b(R.sourceEvent,P,T)}}}).filter(R=>{const O=R.target;return!R.button&&(!n||!By(O,`.${n}`,e))&&(!r||By(O,r,e))});return x.call(C),()=>{x.on(".drag",null)}}}},[e,t,n,r,o,a,i,s,w]),l}function zE(){const e=Ue();return k.useCallback(n=>{const{nodeInternals:r,nodeExtent:i,updateNodePositions:o,getNodes:s,snapToGrid:a,snapGrid:l,onError:u,nodesDraggable:c}=e.getState(),f=s().filter(g=>g.selected&&(g.draggable||c&&typeof g.draggable>"u")),h=a?l[0]:5,p=a?l[1]:5,y=n.isShiftPressed?4:1,v=n.x*h*y,_=n.y*p*y,m=f.map(g=>{if(g.positionAbsolute){const w={x:g.positionAbsolute.x+v,y:g.positionAbsolute.y+_};a&&(w.x=l[0]*Math.round(w.x/l[0]),w.y=l[1]*Math.round(w.y/l[1]));const{positionAbsolute:x,position:S}=LE(g,w,r,i,void 0,u);g.position=S,g.positionAbsolute=x}return g});o(m,!0,!1)},[])}const ci={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Ui=e=>{const t=({id:n,type:r,data:i,xPos:o,yPos:s,xPosOrigin:a,yPosOrigin:l,selected:u,onClick:c,onMouseEnter:f,onMouseMove:h,onMouseLeave:p,onContextMenu:y,onDoubleClick:v,style:_,className:m,isDraggable:g,isSelectable:w,isConnectable:x,isFocusable:S,selectNodesOnDrag:E,sourcePosition:N,targetPosition:C,hidden:R,resizeObserver:O,dragHandle:L,zIndex:F,isParent:q,noDragClassName:b,noPanClassName:P,initialized:T,disableKeyboardA11y:z,ariaLabel:I,rfId:j,hasHandleBounds:A})=>{const M=Ue(),D=k.useRef(null),B=k.useRef(null),U=k.useRef(N),K=k.useRef(C),Q=k.useRef(r),Z=w||g||c||f||h||p,ae=zE(),re=Hi(n,M.getState,f),ie=Hi(n,M.getState,h),Re=Hi(n,M.getState,p),ve=Hi(n,M.getState,y),Le=Hi(n,M.getState,v),Me=G=>{const{nodeDragThreshold:W}=M.getState();if(w&&(!E||!g||W>0)&&dm({id:n,store:M,nodeRef:D}),c){const ce=M.getState().nodeInternals.get(n);ce&&c(G,{...ce})}},V=G=>{if(!sm(G)&&!z)if(aE.includes(G.key)&&w){const W=G.key==="Escape";dm({id:n,store:M,unselect:W,nodeRef:D})}else g&&u&&Object.prototype.hasOwnProperty.call(ci,G.key)&&(M.setState({ariaLiveMessage:`Moved selected node ${G.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~o}, y: ${~~s}`}),ae({x:ci[G.key].x,y:ci[G.key].y,isShiftPressed:G.shiftKey}))};k.useEffect(()=>()=>{B.current&&(O==null||O.unobserve(B.current),B.current=null)},[]),k.useEffect(()=>{if(D.current&&!R){const G=D.current;(!T||!A||B.current!==G)&&(B.current&&(O==null||O.unobserve(B.current)),O==null||O.observe(G),B.current=G)}},[R,T,A]),k.useEffect(()=>{const G=Q.current!==r,W=U.current!==N,ce=K.current!==C;D.current&&(G||W||ce)&&(G&&(Q.current=r),W&&(U.current=N),ce&&(K.current=C),M.getState().updateNodeDimensions([{id:n,nodeElement:D.current,forceUpdate:!0}]))},[n,r,N,C]);const oe=qE({nodeRef:D,disabled:R||!g,noDragClassName:b,handleSelector:L,nodeId:n,isSelectable:w,selectNodesOnDrag:E});return R?null:$.createElement("div",{className:ht(["react-flow__node",`react-flow__node-${r}`,{[P]:g},m,{selected:u,selectable:w,parent:q,dragging:oe}]),ref:D,style:{zIndex:F,transform:`translate(${a}px,${l}px)`,pointerEvents:Z?"all":"none",visibility:T?"visible":"hidden",..._},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:re,onMouseMove:ie,onMouseLeave:Re,onContextMenu:ve,onClick:Me,onDoubleClick:Le,onKeyDown:S?V:void 0,tabIndex:S?0:void 0,role:S?"button":void 0,"aria-describedby":z?void 0:`${jE}-${j}`,"aria-label":I},$.createElement(qR,{value:n},$.createElement(e,{id:n,data:i,type:r,xPos:o,yPos:s,selected:u,isConnectable:x,sourcePosition:N,targetPosition:C,dragging:oe,dragHandle:L,zIndex:F})))};return t.displayName="NodeWrapper",k.memo(t)};const EI=e=>{const t=e.getNodes().filter(n=>n.selected);return{...rl(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function kI({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Ue(),{width:i,height:o,x:s,y:a,transformString:l,userSelectionActive:u}=we(EI,Je),c=zE(),f=k.useRef(null);if(k.useEffect(()=>{var y;n||(y=f.current)==null||y.focus({preventScroll:!0})},[n]),qE({nodeRef:f}),u||!i||!o)return null;const h=e?y=>{const v=r.getState().getNodes().filter(_=>_.selected);e(y,v)}:void 0,p=y=>{Object.prototype.hasOwnProperty.call(ci,y.key)&&c({x:ci[y.key].x,y:ci[y.key].y,isShiftPressed:y.shiftKey})};return $.createElement("div",{className:ht(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l}},$.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:n?void 0:-1,onKeyDown:n?void 0:p,style:{width:i,height:o,top:a,left:s}}))}var NI=k.memo(kI);const jI=e=>e.nodesSelectionActive,DE=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,deleteKeyCode:a,onMove:l,onMoveStart:u,onMoveEnd:c,selectionKeyCode:f,selectionOnDrag:h,selectionMode:p,onSelectionStart:y,onSelectionEnd:v,multiSelectionKeyCode:_,panActivationKeyCode:m,zoomActivationKeyCode:g,elementsSelectable:w,zoomOnScroll:x,zoomOnPinch:S,panOnScroll:E,panOnScrollSpeed:N,panOnScrollMode:C,zoomOnDoubleClick:R,panOnDrag:O,defaultViewport:L,translateExtent:F,minZoom:q,maxZoom:b,preventScrolling:P,onSelectionContextMenu:T,noWheelClassName:z,noPanClassName:I,disableKeyboardA11y:j})=>{const A=we(jI),M=Fo(f),D=Fo(m),B=D||O,U=D||E,K=M||h&&B!==!0;return fI({deleteKeyCode:a,multiSelectionKeyCode:_}),$.createElement(gI,{onMove:l,onMoveStart:u,onMoveEnd:c,onPaneContextMenu:o,elementsSelectable:w,zoomOnScroll:x,zoomOnPinch:S,panOnScroll:U,panOnScrollSpeed:N,panOnScrollMode:C,zoomOnDoubleClick:R,panOnDrag:!M&&B,defaultViewport:L,translateExtent:F,minZoom:q,maxZoom:b,zoomActivationKeyCode:g,preventScrolling:P,noWheelClassName:z,noPanClassName:I},$.createElement(AE,{onSelectionStart:y,onSelectionEnd:v,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,panOnDrag:B,isSelecting:!!K,selectionMode:p},e,A&&$.createElement(NI,{onSelectionContextMenu:T,noPanClassName:I,disableKeyboardA11y:j})))};DE.displayName="FlowRenderer";var CI=k.memo(DE);function TI(e){return we(k.useCallback(n=>e?pE(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function RI(e){const t={input:Ui(e.input||SE),default:Ui(e.default||cm),output:Ui(e.output||kE),group:Ui(e.group||Eg)},n={},r=Object.keys(e).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,o)=>(i[o]=Ui(e[o]||cm),i),n);return{...t,...r}}const II=({x:e,y:t,width:n,height:r,origin:i})=>!n||!r?{x:e,y:t}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:e,y:t}:{x:e-n*i[0],y:t-r*i[1]},PI=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),FE=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,updateNodeDimensions:o,onError:s}=we(PI,Je),a=TI(e.onlyRenderVisibleElements),l=k.useRef(),u=k.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const c=new ResizeObserver(f=>{const h=f.map(p=>({id:p.target.getAttribute("data-id"),nodeElement:p.target,forceUpdate:!0}));o(h)});return l.current=c,c},[]);return k.useEffect(()=>()=>{var c;(c=l==null?void 0:l.current)==null||c.disconnect()},[]),$.createElement("div",{className:"react-flow__nodes",style:Ng},a.map(c=>{var S,E,N;let f=c.type||"default";e.nodeTypes[f]||(s==null||s("003",En.error003(f)),f="default");const h=e.nodeTypes[f]||e.nodeTypes.default,p=!!(c.draggable||t&&typeof c.draggable>"u"),y=!!(c.selectable||i&&typeof c.selectable>"u"),v=!!(c.connectable||n&&typeof c.connectable>"u"),_=!!(c.focusable||r&&typeof c.focusable>"u"),m=e.nodeExtent?yg(c.positionAbsolute,e.nodeExtent):c.positionAbsolute,g=(m==null?void 0:m.x)??0,w=(m==null?void 0:m.y)??0,x=II({x:g,y:w,width:c.width??0,height:c.height??0,origin:e.nodeOrigin});return $.createElement(h,{key:c.id,id:c.id,className:c.className,style:c.style,type:f,data:c.data,sourcePosition:c.sourcePosition||X.Bottom,targetPosition:c.targetPosition||X.Top,hidden:c.hidden,xPos:g,yPos:w,xPosOrigin:x.x,yPosOrigin:x.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!c.selected,isDraggable:p,isSelectable:y,isConnectable:v,isFocusable:_,resizeObserver:u,dragHandle:c.dragHandle,zIndex:((S=c[Te])==null?void 0:S.z)??0,isParent:!!((E=c[Te])!=null&&E.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!c.width&&!!c.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:c.ariaLabel,hasHandleBounds:!!((N=c[Te])!=null&&N.handleBounds)})}))};FE.displayName="NodeRenderer";var MI=k.memo(FE);const AI=(e,t,n)=>n===X.Left?e-t:n===X.Right?e+t:e,OI=(e,t,n)=>n===X.Top?e-t:n===X.Bottom?e+t:e,Uy="react-flow__edgeupdater",Vy=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:s,type:a})=>$.createElement("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:s,className:ht([Uy,`${Uy}-${a}`]),cx:AI(t,r,e),cy:OI(n,r,e),r,stroke:"transparent",fill:"transparent"}),LI=()=>!0;var Br=e=>{const t=({id:n,className:r,type:i,data:o,onClick:s,onEdgeDoubleClick:a,selected:l,animated:u,label:c,labelStyle:f,labelShowBg:h,labelBgStyle:p,labelBgPadding:y,labelBgBorderRadius:v,style:_,source:m,target:g,sourceX:w,sourceY:x,targetX:S,targetY:E,sourcePosition:N,targetPosition:C,elementsSelectable:R,hidden:O,sourceHandleId:L,targetHandleId:F,onContextMenu:q,onMouseEnter:b,onMouseMove:P,onMouseLeave:T,reconnectRadius:z,onReconnect:I,onReconnectStart:j,onReconnectEnd:A,markerEnd:M,markerStart:D,rfId:B,ariaLabel:U,isFocusable:K,isReconnectable:Q,pathOptions:Z,interactionWidth:ae,disableKeyboardA11y:re})=>{const ie=k.useRef(null),[Re,ve]=k.useState(!1),[Le,Me]=k.useState(!1),V=Ue(),oe=k.useMemo(()=>`url('#${lm(D,B)}')`,[D,B]),G=k.useMemo(()=>`url('#${lm(M,B)}')`,[M,B]);if(O)return null;const W=Fe=>{var Kt;const{edges:ot,addSelectedEdges:Ke,unselectNodesAndEdges:et,multiSelectionActive:lr}=V.getState(),an=ot.find(Ri=>Ri.id===n);an&&(R&&(V.setState({nodesSelectionActive:!1}),an.selected&&lr?(et({nodes:[],edges:[an]}),(Kt=ie.current)==null||Kt.blur()):Ke([n])),s&&s(Fe,an))},ce=Bi(n,V.getState,a),qe=Bi(n,V.getState,q),be=Bi(n,V.getState,b),pe=Bi(n,V.getState,P),ye=Bi(n,V.getState,T),je=(Fe,ot)=>{if(Fe.button!==0)return;const{edges:Ke,isValidConnection:et}=V.getState(),lr=ot?g:m,an=(ot?F:L)||null,Kt=ot?"target":"source",Ri=et||LI,Sl=ot,Ii=Ke.find(ur=>ur.id===n);Me(!0),j==null||j(Fe,Ii,Kt);const El=ur=>{Me(!1),A==null||A(ur,Ii,Kt)};xE({event:Fe,handleId:an,nodeId:lr,onConnect:ur=>I==null?void 0:I(Ii,ur),isTarget:Sl,getState:V.getState,setState:V.setState,isValidConnection:Ri,edgeUpdaterType:Kt,onReconnectEnd:El})},Mt=Fe=>je(Fe,!0),on=Fe=>je(Fe,!1),Gt=()=>ve(!0),pt=()=>ve(!1),sn=!R&&!s,Tn=Fe=>{var ot;if(!re&&aE.includes(Fe.key)&&R){const{unselectNodesAndEdges:Ke,addSelectedEdges:et,edges:lr}=V.getState();Fe.key==="Escape"?((ot=ie.current)==null||ot.blur(),Ke({edges:[lr.find(Kt=>Kt.id===n)]})):et([n])}};return $.createElement("g",{className:ht(["react-flow__edge",`react-flow__edge-${i}`,r,{selected:l,animated:u,inactive:sn,updating:Re}]),onClick:W,onDoubleClick:ce,onContextMenu:qe,onMouseEnter:be,onMouseMove:pe,onMouseLeave:ye,onKeyDown:K?Tn:void 0,tabIndex:K?0:void 0,role:K?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":U===null?void 0:U||`Edge from ${m} to ${g}`,"aria-describedby":K?`${CE}-${B}`:void 0,ref:ie},!Le&&$.createElement(e,{id:n,source:m,target:g,selected:l,animated:u,label:c,labelStyle:f,labelShowBg:h,labelBgStyle:p,labelBgPadding:y,labelBgBorderRadius:v,data:o,style:_,sourceX:w,sourceY:x,targetX:S,targetY:E,sourcePosition:N,targetPosition:C,sourceHandleId:L,targetHandleId:F,markerStart:oe,markerEnd:G,pathOptions:Z,interactionWidth:ae}),Q&&$.createElement($.Fragment,null,(Q==="source"||Q===!0)&&$.createElement(Vy,{position:N,centerX:w,centerY:x,radius:z,onMouseDown:Mt,onMouseEnter:Gt,onMouseOut:pt,type:"source"}),(Q==="target"||Q===!0)&&$.createElement(Vy,{position:C,centerX:S,centerY:E,radius:z,onMouseDown:on,onMouseEnter:Gt,onMouseOut:pt,type:"target"})))};return t.displayName="EdgeWrapper",k.memo(t)};function qI(e){const t={default:Br(e.default||Ta),straight:Br(e.bezier||_g),step:Br(e.step||wg),smoothstep:Br(e.step||nl),simplebezier:Br(e.simplebezier||xg)},n={},r=Object.keys(e).filter(i=>!["default","bezier"].includes(i)).reduce((i,o)=>(i[o]=Br(e[o]||Ta),i),n);return{...t,...r}}function Wy(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,i=((n==null?void 0:n.y)||0)+t.y,o=(n==null?void 0:n.width)||t.width,s=(n==null?void 0:n.height)||t.height;switch(e){case X.Top:return{x:r+o/2,y:i};case X.Right:return{x:r+o,y:i+s/2};case X.Bottom:return{x:r+o/2,y:i+s};case X.Left:return{x:r,y:i+s/2}}}function Gy(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const zI=(e,t,n,r,i,o)=>{const s=Wy(n,e,t),a=Wy(o,r,i);return{sourceX:s.x,sourceY:s.y,targetX:a.x,targetY:a.y}};function DI({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:o,width:s,height:a,transform:l}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+r,t.y+o)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=zo({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:s/l[2],height:a/l[2]}),f=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),h=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(f*h)>0}function Ky(e){var r,i,o,s,a;const t=((r=e==null?void 0:e[Te])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)<"u"&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.y)<"u";return[{x:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)||0,y:((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const FI=[{level:0,isMaxLevel:!0,edges:[]}];function $I(e,t,n=!1){let r=-1;const i=e.reduce((s,a)=>{var c,f;const l=jt(a.zIndex);let u=l?a.zIndex:0;if(n){const h=t.get(a.target),p=t.get(a.source),y=a.selected||(h==null?void 0:h.selected)||(p==null?void 0:p.selected),v=Math.max(((c=p==null?void 0:p[Te])==null?void 0:c.z)||0,((f=h==null?void 0:h[Te])==null?void 0:f.z)||0,1e3);u=(l?a.zIndex:0)+(y?v:0)}return s[u]?s[u].push(a):s[u]=[a],r=u>r?u:r,s},{}),o=Object.entries(i).map(([s,a])=>{const l=+s;return{edges:a,level:l,isMaxLevel:l===r}});return o.length===0?FI:o}function BI(e,t,n){const r=we(k.useCallback(i=>e?i.edges.filter(o=>{const s=t.get(o.source),a=t.get(o.target);return(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&DI({sourcePos:s.positionAbsolute||{x:0,y:0},targetPos:a.positionAbsolute||{x:0,y:0},sourceWidth:s.width,sourceHeight:s.height,targetWidth:a.width,targetHeight:a.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[e,t]));return $I(r,t,n)}const HI=({color:e="none",strokeWidth:t=1})=>$.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),UI=({color:e="none",strokeWidth:t=1})=>$.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Yy={[Ca.Arrow]:HI,[Ca.ArrowClosed]:UI};function VI(e){const t=Ue();return k.useMemo(()=>{var i,o;return Object.prototype.hasOwnProperty.call(Yy,e)?Yy[e]:((o=(i=t.getState()).onError)==null||o.call(i,"009",En.error009(e)),null)},[e])}const WI=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:s,orient:a="auto-start-reverse"})=>{const l=VI(t);return l?$.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:a,refX:"0",refY:"0"},$.createElement(l,{color:n,strokeWidth:s})):null},GI=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((i,o)=>([o.markerStart,o.markerEnd].forEach(s=>{if(s&&typeof s=="object"){const a=lm(s,t);r.includes(a)||(i.push({id:a,color:s.color||e,...s}),r.push(a))}}),i),[]).sort((i,o)=>i.id.localeCompare(o.id))},$E=({defaultColor:e,rfId:t})=>{const n=we(k.useCallback(GI({defaultColor:e,rfId:t}),[e,t]),(r,i)=>!(r.length!==i.length||r.some((o,s)=>o.id!==i[s].id)));return $.createElement("defs",null,n.map(r=>$.createElement(WI,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};$E.displayName="MarkerDefinitions";var KI=k.memo($E);const YI=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),BE=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:i,noPanClassName:o,onEdgeContextMenu:s,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:c,onEdgeDoubleClick:f,onReconnect:h,onReconnectStart:p,onReconnectEnd:y,reconnectRadius:v,children:_,disableKeyboardA11y:m})=>{const{edgesFocusable:g,edgesUpdatable:w,elementsSelectable:x,width:S,height:E,connectionMode:N,nodeInternals:C,onError:R}=we(YI,Je),O=BI(t,C,n);return S?$.createElement($.Fragment,null,O.map(({level:L,edges:F,isMaxLevel:q})=>$.createElement("svg",{key:L,style:{zIndex:L},width:S,height:E,className:"react-flow__edges react-flow__container"},q&&$.createElement(KI,{defaultColor:e,rfId:r}),$.createElement("g",null,F.map(b=>{const[P,T,z]=Ky(C.get(b.source)),[I,j,A]=Ky(C.get(b.target));if(!z||!A)return null;let M=b.type||"default";i[M]||(R==null||R("011",En.error011(M)),M="default");const D=i[M]||i.default,B=N===Rr.Strict?j.target:(j.target??[]).concat(j.source??[]),U=Gy(T.source,b.sourceHandle),K=Gy(B,b.targetHandle),Q=(U==null?void 0:U.position)||X.Bottom,Z=(K==null?void 0:K.position)||X.Top,ae=!!(b.focusable||g&&typeof b.focusable>"u"),re=b.reconnectable||b.updatable,ie=typeof h<"u"&&(re||w&&typeof re>"u");if(!U||!K)return R==null||R("008",En.error008(U,b)),null;const{sourceX:Re,sourceY:ve,targetX:Le,targetY:Me}=zI(P,U,Q,I,K,Z);return $.createElement(D,{key:b.id,id:b.id,className:ht([b.className,o]),type:M,data:b.data,selected:!!b.selected,animated:!!b.animated,hidden:!!b.hidden,label:b.label,labelStyle:b.labelStyle,labelShowBg:b.labelShowBg,labelBgStyle:b.labelBgStyle,labelBgPadding:b.labelBgPadding,labelBgBorderRadius:b.labelBgBorderRadius,style:b.style,source:b.source,target:b.target,sourceHandleId:b.sourceHandle,targetHandleId:b.targetHandle,markerEnd:b.markerEnd,markerStart:b.markerStart,sourceX:Re,sourceY:ve,targetX:Le,targetY:Me,sourcePosition:Q,targetPosition:Z,elementsSelectable:x,onContextMenu:s,onMouseEnter:a,onMouseMove:l,onMouseLeave:u,onClick:c,onEdgeDoubleClick:f,onReconnect:h,onReconnectStart:p,onReconnectEnd:y,reconnectRadius:v,rfId:r,ariaLabel:b.ariaLabel,isFocusable:ae,isReconnectable:ie,pathOptions:"pathOptions"in b?b.pathOptions:void 0,interactionWidth:b.interactionWidth,disableKeyboardA11y:m})})))),_):null};BE.displayName="EdgeRenderer";var XI=k.memo(BE);const QI=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function ZI({children:e}){const t=we(QI);return $.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function JI(e){const t=kg(),n=k.useRef(!1);k.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const eP={[X.Left]:X.Right,[X.Right]:X.Left,[X.Top]:X.Bottom,[X.Bottom]:X.Top},HE=({nodeId:e,handleType:t,style:n,type:r=Dn.Bezier,CustomComponent:i,connectionStatus:o})=>{var E,N,C;const{fromNode:s,handleId:a,toX:l,toY:u,connectionMode:c}=we(k.useCallback(R=>({fromNode:R.nodeInternals.get(e),handleId:R.connectionHandleId,toX:(R.connectionPosition.x-R.transform[0])/R.transform[2],toY:(R.connectionPosition.y-R.transform[1])/R.transform[2],connectionMode:R.connectionMode}),[e]),Je),f=(E=s==null?void 0:s[Te])==null?void 0:E.handleBounds;let h=f==null?void 0:f[t];if(c===Rr.Loose&&(h=h||(f==null?void 0:f[t==="source"?"target":"source"])),!s||!h)return null;const p=a?h.find(R=>R.id===a):h[0],y=p?p.x+p.width/2:(s.width??0)/2,v=p?p.y+p.height/2:s.height??0,_=(((N=s.positionAbsolute)==null?void 0:N.x)??0)+y,m=(((C=s.positionAbsolute)==null?void 0:C.y)??0)+v,g=p==null?void 0:p.position,w=g?eP[g]:null;if(!g||!w)return null;if(i)return $.createElement(i,{connectionLineType:r,connectionLineStyle:n,fromNode:s,fromHandle:p,fromX:_,fromY:m,toX:l,toY:u,fromPosition:g,toPosition:w,connectionStatus:o});let x="";const S={sourceX:_,sourceY:m,sourcePosition:g,targetX:l,targetY:u,targetPosition:w};return r===Dn.Bezier?[x]=fE(S):r===Dn.Step?[x]=am({...S,borderRadius:0}):r===Dn.SmoothStep?[x]=am(S):r===Dn.SimpleBezier?[x]=dE(S):x=`M${_},${m} ${l},${u}`,$.createElement("path",{d:x,fill:"none",className:"react-flow__connection-path",style:n})};HE.displayName="ConnectionLine";const tP=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function nP({containerStyle:e,style:t,type:n,component:r}){const{nodeId:i,handleType:o,nodesConnectable:s,width:a,height:l,connectionStatus:u}=we(tP,Je);return!(i&&o&&a&&s)?null:$.createElement("svg",{style:e,width:a,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},$.createElement("g",{className:ht(["react-flow__connection",u])},$.createElement(HE,{nodeId:i,handleType:o,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function Xy(e,t){return k.useRef(null),Ue(),k.useMemo(()=>t(e),[e])}const UE=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:i,onInit:o,onNodeClick:s,onEdgeClick:a,onNodeDoubleClick:l,onEdgeDoubleClick:u,onNodeMouseEnter:c,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:p,onSelectionContextMenu:y,onSelectionStart:v,onSelectionEnd:_,connectionLineType:m,connectionLineStyle:g,connectionLineComponent:w,connectionLineContainerStyle:x,selectionKeyCode:S,selectionOnDrag:E,selectionMode:N,multiSelectionKeyCode:C,panActivationKeyCode:R,zoomActivationKeyCode:O,deleteKeyCode:L,onlyRenderVisibleElements:F,elementsSelectable:q,selectNodesOnDrag:b,defaultViewport:P,translateExtent:T,minZoom:z,maxZoom:I,preventScrolling:j,defaultMarkerColor:A,zoomOnScroll:M,zoomOnPinch:D,panOnScroll:B,panOnScrollSpeed:U,panOnScrollMode:K,zoomOnDoubleClick:Q,panOnDrag:Z,onPaneClick:ae,onPaneMouseEnter:re,onPaneMouseMove:ie,onPaneMouseLeave:Re,onPaneScroll:ve,onPaneContextMenu:Le,onEdgeContextMenu:Me,onEdgeMouseEnter:V,onEdgeMouseMove:oe,onEdgeMouseLeave:G,onReconnect:W,onReconnectStart:ce,onReconnectEnd:qe,reconnectRadius:be,noDragClassName:pe,noWheelClassName:ye,noPanClassName:je,elevateEdgesOnSelect:Mt,disableKeyboardA11y:on,nodeOrigin:Gt,nodeExtent:pt,rfId:sn})=>{const Tn=Xy(e,RI),Fe=Xy(t,qI);return JI(o),$.createElement(CI,{onPaneClick:ae,onPaneMouseEnter:re,onPaneMouseMove:ie,onPaneMouseLeave:Re,onPaneContextMenu:Le,onPaneScroll:ve,deleteKeyCode:L,selectionKeyCode:S,selectionOnDrag:E,selectionMode:N,onSelectionStart:v,onSelectionEnd:_,multiSelectionKeyCode:C,panActivationKeyCode:R,zoomActivationKeyCode:O,elementsSelectable:q,onMove:n,onMoveStart:r,onMoveEnd:i,zoomOnScroll:M,zoomOnPinch:D,zoomOnDoubleClick:Q,panOnScroll:B,panOnScrollSpeed:U,panOnScrollMode:K,panOnDrag:Z,defaultViewport:P,translateExtent:T,minZoom:z,maxZoom:I,onSelectionContextMenu:y,preventScrolling:j,noDragClassName:pe,noWheelClassName:ye,noPanClassName:je,disableKeyboardA11y:on},$.createElement(ZI,null,$.createElement(XI,{edgeTypes:Fe,onEdgeClick:a,onEdgeDoubleClick:u,onlyRenderVisibleElements:F,onEdgeContextMenu:Me,onEdgeMouseEnter:V,onEdgeMouseMove:oe,onEdgeMouseLeave:G,onReconnect:W,onReconnectStart:ce,onReconnectEnd:qe,reconnectRadius:be,defaultMarkerColor:A,noPanClassName:je,elevateEdgesOnSelect:!!Mt,disableKeyboardA11y:on,rfId:sn},$.createElement(nP,{style:g,type:m,component:w,containerStyle:x})),$.createElement("div",{className:"react-flow__edgelabel-renderer"}),$.createElement(MI,{nodeTypes:Tn,onNodeClick:s,onNodeDoubleClick:l,onNodeMouseEnter:c,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:p,selectNodesOnDrag:b,onlyRenderVisibleElements:F,noPanClassName:je,noDragClassName:pe,disableKeyboardA11y:on,nodeOrigin:Gt,nodeExtent:pt,rfId:sn})))};UE.displayName="GraphView";var rP=k.memo(UE);const fm=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],In={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:fm,nodeExtent:fm,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Rr.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:IR,isValidConnection:void 0},iP=()=>W4((e,t)=>({...In,setNodes:n=>{const{nodeInternals:r,nodeOrigin:i,elevateNodesOnSelect:o}=t();e({nodeInternals:iu(n,r,i,o)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(i=>({...r,...i}))})},setDefaultNodesAndEdges:(n,r)=>{const i=typeof n<"u",o=typeof r<"u",s=i?iu(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:s,edges:o?r:[],hasDefaultNodes:i,hasDefaultEdges:o})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:i,fitViewOnInit:o,fitViewOnInitDone:s,fitViewOnInitOptions:a,domNode:l,nodeOrigin:u}=t(),c=l==null?void 0:l.querySelector(".react-flow__viewport");if(!c)return;const f=window.getComputedStyle(c),{m22:h}=new window.DOMMatrixReadOnly(f.transform),p=n.reduce((v,_)=>{const m=i.get(_.id);if(m!=null&&m.hidden)i.set(m.id,{...m,[Te]:{...m[Te],handleBounds:void 0}});else if(m){const g=vg(_.nodeElement);!!(g.width&&g.height&&(m.width!==g.width||m.height!==g.height||_.forceUpdate))&&(i.set(m.id,{...m,[Te]:{...m[Te],handleBounds:{source:Hy(".source",_.nodeElement,h,u),target:Hy(".target",_.nodeElement,h,u)}},...g}),v.push({id:m.id,type:"dimensions",dimensions:g}))}return v},[]);RE(i,u);const y=s||o&&!s&&IE(t,{initial:!0,...a});e({nodeInternals:new Map(i),fitViewOnInitDone:y}),(p==null?void 0:p.length)>0&&(r==null||r(p))},updateNodePositions:(n,r=!0,i=!1)=>{const{triggerNodeChanges:o}=t(),s=n.map(a=>{const l={id:a.id,type:"position",dragging:i};return r&&(l.positionAbsolute=a.positionAbsolute,l.position=a.position),l});o(s)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:i,hasDefaultNodes:o,nodeOrigin:s,getNodes:a,elevateNodesOnSelect:l}=t();if(n!=null&&n.length){if(o){const u=ME(n,a()),c=iu(u,i,s,l);e({nodeInternals:c})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:i,getNodes:o}=t();let s,a=null;r?s=n.map(l=>Ln(l,!0)):(s=ti(o(),n),a=ti(i,[])),Ns({changedNodes:s,changedEdges:a,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:i,getNodes:o}=t();let s,a=null;r?s=n.map(l=>Ln(l,!0)):(s=ti(i,n),a=ti(o(),[])),Ns({changedNodes:a,changedEdges:s,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:i,getNodes:o}=t(),s=n||o(),a=r||i,l=s.map(c=>(c.selected=!1,Ln(c.id,!1))),u=a.map(c=>Ln(c.id,!1));Ns({changedNodes:l,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:i}=t();r==null||r.scaleExtent([n,i]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:i}=t();r==null||r.scaleExtent([i,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),o=r().filter(a=>a.selected).map(a=>Ln(a.id,!1)),s=n.filter(a=>a.selected).map(a=>Ln(a.id,!1));Ns({changedNodes:o,changedEdges:s,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(i=>{i.positionAbsolute=yg(i.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:i,height:o,d3Zoom:s,d3Selection:a,translateExtent:l}=t();if(!s||!a||!n.x&&!n.y)return!1;const u=yn.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),c=[[0,0],[i,o]],f=s==null?void 0:s.constrain()(u,c,l);return s.transform(a,f),r[0]!==f.x||r[1]!==f.y||r[2]!==f.k},cancelConnection:()=>e({connectionNodeId:In.connectionNodeId,connectionHandleId:In.connectionHandleId,connectionHandleType:In.connectionHandleType,connectionStatus:In.connectionStatus,connectionStartHandle:In.connectionStartHandle,connectionEndHandle:In.connectionEndHandle}),reset:()=>e({...In})}),Object.is),jg=({children:e})=>{const t=k.useRef(null);return t.current||(t.current=iP()),$.createElement(ER,{value:t.current},e)};jg.displayName="ReactFlowProvider";const VE=({children:e})=>k.useContext(tl)?$.createElement($.Fragment,null,e):$.createElement(jg,null,e);VE.displayName="ReactFlowWrapper";const oP={input:SE,default:cm,output:kE,group:Eg},sP={default:Ta,straight:_g,step:wg,smoothstep:nl,simplebezier:xg},aP=[0,0],lP=[15,15],uP={x:0,y:0,zoom:1},cP={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},WE=k.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o=oP,edgeTypes:s=sP,onNodeClick:a,onEdgeClick:l,onInit:u,onMove:c,onMoveStart:f,onMoveEnd:h,onConnect:p,onConnectStart:y,onConnectEnd:v,onClickConnectStart:_,onClickConnectEnd:m,onNodeMouseEnter:g,onNodeMouseMove:w,onNodeMouseLeave:x,onNodeContextMenu:S,onNodeDoubleClick:E,onNodeDragStart:N,onNodeDrag:C,onNodeDragStop:R,onNodesDelete:O,onEdgesDelete:L,onSelectionChange:F,onSelectionDragStart:q,onSelectionDrag:b,onSelectionDragStop:P,onSelectionContextMenu:T,onSelectionStart:z,onSelectionEnd:I,connectionMode:j=Rr.Strict,connectionLineType:A=Dn.Bezier,connectionLineStyle:M,connectionLineComponent:D,connectionLineContainerStyle:B,deleteKeyCode:U="Backspace",selectionKeyCode:K="Shift",selectionOnDrag:Q=!1,selectionMode:Z=Do.Full,panActivationKeyCode:ae="Space",multiSelectionKeyCode:re=ja()?"Meta":"Control",zoomActivationKeyCode:ie=ja()?"Meta":"Control",snapToGrid:Re=!1,snapGrid:ve=lP,onlyRenderVisibleElements:Le=!1,selectNodesOnDrag:Me=!0,nodesDraggable:V,nodesConnectable:oe,nodesFocusable:G,nodeOrigin:W=aP,edgesFocusable:ce,edgesUpdatable:qe,elementsSelectable:be,defaultViewport:pe=uP,minZoom:ye=.5,maxZoom:je=2,translateExtent:Mt=fm,preventScrolling:on=!0,nodeExtent:Gt,defaultMarkerColor:pt="#b1b1b7",zoomOnScroll:sn=!0,zoomOnPinch:Tn=!0,panOnScroll:Fe=!1,panOnScrollSpeed:ot=.5,panOnScrollMode:Ke=yr.Free,zoomOnDoubleClick:et=!0,panOnDrag:lr=!0,onPaneClick:an,onPaneMouseEnter:Kt,onPaneMouseMove:Ri,onPaneMouseLeave:Sl,onPaneScroll:Ii,onPaneContextMenu:El,children:Yg,onEdgeContextMenu:ur,onEdgeDoubleClick:gN,onEdgeMouseEnter:vN,onEdgeMouseMove:yN,onEdgeMouseLeave:xN,onEdgeUpdate:wN,onEdgeUpdateStart:_N,onEdgeUpdateEnd:bN,onReconnect:SN,onReconnectStart:EN,onReconnectEnd:kN,reconnectRadius:NN=10,edgeUpdaterRadius:jN=10,onNodesChange:CN,onEdgesChange:TN,noDragClassName:RN="nodrag",noWheelClassName:IN="nowheel",noPanClassName:Xg="nopan",fitView:PN=!1,fitViewOptions:MN,connectOnClick:AN=!0,attributionPosition:ON,proOptions:LN,defaultEdgeOptions:qN,elevateNodesOnSelect:zN=!0,elevateEdgesOnSelect:DN=!1,disableKeyboardA11y:Qg=!1,autoPanOnConnect:FN=!0,autoPanOnNodeDrag:$N=!0,connectionRadius:BN=20,isValidConnection:HN,onError:UN,style:VN,id:Zg,nodeDragThreshold:WN,...GN},KN)=>{const kl=Zg||"1";return $.createElement("div",{...GN,style:{...VN,...cP},ref:KN,className:ht(["react-flow",i]),"data-testid":"rf__wrapper",id:Zg},$.createElement(VE,null,$.createElement(rP,{onInit:u,onMove:c,onMoveStart:f,onMoveEnd:h,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:g,onNodeMouseMove:w,onNodeMouseLeave:x,onNodeContextMenu:S,onNodeDoubleClick:E,nodeTypes:o,edgeTypes:s,connectionLineType:A,connectionLineStyle:M,connectionLineComponent:D,connectionLineContainerStyle:B,selectionKeyCode:K,selectionOnDrag:Q,selectionMode:Z,deleteKeyCode:U,multiSelectionKeyCode:re,panActivationKeyCode:ae,zoomActivationKeyCode:ie,onlyRenderVisibleElements:Le,selectNodesOnDrag:Me,defaultViewport:pe,translateExtent:Mt,minZoom:ye,maxZoom:je,preventScrolling:on,zoomOnScroll:sn,zoomOnPinch:Tn,zoomOnDoubleClick:et,panOnScroll:Fe,panOnScrollSpeed:ot,panOnScrollMode:Ke,panOnDrag:lr,onPaneClick:an,onPaneMouseEnter:Kt,onPaneMouseMove:Ri,onPaneMouseLeave:Sl,onPaneScroll:Ii,onPaneContextMenu:El,onSelectionContextMenu:T,onSelectionStart:z,onSelectionEnd:I,onEdgeContextMenu:ur,onEdgeDoubleClick:gN,onEdgeMouseEnter:vN,onEdgeMouseMove:yN,onEdgeMouseLeave:xN,onReconnect:SN??wN,onReconnectStart:EN??_N,onReconnectEnd:kN??bN,reconnectRadius:NN??jN,defaultMarkerColor:pt,noDragClassName:RN,noWheelClassName:IN,noPanClassName:Xg,elevateEdgesOnSelect:DN,rfId:kl,disableKeyboardA11y:Qg,nodeOrigin:W,nodeExtent:Gt}),$.createElement(eI,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:p,onConnectStart:y,onConnectEnd:v,onClickConnectStart:_,onClickConnectEnd:m,nodesDraggable:V,nodesConnectable:oe,nodesFocusable:G,edgesFocusable:ce,edgesUpdatable:qe,elementsSelectable:be,elevateNodesOnSelect:zN,minZoom:ye,maxZoom:je,nodeExtent:Gt,onNodesChange:CN,onEdgesChange:TN,snapToGrid:Re,snapGrid:ve,connectionMode:j,translateExtent:Mt,connectOnClick:AN,defaultEdgeOptions:qN,fitView:PN,fitViewOptions:MN,onNodesDelete:O,onEdgesDelete:L,onNodeDragStart:N,onNodeDrag:C,onNodeDragStop:R,onSelectionDrag:b,onSelectionDragStart:q,onSelectionDragStop:P,noPanClassName:Xg,nodeOrigin:W,rfId:kl,autoPanOnConnect:FN,autoPanOnNodeDrag:$N,onError:UN,connectionRadius:BN,isValidConnection:HN,nodeDragThreshold:WN}),$.createElement(ZR,{onSelectionChange:F}),Yg,$.createElement(NR,{proOptions:LN,position:ON}),$.createElement(oI,{rfId:kl,disableKeyboardA11y:Qg})))});WE.displayName="ReactFlow";function GE(e){return t=>{const[n,r]=k.useState(t),i=k.useCallback(o=>r(s=>e(o,s)),[]);return[n,r,i]}}const dP=GE(ME),fP=GE(xI),KE=({id:e,x:t,y:n,width:r,height:i,style:o,color:s,strokeColor:a,strokeWidth:l,className:u,borderRadius:c,shapeRendering:f,onClick:h,selected:p})=>{const{background:y,backgroundColor:v}=o||{},_=s||y||v;return $.createElement("rect",{className:ht(["react-flow__minimap-node",{selected:p},u]),x:t,y:n,rx:c,ry:c,width:r,height:i,fill:_,stroke:a,strokeWidth:l,shapeRendering:f,onClick:h?m=>h(m,e):void 0})};KE.displayName="MiniMapNode";var hP=k.memo(KE);const pP=e=>e.nodeOrigin,mP=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),lu=e=>e instanceof Function?e:()=>e;function gP({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i=2,nodeComponent:o=hP,onClick:s}){const a=we(mP,Je),l=we(pP),u=lu(t),c=lu(e),f=lu(n),h=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return $.createElement($.Fragment,null,a.map(p=>{const{x:y,y:v}=Sr(p,l).positionAbsolute;return $.createElement(o,{key:p.id,x:y,y:v,width:p.width,height:p.height,style:p.style,selected:p.selected,className:f(p),color:u(p),borderRadius:r,strokeColor:c(p),strokeWidth:i,shapeRendering:h,onClick:s,id:p.id})}))}var vP=k.memo(gP);const yP=200,xP=150,wP=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?TR(rl(t,e.nodeOrigin),n):n,rfId:e.rfId}},_P="react-flow__minimap-desc";function YE({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:i="",nodeBorderRadius:o=5,nodeStrokeWidth:s=2,nodeComponent:a,maskColor:l="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:c=1,position:f="bottom-right",onClick:h,onNodeClick:p,pannable:y=!1,zoomable:v=!1,ariaLabel:_="React Flow mini map",inversePan:m=!1,zoomStep:g=10,offsetScale:w=5}){const x=Ue(),S=k.useRef(null),{boundingRect:E,viewBB:N,rfId:C}=we(wP,Je),R=(e==null?void 0:e.width)??yP,O=(e==null?void 0:e.height)??xP,L=E.width/R,F=E.height/O,q=Math.max(L,F),b=q*R,P=q*O,T=w*q,z=E.x-(b-E.width)/2-T,I=E.y-(P-E.height)/2-T,j=b+T*2,A=P+T*2,M=`${_P}-${C}`,D=k.useRef(0);D.current=q,k.useEffect(()=>{if(S.current){const K=kt(S.current),Q=re=>{const{transform:ie,d3Selection:Re,d3Zoom:ve}=x.getState();if(re.sourceEvent.type!=="wheel"||!Re||!ve)return;const Le=-re.sourceEvent.deltaY*(re.sourceEvent.deltaMode===1?.05:re.sourceEvent.deltaMode?1:.002)*g,Me=ie[2]*Math.pow(2,Le);ve.scaleTo(Re,Me)},Z=re=>{const{transform:ie,d3Selection:Re,d3Zoom:ve,translateExtent:Le,width:Me,height:V}=x.getState();if(re.sourceEvent.type!=="mousemove"||!Re||!ve)return;const oe=D.current*Math.max(1,ie[2])*(m?-1:1),G={x:ie[0]-re.sourceEvent.movementX*oe,y:ie[1]-re.sourceEvent.movementY*oe},W=[[0,0],[Me,V]],ce=yn.translate(G.x,G.y).scale(ie[2]),qe=ve.constrain()(ce,W,Le);ve.transform(Re,qe)},ae=tE().on("zoom",y?Z:null).on("zoom.wheel",v?Q:null);return K.call(ae),()=>{K.on("zoom",null)}}},[y,v,m,g]);const B=h?K=>{const Q=zt(K);h(K,{x:Q[0],y:Q[1]})}:void 0,U=p?(K,Q)=>{const Z=x.getState().nodeInternals.get(Q);p(K,Z)}:void 0;return $.createElement(po,{position:f,style:e,className:ht(["react-flow__minimap",t]),"data-testid":"rf__minimap"},$.createElement("svg",{width:R,height:O,viewBox:`${z} ${I} ${j} ${A}`,role:"img","aria-labelledby":M,ref:S,onClick:B},_&&$.createElement("title",{id:M},_),$.createElement(vP,{onClick:U,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:i,nodeStrokeWidth:s,nodeComponent:a}),$.createElement("path",{className:"react-flow__minimap-mask",d:`M${z-T},${I-T}h${j+T*2}v${A+T*2}h${-j-T*2}z
        M${N.x},${N.y}h${N.width}v${N.height}h${-N.width}z`,fill:l,fillRule:"evenodd",stroke:u,strokeWidth:c,pointerEvents:"none"})))}YE.displayName="MiniMap";var bP=k.memo(YE);const Cs={active:"#f59e0b",complete:"#10b981",queued:"#64748b"},SP=180,EP=400,kP=260,NP=48;function jP(e){if(!e)return"";try{const t=new Date(e);return t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:t.getFullYear()!==new Date().getFullYear()?"numeric":void 0})}catch{return""}}function CP({projects:e,selectedId:t,onSelectProject:n,onNewProject:r,showArchived:i,onToggleShowArchived:o,userSection:s}){const[a,l]=k.useState(!1),[u,c]=k.useState(kP),[f,h]=k.useState(!1),p=k.useRef(null),y=k.useRef(null);k.useEffect(()=>{y.current&&y.current.scrollIntoView({behavior:"smooth",block:"nearest"})},[t]);const v=k.useMemo(()=>Object.values(e).sort((S,E)=>{const N=(S.name||"").localeCompare(E.name||"");return N!==0?N:(S.projectId||"").localeCompare(E.projectId||"")}),[e]),_=()=>{r()},m=k.useCallback(S=>{S.preventDefault(),h(!0)},[]),g=k.useCallback(S=>{if(!f)return;const E=Math.min(EP,Math.max(SP,S.clientX));c(E)},[f]),w=k.useCallback(()=>{h(!1)},[]);k.useEffect(()=>(f?(document.addEventListener("mousemove",g),document.addEventListener("mouseup",w),document.body.style.cursor="col-resize",document.body.style.userSelect="none"):(document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",w),document.body.style.cursor="",document.body.style.userSelect=""),()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",w),document.body.style.cursor="",document.body.style.userSelect=""}),[f,g,w]);const x=a?NP:u;return d.jsxs("div",{ref:p,className:"h-full flex flex-col relative",style:{width:x,minWidth:x,background:"var(--bg-panel)",borderRight:"1px solid var(--border-panel)",transition:f?"none":"width 0.2s ease"},children:[d.jsxs("div",{className:"p-3 border-b flex items-center justify-between",style:{borderColor:"var(--border-panel)"},children:[!a&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("h2",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:"Projects"}),d.jsx("button",{onClick:o,className:"p-1 rounded hover:bg-white/10 transition-colors",style:{color:i?"#f59e0b":"var(--text-muted)"},title:i?"Hide archived":"Show archived",children:d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M21 8v13H3V8M1 3h22v5H1zM10 12h4"})})})]}),d.jsx("button",{onClick:()=>l(!a),className:"p-1.5 rounded hover:bg-white/10 transition-colors",style:{color:"var(--text-muted)"},title:a?"Expand sidebar":"Collapse sidebar",children:d.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",style:{transform:a?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease"},children:d.jsx("path",{d:"M10 12L6 8L10 4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),!a&&d.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:v.map(S=>{const E=t===S.id;return d.jsxs("div",{ref:E?y:null,onClick:()=>n(S.id),className:"p-3 rounded-lg mb-2 cursor-pointer transition-all",style:{background:E?"var(--state-active-bg)":"transparent",border:E?"1px solid var(--state-active-bg)":"1px solid transparent",boxShadow:E?"0 0 12px rgba(245, 158, 11, 0.3)":"none"},children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 rounded-full flex-shrink-0",style:{background:E?"#ffffff":Cs[S.status]||Cs.queued}}),d.jsx("span",{className:"text-sm font-medium truncate flex-1",style:{color:E?"#ffffff":"var(--text-primary)"},children:S.name}),S.isArchived&&d.jsx("svg",{className:"w-3.5 h-3.5 flex-shrink-0",style:{color:E?"rgba(255,255,255,0.7)":"var(--text-muted)"},viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",title:"Archived",children:d.jsx("path",{d:"M21 8v13H3V8M1 3h22v5H1zM10 12h4"})})]}),d.jsxs("div",{className:"flex items-center justify-between mt-0.5 ml-4",children:[d.jsx("span",{className:"text-[10px] font-mono",style:{color:E?"rgba(255,255,255,0.8)":"var(--text-muted)"},children:S.projectId}),d.jsx("span",{className:"text-[10px]",style:{color:E?"rgba(255,255,255,0.8)":"var(--text-muted)"},children:jP(S.createdAt)})]})]},S.id)})}),a&&d.jsx("div",{className:"flex-1 overflow-y-auto py-2",children:v.map(S=>d.jsx("div",{onClick:()=>n(S.id),className:"flex items-center justify-center py-2 cursor-pointer hover:bg-white/5",title:S.name,children:d.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:Cs[S.status]||Cs.queued,boxShadow:t===S.id?"0 0 0 2px var(--bg-panel), 0 0 0 4px var(--border-node)":"none"}})},S.id))}),!a&&d.jsx("div",{className:"p-3 border-t",style:{borderColor:"var(--border-panel)"},children:d.jsxs("button",{onClick:_,className:"w-full py-2.5 rounded-lg text-sm font-medium flex items-center justify-center gap-2 transition-colors",style:{background:"#10b981",color:"white"},children:[d.jsx("span",{style:{fontSize:18,lineHeight:1},children:"+"}),d.jsx("span",{children:"New Project"})]})}),a&&d.jsx("div",{className:"p-2 border-t flex justify-center",style:{borderColor:"var(--border-panel)"},children:d.jsx("button",{onClick:_,className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:"#10b981",color:"white"},title:"New Project",children:d.jsx("span",{style:{fontSize:18,lineHeight:1},children:"+"})})}),s,!a&&d.jsx("div",{onMouseDown:m,className:"absolute top-0 right-0 w-1 h-full cursor-col-resize hover:bg-emerald-500/50 transition-colors",style:{background:f?"var(--state-active-bg)":"transparent"}})]})}function TP({stations:e}){return e!=null&&e.length?d.jsx("div",{className:"flex items-center gap-0.5 mt-2",children:e.map((t,n)=>{const r=t.state==="complete"?"var(--state-stabilized-bg)":t.state==="active"?"var(--state-active-bg)":"var(--state-queued-bg)",i=t.state==="complete"?"var(--state-stabilized-bg)":"var(--state-queued-bg)",o=t.state==="active"?"var(--state-active-text)":"var(--text-muted)";return d.jsxs($.Fragment,{children:[n>0&&d.jsx("div",{className:"w-4 h-0.5",style:{background:i}}),d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("div",{className:`w-3 h-3 rounded-full${t.state==="active"?" station-active":""}`,style:{background:r}}),d.jsx("span",{className:"text-[7px] mt-0.5",style:{color:o,fontWeight:t.state==="active"?500:400},children:t.label})]})]},t.id)})}):null}const Qy={light:{stabilized:"#10b981",active:"#6366f1",queued:"#cbd5e1"},industrial:{stabilized:"#10b981",active:"#f59e0b",queued:"#334155"},blueprint:{stabilized:"#ffffff",active:"#fbbf24",queued:"#d4e8f8"}},XE=(e,t)=>{var n;return((n=Qy[t])==null?void 0:n[e])||Qy.industrial.queued},Ot={EPICS_PER_ROW:3,EPIC_WIDTH:220,EPIC_HEIGHT:70,EPIC_GAP_X:50,EPIC_GAP_Y:100,EPIC_OFFSET_X:80,EPIC_OFFSET_Y:80},mo={GAP:8,WIDTH:280},uu=["pgc","asm","draft","qa","done"],Fn=["industrial","light","blueprint"];function RP({questions:e,nodeWidth:t,onSubmit:n,onClose:r,onZoomComplete:i}){const[o,s]=k.useState({}),a=e.filter(l=>l.required).every(l=>o[l.id]);return k.useEffect(()=>{if(i){const l=setTimeout(()=>i(),150);return()=>clearTimeout(l)}},[i]),d.jsxs("div",{className:"absolute top-0 border border-amber-500/50 rounded-lg shadow-2xl tray-slide",style:{left:t+mo.GAP,width:mo.WIDTH,boxShadow:"0 0 30px rgba(0,0,0,0.5)",zIndex:1e3,background:"var(--bg-sidecar)"},children:[d.jsx("div",{className:"absolute border-t-2 border-dashed border-amber-500/60",style:{top:14,right:"100%",width:mo.GAP}}),d.jsx("div",{className:"absolute w-2 h-2 rounded-full bg-amber-500",style:{top:11,right:"100%",marginRight:-4}}),d.jsxs("div",{className:"bg-amber-500/10 border-b border-amber-500/30 px-3 py-2 flex justify-between items-center",children:[d.jsx("span",{className:"text-[9px] font-semibold text-amber-600 uppercase tracking-wide",children:"Operator Input Required"}),d.jsx("button",{onClick:r,style:{color:"var(--text-sidecar-muted)"},className:"hover:opacity-70 text-sm leading-none",children:""})]}),d.jsx("div",{className:"p-3 space-y-3 max-h-64 overflow-y-auto",children:e.map(l=>d.jsxs("div",{children:[d.jsxs("label",{className:"block text-[10px] mb-1",style:{color:"var(--text-sidecar-muted)"},children:[l.text," ",l.required&&d.jsx("span",{className:"text-amber-600",children:"*"})]}),d.jsx("input",{type:"text",className:"w-full rounded px-2 py-1.5 text-xs border",style:{background:"var(--bg-input)",borderColor:"var(--border-input)",color:"var(--text-sidecar)"},value:o[l.id]||"",onChange:u=>s(c=>({...c,[l.id]:u.target.value}))})]},l.id))}),d.jsx("div",{className:"p-3",style:{borderTop:"1px solid var(--border-node)"},children:d.jsx("button",{className:`w-full py-2 rounded text-xs font-medium transition-colors ${a?"bg-amber-500 text-slate-900 hover:bg-amber-400":"subway-button cursor-not-allowed"}`,disabled:!a,onClick:()=>n(o),children:"Submit & Continue"})})]})}function IP({features:e,epicName:t,nodeWidth:n,onClose:r,onZoomComplete:i}){const o=e.length>6,s=o?240:320;return k.useEffect(()=>{if(i){const a=setTimeout(()=>i(),150);return()=>clearTimeout(a)}},[i]),d.jsxs("div",{className:"absolute top-0 border border-indigo-500/50 rounded-lg shadow-2xl tray-slide",style:{left:n+mo.GAP,width:s,boxShadow:"0 0 30px rgba(0,0,0,0.5)",zIndex:1e3,background:"var(--bg-sidecar)"},children:[d.jsx("div",{className:"absolute border-t-2 border-dashed border-indigo-500/60",style:{top:14,right:"100%",width:mo.GAP}}),d.jsx("div",{className:"absolute w-2 h-2 rounded-full bg-indigo-500",style:{top:11,right:"100%",marginRight:-4}}),d.jsxs("div",{className:"bg-indigo-500/10 border-b border-indigo-500/30 px-3 py-2 flex justify-between items-center",children:[d.jsxs("span",{className:"text-[9px] font-semibold uppercase tracking-wide",style:{color:"var(--text-sidecar-muted)"},children:["Features - ",t]}),d.jsx("button",{onClick:r,style:{color:"var(--text-sidecar-muted)"},className:"hover:opacity-70 text-sm leading-none",children:""})]}),d.jsx("div",{className:`p-3 max-h-64 overflow-y-auto ${o?"":"grid grid-cols-2 gap-2"}`,children:e.map(a=>{const l=a.state==="complete"?"var(--state-stabilized-bg)":a.state==="active"?"var(--state-active-bg)":"var(--state-queued-bg)";return d.jsxs("div",{className:`flex items-center gap-2 p-1.5 rounded cursor-pointer hover:opacity-80 ${o?"mb-1":""}`,children:[d.jsx("div",{className:"w-2 h-2 rounded-full flex-shrink-0",style:{background:l}}),d.jsx("span",{className:"text-[10px] truncate",style:{color:"var(--text-sidecar)"},children:a.name})]},a.id)})}),d.jsxs("div",{className:"px-3 py-2 text-[9px]",style:{borderTop:"1px solid var(--border-node)",color:"var(--text-sidecar-muted)"},children:[e.length," features"]})]})}const Cg="/api/v1";class PP extends Error{constructor(t,n,r){super(t),this.name="ApiError",this.status=n,this.data=r}}function MP(){const e=document.cookie.match(/(?:^|;\s*)csrf=([^;]*)/);return e?decodeURIComponent(e[1]):null}async function Se(e,t={}){const n=`${Cg}${e}`,r={headers:{"Content-Type":"application/json",...t.headers},credentials:"same-origin",...t},i=await fetch(n,r);if(!i.ok){const o=await i.json().catch(()=>({}));throw new PP(o.detail||`Request failed: ${i.status}`,i.status,o)}return i.status===204?null:i.json()}const Pe={getMe:()=>fetch("/api/me",{credentials:"same-origin"}).then(e=>{if(e.status===401)return null;if(!e.ok)throw new Error(`Request failed: ${e.status}`);return e.json()}).catch(e=>(console.error("Auth check failed:",e),null)),logout:()=>fetch("/auth/logout",{method:"POST",credentials:"same-origin",headers:{"X-CSRF-Token":MP()||""}}),getProjects:(e={})=>{const t=new URLSearchParams;e.search&&t.set("search",e.search),e.includeArchived&&t.set("include_archived","true");const n=t.toString();return Se(`/projects${n?"?"+n:""}`)},getProject:e=>Se(`/projects/${e}`),getProjectTree:e=>Se(`/projects/${e}/tree`),createProject:e=>Se("/projects",{method:"POST",body:JSON.stringify(e)}),updateProject:(e,t)=>Se(`/projects/${e}`,{method:"PATCH",body:JSON.stringify(t)}),archiveProject:e=>Se(`/projects/${e}/archive`,{method:"POST"}),unarchiveProject:e=>Se(`/projects/${e}/unarchive`,{method:"POST"}),deleteProject:e=>Se(`/projects/${e}`,{method:"DELETE"}),getProductionStatus:e=>Se(`/production/status?project_id=${e}`),startProduction:(e,t=null)=>{const n=new URLSearchParams({project_id:e});return t&&n.set("document_type",t),Se(`/production/start?${n}`,{method:"POST"})},getProjectInterrupts:e=>Se(`/projects/${e}/interrupts`),resolveInterrupt:(e,t)=>Se(`/interrupts/${e}/resolve`,{method:"POST",body:JSON.stringify(t)}),startWorkflow:(e,t,n=null)=>Se("/document-workflows/start",{method:"POST",body:JSON.stringify({project_id:e,document_type:t,initial_context:n})}),submitWorkflowInput:(e,t,n=null)=>Se(`/document-workflows/executions/${e}/input`,{method:"POST",body:JSON.stringify({user_input:t,selected_option_id:n})}),getExecutionStatus:e=>Se(`/document-workflows/executions/${e}`),getPgcAnswers:e=>Se(`/document-workflows/executions/${e}/pgc-answers`),getDocument:(e,t)=>Se(`/projects/${e}/documents/${t}`),getDocumentRenderModel:(e,t)=>Se(`/projects/${e}/documents/${t}/render-model`),startIntake:()=>Se("/intake/start",{method:"POST"}),getIntakeState:e=>Se(`/intake/${e}`),submitIntakeMessage:(e,t)=>Se(`/intake/${e}/message`,{method:"POST",body:JSON.stringify({content:t})}),updateIntakeField:(e,t,n)=>Se(`/intake/${e}/field/${t}`,{method:"PATCH",body:JSON.stringify({value:n})}),initializeIntake:e=>Se(`/intake/${e}/initialize`,{method:"POST"})};function AP(e){const t=`${Cg}/production/events?project_id=${e}`;return new EventSource(t)}function OP(e){const t=`${Cg}/intake/${e}/events`;return new EventSource(t)}function LP(e){return`/auth/login/${e}`}function qP({block:e}){const{data:t}=e,n=t.content||t.value||"";return n?d.jsxs("div",{style:{marginBottom:12},children:[d.jsx("p",{style:{margin:0,fontSize:14,lineHeight:1.6,color:"#374151",whiteSpace:"pre-line"},children:n}),t.detail_ref&&d.jsx("a",{href:"#",style:{fontSize:12,color:"#6366f1",textDecoration:"none",marginTop:4,display:"inline-block"},children:"View details "})]}):null}function Zy({block:e}){const{data:t}=e,n=t.items||[],r=t.style||"bullet";if(n.length===0)return null;const i=r==="numbered"?"decimal":"disc";return d.jsxs("div",{style:{marginBottom:12},children:[t.title&&d.jsx("h4",{style:{fontSize:12,fontWeight:600,color:"#6b7280",marginBottom:8,textTransform:"uppercase",letterSpacing:"0.05em"},children:t.title}),d.jsx("ul",{style:{margin:0,paddingLeft:r==="check"?0:20,listStyle:r==="check"?"none":i},children:n.map((o,s)=>d.jsxs("li",{style:{fontSize:14,lineHeight:1.6,color:"#374151",marginBottom:4,display:r==="check"?"flex":"list-item",alignItems:"flex-start",gap:8},children:[r==="check"&&d.jsx("span",{style:{color:"#10b981"},children:""}),typeof o=="string"?o:(o==null?void 0:o.value)||(o==null?void 0:o.text)||(o==null?void 0:o.question)||(o==null?void 0:o.description)||JSON.stringify(o)]},s))})]})}function zP({block:e}){const{data:t}=e,n=t.value||"unknown",r=t.label,o={low:{bg:"#d1fae5",text:"#065f46"},medium:{bg:"#fef3c7",text:"#92400e"},high:{bg:"#fee2e2",text:"#991b1b"},critical:{bg:"#fecaca",text:"#7f1d1d"},none:{bg:"#e5e7eb",text:"#374151"},external:{bg:"#dbeafe",text:"#1e40af"},qualified:{bg:"#d1fae5",text:"#065f46"},not_ready:{bg:"#fef3c7",text:"#92400e"}}[n.toLowerCase()]||{bg:"#f3f4f6",text:"#374151"};return d.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:8,marginBottom:12},children:[r&&d.jsxs("span",{style:{fontSize:12,color:"#6b7280",fontWeight:500},children:[r,":"]}),d.jsx("span",{style:{display:"inline-block",padding:"4px 12px",borderRadius:20,background:o.bg,color:o.text,fontSize:12,fontWeight:500,textTransform:"capitalize"},children:n})]})}function QE({block:e}){const{data:t}=e,{id:n,text:r,blocking:i,why_it_matters:o,priority:s,tags:a,options:l}=t,u={must:{bg:"#fee2e2",text:"#991b1b"},should:{bg:"#fef3c7",text:"#92400e"},could:{bg:"#e5e7eb",text:"#374151"}},c=u[s]||u.should;return d.jsx("div",{style:{padding:"12px 16px",background:i?"#fef2f2":"#f8fafc",borderRadius:8,border:`1px solid ${i?"#fecaca":"#e2e8f0"}`,marginBottom:12},children:d.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:12},children:[d.jsx("span",{style:{fontSize:10,fontFamily:"monospace",color:"#6b7280",background:"#e5e7eb",padding:"2px 6px",borderRadius:4,flexShrink:0},children:n}),d.jsxs("div",{style:{flex:1},children:[d.jsx("p",{style:{margin:0,fontSize:14,fontWeight:500,color:"#111827",marginBottom:6},children:r}),o&&d.jsx("p",{style:{margin:0,fontSize:12,color:"#6b7280",fontStyle:"italic"},children:o}),d.jsxs("div",{style:{display:"flex",gap:6,marginTop:8,flexWrap:"wrap"},children:[i&&d.jsx("span",{style:{fontSize:10,padding:"2px 8px",borderRadius:10,background:"#fee2e2",color:"#991b1b",fontWeight:600},children:"BLOCKING"}),s&&d.jsx("span",{style:{fontSize:10,padding:"2px 8px",borderRadius:10,background:c.bg,color:c.text,textTransform:"uppercase"},children:s}),a==null?void 0:a.map((f,h)=>d.jsx("span",{style:{fontSize:10,padding:"2px 8px",borderRadius:10,background:"#e0e7ff",color:"#3730a3"},children:f},h))]}),l&&l.length>0&&d.jsxs("div",{style:{marginTop:8},children:[d.jsx("span",{style:{fontSize:11,color:"#6b7280"},children:"Options: "}),l.map((f,h)=>d.jsx("span",{style:{fontSize:11,color:"#374151",marginLeft:h>0?8:4},children:f},h))]})]})]})})}function DP({block:e}){const{data:t}=e,n=t.items||[],r=t.total_count||n.length,i=t.blocking_count||n.filter(o=>o.blocking).length;return n.length===0?d.jsx("div",{style:{padding:"16px",background:"#f0fdf4",borderRadius:8,border:"1px solid #bbf7d0",textAlign:"center",color:"#166534",fontSize:14},children:"No open questions"}):d.jsxs("div",{children:[d.jsxs("div",{style:{display:"flex",gap:16,marginBottom:12,padding:"8px 12px",background:"#f8fafc",borderRadius:6,fontSize:12},children:[d.jsxs("span",{style:{color:"#6b7280"},children:[d.jsx("strong",{style:{color:"#374151"},children:r})," questions"]}),i>0&&d.jsxs("span",{style:{color:"#dc2626"},children:[d.jsx("strong",{children:i})," blocking"]})]}),n.map((o,s)=>d.jsx(QE,{block:{type:"schema:OpenQuestionV1",data:o}},o.id||s))]})}function Jy({block:e}){const{data:t}=e,n=t.items||[],r=t.title;if(n.length===0)return null;const i={low:{bg:"#d1fae5",text:"#065f46",border:"#a7f3d0"},medium:{bg:"#fef3c7",text:"#92400e",border:"#fde68a"},high:{bg:"#fee2e2",text:"#991b1b",border:"#fecaca"},critical:{bg:"#fecaca",text:"#7f1d1d",border:"#f87171"}};return d.jsxs("div",{style:{marginBottom:12},children:[r&&d.jsx("h4",{style:{fontSize:12,fontWeight:600,color:"#6b7280",marginBottom:8,textTransform:"uppercase",letterSpacing:"0.05em"},children:r}),d.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:n.map((o,s)=>{const a=o.severity||o.likelihood||"medium",l=i[a]||i.medium;return d.jsx("div",{style:{padding:"10px 14px",background:l.bg,borderRadius:6,border:`1px solid ${l.border}`},children:d.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:10},children:[o.id&&d.jsx("span",{style:{fontSize:10,fontFamily:"monospace",color:l.text,background:"rgba(255,255,255,0.5)",padding:"2px 6px",borderRadius:4,flexShrink:0},children:o.id}),d.jsxs("div",{style:{flex:1},children:[d.jsx("p",{style:{margin:0,fontSize:13,color:l.text,fontWeight:500},children:o.description||o.reason||JSON.stringify(o)}),o.impact&&d.jsxs("p",{style:{margin:"4px 0 0",fontSize:12,color:l.text,opacity:.8},children:["Impact: ",o.impact]}),o.mitigation&&d.jsxs("p",{style:{margin:"4px 0 0",fontSize:12,color:l.text,opacity:.8},children:["Mitigation: ",o.mitigation]})]}),d.jsx("span",{style:{fontSize:10,padding:"2px 8px",borderRadius:10,background:"rgba(255,255,255,0.5)",color:l.text,textTransform:"uppercase",fontWeight:600},children:a})]})},o.id||s)})})]})}function FP({block:e}){const{data:t}=e,{problem_understanding:n,architectural_intent:r,scope_pressure_points:i}=t,o=[{title:"Problem Understanding",content:n},{title:"Architectural Intent",content:r},{title:"Scope Pressure Points",content:i}].filter(s=>s.content);return o.length===0?null:d.jsx("div",{style:{marginBottom:12},children:o.map((s,a)=>d.jsxs("div",{style:{marginBottom:a<o.length-1?16:0},children:[d.jsx("h4",{style:{fontSize:12,fontWeight:600,color:"#6b7280",marginBottom:6,textTransform:"uppercase",letterSpacing:"0.05em"},children:s.title}),d.jsx("div",{style:{padding:"12px 16px",background:"#f8fafc",borderRadius:6,borderLeft:"3px solid #6366f1"},children:d.jsx("p",{style:{margin:0,fontSize:14,lineHeight:1.6,color:"#374151",whiteSpace:"pre-line"},children:s.content})})]},a))})}function e0({block:e}){const{data:t}=e,{epic_id:n,title:r,name:i,intent:o,phase:s,risk_level:a,stories:l,detail_ref:u}=t,c=r||i,f={low:{bg:"#d1fae5",text:"#065f46"},medium:{bg:"#fef3c7",text:"#92400e"},high:{bg:"#fee2e2",text:"#991b1b"}},h=f[a]||f.medium,p={mvp:{bg:"#dbeafe",text:"#1e40af"},later:{bg:"#e5e7eb",text:"#374151"}},y=p[s]||p.mvp;return d.jsxs("div",{style:{padding:"14px 16px",background:"#ffffff",borderRadius:8,border:"1px solid #e2e8f0",marginBottom:12,boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",gap:12},children:[d.jsxs("div",{style:{flex:1},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:6},children:[n&&d.jsx("span",{style:{fontSize:10,fontFamily:"monospace",color:"#6366f1",background:"#eef2ff",padding:"2px 6px",borderRadius:4},children:n}),d.jsx("h4",{style:{margin:0,fontSize:14,fontWeight:600,color:"#111827"},children:c})]}),o&&d.jsx("p",{style:{margin:0,fontSize:13,color:"#6b7280",lineHeight:1.5},children:o}),l&&l.length>0&&d.jsxs("div",{style:{marginTop:8,fontSize:12,color:"#6b7280"},children:[l.length," stories"]})]}),d.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4,alignItems:"flex-end"},children:[s&&d.jsx("span",{style:{fontSize:10,padding:"2px 8px",borderRadius:10,background:y.bg,color:y.text,textTransform:"uppercase",fontWeight:500},children:s}),a&&d.jsxs("span",{style:{fontSize:10,padding:"2px 8px",borderRadius:10,background:h.bg,color:h.text,textTransform:"uppercase",fontWeight:500},children:[a," risk"]})]})]}),u&&d.jsx("div",{style:{marginTop:10,paddingTop:10,borderTop:"1px solid #f3f4f6"},children:d.jsx("a",{href:"#",style:{fontSize:12,color:"#6366f1",textDecoration:"none"},children:"View epic details "})})]})}function $P({block:e}){const{data:t}=e,{story_id:n,title:r,intent:i,phase:o,risk_level:s,detail_ref:a}=t,u={low:{bg:"#d1fae5",text:"#065f46"},medium:{bg:"#fef3c7",text:"#92400e"},high:{bg:"#fee2e2",text:"#991b1b"}}[s]||null,c={mvp:{bg:"#dbeafe",text:"#1e40af"},later:{bg:"#e5e7eb",text:"#374151"}},f=c[o]||c.mvp;return d.jsx("div",{style:{padding:"10px 14px",background:"#fafafa",borderRadius:6,border:"1px solid #e5e7eb",marginBottom:8},children:d.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",gap:10},children:[d.jsxs("div",{style:{flex:1},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:4},children:[n&&d.jsx("span",{style:{fontSize:10,fontFamily:"monospace",color:"#059669",background:"#ecfdf5",padding:"1px 5px",borderRadius:3},children:n}),d.jsx("span",{style:{fontSize:13,fontWeight:500,color:"#111827"},children:r})]}),i&&d.jsx("p",{style:{margin:0,fontSize:12,color:"#6b7280",lineHeight:1.4},children:i})]}),d.jsxs("div",{style:{display:"flex",gap:4},children:[o&&d.jsx("span",{style:{fontSize:9,padding:"2px 6px",borderRadius:8,background:f.bg,color:f.text,textTransform:"uppercase",fontWeight:500},children:o}),u&&d.jsx("span",{style:{fontSize:9,padding:"2px 6px",borderRadius:8,background:u.bg,color:u.text,textTransform:"uppercase",fontWeight:500},children:s})]})]})})}function BP({block:e}){const{type:t,data:n}=e;return d.jsxs("div",{style:{padding:"12px 16px",background:"#f8fafc",borderRadius:6,border:"1px solid #e2e8f0",marginBottom:12},children:[d.jsx("div",{style:{fontSize:10,color:"#94a3b8",marginBottom:8,fontFamily:"monospace"},children:t}),d.jsx("pre",{style:{fontSize:12,color:"#475569",margin:0,whiteSpace:"pre-wrap",wordBreak:"break-word"},children:JSON.stringify(n,null,2)})]})}function HP({block:e}){const{data:t}=e,n=t.items||[],[r,i]=k.useState({});if(n.length===0)return null;const o=s=>{i(a=>({...a,[s]:!a[s]}))};return d.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:n.map((s,a)=>{const l=r[a],u=s.why_it_matters||s.impact_if_unresolved;return d.jsxs("div",{style:{background:"#fefce8",border:"1px solid #fef08a",borderRadius:6,borderLeft:"3px solid #eab308",overflow:"hidden"},children:[d.jsxs("button",{onClick:()=>u&&o(a),style:{width:"100%",padding:"10px 12px",background:"transparent",border:"none",cursor:u?"pointer":"default",display:"flex",alignItems:"flex-start",justifyContent:"space-between",gap:8,textAlign:"left"},children:[d.jsx("span",{style:{fontSize:13,fontWeight:500,color:"#854d0e",lineHeight:1.4},children:s.question||s.value||s.text||"Unknown"}),u&&d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",stroke:"#a16207",strokeWidth:"2",style:{flexShrink:0,marginTop:2,transform:l?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.15s"},children:d.jsx("path",{d:"M3 5l4 4 4-4"})})]}),l&&u&&d.jsxs("div",{style:{padding:"0 12px 12px",borderTop:"1px solid #fde68a",marginTop:0},children:[s.why_it_matters&&d.jsxs("div",{style:{marginTop:10},children:[d.jsx("div",{style:{fontSize:10,fontWeight:600,color:"#a16207",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:3},children:"Why it matters"}),d.jsx("div",{style:{fontSize:12,color:"#713f12",lineHeight:1.5},children:s.why_it_matters})]}),s.impact_if_unresolved&&d.jsxs("div",{style:{marginTop:10},children:[d.jsx("div",{style:{fontSize:10,fontWeight:600,color:"#a16207",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:3},children:"Impact if unresolved"}),d.jsx("div",{style:{fontSize:12,color:"#713f12",lineHeight:1.5},children:s.impact_if_unresolved})]})]})]},a)})})}function UP({block:e}){const{data:t}=e,{description:n,user_statement:r}=t;return d.jsxs("div",{style:{marginBottom:12},children:[n&&d.jsx("div",{style:{paddingLeft:16,borderLeft:"4px solid #8b5cf6",color:"#374151",marginBottom:16,fontSize:14,lineHeight:1.6},children:n}),r&&d.jsxs("blockquote",{style:{paddingLeft:16,borderLeft:"4px solid #d1d5db",color:"#6b7280",fontStyle:"italic",margin:0,fontSize:13,lineHeight:1.5},children:['"',r,'"']})]})}function VP({block:e}){const{data:t}=e,{category:n,confidence:r,rationale:i}=t;return d.jsxs("div",{style:{marginBottom:12},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:8},children:[d.jsx("span",{style:{padding:"4px 12px",borderRadius:16,fontSize:13,fontWeight:500,background:"#ede9fe",color:"#6d28d9"},children:n}),r&&d.jsxs("span",{style:{fontSize:13,color:"#6b7280"},children:["Confidence: ",r]})]}),i&&d.jsx("p",{style:{margin:0,fontSize:13,color:"#6b7280",lineHeight:1.5},children:i})]})}function WP({block:e}){const{data:t}=e,{explicit:n=[],inferred:r=[]}=t,i=n&&n.length>0,o=r&&r.length>0;return!i&&!o?null:d.jsxs("div",{style:{marginBottom:12},children:[i&&d.jsxs("div",{style:{marginBottom:o?16:0},children:[d.jsx("h4",{style:{fontSize:12,fontWeight:500,color:"#6b7280",marginBottom:8,marginTop:0},children:"Explicit"}),d.jsx("ul",{style:{margin:0,paddingLeft:20,listStyle:"none"},children:n.map((s,a)=>d.jsxs("li",{style:{display:"flex",alignItems:"flex-start",gap:8,marginBottom:6,fontSize:13,color:"#374151"},children:[d.jsx("span",{style:{color:"#f59e0b"},children:""}),d.jsx("span",{children:s})]},a))})]}),o&&d.jsxs("div",{children:[d.jsx("h4",{style:{fontSize:12,fontWeight:500,color:"#6b7280",marginBottom:8,marginTop:0},children:"Inferred"}),d.jsx("ul",{style:{margin:0,paddingLeft:20,listStyle:"none"},children:r.map((s,a)=>d.jsxs("li",{style:{display:"flex",alignItems:"flex-start",gap:8,marginBottom:6,fontSize:13,color:"#374151"},children:[d.jsx("span",{style:{color:"#3b82f6"},children:""}),d.jsx("span",{children:s})]},a))})]})]})}function GP({block:e}){const{data:t}=e,{questions:n=[],missing_context:r=[],assumptions_made:i=[]}=t,o=n&&n.length>0,s=r&&r.length>0,a=i&&i.length>0;return!o&&!s&&!a?null:d.jsxs("div",{style:{marginBottom:12},children:[o&&d.jsxs("div",{style:{marginBottom:s||a?16:0},children:[d.jsx("h4",{style:{fontSize:12,fontWeight:500,color:"#6b7280",marginBottom:8,marginTop:0},children:"Questions"}),d.jsx("ul",{style:{margin:0,paddingLeft:20,listStyle:"none"},children:n.map((l,u)=>d.jsxs("li",{style:{display:"flex",alignItems:"flex-start",gap:8,marginBottom:6,fontSize:13,color:"#374151"},children:[d.jsx("span",{style:{color:"#3b82f6"},children:""}),d.jsx("span",{children:l})]},u))})]}),s&&d.jsxs("div",{style:{marginBottom:a?16:0},children:[d.jsx("h4",{style:{fontSize:12,fontWeight:500,color:"#6b7280",marginBottom:8,marginTop:0},children:"Missing Context"}),d.jsx("ul",{style:{margin:0,paddingLeft:20,listStyle:"none"},children:r.map((l,u)=>d.jsxs("li",{style:{display:"flex",alignItems:"flex-start",gap:8,marginBottom:6,fontSize:13,color:"#374151"},children:[d.jsx("span",{style:{color:"#f59e0b"},children:""}),d.jsx("span",{children:l})]},u))})]}),a&&d.jsxs("div",{children:[d.jsx("h4",{style:{fontSize:12,fontWeight:500,color:"#6b7280",marginBottom:8,marginTop:0},children:"Assumptions"}),d.jsx("ul",{style:{margin:0,paddingLeft:20,listStyle:"none"},children:i.map((l,u)=>d.jsxs("li",{style:{display:"flex",alignItems:"flex-start",gap:8,marginBottom:6,fontSize:13,color:"#374151"},children:[d.jsx("span",{style:{color:"#6b7280"},children:""}),d.jsx("span",{children:l})]},u))})]})]})}function KP({block:e}){const{data:t}=e,{status:n,rationale:r,next_action:i}=t,s={qualified:{bg:"#d1fae5",text:"#065f46"},not_ready:{bg:"#fef3c7",text:"#92400e"},out_of_scope:{bg:"#fee2e2",text:"#991b1b"},redirect:{bg:"#e0e7ff",text:"#3730a3"}}[n]||{bg:"#f3f4f6",text:"#374151"};return d.jsxs("div",{style:{marginBottom:12},children:[n&&d.jsx("div",{style:{marginBottom:12},children:d.jsx("span",{style:{padding:"4px 12px",borderRadius:16,fontSize:13,fontWeight:500,background:s.bg,color:s.text},children:n})}),r&&d.jsx("p",{style:{margin:0,marginBottom:i?12:0,fontSize:13,color:"#6b7280",lineHeight:1.5},children:r}),i&&d.jsx("div",{style:{padding:12,borderRadius:8,background:"#ecfdf5",border:"1px solid #a7f3d0"},children:d.jsxs("span",{style:{fontSize:13,fontWeight:500,color:"#065f46"},children:["Next: ",i]})})]})}const YP={"schema:ParagraphBlockV1":qP,"schema:StringListBlockV1":Zy,"schema:IndicatorBlockV1":zP,"schema:OpenQuestionV1":QE,"schema:OpenQuestionsBlockV1":DP,"schema:RisksBlockV1":Jy,"schema:DependenciesBlockV1":Jy,"schema:SummaryBlockV1":FP,"schema:EpicSummaryBlockV1":e0,"schema:StorySummaryBlockV1":$P,"schema:EpicStoriesCardBlockV1":e0,"schema:StoriesBlockV1":Zy,"schema:UnknownsBlockV1":HP,"schema:IntakeSummaryBlockV1":UP,"schema:IntakeProjectTypeBlockV1":VP,"schema:IntakeConstraintsBlockV1":WP,"schema:IntakeOpenGapsBlockV1":GP,"schema:IntakeOutcomeBlockV1":KP};function XP(e){return YP[e]||BP}function QP(e,t){const n=XP(e.type);return d.jsx(n,{block:e},e.key||t)}function ZE({renderModel:e,variant:t="full",hideHeader:n=!1,onSectionClick:r,className:i=""}){var _;const[o,s]=k.useState(new Set(((_=e==null?void 0:e.sections)==null?void 0:_.map(m=>m.section_id))||[]));if(!e)return d.jsx("div",{style:{padding:20,textAlign:"center",color:"#6b7280"},children:"No render model available"});const{title:a,subtitle:l,sections:u=[],metadata:c}=e;if(c!=null&&c.fallback&&e.raw_content)return d.jsx(JP,{title:a,content:e.raw_content,reason:c.reason});const f=m=>{s(g=>{const w=new Set(g);return w.has(m)?w.delete(m):w.add(m),w})},h=t==="compact"||t==="sidecar",y=t==="sidecar"?u.filter(m=>m.viewer_tab==="overview"||!m.viewer_tab):u,v=(()=>{if(!a)return"Document";const m=a.indexOf(": ");return m>-1?a.slice(m+2):a})();return d.jsxs("div",{className:i,children:[t==="full"&&!n&&d.jsxs("div",{style:{marginBottom:24},children:[d.jsx("h1",{style:{margin:0,fontSize:24,fontWeight:700,color:"#111827"},children:v}),l&&d.jsx("p",{style:{margin:"8px 0 0",fontSize:14,color:"#6b7280"},children:l})]}),d.jsx("div",{style:{display:"flex",flexDirection:"column",gap:h?12:20},children:y.map(m=>d.jsx(ZP,{section:m,isExpanded:o.has(m.section_id),onToggle:()=>f(m.section_id),onClick:()=>r==null?void 0:r(m),variant:t},m.section_id))}),y.length===0&&d.jsx("div",{style:{padding:32,textAlign:"center",color:"#9ca3af",background:"#f9fafb",borderRadius:8},children:"No content sections available"})]})}function ZP({section:e,isExpanded:t,onToggle:n,onClick:r,variant:i}){const{section_id:o,title:s,description:a,blocks:l=[],sidecar_max_items:u}=e,c=i==="compact"||i==="sidecar",f=i==="sidecar";if(l.length===0)return null;const h=f&&u&&l.length>u?l.slice(0,u):l,p=f&&u&&l.length>u;return d.jsxs("div",{style:{background:"#ffffff",borderRadius:8,border:"1px solid #e5e7eb",overflow:"hidden"},children:[d.jsxs("button",{onClick:n,style:{width:"100%",padding:c?"10px 14px":"14px 18px",background:"#f9fafb",border:"none",borderBottom:t?"1px solid #e5e7eb":"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",textAlign:"left"},children:[d.jsxs("div",{children:[d.jsxs("h3",{style:{margin:0,fontSize:c?13:15,fontWeight:600,color:"#111827"},children:[s,p&&d.jsxs("span",{style:{fontWeight:400,color:"#6b7280",marginLeft:6},children:["(showing ",u," of ",l.length,")"]})]}),a&&!c&&d.jsx("p",{style:{margin:"4px 0 0",fontSize:12,color:"#6b7280"},children:a})]}),d.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{color:"#9ca3af",transform:t?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"},children:d.jsx("path",{d:"M4 6l4 4 4-4"})})]}),t&&d.jsxs("div",{style:{padding:c?12:18},children:[h.map((y,v)=>QP(y,v)),p&&d.jsxs("div",{style:{marginTop:8,padding:"8px 12px",background:"#f3f4f6",borderRadius:4,fontSize:12,color:"#6b7280",textAlign:"center"},children:["+",l.length-u," more in full view"]})]})]})}function JP({title:e,content:t,reason:n}){return d.jsxs("div",{children:[d.jsxs("div",{style:{padding:"12px 16px",background:"#fef3c7",border:"1px solid #fde68a",borderRadius:8,marginBottom:16,fontSize:12,color:"#92400e"},children:["Displaying raw content (reason: ",n||"unknown",")"]}),d.jsx("div",{style:{background:"#f8fafc",borderRadius:8,padding:16,overflow:"auto"},children:d.jsx("pre",{style:{margin:0,fontSize:12,color:"#374151",whiteSpace:"pre-wrap",wordBreak:"break-word",fontFamily:"monospace"},children:JSON.stringify(t,null,2)})})]})}function eM({renderModel:e,projectCode:t,documentName:n,isExpanded:r,onToggleExpand:i,onClose:o,onViewFull:s,nodeWidth:a=280}){const h=r?900:520,p=r?900:600,y=`${t||"DOC"} - ${n||"Document"}`,v=_=>{_.stopPropagation()};return d.jsxs("div",{className:"absolute top-0 tray-slide",style:{left:a+30,width:h,zIndex:1e3,transition:"width 0.2s ease"},onMouseDown:v,onPointerDown:v,children:[d.jsx("div",{className:"absolute",style:{top:40,right:"100%",width:30,height:3,background:"#10b981"}}),d.jsx("div",{className:"absolute rounded-full",style:{top:36,right:"100%",marginRight:26,width:10,height:10,background:"#10b981"}}),d.jsxs("div",{style:{background:"#ffffff",borderRadius:2,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)",minHeight:p,transition:"min-height 0.2s ease",display:"flex",flexDirection:"column"},children:[d.jsx("div",{style:{padding:"24px 32px 16px",borderBottom:"2px solid #10b981",background:"linear-gradient(to bottom, #ffffff, #fafafa)"},children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("div",{style:{fontSize:10,letterSpacing:"0.15em",color:"#10b981",fontWeight:600,marginBottom:4},children:"STABILIZED DOCUMENT"}),d.jsx("h1",{style:{fontSize:20,fontFamily:"Georgia, serif",fontWeight:700,color:"#1a1a1a",margin:0},children:(()=>{const _=(e==null?void 0:e.title)||"DOCUMENT",m=_.indexOf(": ");return(m>-1?_.slice(m+2):_).toUpperCase()})()}),d.jsx("div",{style:{fontSize:11,color:"#666",marginTop:4,fontFamily:"monospace"},children:y})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("button",{onClick:i,title:r?"Contract":"Expand",style:{color:"#666",fontSize:16,lineHeight:1,padding:6,background:"none",border:"1px solid #e5e5e5",borderRadius:4,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:r?d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:d.jsx("path",{d:"M9 1v4h4M5 13v-4H1M9 5L13 1M5 9L1 13"})}):d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:d.jsx("path",{d:"M13 5V1h-4M1 9v4h4M13 1L9 5M1 13l4-4"})})}),d.jsx("button",{onClick:o,title:"Close",style:{color:"#999",fontSize:24,lineHeight:1,padding:4,background:"none",border:"none",cursor:"pointer"},children:""})]})]})}),d.jsx("div",{style:{flex:1,padding:"16px 24px",overflowY:"auto",maxHeight:r?600:400},children:d.jsx(ZE,{renderModel:e,variant:"sidecar"})}),d.jsx("div",{style:{padding:"16px 32px 24px",borderTop:"1px solid #e5e5e5",background:"#fafafa"},children:d.jsxs("button",{onClick:s,style:{width:"100%",padding:"10px 16px",background:"#10b981",color:"white",border:"none",borderRadius:4,fontSize:12,fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:8},children:[d.jsx("span",{children:"View Full Document"}),d.jsx("span",{style:{fontSize:14},children:""})]})})]})]})}function tM({document:e,projectId:t,projectCode:n,nodeWidth:r,onClose:i,onZoomComplete:o,onViewFull:s}){const[a,l]=k.useState(null),[u,c]=k.useState(null),[f,h]=k.useState(!0),[p,y]=k.useState(!1);return k.useEffect(()=>{if(o){const v=setTimeout(()=>o(),150);return()=>clearTimeout(v)}},[o]),k.useEffect(()=>{async function v(){var _;if(!t||!e.id){h(!1);return}try{h(!0);try{const g=await Pe.getDocumentRenderModel(t,e.id);if(g&&g.sections&&g.sections.length>0){l(g),c(null);return}if((_=g==null?void 0:g.metadata)!=null&&_.fallback&&g.raw_content){l(null),c(g.raw_content);return}}catch(g){console.log("RenderModel not available, falling back to raw document:",g.message)}const m=await Pe.getDocument(t,e.id);l(null),c((m==null?void 0:m.content)||null)}catch(m){console.error("Failed to fetch document for sidecar:",m)}finally{h(!1)}}v()},[t,e.id]),f?null:a?d.jsx(eM,{renderModel:a,projectCode:n,documentName:e.name,isExpanded:p,onToggleExpand:()=>y(!p),onClose:i,onViewFull:()=>s==null?void 0:s(e.id),nodeWidth:r}):d.jsx(nM,{document:e,projectCode:n,rawContent:u,nodeWidth:r,isExpanded:p,onToggleExpand:()=>y(!p),onClose:i,onViewFull:()=>s==null?void 0:s(e.id)})}function nM({document:e,projectCode:t,rawContent:n,nodeWidth:r,isExpanded:i,onToggleExpand:o,onClose:s,onViewFull:a}){var _;const h=i?900:520,p=i?900:600,y=`${t||"DOC"} - ${e.name||"Document"}`,v=m=>{m.stopPropagation()};return d.jsxs("div",{className:"absolute top-0 tray-slide",style:{left:r+30,width:h,zIndex:1e3,transition:"width 0.2s ease"},onMouseDown:v,onPointerDown:v,children:[d.jsx("div",{className:"absolute",style:{top:40,right:"100%",width:30,height:3,background:"#10b981"}}),d.jsx("div",{className:"absolute rounded-full",style:{top:36,right:"100%",marginRight:26,width:10,height:10,background:"#10b981"}}),d.jsxs("div",{style:{background:"#ffffff",borderRadius:2,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)",minHeight:p,transition:"min-height 0.2s ease",display:"flex",flexDirection:"column"},children:[d.jsx("div",{style:{padding:"24px 32px 16px",borderBottom:"2px solid #10b981",background:"linear-gradient(to bottom, #ffffff, #fafafa)"},children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("div",{style:{fontSize:10,letterSpacing:"0.15em",color:"#10b981",fontWeight:600,marginBottom:4},children:"PRODUCED DOCUMENT"}),d.jsx("h1",{style:{fontSize:20,fontFamily:"Georgia, serif",fontWeight:700,color:"#1a1a1a",margin:0},children:((_=e.name)==null?void 0:_.toUpperCase())||"DOCUMENT"}),d.jsx("div",{style:{fontSize:11,color:"#666",marginTop:4,fontFamily:"monospace"},children:y})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("button",{onClick:o,title:i?"Contract":"Expand",style:{color:"#666",fontSize:16,lineHeight:1,padding:6,background:"none",border:"1px solid #e5e5e5",borderRadius:4,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:i?d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:d.jsx("path",{d:"M9 1v4h4M5 13v-4H1M9 5L13 1M5 9L1 13"})}):d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:d.jsx("path",{d:"M13 5V1h-4M1 9v4h4M13 1L9 5M1 13l4-4"})})}),d.jsx("button",{onClick:s,title:"Close",style:{color:"#999",fontSize:24,lineHeight:1,padding:4,background:"none",border:"none",cursor:"pointer"},children:""})]})]})}),d.jsxs("div",{style:{flex:1,padding:"16px 24px",overflowY:"auto",maxHeight:i?600:400},children:[d.jsx("div",{style:{padding:"12px 16px",background:"#fef3c7",border:"1px solid #fde68a",borderRadius:8,marginBottom:16,fontSize:12,color:"#92400e"},children:"No view definition configured - displaying raw content"}),d.jsx("div",{style:{background:"#f8fafc",borderRadius:8,padding:16,overflow:"auto"},children:d.jsx("pre",{style:{margin:0,fontSize:11,color:"#374151",whiteSpace:"pre-wrap",wordBreak:"break-word",fontFamily:"monospace",lineHeight:1.5},children:JSON.stringify(n,null,2)})})]}),d.jsx("div",{style:{padding:"16px 32px 24px",borderTop:"1px solid #e5e5e5",background:"#fafafa"},children:d.jsxs("button",{onClick:a,style:{width:"100%",padding:"10px 16px",background:"#10b981",color:"white",border:"none",borderRadius:4,fontSize:12,fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:8},children:[d.jsx("span",{children:"View Full Document"}),d.jsx("span",{style:{fontSize:14},children:""})]})})]})]})}const rM={produced:"Produced",in_production:"In Production",ready_for_production:"Ready",requirements_not_met:"Requirements Not Met",awaiting_operator:"Awaiting Operator",halted:"Halted",stabilized:"Produced",active:"In Production",queued:"Ready",blocked:"Requirements Not Met",ready:"Produced",waiting:"Ready"};function iM({data:e}){var x,S,E;const n=(e.level||1)===1,r=e.isExpanded,i=e.expandType,o=((x=e.questions)==null?void 0:x.length)>0,s=((S=e.features)==null?void 0:S.length)>0,a=(E=e.stations)==null?void 0:E.some(N=>N.needs_input),l=e.state||"ready_for_production",u=["produced","stabilized","ready"].includes(l),c=["in_production","active"].includes(l),f=["requirements_not_met","blocked"].includes(l),h=c&&e.stations,p=c?"node-active":"",y=n?"DOCUMENT":"EPIC",v=n?"subway-node-header-doc":"subway-node-header-epic",_=u?"var(--state-produced-bg, var(--state-stabilized-bg))":c?"var(--state-in-production-bg, var(--state-active-bg))":f?"var(--state-requirements-not-met-bg, var(--state-blocked-bg, var(--state-queued-bg)))":"var(--state-ready-bg, var(--state-queued-bg))",m=u?"var(--state-produced-text, var(--state-stabilized-text))":c?"var(--state-in-production-text, var(--state-active-text))":f?"var(--state-requirements-not-met-text, var(--state-blocked-text, var(--state-queued-text)))":"var(--state-ready-text, var(--state-queued-text))",g=c?"var(--state-in-production-bg, var(--state-active-bg))":u?"var(--state-produced-bg, var(--state-stabilized-bg))":"var(--border-node)",w=rM[l]||l;return d.jsxs("div",{className:"relative",children:[d.jsx(nr,{type:"target",position:X.Top,className:"!opacity-0",style:{left:"15%"}}),d.jsxs("div",{className:`subway-node rounded-lg border ${p} overflow-hidden`,style:{width:e.width,minHeight:e.height,borderColor:g},children:[d.jsxs("div",{className:`${v} border-b px-3 py-1.5 flex items-center justify-between`,children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-[8px] font-bold uppercase tracking-wider",style:{color:n?"var(--header-text-doc)":"var(--header-text-epic)"},children:y}),d.jsx("span",{className:"text-[10px] font-medium",style:{color:"var(--text-primary)"},children:e.name})]}),e.intent==="optional"&&d.jsx("span",{className:"subway-button text-[8px] px-1.5 py-0.5 rounded",children:"OPTIONAL"})]}),d.jsxs("div",{className:"p-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"rounded-full flex-shrink-0",style:{width:n?24:18,height:n?24:18,backgroundColor:_}}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-wide",style:{color:m},children:w}),n&&e.desc&&d.jsx("p",{className:"text-[9px] mt-0.5 truncate",style:{color:"var(--text-muted)"},children:e.desc})]})]}),h&&d.jsx(TP,{stations:e.stations}),d.jsxs("div",{className:"mt-2 flex flex-wrap gap-1.5",children:[n&&u&&d.jsx("button",{className:"px-2 py-1 bg-emerald-500/20 rounded text-[9px] hover:bg-emerald-500/30 transition-colors",style:{color:"var(--action-success)"},onClick:N=>{var C;N.stopPropagation(),(C=e.onExpand)==null||C.call(e,e.id,"document")},children:"View Document"}),a&&o&&!r&&d.jsx("button",{className:"px-2 py-1 bg-amber-500/20 rounded text-[9px] hover:bg-amber-500/30 transition-colors amber-pulse",style:{color:"var(--action-warning)"},onClick:N=>{var C;N.stopPropagation(),(C=e.onExpand)==null||C.call(e,e.id,"questions")},children:"Answer Questions"}),!n&&s&&(r&&i==="features"?d.jsxs("span",{className:"text-[9px] text-indigo-400",children:[e.features.length," features expanded"]}):d.jsxs("button",{className:"subway-button px-2 py-1 rounded text-[9px] transition-colors flex items-center gap-1",onClick:N=>{var C;N.stopPropagation(),(C=e.onExpand)==null||C.call(e,e.id,"features")},children:[d.jsx("span",{className:"text-indigo-400",children:e.features.length}),d.jsx("span",{children:"features"}),d.jsx("span",{className:"text-indigo-400",children:""})]}))]})]})]}),r&&i==="questions"&&o&&d.jsx(RP,{questions:e.questions,nodeWidth:e.width,onSubmit:N=>{var C;return(C=e.onSubmitQuestions)==null?void 0:C.call(e,e.id,N)},onClose:()=>{var N;return(N=e.onCollapse)==null?void 0:N.call(e)},onZoomComplete:()=>{var N;return(N=e.onZoomToNode)==null?void 0:N.call(e,e.id)}}),r&&i==="features"&&s&&d.jsx(IP,{features:e.features,epicName:e.name,nodeWidth:e.width,onClose:()=>{var N;return(N=e.onCollapse)==null?void 0:N.call(e)},onZoomComplete:()=>{var N;return(N=e.onZoomToNode)==null?void 0:N.call(e,e.id)}}),r&&i==="document"&&n&&u&&d.jsx(tM,{document:e,projectId:e.projectId,projectCode:e.projectCode,nodeWidth:e.width,onClose:()=>{var N;return(N=e.onCollapse)==null?void 0:N.call(e)},onZoomComplete:()=>{var N;return(N=e.onZoomToNode)==null?void 0:N.call(e,e.id)},onViewFull:N=>{var C;return(C=e.onViewFullDocument)==null?void 0:C.call(e,N)}}),d.jsx(nr,{type:"source",position:X.Bottom,className:"!opacity-0",style:{left:"15%"}})]})}function oM(){return d.jsxs("div",{style:{width:1,height:1,background:"transparent"},children:[d.jsx(nr,{type:"target",position:X.Top,style:{opacity:0}}),d.jsx(nr,{type:"source",position:X.Bottom,style:{opacity:0}})]})}function sM({projectId:e,projectCode:t,docTypeId:n,onClose:r}){const[i,o]=k.useState(null),[s,a]=k.useState(null),[l,u]=k.useState(!0),[c,f]=k.useState(null);return k.useEffect(()=>{async function h(){var p;try{u(!0),f(null);try{const v=await Pe.getDocumentRenderModel(e,n);if(v&&v.sections&&v.sections.length>0){o(v),a(null);return}if((p=v==null?void 0:v.metadata)!=null&&p.fallback&&v.raw_content){o(null),a(v.raw_content);return}}catch(v){console.log("RenderModel not available, falling back to raw document:",v.message)}const y=await Pe.getDocument(e,n);o(null),a((y==null?void 0:y.content)||null)}catch(y){f(y.message),console.error("Failed to fetch document:",y)}finally{u(!1)}}h()},[e,n]),k.useEffect(()=>{const h=p=>{p.key==="Escape"&&r()};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[r]),l?d.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center",style:{background:"rgba(0,0,0,0.8)"},children:d.jsx("div",{style:{color:"white",fontSize:14},children:"Loading..."})}):d.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center",style:{background:"rgba(0,0,0,0.8)"},onClick:h=>h.target===h.currentTarget&&r(),children:d.jsxs("div",{className:"relative w-full max-w-4xl max-h-[90vh] overflow-hidden rounded-lg shadow-2xl",style:{background:"#ffffff"},children:[d.jsxs("div",{className:"sticky top-0 px-6 py-4 border-b flex items-center justify-between",style:{background:"#f8fafc",borderColor:"#e2e8f0"},children:[d.jsx("div",{children:t&&d.jsx("div",{style:{display:"inline-block",padding:"2px 8px",background:"#10b981",color:"white",fontSize:11,fontWeight:600,borderRadius:4,letterSpacing:"0.05em"},children:t})}),d.jsx("button",{onClick:r,className:"p-2 rounded-lg hover:bg-gray-200 transition-colors",children:d.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),d.jsxs("div",{className:"overflow-y-auto p-6",style:{maxHeight:"calc(90vh - 80px)"},children:[c&&d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-red-500",children:c})}),i&&d.jsx(ZE,{renderModel:i,variant:"full"}),s&&!i&&d.jsx(aM,{content:s,docTypeId:n}),!i&&!s&&!c&&d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-500",children:"No content available"})})]})]})})}function aM({content:e,docTypeId:t}){if(!e)return d.jsx("p",{className:"text-gray-500",children:"No content available"});const n=e.project_name||e.title||e.name,r=e.description||e.summary||e.preliminary_summary;return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{style:{padding:"12px 16px",background:"#fef3c7",border:"1px solid #fde68a",borderRadius:8,fontSize:13,color:"#92400e"},children:["No view definition configured for ",d.jsx("strong",{children:t})," - displaying raw content"]}),(n||r)&&d.jsxs("div",{style:{padding:16,background:"#f8fafc",borderRadius:8,border:"1px solid #e2e8f0"},children:[n&&d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:n}),r&&d.jsx("p",{className:"text-gray-700 text-sm",children:r})]}),d.jsx("div",{style:{background:"#f8fafc",borderRadius:8,padding:16,overflow:"auto"},children:d.jsx("pre",{style:{margin:0,fontSize:12,color:"#374151",whiteSpace:"pre-wrap",wordBreak:"break-word",fontFamily:"monospace",lineHeight:1.6},children:JSON.stringify(e,null,2)})})]})}function Tg(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var cu,t0;function lM(){if(t0)return cu;t0=1;function e(){this.__data__=[],this.size=0}return cu=e,cu}var du,n0;function ki(){if(n0)return du;n0=1;function e(t,n){return t===n||t!==t&&n!==n}return du=e,du}var fu,r0;function il(){if(r0)return fu;r0=1;var e=ki();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return fu=t,fu}var hu,i0;function uM(){if(i0)return hu;i0=1;var e=il(),t=Array.prototype,n=t.splice;function r(i){var o=this.__data__,s=e(o,i);if(s<0)return!1;var a=o.length-1;return s==a?o.pop():n.call(o,s,1),--this.size,!0}return hu=r,hu}var pu,o0;function cM(){if(o0)return pu;o0=1;var e=il();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return pu=t,pu}var mu,s0;function dM(){if(s0)return mu;s0=1;var e=il();function t(n){return e(this.__data__,n)>-1}return mu=t,mu}var gu,a0;function fM(){if(a0)return gu;a0=1;var e=il();function t(n,r){var i=this.__data__,o=e(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return gu=t,gu}var vu,l0;function ol(){if(l0)return vu;l0=1;var e=lM(),t=uM(),n=cM(),r=dM(),i=fM();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,vu=o,vu}var yu,u0;function hM(){if(u0)return yu;u0=1;var e=ol();function t(){this.__data__=new e,this.size=0}return yu=t,yu}var xu,c0;function pM(){if(c0)return xu;c0=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return xu=e,xu}var wu,d0;function mM(){if(d0)return wu;d0=1;function e(t){return this.__data__.get(t)}return wu=e,wu}var _u,f0;function gM(){if(f0)return _u;f0=1;function e(t){return this.__data__.has(t)}return _u=e,_u}var bu,h0;function JE(){if(h0)return bu;h0=1;var e=typeof ts=="object"&&ts&&ts.Object===Object&&ts;return bu=e,bu}var Su,p0;function Vt(){if(p0)return Su;p0=1;var e=JE(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return Su=n,Su}var Eu,m0;function Ni(){if(m0)return Eu;m0=1;var e=Vt(),t=e.Symbol;return Eu=t,Eu}var ku,g0;function vM(){if(g0)return ku;g0=1;var e=Ni(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function o(s){var a=n.call(s,i),l=s[i];try{s[i]=void 0;var u=!0}catch{}var c=r.call(s);return u&&(a?s[i]=l:delete s[i]),c}return ku=o,ku}var Nu,v0;function yM(){if(v0)return Nu;v0=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return Nu=n,Nu}var ju,y0;function Mr(){if(y0)return ju;y0=1;var e=Ni(),t=vM(),n=yM(),r="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function s(a){return a==null?a===void 0?i:r:o&&o in Object(a)?t(a):n(a)}return ju=s,ju}var Cu,x0;function It(){if(x0)return Cu;x0=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Cu=e,Cu}var Tu,w0;function Yo(){if(w0)return Tu;w0=1;var e=Mr(),t=It(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function s(a){if(!t(a))return!1;var l=e(a);return l==r||l==i||l==n||l==o}return Tu=s,Tu}var Ru,_0;function xM(){if(_0)return Ru;_0=1;var e=Vt(),t=e["__core-js_shared__"];return Ru=t,Ru}var Iu,b0;function wM(){if(b0)return Iu;b0=1;var e=xM(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return Iu=n,Iu}var Pu,S0;function ek(){if(S0)return Pu;S0=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return Pu=n,Pu}var Mu,E0;function _M(){if(E0)return Mu;E0=1;var e=Yo(),t=wM(),n=It(),r=ek(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,s=Function.prototype,a=Object.prototype,l=s.toString,u=a.hasOwnProperty,c=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(h){if(!n(h)||t(h))return!1;var p=e(h)?c:o;return p.test(r(h))}return Mu=f,Mu}var Au,k0;function bM(){if(k0)return Au;k0=1;function e(t,n){return t==null?void 0:t[n]}return Au=e,Au}var Ou,N0;function Ar(){if(N0)return Ou;N0=1;var e=_M(),t=bM();function n(r,i){var o=t(r,i);return e(o)?o:void 0}return Ou=n,Ou}var Lu,j0;function Rg(){if(j0)return Lu;j0=1;var e=Ar(),t=Vt(),n=e(t,"Map");return Lu=n,Lu}var qu,C0;function sl(){if(C0)return qu;C0=1;var e=Ar(),t=e(Object,"create");return qu=t,qu}var zu,T0;function SM(){if(T0)return zu;T0=1;var e=sl();function t(){this.__data__=e?e(null):{},this.size=0}return zu=t,zu}var Du,R0;function EM(){if(R0)return Du;R0=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return Du=e,Du}var Fu,I0;function kM(){if(I0)return Fu;I0=1;var e=sl(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var s=this.__data__;if(e){var a=s[o];return a===t?void 0:a}return r.call(s,o)?s[o]:void 0}return Fu=i,Fu}var $u,P0;function NM(){if(P0)return $u;P0=1;var e=sl(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var o=this.__data__;return e?o[i]!==void 0:n.call(o,i)}return $u=r,$u}var Bu,M0;function jM(){if(M0)return Bu;M0=1;var e=sl(),t="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=e&&i===void 0?t:i,this}return Bu=n,Bu}var Hu,A0;function CM(){if(A0)return Hu;A0=1;var e=SM(),t=EM(),n=kM(),r=NM(),i=jM();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Hu=o,Hu}var Uu,O0;function TM(){if(O0)return Uu;O0=1;var e=CM(),t=ol(),n=Rg();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return Uu=r,Uu}var Vu,L0;function RM(){if(L0)return Vu;L0=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return Vu=e,Vu}var Wu,q0;function al(){if(q0)return Wu;q0=1;var e=RM();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Wu=t,Wu}var Gu,z0;function IM(){if(z0)return Gu;z0=1;var e=al();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return Gu=t,Gu}var Ku,D0;function PM(){if(D0)return Ku;D0=1;var e=al();function t(n){return e(this,n).get(n)}return Ku=t,Ku}var Yu,F0;function MM(){if(F0)return Yu;F0=1;var e=al();function t(n){return e(this,n).has(n)}return Yu=t,Yu}var Xu,$0;function AM(){if($0)return Xu;$0=1;var e=al();function t(n,r){var i=e(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return Xu=t,Xu}var Qu,B0;function Ig(){if(B0)return Qu;B0=1;var e=TM(),t=IM(),n=PM(),r=MM(),i=AM();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Qu=o,Qu}var Zu,H0;function OM(){if(H0)return Zu;H0=1;var e=ol(),t=Rg(),n=Ig(),r=200;function i(o,s){var a=this.__data__;if(a instanceof e){var l=a.__data__;if(!t||l.length<r-1)return l.push([o,s]),this.size=++a.size,this;a=this.__data__=new n(l)}return a.set(o,s),this.size=a.size,this}return Zu=i,Zu}var Ju,U0;function ll(){if(U0)return Ju;U0=1;var e=ol(),t=hM(),n=pM(),r=mM(),i=gM(),o=OM();function s(a){var l=this.__data__=new e(a);this.size=l.size}return s.prototype.clear=t,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=o,Ju=s,Ju}var ec,V0;function Pg(){if(V0)return ec;V0=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i&&n(t[r],r,t)!==!1;);return t}return ec=e,ec}var tc,W0;function tk(){if(W0)return tc;W0=1;var e=Ar(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return tc=t,tc}var nc,G0;function ul(){if(G0)return nc;G0=1;var e=tk();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return nc=t,nc}var rc,K0;function cl(){if(K0)return rc;K0=1;var e=ul(),t=ki(),n=Object.prototype,r=n.hasOwnProperty;function i(o,s,a){var l=o[s];(!(r.call(o,s)&&t(l,a))||a===void 0&&!(s in o))&&e(o,s,a)}return rc=i,rc}var ic,Y0;function Xo(){if(Y0)return ic;Y0=1;var e=cl(),t=ul();function n(r,i,o,s){var a=!o;o||(o={});for(var l=-1,u=i.length;++l<u;){var c=i[l],f=s?s(o[c],r[c],c,o,r):void 0;f===void 0&&(f=r[c]),a?t(o,c,f):e(o,c,f)}return o}return ic=n,ic}var oc,X0;function LM(){if(X0)return oc;X0=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return oc=e,oc}var sc,Q0;function rn(){if(Q0)return sc;Q0=1;function e(t){return t!=null&&typeof t=="object"}return sc=e,sc}var ac,Z0;function qM(){if(Z0)return ac;Z0=1;var e=Mr(),t=rn(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return ac=r,ac}var lc,J0;function Qo(){if(J0)return lc;J0=1;var e=qM(),t=rn(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=e(function(){return arguments}())?e:function(s){return t(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return lc=o,lc}var uc,ex;function Oe(){if(ex)return uc;ex=1;var e=Array.isArray;return uc=e,uc}var Zi={exports:{}},cc,tx;function zM(){if(tx)return cc;tx=1;function e(){return!1}return cc=e,cc}Zi.exports;var nx;function ji(){return nx||(nx=1,function(e,t){var n=Vt(),r=zM(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;e.exports=u}(Zi,Zi.exports)),Zi.exports}var dc,rx;function dl(){if(rx)return dc;rx=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??e,!!i&&(o=="number"||o!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return dc=n,dc}var fc,ix;function Mg(){if(ix)return fc;ix=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return fc=t,fc}var hc,ox;function DM(){if(ox)return hc;ox=1;var e=Mr(),t=Mg(),n=rn(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",s="[object Date]",a="[object Error]",l="[object Function]",u="[object Map]",c="[object Number]",f="[object Object]",h="[object RegExp]",p="[object Set]",y="[object String]",v="[object WeakMap]",_="[object ArrayBuffer]",m="[object DataView]",g="[object Float32Array]",w="[object Float64Array]",x="[object Int8Array]",S="[object Int16Array]",E="[object Int32Array]",N="[object Uint8Array]",C="[object Uint8ClampedArray]",R="[object Uint16Array]",O="[object Uint32Array]",L={};L[g]=L[w]=L[x]=L[S]=L[E]=L[N]=L[C]=L[R]=L[O]=!0,L[r]=L[i]=L[_]=L[o]=L[m]=L[s]=L[a]=L[l]=L[u]=L[c]=L[f]=L[h]=L[p]=L[y]=L[v]=!1;function F(q){return n(q)&&t(q.length)&&!!L[e(q)]}return hc=F,hc}var pc,sx;function fl(){if(sx)return pc;sx=1;function e(t){return function(n){return t(n)}}return pc=e,pc}var Ji={exports:{}};Ji.exports;var ax;function Ag(){return ax||(ax=1,function(e,t){var n=JE(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=a}(Ji,Ji.exports)),Ji.exports}var mc,lx;function Zo(){if(lx)return mc;lx=1;var e=DM(),t=fl(),n=Ag(),r=n&&n.isTypedArray,i=r?t(r):e;return mc=i,mc}var gc,ux;function nk(){if(ux)return gc;ux=1;var e=LM(),t=Qo(),n=Oe(),r=ji(),i=dl(),o=Zo(),s=Object.prototype,a=s.hasOwnProperty;function l(u,c){var f=n(u),h=!f&&t(u),p=!f&&!h&&r(u),y=!f&&!h&&!p&&o(u),v=f||h||p||y,_=v?e(u.length,String):[],m=_.length;for(var g in u)(c||a.call(u,g))&&!(v&&(g=="length"||p&&(g=="offset"||g=="parent")||y&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||i(g,m)))&&_.push(g);return _}return gc=l,gc}var vc,cx;function hl(){if(cx)return vc;cx=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return vc=t,vc}var yc,dx;function rk(){if(dx)return yc;dx=1;function e(t,n){return function(r){return t(n(r))}}return yc=e,yc}var xc,fx;function FM(){if(fx)return xc;fx=1;var e=rk(),t=e(Object.keys,Object);return xc=t,xc}var wc,hx;function Og(){if(hx)return wc;hx=1;var e=hl(),t=FM(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!e(o))return t(o);var s=[];for(var a in Object(o))r.call(o,a)&&a!="constructor"&&s.push(a);return s}return wc=i,wc}var _c,px;function jn(){if(px)return _c;px=1;var e=Yo(),t=Mg();function n(r){return r!=null&&t(r.length)&&!e(r)}return _c=n,_c}var bc,mx;function ar(){if(mx)return bc;mx=1;var e=nk(),t=Og(),n=jn();function r(i){return n(i)?e(i):t(i)}return bc=r,bc}var Sc,gx;function $M(){if(gx)return Sc;gx=1;var e=Xo(),t=ar();function n(r,i){return r&&e(i,t(i),r)}return Sc=n,Sc}var Ec,vx;function BM(){if(vx)return Ec;vx=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return Ec=e,Ec}var kc,yx;function HM(){if(yx)return kc;yx=1;var e=It(),t=hl(),n=BM(),r=Object.prototype,i=r.hasOwnProperty;function o(s){if(!e(s))return n(s);var a=t(s),l=[];for(var u in s)u=="constructor"&&(a||!i.call(s,u))||l.push(u);return l}return kc=o,kc}var Nc,xx;function Or(){if(xx)return Nc;xx=1;var e=nk(),t=HM(),n=jn();function r(i){return n(i)?e(i,!0):t(i)}return Nc=r,Nc}var jc,wx;function UM(){if(wx)return jc;wx=1;var e=Xo(),t=Or();function n(r,i){return r&&e(i,t(i),r)}return jc=n,jc}var eo={exports:{}};eo.exports;var _x;function ik(){return _x||(_x=1,function(e,t){var n=Vt(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var f=u.length,h=a?a(f):new u.constructor(f);return u.copy(h),h}e.exports=l}(eo,eo.exports)),eo.exports}var Cc,bx;function ok(){if(bx)return Cc;bx=1;function e(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}return Cc=e,Cc}var Tc,Sx;function sk(){if(Sx)return Tc;Sx=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=0,s=[];++r<i;){var a=t[r];n(a,r,t)&&(s[o++]=a)}return s}return Tc=e,Tc}var Rc,Ex;function ak(){if(Ex)return Rc;Ex=1;function e(){return[]}return Rc=e,Rc}var Ic,kx;function Lg(){if(kx)return Ic;kx=1;var e=sk(),t=ak(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(s){return s==null?[]:(s=Object(s),e(i(s),function(a){return r.call(s,a)}))}:t;return Ic=o,Ic}var Pc,Nx;function VM(){if(Nx)return Pc;Nx=1;var e=Xo(),t=Lg();function n(r,i){return e(r,t(r),i)}return Pc=n,Pc}var Mc,jx;function qg(){if(jx)return Mc;jx=1;function e(t,n){for(var r=-1,i=n.length,o=t.length;++r<i;)t[o+r]=n[r];return t}return Mc=e,Mc}var Ac,Cx;function pl(){if(Cx)return Ac;Cx=1;var e=rk(),t=e(Object.getPrototypeOf,Object);return Ac=t,Ac}var Oc,Tx;function lk(){if(Tx)return Oc;Tx=1;var e=qg(),t=pl(),n=Lg(),r=ak(),i=Object.getOwnPropertySymbols,o=i?function(s){for(var a=[];s;)e(a,n(s)),s=t(s);return a}:r;return Oc=o,Oc}var Lc,Rx;function WM(){if(Rx)return Lc;Rx=1;var e=Xo(),t=lk();function n(r,i){return e(r,t(r),i)}return Lc=n,Lc}var qc,Ix;function uk(){if(Ix)return qc;Ix=1;var e=qg(),t=Oe();function n(r,i,o){var s=i(r);return t(r)?s:e(s,o(r))}return qc=n,qc}var zc,Px;function ck(){if(Px)return zc;Px=1;var e=uk(),t=Lg(),n=ar();function r(i){return e(i,n,t)}return zc=r,zc}var Dc,Mx;function GM(){if(Mx)return Dc;Mx=1;var e=uk(),t=lk(),n=Or();function r(i){return e(i,n,t)}return Dc=r,Dc}var Fc,Ax;function KM(){if(Ax)return Fc;Ax=1;var e=Ar(),t=Vt(),n=e(t,"DataView");return Fc=n,Fc}var $c,Ox;function YM(){if(Ox)return $c;Ox=1;var e=Ar(),t=Vt(),n=e(t,"Promise");return $c=n,$c}var Bc,Lx;function dk(){if(Lx)return Bc;Lx=1;var e=Ar(),t=Vt(),n=e(t,"Set");return Bc=n,Bc}var Hc,qx;function XM(){if(qx)return Hc;qx=1;var e=Ar(),t=Vt(),n=e(t,"WeakMap");return Hc=n,Hc}var Uc,zx;function Ci(){if(zx)return Uc;zx=1;var e=KM(),t=Rg(),n=YM(),r=dk(),i=XM(),o=Mr(),s=ek(),a="[object Map]",l="[object Object]",u="[object Promise]",c="[object Set]",f="[object WeakMap]",h="[object DataView]",p=s(e),y=s(t),v=s(n),_=s(r),m=s(i),g=o;return(e&&g(new e(new ArrayBuffer(1)))!=h||t&&g(new t)!=a||n&&g(n.resolve())!=u||r&&g(new r)!=c||i&&g(new i)!=f)&&(g=function(w){var x=o(w),S=x==l?w.constructor:void 0,E=S?s(S):"";if(E)switch(E){case p:return h;case y:return a;case v:return u;case _:return c;case m:return f}return x}),Uc=g,Uc}var Vc,Dx;function QM(){if(Dx)return Vc;Dx=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var i=r.length,o=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(o.index=r.index,o.input=r.input),o}return Vc=n,Vc}var Wc,Fx;function fk(){if(Fx)return Wc;Fx=1;var e=Vt(),t=e.Uint8Array;return Wc=t,Wc}var Gc,$x;function zg(){if($x)return Gc;$x=1;var e=fk();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return Gc=t,Gc}var Kc,Bx;function ZM(){if(Bx)return Kc;Bx=1;var e=zg();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return Kc=t,Kc}var Yc,Hx;function JM(){if(Hx)return Yc;Hx=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return Yc=t,Yc}var Xc,Ux;function eA(){if(Ux)return Xc;Ux=1;var e=Ni(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return Xc=r,Xc}var Qc,Vx;function hk(){if(Vx)return Qc;Vx=1;var e=zg();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return Qc=t,Qc}var Zc,Wx;function tA(){if(Wx)return Zc;Wx=1;var e=zg(),t=ZM(),n=JM(),r=eA(),i=hk(),o="[object Boolean]",s="[object Date]",a="[object Map]",l="[object Number]",u="[object RegExp]",c="[object Set]",f="[object String]",h="[object Symbol]",p="[object ArrayBuffer]",y="[object DataView]",v="[object Float32Array]",_="[object Float64Array]",m="[object Int8Array]",g="[object Int16Array]",w="[object Int32Array]",x="[object Uint8Array]",S="[object Uint8ClampedArray]",E="[object Uint16Array]",N="[object Uint32Array]";function C(R,O,L){var F=R.constructor;switch(O){case p:return e(R);case o:case s:return new F(+R);case y:return t(R,L);case v:case _:case m:case g:case w:case x:case S:case E:case N:return i(R,L);case a:return new F;case l:case f:return new F(R);case u:return n(R);case c:return new F;case h:return r(R)}}return Zc=C,Zc}var Jc,Gx;function pk(){if(Gx)return Jc;Gx=1;var e=It(),t=Object.create,n=function(){function r(){}return function(i){if(!e(i))return{};if(t)return t(i);r.prototype=i;var o=new r;return r.prototype=void 0,o}}();return Jc=n,Jc}var ed,Kx;function mk(){if(Kx)return ed;Kx=1;var e=pk(),t=pl(),n=hl();function r(i){return typeof i.constructor=="function"&&!n(i)?e(t(i)):{}}return ed=r,ed}var td,Yx;function nA(){if(Yx)return td;Yx=1;var e=Ci(),t=rn(),n="[object Map]";function r(i){return t(i)&&e(i)==n}return td=r,td}var nd,Xx;function rA(){if(Xx)return nd;Xx=1;var e=nA(),t=fl(),n=Ag(),r=n&&n.isMap,i=r?t(r):e;return nd=i,nd}var rd,Qx;function iA(){if(Qx)return rd;Qx=1;var e=Ci(),t=rn(),n="[object Set]";function r(i){return t(i)&&e(i)==n}return rd=r,rd}var id,Zx;function oA(){if(Zx)return id;Zx=1;var e=iA(),t=fl(),n=Ag(),r=n&&n.isSet,i=r?t(r):e;return id=i,id}var od,Jx;function gk(){if(Jx)return od;Jx=1;var e=ll(),t=Pg(),n=cl(),r=$M(),i=UM(),o=ik(),s=ok(),a=VM(),l=WM(),u=ck(),c=GM(),f=Ci(),h=QM(),p=tA(),y=mk(),v=Oe(),_=ji(),m=rA(),g=It(),w=oA(),x=ar(),S=Or(),E=1,N=2,C=4,R="[object Arguments]",O="[object Array]",L="[object Boolean]",F="[object Date]",q="[object Error]",b="[object Function]",P="[object GeneratorFunction]",T="[object Map]",z="[object Number]",I="[object Object]",j="[object RegExp]",A="[object Set]",M="[object String]",D="[object Symbol]",B="[object WeakMap]",U="[object ArrayBuffer]",K="[object DataView]",Q="[object Float32Array]",Z="[object Float64Array]",ae="[object Int8Array]",re="[object Int16Array]",ie="[object Int32Array]",Re="[object Uint8Array]",ve="[object Uint8ClampedArray]",Le="[object Uint16Array]",Me="[object Uint32Array]",V={};V[R]=V[O]=V[U]=V[K]=V[L]=V[F]=V[Q]=V[Z]=V[ae]=V[re]=V[ie]=V[T]=V[z]=V[I]=V[j]=V[A]=V[M]=V[D]=V[Re]=V[ve]=V[Le]=V[Me]=!0,V[q]=V[b]=V[B]=!1;function oe(G,W,ce,qe,be,pe){var ye,je=W&E,Mt=W&N,on=W&C;if(ce&&(ye=be?ce(G,qe,be,pe):ce(G)),ye!==void 0)return ye;if(!g(G))return G;var Gt=v(G);if(Gt){if(ye=h(G),!je)return s(G,ye)}else{var pt=f(G),sn=pt==b||pt==P;if(_(G))return o(G,je);if(pt==I||pt==R||sn&&!be){if(ye=Mt||sn?{}:y(G),!je)return Mt?l(G,i(ye,G)):a(G,r(ye,G))}else{if(!V[pt])return be?G:{};ye=p(G,pt,je)}}pe||(pe=new e);var Tn=pe.get(G);if(Tn)return Tn;pe.set(G,ye),w(G)?G.forEach(function(Ke){ye.add(oe(Ke,W,ce,Ke,G,pe))}):m(G)&&G.forEach(function(Ke,et){ye.set(et,oe(Ke,W,ce,et,G,pe))});var Fe=on?Mt?c:u:Mt?S:x,ot=Gt?void 0:Fe(G);return t(ot||G,function(Ke,et){ot&&(et=Ke,Ke=G[et]),n(ye,et,oe(Ke,W,ce,et,G,pe))}),ye}return od=oe,od}var sd,e1;function sA(){if(e1)return sd;e1=1;var e=gk(),t=4;function n(r){return e(r,t)}return sd=n,sd}var ad,t1;function Dg(){if(t1)return ad;t1=1;function e(t){return function(){return t}}return ad=e,ad}var ld,n1;function aA(){if(n1)return ld;n1=1;function e(t){return function(n,r,i){for(var o=-1,s=Object(n),a=i(n),l=a.length;l--;){var u=a[t?l:++o];if(r(s[u],u,s)===!1)break}return n}}return ld=e,ld}var ud,r1;function Fg(){if(r1)return ud;r1=1;var e=aA(),t=e();return ud=t,ud}var cd,i1;function $g(){if(i1)return cd;i1=1;var e=Fg(),t=ar();function n(r,i){return r&&e(r,i,t)}return cd=n,cd}var dd,o1;function lA(){if(o1)return dd;o1=1;var e=jn();function t(n,r){return function(i,o){if(i==null)return i;if(!e(i))return n(i,o);for(var s=i.length,a=r?s:-1,l=Object(i);(r?a--:++a<s)&&o(l[a],a,l)!==!1;);return i}}return dd=t,dd}var fd,s1;function ml(){if(s1)return fd;s1=1;var e=$g(),t=lA(),n=t(e);return fd=n,fd}var hd,a1;function Lr(){if(a1)return hd;a1=1;function e(t){return t}return hd=e,hd}var pd,l1;function vk(){if(l1)return pd;l1=1;var e=Lr();function t(n){return typeof n=="function"?n:e}return pd=t,pd}var md,u1;function yk(){if(u1)return md;u1=1;var e=Pg(),t=ml(),n=vk(),r=Oe();function i(o,s){var a=r(o)?e:t;return a(o,n(s))}return md=i,md}var gd,c1;function xk(){return c1||(c1=1,gd=yk()),gd}var vd,d1;function uA(){if(d1)return vd;d1=1;var e=ml();function t(n,r){var i=[];return e(n,function(o,s,a){r(o,s,a)&&i.push(o)}),i}return vd=t,vd}var yd,f1;function cA(){if(f1)return yd;f1=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return yd=t,yd}var xd,h1;function dA(){if(h1)return xd;h1=1;function e(t){return this.__data__.has(t)}return xd=e,xd}var wd,p1;function wk(){if(p1)return wd;p1=1;var e=Ig(),t=cA(),n=dA();function r(i){var o=-1,s=i==null?0:i.length;for(this.__data__=new e;++o<s;)this.add(i[o])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,wd=r,wd}var _d,m1;function fA(){if(m1)return _d;m1=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return _d=e,_d}var bd,g1;function _k(){if(g1)return bd;g1=1;function e(t,n){return t.has(n)}return bd=e,bd}var Sd,v1;function bk(){if(v1)return Sd;v1=1;var e=wk(),t=fA(),n=_k(),r=1,i=2;function o(s,a,l,u,c,f){var h=l&r,p=s.length,y=a.length;if(p!=y&&!(h&&y>p))return!1;var v=f.get(s),_=f.get(a);if(v&&_)return v==a&&_==s;var m=-1,g=!0,w=l&i?new e:void 0;for(f.set(s,a),f.set(a,s);++m<p;){var x=s[m],S=a[m];if(u)var E=h?u(S,x,m,a,s,f):u(x,S,m,s,a,f);if(E!==void 0){if(E)continue;g=!1;break}if(w){if(!t(a,function(N,C){if(!n(w,C)&&(x===N||c(x,N,l,u,f)))return w.push(C)})){g=!1;break}}else if(!(x===S||c(x,S,l,u,f))){g=!1;break}}return f.delete(s),f.delete(a),g}return Sd=o,Sd}var Ed,y1;function hA(){if(y1)return Ed;y1=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,o){r[++n]=[o,i]}),r}return Ed=e,Ed}var kd,x1;function Bg(){if(x1)return kd;x1=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return kd=e,kd}var Nd,w1;function pA(){if(w1)return Nd;w1=1;var e=Ni(),t=fk(),n=ki(),r=bk(),i=hA(),o=Bg(),s=1,a=2,l="[object Boolean]",u="[object Date]",c="[object Error]",f="[object Map]",h="[object Number]",p="[object RegExp]",y="[object Set]",v="[object String]",_="[object Symbol]",m="[object ArrayBuffer]",g="[object DataView]",w=e?e.prototype:void 0,x=w?w.valueOf:void 0;function S(E,N,C,R,O,L,F){switch(C){case g:if(E.byteLength!=N.byteLength||E.byteOffset!=N.byteOffset)return!1;E=E.buffer,N=N.buffer;case m:return!(E.byteLength!=N.byteLength||!L(new t(E),new t(N)));case l:case u:case h:return n(+E,+N);case c:return E.name==N.name&&E.message==N.message;case p:case v:return E==N+"";case f:var q=i;case y:var b=R&s;if(q||(q=o),E.size!=N.size&&!b)return!1;var P=F.get(E);if(P)return P==N;R|=a,F.set(E,N);var T=r(q(E),q(N),R,O,L,F);return F.delete(E),T;case _:if(x)return x.call(E)==x.call(N)}return!1}return Nd=S,Nd}var jd,_1;function mA(){if(_1)return jd;_1=1;var e=ck(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,s,a,l,u,c){var f=a&t,h=e(o),p=h.length,y=e(s),v=y.length;if(p!=v&&!f)return!1;for(var _=p;_--;){var m=h[_];if(!(f?m in s:r.call(s,m)))return!1}var g=c.get(o),w=c.get(s);if(g&&w)return g==s&&w==o;var x=!0;c.set(o,s),c.set(s,o);for(var S=f;++_<p;){m=h[_];var E=o[m],N=s[m];if(l)var C=f?l(N,E,m,s,o,c):l(E,N,m,o,s,c);if(!(C===void 0?E===N||u(E,N,a,l,c):C)){x=!1;break}S||(S=m=="constructor")}if(x&&!S){var R=o.constructor,O=s.constructor;R!=O&&"constructor"in o&&"constructor"in s&&!(typeof R=="function"&&R instanceof R&&typeof O=="function"&&O instanceof O)&&(x=!1)}return c.delete(o),c.delete(s),x}return jd=i,jd}var Cd,b1;function gA(){if(b1)return Cd;b1=1;var e=ll(),t=bk(),n=pA(),r=mA(),i=Ci(),o=Oe(),s=ji(),a=Zo(),l=1,u="[object Arguments]",c="[object Array]",f="[object Object]",h=Object.prototype,p=h.hasOwnProperty;function y(v,_,m,g,w,x){var S=o(v),E=o(_),N=S?c:i(v),C=E?c:i(_);N=N==u?f:N,C=C==u?f:C;var R=N==f,O=C==f,L=N==C;if(L&&s(v)){if(!s(_))return!1;S=!0,R=!1}if(L&&!R)return x||(x=new e),S||a(v)?t(v,_,m,g,w,x):n(v,_,N,m,g,w,x);if(!(m&l)){var F=R&&p.call(v,"__wrapped__"),q=O&&p.call(_,"__wrapped__");if(F||q){var b=F?v.value():v,P=q?_.value():_;return x||(x=new e),w(b,P,m,g,x)}}return L?(x||(x=new e),r(v,_,m,g,w,x)):!1}return Cd=y,Cd}var Td,S1;function Sk(){if(S1)return Td;S1=1;var e=gA(),t=rn();function n(r,i,o,s,a){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,o,s,n,a)}return Td=n,Td}var Rd,E1;function vA(){if(E1)return Rd;E1=1;var e=ll(),t=Sk(),n=1,r=2;function i(o,s,a,l){var u=a.length,c=u,f=!l;if(o==null)return!c;for(o=Object(o);u--;){var h=a[u];if(f&&h[2]?h[1]!==o[h[0]]:!(h[0]in o))return!1}for(;++u<c;){h=a[u];var p=h[0],y=o[p],v=h[1];if(f&&h[2]){if(y===void 0&&!(p in o))return!1}else{var _=new e;if(l)var m=l(y,v,p,o,s,_);if(!(m===void 0?t(v,y,n|r,l,_):m))return!1}}return!0}return Rd=i,Rd}var Id,k1;function Ek(){if(k1)return Id;k1=1;var e=It();function t(n){return n===n&&!e(n)}return Id=t,Id}var Pd,N1;function yA(){if(N1)return Pd;N1=1;var e=Ek(),t=ar();function n(r){for(var i=t(r),o=i.length;o--;){var s=i[o],a=r[s];i[o]=[s,a,e(a)]}return i}return Pd=n,Pd}var Md,j1;function kk(){if(j1)return Md;j1=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return Md=e,Md}var Ad,C1;function xA(){if(C1)return Ad;C1=1;var e=vA(),t=yA(),n=kk();function r(i){var o=t(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(s){return s===i||e(s,i,o)}}return Ad=r,Ad}var Od,T1;function Ti(){if(T1)return Od;T1=1;var e=Mr(),t=rn(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return Od=r,Od}var Ld,R1;function Hg(){if(R1)return Ld;R1=1;var e=Oe(),t=Ti(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){if(e(o))return!1;var a=typeof o;return a=="number"||a=="symbol"||a=="boolean"||o==null||t(o)?!0:r.test(o)||!n.test(o)||s!=null&&o in Object(s)}return Ld=i,Ld}var qd,I1;function wA(){if(I1)return qd;I1=1;var e=Ig(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var o=function(){var s=arguments,a=i?i.apply(this,s):s[0],l=o.cache;if(l.has(a))return l.get(a);var u=r.apply(this,s);return o.cache=l.set(a,u)||l,u};return o.cache=new(n.Cache||e),o}return n.Cache=e,qd=n,qd}var zd,P1;function _A(){if(P1)return zd;P1=1;var e=wA(),t=500;function n(r){var i=e(r,function(s){return o.size===t&&o.clear(),s}),o=i.cache;return i}return zd=n,zd}var Dd,M1;function bA(){if(M1)return Dd;M1=1;var e=_A(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(t,function(s,a,l,u){o.push(l?u.replace(n,"$1"):a||s)}),o});return Dd=r,Dd}var Fd,A1;function gl(){if(A1)return Fd;A1=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=Array(i);++r<i;)o[r]=n(t[r],r,t);return o}return Fd=e,Fd}var $d,O1;function SA(){if(O1)return $d;O1=1;var e=Ni(),t=gl(),n=Oe(),r=Ti(),i=e?e.prototype:void 0,o=i?i.toString:void 0;function s(a){if(typeof a=="string")return a;if(n(a))return t(a,s)+"";if(r(a))return o?o.call(a):"";var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}return $d=s,$d}var Bd,L1;function Nk(){if(L1)return Bd;L1=1;var e=SA();function t(n){return n==null?"":e(n)}return Bd=t,Bd}var Hd,q1;function vl(){if(q1)return Hd;q1=1;var e=Oe(),t=Hg(),n=bA(),r=Nk();function i(o,s){return e(o)?o:t(o,s)?[o]:n(r(o))}return Hd=i,Hd}var Ud,z1;function Jo(){if(z1)return Ud;z1=1;var e=Ti();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Ud=t,Ud}var Vd,D1;function yl(){if(D1)return Vd;D1=1;var e=vl(),t=Jo();function n(r,i){i=e(i,r);for(var o=0,s=i.length;r!=null&&o<s;)r=r[t(i[o++])];return o&&o==s?r:void 0}return Vd=n,Vd}var Wd,F1;function EA(){if(F1)return Wd;F1=1;var e=yl();function t(n,r,i){var o=n==null?void 0:e(n,r);return o===void 0?i:o}return Wd=t,Wd}var Gd,$1;function kA(){if($1)return Gd;$1=1;function e(t,n){return t!=null&&n in Object(t)}return Gd=e,Gd}var Kd,B1;function jk(){if(B1)return Kd;B1=1;var e=vl(),t=Qo(),n=Oe(),r=dl(),i=Mg(),o=Jo();function s(a,l,u){l=e(l,a);for(var c=-1,f=l.length,h=!1;++c<f;){var p=o(l[c]);if(!(h=a!=null&&u(a,p)))break;a=a[p]}return h||++c!=f?h:(f=a==null?0:a.length,!!f&&i(f)&&r(p,f)&&(n(a)||t(a)))}return Kd=s,Kd}var Yd,H1;function Ck(){if(H1)return Yd;H1=1;var e=kA(),t=jk();function n(r,i){return r!=null&&t(r,i,e)}return Yd=n,Yd}var Xd,U1;function NA(){if(U1)return Xd;U1=1;var e=Sk(),t=EA(),n=Ck(),r=Hg(),i=Ek(),o=kk(),s=Jo(),a=1,l=2;function u(c,f){return r(c)&&i(f)?o(s(c),f):function(h){var p=t(h,c);return p===void 0&&p===f?n(h,c):e(f,p,a|l)}}return Xd=u,Xd}var Qd,V1;function Tk(){if(V1)return Qd;V1=1;function e(t){return function(n){return n==null?void 0:n[t]}}return Qd=e,Qd}var Zd,W1;function jA(){if(W1)return Zd;W1=1;var e=yl();function t(n){return function(r){return e(r,n)}}return Zd=t,Zd}var Jd,G1;function CA(){if(G1)return Jd;G1=1;var e=Tk(),t=jA(),n=Hg(),r=Jo();function i(o){return n(o)?e(r(o)):t(o)}return Jd=i,Jd}var ef,K1;function Cn(){if(K1)return ef;K1=1;var e=xA(),t=NA(),n=Lr(),r=Oe(),i=CA();function o(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?t(s[0],s[1]):e(s):i(s)}return ef=o,ef}var tf,Y1;function Rk(){if(Y1)return tf;Y1=1;var e=sk(),t=uA(),n=Cn(),r=Oe();function i(o,s){var a=r(o)?e:t;return a(o,n(s,3))}return tf=i,tf}var nf,X1;function TA(){if(X1)return nf;X1=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,i){return r!=null&&t.call(r,i)}return nf=n,nf}var rf,Q1;function Ik(){if(Q1)return rf;Q1=1;var e=TA(),t=jk();function n(r,i){return r!=null&&t(r,i,e)}return rf=n,rf}var of,Z1;function RA(){if(Z1)return of;Z1=1;var e=Og(),t=Ci(),n=Qo(),r=Oe(),i=jn(),o=ji(),s=hl(),a=Zo(),l="[object Map]",u="[object Set]",c=Object.prototype,f=c.hasOwnProperty;function h(p){if(p==null)return!0;if(i(p)&&(r(p)||typeof p=="string"||typeof p.splice=="function"||o(p)||a(p)||n(p)))return!p.length;var y=t(p);if(y==l||y==u)return!p.size;if(s(p))return!e(p).length;for(var v in p)if(f.call(p,v))return!1;return!0}return of=h,of}var sf,J1;function Pk(){if(J1)return sf;J1=1;function e(t){return t===void 0}return sf=e,sf}var af,ew;function Mk(){if(ew)return af;ew=1;var e=ml(),t=jn();function n(r,i){var o=-1,s=t(r)?Array(r.length):[];return e(r,function(a,l,u){s[++o]=i(a,l,u)}),s}return af=n,af}var lf,tw;function Ak(){if(tw)return lf;tw=1;var e=gl(),t=Cn(),n=Mk(),r=Oe();function i(o,s){var a=r(o)?e:n;return a(o,t(s,3))}return lf=i,lf}var uf,nw;function IA(){if(nw)return uf;nw=1;function e(t,n,r,i){var o=-1,s=t==null?0:t.length;for(i&&s&&(r=t[++o]);++o<s;)r=n(r,t[o],o,t);return r}return uf=e,uf}var cf,rw;function PA(){if(rw)return cf;rw=1;function e(t,n,r,i,o){return o(t,function(s,a,l){r=i?(i=!1,s):n(r,s,a,l)}),r}return cf=e,cf}var df,iw;function Ok(){if(iw)return df;iw=1;var e=IA(),t=ml(),n=Cn(),r=PA(),i=Oe();function o(s,a,l){var u=i(s)?e:r,c=arguments.length<3;return u(s,n(a,4),l,c,t)}return df=o,df}var ff,ow;function MA(){if(ow)return ff;ow=1;var e=Mr(),t=Oe(),n=rn(),r="[object String]";function i(o){return typeof o=="string"||!t(o)&&n(o)&&e(o)==r}return ff=i,ff}var hf,sw;function AA(){if(sw)return hf;sw=1;var e=Tk(),t=e("length");return hf=t,hf}var pf,aw;function OA(){if(aw)return pf;aw=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",s="\\u200d",a=RegExp("["+s+e+i+o+"]");function l(u){return a.test(u)}return pf=l,pf}var mf,lw;function LA(){if(lw)return mf;lw=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",s="["+e+"]",a="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+a+"|"+l+")",c="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",y=u+"?",v="["+o+"]?",_="(?:"+p+"(?:"+[c,f,h].join("|")+")"+v+y+")*",m=v+y+_,g="(?:"+[c+a+"?",a,f,h,s].join("|")+")",w=RegExp(l+"(?="+l+")|"+g+m,"g");function x(S){for(var E=w.lastIndex=0;w.test(S);)++E;return E}return mf=x,mf}var gf,uw;function qA(){if(uw)return gf;uw=1;var e=AA(),t=OA(),n=LA();function r(i){return t(i)?n(i):e(i)}return gf=r,gf}var vf,cw;function zA(){if(cw)return vf;cw=1;var e=Og(),t=Ci(),n=jn(),r=MA(),i=qA(),o="[object Map]",s="[object Set]";function a(l){if(l==null)return 0;if(n(l))return r(l)?i(l):l.length;var u=t(l);return u==o||u==s?l.size:e(l).length}return vf=a,vf}var yf,dw;function DA(){if(dw)return yf;dw=1;var e=Pg(),t=pk(),n=$g(),r=Cn(),i=pl(),o=Oe(),s=ji(),a=Yo(),l=It(),u=Zo();function c(f,h,p){var y=o(f),v=y||s(f)||u(f);if(h=r(h,4),p==null){var _=f&&f.constructor;v?p=y?new _:[]:l(f)?p=a(_)?t(i(f)):{}:p={}}return(v?e:n)(f,function(m,g,w){return h(p,m,g,w)}),p}return yf=c,yf}var xf,fw;function FA(){if(fw)return xf;fw=1;var e=Ni(),t=Qo(),n=Oe(),r=e?e.isConcatSpreadable:void 0;function i(o){return n(o)||t(o)||!!(r&&o&&o[r])}return xf=i,xf}var wf,hw;function Ug(){if(hw)return wf;hw=1;var e=qg(),t=FA();function n(r,i,o,s,a){var l=-1,u=r.length;for(o||(o=t),a||(a=[]);++l<u;){var c=r[l];i>0&&o(c)?i>1?n(c,i-1,o,s,a):e(a,c):s||(a[a.length]=c)}return a}return wf=n,wf}var _f,pw;function $A(){if(pw)return _f;pw=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return _f=e,_f}var bf,mw;function Lk(){if(mw)return bf;mw=1;var e=$A(),t=Math.max;function n(r,i,o){return i=t(i===void 0?r.length-1:i,0),function(){for(var s=arguments,a=-1,l=t(s.length-i,0),u=Array(l);++a<l;)u[a]=s[i+a];a=-1;for(var c=Array(i+1);++a<i;)c[a]=s[a];return c[i]=o(u),e(r,this,c)}}return bf=n,bf}var Sf,gw;function BA(){if(gw)return Sf;gw=1;var e=Dg(),t=tk(),n=Lr(),r=t?function(i,o){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:n;return Sf=r,Sf}var Ef,vw;function HA(){if(vw)return Ef;vw=1;var e=800,t=16,n=Date.now;function r(i){var o=0,s=0;return function(){var a=n(),l=t-(a-s);if(s=a,l>0){if(++o>=e)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return Ef=r,Ef}var kf,yw;function qk(){if(yw)return kf;yw=1;var e=BA(),t=HA(),n=t(e);return kf=n,kf}var Nf,xw;function xl(){if(xw)return Nf;xw=1;var e=Lr(),t=Lk(),n=qk();function r(i,o){return n(t(i,o,e),i+"")}return Nf=r,Nf}var jf,ww;function zk(){if(ww)return jf;ww=1;function e(t,n,r,i){for(var o=t.length,s=r+(i?1:-1);i?s--:++s<o;)if(n(t[s],s,t))return s;return-1}return jf=e,jf}var Cf,_w;function UA(){if(_w)return Cf;_w=1;function e(t){return t!==t}return Cf=e,Cf}var Tf,bw;function VA(){if(bw)return Tf;bw=1;function e(t,n,r){for(var i=r-1,o=t.length;++i<o;)if(t[i]===n)return i;return-1}return Tf=e,Tf}var Rf,Sw;function WA(){if(Sw)return Rf;Sw=1;var e=zk(),t=UA(),n=VA();function r(i,o,s){return o===o?n(i,o,s):e(i,t,s)}return Rf=r,Rf}var If,Ew;function GA(){if(Ew)return If;Ew=1;var e=WA();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return If=t,If}var Pf,kw;function KA(){if(kw)return Pf;kw=1;function e(t,n,r){for(var i=-1,o=t==null?0:t.length;++i<o;)if(r(n,t[i]))return!0;return!1}return Pf=e,Pf}var Mf,Nw;function YA(){if(Nw)return Mf;Nw=1;function e(){}return Mf=e,Mf}var Af,jw;function XA(){if(jw)return Af;jw=1;var e=dk(),t=YA(),n=Bg(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(o){return new e(o)}:t;return Af=i,Af}var Of,Cw;function QA(){if(Cw)return Of;Cw=1;var e=wk(),t=GA(),n=KA(),r=_k(),i=XA(),o=Bg(),s=200;function a(l,u,c){var f=-1,h=t,p=l.length,y=!0,v=[],_=v;if(c)y=!1,h=n;else if(p>=s){var m=u?null:i(l);if(m)return o(m);y=!1,h=r,_=new e}else _=u?[]:v;e:for(;++f<p;){var g=l[f],w=u?u(g):g;if(g=c||g!==0?g:0,y&&w===w){for(var x=_.length;x--;)if(_[x]===w)continue e;u&&_.push(w),v.push(g)}else h(_,w,c)||(_!==v&&_.push(w),v.push(g))}return v}return Of=a,Of}var Lf,Tw;function Dk(){if(Tw)return Lf;Tw=1;var e=jn(),t=rn();function n(r){return t(r)&&e(r)}return Lf=n,Lf}var qf,Rw;function ZA(){if(Rw)return qf;Rw=1;var e=Ug(),t=xl(),n=QA(),r=Dk(),i=t(function(o){return n(e(o,1,r,!0))});return qf=i,qf}var zf,Iw;function JA(){if(Iw)return zf;Iw=1;var e=gl();function t(n,r){return e(r,function(i){return n[i]})}return zf=t,zf}var Df,Pw;function Fk(){if(Pw)return Df;Pw=1;var e=JA(),t=ar();function n(r){return r==null?[]:e(r,t(r))}return Df=n,Df}var Ff,Mw;function Pt(){if(Mw)return Ff;Mw=1;var e;if(typeof Tg=="function")try{e={clone:sA(),constant:Dg(),each:xk(),filter:Rk(),has:Ik(),isArray:Oe(),isEmpty:RA(),isFunction:Yo(),isUndefined:Pk(),keys:ar(),map:Ak(),reduce:Ok(),size:zA(),transform:DA(),union:ZA(),values:Fk()}}catch{}return e||(e=window._),Ff=e,Ff}var $f,Aw;function Vg(){if(Aw)return $f;Aw=1;var e=Pt();$f=i;var t="\0",n="\0",r="";function i(c){this._isDirected=e.has(c,"directed")?c.directed:!0,this._isMultigraph=e.has(c,"multigraph")?c.multigraph:!1,this._isCompound=e.has(c,"compound")?c.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(c){return this._label=c,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultNodeLabelFn=c,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return e.keys(this._nodes)},i.prototype.sources=function(){var c=this;return e.filter(this.nodes(),function(f){return e.isEmpty(c._in[f])})},i.prototype.sinks=function(){var c=this;return e.filter(this.nodes(),function(f){return e.isEmpty(c._out[f])})},i.prototype.setNodes=function(c,f){var h=arguments,p=this;return e.each(c,function(y){h.length>1?p.setNode(y,f):p.setNode(y)}),this},i.prototype.setNode=function(c,f){return e.has(this._nodes,c)?(arguments.length>1&&(this._nodes[c]=f),this):(this._nodes[c]=arguments.length>1?f:this._defaultNodeLabelFn(c),this._isCompound&&(this._parent[c]=n,this._children[c]={},this._children[n][c]=!0),this._in[c]={},this._preds[c]={},this._out[c]={},this._sucs[c]={},++this._nodeCount,this)},i.prototype.node=function(c){return this._nodes[c]},i.prototype.hasNode=function(c){return e.has(this._nodes,c)},i.prototype.removeNode=function(c){var f=this;if(e.has(this._nodes,c)){var h=function(p){f.removeEdge(f._edgeObjs[p])};delete this._nodes[c],this._isCompound&&(this._removeFromParentsChildList(c),delete this._parent[c],e.each(this.children(c),function(p){f.setParent(p)}),delete this._children[c]),e.each(e.keys(this._in[c]),h),delete this._in[c],delete this._preds[c],e.each(e.keys(this._out[c]),h),delete this._out[c],delete this._sucs[c],--this._nodeCount}return this},i.prototype.setParent=function(c,f){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(f))f=n;else{f+="";for(var h=f;!e.isUndefined(h);h=this.parent(h))if(h===c)throw new Error("Setting "+f+" as parent of "+c+" would create a cycle");this.setNode(f)}return this.setNode(c),this._removeFromParentsChildList(c),this._parent[c]=f,this._children[f][c]=!0,this},i.prototype._removeFromParentsChildList=function(c){delete this._children[this._parent[c]][c]},i.prototype.parent=function(c){if(this._isCompound){var f=this._parent[c];if(f!==n)return f}},i.prototype.children=function(c){if(e.isUndefined(c)&&(c=n),this._isCompound){var f=this._children[c];if(f)return e.keys(f)}else{if(c===n)return this.nodes();if(this.hasNode(c))return[]}},i.prototype.predecessors=function(c){var f=this._preds[c];if(f)return e.keys(f)},i.prototype.successors=function(c){var f=this._sucs[c];if(f)return e.keys(f)},i.prototype.neighbors=function(c){var f=this.predecessors(c);if(f)return e.union(f,this.successors(c))},i.prototype.isLeaf=function(c){var f;return this.isDirected()?f=this.successors(c):f=this.neighbors(c),f.length===0},i.prototype.filterNodes=function(c){var f=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});f.setGraph(this.graph());var h=this;e.each(this._nodes,function(v,_){c(_)&&f.setNode(_,v)}),e.each(this._edgeObjs,function(v){f.hasNode(v.v)&&f.hasNode(v.w)&&f.setEdge(v,h.edge(v))});var p={};function y(v){var _=h.parent(v);return _===void 0||f.hasNode(_)?(p[v]=_,_):_ in p?p[_]:y(_)}return this._isCompound&&e.each(f.nodes(),function(v){f.setParent(v,y(v))}),f},i.prototype.setDefaultEdgeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultEdgeLabelFn=c,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return e.values(this._edgeObjs)},i.prototype.setPath=function(c,f){var h=this,p=arguments;return e.reduce(c,function(y,v){return p.length>1?h.setEdge(y,v,f):h.setEdge(y,v),v}),this},i.prototype.setEdge=function(){var c,f,h,p,y=!1,v=arguments[0];typeof v=="object"&&v!==null&&"v"in v?(c=v.v,f=v.w,h=v.name,arguments.length===2&&(p=arguments[1],y=!0)):(c=v,f=arguments[1],h=arguments[3],arguments.length>2&&(p=arguments[2],y=!0)),c=""+c,f=""+f,e.isUndefined(h)||(h=""+h);var _=a(this._isDirected,c,f,h);if(e.has(this._edgeLabels,_))return y&&(this._edgeLabels[_]=p),this;if(!e.isUndefined(h)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(f),this._edgeLabels[_]=y?p:this._defaultEdgeLabelFn(c,f,h);var m=l(this._isDirected,c,f,h);return c=m.v,f=m.w,Object.freeze(m),this._edgeObjs[_]=m,o(this._preds[f],c),o(this._sucs[c],f),this._in[f][_]=m,this._out[c][_]=m,this._edgeCount++,this},i.prototype.edge=function(c,f,h){var p=arguments.length===1?u(this._isDirected,arguments[0]):a(this._isDirected,c,f,h);return this._edgeLabels[p]},i.prototype.hasEdge=function(c,f,h){var p=arguments.length===1?u(this._isDirected,arguments[0]):a(this._isDirected,c,f,h);return e.has(this._edgeLabels,p)},i.prototype.removeEdge=function(c,f,h){var p=arguments.length===1?u(this._isDirected,arguments[0]):a(this._isDirected,c,f,h),y=this._edgeObjs[p];return y&&(c=y.v,f=y.w,delete this._edgeLabels[p],delete this._edgeObjs[p],s(this._preds[f],c),s(this._sucs[c],f),delete this._in[f][p],delete this._out[c][p],this._edgeCount--),this},i.prototype.inEdges=function(c,f){var h=this._in[c];if(h){var p=e.values(h);return f?e.filter(p,function(y){return y.v===f}):p}},i.prototype.outEdges=function(c,f){var h=this._out[c];if(h){var p=e.values(h);return f?e.filter(p,function(y){return y.w===f}):p}},i.prototype.nodeEdges=function(c,f){var h=this.inEdges(c,f);if(h)return h.concat(this.outEdges(c,f))};function o(c,f){c[f]?c[f]++:c[f]=1}function s(c,f){--c[f]||delete c[f]}function a(c,f,h,p){var y=""+f,v=""+h;if(!c&&y>v){var _=y;y=v,v=_}return y+r+v+r+(e.isUndefined(p)?t:p)}function l(c,f,h,p){var y=""+f,v=""+h;if(!c&&y>v){var _=y;y=v,v=_}var m={v:y,w:v};return p&&(m.name=p),m}function u(c,f){return a(c,f.v,f.w,f.name)}return $f}var Bf,Ow;function e6(){return Ow||(Ow=1,Bf="2.1.8"),Bf}var Hf,Lw;function t6(){return Lw||(Lw=1,Hf={Graph:Vg(),version:e6()}),Hf}var Uf,qw;function n6(){if(qw)return Uf;qw=1;var e=Pt(),t=Vg();Uf={write:n,read:o};function n(s){var a={options:{directed:s.isDirected(),multigraph:s.isMultigraph(),compound:s.isCompound()},nodes:r(s),edges:i(s)};return e.isUndefined(s.graph())||(a.value=e.clone(s.graph())),a}function r(s){return e.map(s.nodes(),function(a){var l=s.node(a),u=s.parent(a),c={v:a};return e.isUndefined(l)||(c.value=l),e.isUndefined(u)||(c.parent=u),c})}function i(s){return e.map(s.edges(),function(a){var l=s.edge(a),u={v:a.v,w:a.w};return e.isUndefined(a.name)||(u.name=a.name),e.isUndefined(l)||(u.value=l),u})}function o(s){var a=new t(s.options).setGraph(s.value);return e.each(s.nodes,function(l){a.setNode(l.v,l.value),l.parent&&a.setParent(l.v,l.parent)}),e.each(s.edges,function(l){a.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),a}return Uf}var Vf,zw;function r6(){if(zw)return Vf;zw=1;var e=Pt();Vf=t;function t(n){var r={},i=[],o;function s(a){e.has(r,a)||(r[a]=!0,o.push(a),e.each(n.successors(a),s),e.each(n.predecessors(a),s))}return e.each(n.nodes(),function(a){o=[],s(a),o.length&&i.push(o)}),i}return Vf}var Wf,Dw;function $k(){if(Dw)return Wf;Dw=1;var e=Pt();Wf=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,r){var i=this._keyIndices;if(n=String(n),!e.has(i,n)){var o=this._arr,s=o.length;return i[n]=s,o.push({key:n,priority:r}),this._decrease(s),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)},t.prototype._heapify=function(n){var r=this._arr,i=2*n,o=i+1,s=n;i<r.length&&(s=r[i].priority<r[s].priority?i:s,o<r.length&&(s=r[o].priority<r[s].priority?o:s),s!==n&&(this._swap(n,s),this._heapify(s)))},t.prototype._decrease=function(n){for(var r=this._arr,i=r[n].priority,o;n!==0&&(o=n>>1,!(r[o].priority<i));)this._swap(n,o),n=o},t.prototype._swap=function(n,r){var i=this._arr,o=this._keyIndices,s=i[n],a=i[r];i[n]=a,i[r]=s,o[a.key]=n,o[s.key]=r},Wf}var Gf,Fw;function Bk(){if(Fw)return Gf;Fw=1;var e=Pt(),t=$k();Gf=r;var n=e.constant(1);function r(o,s,a,l){return i(o,String(s),a||n,l||function(u){return o.outEdges(u)})}function i(o,s,a,l){var u={},c=new t,f,h,p=function(y){var v=y.v!==f?y.v:y.w,_=u[v],m=a(y),g=h.distance+m;if(m<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+y+" Weight: "+m);g<_.distance&&(_.distance=g,_.predecessor=f,c.decrease(v,g))};for(o.nodes().forEach(function(y){var v=y===s?0:Number.POSITIVE_INFINITY;u[y]={distance:v},c.add(y,v)});c.size()>0&&(f=c.removeMin(),h=u[f],h.distance!==Number.POSITIVE_INFINITY);)l(f).forEach(p);return u}return Gf}var Kf,$w;function i6(){if($w)return Kf;$w=1;var e=Bk(),t=Pt();Kf=n;function n(r,i,o){return t.transform(r.nodes(),function(s,a){s[a]=e(r,a,i,o)},{})}return Kf}var Yf,Bw;function Hk(){if(Bw)return Yf;Bw=1;var e=Pt();Yf=t;function t(n){var r=0,i=[],o={},s=[];function a(l){var u=o[l]={onStack:!0,lowlink:r,index:r++};if(i.push(l),n.successors(l).forEach(function(h){e.has(o,h)?o[h].onStack&&(u.lowlink=Math.min(u.lowlink,o[h].index)):(a(h),u.lowlink=Math.min(u.lowlink,o[h].lowlink))}),u.lowlink===u.index){var c=[],f;do f=i.pop(),o[f].onStack=!1,c.push(f);while(l!==f);s.push(c)}}return n.nodes().forEach(function(l){e.has(o,l)||a(l)}),s}return Yf}var Xf,Hw;function o6(){if(Hw)return Xf;Hw=1;var e=Pt(),t=Hk();Xf=n;function n(r){return e.filter(t(r),function(i){return i.length>1||i.length===1&&r.hasEdge(i[0],i[0])})}return Xf}var Qf,Uw;function s6(){if(Uw)return Qf;Uw=1;var e=Pt();Qf=n;var t=e.constant(1);function n(i,o,s){return r(i,o||t,s||function(a){return i.outEdges(a)})}function r(i,o,s){var a={},l=i.nodes();return l.forEach(function(u){a[u]={},a[u][u]={distance:0},l.forEach(function(c){u!==c&&(a[u][c]={distance:Number.POSITIVE_INFINITY})}),s(u).forEach(function(c){var f=c.v===u?c.w:c.v,h=o(c);a[u][f]={distance:h,predecessor:u}})}),l.forEach(function(u){var c=a[u];l.forEach(function(f){var h=a[f];l.forEach(function(p){var y=h[u],v=c[p],_=h[p],m=y.distance+v.distance;m<_.distance&&(_.distance=m,_.predecessor=v.predecessor)})})}),a}return Qf}var Zf,Vw;function Uk(){if(Vw)return Zf;Vw=1;var e=Pt();Zf=t,t.CycleException=n;function t(r){var i={},o={},s=[];function a(l){if(e.has(o,l))throw new n;e.has(i,l)||(o[l]=!0,i[l]=!0,e.each(r.predecessors(l),a),delete o[l],s.push(l))}if(e.each(r.sinks(),a),e.size(i)!==r.nodeCount())throw new n;return s}function n(){}return n.prototype=new Error,Zf}var Jf,Ww;function a6(){if(Ww)return Jf;Ww=1;var e=Uk();Jf=t;function t(n){try{e(n)}catch(r){if(r instanceof e.CycleException)return!1;throw r}return!0}return Jf}var eh,Gw;function Vk(){if(Gw)return eh;Gw=1;var e=Pt();eh=t;function t(r,i,o){e.isArray(i)||(i=[i]);var s=(r.isDirected()?r.successors:r.neighbors).bind(r),a=[],l={};return e.each(i,function(u){if(!r.hasNode(u))throw new Error("Graph does not have node: "+u);n(r,u,o==="post",l,s,a)}),a}function n(r,i,o,s,a,l){e.has(s,i)||(s[i]=!0,o||l.push(i),e.each(a(i),function(u){n(r,u,o,s,a,l)}),o&&l.push(i))}return eh}var th,Kw;function l6(){if(Kw)return th;Kw=1;var e=Vk();th=t;function t(n,r){return e(n,r,"post")}return th}var nh,Yw;function u6(){if(Yw)return nh;Yw=1;var e=Vk();nh=t;function t(n,r){return e(n,r,"pre")}return nh}var rh,Xw;function c6(){if(Xw)return rh;Xw=1;var e=Pt(),t=Vg(),n=$k();rh=r;function r(i,o){var s=new t,a={},l=new n,u;function c(h){var p=h.v===u?h.w:h.v,y=l.priority(p);if(y!==void 0){var v=o(h);v<y&&(a[p]=u,l.decrease(p,v))}}if(i.nodeCount()===0)return s;e.each(i.nodes(),function(h){l.add(h,Number.POSITIVE_INFINITY),s.setNode(h)}),l.decrease(i.nodes()[0],0);for(var f=!1;l.size()>0;){if(u=l.removeMin(),e.has(a,u))s.setEdge(u,a[u]);else{if(f)throw new Error("Input graph is not connected: "+i);f=!0}i.nodeEdges(u).forEach(c)}return s}return rh}var ih,Qw;function d6(){return Qw||(Qw=1,ih={components:r6(),dijkstra:Bk(),dijkstraAll:i6(),findCycles:o6(),floydWarshall:s6(),isAcyclic:a6(),postorder:l6(),preorder:u6(),prim:c6(),tarjan:Hk(),topsort:Uk()}),ih}var oh,Zw;function f6(){if(Zw)return oh;Zw=1;var e=t6();return oh={Graph:e.Graph,json:n6(),alg:d6(),version:e.version},oh}var Ra;if(typeof Tg=="function")try{Ra=f6()}catch{}Ra||(Ra=window.graphlib);var Wt=Ra,sh,Jw;function h6(){if(Jw)return sh;Jw=1;var e=gk(),t=1,n=4;function r(i){return e(i,t|n)}return sh=r,sh}var ah,e_;function wl(){if(e_)return ah;e_=1;var e=ki(),t=jn(),n=dl(),r=It();function i(o,s,a){if(!r(a))return!1;var l=typeof s;return(l=="number"?t(a)&&n(s,a.length):l=="string"&&s in a)?e(a[s],o):!1}return ah=i,ah}var lh,t_;function p6(){if(t_)return lh;t_=1;var e=xl(),t=ki(),n=wl(),r=Or(),i=Object.prototype,o=i.hasOwnProperty,s=e(function(a,l){a=Object(a);var u=-1,c=l.length,f=c>2?l[2]:void 0;for(f&&n(l[0],l[1],f)&&(c=1);++u<c;)for(var h=l[u],p=r(h),y=-1,v=p.length;++y<v;){var _=p[y],m=a[_];(m===void 0||t(m,i[_])&&!o.call(a,_))&&(a[_]=h[_])}return a});return lh=s,lh}var uh,n_;function m6(){if(n_)return uh;n_=1;var e=Cn(),t=jn(),n=ar();function r(i){return function(o,s,a){var l=Object(o);if(!t(o)){var u=e(s,3);o=n(o),s=function(f){return u(l[f],f,l)}}var c=i(o,s,a);return c>-1?l[u?o[c]:c]:void 0}}return uh=r,uh}var ch,r_;function g6(){if(r_)return ch;r_=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return ch=t,ch}var dh,i_;function v6(){if(i_)return dh;i_=1;var e=g6(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return dh=n,dh}var fh,o_;function y6(){if(o_)return fh;o_=1;var e=v6(),t=It(),n=Ti(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt;function l(u){if(typeof u=="number")return u;if(n(u))return r;if(t(u)){var c=typeof u.valueOf=="function"?u.valueOf():u;u=t(c)?c+"":c}if(typeof u!="string")return u===0?u:+u;u=e(u);var f=o.test(u);return f||s.test(u)?a(u.slice(2),f?2:8):i.test(u)?r:+u}return fh=l,fh}var hh,s_;function Wk(){if(s_)return hh;s_=1;var e=y6(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var o=i<0?-1:1;return o*n}return i===i?i:0}return hh=r,hh}var ph,a_;function x6(){if(a_)return ph;a_=1;var e=Wk();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return ph=t,ph}var mh,l_;function w6(){if(l_)return mh;l_=1;var e=zk(),t=Cn(),n=x6(),r=Math.max;function i(o,s,a){var l=o==null?0:o.length;if(!l)return-1;var u=a==null?0:n(a);return u<0&&(u=r(l+u,0)),e(o,t(s,3),u)}return mh=i,mh}var gh,u_;function _6(){if(u_)return gh;u_=1;var e=m6(),t=w6(),n=e(t);return gh=n,gh}var vh,c_;function Gk(){if(c_)return vh;c_=1;var e=Ug();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return vh=t,vh}var yh,d_;function b6(){if(d_)return yh;d_=1;var e=Fg(),t=vk(),n=Or();function r(i,o){return i==null?i:e(i,t(o),n)}return yh=r,yh}var xh,f_;function S6(){if(f_)return xh;f_=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return xh=e,xh}var wh,h_;function E6(){if(h_)return wh;h_=1;var e=ul(),t=$g(),n=Cn();function r(i,o){var s={};return o=n(o,3),t(i,function(a,l,u){e(s,l,o(a,l,u))}),s}return wh=r,wh}var _h,p_;function Wg(){if(p_)return _h;p_=1;var e=Ti();function t(n,r,i){for(var o=-1,s=n.length;++o<s;){var a=n[o],l=r(a);if(l!=null&&(u===void 0?l===l&&!e(l):i(l,u)))var u=l,c=a}return c}return _h=t,_h}var bh,m_;function k6(){if(m_)return bh;m_=1;function e(t,n){return t>n}return bh=e,bh}var Sh,g_;function N6(){if(g_)return Sh;g_=1;var e=Wg(),t=k6(),n=Lr();function r(i){return i&&i.length?e(i,n,t):void 0}return Sh=r,Sh}var Eh,v_;function Kk(){if(v_)return Eh;v_=1;var e=ul(),t=ki();function n(r,i,o){(o!==void 0&&!t(r[i],o)||o===void 0&&!(i in r))&&e(r,i,o)}return Eh=n,Eh}var kh,y_;function j6(){if(y_)return kh;y_=1;var e=Mr(),t=pl(),n=rn(),r="[object Object]",i=Function.prototype,o=Object.prototype,s=i.toString,a=o.hasOwnProperty,l=s.call(Object);function u(c){if(!n(c)||e(c)!=r)return!1;var f=t(c);if(f===null)return!0;var h=a.call(f,"constructor")&&f.constructor;return typeof h=="function"&&h instanceof h&&s.call(h)==l}return kh=u,kh}var Nh,x_;function Yk(){if(x_)return Nh;x_=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return Nh=e,Nh}var jh,w_;function C6(){if(w_)return jh;w_=1;var e=Xo(),t=Or();function n(r){return e(r,t(r))}return jh=n,jh}var Ch,__;function T6(){if(__)return Ch;__=1;var e=Kk(),t=ik(),n=hk(),r=ok(),i=mk(),o=Qo(),s=Oe(),a=Dk(),l=ji(),u=Yo(),c=It(),f=j6(),h=Zo(),p=Yk(),y=C6();function v(_,m,g,w,x,S,E){var N=p(_,g),C=p(m,g),R=E.get(C);if(R){e(_,g,R);return}var O=S?S(N,C,g+"",_,m,E):void 0,L=O===void 0;if(L){var F=s(C),q=!F&&l(C),b=!F&&!q&&h(C);O=C,F||q||b?s(N)?O=N:a(N)?O=r(N):q?(L=!1,O=t(C,!0)):b?(L=!1,O=n(C,!0)):O=[]:f(C)||o(C)?(O=N,o(N)?O=y(N):(!c(N)||u(N))&&(O=i(C))):L=!1}L&&(E.set(C,O),x(O,C,w,S,E),E.delete(C)),e(_,g,O)}return Ch=v,Ch}var Th,b_;function R6(){if(b_)return Th;b_=1;var e=ll(),t=Kk(),n=Fg(),r=T6(),i=It(),o=Or(),s=Yk();function a(l,u,c,f,h){l!==u&&n(u,function(p,y){if(h||(h=new e),i(p))r(l,u,y,c,a,f,h);else{var v=f?f(s(l,y),p,y+"",l,u,h):void 0;v===void 0&&(v=p),t(l,y,v)}},o)}return Th=a,Th}var Rh,S_;function I6(){if(S_)return Rh;S_=1;var e=xl(),t=wl();function n(r){return e(function(i,o){var s=-1,a=o.length,l=a>1?o[a-1]:void 0,u=a>2?o[2]:void 0;for(l=r.length>3&&typeof l=="function"?(a--,l):void 0,u&&t(o[0],o[1],u)&&(l=a<3?void 0:l,a=1),i=Object(i);++s<a;){var c=o[s];c&&r(i,c,s,l)}return i})}return Rh=n,Rh}var Ih,E_;function P6(){if(E_)return Ih;E_=1;var e=R6(),t=I6(),n=t(function(r,i,o){e(r,i,o)});return Ih=n,Ih}var Ph,k_;function Xk(){if(k_)return Ph;k_=1;function e(t,n){return t<n}return Ph=e,Ph}var Mh,N_;function M6(){if(N_)return Mh;N_=1;var e=Wg(),t=Xk(),n=Lr();function r(i){return i&&i.length?e(i,n,t):void 0}return Mh=r,Mh}var Ah,j_;function A6(){if(j_)return Ah;j_=1;var e=Wg(),t=Cn(),n=Xk();function r(i,o){return i&&i.length?e(i,t(o,2),n):void 0}return Ah=r,Ah}var Oh,C_;function O6(){if(C_)return Oh;C_=1;var e=Vt(),t=function(){return e.Date.now()};return Oh=t,Oh}var Lh,T_;function L6(){if(T_)return Lh;T_=1;var e=cl(),t=vl(),n=dl(),r=It(),i=Jo();function o(s,a,l,u){if(!r(s))return s;a=t(a,s);for(var c=-1,f=a.length,h=f-1,p=s;p!=null&&++c<f;){var y=i(a[c]),v=l;if(y==="__proto__"||y==="constructor"||y==="prototype")return s;if(c!=h){var _=p[y];v=u?u(_,y,p):void 0,v===void 0&&(v=r(_)?_:n(a[c+1])?[]:{})}e(p,y,v),p=p[y]}return s}return Lh=o,Lh}var qh,R_;function q6(){if(R_)return qh;R_=1;var e=yl(),t=L6(),n=vl();function r(i,o,s){for(var a=-1,l=o.length,u={};++a<l;){var c=o[a],f=e(i,c);s(f,c)&&t(u,n(c,i),f)}return u}return qh=r,qh}var zh,I_;function z6(){if(I_)return zh;I_=1;var e=q6(),t=Ck();function n(r,i){return e(r,i,function(o,s){return t(r,s)})}return zh=n,zh}var Dh,P_;function D6(){if(P_)return Dh;P_=1;var e=Gk(),t=Lk(),n=qk();function r(i){return n(t(i,void 0,e),i+"")}return Dh=r,Dh}var Fh,M_;function F6(){if(M_)return Fh;M_=1;var e=z6(),t=D6(),n=t(function(r,i){return r==null?{}:e(r,i)});return Fh=n,Fh}var $h,A_;function $6(){if(A_)return $h;A_=1;var e=Math.ceil,t=Math.max;function n(r,i,o,s){for(var a=-1,l=t(e((i-r)/(o||1)),0),u=Array(l);l--;)u[s?l:++a]=r,r+=o;return u}return $h=n,$h}var Bh,O_;function B6(){if(O_)return Bh;O_=1;var e=$6(),t=wl(),n=Wk();function r(i){return function(o,s,a){return a&&typeof a!="number"&&t(o,s,a)&&(s=a=void 0),o=n(o),s===void 0?(s=o,o=0):s=n(s),a=a===void 0?o<s?1:-1:n(a),e(o,s,a,i)}}return Bh=r,Bh}var Hh,L_;function H6(){if(L_)return Hh;L_=1;var e=B6(),t=e();return Hh=t,Hh}var Uh,q_;function U6(){if(q_)return Uh;q_=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return Uh=e,Uh}var Vh,z_;function V6(){if(z_)return Vh;z_=1;var e=Ti();function t(n,r){if(n!==r){var i=n!==void 0,o=n===null,s=n===n,a=e(n),l=r!==void 0,u=r===null,c=r===r,f=e(r);if(!u&&!f&&!a&&n>r||a&&l&&c&&!u&&!f||o&&l&&c||!i&&c||!s)return 1;if(!o&&!a&&!f&&n<r||f&&i&&s&&!o&&!a||u&&i&&s||!l&&s||!c)return-1}return 0}return Vh=t,Vh}var Wh,D_;function W6(){if(D_)return Wh;D_=1;var e=V6();function t(n,r,i){for(var o=-1,s=n.criteria,a=r.criteria,l=s.length,u=i.length;++o<l;){var c=e(s[o],a[o]);if(c){if(o>=u)return c;var f=i[o];return c*(f=="desc"?-1:1)}}return n.index-r.index}return Wh=t,Wh}var Gh,F_;function G6(){if(F_)return Gh;F_=1;var e=gl(),t=yl(),n=Cn(),r=Mk(),i=U6(),o=fl(),s=W6(),a=Lr(),l=Oe();function u(c,f,h){f.length?f=e(f,function(v){return l(v)?function(_){return t(_,v.length===1?v[0]:v)}:v}):f=[a];var p=-1;f=e(f,o(n));var y=r(c,function(v,_,m){var g=e(f,function(w){return w(v)});return{criteria:g,index:++p,value:v}});return i(y,function(v,_){return s(v,_,h)})}return Gh=u,Gh}var Kh,$_;function K6(){if($_)return Kh;$_=1;var e=Ug(),t=G6(),n=xl(),r=wl(),i=n(function(o,s){if(o==null)return[];var a=s.length;return a>1&&r(o,s[0],s[1])?s=[]:a>2&&r(s[0],s[1],s[2])&&(s=[s[0]]),t(o,e(s,1),[])});return Kh=i,Kh}var Yh,B_;function Y6(){if(B_)return Yh;B_=1;var e=Nk(),t=0;function n(r){var i=++t;return e(r)+i}return Yh=n,Yh}var Xh,H_;function X6(){if(H_)return Xh;H_=1;function e(t,n,r){for(var i=-1,o=t.length,s=n.length,a={};++i<o;){var l=i<s?n[i]:void 0;r(a,t[i],l)}return a}return Xh=e,Xh}var Qh,U_;function Q6(){if(U_)return Qh;U_=1;var e=cl(),t=X6();function n(r,i){return t(r||[],i||[],e)}return Qh=n,Qh}var Ia;if(typeof Tg=="function")try{Ia={cloneDeep:h6(),constant:Dg(),defaults:p6(),each:xk(),filter:Rk(),find:_6(),flatten:Gk(),forEach:yk(),forIn:b6(),has:Ik(),isUndefined:Pk(),last:S6(),map:Ak(),mapValues:E6(),max:N6(),merge:P6(),min:M6(),minBy:A6(),now:O6(),pick:F6(),range:H6(),reduce:Ok(),sortBy:K6(),uniqueId:Y6(),values:Fk(),zipObject:Q6()}}catch{}Ia||(Ia=window._);var _e=Ia,Z6=_l;function _l(){var e={};e._next=e._prev=e,this._sentinel=e}_l.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return Qk(t),t};_l.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&Qk(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};_l.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,J6)),n=n._prev;return"["+e.join(", ")+"]"};function Qk(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function J6(e,t){if(e!=="_next"&&e!=="_prev")return t}var mn=_e,e8=Wt.Graph,t8=Z6,n8=i8,r8=mn.constant(1);function i8(e,t){if(e.nodeCount()<=1)return[];var n=s8(e,t||r8),r=o8(n.graph,n.buckets,n.zeroIdx);return mn.flatten(mn.map(r,function(i){return e.outEdges(i.v,i.w)}),!0)}function o8(e,t,n){for(var r=[],i=t[t.length-1],o=t[0],s;e.nodeCount();){for(;s=o.dequeue();)Zh(e,t,n,s);for(;s=i.dequeue();)Zh(e,t,n,s);if(e.nodeCount()){for(var a=t.length-2;a>0;--a)if(s=t[a].dequeue(),s){r=r.concat(Zh(e,t,n,s,!0));break}}}return r}function Zh(e,t,n,r,i){var o=i?[]:void 0;return mn.forEach(e.inEdges(r.v),function(s){var a=e.edge(s),l=e.node(s.v);i&&o.push({v:s.v,w:s.w}),l.out-=a,hm(t,n,l)}),mn.forEach(e.outEdges(r.v),function(s){var a=e.edge(s),l=s.w,u=e.node(l);u.in-=a,hm(t,n,u)}),e.removeNode(r.v),o}function s8(e,t){var n=new e8,r=0,i=0;mn.forEach(e.nodes(),function(a){n.setNode(a,{v:a,in:0,out:0})}),mn.forEach(e.edges(),function(a){var l=n.edge(a.v,a.w)||0,u=t(a),c=l+u;n.setEdge(a.v,a.w,c),i=Math.max(i,n.node(a.v).out+=u),r=Math.max(r,n.node(a.w).in+=u)});var o=mn.range(i+r+3).map(function(){return new t8}),s=r+1;return mn.forEach(n.nodes(),function(a){hm(o,s,n.node(a))}),{graph:n,buckets:o,zeroIdx:s}}function hm(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var xr=_e,a8=n8,l8={run:u8,undo:d8};function u8(e){var t=e.graph().acyclicer==="greedy"?a8(e,n(e)):c8(e);xr.forEach(t,function(r){var i=e.edge(r);e.removeEdge(r),i.forwardName=r.name,i.reversed=!0,e.setEdge(r.w,r.v,i,xr.uniqueId("rev"))});function n(r){return function(i){return r.edge(i).weight}}}function c8(e){var t=[],n={},r={};function i(o){xr.has(r,o)||(r[o]=!0,n[o]=!0,xr.forEach(e.outEdges(o),function(s){xr.has(n,s.w)?t.push(s):i(s.w)}),delete n[o])}return xr.forEach(e.nodes(),i),t}function d8(e){xr.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}var de=_e,Zk=Wt.Graph,ft={addDummyNode:Jk,simplify:f8,asNonCompoundGraph:h8,successorWeights:p8,predecessorWeights:m8,intersectRect:g8,buildLayerMatrix:v8,normalizeRanks:y8,removeEmptyRanks:x8,addBorderNode:w8,maxRank:eN,partition:_8,time:b8,notime:S8};function Jk(e,t,n,r){var i;do i=de.uniqueId(r);while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function f8(e){var t=new Zk().setGraph(e.graph());return de.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),de.forEach(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),t}function h8(e){var t=new Zk({multigraph:e.isMultigraph()}).setGraph(e.graph());return de.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),de.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t}function p8(e){var t=de.map(e.nodes(),function(n){var r={};return de.forEach(e.outEdges(n),function(i){r[i.w]=(r[i.w]||0)+e.edge(i).weight}),r});return de.zipObject(e.nodes(),t)}function m8(e){var t=de.map(e.nodes(),function(n){var r={};return de.forEach(e.inEdges(n),function(i){r[i.v]=(r[i.v]||0)+e.edge(i).weight}),r});return de.zipObject(e.nodes(),t)}function g8(e,t){var n=e.x,r=e.y,i=t.x-n,o=t.y-r,s=e.width/2,a=e.height/2;if(!i&&!o)throw new Error("Not possible to find intersection inside of the rectangle");var l,u;return Math.abs(o)*s>Math.abs(i)*a?(o<0&&(a=-a),l=a*i/o,u=a):(i<0&&(s=-s),l=s,u=s*o/i),{x:n+l,y:r+u}}function v8(e){var t=de.map(de.range(eN(e)+1),function(){return[]});return de.forEach(e.nodes(),function(n){var r=e.node(n),i=r.rank;de.isUndefined(i)||(t[i][r.order]=n)}),t}function y8(e){var t=de.min(de.map(e.nodes(),function(n){return e.node(n).rank}));de.forEach(e.nodes(),function(n){var r=e.node(n);de.has(r,"rank")&&(r.rank-=t)})}function x8(e){var t=de.min(de.map(e.nodes(),function(o){return e.node(o).rank})),n=[];de.forEach(e.nodes(),function(o){var s=e.node(o).rank-t;n[s]||(n[s]=[]),n[s].push(o)});var r=0,i=e.graph().nodeRankFactor;de.forEach(n,function(o,s){de.isUndefined(o)&&s%i!==0?--r:r&&de.forEach(o,function(a){e.node(a).rank+=r})})}function w8(e,t,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),Jk(e,"border",i,t)}function eN(e){return de.max(de.map(e.nodes(),function(t){var n=e.node(t).rank;if(!de.isUndefined(n))return n}))}function _8(e,t){var n={lhs:[],rhs:[]};return de.forEach(e,function(r){t(r)?n.lhs.push(r):n.rhs.push(r)}),n}function b8(e,t){var n=de.now();try{return t()}finally{console.log(e+" time: "+(de.now()-n)+"ms")}}function S8(e,t){return t()}var tN=_e,E8=ft,k8={run:N8,undo:C8};function N8(e){e.graph().dummyChains=[],tN.forEach(e.edges(),function(t){j8(e,t)})}function j8(e,t){var n=t.v,r=e.node(n).rank,i=t.w,o=e.node(i).rank,s=t.name,a=e.edge(t),l=a.labelRank;if(o!==r+1){e.removeEdge(t);var u,c,f;for(f=0,++r;r<o;++f,++r)a.points=[],c={width:0,height:0,edgeLabel:a,edgeObj:t,rank:r},u=E8.addDummyNode(e,"edge",c,"_d"),r===l&&(c.width=a.width,c.height=a.height,c.dummy="edge-label",c.labelpos=a.labelpos),e.setEdge(n,u,{weight:a.weight},s),f===0&&e.graph().dummyChains.push(u),n=u;e.setEdge(n,i,{weight:a.weight},s)}}function C8(e){tN.forEach(e.graph().dummyChains,function(t){var n=e.node(t),r=n.edgeLabel,i;for(e.setEdge(n.edgeObj,r);n.dummy;)i=e.successors(t)[0],e.removeNode(t),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),t=i,n=e.node(t)})}var Ts=_e,bl={longestPath:T8,slack:R8};function T8(e){var t={};function n(r){var i=e.node(r);if(Ts.has(t,r))return i.rank;t[r]=!0;var o=Ts.min(Ts.map(e.outEdges(r),function(s){return n(s.w)-e.edge(s).minlen}));return(o===Number.POSITIVE_INFINITY||o===void 0||o===null)&&(o=0),i.rank=o}Ts.forEach(e.sources(),n)}function R8(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var Pa=_e,I8=Wt.Graph,Ma=bl.slack,nN=P8;function P8(e){var t=new I8({directed:!1}),n=e.nodes()[0],r=e.nodeCount();t.setNode(n,{});for(var i,o;M8(t,e)<r;)i=A8(t,e),o=t.hasNode(i.v)?Ma(e,i):-Ma(e,i),O8(t,e,o);return t}function M8(e,t){function n(r){Pa.forEach(t.nodeEdges(r),function(i){var o=i.v,s=r===o?i.w:o;!e.hasNode(s)&&!Ma(t,i)&&(e.setNode(s,{}),e.setEdge(r,s,{}),n(s))})}return Pa.forEach(e.nodes(),n),e.nodeCount()}function A8(e,t){return Pa.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return Ma(t,n)})}function O8(e,t,n){Pa.forEach(e.nodes(),function(r){t.node(r).rank+=n})}var kn=_e,L8=nN,q8=bl.slack,z8=bl.longestPath,D8=Wt.alg.preorder,F8=Wt.alg.postorder,$8=ft.simplify,B8=qr;qr.initLowLimValues=Kg;qr.initCutValues=Gg;qr.calcCutValue=rN;qr.leaveEdge=oN;qr.enterEdge=sN;qr.exchangeEdges=aN;function qr(e){e=$8(e),z8(e);var t=L8(e);Kg(t),Gg(t,e);for(var n,r;n=oN(t);)r=sN(t,e,n),aN(t,e,n,r)}function Gg(e,t){var n=F8(e,e.nodes());n=n.slice(0,n.length-1),kn.forEach(n,function(r){H8(e,t,r)})}function H8(e,t,n){var r=e.node(n),i=r.parent;e.edge(n,i).cutvalue=rN(e,t,n)}function rN(e,t,n){var r=e.node(n),i=r.parent,o=!0,s=t.edge(n,i),a=0;return s||(o=!1,s=t.edge(i,n)),a=s.weight,kn.forEach(t.nodeEdges(n),function(l){var u=l.v===n,c=u?l.w:l.v;if(c!==i){var f=u===o,h=t.edge(l).weight;if(a+=f?h:-h,V8(e,n,c)){var p=e.edge(n,c).cutvalue;a+=f?-p:p}}}),a}function Kg(e,t){arguments.length<2&&(t=e.nodes()[0]),iN(e,{},1,t)}function iN(e,t,n,r,i){var o=n,s=e.node(r);return t[r]=!0,kn.forEach(e.neighbors(r),function(a){kn.has(t,a)||(n=iN(e,t,n,a,r))}),s.low=o,s.lim=n++,i?s.parent=i:delete s.parent,n}function oN(e){return kn.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function sN(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var o=e.node(r),s=e.node(i),a=o,l=!1;o.lim>s.lim&&(a=s,l=!0);var u=kn.filter(t.edges(),function(c){return l===V_(e,e.node(c.v),a)&&l!==V_(e,e.node(c.w),a)});return kn.minBy(u,function(c){return q8(t,c)})}function aN(e,t,n,r){var i=n.v,o=n.w;e.removeEdge(i,o),e.setEdge(r.v,r.w,{}),Kg(e),Gg(e,t),U8(e,t)}function U8(e,t){var n=kn.find(e.nodes(),function(i){return!t.node(i).parent}),r=D8(e,n);r=r.slice(1),kn.forEach(r,function(i){var o=e.node(i).parent,s=t.edge(i,o),a=!1;s||(s=t.edge(o,i),a=!0),t.node(i).rank=t.node(o).rank+(a?s.minlen:-s.minlen)})}function V8(e,t,n){return e.hasEdge(t,n)}function V_(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}var W8=bl,lN=W8.longestPath,G8=nN,K8=B8,Y8=X8;function X8(e){switch(e.graph().ranker){case"network-simplex":W_(e);break;case"tight-tree":Z8(e);break;case"longest-path":Q8(e);break;default:W_(e)}}var Q8=lN;function Z8(e){lN(e),G8(e)}function W_(e){K8(e)}var pm=_e,J8=eO;function eO(e){var t=nO(e);pm.forEach(e.graph().dummyChains,function(n){for(var r=e.node(n),i=r.edgeObj,o=tO(e,t,i.v,i.w),s=o.path,a=o.lca,l=0,u=s[l],c=!0;n!==i.w;){if(r=e.node(n),c){for(;(u=s[l])!==a&&e.node(u).maxRank<r.rank;)l++;u===a&&(c=!1)}if(!c){for(;l<s.length-1&&e.node(u=s[l+1]).minRank<=r.rank;)l++;u=s[l]}e.setParent(n,u),n=e.successors(n)[0]}})}function tO(e,t,n,r){var i=[],o=[],s=Math.min(t[n].low,t[r].low),a=Math.max(t[n].lim,t[r].lim),l,u;l=n;do l=e.parent(l),i.push(l);while(l&&(t[l].low>s||a>t[l].lim));for(u=l,l=r;(l=e.parent(l))!==u;)o.push(l);return{path:i.concat(o.reverse()),lca:u}}function nO(e){var t={},n=0;function r(i){var o=n;pm.forEach(e.children(i),r),t[i]={low:o,lim:n++}}return pm.forEach(e.children(),r),t}var gn=_e,mm=ft,rO={run:iO,cleanup:aO};function iO(e){var t=mm.addDummyNode(e,"root",{},"_root"),n=oO(e),r=gn.max(gn.values(n))-1,i=2*r+1;e.graph().nestingRoot=t,gn.forEach(e.edges(),function(s){e.edge(s).minlen*=i});var o=sO(e)+1;gn.forEach(e.children(),function(s){uN(e,t,i,o,r,n,s)}),e.graph().nodeRankFactor=i}function uN(e,t,n,r,i,o,s){var a=e.children(s);if(!a.length){s!==t&&e.setEdge(t,s,{weight:0,minlen:n});return}var l=mm.addBorderNode(e,"_bt"),u=mm.addBorderNode(e,"_bb"),c=e.node(s);e.setParent(l,s),c.borderTop=l,e.setParent(u,s),c.borderBottom=u,gn.forEach(a,function(f){uN(e,t,n,r,i,o,f);var h=e.node(f),p=h.borderTop?h.borderTop:f,y=h.borderBottom?h.borderBottom:f,v=h.borderTop?r:2*r,_=p!==y?1:i-o[s]+1;e.setEdge(l,p,{weight:v,minlen:_,nestingEdge:!0}),e.setEdge(y,u,{weight:v,minlen:_,nestingEdge:!0})}),e.parent(s)||e.setEdge(t,l,{weight:0,minlen:i+o[s]})}function oO(e){var t={};function n(r,i){var o=e.children(r);o&&o.length&&gn.forEach(o,function(s){n(s,i+1)}),t[r]=i}return gn.forEach(e.children(),function(r){n(r,1)}),t}function sO(e){return gn.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}function aO(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,gn.forEach(e.edges(),function(n){var r=e.edge(n);r.nestingEdge&&e.removeEdge(n)})}var Jh=_e,lO=ft,uO=cO;function cO(e){function t(n){var r=e.children(n),i=e.node(n);if(r.length&&Jh.forEach(r,t),Jh.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,s=i.maxRank+1;o<s;++o)G_(e,"borderLeft","_bl",n,i,o),G_(e,"borderRight","_br",n,i,o)}}Jh.forEach(e.children(),t)}function G_(e,t,n,r,i,o){var s={width:0,height:0,rank:o,borderType:t},a=i[t][o-1],l=lO.addDummyNode(e,"border",s,n);i[t][o]=l,e.setParent(l,r),a&&e.setEdge(a,l,{weight:1})}var Zt=_e,dO={adjust:fO,undo:hO};function fO(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&cN(e)}function hO(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&pO(e),(t==="lr"||t==="rl")&&(mO(e),cN(e))}function cN(e){Zt.forEach(e.nodes(),function(t){K_(e.node(t))}),Zt.forEach(e.edges(),function(t){K_(e.edge(t))})}function K_(e){var t=e.width;e.width=e.height,e.height=t}function pO(e){Zt.forEach(e.nodes(),function(t){ep(e.node(t))}),Zt.forEach(e.edges(),function(t){var n=e.edge(t);Zt.forEach(n.points,ep),Zt.has(n,"y")&&ep(n)})}function ep(e){e.y=-e.y}function mO(e){Zt.forEach(e.nodes(),function(t){tp(e.node(t))}),Zt.forEach(e.edges(),function(t){var n=e.edge(t);Zt.forEach(n.points,tp),Zt.has(n,"x")&&tp(n)})}function tp(e){var t=e.x;e.x=e.y,e.y=t}var un=_e,gO=vO;function vO(e){var t={},n=un.filter(e.nodes(),function(a){return!e.children(a).length}),r=un.max(un.map(n,function(a){return e.node(a).rank})),i=un.map(un.range(r+1),function(){return[]});function o(a){if(!un.has(t,a)){t[a]=!0;var l=e.node(a);i[l.rank].push(a),un.forEach(e.successors(a),o)}}var s=un.sortBy(n,function(a){return e.node(a).rank});return un.forEach(s,o),i}var Pn=_e,yO=xO;function xO(e,t){for(var n=0,r=1;r<t.length;++r)n+=wO(e,t[r-1],t[r]);return n}function wO(e,t,n){for(var r=Pn.zipObject(n,Pn.map(n,function(u,c){return c})),i=Pn.flatten(Pn.map(t,function(u){return Pn.sortBy(Pn.map(e.outEdges(u),function(c){return{pos:r[c.w],weight:e.edge(c).weight}}),"pos")}),!0),o=1;o<n.length;)o<<=1;var s=2*o-1;o-=1;var a=Pn.map(new Array(s),function(){return 0}),l=0;return Pn.forEach(i.forEach(function(u){var c=u.pos+o;a[c]+=u.weight;for(var f=0;c>0;)c%2&&(f+=a[c+1]),c=c-1>>1,a[c]+=u.weight;l+=u.weight*f})),l}var Y_=_e,_O=bO;function bO(e,t){return Y_.map(t,function(n){var r=e.inEdges(n);if(r.length){var i=Y_.reduce(r,function(o,s){var a=e.edge(s),l=e.node(s.v);return{sum:o.sum+a.weight*l.order,weight:o.weight+a.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:n}})}var gt=_e,SO=EO;function EO(e,t){var n={};gt.forEach(e,function(i,o){var s=n[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:o};gt.isUndefined(i.barycenter)||(s.barycenter=i.barycenter,s.weight=i.weight)}),gt.forEach(t.edges(),function(i){var o=n[i.v],s=n[i.w];!gt.isUndefined(o)&&!gt.isUndefined(s)&&(s.indegree++,o.out.push(n[i.w]))});var r=gt.filter(n,function(i){return!i.indegree});return kO(r)}function kO(e){var t=[];function n(o){return function(s){s.merged||(gt.isUndefined(s.barycenter)||gt.isUndefined(o.barycenter)||s.barycenter>=o.barycenter)&&NO(o,s)}}function r(o){return function(s){s.in.push(o),--s.indegree===0&&e.push(s)}}for(;e.length;){var i=e.pop();t.push(i),gt.forEach(i.in.reverse(),n(i)),gt.forEach(i.out,r(i))}return gt.map(gt.filter(t,function(o){return!o.merged}),function(o){return gt.pick(o,["vs","i","barycenter","weight"])})}function NO(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}var to=_e,jO=ft,CO=TO;function TO(e,t){var n=jO.partition(e,function(c){return to.has(c,"barycenter")}),r=n.lhs,i=to.sortBy(n.rhs,function(c){return-c.i}),o=[],s=0,a=0,l=0;r.sort(RO(!!t)),l=X_(o,i,l),to.forEach(r,function(c){l+=c.vs.length,o.push(c.vs),s+=c.barycenter*c.weight,a+=c.weight,l=X_(o,i,l)});var u={vs:to.flatten(o,!0)};return a&&(u.barycenter=s/a,u.weight=a),u}function X_(e,t,n){for(var r;t.length&&(r=to.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}function RO(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}var $n=_e,IO=_O,PO=SO,MO=CO,AO=dN;function dN(e,t,n,r){var i=e.children(t),o=e.node(t),s=o?o.borderLeft:void 0,a=o?o.borderRight:void 0,l={};s&&(i=$n.filter(i,function(y){return y!==s&&y!==a}));var u=IO(e,i);$n.forEach(u,function(y){if(e.children(y.v).length){var v=dN(e,y.v,n,r);l[y.v]=v,$n.has(v,"barycenter")&&LO(y,v)}});var c=PO(u,n);OO(c,l);var f=MO(c,r);if(s&&(f.vs=$n.flatten([s,f.vs,a],!0),e.predecessors(s).length)){var h=e.node(e.predecessors(s)[0]),p=e.node(e.predecessors(a)[0]);$n.has(f,"barycenter")||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+h.order+p.order)/(f.weight+2),f.weight+=2}return f}function OO(e,t){$n.forEach(e,function(n){n.vs=$n.flatten(n.vs.map(function(r){return t[r]?t[r].vs:r}),!0)})}function LO(e,t){$n.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var no=_e,qO=Wt.Graph,zO=DO;function DO(e,t,n){var r=FO(e),i=new qO({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(o){return e.node(o)});return no.forEach(e.nodes(),function(o){var s=e.node(o),a=e.parent(o);(s.rank===t||s.minRank<=t&&t<=s.maxRank)&&(i.setNode(o),i.setParent(o,a||r),no.forEach(e[n](o),function(l){var u=l.v===o?l.w:l.v,c=i.edge(u,o),f=no.isUndefined(c)?0:c.weight;i.setEdge(u,o,{weight:e.edge(l).weight+f})}),no.has(s,"minRank")&&i.setNode(o,{borderLeft:s.borderLeft[t],borderRight:s.borderRight[t]}))}),i}function FO(e){for(var t;e.hasNode(t=no.uniqueId("_root")););return t}var $O=_e,BO=HO;function HO(e,t,n){var r={},i;$O.forEach(n,function(o){for(var s=e.parent(o),a,l;s;){if(a=e.parent(s),a?(l=r[a],r[a]=s):(l=i,i=s),l&&l!==s){t.setEdge(l,s);return}s=a}})}var Jn=_e,UO=gO,VO=yO,WO=AO,GO=zO,KO=BO,YO=Wt.Graph,Q_=ft,XO=QO;function QO(e){var t=Q_.maxRank(e),n=Z_(e,Jn.range(1,t+1),"inEdges"),r=Z_(e,Jn.range(t-1,-1,-1),"outEdges"),i=UO(e);J_(e,i);for(var o=Number.POSITIVE_INFINITY,s,a=0,l=0;l<4;++a,++l){ZO(a%2?n:r,a%4>=2),i=Q_.buildLayerMatrix(e);var u=VO(e,i);u<o&&(l=0,s=Jn.cloneDeep(i),o=u)}J_(e,s)}function Z_(e,t,n){return Jn.map(t,function(r){return GO(e,r,n)})}function ZO(e,t){var n=new YO;Jn.forEach(e,function(r){var i=r.graph().root,o=WO(r,i,n,t);Jn.forEach(o.vs,function(s,a){r.node(s).order=a}),KO(r,n,o.vs)})}function J_(e,t){Jn.forEach(t,function(n){Jn.forEach(n,function(r,i){e.node(r).order=i})})}var J=_e,JO=Wt.Graph,eL=ft,tL={positionX:fL};function nL(e,t){var n={};function r(i,o){var s=0,a=0,l=i.length,u=J.last(o);return J.forEach(o,function(c,f){var h=iL(e,c),p=h?e.node(h).order:l;(h||c===u)&&(J.forEach(o.slice(a,f+1),function(y){J.forEach(e.predecessors(y),function(v){var _=e.node(v),m=_.order;(m<s||p<m)&&!(_.dummy&&e.node(y).dummy)&&fN(n,v,y)})}),a=f+1,s=p)}),o}return J.reduce(t,r),n}function rL(e,t){var n={};function r(o,s,a,l,u){var c;J.forEach(J.range(s,a),function(f){c=o[f],e.node(c).dummy&&J.forEach(e.predecessors(c),function(h){var p=e.node(h);p.dummy&&(p.order<l||p.order>u)&&fN(n,h,c)})})}function i(o,s){var a=-1,l,u=0;return J.forEach(s,function(c,f){if(e.node(c).dummy==="border"){var h=e.predecessors(c);h.length&&(l=e.node(h[0]).order,r(s,u,f,a,l),u=f,a=l)}r(s,u,s.length,l,o.length)}),s}return J.reduce(t,i),n}function iL(e,t){if(e.node(t).dummy)return J.find(e.predecessors(t),function(n){return e.node(n).dummy})}function fN(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function oL(e,t,n){if(t>n){var r=t;t=n,n=r}return J.has(e[t],n)}function sL(e,t,n,r){var i={},o={},s={};return J.forEach(t,function(a){J.forEach(a,function(l,u){i[l]=l,o[l]=l,s[l]=u})}),J.forEach(t,function(a){var l=-1;J.forEach(a,function(u){var c=r(u);if(c.length){c=J.sortBy(c,function(v){return s[v]});for(var f=(c.length-1)/2,h=Math.floor(f),p=Math.ceil(f);h<=p;++h){var y=c[h];o[u]===u&&l<s[y]&&!oL(n,u,y)&&(o[y]=u,o[u]=i[u]=i[y],l=s[y])}}})}),{root:i,align:o}}function aL(e,t,n,r,i){var o={},s=lL(e,t,n,i),a=i?"borderLeft":"borderRight";function l(f,h){for(var p=s.nodes(),y=p.pop(),v={};y;)v[y]?f(y):(v[y]=!0,p.push(y),p=p.concat(h(y))),y=p.pop()}function u(f){o[f]=s.inEdges(f).reduce(function(h,p){return Math.max(h,o[p.v]+s.edge(p))},0)}function c(f){var h=s.outEdges(f).reduce(function(y,v){return Math.min(y,o[v.w]-s.edge(v))},Number.POSITIVE_INFINITY),p=e.node(f);h!==Number.POSITIVE_INFINITY&&p.borderType!==a&&(o[f]=Math.max(o[f],h))}return l(u,s.predecessors.bind(s)),l(c,s.successors.bind(s)),J.forEach(r,function(f){o[f]=o[n[f]]}),o}function lL(e,t,n,r){var i=new JO,o=e.graph(),s=hL(o.nodesep,o.edgesep,r);return J.forEach(t,function(a){var l;J.forEach(a,function(u){var c=n[u];if(i.setNode(c),l){var f=n[l],h=i.edge(f,c);i.setEdge(f,c,Math.max(s(e,u,l),h||0))}l=u})}),i}function uL(e,t){return J.minBy(J.values(t),function(n){var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return J.forIn(n,function(o,s){var a=pL(e,s)/2;r=Math.max(o+a,r),i=Math.min(o-a,i)}),r-i})}function cL(e,t){var n=J.values(t),r=J.min(n),i=J.max(n);J.forEach(["u","d"],function(o){J.forEach(["l","r"],function(s){var a=o+s,l=e[a],u;if(l!==t){var c=J.values(l);u=s==="l"?r-J.min(c):i-J.max(c),u&&(e[a]=J.mapValues(l,function(f){return f+u}))}})})}function dL(e,t){return J.mapValues(e.ul,function(n,r){if(t)return e[t.toLowerCase()][r];var i=J.sortBy(J.map(e,r));return(i[1]+i[2])/2})}function fL(e){var t=eL.buildLayerMatrix(e),n=J.merge(nL(e,t),rL(e,t)),r={},i;J.forEach(["u","d"],function(s){i=s==="u"?t:J.values(t).reverse(),J.forEach(["l","r"],function(a){a==="r"&&(i=J.map(i,function(f){return J.values(f).reverse()}));var l=(s==="u"?e.predecessors:e.successors).bind(e),u=sL(e,i,n,l),c=aL(e,i,u.root,u.align,a==="r");a==="r"&&(c=J.mapValues(c,function(f){return-f})),r[s+a]=c})});var o=uL(e,r);return cL(r,o),dL(r,e.graph().align)}function hL(e,t,n){return function(r,i,o){var s=r.node(i),a=r.node(o),l=0,u;if(l+=s.width/2,J.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":u=-s.width/2;break;case"r":u=s.width/2;break}if(u&&(l+=n?u:-u),u=0,l+=(s.dummy?t:e)/2,l+=(a.dummy?t:e)/2,l+=a.width/2,J.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":u=a.width/2;break;case"r":u=-a.width/2;break}return u&&(l+=n?u:-u),u=0,l}}function pL(e,t){return e.node(t).width}var ro=_e,hN=ft,mL=tL.positionX,gL=vL;function vL(e){e=hN.asNonCompoundGraph(e),yL(e),ro.forEach(mL(e),function(t,n){e.node(n).x=t})}function yL(e){var t=hN.buildLayerMatrix(e),n=e.graph().ranksep,r=0;ro.forEach(t,function(i){var o=ro.max(ro.map(i,function(s){return e.node(s).height}));ro.forEach(i,function(s){e.node(s).y=r+o/2}),r+=o+n})}var ee=_e,eb=l8,tb=k8,xL=Y8,wL=ft.normalizeRanks,_L=J8,bL=ft.removeEmptyRanks,nb=rO,SL=uO,rb=dO,EL=XO,kL=gL,rr=ft,NL=Wt.Graph,jL=CL;function CL(e,t){var n=t&&t.debugTiming?rr.time:rr.notime;n("layout",function(){var r=n("  buildLayoutGraph",function(){return DL(e)});n("  runLayout",function(){TL(r,n)}),n("  updateInputGraph",function(){RL(e,r)})})}function TL(e,t){t("    makeSpaceForEdgeLabels",function(){FL(e)}),t("    removeSelfEdges",function(){YL(e)}),t("    acyclic",function(){eb.run(e)}),t("    nestingGraph.run",function(){nb.run(e)}),t("    rank",function(){xL(rr.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){$L(e)}),t("    removeEmptyRanks",function(){bL(e)}),t("    nestingGraph.cleanup",function(){nb.cleanup(e)}),t("    normalizeRanks",function(){wL(e)}),t("    assignRankMinMax",function(){BL(e)}),t("    removeEdgeLabelProxies",function(){HL(e)}),t("    normalize.run",function(){tb.run(e)}),t("    parentDummyChains",function(){_L(e)}),t("    addBorderSegments",function(){SL(e)}),t("    order",function(){EL(e)}),t("    insertSelfEdges",function(){XL(e)}),t("    adjustCoordinateSystem",function(){rb.adjust(e)}),t("    position",function(){kL(e)}),t("    positionSelfEdges",function(){QL(e)}),t("    removeBorderNodes",function(){KL(e)}),t("    normalize.undo",function(){tb.undo(e)}),t("    fixupEdgeLabelCoords",function(){WL(e)}),t("    undoCoordinateSystem",function(){rb.undo(e)}),t("    translateGraph",function(){UL(e)}),t("    assignNodeIntersects",function(){VL(e)}),t("    reversePoints",function(){GL(e)}),t("    acyclic.undo",function(){eb.undo(e)})}function RL(e,t){ee.forEach(e.nodes(),function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))}),ee.forEach(e.edges(),function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,ee.has(i,"x")&&(r.x=i.x,r.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var IL=["nodesep","edgesep","ranksep","marginx","marginy"],PL={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},ML=["acyclicer","ranker","rankdir","align"],AL=["width","height"],OL={width:0,height:0},LL=["minlen","weight","width","height","labeloffset"],qL={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},zL=["labelpos"];function DL(e){var t=new NL({multigraph:!0,compound:!0}),n=rp(e.graph());return t.setGraph(ee.merge({},PL,np(n,IL),ee.pick(n,ML))),ee.forEach(e.nodes(),function(r){var i=rp(e.node(r));t.setNode(r,ee.defaults(np(i,AL),OL)),t.setParent(r,e.parent(r))}),ee.forEach(e.edges(),function(r){var i=rp(e.edge(r));t.setEdge(r,ee.merge({},qL,np(i,LL),ee.pick(i,zL)))}),t}function FL(e){var t=e.graph();t.ranksep/=2,ee.forEach(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function $L(e){ee.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i=e.node(t.w),o={rank:(i.rank-r.rank)/2+r.rank,e:t};rr.addDummyNode(e,"edge-proxy",o,"_ep")}})}function BL(e){var t=0;ee.forEach(e.nodes(),function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=ee.max(t,r.maxRank))}),e.graph().maxRank=t}function HL(e){ee.forEach(e.nodes(),function(t){var n=e.node(t);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function UL(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=e.graph(),s=o.marginx||0,a=o.marginy||0;function l(u){var c=u.x,f=u.y,h=u.width,p=u.height;t=Math.min(t,c-h/2),n=Math.max(n,c+h/2),r=Math.min(r,f-p/2),i=Math.max(i,f+p/2)}ee.forEach(e.nodes(),function(u){l(e.node(u))}),ee.forEach(e.edges(),function(u){var c=e.edge(u);ee.has(c,"x")&&l(c)}),t-=s,r-=a,ee.forEach(e.nodes(),function(u){var c=e.node(u);c.x-=t,c.y-=r}),ee.forEach(e.edges(),function(u){var c=e.edge(u);ee.forEach(c.points,function(f){f.x-=t,f.y-=r}),ee.has(c,"x")&&(c.x-=t),ee.has(c,"y")&&(c.y-=r)}),o.width=n-t+s,o.height=i-r+a}function VL(e){ee.forEach(e.edges(),function(t){var n=e.edge(t),r=e.node(t.v),i=e.node(t.w),o,s;n.points?(o=n.points[0],s=n.points[n.points.length-1]):(n.points=[],o=i,s=r),n.points.unshift(rr.intersectRect(r,o)),n.points.push(rr.intersectRect(i,s))})}function WL(e){ee.forEach(e.edges(),function(t){var n=e.edge(t);if(ee.has(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function GL(e){ee.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}function KL(e){ee.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),o=e.node(ee.last(n.borderLeft)),s=e.node(ee.last(n.borderRight));n.width=Math.abs(s.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}}),ee.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function YL(e){ee.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function XL(e){var t=rr.buildLayerMatrix(e);ee.forEach(t,function(n){var r=0;ee.forEach(n,function(i,o){var s=e.node(i);s.order=o+r,ee.forEach(s.selfEdges,function(a){rr.addDummyNode(e,"selfedge",{width:a.label.width,height:a.label.height,rank:s.rank,order:o+ ++r,e:a.e,label:a.label},"_se")}),delete s.selfEdges})})}function QL(e){ee.forEach(e.nodes(),function(t){var n=e.node(t);if(n.dummy==="selfedge"){var r=e.node(n.e.v),i=r.x+r.width/2,o=r.y,s=n.x-i,a=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*s/3,y:o-a},{x:i+5*s/6,y:o-a},{x:i+s,y:o},{x:i+5*s/6,y:o+a},{x:i+2*s/3,y:o+a}],n.label.x=n.x,n.label.y=n.y}})}function np(e,t){return ee.mapValues(ee.pick(e,t),Number)}function rp(e){var t={};return ee.forEach(e,function(n,r){t[r.toLowerCase()]=n}),t}var Rs=_e,ZL=ft,JL=Wt.Graph,eq={debugOrdering:tq};function tq(e){var t=ZL.buildLayerMatrix(e),n=new JL({compound:!0,multigraph:!0}).setGraph({});return Rs.forEach(e.nodes(),function(r){n.setNode(r,{label:r}),n.setParent(r,"layer"+e.node(r).rank)}),Rs.forEach(e.edges(),function(r){n.setEdge(r.v,r.w,{},r.name)}),Rs.forEach(t,function(r,i){var o="layer"+i;n.setNode(o,{rank:"same"}),Rs.reduce(r,function(s,a){return n.setEdge(s,a,{style:"invis"}),a})}),n}var nq="0.8.5",rq={graphlib:Wt,layout:jL,debug:eq,util:{time:ft.time,notime:ft.notime},version:nq};const ib=gm(rq),ob=(e,t)=>{const n=new ib.graphlib.Graph;return n.setGraph({rankdir:"TB",align:"UL",nodesep:20,ranksep:70,marginx:100,marginy:30,ranker:"longest-path"}),n.setDefaultEdgeLabel(()=>({})),e.forEach(r=>{n.setNode(r.id,{width:r.data.width??280,height:r.data.height??90})}),t.forEach(r=>{n.setEdge(r.source,r.target)}),ib.layout(n),{nodes:e.map(r=>{const i=n.node(r.id);return{...r,targetPosition:X.Top,sourcePosition:X.Bottom,position:{x:i.x-(r.data.width??280)/2,y:i.y-(r.data.height??90)/2}}}),edges:t}},sb=(e,t,n)=>{let r=[],i=[],o=null,s=null,a=[];const l=n.theme||"industrial";return e.forEach((u,c)=>{var y,v;if((u.level||1)!==1)return;const f=280;let h=95;u.state==="active"&&u.stations&&(h+=35);const p=t===u.id;if(r.push({id:u.id,type:"documentNode",data:{...u,width:f,height:h,isExpanded:p,...n},draggable:!1,connectable:!1,position:{x:0,y:0},zIndex:p?1e3:0}),o){const _=(y=e[c-1])==null?void 0:y.state;i.push({id:"e-"+o+"-"+u.id,source:o,target:u.id,type:"smoothstep",animated:_==="active",style:{stroke:XE(_,l),strokeWidth:3}})}((v=u.children)==null?void 0:v.length)>0&&(s=u.id,a=u.children),o=u.id}),{nodes:r,edges:i,epicBacklogId:s,epicChildren:a}},ab=(e,t,n,r,i)=>{const{nodes:o,edges:s}=e;if(!t||!n.length)return{nodes:o,edges:s};const a=o.find(w=>w.id===t);if(!a)return{nodes:o,edges:s};const l=a.position.x,u=a.position.y+(a.data.height||95),c=a.data.state,f=i.theme||"industrial",h=XE(c,f),p=c==="active",y=Ot.EPIC_HEIGHT+Ot.EPIC_GAP_Y,v=Math.ceil(n.length/Ot.EPICS_PER_ROW),_=l+280*.15,m=50,g={};n.forEach((w,x)=>{const S=Math.floor(x/Ot.EPICS_PER_ROW);g[S]||(g[S]=[]),g[S].push({epic:w,idx:x})});for(let w=0;w<v;w++){const x=g[w]||[];if(x.length===0)continue;const S=u+Ot.EPIC_OFFSET_Y+w*y,E=`junction-row-${w}`;o.push({id:E,type:"waypoint",position:{x:_,y:S-m},draggable:!1,connectable:!1,selectable:!1}),w===0?s.push({id:`e-spine-drop-${w}`,source:t,target:E,type:"straight",animated:p,style:{stroke:h,strokeWidth:2}}):s.push({id:`e-spine-${w-1}-to-${w}`,source:`junction-row-${w-1}`,target:E,type:"straight",animated:p,style:{stroke:h,strokeWidth:2}}),x.forEach(({epic:N,idx:C})=>{const R=C%Ot.EPICS_PER_ROW,O=l+Ot.EPIC_OFFSET_X+R*(Ot.EPIC_WIDTH+Ot.EPIC_GAP_X),L=S,F=r===N.id;o.push({id:N.id,type:"documentNode",data:{...N,width:Ot.EPIC_WIDTH,height:Ot.EPIC_HEIGHT,isExpanded:F,...i},draggable:!1,connectable:!1,position:{x:O,y:L},targetPosition:X.Top,sourcePosition:X.Bottom,zIndex:F?1e3:0}),s.push({id:`e-branch-${N.id}`,source:E,target:N.id,type:"smoothstep",pathOptions:{borderRadius:20},animated:p,style:{stroke:h,strokeWidth:2}})})}return{nodes:o,edges:s}},iq={produced:"produced",in_production:"in_production",ready_for_production:"ready_for_production",requirements_not_met:"requirements_not_met",awaiting_operator:"awaiting_operator",halted:"halted",queued:"ready_for_production",blocked:"requirements_not_met",assembling:"in_production",binding:"in_production",auditing:"in_production",remediating:"in_production",stabilized:"produced"},lb={pgc:"PGC",bind:"BIND",asm:"ASM",aud:"AUD",rem:"REM",done:"DONE"};function oq(e){const t={};for(const n of e.projects)t[n.id]={id:n.id,projectId:n.project_id,name:n.name,description:n.description||"",status:n.status==="active"?"active":n.is_archived?"complete":"queued",icon:n.icon,createdAt:n.created_at,isArchived:n.is_archived||!1};return t}function sq(e,t=[]){const n=[],r=[],i=[];for(const o of e.tracks){const s=aq(o,t);o.scope==="epic"?i.push(s):r.push(s)}for(const o of r)o.id==="epic_backlog"&&i.length>0&&(o.children=i.map(s=>({...s,level:2}))),n.push(o);return n}function aq(e,t=[]){const n=iq[e.state]||"ready_for_production",r=e.state==="awaiting_operator",i=t.find(a=>a.document_type===e.document_type);let o=null;(n==="in_production"||r)&&(o=lq(e.stations,e.state,e.station));let s=null;return i&&i.questions&&(s=i.questions.map((a,l)=>({id:a.id||`q${l+1}`,text:a.question||a.text||a,required:a.required!==!1}))),{id:e.document_type,name:e.document_name||uq(e.document_type),desc:e.description||"",state:n,intent:"mandatory",level:1,stations:o,questions:s,interruptId:i==null?void 0:i.id,blockedBy:e.blocked_by||[]}}function lq(e,t,n){if(!e||e.length===0){const r=n||(t==="awaiting_operator"?"pgc":t==="in_production"?"asm":null);return uu.map(i=>({id:i,label:lb[i]||i.toUpperCase(),state:r===i?"active":uu.indexOf(i)<uu.indexOf(r)?"complete":"pending",needs_input:i==="pgc"&&t==="awaiting_operator"}))}return e.map(r=>({id:r.station,label:lb[r.station]||r.station.toUpperCase(),state:r.state||"pending",needs_input:r.needs_input||!1}))}function uq(e){return e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function cq({includeArchived:e=!1}={}){const[t,n]=k.useState({}),[r,i]=k.useState(!0),[o,s]=k.useState(null),a=k.useCallback(async()=>{i(!0),s(null);try{const u=await Pe.getProjects({includeArchived:e}),c=oq(u);n(c)}catch(u){s(u.message),console.error("Failed to fetch projects:",u)}finally{i(!1)}},[e]),l=k.useCallback(async u=>{try{const c=await Pe.createProject({name:u,description:""});return n(f=>({...f,[c.id]:{id:c.id,projectId:c.project_id,name:c.name,description:c.description||"",status:"active",icon:c.icon,createdAt:c.created_at}})),c}catch(c){throw s(c.message),console.error("Failed to create project:",c),c}},[]);return k.useEffect(()=>{a()},[a]),{projects:t,loading:r,error:o,addProject:l,refresh:a}}function dq(e){const[t,n]=k.useState([]),[r,i]=k.useState("idle"),[o,s]=k.useState([]),[a,l]=k.useState(!0),[u,c]=k.useState(null),[f,h]=k.useState(!1),p=k.useRef(null),y=k.useRef(null),v=k.useCallback(async()=>{if(e)try{l(!0),c(null);const[x,S]=await Promise.all([Pe.getProductionStatus(e),Pe.getProjectInterrupts(e).catch(()=>[])]);s(S),i(x.line_state),n(sq(x,S))}catch(x){c(x.message),console.error("Failed to fetch production status:",x)}finally{l(!1)}},[e]),_=k.useCallback(()=>{if(!e)return;p.current&&p.current.close();const x=AP(e);p.current=x,x.addEventListener("connected",()=>{h(!0),c(null),console.log(`SSE connected for project ${e}`)}),x.addEventListener("station_transition",S=>{try{const E=JSON.parse(S.data);console.log("Station transition:",E),v()}catch(E){console.error("Failed to parse station_transition:",E)}}),x.addEventListener("line_stopped",S=>{try{const E=JSON.parse(S.data);console.log("Line stopped:",E),i("stopped"),v()}catch(E){console.error("Failed to parse line_stopped:",E)}}),x.addEventListener("production_complete",S=>{try{const E=JSON.parse(S.data);console.log("Production complete:",E),i("complete"),v()}catch(E){console.error("Failed to parse production_complete:",E)}}),x.addEventListener("interrupt_resolved",S=>{try{const E=JSON.parse(S.data);console.log("Interrupt resolved:",E),v()}catch(E){console.error("Failed to parse interrupt_resolved:",E)}}),x.addEventListener("track_started",S=>{try{const E=JSON.parse(S.data);console.log("Track started:",E),i("active"),v()}catch(E){console.error("Failed to parse track_started:",E)}}),x.onerror=S=>{console.error("SSE error:",S),h(!1),c("Connection lost"),x.close(),y.current=setTimeout(()=>{console.log("Attempting SSE reconnect..."),_()},3e3)}},[e,v]),m=k.useCallback(()=>{y.current&&clearTimeout(y.current),p.current&&(p.current.close(),p.current=null),h(!1)},[]),g=k.useCallback(async(x,S)=>{try{await Pe.resolveInterrupt(x,{answers:S}),await v()}catch(E){throw console.error("Failed to resolve interrupt:",E),E}},[v]),w=k.useCallback(async(x=null)=>{try{await Pe.startProduction(e,x),i("active"),await v()}catch(S){throw console.error("Failed to start production:",S),S}},[e,v]);return k.useEffect(()=>(v(),_(),()=>m()),[v,_,m]),{data:t,lineState:r,interrupts:o,loading:a,error:u,connected:f,refresh:v,resolveInterrupt:g,startProduction:w}}const ub="combine-theme";function pN(e="industrial"){const[t,n]=k.useState(()=>{if(typeof window>"u")return e;const o=localStorage.getItem(ub);return o&&Fn.includes(o)?o:e});k.useEffect(()=>{localStorage.setItem(ub,t)},[t]);const r=k.useCallback(o=>{Fn.includes(o)&&n(o)},[]),i=k.useCallback(()=>{n(o=>{const s=Fn.indexOf(o);return Fn[(s+1)%Fn.length]})},[]);return{theme:t,setTheme:r,cycleTheme:i}}function fq(){const[e,t]=k.useState(null),[n,r]=k.useState("idle"),[i,o]=k.useState([]),[s,a]=k.useState(null),[l,u]=k.useState(null),[c,f]=k.useState({}),[h,p]=k.useState(0),[y,v]=k.useState([]),[_,m]=k.useState(!1),[g,w]=k.useState(null),[x,S]=k.useState(null),[E,N]=k.useState(null),[C,R]=k.useState(!1),[O,L]=k.useState(!1),F=k.useRef(null),q=k.useRef(!0);k.useEffect(()=>(q.current=!0,()=>{q.current=!1,F.current&&F.current.close()}),[]);const b=k.useCallback(M=>{q.current&&(r(M.phase),o(M.messages||[]),a(M.pending_prompt),u(M.pending_choices),f(M.interpretation||{}),p(M.confidence||0),v(M.missing_fields||[]),m(M.can_initialize||!1),w(M.gate_outcome),S(M.project))},[]),P=k.useCallback(async()=>{N(null),R(!0);try{const M=await Pe.startIntake();if(!q.current)return;t(M.execution_id),r(M.phase||"describe"),a(M.pending_prompt),o([]),f({}),S(null),w(null)}catch(M){if(!q.current)return;N(M.message||"Failed to start intake")}finally{q.current&&R(!1)}},[]),T=k.useCallback(async M=>{if(!e||!M.trim())return;N(null),L(!0);const D={role:"user",content:M};o(B=>[...B,D]);try{const B=await Pe.submitIntakeMessage(e,M);if(!q.current)return;b(B)}catch(B){if(!q.current)return;o(U=>U.filter(K=>K!==D)),N(B.message||"Failed to submit message")}finally{q.current&&L(!1)}},[e,b]),z=k.useCallback(async(M,D)=>{if(e){N(null),f(B=>({...B,[M]:{value:D,source:"user",locked:!0}}));try{const B=await Pe.updateIntakeField(e,M,D);if(!q.current)return;b(B)}catch(B){if(!q.current)return;N(B.message||"Failed to update field");const U=await Pe.getIntakeState(e);q.current&&b(U)}}},[e,b]),I=k.useCallback(async()=>{if(!(!e||!_)){N(null),R(!0);try{const M=await Pe.initializeIntake(e);if(!q.current)return;b(M),M.phase==="generating"&&j()}catch(M){if(!q.current)return;N(M.message||"Failed to initialize project"),R(!1)}}},[e,_,b]),j=k.useCallback(()=>{F.current&&F.current.close();const M=OP(e);F.current=M,M.addEventListener("started",D=>{if(!q.current)return;const B=JSON.parse(D.data);console.log("Intake started:",B)}),M.addEventListener("progress",D=>{if(!q.current)return;const B=JSON.parse(D.data);console.log("Intake progress:",B.current_node)}),M.addEventListener("complete",async D=>{if(!q.current)return;const B=JSON.parse(D.data);console.log("Intake complete:",B),M.close(),F.current=null,r("complete"),w(B.gate_outcome),S(B.project),R(!1)}),M.addEventListener("error",D=>{if(q.current&&M.readyState!==EventSource.CLOSED){try{const B=JSON.parse(D.data);N(B.message||"Generation failed")}catch{N("Connection lost during generation")}M.close(),F.current=null,R(!1)}}),M.onerror=()=>{q.current&&M.readyState===EventSource.CLOSED&&(F.current=null,R(!1))}},[e]),A=k.useCallback(()=>{F.current&&(F.current.close(),F.current=null),t(null),r("idle"),o([]),a(null),u(null),f({}),p(0),v([]),m(!1),w(null),S(null),N(null),R(!1),L(!1)},[]);return{executionId:e,phase:n,messages:i,pendingPrompt:s,pendingChoices:l,interpretation:c,confidence:h,missingFields:y,canInitialize:_,gateOutcome:g,project:x,error:E,loading:C,submitting:O,startIntake:P,submitMessage:T,updateField:z,lockAndGenerate:I,reset:A}}const mN=k.createContext(null);function hq({children:e}){const[t,n]=k.useState(null),[r,i]=k.useState(!0),[o,s]=k.useState(null);k.useEffect(()=>{a()},[]);const a=k.useCallback(async()=>{i(!0),s(null);try{const f=await Pe.getMe();f&&f.user?n(f.user):n(null)}catch(f){console.error("Auth check failed:",f),s(f.message),n(null)}finally{i(!1)}},[]),l=k.useCallback(f=>{window.location.href=LP(f)},[]),u=k.useCallback(async()=>{try{await Pe.logout(),n(null),window.location.href="/"}catch(f){console.error("Logout failed:",f),n(null)}},[]),c={user:t,loading:r,error:o,isAuthenticated:!!t,isAdmin:(t==null?void 0:t.is_admin)||!1,login:l,logout:u,checkAuth:a};return d.jsx(mN.Provider,{value:c,children:e})}function es(){const e=k.useContext(mN);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}const pq={documentNode:iM,waypoint:oM},mq={industrial:"Industrial",light:"Light",blueprint:"Blueprint"};function gq({projectId:e,projectCode:t,projectName:n,isArchived:r,autoExpandNodeId:i,theme:o,onThemeChange:s,onProjectUpdate:a,onProjectArchive:l,onProjectUnarchive:u,onProjectDelete:c}){const{data:f,lineState:h,loading:p,error:y,connected:v,resolveInterrupt:_}=dq(e),[m,g]=k.useState([]),[w,x]=k.useState(null),[S,E]=k.useState(null),[N,C]=k.useState(null),[R,O]=k.useState(!1),[L,F]=k.useState(""),[q,b]=k.useState(!1),[P,T]=k.useState(!1),z=kg();k.useEffect(()=>{f.length>0&&g(f)},[f]),k.useEffect(()=>{i&&m.length>0&&setTimeout(()=>{x(i),E("questions")},300)},[i,m.length]),k.useEffect(()=>{x(null),E(null)},[e]);const I=k.useCallback(()=>{const V=Fn.indexOf(o);s(Fn[(V+1)%Fn.length])},[o,s]),j=k.useCallback(()=>{F(n||""),O(!0)},[n]),A=k.useCallback(async()=>{if(!L.trim()||L===n){O(!1);return}T(!0);try{await a(e,{name:L.trim()}),O(!1)}catch(V){console.error("Failed to update name:",V)}finally{T(!1)}},[L,n,e,a]),M=k.useCallback(()=>{O(!1),F("")},[]),D=k.useCallback(async()=>{T(!0);try{r?await u(e):await l(e)}catch(V){console.error("Failed to toggle archive:",V)}finally{T(!1)}},[e,r,l,u]),B=k.useCallback(async()=>{T(!0);try{await c(e),b(!1)}catch(V){console.error("Failed to delete:",V)}finally{T(!1)}},[e,c]),U=k.useCallback(V=>{const oe=z.getNode(V);if(oe){const W=window.innerWidth,ce=-oe.position.x*.9+W/2-400,qe=-oe.position.y*.9+120;z.setViewport({x:ce,y:qe,zoom:.9},{duration:800})}},[z]),K=k.useMemo(()=>({onExpand:(V,oe)=>{x(V),E(oe)},onCollapse:()=>{x(null),E(null),setTimeout(()=>z.fitView({padding:.2,duration:300}),50)},onViewFullDocument:V=>{C(V)},onSubmitQuestions:async(V,oe)=>{console.log("Submitted:",V,oe);const G=m.find(W=>W.id===V);if(G!=null&&G.interruptId)try{await _(G.interruptId,oe)}catch(W){console.error("Failed to submit answers:",W)}x(null),E(null),g(W=>{const ce=qe=>qe.map(be=>be.id===V&&be.stations?{...be,stations:be.stations.map(pe=>pe.id==="pgc"?{...pe,state:"complete",needs_input:!1}:pe.id==="asm"?{...pe,state:"active"}:pe)}:be.children?{...be,children:ce(be.children)}:be);return ce(W)})}}),[z,m,_]),{layoutNodes:Q,layoutEdges:Z}=k.useMemo(()=>{if(m.length===0)return{layoutNodes:[],layoutEdges:[]};const V={...K,expandType:S,theme:o,onZoomToNode:U,projectId:e,projectCode:t},{nodes:oe,edges:G,epicBacklogId:W,epicChildren:ce}=sb(m,w,V),qe=ob(oe,G),{nodes:be,edges:pe}=ab(qe,W,ce,w,V);return{layoutNodes:be.map(je=>({...je,data:{...je.data,expandType:je.id===w?S:null}})),layoutEdges:pe}},[m,w,S,K,o,U,e,t]),[ae,re,ie]=dP(Q),[Re,ve,Le]=fP(Z);k.useEffect(()=>{if(m.length===0)return;const V={...K,expandType:S,theme:o,onZoomToNode:U,projectId:e,projectCode:t},{nodes:oe,edges:G,epicBacklogId:W,epicChildren:ce}=sb(m,w,V),qe=ob(oe,G),{nodes:be,edges:pe}=ab(qe,W,ce,w,V),ye=be.map(je=>({...je,data:{...je.data,expandType:je.id===w?S:null}}));re(ye),ve(pe)},[m,w,S,K,re,ve,o,U,e,t]);const Me=k.useCallback((V,oe)=>{},[]);return p&&m.length===0?d.jsx("div",{className:"flex items-center justify-center h-full",style:{background:"var(--bg-canvas)"},children:d.jsxs("div",{className:"text-center",children:[d.jsx("img",{src:"/logo-light.png",alt:"The Combine",className:"h-12 mx-auto mb-4 animate-pulse"}),d.jsx("p",{style:{color:"var(--text-muted)"},children:"Loading production line..."})]})}):y&&m.length===0?d.jsx("div",{className:"flex items-center justify-center h-full",style:{background:"var(--bg-canvas)"},children:d.jsx("div",{className:"text-center p-6 rounded-lg",style:{background:"var(--bg-panel)"},children:d.jsx("p",{className:"text-red-500 mb-4",children:y})})}):d.jsxs("div",{className:"w-full h-full",children:[d.jsxs(WE,{nodes:ae,edges:Re,onNodesChange:ie,onEdgesChange:Le,onNodeClick:Me,nodeTypes:pq,nodesDraggable:!1,nodesConnectable:!1,edgesUpdatable:!1,edgesFocusable:!1,elementsSelectable:!1,fitView:!0,fitViewOptions:{padding:.2},minZoom:.3,maxZoom:1.5,style:{background:"var(--bg-canvas)"},proOptions:{hideAttribution:!0},defaultEdgeOptions:{type:"smoothstep"},children:[d.jsx(po,{position:"top-left",children:d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"subway-panel backdrop-blur rounded-lg px-4 py-3 border",children:d.jsxs("div",{className:"flex items-center justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:"Production Line"}),d.jsxs("p",{className:"text-xs",style:{color:"var(--text-muted)"},children:[h==="active"&&d.jsx("span",{className:"text-amber-500",children:" Active"}),h==="stopped"&&d.jsx("span",{className:"text-red-500",children:" Stopped"}),h==="complete"&&d.jsx("span",{className:"text-emerald-500",children:" Complete"}),h==="idle"&&d.jsx("span",{children:" Idle"}),!v&&d.jsx("span",{className:"ml-2 text-red-400",children:"(Disconnected)"})]})]}),d.jsx("button",{onClick:I,className:"subway-button px-3 py-1.5 rounded-md text-xs font-medium transition-colors",children:mq[o]})]})}),d.jsx("div",{className:"subway-panel backdrop-blur rounded-lg px-4 py-3 border",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0",style:{background:"var(--state-active-bg)"},children:d.jsx("svg",{className:"w-5 h-5 text-white",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("p",{className:"text-xs font-mono",style:{color:"var(--text-muted)"},children:t||"No Project"}),R?d.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d.jsx("input",{type:"text",value:L,onChange:V=>F(V.target.value),onKeyDown:V=>{V.key==="Enter"&&A(),V.key==="Escape"&&M()},className:"flex-1 px-2 py-1 text-sm rounded border bg-transparent",style:{color:"var(--text-primary)",borderColor:"var(--border-panel)"},autoFocus:!0,disabled:P}),d.jsx("button",{onClick:A,disabled:P,className:"p-1 rounded hover:bg-white/10",title:"Save",children:d.jsx("svg",{className:"w-4 h-4 text-emerald-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M5 13l4 4L19 7"})})}),d.jsx("button",{onClick:M,disabled:P,className:"p-1 rounded hover:bg-white/10",title:"Cancel",children:d.jsx("svg",{className:"w-4 h-4",style:{color:"var(--text-muted)"},viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}):d.jsx("p",{className:"text-sm font-semibold truncate",style:{color:"var(--text-primary)"},children:n||"Untitled Project"})]}),!R&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("button",{onClick:j,className:"p-1.5 rounded hover:bg-white/10 transition-colors",style:{color:"var(--text-muted)"},title:"Edit name",children:d.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"}),d.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),d.jsx("button",{onClick:D,disabled:P,className:"p-1.5 rounded hover:bg-white/10 transition-colors",style:{color:r?"#f59e0b":"var(--text-muted)"},title:r?"Unarchive project":"Archive project",children:d.jsxs("svg",{className:"w-4 h-4 relative",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M21 8v13H3V8M1 3h22v5H1zM10 12h4"}),r&&d.jsx("path",{d:"M4 20L20 4",strokeWidth:"2.5",stroke:"currentColor"})]})}),d.jsx("button",{onClick:()=>b(!0),disabled:P||!r,className:`p-1.5 rounded transition-colors ${r?"hover:bg-red-500/20":""}`,style:{color:"var(--text-muted)",opacity:r?1:.3,cursor:r?"pointer":"not-allowed"},title:r?"Delete project":"Archive project first to delete",children:d.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"})})})]})]})})]})}),d.jsx(bP,{position:"top-right",nodeColor:V=>{var G;const oe=(G=V.data)==null?void 0:G.state;return["produced","stabilized","ready"].includes(oe)?"#10b981":["in_production","active"].includes(oe)?"#f59e0b":["requirements_not_met","blocked"].includes(oe)?"#ef4444":"#475569"},maskColor:"rgba(11, 17, 32, 0.85)",style:{background:"var(--bg-panel)",border:"1px solid var(--border-panel)",borderRadius:8},pannable:!0,zoomable:!0}),d.jsx(po,{position:"bottom-left",children:d.jsxs("div",{className:"subway-panel flex gap-4 text-[10px] backdrop-blur px-4 py-2.5 rounded-lg border",children:[d.jsx("span",{style:{color:"var(--text-muted)"},className:"font-medium",children:"STATE:"}),d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:"var(--state-stabilized-bg)"}}),d.jsx("span",{style:{color:"var(--text-muted)"},children:"Produced"})]}),d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:"var(--state-active-bg)"}}),d.jsx("span",{style:{color:"var(--text-muted)"},children:"In Production"})]}),d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:"var(--state-queued-bg)"}}),d.jsx("span",{style:{color:"var(--text-muted)"},children:"Ready"})]})]})}),d.jsx(po,{position:"bottom-right",children:d.jsx("div",{className:"subway-panel text-[10px] px-2 py-1 rounded",style:{color:"var(--text-muted)"},children:"Scroll to zoom | Drag to pan"})})]}),N&&d.jsx(sM,{projectId:e,projectCode:t,docTypeId:N,onClose:()=>C(null)}),q&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:d.jsxs("div",{className:"rounded-lg p-6 max-w-sm mx-4",style:{background:"var(--bg-panel)",border:"1px solid var(--border-panel)"},children:[d.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:"var(--text-primary)"},children:"Delete Project?"}),d.jsxs("p",{className:"text-sm mb-4",style:{color:"var(--text-muted)"},children:["This will permanently delete ",d.jsx("strong",{children:n})," and all its documents. This action cannot be undone."]}),d.jsxs("div",{className:"flex gap-3 justify-end",children:[d.jsx("button",{onClick:()=>b(!1),disabled:P,className:"px-4 py-2 rounded text-sm font-medium transition-colors",style:{color:"var(--text-muted)"},children:"Cancel"}),d.jsx("button",{onClick:B,disabled:P,className:"px-4 py-2 rounded text-sm font-medium bg-red-500 text-white hover:bg-red-600 transition-colors",children:P?"Deleting...":"Delete"})]})]})})]})}function Is({messages:e,pendingPrompt:t}){const n=k.useRef(null);return k.useEffect(()=>{var r;(r=n.current)==null||r.scrollIntoView({behavior:"smooth"})},[e,t]),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[e.map((r,i)=>d.jsx("div",{className:`flex ${r.role==="user"?"justify-end":"justify-start"}`,children:d.jsx("div",{className:`max-w-[85%] rounded-lg px-3 py-2 text-sm ${r.role==="user"?"bg-emerald-500/20 text-emerald-100 rounded-br-sm":"bg-violet-500/20 text-violet-100 rounded-bl-sm"}`,children:r.content})},i)),t&&d.jsx("div",{className:"flex justify-start",children:d.jsx("div",{className:"max-w-[85%] rounded-lg px-3 py-2 text-sm bg-violet-500/20 text-violet-100 rounded-bl-sm",children:t})}),d.jsx("div",{ref:n})]})}function vq({onSubmit:e,disabled:t,placeholder:n}){const[r,i]=k.useState(""),o=k.useRef(null);k.useEffect(()=>{var l;t||(l=o.current)==null||l.focus()},[t]);const s=l=>{l.key==="Enter"&&!l.shiftKey&&(l.preventDefault(),r.trim()&&!t&&(e(r.trim()),i("")))},a=()=>{r.trim()&&!t&&(e(r.trim()),i(""))};return d.jsxs("div",{className:"p-3 border-t",style:{borderColor:"var(--border-panel)"},children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx("textarea",{ref:o,value:r,onChange:l=>i(l.target.value),onKeyDown:s,disabled:t,placeholder:n||"Type your message...",rows:2,className:"flex-1 rounded-lg px-3 py-2 text-sm resize-none",style:{background:"var(--bg-input)",border:"1px solid var(--border-input)",color:"var(--text-primary)"}}),d.jsx("button",{onClick:a,disabled:t||!r.trim(),className:`px-4 rounded-lg font-medium text-sm transition-colors ${t||!r.trim()?"bg-slate-600 text-slate-400 cursor-not-allowed":"bg-violet-500 text-white hover:bg-violet-400"}`,children:"Send"})]}),d.jsx("p",{className:"text-[10px] mt-1",style:{color:"var(--text-muted)"},children:"Press Enter to send, Shift+Enter for newline"})]})}const yq={project_name:"Project Name",problem_statement:"Problem Statement",project_type:"Project Type"},xq=["project_name","problem_statement","project_type"];function wq({interpretation:e,missingFields:t,canInitialize:n,onUpdateField:r,onInitialize:i,loading:o}){const[s,a]=k.useState(null),[l,u]=k.useState(""),c=(p,y)=>{a(p),u(y)},f=async()=>{s&&l.trim()&&(await r(s,l.trim()),a(null),u(""))},h=()=>{a(null),u("")};return d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide",style:{color:"var(--text-muted)"},children:"Review & Lock"}),t.length>0&&d.jsxs("span",{className:"text-[10px] px-2 py-0.5 rounded bg-amber-500/20 text-amber-400",children:[t.length," missing"]})]}),xq.map(p=>{const y=e[p];if(!y)return null;const v=y.locked,_=t.includes(p),m=s===p;return d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("label",{className:"text-[10px] font-medium",style:{color:"var(--text-muted)"},children:[yq[p]||p,_&&d.jsx("span",{className:"text-amber-400 ml-1",children:"*"})]}),v&&d.jsx("span",{className:"text-[9px] px-1.5 py-0.5 rounded bg-emerald-500/20 text-emerald-400",children:"locked"})]}),m?d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:l,onChange:g=>u(g.target.value),onKeyDown:g=>{g.key==="Enter"&&f(),g.key==="Escape"&&h()},autoFocus:!0,className:"flex-1 rounded px-2 py-1.5 text-xs",style:{background:"var(--bg-input)",border:"1px solid var(--border-input)",color:"var(--text-primary)"}}),d.jsx("button",{onClick:f,className:"px-2 py-1 rounded text-xs bg-emerald-500 text-white",children:"Save"}),d.jsx("button",{onClick:h,className:"px-2 py-1 rounded text-xs",style:{background:"var(--bg-button)",color:"var(--text-muted)"},children:"Cancel"})]}):d.jsx("div",{onClick:()=>!v&&c(p,y.value),className:`rounded px-2 py-1.5 text-xs ${v?"cursor-default":"cursor-pointer hover:bg-white/5"} ${_?"border border-amber-500/50":""}`,style:{background:"var(--bg-input)",color:y.value?"var(--text-primary)":"var(--text-muted)"},children:y.value||"Click to edit..."})]},p)}),d.jsx("button",{onClick:i,disabled:!n||o,className:`w-full py-2.5 rounded-lg text-sm font-medium transition-colors ${n&&!o?"bg-violet-500 text-white hover:bg-violet-400":"bg-slate-600 text-slate-400 cursor-not-allowed"}`,children:o?"Initializing...":"Lock & Initialize Project"}),!n&&d.jsx("p",{className:"text-[10px] text-center",style:{color:"var(--text-muted)"},children:"Fill all required fields to continue"})]})}function _q(){return d.jsxs("div",{className:"flex flex-col items-center justify-center py-8 px-4",children:[d.jsxs("div",{className:"relative w-16 h-16 mb-4",children:[d.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-violet-500/20"}),d.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-t-violet-500 border-r-transparent border-b-transparent border-l-transparent animate-spin"}),d.jsx("div",{className:"absolute inset-3 rounded-full bg-violet-500/20 animate-pulse"})]}),d.jsx("h3",{className:"text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Generating Project"}),d.jsx("p",{className:"text-xs text-center max-w-[200px]",style:{color:"var(--text-muted)"},children:"Creating intake document and running quality checks..."}),d.jsxs("div",{className:"flex gap-1 mt-4",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-violet-500 animate-bounce",style:{animationDelay:"0ms"}}),d.jsx("div",{className:"w-2 h-2 rounded-full bg-violet-500 animate-bounce",style:{animationDelay:"150ms"}}),d.jsx("div",{className:"w-2 h-2 rounded-full bg-violet-500 animate-bounce",style:{animationDelay:"300ms"}})]})]})}const cb={qualified:{icon:"check",iconBg:"bg-emerald-500/20",iconColor:"text-emerald-400",title:"Project Created",description:"Your project is ready for PM Discovery."},not_ready:{icon:"warning",iconBg:"bg-amber-500/20",iconColor:"text-amber-400",title:"Not Ready",description:"Additional information is needed before proceeding."},out_of_scope:{icon:"x",iconBg:"bg-slate-500/20",iconColor:"text-slate-400",title:"Out of Scope",description:"This request is outside the scope of The Combine."},redirect:{icon:"arrow",iconBg:"bg-blue-500/20",iconColor:"text-blue-400",title:"Redirected",description:"This request has been redirected to a different engagement type."},blocked:{icon:"warning",iconBg:"bg-amber-500/20",iconColor:"text-amber-400",title:"Blocked",description:"The workflow could not complete due to validation issues."}};function bq({type:e,className:t}){switch(e){case"check":return d.jsx("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("polyline",{points:"20 6 9 17 4 12"})});case"warning":return d.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M12 9v4M12 17h.01"}),d.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"})]});case"x":return d.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]});case"arrow":return d.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),d.jsx("polyline",{points:"12 5 19 12 12 19"})]});default:return null}}function Sq({gateOutcome:e,project:t,onViewProject:n,onClose:r}){const i=cb[e]||cb.blocked,o=e==="qualified";return d.jsxs("div",{className:"p-6 text-center",children:[d.jsx("div",{className:`w-16 h-16 rounded-full ${i.iconBg} flex items-center justify-center mx-auto mb-4`,children:d.jsx(bq,{type:i.icon,className:`w-8 h-8 ${i.iconColor}`})}),d.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:"var(--text-primary)"},children:i.title}),d.jsx("p",{className:"text-sm mb-4",style:{color:"var(--text-muted)"},children:i.description}),o&&t&&d.jsxs("div",{className:"rounded-lg p-3 mb-4",style:{background:"var(--bg-input)"},children:[d.jsx("p",{className:"text-xs font-mono mb-1",style:{color:"var(--text-muted)"},children:t.project_id}),d.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:t.name})]}),d.jsxs("div",{className:"flex gap-2 justify-center",children:[o&&t&&d.jsx("button",{onClick:n,className:"px-4 py-2 rounded-lg text-sm font-medium bg-emerald-500 text-white hover:bg-emerald-400 transition-colors",children:"View Project"}),d.jsx("button",{onClick:r,className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors",style:{background:"var(--bg-button)",color:"var(--text-muted)"},children:"Close"})]})]})}function Eq({onClose:e,onComplete:t}){const{phase:n,messages:r,pendingPrompt:i,interpretation:o,missingFields:s,canInitialize:a,gateOutcome:l,project:u,error:c,loading:f,submitting:h,startIntake:p,submitMessage:y,updateField:v,lockAndGenerate:_,reset:m}=fq();k.useEffect(()=>(p(),()=>m()),[]);const g=()=>{m(),e()},w=()=>{u&&t&&t(u),g()},x=()=>{const E=[{id:"describe",label:"Describe"},{id:"review",label:"Review"},{id:"generating",label:"Generate"},{id:"complete",label:"Done"}],N=E.findIndex(C=>C.id===n);return d.jsx("div",{className:"flex items-center gap-1 text-[10px]",children:E.map((C,R)=>d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:`px-2 py-0.5 rounded ${R===N?"bg-violet-500/30 text-violet-300":R<N?"text-emerald-400":"text-slate-500"}`,children:C.label}),R<E.length-1&&d.jsx("span",{className:"mx-1 text-slate-600",children:"/"})]},C.id))})},S=()=>{if(f&&n==="idle")return d.jsx("div",{className:"flex-1 flex items-center justify-center",children:d.jsx("div",{className:"w-8 h-8 border-2 border-t-violet-500 border-r-transparent border-b-transparent border-l-transparent rounded-full animate-spin"})});switch(n){case"describe":return d.jsxs(d.Fragment,{children:[d.jsx(Is,{messages:r,pendingPrompt:i}),d.jsx(vq,{onSubmit:y,disabled:h,placeholder:"Describe what you want to build..."})]});case"review":return d.jsxs(d.Fragment,{children:[d.jsx(Is,{messages:r}),d.jsx("div",{className:"border-t",style:{borderColor:"var(--border-panel)"},children:d.jsx(wq,{interpretation:o,missingFields:s,canInitialize:a,onUpdateField:v,onInitialize:_,loading:f})})]});case"generating":return d.jsxs(d.Fragment,{children:[d.jsx(Is,{messages:r}),d.jsx(_q,{})]});case"complete":return d.jsxs(d.Fragment,{children:[d.jsx(Is,{messages:r}),d.jsx(Sq,{gateOutcome:l,project:u,onViewProject:w,onClose:g})]});default:return null}};return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0, 0, 0, 0.6)"},children:d.jsxs("div",{className:"flex flex-col w-full max-w-lg h-[80vh] rounded-xl shadow-2xl tray-slide",style:{background:"var(--bg-panel)",border:"1px solid var(--border-panel)"},children:[d.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b",style:{borderColor:"var(--border-panel)"},children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-8 h-8 rounded-lg bg-violet-500/20 flex items-center justify-center",children:d.jsx("svg",{className:"w-4 h-4 text-violet-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"})})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:"New Project"}),x()]})]}),d.jsx("button",{onClick:g,className:"p-2 rounded-lg hover:bg-white/10 transition-colors",style:{color:"var(--text-muted)"},children:d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),c&&d.jsx("div",{className:"px-4 py-2 bg-red-500/20 text-red-300 text-sm",children:c}),S()]})})}function kq({onClose:e}){const{user:t,logout:n}=es(),[r,i]=k.useState(null),[o,s]=k.useState([]),[a,l]=k.useState(!1),[u,c]=k.useState(null);k.useEffect(()=>{r==="linked"&&f()},[r]);const f=async()=>{try{l(!0);const x=await fetch("/auth/accounts",{credentials:"include"});if(x.ok){const S=await x.json();s(S.identities||[])}}catch(x){console.error("Failed to load accounts:",x)}finally{l(!1)}},h=x=>{window.location.href=`/auth/accounts/link/${x}`},p=async x=>{var S;if(o.length<=1){c({type:"error",text:"Cannot unlink your only account"});return}if(confirm(`Unlink your ${x} account?`))try{const E=(S=document.cookie.split("; ").find(C=>C.startsWith("csrf=")||C.startsWith("__Host-csrf=")))==null?void 0:S.split("=")[1],N=await fetch(`/auth/accounts/${x}`,{method:"DELETE",credentials:"include",headers:{"X-CSRF-Token":E||""}});if(N.ok)c({type:"success",text:"Account unlinked"}),await f();else{const C=await N.json();throw new Error(C.detail||"Failed to unlink")}}catch(E){c({type:"error",text:E.message})}},y=async()=>{await n(),e()},v=x=>{i(r===x?null:x),c(null)},_={google:d.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:[d.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),d.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),d.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),d.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),microsoft:d.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 23 23",children:[d.jsx("path",{fill:"#f35325",d:"M1 1h10v10H1z"}),d.jsx("path",{fill:"#81bc06",d:"M12 1h10v10H12z"}),d.jsx("path",{fill:"#05a6f0",d:"M1 12h10v10H1z"}),d.jsx("path",{fill:"#ffba08",d:"M12 12h10v10H12z"})]})},m=[{id:"account",label:"Account",icon:"user",future:!1},{id:"linked",label:"Linked Accounts",icon:"link",future:!1},{id:"team",label:"Team / Org",icon:"users",future:!0},{id:"billing",label:"Billing",icon:"credit-card",future:!0},{id:"preferences",label:"Preferences",icon:"settings",future:!0}],g=x=>{const S={user:d.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),d.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),link:d.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),d.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]}),users:d.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),d.jsx("circle",{cx:"9",cy:"7",r:"4"}),d.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),d.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),"credit-card":d.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),d.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),settings:d.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("circle",{cx:"12",cy:"12",r:"3"}),d.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]})};return S[x]||S.user},w=x=>{switch(x){case"account":return d.jsxs("div",{className:"px-4 py-3 space-y-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs uppercase tracking-wide",style:{color:"var(--text-muted)"},children:"Email"}),d.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-primary)"},children:(t==null?void 0:t.email)||"-"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs uppercase tracking-wide",style:{color:"var(--text-muted)"},children:"Member since"}),d.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-primary)"},children:t!=null&&t.user_created_at?new Date(t.user_created_at).toLocaleDateString("en-US",{month:"long",year:"numeric"}):"-"})]})]});case"linked":return d.jsxs("div",{className:"px-4 py-3",children:[u&&d.jsx("div",{className:`mb-3 px-3 py-2 rounded text-xs ${u.type==="error"?"bg-red-500/20 text-red-300":"bg-emerald-500/20 text-emerald-300"}`,children:u.text}),a?d.jsx("div",{className:"flex items-center justify-center py-4",children:d.jsx("div",{className:"w-5 h-5 border-2 border-t-blue-500 border-r-transparent border-b-transparent border-l-transparent rounded-full animate-spin"})}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"space-y-2 mb-4",children:o.map(S=>d.jsxs("div",{className:"flex items-center justify-between p-2 rounded",style:{background:"var(--bg-canvas)",border:"1px solid var(--border-panel)"},children:[d.jsxs("div",{className:"flex items-center gap-2",children:[_[S.provider_id],d.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)"},children:S.provider_email})]}),d.jsx("button",{onClick:()=>p(S.provider_id),disabled:o.length<=1,className:`text-xs px-2 py-1 rounded ${o.length<=1?"text-slate-600 cursor-not-allowed":"text-red-400 hover:bg-red-500/20"}`,children:"Unlink"})]},S.provider_id))}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"text-xs uppercase tracking-wide mb-2",style:{color:"var(--text-muted)"},children:"Link another"}),d.jsxs("button",{onClick:()=>h("google"),className:"w-full flex items-center gap-2 p-2 rounded text-xs hover:bg-white/5",style:{background:"var(--bg-canvas)",border:"1px solid var(--border-panel)",color:"var(--text-primary)"},children:[_.google,"Google"]}),d.jsxs("button",{onClick:()=>h("microsoft"),className:"w-full flex items-center gap-2 p-2 rounded text-xs hover:bg-white/5",style:{background:"var(--bg-canvas)",border:"1px solid var(--border-panel)",color:"var(--text-primary)"},children:[_.microsoft,"Microsoft"]})]})]})]});default:return d.jsx("div",{className:"px-4 py-3 text-xs",style:{color:"var(--text-muted)"},children:"Coming soon"})}};return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"fixed inset-0 z-40",style:{background:"rgba(0, 0, 0, 0.3)"},onClick:e}),d.jsxs("div",{className:"fixed top-12 bottom-0 z-50 w-72 flex flex-col shadow-2xl",style:{left:"240px",background:"var(--bg-panel)",borderRight:"1px solid var(--border-panel)"},children:[d.jsxs("div",{className:"px-4 py-4 border-b",style:{borderColor:"var(--border-panel)"},children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t!=null&&t.avatar_url?d.jsx("img",{src:t.avatar_url,alt:t.name,className:"w-10 h-10 rounded-full"}):d.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{background:"var(--bg-canvas)"},children:d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{color:"var(--text-muted)"},children:[d.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),d.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),d.jsxs("div",{className:"flex-1 overflow-hidden",children:[d.jsx("div",{className:"text-sm font-medium truncate",style:{color:"var(--text-primary)"},children:(t==null?void 0:t.name)||"User"}),d.jsx("div",{className:"text-xs truncate",style:{color:"var(--text-muted)"},children:(t==null?void 0:t.email)||""})]}),d.jsx("button",{onClick:e,className:"p-1.5 rounded hover:bg-white/10 transition-colors",style:{color:"var(--text-muted)"},children:d.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),d.jsx("div",{className:"text-xs px-2 py-1 rounded inline-block",style:{background:"var(--bg-canvas)",color:"var(--text-muted)"},children:"Plan: Individual"})]}),d.jsx("div",{className:"flex-1 overflow-y-auto",children:m.map(x=>d.jsxs("div",{style:{borderBottom:"1px solid var(--border-panel)"},children:[d.jsxs("button",{onClick:()=>!x.future&&v(x.id),className:`w-full flex items-center gap-3 px-4 py-3 transition-colors ${x.future?"cursor-not-allowed opacity-50":"hover:bg-white/5"}`,style:{color:"var(--text-primary)"},disabled:x.future,children:[d.jsx("span",{style:{color:"var(--text-muted)"},children:g(x.icon)}),d.jsx("span",{className:"flex-1 text-sm text-left",children:x.label}),x.future?d.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded",style:{background:"var(--bg-canvas)",color:"var(--text-muted)"},children:"Soon"}):d.jsx("svg",{className:"w-4 h-4 transition-transform",style:{color:"var(--text-muted)",transform:r===x.id?"rotate(90deg)":"rotate(0deg)"},viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("polyline",{points:"9 18 15 12 9 6"})})]}),r===x.id&&!x.future&&d.jsx("div",{style:{background:"var(--bg-canvas)",borderTop:"1px solid var(--border-panel)"},children:w(x.id)})]},x.id))}),d.jsx("div",{className:"p-4 border-t",style:{borderColor:"var(--border-panel)"},children:d.jsxs("button",{onClick:y,className:"w-full flex items-center justify-center gap-2 px-4 py-2 rounded text-sm transition-colors hover:bg-white/5",style:{color:"var(--text-muted)"},children:[d.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),d.jsx("polyline",{points:"16 17 21 12 16 7"}),d.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"Sign Out"]})})]})]})}const le={bg:"#0f172a",bgElevated:"#1e293b",border:"#334155",textPrimary:"#f8fafc",textSecondary:"#94a3b8",textMuted:"#64748b",textSubtle:"#475569",accent:"#3b82f6",accentHover:"#2563eb"};function Nq(){return d.jsx("header",{className:"h-16 flex items-center justify-center border-b",style:{background:le.bg,borderColor:le.border},children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:"/logo-dark.png",alt:"The Combine",className:"h-8"}),d.jsxs("div",{children:[d.jsx("span",{className:"text-sm font-bold tracking-[0.2em]",style:{color:le.textPrimary},children:"THE COMBINE"}),d.jsx("span",{className:"text-xs tracking-wide ml-4",style:{color:le.textMuted},children:"Industrial AI for Knowledge Work"})]})]})})}function jq(){return d.jsxs("section",{className:"text-center max-w-2xl mx-auto",children:[d.jsx("h1",{className:"text-3xl font-semibold mb-6 leading-tight",style:{color:le.textPrimary},children:"Turn complex intent into governed, repeatable artifacts."}),d.jsx("p",{className:"text-lg leading-relaxed mb-6",style:{color:le.textSecondary},children:"The Combine applies manufacturing discipline to AI knowledge work. Every output is traceable. Every decision is auditable. Production over prompting."}),d.jsxs("a",{href:"/learn",className:"text-sm transition-colors inline-flex items-center gap-1",style:{color:le.textMuted},onMouseOver:e=>e.currentTarget.style.color=le.textSecondary,onMouseOut:e=>e.currentTarget.style.color=le.textMuted,children:["Learn how The Combine works",d.jsx("span",{"aria-hidden":"true",children:""})]})]})}function Cq(){const e=[{icon:d.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:d.jsx("path",{d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z",strokeLinecap:"round",strokeLinejoin:"round"})}),title:"Express Intent",description:"Describe what you need"},{icon:d.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:d.jsx("path",{d:"M19.5 12c0-1.232-.046-2.453-.138-3.662a4.006 4.006 0 00-3.7-3.7 48.678 48.678 0 00-7.324 0 4.006 4.006 0 00-3.7 3.7c-.017.22-.032.441-.046.662M19.5 12l3-3m-3 3l-3-3m-12 3c0 1.232.046 2.453.138 3.662a4.006 4.006 0 003.7 3.7 48.656 48.656 0 007.324 0 4.006 4.006 0 003.7-3.7c.017-.22.032-.441.046-.662M4.5 12l3 3m-3-3l-3 3",strokeLinecap:"round",strokeLinejoin:"round"})}),title:"Line Assembles",description:"Stations configure"},{icon:d.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:d.jsx("path",{d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z",strokeLinecap:"round",strokeLinejoin:"round"})}),title:"Gates Enforce",description:"Validation required"},{icon:d.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:d.jsx("path",{d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z",strokeLinecap:"round",strokeLinejoin:"round"})}),title:"Artifacts Stabilize",description:"Versioned, ready"}];return d.jsx("section",{className:"max-w-4xl mx-auto",children:d.jsx("div",{className:"flex items-start justify-between gap-4",children:e.map((t,n)=>d.jsxs("div",{className:"flex-1 text-center group",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-10 h-10 rounded-full mb-3",style:{background:le.bgElevated,border:`1px solid ${le.border}`,color:le.textMuted},children:t.icon}),d.jsx("h3",{className:"text-sm font-medium mb-1",style:{color:le.textPrimary},children:t.title}),d.jsx("p",{className:"text-xs",style:{color:le.textMuted},children:t.description}),n<e.length-1&&d.jsx("div",{className:"absolute top-5 -right-2 hidden md:block",style:{color:le.border}})]},n))})})}function Tq(){const e=["Auditable outputs","Traceable decisions","Validated delivery","Human accountability"];return d.jsx("section",{className:"text-center",children:d.jsx("div",{className:"flex flex-wrap justify-center gap-x-6 gap-y-2",children:e.map((t,n)=>d.jsx("span",{className:"text-xs",style:{color:le.textMuted},children:t},n))})})}function Rq({onLogin:e}){return d.jsxs("section",{className:"text-center",children:[d.jsx("p",{className:"text-sm font-medium mb-4",style:{color:le.textSecondary},children:"Ready?"}),d.jsxs("div",{className:"inline-flex flex-col gap-3",children:[d.jsxs("button",{onClick:()=>e("google"),className:"w-64 flex items-center justify-center gap-3 px-4 py-3 rounded font-medium transition-colors",style:{background:le.accent,color:"#ffffff"},onMouseOver:t=>t.currentTarget.style.background=le.accentHover,onMouseOut:t=>t.currentTarget.style.background=le.accent,children:[d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[d.jsx("path",{fill:"#ffffff",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),d.jsx("path",{fill:"#ffffff",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),d.jsx("path",{fill:"#ffffff",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),d.jsx("path",{fill:"#ffffff",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),d.jsxs("button",{onClick:()=>e("microsoft"),className:"w-64 flex items-center justify-center gap-3 px-4 py-3 rounded font-medium transition-colors",style:{background:le.bg,border:`1px solid ${le.border}`,color:le.textPrimary},onMouseOver:t=>t.currentTarget.style.background=le.bgElevated,onMouseOut:t=>t.currentTarget.style.background=le.bg,children:[d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 23 23",children:[d.jsx("path",{fill:"#f35325",d:"M1 1h10v10H1z"}),d.jsx("path",{fill:"#81bc06",d:"M12 1h10v10H12z"}),d.jsx("path",{fill:"#05a6f0",d:"M1 12h10v10H1z"}),d.jsx("path",{fill:"#ffba08",d:"M12 12h10v10H12z"})]}),"Continue with Microsoft"]})]})]})}function Iq(){return d.jsxs("footer",{className:"py-6 flex items-center justify-center gap-6",children:[d.jsx("a",{href:"/terms",className:"text-xs transition-colors",style:{color:le.textSubtle},onMouseOver:e=>e.currentTarget.style.color=le.textMuted,onMouseOut:e=>e.currentTarget.style.color=le.textSubtle,children:"Terms"}),d.jsx("a",{href:"/privacy",className:"text-xs transition-colors",style:{color:le.textSubtle},onMouseOver:e=>e.currentTarget.style.color=le.textMuted,onMouseOut:e=>e.currentTarget.style.color=le.textSubtle,children:"Privacy"}),d.jsx("span",{className:"text-xs",style:{color:le.border},children:" 2026 The Combine"})]})}function Pq(){const{login:e}=es();return d.jsxs("div",{className:"min-h-screen flex flex-col",style:{background:le.bg},children:[d.jsx(Nq,{}),d.jsx("main",{className:"flex-1 flex flex-col justify-center px-8 py-12",children:d.jsxs("div",{className:"space-y-12",children:[d.jsx(jq,{}),d.jsx(Cq,{}),d.jsx(Tq,{}),d.jsx(Rq,{onLogin:e})]})}),d.jsx(Iq,{})]})}const se={bg:"#0f172a",bgElevated:"#1e293b",border:"#334155",textPrimary:"#f8fafc",textSecondary:"#94a3b8",textMuted:"#64748b",textSubtle:"#475569",accent:"#3b82f6",accentHover:"#2563eb"};function Mq(){return d.jsxs("header",{className:"h-16 flex items-center justify-between px-6 border-b",style:{background:se.bg,borderColor:se.border},children:[d.jsxs("a",{href:"/",className:"flex items-center gap-3 transition-colors",style:{color:se.textMuted},onMouseOver:e=>e.currentTarget.style.color=se.textSecondary,onMouseOut:e=>e.currentTarget.style.color=se.textMuted,children:[d.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M19 12H5M12 19l-7-7 7-7",strokeLinecap:"round",strokeLinejoin:"round"})}),d.jsx("span",{className:"text-sm",children:"Back"})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:"/logo-dark.png",alt:"The Combine",className:"h-6"}),d.jsx("span",{className:"text-sm font-bold tracking-[0.15em]",style:{color:se.textPrimary},children:"THE COMBINE"})]}),d.jsx("div",{className:"w-16"})," "]})}function cr({title:e,children:t}){return d.jsxs("section",{className:"mb-16",children:[e&&d.jsx("h2",{className:"text-xl font-semibold mb-6",style:{color:se.textPrimary},children:e}),t]})}function $e({children:e,className:t=""}){return d.jsx("p",{className:`text-base leading-relaxed mb-4 ${t}`,style:{color:se.textSecondary},children:e})}function Vi({children:e}){return d.jsx("p",{className:"text-base leading-relaxed mb-4 pl-4",style:{color:se.textPrimary,borderLeft:`2px solid ${se.border}`},children:e})}function Ps({items:e}){return d.jsx("ul",{className:"space-y-2 mb-4",children:e.map((t,n)=>d.jsxs("li",{className:"text-base flex items-start gap-3",style:{color:se.textSecondary},children:[d.jsx("span",{style:{color:se.textMuted},children:"-"}),t]},n))})}function Ms({number:e,title:t,children:n}){return d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex items-baseline gap-3 mb-2",children:[d.jsxs("span",{className:"text-sm font-mono",style:{color:se.textMuted},children:[e,"."]}),d.jsx("h3",{className:"text-base font-medium",style:{color:se.textPrimary},children:t})]}),d.jsx("div",{className:"pl-7",children:d.jsx($e,{children:n})})]})}function As({title:e,children:t}){return d.jsxs("div",{className:"mb-6",children:[d.jsx("h3",{className:"text-base font-medium mb-2",style:{color:se.textPrimary},children:e}),d.jsx($e,{className:"mb-0",children:t})]})}function Aq({onLogin:e}){return d.jsxs("section",{className:"text-center py-12 rounded-lg",style:{background:se.bgElevated,border:`1px solid ${se.border}`},children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",style:{color:se.textPrimary},children:"When You're Ready"}),d.jsx($e,{className:"max-w-md mx-auto mb-2",children:"You don't need to prepare anything."}),d.jsx($e,{className:"max-w-md mx-auto mb-2",children:"You don't need to know the workflow in advance."}),d.jsx($e,{className:"max-w-md mx-auto mb-8",children:"You start by stating intent  the system handles the rest."}),d.jsxs("div",{className:"inline-flex flex-col gap-3",children:[d.jsxs("button",{onClick:()=>e("google"),className:"w-64 flex items-center justify-center gap-3 px-4 py-3 rounded font-medium transition-colors",style:{background:se.accent,color:"#ffffff"},onMouseOver:t=>t.currentTarget.style.background=se.accentHover,onMouseOut:t=>t.currentTarget.style.background=se.accent,children:[d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[d.jsx("path",{fill:"#ffffff",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),d.jsx("path",{fill:"#ffffff",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),d.jsx("path",{fill:"#ffffff",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),d.jsx("path",{fill:"#ffffff",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),d.jsxs("button",{onClick:()=>e("microsoft"),className:"w-64 flex items-center justify-center gap-3 px-4 py-3 rounded font-medium transition-colors",style:{background:se.bg,border:`1px solid ${se.border}`,color:se.textPrimary},onMouseOver:t=>t.currentTarget.style.background=se.bgElevated,onMouseOut:t=>t.currentTarget.style.background=se.bg,children:[d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 23 23",children:[d.jsx("path",{fill:"#f35325",d:"M1 1h10v10H1z"}),d.jsx("path",{fill:"#81bc06",d:"M12 1h10v10H12z"}),d.jsx("path",{fill:"#05a6f0",d:"M1 12h10v10H1z"}),d.jsx("path",{fill:"#ffba08",d:"M12 12h10v10H12z"})]}),"Continue with Microsoft"]})]})]})}function Oq(){return d.jsxs("footer",{className:"py-8 text-center",children:[d.jsx("p",{className:"text-sm mb-6",style:{color:se.textMuted},children:"The Combine does not replace human judgment. It makes it visible."}),d.jsxs("div",{className:"flex items-center justify-center gap-6",children:[d.jsx("a",{href:"/terms",className:"text-xs transition-colors",style:{color:se.textSubtle},onMouseOver:e=>e.currentTarget.style.color=se.textMuted,onMouseOut:e=>e.currentTarget.style.color=se.textSubtle,children:"Terms"}),d.jsx("a",{href:"/privacy",className:"text-xs transition-colors",style:{color:se.textSubtle},onMouseOver:e=>e.currentTarget.style.color=se.textMuted,onMouseOut:e=>e.currentTarget.style.color=se.textSubtle,children:"Privacy"}),d.jsx("span",{className:"text-xs",style:{color:se.border},children:" 2026 The Combine"})]})]})}function Lq(){const{login:e}=es();return d.jsxs("div",{className:"min-h-screen flex flex-col",style:{background:se.bg},children:[d.jsx(Mq,{}),d.jsx("main",{className:"flex-1 px-6 py-12",children:d.jsxs("article",{className:"max-w-2xl mx-auto",children:[d.jsx("h1",{className:"text-3xl font-semibold mb-12 text-center",style:{color:se.textPrimary},children:"Learn More"}),d.jsxs(cr,{title:"What The Combine Is",children:[d.jsx($e,{children:"The Combine is an AI-assisted production system for knowledge work."}),d.jsx($e,{children:"It applies manufacturing discipline to work that is normally informal, fragile, and difficult to audit  system design, architecture, requirements, analysis, and planning."}),d.jsx(Vi,{children:"Instead of prompts and chat history, The Combine produces governed artifacts."}),d.jsx(Vi,{children:"Instead of experimentation without memory, it runs repeatable production lines."})]}),d.jsxs(cr,{title:"Why It Exists",children:[d.jsx($e,{children:"Most AI tools optimize for speed and creativity. That works well for drafts and exploration."}),d.jsx($e,{children:"It breaks down when the work must be:"}),d.jsx(Ps,{items:["Auditable","Traceable","Reviewed","Approved","Reused","Defended"]}),d.jsx($e,{children:"The Combine exists for situations where quality, accountability, and repeatability matter more than cleverness."})]}),d.jsxs(cr,{title:'Why "The Combine"',children:[d.jsx($e,{children:"The Combine takes its name from the combine harvester  one of the most important industrial inventions of the 20th century."}),d.jsx($e,{children:"Before the combine, harvesting was fragmented, manual, and inconsistent. Separate steps. Separate tools. High variability. Heavy dependence on individual skill."}),d.jsx($e,{children:"The combine harvester changed that by integrating many steps into a single, governed production line  increasing consistency, traceability, and scale without removing human oversight."}),d.jsx($e,{children:"The Combine applies the same philosophy to AI-driven knowledge work."}),d.jsx($e,{children:"Instead of scattered prompts, fragile documents, and unrepeatable decisions, it assembles intent through a structured line:"}),d.jsx(Ps,{items:["Inputs are clarified","Work moves through defined stations","Quality gates enforce discipline","Outputs stabilize into reusable artifacts"]}),d.jsx($e,{children:"This is not automation for speed. It is industrialization for reliability."}),d.jsx(Vi,{children:"As with the original combine, the breakthrough is not intelligence, but integration."})]}),d.jsxs(cr,{title:"How It Works",children:[d.jsx(Ms,{number:1,title:"You express intent",children:"You describe what you want to build. The system listens, asks clarifying questions, and confirms scope and constraints."}),d.jsx(Ms,{number:2,title:"A production line is assembled",children:"Based on your intent, The Combine configures a sequence of specialized stations  each responsible for producing a specific artifact."}),d.jsx(Ms,{number:3,title:"Quality gates enforce discipline",children:"Artifacts move forward only when they meet defined criteria. Nothing proceeds without validation."}),d.jsx(Ms,{number:4,title:"Outputs stabilize",children:"Approved artifacts are versioned, bound, and ready for use  not just today, but later."})]}),d.jsxs(cr,{title:"What Makes It Different",children:[d.jsx(As,{title:"Production over prompting",children:"Work progresses through defined stages, not conversations."}),d.jsx(As,{title:"Human accountability remains central",children:"AI assists, but humans approve. Nothing ships without oversight."}),d.jsx(As,{title:"Every decision is traceable",children:"Why something exists, who approved it, and what assumptions were made are always visible."}),d.jsx(As,{title:"Designed for real-world constraints",children:"Compliance, audits, handoffs, and change management are first-class concerns."})]}),d.jsxs(cr,{title:"What The Combine Is Not",children:[d.jsx(Ps,{items:["A chat interface","A creative writing tool","An autonomous agent that acts without approval","A system that hides its reasoning or decisions"]}),d.jsx($e,{children:"If you want improvisation, there are better tools."}),d.jsx(Vi,{children:"If you need defensible outcomes, this is what The Combine is built for."})]}),d.jsxs(cr,{title:"Who It's For",children:[d.jsx($e,{children:"The Combine is designed for people responsible for outcomes, including:"}),d.jsx(Ps,{items:["Architects and technical leaders","Product and delivery leaders","Compliance-conscious teams","Organizations that need repeatable, explainable AI support"]}),d.jsx(Vi,{children:`If the phrase "nothing ships without validation" resonates, you're in the right place.`})]}),d.jsx(Aq,{onLogin:e})]})}),d.jsx(Oq,{})]})}function qq({user:e,onClick:t}){return d.jsx("div",{className:"p-3 border-t",style:{borderColor:"var(--border-panel)"},children:d.jsxs("button",{onClick:t,className:"flex items-center gap-3 w-full p-2 rounded-lg hover:bg-white/10 transition-colors",style:{color:"var(--text-primary)"},children:[e!=null&&e.avatar_url?d.jsx("img",{src:e.avatar_url,alt:e.name,className:"w-8 h-8 rounded-full"}):d.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",style:{background:"var(--bg-canvas)"},children:d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),d.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),d.jsxs("div",{className:"flex-1 text-left overflow-hidden",children:[d.jsx("div",{className:"text-sm font-medium truncate",children:(e==null?void 0:e.name)||"User"}),d.jsx("div",{className:"text-xs truncate",style:{color:"var(--text-muted)"},children:(e==null?void 0:e.email)||""})]})]})})}function zq(){var L,F,q;const{user:e}=es(),[t,n]=k.useState(!1),{projects:r,loading:i,error:o,refresh:s}=cq({includeArchived:t}),[a,l]=k.useState(null),[u,c]=k.useState(null),[f,h]=k.useState(!1),[p,y]=k.useState(!1),{theme:v,setTheme:_}=pN(),m=Object.keys(r),g=a&&r[a]?a:m[0]||null;k.useEffect(()=>{if(g&&r[g]){const b=r[g];document.title=`${b.projectId} - The Combine`}else document.title="The Combine"},[g,r]);const w=b=>{l(b),c(null)},x=()=>{h(!0)},S=async b=>{await s(),b&&b.id&&(l(b.id),c("concierge_intake")),h(!1)},E=()=>{h(!1)},N=async(b,P)=>{try{await Pe.updateProject(b,P),await s()}catch(T){throw console.error("Failed to update project:",T),T}},C=async b=>{try{if(await Pe.archiveProject(b),!t){const P=Object.values(r).sort((I,j)=>{const A=(I.name||"").localeCompare(j.name||"");return A!==0?A:(I.projectId||"").localeCompare(j.projectId||"")}),T=P.findIndex(I=>I.id===b),z=P[T+1]||P[T-1]||null;l((z==null?void 0:z.id)||null)}await s()}catch(P){throw console.error("Failed to archive project:",P),P}},R=async b=>{try{await Pe.unarchiveProject(b),await s()}catch(P){throw console.error("Failed to unarchive project:",P),P}},O=async b=>{try{await Pe.deleteProject(b);const P=Object.values(r).sort((I,j)=>{const A=(I.name||"").localeCompare(j.name||"");return A!==0?A:(I.projectId||"").localeCompare(j.projectId||"")}),T=P.findIndex(I=>I.id===b),z=P[T+1]||P[T-1]||null;l((z==null?void 0:z.id)||null),await s()}catch(P){throw console.error("Failed to delete project:",P),P}};return i?d.jsx("div",{className:`flex h-screen items-center justify-center theme-${v}`,style:{background:"var(--bg-canvas)"},children:d.jsxs("div",{className:"text-center",children:[d.jsx("img",{src:"/logo-light.png",alt:"The Combine",className:"h-16 mx-auto mb-4 animate-pulse"}),d.jsx("p",{style:{color:"var(--text-muted)"},children:"Loading projects..."})]})}):o?d.jsx("div",{className:`flex h-screen items-center justify-center theme-${v}`,style:{background:"var(--bg-canvas)"},children:d.jsxs("div",{className:"text-center p-6 rounded-lg",style:{background:"var(--bg-panel)"},children:[d.jsxs("p",{className:"text-red-500 mb-4",children:["Failed to load projects: ",o]}),d.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-emerald-500 text-white rounded hover:bg-emerald-600",children:"Retry"})]})}):d.jsxs("div",{className:`flex flex-col h-screen theme-${v}`,children:[d.jsxs("header",{className:"h-12 flex items-center justify-between px-4 border-b flex-shrink-0",style:{background:"var(--bg-panel)",borderColor:"var(--border-panel)"},children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:"/logo-256.png",alt:"The Combine",className:"h-7 w-7"}),d.jsx("span",{className:"text-sm font-bold tracking-wide",style:{color:"var(--text-primary)"},children:"THE COMBINE"})]}),d.jsx("button",{className:"p-2 rounded hover:bg-white/10 transition-colors",style:{color:"var(--text-muted)"},title:"Help",children:d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),d.jsx("path",{d:"M12 17h.01"})]})})]}),d.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[d.jsx(CP,{projects:r,selectedId:g,onSelectProject:w,onNewProject:x,showArchived:t,onToggleShowArchived:()=>n(b=>!b),userSection:d.jsx(qq,{user:e,onClick:()=>y(!0)})}),d.jsx("div",{className:"flex-1",children:g?d.jsx(jg,{children:d.jsx(gq,{projectId:g,projectCode:(L=r[g])==null?void 0:L.projectId,projectName:(F=r[g])==null?void 0:F.name,isArchived:(q=r[g])==null?void 0:q.isArchived,autoExpandNodeId:u,theme:v,onThemeChange:_,onProjectUpdate:N,onProjectArchive:C,onProjectUnarchive:R,onProjectDelete:O})},g):d.jsx("div",{className:"flex items-center justify-center h-full",style:{background:"var(--bg-canvas)"},children:d.jsx("div",{className:"text-center",children:d.jsx("p",{style:{color:"var(--text-muted)"},children:"No projects yet. Create one to get started."})})})}),f&&d.jsx(Eq,{onClose:E,onComplete:S}),p&&d.jsx(kq,{onClose:()=>y(!1)})]})]})}function Dq(){const{isAuthenticated:e,loading:t}=es(),{theme:n}=pN(),[r,i]=k.useState(window.location.pathname);return k.useEffect(()=>{const o=()=>i(window.location.pathname);return window.addEventListener("popstate",o),()=>window.removeEventListener("popstate",o)},[]),t?d.jsx("div",{className:`flex h-screen items-center justify-center theme-${n}`,style:{background:"var(--bg-canvas)"},children:d.jsxs("div",{className:"text-center",children:[d.jsx("img",{src:"/logo-light.png",alt:"The Combine",className:"h-16 mx-auto mb-4 animate-pulse"}),d.jsx("p",{style:{color:"var(--text-muted)"},children:"Loading..."})]})}):e?d.jsx(zq,{}):r==="/learn"?d.jsx(Lq,{}):d.jsx(Pq,{})}function Fq(){return d.jsx(hq,{children:d.jsx(Dq,{})})}ip.createRoot(document.getElementById("root")).render(d.jsx($.StrictMode,{children:d.jsx(Fq,{})}));
//# sourceMappingURL=index-B8ag9Co-.js.map
