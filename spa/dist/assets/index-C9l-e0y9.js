(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Zo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ob={exports:{}},ja={},sb={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Do=Symbol.for("react.element"),BN=Symbol.for("react.portal"),HN=Symbol.for("react.fragment"),VN=Symbol.for("react.strict_mode"),UN=Symbol.for("react.profiler"),WN=Symbol.for("react.provider"),GN=Symbol.for("react.context"),KN=Symbol.for("react.forward_ref"),YN=Symbol.for("react.suspense"),XN=Symbol.for("react.memo"),QN=Symbol.for("react.lazy"),Gg=Symbol.iterator;function ZN(e){return e===null||typeof e!="object"?null:(e=Gg&&e[Gg]||e["@@iterator"],typeof e=="function"?e:null)}var ab={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lb=Object.assign,ub={};function wi(e,t,n){this.props=e,this.context=t,this.refs=ub,this.updater=n||ab}wi.prototype.isReactComponent={};wi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};wi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function cb(){}cb.prototype=wi.prototype;function fm(e,t,n){this.props=e,this.context=t,this.refs=ub,this.updater=n||ab}var dm=fm.prototype=new cb;dm.constructor=fm;lb(dm,wi.prototype);dm.isPureReactComponent=!0;var Kg=Array.isArray,fb=Object.prototype.hasOwnProperty,hm={current:null},db={key:!0,ref:!0,__self:!0,__source:!0};function hb(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)fb.call(t,r)&&!db.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Do,type:e,key:o,ref:s,props:i,_owner:hm.current}}function JN(e,t){return{$$typeof:Do,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function pm(e){return typeof e=="object"&&e!==null&&e.$$typeof===Do}function eC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Yg=/\/+/g;function _l(e,t){return typeof e=="object"&&e!==null&&e.key!=null?eC(""+e.key):t.toString(36)}function Ts(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Do:case BN:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+_l(s,0):r,Kg(i)?(n="",e!=null&&(n=e.replace(Yg,"$&/")+"/"),Ts(i,t,n,"",function(u){return u})):i!=null&&(pm(i)&&(i=JN(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Yg,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",Kg(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+_l(o,a);s+=Ts(o,t,n,l,i)}else if(l=ZN(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+_l(o,a++),s+=Ts(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Jo(e,t,n){if(e==null)return e;var r=[],i=0;return Ts(e,r,"","",function(o){return t.call(n,o,i++)}),r}function tC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var nt={current:null},Rs={transition:null},nC={ReactCurrentDispatcher:nt,ReactCurrentBatchConfig:Rs,ReactCurrentOwner:hm};function pb(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:Jo,forEach:function(e,t,n){Jo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Jo(e,function(){t++}),t},toArray:function(e){return Jo(e,function(t){return t})||[]},only:function(e){if(!pm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Component=wi;ne.Fragment=HN;ne.Profiler=UN;ne.PureComponent=fm;ne.StrictMode=VN;ne.Suspense=YN;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nC;ne.act=pb;ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=lb({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=hm.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)fb.call(t,l)&&!db.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Do,type:e.type,key:i,ref:o,props:r,_owner:s}};ne.createContext=function(e){return e={$$typeof:GN,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:WN,_context:e},e.Consumer=e};ne.createElement=hb;ne.createFactory=function(e){var t=hb.bind(null,e);return t.type=e,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:KN,render:e}};ne.isValidElement=pm;ne.lazy=function(e){return{$$typeof:QN,_payload:{_status:-1,_result:e},_init:tC}};ne.memo=function(e,t){return{$$typeof:XN,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=Rs.transition;Rs.transition={};try{e()}finally{Rs.transition=t}};ne.unstable_act=pb;ne.useCallback=function(e,t){return nt.current.useCallback(e,t)};ne.useContext=function(e){return nt.current.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e){return nt.current.useDeferredValue(e)};ne.useEffect=function(e,t){return nt.current.useEffect(e,t)};ne.useId=function(){return nt.current.useId()};ne.useImperativeHandle=function(e,t,n){return nt.current.useImperativeHandle(e,t,n)};ne.useInsertionEffect=function(e,t){return nt.current.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return nt.current.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return nt.current.useMemo(e,t)};ne.useReducer=function(e,t,n){return nt.current.useReducer(e,t,n)};ne.useRef=function(e){return nt.current.useRef(e)};ne.useState=function(e){return nt.current.useState(e)};ne.useSyncExternalStore=function(e,t,n){return nt.current.useSyncExternalStore(e,t,n)};ne.useTransition=function(){return nt.current.useTransition()};ne.version="18.3.1";sb.exports=ne;var k=sb.exports;const $=cm(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rC=k,iC=Symbol.for("react.element"),oC=Symbol.for("react.fragment"),sC=Object.prototype.hasOwnProperty,aC=rC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lC={key:!0,ref:!0,__self:!0,__source:!0};function mb(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)sC.call(t,r)&&!lC.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:iC,type:e,key:o,ref:s,props:i,_owner:aC.current}}ja.Fragment=oC;ja.jsx=mb;ja.jsxs=mb;ob.exports=ja;var h=ob.exports,Zh={},gb={exports:{}},_t={},vb={exports:{}},yb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,C){var O=P.length;P.push(C);e:for(;0<O;){var M=O-1>>>1,D=P[M];if(0<i(D,C))P[M]=C,P[O]=D,O=M;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var C=P[0],O=P.pop();if(O!==C){P[0]=O;e:for(var M=0,D=P.length,B=D>>>1;M<B;){var V=2*(M+1)-1,K=P[V],Q=V+1,Z=P[Q];if(0>i(K,O))Q<D&&0>i(Z,K)?(P[M]=Z,P[Q]=O,M=Q):(P[M]=K,P[V]=O,M=V);else if(Q<D&&0>i(Z,O))P[M]=Z,P[Q]=O,M=Q;else break e}}return C}function i(P,C){var O=P.sortIndex-C.sortIndex;return O!==0?O:P.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,d=3,p=!1,y=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(P){for(var C=n(u);C!==null;){if(C.callback===null)r(u);else if(C.startTime<=P)r(u),C.sortIndex=C.expirationTime,t(l,C);else break;C=n(u)}}function _(P){if(v=!1,x(P),!y)if(n(l)!==null)y=!0,T(S);else{var C=n(u);C!==null&&F(_,C.startTime-P)}}function S(P,C){y=!1,v&&(v=!1,m(j),j=-1),p=!0;var O=d;try{for(x(C),f=n(l);f!==null&&(!(f.expirationTime>C)||P&&!I());){var M=f.callback;if(typeof M=="function"){f.callback=null,d=f.priorityLevel;var D=M(f.expirationTime<=C);C=e.unstable_now(),typeof D=="function"?f.callback=D:f===n(l)&&r(l),x(C)}else r(l);f=n(l)}if(f!==null)var B=!0;else{var V=n(u);V!==null&&F(_,V.startTime-C),B=!1}return B}finally{f=null,d=O,p=!1}}var E=!1,N=null,j=-1,R=5,q=-1;function I(){return!(e.unstable_now()-q<R)}function z(){if(N!==null){var P=e.unstable_now();q=P;var C=!0;try{C=N(!0,P)}finally{C?L():(E=!1,N=null)}}else E=!1}var L;if(typeof g=="function")L=function(){g(z)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,A=b.port2;b.port1.onmessage=z,L=function(){A.postMessage(null)}}else L=function(){w(z,0)};function T(P){N=P,E||(E=!0,L())}function F(P,C){j=w(function(){P(e.unstable_now())},C)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,T(S))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(P){switch(d){case 1:case 2:case 3:var C=3;break;default:C=d}var O=d;d=C;try{return P()}finally{d=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,C){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var O=d;d=P;try{return C()}finally{d=O}},e.unstable_scheduleCallback=function(P,C,O){var M=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?M+O:M):O=M,P){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=O+D,P={id:c++,callback:C,priorityLevel:P,startTime:O,expirationTime:D,sortIndex:-1},O>M?(P.sortIndex=O,t(u,P),n(l)===null&&P===n(u)&&(v?(m(j),j=-1):v=!0,F(_,O-M))):(P.sortIndex=D,t(l,P),y||p||(y=!0,T(S))),P},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(P){var C=d;return function(){var O=d;d=C;try{return P.apply(this,arguments)}finally{d=O}}}})(yb);vb.exports=yb;var uC=vb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cC=k,yt=uC;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xb=new Set,po={};function Rr(e,t){ci(e,t),ci(e+"Capture",t)}function ci(e,t){for(po[e]=t,e=0;e<t.length;e++)xb.add(t[e])}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jh=Object.prototype.hasOwnProperty,fC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xg={},Qg={};function dC(e){return Jh.call(Qg,e)?!0:Jh.call(Xg,e)?!1:fC.test(e)?Qg[e]=!0:(Xg[e]=!0,!1)}function hC(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function pC(e,t,n,r){if(t===null||typeof t>"u"||hC(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function rt(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ue[e]=new rt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ue[t]=new rt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ue[e]=new rt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ue[e]=new rt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ue[e]=new rt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ue[e]=new rt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ue[e]=new rt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ue[e]=new rt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ue[e]=new rt(e,5,!1,e.toLowerCase(),null,!1,!1)});var mm=/[\-:]([a-z])/g;function gm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mm,gm);Ue[t]=new rt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mm,gm);Ue[t]=new rt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mm,gm);Ue[t]=new rt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ue[e]=new rt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ue.xlinkHref=new rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ue[e]=new rt(e,1,!1,e.toLowerCase(),null,!0,!0)});function vm(e,t,n,r){var i=Ue.hasOwnProperty(t)?Ue[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(pC(t,n,i,r)&&(n=null),r||i===null?dC(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Nn=cC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,es=Symbol.for("react.element"),Br=Symbol.for("react.portal"),Hr=Symbol.for("react.fragment"),ym=Symbol.for("react.strict_mode"),ep=Symbol.for("react.profiler"),_b=Symbol.for("react.provider"),wb=Symbol.for("react.context"),xm=Symbol.for("react.forward_ref"),tp=Symbol.for("react.suspense"),np=Symbol.for("react.suspense_list"),_m=Symbol.for("react.memo"),An=Symbol.for("react.lazy"),bb=Symbol.for("react.offscreen"),Zg=Symbol.iterator;function Ii(e){return e===null||typeof e!="object"?null:(e=Zg&&e[Zg]||e["@@iterator"],typeof e=="function"?e:null)}var ke=Object.assign,wl;function Vi(e){if(wl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);wl=t&&t[1]||""}return`
`+wl+e}var bl=!1;function Sl(e,t){if(!e||bl)return"";bl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{bl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Vi(e):""}function mC(e){switch(e.tag){case 5:return Vi(e.type);case 16:return Vi("Lazy");case 13:return Vi("Suspense");case 19:return Vi("SuspenseList");case 0:case 2:case 15:return e=Sl(e.type,!1),e;case 11:return e=Sl(e.type.render,!1),e;case 1:return e=Sl(e.type,!0),e;default:return""}}function rp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Hr:return"Fragment";case Br:return"Portal";case ep:return"Profiler";case ym:return"StrictMode";case tp:return"Suspense";case np:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case wb:return(e.displayName||"Context")+".Consumer";case _b:return(e._context.displayName||"Context")+".Provider";case xm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _m:return t=e.displayName||null,t!==null?t:rp(e.type)||"Memo";case An:t=e._payload,e=e._init;try{return rp(e(t))}catch{}}return null}function gC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rp(t);case 8:return t===ym?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function er(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vC(e){var t=Sb(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ts(e){e._valueTracker||(e._valueTracker=vC(e))}function Eb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Sb(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Us(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ip(e,t){var n=t.checked;return ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Jg(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=er(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function kb(e,t){t=t.checked,t!=null&&vm(e,"checked",t,!1)}function op(e,t){kb(e,t);var n=er(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?sp(e,t.type,n):t.hasOwnProperty("defaultValue")&&sp(e,t.type,er(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ev(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function sp(e,t,n){(t!=="number"||Us(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ui=Array.isArray;function ti(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+er(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ap(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function tv(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(H(92));if(Ui(n)){if(1<n.length)throw Error(H(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:er(n)}}function Nb(e,t){var n=er(t.value),r=er(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function nv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Cb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Cb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ns,jb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ns=ns||document.createElement("div"),ns.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ns.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function mo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var no={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yC=["Webkit","ms","Moz","O"];Object.keys(no).forEach(function(e){yC.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),no[t]=no[e]})});function Tb(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||no.hasOwnProperty(e)&&no[e]?(""+t).trim():t+"px"}function Rb(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Tb(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var xC=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function up(e,t){if(t){if(xC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function cp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fp=null;function wm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var dp=null,ni=null,ri=null;function rv(e){if(e=Bo(e)){if(typeof dp!="function")throw Error(H(280));var t=e.stateNode;t&&(t=Aa(t),dp(e.stateNode,e.type,t))}}function Ib(e){ni?ri?ri.push(e):ri=[e]:ni=e}function Pb(){if(ni){var e=ni,t=ri;if(ri=ni=null,rv(e),t)for(e=0;e<t.length;e++)rv(t[e])}}function Ab(e,t){return e(t)}function Mb(){}var El=!1;function qb(e,t,n){if(El)return e(t,n);El=!0;try{return Ab(e,t,n)}finally{El=!1,(ni!==null||ri!==null)&&(Mb(),Pb())}}function go(e,t){var n=e.stateNode;if(n===null)return null;var r=Aa(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(H(231,t,typeof n));return n}var hp=!1;if(xn)try{var Pi={};Object.defineProperty(Pi,"passive",{get:function(){hp=!0}}),window.addEventListener("test",Pi,Pi),window.removeEventListener("test",Pi,Pi)}catch{hp=!1}function _C(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var ro=!1,Ws=null,Gs=!1,pp=null,wC={onError:function(e){ro=!0,Ws=e}};function bC(e,t,n,r,i,o,s,a,l){ro=!1,Ws=null,_C.apply(wC,arguments)}function SC(e,t,n,r,i,o,s,a,l){if(bC.apply(this,arguments),ro){if(ro){var u=Ws;ro=!1,Ws=null}else throw Error(H(198));Gs||(Gs=!0,pp=u)}}function Ir(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ob(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function iv(e){if(Ir(e)!==e)throw Error(H(188))}function EC(e){var t=e.alternate;if(!t){if(t=Ir(e),t===null)throw Error(H(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return iv(i),e;if(o===r)return iv(i),t;o=o.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?e:t}function Lb(e){return e=EC(e),e!==null?zb(e):null}function zb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=zb(e);if(t!==null)return t;e=e.sibling}return null}var Db=yt.unstable_scheduleCallback,ov=yt.unstable_cancelCallback,kC=yt.unstable_shouldYield,NC=yt.unstable_requestPaint,Re=yt.unstable_now,CC=yt.unstable_getCurrentPriorityLevel,bm=yt.unstable_ImmediatePriority,Fb=yt.unstable_UserBlockingPriority,Ks=yt.unstable_NormalPriority,jC=yt.unstable_LowPriority,$b=yt.unstable_IdlePriority,Ta=null,en=null;function TC(e){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Ta,e,void 0,(e.current.flags&128)===128)}catch{}}var Ft=Math.clz32?Math.clz32:PC,RC=Math.log,IC=Math.LN2;function PC(e){return e>>>=0,e===0?32:31-(RC(e)/IC|0)|0}var rs=64,is=4194304;function Wi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ys(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Wi(a):(o&=s,o!==0&&(r=Wi(o)))}else s=n&~i,s!==0?r=Wi(s):o!==0&&(r=Wi(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ft(t),i=1<<n,r|=e[n],t&=~i;return r}function AC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function MC(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Ft(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=AC(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function mp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Bb(){var e=rs;return rs<<=1,!(rs&4194240)&&(rs=64),e}function kl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Fo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ft(t),e[t]=n}function qC(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ft(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Sm(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ft(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var fe=0;function Hb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Vb,Em,Ub,Wb,Gb,gp=!1,os=[],Vn=null,Un=null,Wn=null,vo=new Map,yo=new Map,Ln=[],OC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sv(e,t){switch(e){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":vo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yo.delete(t.pointerId)}}function Ai(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Bo(t),t!==null&&Em(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function LC(e,t,n,r,i){switch(t){case"focusin":return Vn=Ai(Vn,e,t,n,r,i),!0;case"dragenter":return Un=Ai(Un,e,t,n,r,i),!0;case"mouseover":return Wn=Ai(Wn,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return vo.set(o,Ai(vo.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,yo.set(o,Ai(yo.get(o)||null,e,t,n,r,i)),!0}return!1}function Kb(e){var t=hr(e.target);if(t!==null){var n=Ir(t);if(n!==null){if(t=n.tag,t===13){if(t=Ob(n),t!==null){e.blockedOn=t,Gb(e.priority,function(){Ub(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Is(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=vp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);fp=r,n.target.dispatchEvent(r),fp=null}else return t=Bo(n),t!==null&&Em(t),e.blockedOn=n,!1;t.shift()}return!0}function av(e,t,n){Is(e)&&n.delete(t)}function zC(){gp=!1,Vn!==null&&Is(Vn)&&(Vn=null),Un!==null&&Is(Un)&&(Un=null),Wn!==null&&Is(Wn)&&(Wn=null),vo.forEach(av),yo.forEach(av)}function Mi(e,t){e.blockedOn===t&&(e.blockedOn=null,gp||(gp=!0,yt.unstable_scheduleCallback(yt.unstable_NormalPriority,zC)))}function xo(e){function t(i){return Mi(i,e)}if(0<os.length){Mi(os[0],e);for(var n=1;n<os.length;n++){var r=os[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Vn!==null&&Mi(Vn,e),Un!==null&&Mi(Un,e),Wn!==null&&Mi(Wn,e),vo.forEach(t),yo.forEach(t),n=0;n<Ln.length;n++)r=Ln[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ln.length&&(n=Ln[0],n.blockedOn===null);)Kb(n),n.blockedOn===null&&Ln.shift()}var ii=Nn.ReactCurrentBatchConfig,Xs=!0;function DC(e,t,n,r){var i=fe,o=ii.transition;ii.transition=null;try{fe=1,km(e,t,n,r)}finally{fe=i,ii.transition=o}}function FC(e,t,n,r){var i=fe,o=ii.transition;ii.transition=null;try{fe=4,km(e,t,n,r)}finally{fe=i,ii.transition=o}}function km(e,t,n,r){if(Xs){var i=vp(e,t,n,r);if(i===null)ql(e,t,r,Qs,n),sv(e,r);else if(LC(i,e,t,n,r))r.stopPropagation();else if(sv(e,r),t&4&&-1<OC.indexOf(e)){for(;i!==null;){var o=Bo(i);if(o!==null&&Vb(o),o=vp(e,t,n,r),o===null&&ql(e,t,r,Qs,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else ql(e,t,r,null,n)}}var Qs=null;function vp(e,t,n,r){if(Qs=null,e=wm(r),e=hr(e),e!==null)if(t=Ir(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ob(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qs=e,null}function Yb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(CC()){case bm:return 1;case Fb:return 4;case Ks:case jC:return 16;case $b:return 536870912;default:return 16}default:return 16}}var Bn=null,Nm=null,Ps=null;function Xb(){if(Ps)return Ps;var e,t=Nm,n=t.length,r,i="value"in Bn?Bn.value:Bn.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return Ps=i.slice(e,1<r?1-r:void 0)}function As(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ss(){return!0}function lv(){return!1}function wt(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ss:lv,this.isPropagationStopped=lv,this}return ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),t}var bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cm=wt(bi),$o=ke({},bi,{view:0,detail:0}),$C=wt($o),Nl,Cl,qi,Ra=ke({},$o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qi&&(qi&&e.type==="mousemove"?(Nl=e.screenX-qi.screenX,Cl=e.screenY-qi.screenY):Cl=Nl=0,qi=e),Nl)},movementY:function(e){return"movementY"in e?e.movementY:Cl}}),uv=wt(Ra),BC=ke({},Ra,{dataTransfer:0}),HC=wt(BC),VC=ke({},$o,{relatedTarget:0}),jl=wt(VC),UC=ke({},bi,{animationName:0,elapsedTime:0,pseudoElement:0}),WC=wt(UC),GC=ke({},bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),KC=wt(GC),YC=ke({},bi,{data:0}),cv=wt(YC),XC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ZC[e])?!!t[e]:!1}function jm(){return JC}var ej=ke({},$o,{key:function(e){if(e.key){var t=XC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=As(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?QC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jm,charCode:function(e){return e.type==="keypress"?As(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?As(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tj=wt(ej),nj=ke({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fv=wt(nj),rj=ke({},$o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jm}),ij=wt(rj),oj=ke({},bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),sj=wt(oj),aj=ke({},Ra,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lj=wt(aj),uj=[9,13,27,32],Tm=xn&&"CompositionEvent"in window,io=null;xn&&"documentMode"in document&&(io=document.documentMode);var cj=xn&&"TextEvent"in window&&!io,Qb=xn&&(!Tm||io&&8<io&&11>=io),dv=" ",hv=!1;function Zb(e,t){switch(e){case"keyup":return uj.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vr=!1;function fj(e,t){switch(e){case"compositionend":return Jb(t);case"keypress":return t.which!==32?null:(hv=!0,dv);case"textInput":return e=t.data,e===dv&&hv?null:e;default:return null}}function dj(e,t){if(Vr)return e==="compositionend"||!Tm&&Zb(e,t)?(e=Xb(),Ps=Nm=Bn=null,Vr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qb&&t.locale!=="ko"?null:t.data;default:return null}}var hj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hj[e.type]:t==="textarea"}function eS(e,t,n,r){Ib(r),t=Zs(t,"onChange"),0<t.length&&(n=new Cm("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var oo=null,_o=null;function pj(e){fS(e,0)}function Ia(e){var t=Gr(e);if(Eb(t))return e}function mj(e,t){if(e==="change")return t}var tS=!1;if(xn){var Tl;if(xn){var Rl="oninput"in document;if(!Rl){var mv=document.createElement("div");mv.setAttribute("oninput","return;"),Rl=typeof mv.oninput=="function"}Tl=Rl}else Tl=!1;tS=Tl&&(!document.documentMode||9<document.documentMode)}function gv(){oo&&(oo.detachEvent("onpropertychange",nS),_o=oo=null)}function nS(e){if(e.propertyName==="value"&&Ia(_o)){var t=[];eS(t,_o,e,wm(e)),qb(pj,t)}}function gj(e,t,n){e==="focusin"?(gv(),oo=t,_o=n,oo.attachEvent("onpropertychange",nS)):e==="focusout"&&gv()}function vj(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ia(_o)}function yj(e,t){if(e==="click")return Ia(t)}function xj(e,t){if(e==="input"||e==="change")return Ia(t)}function _j(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bt=typeof Object.is=="function"?Object.is:_j;function wo(e,t){if(Bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Jh.call(t,i)||!Bt(e[i],t[i]))return!1}return!0}function vv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yv(e,t){var n=vv(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vv(n)}}function rS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function iS(){for(var e=window,t=Us();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Us(e.document)}return t}function Rm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wj(e){var t=iS(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&rS(n.ownerDocument.documentElement,n)){if(r!==null&&Rm(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=yv(n,o);var s=yv(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var bj=xn&&"documentMode"in document&&11>=document.documentMode,Ur=null,yp=null,so=null,xp=!1;function xv(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xp||Ur==null||Ur!==Us(r)||(r=Ur,"selectionStart"in r&&Rm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),so&&wo(so,r)||(so=r,r=Zs(yp,"onSelect"),0<r.length&&(t=new Cm("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ur)))}function as(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Wr={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionend:as("Transition","TransitionEnd")},Il={},oS={};xn&&(oS=document.createElement("div").style,"AnimationEvent"in window||(delete Wr.animationend.animation,delete Wr.animationiteration.animation,delete Wr.animationstart.animation),"TransitionEvent"in window||delete Wr.transitionend.transition);function Pa(e){if(Il[e])return Il[e];if(!Wr[e])return e;var t=Wr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in oS)return Il[e]=t[n];return e}var sS=Pa("animationend"),aS=Pa("animationiteration"),lS=Pa("animationstart"),uS=Pa("transitionend"),cS=new Map,_v="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ir(e,t){cS.set(e,t),Rr(t,[e])}for(var Pl=0;Pl<_v.length;Pl++){var Al=_v[Pl],Sj=Al.toLowerCase(),Ej=Al[0].toUpperCase()+Al.slice(1);ir(Sj,"on"+Ej)}ir(sS,"onAnimationEnd");ir(aS,"onAnimationIteration");ir(lS,"onAnimationStart");ir("dblclick","onDoubleClick");ir("focusin","onFocus");ir("focusout","onBlur");ir(uS,"onTransitionEnd");ci("onMouseEnter",["mouseout","mouseover"]);ci("onMouseLeave",["mouseout","mouseover"]);ci("onPointerEnter",["pointerout","pointerover"]);ci("onPointerLeave",["pointerout","pointerover"]);Rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gi));function wv(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,SC(r,t,void 0,e),e.currentTarget=null}function fS(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;wv(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;wv(i,a,u),o=l}}}if(Gs)throw e=pp,Gs=!1,pp=null,e}function me(e,t){var n=t[Ep];n===void 0&&(n=t[Ep]=new Set);var r=e+"__bubble";n.has(r)||(dS(t,e,2,!1),n.add(r))}function Ml(e,t,n){var r=0;t&&(r|=4),dS(n,e,r,t)}var ls="_reactListening"+Math.random().toString(36).slice(2);function bo(e){if(!e[ls]){e[ls]=!0,xb.forEach(function(n){n!=="selectionchange"&&(kj.has(n)||Ml(n,!1,e),Ml(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ls]||(t[ls]=!0,Ml("selectionchange",!1,t))}}function dS(e,t,n,r){switch(Yb(t)){case 1:var i=DC;break;case 4:i=FC;break;default:i=km}n=i.bind(null,t,n,e),i=void 0,!hp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ql(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=hr(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}qb(function(){var u=o,c=wm(n),f=[];e:{var d=cS.get(e);if(d!==void 0){var p=Cm,y=e;switch(e){case"keypress":if(As(n)===0)break e;case"keydown":case"keyup":p=tj;break;case"focusin":y="focus",p=jl;break;case"focusout":y="blur",p=jl;break;case"beforeblur":case"afterblur":p=jl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=uv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=HC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=ij;break;case sS:case aS:case lS:p=WC;break;case uS:p=sj;break;case"scroll":p=$C;break;case"wheel":p=lj;break;case"copy":case"cut":case"paste":p=KC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=fv}var v=(t&4)!==0,w=!v&&e==="scroll",m=v?d!==null?d+"Capture":null:d;v=[];for(var g=u,x;g!==null;){x=g;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,m!==null&&(_=go(g,m),_!=null&&v.push(So(g,_,x)))),w)break;g=g.return}0<v.length&&(d=new p(d,y,null,n,c),f.push({event:d,listeners:v}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",d&&n!==fp&&(y=n.relatedTarget||n.fromElement)&&(hr(y)||y[_n]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?hr(y):null,y!==null&&(w=Ir(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(v=uv,_="onMouseLeave",m="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=fv,_="onPointerLeave",m="onPointerEnter",g="pointer"),w=p==null?d:Gr(p),x=y==null?d:Gr(y),d=new v(_,g+"leave",p,n,c),d.target=w,d.relatedTarget=x,_=null,hr(c)===u&&(v=new v(m,g+"enter",y,n,c),v.target=x,v.relatedTarget=w,_=v),w=_,p&&y)t:{for(v=p,m=y,g=0,x=v;x;x=Lr(x))g++;for(x=0,_=m;_;_=Lr(_))x++;for(;0<g-x;)v=Lr(v),g--;for(;0<x-g;)m=Lr(m),x--;for(;g--;){if(v===m||m!==null&&v===m.alternate)break t;v=Lr(v),m=Lr(m)}v=null}else v=null;p!==null&&bv(f,d,p,v,!1),y!==null&&w!==null&&bv(f,w,y,v,!0)}}e:{if(d=u?Gr(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var S=mj;else if(pv(d))if(tS)S=xj;else{S=vj;var E=gj}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=yj);if(S&&(S=S(e,u))){eS(f,S,n,c);break e}E&&E(e,d,u),e==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&sp(d,"number",d.value)}switch(E=u?Gr(u):window,e){case"focusin":(pv(E)||E.contentEditable==="true")&&(Ur=E,yp=u,so=null);break;case"focusout":so=yp=Ur=null;break;case"mousedown":xp=!0;break;case"contextmenu":case"mouseup":case"dragend":xp=!1,xv(f,n,c);break;case"selectionchange":if(bj)break;case"keydown":case"keyup":xv(f,n,c)}var N;if(Tm)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Vr?Zb(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(Qb&&n.locale!=="ko"&&(Vr||j!=="onCompositionStart"?j==="onCompositionEnd"&&Vr&&(N=Xb()):(Bn=c,Nm="value"in Bn?Bn.value:Bn.textContent,Vr=!0)),E=Zs(u,j),0<E.length&&(j=new cv(j,e,null,n,c),f.push({event:j,listeners:E}),N?j.data=N:(N=Jb(n),N!==null&&(j.data=N)))),(N=cj?fj(e,n):dj(e,n))&&(u=Zs(u,"onBeforeInput"),0<u.length&&(c=new cv("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=N))}fS(f,t)})}function So(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zs(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=go(e,n),o!=null&&r.unshift(So(e,o,i)),o=go(e,t),o!=null&&r.push(So(e,o,i))),e=e.return}return r}function Lr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function bv(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=go(n,o),l!=null&&s.unshift(So(n,l,a))):i||(l=go(n,o),l!=null&&s.push(So(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Nj=/\r\n?/g,Cj=/\u0000|\uFFFD/g;function Sv(e){return(typeof e=="string"?e:""+e).replace(Nj,`
`).replace(Cj,"")}function us(e,t,n){if(t=Sv(t),Sv(e)!==t&&n)throw Error(H(425))}function Js(){}var _p=null,wp=null;function bp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Sp=typeof setTimeout=="function"?setTimeout:void 0,jj=typeof clearTimeout=="function"?clearTimeout:void 0,Ev=typeof Promise=="function"?Promise:void 0,Tj=typeof queueMicrotask=="function"?queueMicrotask:typeof Ev<"u"?function(e){return Ev.resolve(null).then(e).catch(Rj)}:Sp;function Rj(e){setTimeout(function(){throw e})}function Ol(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),xo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);xo(t)}function Gn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function kv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Si=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Si,Eo="__reactProps$"+Si,_n="__reactContainer$"+Si,Ep="__reactEvents$"+Si,Ij="__reactListeners$"+Si,Pj="__reactHandles$"+Si;function hr(e){var t=e[Zt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_n]||n[Zt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=kv(e);e!==null;){if(n=e[Zt])return n;e=kv(e)}return t}e=n,n=e.parentNode}return null}function Bo(e){return e=e[Zt]||e[_n],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function Aa(e){return e[Eo]||null}var kp=[],Kr=-1;function or(e){return{current:e}}function ge(e){0>Kr||(e.current=kp[Kr],kp[Kr]=null,Kr--)}function pe(e,t){Kr++,kp[Kr]=e.current,e.current=t}var tr={},Xe=or(tr),lt=or(!1),Sr=tr;function fi(e,t){var n=e.type.contextTypes;if(!n)return tr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ut(e){return e=e.childContextTypes,e!=null}function ea(){ge(lt),ge(Xe)}function Nv(e,t,n){if(Xe.current!==tr)throw Error(H(168));pe(Xe,t),pe(lt,n)}function hS(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(H(108,gC(e)||"Unknown",i));return ke({},n,r)}function ta(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tr,Sr=Xe.current,pe(Xe,e),pe(lt,lt.current),!0}function Cv(e,t,n){var r=e.stateNode;if(!r)throw Error(H(169));n?(e=hS(e,t,Sr),r.__reactInternalMemoizedMergedChildContext=e,ge(lt),ge(Xe),pe(Xe,e)):ge(lt),pe(lt,n)}var fn=null,Ma=!1,Ll=!1;function pS(e){fn===null?fn=[e]:fn.push(e)}function Aj(e){Ma=!0,pS(e)}function sr(){if(!Ll&&fn!==null){Ll=!0;var e=0,t=fe;try{var n=fn;for(fe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}fn=null,Ma=!1}catch(i){throw fn!==null&&(fn=fn.slice(e+1)),Db(bm,sr),i}finally{fe=t,Ll=!1}}return null}var Yr=[],Xr=0,na=null,ra=0,St=[],Et=0,Er=null,dn=1,hn="";function cr(e,t){Yr[Xr++]=ra,Yr[Xr++]=na,na=e,ra=t}function mS(e,t,n){St[Et++]=dn,St[Et++]=hn,St[Et++]=Er,Er=e;var r=dn;e=hn;var i=32-Ft(r)-1;r&=~(1<<i),n+=1;var o=32-Ft(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,dn=1<<32-Ft(t)+i|n<<i|r,hn=o+e}else dn=1<<o|n<<i|r,hn=e}function Im(e){e.return!==null&&(cr(e,1),mS(e,1,0))}function Pm(e){for(;e===na;)na=Yr[--Xr],Yr[Xr]=null,ra=Yr[--Xr],Yr[Xr]=null;for(;e===Er;)Er=St[--Et],St[Et]=null,hn=St[--Et],St[Et]=null,dn=St[--Et],St[Et]=null}var vt=null,gt=null,xe=!1,zt=null;function gS(e,t){var n=Nt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function jv(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vt=e,gt=Gn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vt=e,gt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Er!==null?{id:dn,overflow:hn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Nt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,vt=e,gt=null,!0):!1;default:return!1}}function Np(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Cp(e){if(xe){var t=gt;if(t){var n=t;if(!jv(e,t)){if(Np(e))throw Error(H(418));t=Gn(n.nextSibling);var r=vt;t&&jv(e,t)?gS(r,n):(e.flags=e.flags&-4097|2,xe=!1,vt=e)}}else{if(Np(e))throw Error(H(418));e.flags=e.flags&-4097|2,xe=!1,vt=e}}}function Tv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vt=e}function cs(e){if(e!==vt)return!1;if(!xe)return Tv(e),xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!bp(e.type,e.memoizedProps)),t&&(t=gt)){if(Np(e))throw vS(),Error(H(418));for(;t;)gS(e,t),t=Gn(t.nextSibling)}if(Tv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){gt=Gn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}gt=null}}else gt=vt?Gn(e.stateNode.nextSibling):null;return!0}function vS(){for(var e=gt;e;)e=Gn(e.nextSibling)}function di(){gt=vt=null,xe=!1}function Am(e){zt===null?zt=[e]:zt.push(e)}var Mj=Nn.ReactCurrentBatchConfig;function Oi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,e))}return e}function fs(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Rv(e){var t=e._init;return t(e._payload)}function yS(e){function t(m,g){if(e){var x=m.deletions;x===null?(m.deletions=[g],m.flags|=16):x.push(g)}}function n(m,g){if(!e)return null;for(;g!==null;)t(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function i(m,g){return m=Qn(m,g),m.index=0,m.sibling=null,m}function o(m,g,x){return m.index=x,e?(x=m.alternate,x!==null?(x=x.index,x<g?(m.flags|=2,g):x):(m.flags|=2,g)):(m.flags|=1048576,g)}function s(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,g,x,_){return g===null||g.tag!==6?(g=Vl(x,m.mode,_),g.return=m,g):(g=i(g,x),g.return=m,g)}function l(m,g,x,_){var S=x.type;return S===Hr?c(m,g,x.props.children,_,x.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===An&&Rv(S)===g.type)?(_=i(g,x.props),_.ref=Oi(m,g,x),_.return=m,_):(_=Fs(x.type,x.key,x.props,null,m.mode,_),_.ref=Oi(m,g,x),_.return=m,_)}function u(m,g,x,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=Ul(x,m.mode,_),g.return=m,g):(g=i(g,x.children||[]),g.return=m,g)}function c(m,g,x,_,S){return g===null||g.tag!==7?(g=_r(x,m.mode,_,S),g.return=m,g):(g=i(g,x),g.return=m,g)}function f(m,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Vl(""+g,m.mode,x),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case es:return x=Fs(g.type,g.key,g.props,null,m.mode,x),x.ref=Oi(m,null,g),x.return=m,x;case Br:return g=Ul(g,m.mode,x),g.return=m,g;case An:var _=g._init;return f(m,_(g._payload),x)}if(Ui(g)||Ii(g))return g=_r(g,m.mode,x,null),g.return=m,g;fs(m,g)}return null}function d(m,g,x,_){var S=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:a(m,g,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case es:return x.key===S?l(m,g,x,_):null;case Br:return x.key===S?u(m,g,x,_):null;case An:return S=x._init,d(m,g,S(x._payload),_)}if(Ui(x)||Ii(x))return S!==null?null:c(m,g,x,_,null);fs(m,x)}return null}function p(m,g,x,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(x)||null,a(g,m,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case es:return m=m.get(_.key===null?x:_.key)||null,l(g,m,_,S);case Br:return m=m.get(_.key===null?x:_.key)||null,u(g,m,_,S);case An:var E=_._init;return p(m,g,x,E(_._payload),S)}if(Ui(_)||Ii(_))return m=m.get(x)||null,c(g,m,_,S,null);fs(g,_)}return null}function y(m,g,x,_){for(var S=null,E=null,N=g,j=g=0,R=null;N!==null&&j<x.length;j++){N.index>j?(R=N,N=null):R=N.sibling;var q=d(m,N,x[j],_);if(q===null){N===null&&(N=R);break}e&&N&&q.alternate===null&&t(m,N),g=o(q,g,j),E===null?S=q:E.sibling=q,E=q,N=R}if(j===x.length)return n(m,N),xe&&cr(m,j),S;if(N===null){for(;j<x.length;j++)N=f(m,x[j],_),N!==null&&(g=o(N,g,j),E===null?S=N:E.sibling=N,E=N);return xe&&cr(m,j),S}for(N=r(m,N);j<x.length;j++)R=p(N,m,j,x[j],_),R!==null&&(e&&R.alternate!==null&&N.delete(R.key===null?j:R.key),g=o(R,g,j),E===null?S=R:E.sibling=R,E=R);return e&&N.forEach(function(I){return t(m,I)}),xe&&cr(m,j),S}function v(m,g,x,_){var S=Ii(x);if(typeof S!="function")throw Error(H(150));if(x=S.call(x),x==null)throw Error(H(151));for(var E=S=null,N=g,j=g=0,R=null,q=x.next();N!==null&&!q.done;j++,q=x.next()){N.index>j?(R=N,N=null):R=N.sibling;var I=d(m,N,q.value,_);if(I===null){N===null&&(N=R);break}e&&N&&I.alternate===null&&t(m,N),g=o(I,g,j),E===null?S=I:E.sibling=I,E=I,N=R}if(q.done)return n(m,N),xe&&cr(m,j),S;if(N===null){for(;!q.done;j++,q=x.next())q=f(m,q.value,_),q!==null&&(g=o(q,g,j),E===null?S=q:E.sibling=q,E=q);return xe&&cr(m,j),S}for(N=r(m,N);!q.done;j++,q=x.next())q=p(N,m,j,q.value,_),q!==null&&(e&&q.alternate!==null&&N.delete(q.key===null?j:q.key),g=o(q,g,j),E===null?S=q:E.sibling=q,E=q);return e&&N.forEach(function(z){return t(m,z)}),xe&&cr(m,j),S}function w(m,g,x,_){if(typeof x=="object"&&x!==null&&x.type===Hr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case es:e:{for(var S=x.key,E=g;E!==null;){if(E.key===S){if(S=x.type,S===Hr){if(E.tag===7){n(m,E.sibling),g=i(E,x.props.children),g.return=m,m=g;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===An&&Rv(S)===E.type){n(m,E.sibling),g=i(E,x.props),g.ref=Oi(m,E,x),g.return=m,m=g;break e}n(m,E);break}else t(m,E);E=E.sibling}x.type===Hr?(g=_r(x.props.children,m.mode,_,x.key),g.return=m,m=g):(_=Fs(x.type,x.key,x.props,null,m.mode,_),_.ref=Oi(m,g,x),_.return=m,m=_)}return s(m);case Br:e:{for(E=x.key;g!==null;){if(g.key===E)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){n(m,g.sibling),g=i(g,x.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else t(m,g);g=g.sibling}g=Ul(x,m.mode,_),g.return=m,m=g}return s(m);case An:return E=x._init,w(m,g,E(x._payload),_)}if(Ui(x))return y(m,g,x,_);if(Ii(x))return v(m,g,x,_);fs(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(n(m,g.sibling),g=i(g,x),g.return=m,m=g):(n(m,g),g=Vl(x,m.mode,_),g.return=m,m=g),s(m)):n(m,g)}return w}var hi=yS(!0),xS=yS(!1),ia=or(null),oa=null,Qr=null,Mm=null;function qm(){Mm=Qr=oa=null}function Om(e){var t=ia.current;ge(ia),e._currentValue=t}function jp(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function oi(e,t){oa=e,Mm=Qr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(st=!0),e.firstContext=null)}function Tt(e){var t=e._currentValue;if(Mm!==e)if(e={context:e,memoizedValue:t,next:null},Qr===null){if(oa===null)throw Error(H(308));Qr=e,oa.dependencies={lanes:0,firstContext:e}}else Qr=Qr.next=e;return t}var pr=null;function Lm(e){pr===null?pr=[e]:pr.push(e)}function _S(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Lm(t)):(n.next=i.next,i.next=n),t.interleaved=n,wn(e,r)}function wn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Mn=!1;function zm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Kn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,wn(e,n)}return i=r.interleaved,i===null?(t.next=t,Lm(r)):(t.next=i.next,i.next=t),r.interleaved=t,wn(e,n)}function Ms(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Sm(e,n)}}function Iv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function sa(e,t,n,r){var i=e.updateQueue;Mn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var d=a.lane,p=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,v=a;switch(d=t,p=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){f=y.call(p,f,d);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,d=typeof y=="function"?y.call(p,f,d):y,d==null)break e;f=ke({},f,d);break e;case 2:Mn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Nr|=s,e.lanes=s,e.memoizedState=f}}function Pv(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var Ho={},tn=or(Ho),ko=or(Ho),No=or(Ho);function mr(e){if(e===Ho)throw Error(H(174));return e}function Dm(e,t){switch(pe(No,t),pe(ko,e),pe(tn,Ho),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:lp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=lp(t,e)}ge(tn),pe(tn,t)}function pi(){ge(tn),ge(ko),ge(No)}function bS(e){mr(No.current);var t=mr(tn.current),n=lp(t,e.type);t!==n&&(pe(ko,e),pe(tn,n))}function Fm(e){ko.current===e&&(ge(tn),ge(ko))}var Se=or(0);function aa(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zl=[];function $m(){for(var e=0;e<zl.length;e++)zl[e]._workInProgressVersionPrimary=null;zl.length=0}var qs=Nn.ReactCurrentDispatcher,Dl=Nn.ReactCurrentBatchConfig,kr=0,Ee=null,qe=null,ze=null,la=!1,ao=!1,Co=0,qj=0;function Ge(){throw Error(H(321))}function Bm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Bt(e[n],t[n]))return!1;return!0}function Hm(e,t,n,r,i,o){if(kr=o,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qs.current=e===null||e.memoizedState===null?Dj:Fj,e=n(r,i),ao){o=0;do{if(ao=!1,Co=0,25<=o)throw Error(H(301));o+=1,ze=qe=null,t.updateQueue=null,qs.current=$j,e=n(r,i)}while(ao)}if(qs.current=ua,t=qe!==null&&qe.next!==null,kr=0,ze=qe=Ee=null,la=!1,t)throw Error(H(300));return e}function Vm(){var e=Co!==0;return Co=0,e}function Yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?Ee.memoizedState=ze=e:ze=ze.next=e,ze}function Rt(){if(qe===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var t=ze===null?Ee.memoizedState:ze.next;if(t!==null)ze=t,qe=e;else{if(e===null)throw Error(H(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},ze===null?Ee.memoizedState=ze=e:ze=ze.next=e}return ze}function jo(e,t){return typeof t=="function"?t(e):t}function Fl(e){var t=Rt(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=qe,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((kr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,Ee.lanes|=c,Nr|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Bt(r,t.memoizedState)||(st=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Ee.lanes|=o,Nr|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function $l(e){var t=Rt(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Bt(o,t.memoizedState)||(st=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function SS(){}function ES(e,t){var n=Ee,r=Rt(),i=t(),o=!Bt(r.memoizedState,i);if(o&&(r.memoizedState=i,st=!0),r=r.queue,Um(CS.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||ze!==null&&ze.memoizedState.tag&1){if(n.flags|=2048,To(9,NS.bind(null,n,r,i,t),void 0,null),Fe===null)throw Error(H(349));kr&30||kS(n,t,i)}return i}function kS(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function NS(e,t,n,r){t.value=n,t.getSnapshot=r,jS(t)&&TS(e)}function CS(e,t,n){return n(function(){jS(t)&&TS(e)})}function jS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Bt(e,n)}catch{return!0}}function TS(e){var t=wn(e,1);t!==null&&$t(t,e,1,-1)}function Av(e){var t=Yt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:e},t.queue=e,e=e.dispatch=zj.bind(null,Ee,e),[t.memoizedState,e]}function To(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function RS(){return Rt().memoizedState}function Os(e,t,n,r){var i=Yt();Ee.flags|=e,i.memoizedState=To(1|t,n,void 0,r===void 0?null:r)}function qa(e,t,n,r){var i=Rt();r=r===void 0?null:r;var o=void 0;if(qe!==null){var s=qe.memoizedState;if(o=s.destroy,r!==null&&Bm(r,s.deps)){i.memoizedState=To(t,n,o,r);return}}Ee.flags|=e,i.memoizedState=To(1|t,n,o,r)}function Mv(e,t){return Os(8390656,8,e,t)}function Um(e,t){return qa(2048,8,e,t)}function IS(e,t){return qa(4,2,e,t)}function PS(e,t){return qa(4,4,e,t)}function AS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function MS(e,t,n){return n=n!=null?n.concat([e]):null,qa(4,4,AS.bind(null,t,e),n)}function Wm(){}function qS(e,t){var n=Rt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Bm(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function OS(e,t){var n=Rt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Bm(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function LS(e,t,n){return kr&21?(Bt(n,t)||(n=Bb(),Ee.lanes|=n,Nr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,st=!0),e.memoizedState=n)}function Oj(e,t){var n=fe;fe=n!==0&&4>n?n:4,e(!0);var r=Dl.transition;Dl.transition={};try{e(!1),t()}finally{fe=n,Dl.transition=r}}function zS(){return Rt().memoizedState}function Lj(e,t,n){var r=Xn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},DS(e))FS(t,n);else if(n=_S(e,t,n,r),n!==null){var i=tt();$t(n,e,r,i),$S(n,t,r)}}function zj(e,t,n){var r=Xn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(DS(e))FS(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Bt(a,s)){var l=t.interleaved;l===null?(i.next=i,Lm(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=_S(e,t,i,r),n!==null&&(i=tt(),$t(n,e,r,i),$S(n,t,r))}}function DS(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function FS(e,t){ao=la=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $S(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Sm(e,n)}}var ua={readContext:Tt,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},Dj={readContext:Tt,useCallback:function(e,t){return Yt().memoizedState=[e,t===void 0?null:t],e},useContext:Tt,useEffect:Mv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Os(4194308,4,AS.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Os(4194308,4,e,t)},useInsertionEffect:function(e,t){return Os(4,2,e,t)},useMemo:function(e,t){var n=Yt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Yt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Lj.bind(null,Ee,e),[r.memoizedState,e]},useRef:function(e){var t=Yt();return e={current:e},t.memoizedState=e},useState:Av,useDebugValue:Wm,useDeferredValue:function(e){return Yt().memoizedState=e},useTransition:function(){var e=Av(!1),t=e[0];return e=Oj.bind(null,e[1]),Yt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ee,i=Yt();if(xe){if(n===void 0)throw Error(H(407));n=n()}else{if(n=t(),Fe===null)throw Error(H(349));kr&30||kS(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Mv(CS.bind(null,r,o,e),[e]),r.flags|=2048,To(9,NS.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Yt(),t=Fe.identifierPrefix;if(xe){var n=hn,r=dn;n=(r&~(1<<32-Ft(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Co++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=qj++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Fj={readContext:Tt,useCallback:qS,useContext:Tt,useEffect:Um,useImperativeHandle:MS,useInsertionEffect:IS,useLayoutEffect:PS,useMemo:OS,useReducer:Fl,useRef:RS,useState:function(){return Fl(jo)},useDebugValue:Wm,useDeferredValue:function(e){var t=Rt();return LS(t,qe.memoizedState,e)},useTransition:function(){var e=Fl(jo)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:SS,useSyncExternalStore:ES,useId:zS,unstable_isNewReconciler:!1},$j={readContext:Tt,useCallback:qS,useContext:Tt,useEffect:Um,useImperativeHandle:MS,useInsertionEffect:IS,useLayoutEffect:PS,useMemo:OS,useReducer:$l,useRef:RS,useState:function(){return $l(jo)},useDebugValue:Wm,useDeferredValue:function(e){var t=Rt();return qe===null?t.memoizedState=e:LS(t,qe.memoizedState,e)},useTransition:function(){var e=$l(jo)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:SS,useSyncExternalStore:ES,useId:zS,unstable_isNewReconciler:!1};function qt(e,t){if(e&&e.defaultProps){t=ke({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Tp(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ke({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Oa={isMounted:function(e){return(e=e._reactInternals)?Ir(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tt(),i=Xn(e),o=vn(r,i);o.payload=t,n!=null&&(o.callback=n),t=Kn(e,o,i),t!==null&&($t(t,e,i,r),Ms(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tt(),i=Xn(e),o=vn(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Kn(e,o,i),t!==null&&($t(t,e,i,r),Ms(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tt(),r=Xn(e),i=vn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Kn(e,i,r),t!==null&&($t(t,e,r,n),Ms(t,e,r))}};function qv(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!wo(n,r)||!wo(i,o):!0}function BS(e,t,n){var r=!1,i=tr,o=t.contextType;return typeof o=="object"&&o!==null?o=Tt(o):(i=ut(t)?Sr:Xe.current,r=t.contextTypes,o=(r=r!=null)?fi(e,i):tr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Oa,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ov(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Oa.enqueueReplaceState(t,t.state,null)}function Rp(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},zm(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Tt(o):(o=ut(t)?Sr:Xe.current,i.context=fi(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Tp(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Oa.enqueueReplaceState(i,i.state,null),sa(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function mi(e,t){try{var n="",r=t;do n+=mC(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Bl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ip(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Bj=typeof WeakMap=="function"?WeakMap:Map;function HS(e,t,n){n=vn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){fa||(fa=!0,$p=r),Ip(e,t)},n}function VS(e,t,n){n=vn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Ip(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Ip(e,t),typeof r!="function"&&(Yn===null?Yn=new Set([this]):Yn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Lv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Bj;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=nT.bind(null,e,t,n),t.then(e,e))}function zv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Dv(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=vn(-1,1),t.tag=2,Kn(n,t,1))),n.lanes|=1),e)}var Hj=Nn.ReactCurrentOwner,st=!1;function et(e,t,n,r){t.child=e===null?xS(t,null,n,r):hi(t,e.child,n,r)}function Fv(e,t,n,r,i){n=n.render;var o=t.ref;return oi(t,i),r=Hm(e,t,n,r,o,i),n=Vm(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,bn(e,t,i)):(xe&&n&&Im(t),t.flags|=1,et(e,t,r,i),t.child)}function $v(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!eg(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,US(e,t,o,r,i)):(e=Fs(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:wo,n(s,r)&&e.ref===t.ref)return bn(e,t,i)}return t.flags|=1,e=Qn(o,r),e.ref=t.ref,e.return=t,t.child=e}function US(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(wo(o,r)&&e.ref===t.ref)if(st=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(st=!0);else return t.lanes=e.lanes,bn(e,t,i)}return Pp(e,t,n,r,i)}function WS(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(Jr,pt),pt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,pe(Jr,pt),pt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,pe(Jr,pt),pt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,pe(Jr,pt),pt|=r;return et(e,t,i,n),t.child}function GS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Pp(e,t,n,r,i){var o=ut(n)?Sr:Xe.current;return o=fi(t,o),oi(t,i),n=Hm(e,t,n,r,o,i),r=Vm(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,bn(e,t,i)):(xe&&r&&Im(t),t.flags|=1,et(e,t,n,i),t.child)}function Bv(e,t,n,r,i){if(ut(n)){var o=!0;ta(t)}else o=!1;if(oi(t,i),t.stateNode===null)Ls(e,t),BS(t,n,r),Rp(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Tt(u):(u=ut(n)?Sr:Xe.current,u=fi(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Ov(t,s,r,u),Mn=!1;var d=t.memoizedState;s.state=d,sa(t,r,s,i),l=t.memoizedState,a!==r||d!==l||lt.current||Mn?(typeof c=="function"&&(Tp(t,n,c,r),l=t.memoizedState),(a=Mn||qv(t,n,a,r,d,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,wS(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:qt(t.type,a),s.props=u,f=t.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Tt(l):(l=ut(n)?Sr:Xe.current,l=fi(t,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==l)&&Ov(t,s,r,l),Mn=!1,d=t.memoizedState,s.state=d,sa(t,r,s,i);var y=t.memoizedState;a!==f||d!==y||lt.current||Mn?(typeof p=="function"&&(Tp(t,n,p,r),y=t.memoizedState),(u=Mn||qv(t,n,u,r,d,y,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),s.props=r,s.state=y,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ap(e,t,n,r,o,i)}function Ap(e,t,n,r,i,o){GS(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Cv(t,n,!1),bn(e,t,o);r=t.stateNode,Hj.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=hi(t,e.child,null,o),t.child=hi(t,null,a,o)):et(e,t,a,o),t.memoizedState=r.state,i&&Cv(t,n,!0),t.child}function KS(e){var t=e.stateNode;t.pendingContext?Nv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Nv(e,t.context,!1),Dm(e,t.containerInfo)}function Hv(e,t,n,r,i){return di(),Am(i),t.flags|=256,et(e,t,n,r),t.child}var Mp={dehydrated:null,treeContext:null,retryLane:0};function qp(e){return{baseLanes:e,cachePool:null,transitions:null}}function YS(e,t,n){var r=t.pendingProps,i=Se.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),pe(Se,i&1),e===null)return Cp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Da(s,r,0,null),e=_r(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=qp(n),t.memoizedState=Mp,e):Gm(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Vj(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Qn(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Qn(a,o):(o=_r(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?qp(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Mp,r}return o=e.child,e=o.sibling,r=Qn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Gm(e,t){return t=Da({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ds(e,t,n,r){return r!==null&&Am(r),hi(t,e.child,null,n),e=Gm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Vj(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=Bl(Error(H(422))),ds(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Da({mode:"visible",children:r.children},i,0,null),o=_r(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&hi(t,e.child,null,s),t.child.memoizedState=qp(s),t.memoizedState=Mp,o);if(!(t.mode&1))return ds(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(H(419)),r=Bl(o,r,void 0),ds(e,t,s,r)}if(a=(s&e.childLanes)!==0,st||a){if(r=Fe,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,wn(e,i),$t(r,e,i,-1))}return Jm(),r=Bl(Error(H(421))),ds(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=rT.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,gt=Gn(i.nextSibling),vt=t,xe=!0,zt=null,e!==null&&(St[Et++]=dn,St[Et++]=hn,St[Et++]=Er,dn=e.id,hn=e.overflow,Er=t),t=Gm(t,r.children),t.flags|=4096,t)}function Vv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),jp(e.return,t,n)}function Hl(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function XS(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(et(e,t,r.children,n),r=Se.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vv(e,n,t);else if(e.tag===19)Vv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(pe(Se,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&aa(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Hl(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&aa(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Hl(t,!0,n,null,o);break;case"together":Hl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ls(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Nr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,n=Qn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Qn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Uj(e,t,n){switch(t.tag){case 3:KS(t),di();break;case 5:bS(t);break;case 1:ut(t.type)&&ta(t);break;case 4:Dm(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;pe(ia,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(pe(Se,Se.current&1),t.flags|=128,null):n&t.child.childLanes?YS(e,t,n):(pe(Se,Se.current&1),e=bn(e,t,n),e!==null?e.sibling:null);pe(Se,Se.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return XS(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),pe(Se,Se.current),r)break;return null;case 22:case 23:return t.lanes=0,WS(e,t,n)}return bn(e,t,n)}var QS,Op,ZS,JS;QS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Op=function(){};ZS=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,mr(tn.current);var o=null;switch(n){case"input":i=ip(e,i),r=ip(e,r),o=[];break;case"select":i=ke({},i,{value:void 0}),r=ke({},r,{value:void 0}),o=[];break;case"textarea":i=ap(e,i),r=ap(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Js)}up(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(po.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(po.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&me("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};JS=function(e,t,n,r){n!==r&&(t.flags|=4)};function Li(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Wj(e,t,n){var r=t.pendingProps;switch(Pm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return ut(t.type)&&ea(),Ke(t),null;case 3:return r=t.stateNode,pi(),ge(lt),ge(Xe),$m(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(cs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,zt!==null&&(Vp(zt),zt=null))),Op(e,t),Ke(t),null;case 5:Fm(t);var i=mr(No.current);if(n=t.type,e!==null&&t.stateNode!=null)ZS(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(H(166));return Ke(t),null}if(e=mr(tn.current),cs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Zt]=t,r[Eo]=o,e=(t.mode&1)!==0,n){case"dialog":me("cancel",r),me("close",r);break;case"iframe":case"object":case"embed":me("load",r);break;case"video":case"audio":for(i=0;i<Gi.length;i++)me(Gi[i],r);break;case"source":me("error",r);break;case"img":case"image":case"link":me("error",r),me("load",r);break;case"details":me("toggle",r);break;case"input":Jg(r,o),me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},me("invalid",r);break;case"textarea":tv(r,o),me("invalid",r)}up(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&us(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&us(r.textContent,a,e),i=["children",""+a]):po.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&me("scroll",r)}switch(n){case"input":ts(r),ev(r,o,!0);break;case"textarea":ts(r),nv(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Js)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Cb(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Zt]=t,e[Eo]=r,QS(e,t,!1,!1),t.stateNode=e;e:{switch(s=cp(n,r),n){case"dialog":me("cancel",e),me("close",e),i=r;break;case"iframe":case"object":case"embed":me("load",e),i=r;break;case"video":case"audio":for(i=0;i<Gi.length;i++)me(Gi[i],e);i=r;break;case"source":me("error",e),i=r;break;case"img":case"image":case"link":me("error",e),me("load",e),i=r;break;case"details":me("toggle",e),i=r;break;case"input":Jg(e,r),i=ip(e,r),me("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ke({},r,{value:void 0}),me("invalid",e);break;case"textarea":tv(e,r),i=ap(e,r),me("invalid",e);break;default:i=r}up(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Rb(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&jb(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&mo(e,l):typeof l=="number"&&mo(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(po.hasOwnProperty(o)?l!=null&&o==="onScroll"&&me("scroll",e):l!=null&&vm(e,o,l,s))}switch(n){case"input":ts(e),ev(e,r,!1);break;case"textarea":ts(e),nv(e);break;case"option":r.value!=null&&e.setAttribute("value",""+er(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?ti(e,!!r.multiple,o,!1):r.defaultValue!=null&&ti(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Js)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ke(t),null;case 6:if(e&&t.stateNode!=null)JS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(H(166));if(n=mr(No.current),mr(tn.current),cs(t)){if(r=t.stateNode,n=t.memoizedProps,r[Zt]=t,(o=r.nodeValue!==n)&&(e=vt,e!==null))switch(e.tag){case 3:us(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&us(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zt]=t,t.stateNode=r}return Ke(t),null;case 13:if(ge(Se),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xe&&gt!==null&&t.mode&1&&!(t.flags&128))vS(),di(),t.flags|=98560,o=!1;else if(o=cs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(H(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(H(317));o[Zt]=t}else di(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ke(t),o=!1}else zt!==null&&(Vp(zt),zt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Se.current&1?Oe===0&&(Oe=3):Jm())),t.updateQueue!==null&&(t.flags|=4),Ke(t),null);case 4:return pi(),Op(e,t),e===null&&bo(t.stateNode.containerInfo),Ke(t),null;case 10:return Om(t.type._context),Ke(t),null;case 17:return ut(t.type)&&ea(),Ke(t),null;case 19:if(ge(Se),o=t.memoizedState,o===null)return Ke(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Li(o,!1);else{if(Oe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=aa(e),s!==null){for(t.flags|=128,Li(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return pe(Se,Se.current&1|2),t.child}e=e.sibling}o.tail!==null&&Re()>gi&&(t.flags|=128,r=!0,Li(o,!1),t.lanes=4194304)}else{if(!r)if(e=aa(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Li(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!xe)return Ke(t),null}else 2*Re()-o.renderingStartTime>gi&&n!==1073741824&&(t.flags|=128,r=!0,Li(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Re(),t.sibling=null,n=Se.current,pe(Se,r?n&1|2:n&1),t):(Ke(t),null);case 22:case 23:return Zm(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?pt&1073741824&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function Gj(e,t){switch(Pm(t),t.tag){case 1:return ut(t.type)&&ea(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pi(),ge(lt),ge(Xe),$m(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Fm(t),null;case 13:if(ge(Se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));di()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ge(Se),null;case 4:return pi(),null;case 10:return Om(t.type._context),null;case 22:case 23:return Zm(),null;case 24:return null;default:return null}}var hs=!1,Ye=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Zr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ne(e,t,r)}else n.current=null}function Lp(e,t,n){try{n()}catch(r){Ne(e,t,r)}}var Uv=!1;function Yj(e,t){if(_p=Xs,e=iS(),Rm(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++u===i&&(a=s),d===o&&++c===r&&(l=s),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(wp={focusedElem:e,selectionRange:n},Xs=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,w=y.memoizedState,m=t.stateNode,g=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:qt(t.type,v),w);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(_){Ne(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return y=Uv,Uv=!1,y}function lo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Lp(t,n,o)}i=i.next}while(i!==r)}}function La(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function zp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function eE(e){var t=e.alternate;t!==null&&(e.alternate=null,eE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zt],delete t[Eo],delete t[Ep],delete t[Ij],delete t[Pj])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function tE(e){return e.tag===5||e.tag===3||e.tag===4}function Wv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Dp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Js));else if(r!==4&&(e=e.child,e!==null))for(Dp(e,t,n),e=e.sibling;e!==null;)Dp(e,t,n),e=e.sibling}function Fp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Fp(e,t,n),e=e.sibling;e!==null;)Fp(e,t,n),e=e.sibling}var He=null,Ot=!1;function Rn(e,t,n){for(n=n.child;n!==null;)nE(e,t,n),n=n.sibling}function nE(e,t,n){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Ta,n)}catch{}switch(n.tag){case 5:Ye||Zr(n,t);case 6:var r=He,i=Ot;He=null,Rn(e,t,n),He=r,Ot=i,He!==null&&(Ot?(e=He,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):He.removeChild(n.stateNode));break;case 18:He!==null&&(Ot?(e=He,n=n.stateNode,e.nodeType===8?Ol(e.parentNode,n):e.nodeType===1&&Ol(e,n),xo(e)):Ol(He,n.stateNode));break;case 4:r=He,i=Ot,He=n.stateNode.containerInfo,Ot=!0,Rn(e,t,n),He=r,Ot=i;break;case 0:case 11:case 14:case 15:if(!Ye&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Lp(n,t,s),i=i.next}while(i!==r)}Rn(e,t,n);break;case 1:if(!Ye&&(Zr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ne(n,t,a)}Rn(e,t,n);break;case 21:Rn(e,t,n);break;case 22:n.mode&1?(Ye=(r=Ye)||n.memoizedState!==null,Rn(e,t,n),Ye=r):Rn(e,t,n);break;default:Rn(e,t,n)}}function Gv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Kj),t.forEach(function(r){var i=iT.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function At(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:He=a.stateNode,Ot=!1;break e;case 3:He=a.stateNode.containerInfo,Ot=!0;break e;case 4:He=a.stateNode.containerInfo,Ot=!0;break e}a=a.return}if(He===null)throw Error(H(160));nE(o,s,i),He=null,Ot=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ne(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)rE(t,e),t=t.sibling}function rE(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(At(t,e),Kt(e),r&4){try{lo(3,e,e.return),La(3,e)}catch(v){Ne(e,e.return,v)}try{lo(5,e,e.return)}catch(v){Ne(e,e.return,v)}}break;case 1:At(t,e),Kt(e),r&512&&n!==null&&Zr(n,n.return);break;case 5:if(At(t,e),Kt(e),r&512&&n!==null&&Zr(n,n.return),e.flags&32){var i=e.stateNode;try{mo(i,"")}catch(v){Ne(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&kb(i,o),cp(a,s);var u=cp(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?Rb(i,f):c==="dangerouslySetInnerHTML"?jb(i,f):c==="children"?mo(i,f):vm(i,c,f,u)}switch(a){case"input":op(i,o);break;case"textarea":Nb(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?ti(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?ti(i,!!o.multiple,o.defaultValue,!0):ti(i,!!o.multiple,o.multiple?[]:"",!1))}i[Eo]=o}catch(v){Ne(e,e.return,v)}}break;case 6:if(At(t,e),Kt(e),r&4){if(e.stateNode===null)throw Error(H(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(v){Ne(e,e.return,v)}}break;case 3:if(At(t,e),Kt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xo(t.containerInfo)}catch(v){Ne(e,e.return,v)}break;case 4:At(t,e),Kt(e);break;case 13:At(t,e),Kt(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Xm=Re())),r&4&&Gv(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Ye=(u=Ye)||c,At(t,e),Ye=u):At(t,e),Kt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(Y=e,c=e.child;c!==null;){for(f=Y=c;Y!==null;){switch(d=Y,p=d.child,d.tag){case 0:case 11:case 14:case 15:lo(4,d,d.return);break;case 1:Zr(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(v){Ne(r,n,v)}}break;case 5:Zr(d,d.return);break;case 22:if(d.memoizedState!==null){Yv(f);continue}}p!==null?(p.return=d,Y=p):Yv(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Tb("display",s))}catch(v){Ne(e,e.return,v)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Ne(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:At(t,e),Kt(e),r&4&&Gv(e);break;case 21:break;default:At(t,e),Kt(e)}}function Kt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(tE(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(mo(i,""),r.flags&=-33);var o=Wv(e);Fp(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Wv(e);Dp(e,a,s);break;default:throw Error(H(161))}}catch(l){Ne(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Xj(e,t,n){Y=e,iE(e)}function iE(e,t,n){for(var r=(e.mode&1)!==0;Y!==null;){var i=Y,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||hs;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ye;a=hs;var u=Ye;if(hs=s,(Ye=l)&&!u)for(Y=i;Y!==null;)s=Y,l=s.child,s.tag===22&&s.memoizedState!==null?Xv(i):l!==null?(l.return=s,Y=l):Xv(i);for(;o!==null;)Y=o,iE(o),o=o.sibling;Y=i,hs=a,Ye=u}Kv(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Y=o):Kv(e)}}function Kv(e){for(;Y!==null;){var t=Y;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ye||La(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ye)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:qt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Pv(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Pv(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&xo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Ye||t.flags&512&&zp(t)}catch(d){Ne(t,t.return,d)}}if(t===e){Y=null;break}if(n=t.sibling,n!==null){n.return=t.return,Y=n;break}Y=t.return}}function Yv(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Y=n;break}Y=t.return}}function Xv(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{La(4,t)}catch(l){Ne(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Ne(t,i,l)}}var o=t.return;try{zp(t)}catch(l){Ne(t,o,l)}break;case 5:var s=t.return;try{zp(t)}catch(l){Ne(t,s,l)}}}catch(l){Ne(t,t.return,l)}if(t===e){Y=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Y=a;break}Y=t.return}}var Qj=Math.ceil,ca=Nn.ReactCurrentDispatcher,Km=Nn.ReactCurrentOwner,jt=Nn.ReactCurrentBatchConfig,ue=0,Fe=null,Pe=null,Ve=0,pt=0,Jr=or(0),Oe=0,Ro=null,Nr=0,za=0,Ym=0,uo=null,ot=null,Xm=0,gi=1/0,cn=null,fa=!1,$p=null,Yn=null,ps=!1,Hn=null,da=0,co=0,Bp=null,zs=-1,Ds=0;function tt(){return ue&6?Re():zs!==-1?zs:zs=Re()}function Xn(e){return e.mode&1?ue&2&&Ve!==0?Ve&-Ve:Mj.transition!==null?(Ds===0&&(Ds=Bb()),Ds):(e=fe,e!==0||(e=window.event,e=e===void 0?16:Yb(e.type)),e):1}function $t(e,t,n,r){if(50<co)throw co=0,Bp=null,Error(H(185));Fo(e,n,r),(!(ue&2)||e!==Fe)&&(e===Fe&&(!(ue&2)&&(za|=n),Oe===4&&zn(e,Ve)),ct(e,r),n===1&&ue===0&&!(t.mode&1)&&(gi=Re()+500,Ma&&sr()))}function ct(e,t){var n=e.callbackNode;MC(e,t);var r=Ys(e,e===Fe?Ve:0);if(r===0)n!==null&&ov(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ov(n),t===1)e.tag===0?Aj(Qv.bind(null,e)):pS(Qv.bind(null,e)),Tj(function(){!(ue&6)&&sr()}),n=null;else{switch(Hb(r)){case 1:n=bm;break;case 4:n=Fb;break;case 16:n=Ks;break;case 536870912:n=$b;break;default:n=Ks}n=dE(n,oE.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oE(e,t){if(zs=-1,Ds=0,ue&6)throw Error(H(327));var n=e.callbackNode;if(si()&&e.callbackNode!==n)return null;var r=Ys(e,e===Fe?Ve:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ha(e,r);else{t=r;var i=ue;ue|=2;var o=aE();(Fe!==e||Ve!==t)&&(cn=null,gi=Re()+500,xr(e,t));do try{eT();break}catch(a){sE(e,a)}while(!0);qm(),ca.current=o,ue=i,Pe!==null?t=0:(Fe=null,Ve=0,t=Oe)}if(t!==0){if(t===2&&(i=mp(e),i!==0&&(r=i,t=Hp(e,i))),t===1)throw n=Ro,xr(e,0),zn(e,r),ct(e,Re()),n;if(t===6)zn(e,r);else{if(i=e.current.alternate,!(r&30)&&!Zj(i)&&(t=ha(e,r),t===2&&(o=mp(e),o!==0&&(r=o,t=Hp(e,o))),t===1))throw n=Ro,xr(e,0),zn(e,r),ct(e,Re()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(H(345));case 2:fr(e,ot,cn);break;case 3:if(zn(e,r),(r&130023424)===r&&(t=Xm+500-Re(),10<t)){if(Ys(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){tt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Sp(fr.bind(null,e,ot,cn),t);break}fr(e,ot,cn);break;case 4:if(zn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Ft(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=Re()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Qj(r/1960))-r,10<r){e.timeoutHandle=Sp(fr.bind(null,e,ot,cn),r);break}fr(e,ot,cn);break;case 5:fr(e,ot,cn);break;default:throw Error(H(329))}}}return ct(e,Re()),e.callbackNode===n?oE.bind(null,e):null}function Hp(e,t){var n=uo;return e.current.memoizedState.isDehydrated&&(xr(e,t).flags|=256),e=ha(e,t),e!==2&&(t=ot,ot=n,t!==null&&Vp(t)),e}function Vp(e){ot===null?ot=e:ot.push.apply(ot,e)}function Zj(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Bt(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zn(e,t){for(t&=~Ym,t&=~za,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ft(t),r=1<<n;e[n]=-1,t&=~r}}function Qv(e){if(ue&6)throw Error(H(327));si();var t=Ys(e,0);if(!(t&1))return ct(e,Re()),null;var n=ha(e,t);if(e.tag!==0&&n===2){var r=mp(e);r!==0&&(t=r,n=Hp(e,r))}if(n===1)throw n=Ro,xr(e,0),zn(e,t),ct(e,Re()),n;if(n===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fr(e,ot,cn),ct(e,Re()),null}function Qm(e,t){var n=ue;ue|=1;try{return e(t)}finally{ue=n,ue===0&&(gi=Re()+500,Ma&&sr())}}function Cr(e){Hn!==null&&Hn.tag===0&&!(ue&6)&&si();var t=ue;ue|=1;var n=jt.transition,r=fe;try{if(jt.transition=null,fe=1,e)return e()}finally{fe=r,jt.transition=n,ue=t,!(ue&6)&&sr()}}function Zm(){pt=Jr.current,ge(Jr)}function xr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,jj(n)),Pe!==null)for(n=Pe.return;n!==null;){var r=n;switch(Pm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ea();break;case 3:pi(),ge(lt),ge(Xe),$m();break;case 5:Fm(r);break;case 4:pi();break;case 13:ge(Se);break;case 19:ge(Se);break;case 10:Om(r.type._context);break;case 22:case 23:Zm()}n=n.return}if(Fe=e,Pe=e=Qn(e.current,null),Ve=pt=t,Oe=0,Ro=null,Ym=za=Nr=0,ot=uo=null,pr!==null){for(t=0;t<pr.length;t++)if(n=pr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}pr=null}return e}function sE(e,t){do{var n=Pe;try{if(qm(),qs.current=ua,la){for(var r=Ee.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}la=!1}if(kr=0,ze=qe=Ee=null,ao=!1,Co=0,Km.current=null,n===null||n.return===null){Oe=1,Ro=t,Pe=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=Ve,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=zv(s);if(p!==null){p.flags&=-257,Dv(p,s,a,o,t),p.mode&1&&Lv(o,u,t),t=p,l=u;var y=t.updateQueue;if(y===null){var v=new Set;v.add(l),t.updateQueue=v}else y.add(l);break e}else{if(!(t&1)){Lv(o,u,t),Jm();break e}l=Error(H(426))}}else if(xe&&a.mode&1){var w=zv(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Dv(w,s,a,o,t),Am(mi(l,a));break e}}o=l=mi(l,a),Oe!==4&&(Oe=2),uo===null?uo=[o]:uo.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var m=HS(o,l,t);Iv(o,m);break e;case 1:a=l;var g=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Yn===null||!Yn.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=VS(o,a,t);Iv(o,_);break e}}o=o.return}while(o!==null)}uE(n)}catch(S){t=S,Pe===n&&n!==null&&(Pe=n=n.return);continue}break}while(!0)}function aE(){var e=ca.current;return ca.current=ua,e===null?ua:e}function Jm(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),Fe===null||!(Nr&268435455)&&!(za&268435455)||zn(Fe,Ve)}function ha(e,t){var n=ue;ue|=2;var r=aE();(Fe!==e||Ve!==t)&&(cn=null,xr(e,t));do try{Jj();break}catch(i){sE(e,i)}while(!0);if(qm(),ue=n,ca.current=r,Pe!==null)throw Error(H(261));return Fe=null,Ve=0,Oe}function Jj(){for(;Pe!==null;)lE(Pe)}function eT(){for(;Pe!==null&&!kC();)lE(Pe)}function lE(e){var t=fE(e.alternate,e,pt);e.memoizedProps=e.pendingProps,t===null?uE(e):Pe=t,Km.current=null}function uE(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Gj(n,t),n!==null){n.flags&=32767,Pe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Oe=6,Pe=null;return}}else if(n=Wj(n,t,pt),n!==null){Pe=n;return}if(t=t.sibling,t!==null){Pe=t;return}Pe=t=e}while(t!==null);Oe===0&&(Oe=5)}function fr(e,t,n){var r=fe,i=jt.transition;try{jt.transition=null,fe=1,tT(e,t,n,r)}finally{jt.transition=i,fe=r}return null}function tT(e,t,n,r){do si();while(Hn!==null);if(ue&6)throw Error(H(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(qC(e,o),e===Fe&&(Pe=Fe=null,Ve=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ps||(ps=!0,dE(Ks,function(){return si(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=jt.transition,jt.transition=null;var s=fe;fe=1;var a=ue;ue|=4,Km.current=null,Yj(e,n),rE(n,e),wj(wp),Xs=!!_p,wp=_p=null,e.current=n,Xj(n),NC(),ue=a,fe=s,jt.transition=o}else e.current=n;if(ps&&(ps=!1,Hn=e,da=i),o=e.pendingLanes,o===0&&(Yn=null),TC(n.stateNode),ct(e,Re()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(fa)throw fa=!1,e=$p,$p=null,e;return da&1&&e.tag!==0&&si(),o=e.pendingLanes,o&1?e===Bp?co++:(co=0,Bp=e):co=0,sr(),null}function si(){if(Hn!==null){var e=Hb(da),t=jt.transition,n=fe;try{if(jt.transition=null,fe=16>e?16:e,Hn===null)var r=!1;else{if(e=Hn,Hn=null,da=0,ue&6)throw Error(H(331));var i=ue;for(ue|=4,Y=e.current;Y!==null;){var o=Y,s=o.child;if(Y.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Y=u;Y!==null;){var c=Y;switch(c.tag){case 0:case 11:case 15:lo(8,c,o)}var f=c.child;if(f!==null)f.return=c,Y=f;else for(;Y!==null;){c=Y;var d=c.sibling,p=c.return;if(eE(c),c===u){Y=null;break}if(d!==null){d.return=p,Y=d;break}Y=p}}}var y=o.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}Y=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Y=s;else e:for(;Y!==null;){if(o=Y,o.flags&2048)switch(o.tag){case 0:case 11:case 15:lo(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,Y=m;break e}Y=o.return}}var g=e.current;for(Y=g;Y!==null;){s=Y;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,Y=x;else e:for(s=g;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:La(9,a)}}catch(S){Ne(a,a.return,S)}if(a===s){Y=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,Y=_;break e}Y=a.return}}if(ue=i,sr(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Ta,e)}catch{}r=!0}return r}finally{fe=n,jt.transition=t}}return!1}function Zv(e,t,n){t=mi(n,t),t=HS(e,t,1),e=Kn(e,t,1),t=tt(),e!==null&&(Fo(e,1,t),ct(e,t))}function Ne(e,t,n){if(e.tag===3)Zv(e,e,n);else for(;t!==null;){if(t.tag===3){Zv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yn===null||!Yn.has(r))){e=mi(n,e),e=VS(t,e,1),t=Kn(t,e,1),e=tt(),t!==null&&(Fo(t,1,e),ct(t,e));break}}t=t.return}}function nT(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=tt(),e.pingedLanes|=e.suspendedLanes&n,Fe===e&&(Ve&n)===n&&(Oe===4||Oe===3&&(Ve&130023424)===Ve&&500>Re()-Xm?xr(e,0):Ym|=n),ct(e,t)}function cE(e,t){t===0&&(e.mode&1?(t=is,is<<=1,!(is&130023424)&&(is=4194304)):t=1);var n=tt();e=wn(e,t),e!==null&&(Fo(e,t,n),ct(e,n))}function rT(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),cE(e,n)}function iT(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(t),cE(e,n)}var fE;fE=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||lt.current)st=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return st=!1,Uj(e,t,n);st=!!(e.flags&131072)}else st=!1,xe&&t.flags&1048576&&mS(t,ra,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ls(e,t),e=t.pendingProps;var i=fi(t,Xe.current);oi(t,n),i=Hm(null,t,r,e,i,n);var o=Vm();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ut(r)?(o=!0,ta(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,zm(t),i.updater=Oa,t.stateNode=i,i._reactInternals=t,Rp(t,r,e,n),t=Ap(null,t,r,!0,o,n)):(t.tag=0,xe&&o&&Im(t),et(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ls(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=sT(r),e=qt(r,e),i){case 0:t=Pp(null,t,r,e,n);break e;case 1:t=Bv(null,t,r,e,n);break e;case 11:t=Fv(null,t,r,e,n);break e;case 14:t=$v(null,t,r,qt(r.type,e),n);break e}throw Error(H(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qt(r,i),Pp(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qt(r,i),Bv(e,t,r,i,n);case 3:e:{if(KS(t),e===null)throw Error(H(387));r=t.pendingProps,o=t.memoizedState,i=o.element,wS(e,t),sa(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=mi(Error(H(423)),t),t=Hv(e,t,r,n,i);break e}else if(r!==i){i=mi(Error(H(424)),t),t=Hv(e,t,r,n,i);break e}else for(gt=Gn(t.stateNode.containerInfo.firstChild),vt=t,xe=!0,zt=null,n=xS(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(di(),r===i){t=bn(e,t,n);break e}et(e,t,r,n)}t=t.child}return t;case 5:return bS(t),e===null&&Cp(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,bp(r,i)?s=null:o!==null&&bp(r,o)&&(t.flags|=32),GS(e,t),et(e,t,s,n),t.child;case 6:return e===null&&Cp(t),null;case 13:return YS(e,t,n);case 4:return Dm(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=hi(t,null,r,n):et(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qt(r,i),Fv(e,t,r,i,n);case 7:return et(e,t,t.pendingProps,n),t.child;case 8:return et(e,t,t.pendingProps.children,n),t.child;case 12:return et(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,pe(ia,r._currentValue),r._currentValue=s,o!==null)if(Bt(o.value,s)){if(o.children===i.children&&!lt.current){t=bn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=vn(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),jp(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(H(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),jp(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}et(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,oi(t,n),i=Tt(i),r=r(i),t.flags|=1,et(e,t,r,n),t.child;case 14:return r=t.type,i=qt(r,t.pendingProps),i=qt(r.type,i),$v(e,t,r,i,n);case 15:return US(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qt(r,i),Ls(e,t),t.tag=1,ut(r)?(e=!0,ta(t)):e=!1,oi(t,n),BS(t,r,i),Rp(t,r,i,n),Ap(null,t,r,!0,e,n);case 19:return XS(e,t,n);case 22:return WS(e,t,n)}throw Error(H(156,t.tag))};function dE(e,t){return Db(e,t)}function oT(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,n,r){return new oT(e,t,n,r)}function eg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sT(e){if(typeof e=="function")return eg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xm)return 11;if(e===_m)return 14}return 2}function Qn(e,t){var n=e.alternate;return n===null?(n=Nt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fs(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")eg(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Hr:return _r(n.children,i,o,t);case ym:s=8,i|=8;break;case ep:return e=Nt(12,n,t,i|2),e.elementType=ep,e.lanes=o,e;case tp:return e=Nt(13,n,t,i),e.elementType=tp,e.lanes=o,e;case np:return e=Nt(19,n,t,i),e.elementType=np,e.lanes=o,e;case bb:return Da(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _b:s=10;break e;case wb:s=9;break e;case xm:s=11;break e;case _m:s=14;break e;case An:s=16,r=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=Nt(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function _r(e,t,n,r){return e=Nt(7,e,r,t),e.lanes=n,e}function Da(e,t,n,r){return e=Nt(22,e,r,t),e.elementType=bb,e.lanes=n,e.stateNode={isHidden:!1},e}function Vl(e,t,n){return e=Nt(6,e,null,t),e.lanes=n,e}function Ul(e,t,n){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function aT(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kl(0),this.expirationTimes=kl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function tg(e,t,n,r,i,o,s,a,l){return e=new aT(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Nt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zm(o),e}function lT(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Br,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function hE(e){if(!e)return tr;e=e._reactInternals;e:{if(Ir(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ut(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var n=e.type;if(ut(n))return hS(e,n,t)}return t}function pE(e,t,n,r,i,o,s,a,l){return e=tg(n,r,!0,e,i,o,s,a,l),e.context=hE(null),n=e.current,r=tt(),i=Xn(n),o=vn(r,i),o.callback=t??null,Kn(n,o,i),e.current.lanes=i,Fo(e,i,r),ct(e,r),e}function Fa(e,t,n,r){var i=t.current,o=tt(),s=Xn(i);return n=hE(n),t.context===null?t.context=n:t.pendingContext=n,t=vn(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Kn(i,t,s),e!==null&&($t(e,i,s,o),Ms(e,i,s)),s}function pa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Jv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ng(e,t){Jv(e,t),(e=e.alternate)&&Jv(e,t)}function uT(){return null}var mE=typeof reportError=="function"?reportError:function(e){console.error(e)};function rg(e){this._internalRoot=e}$a.prototype.render=rg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));Fa(e,t,null,null)};$a.prototype.unmount=rg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cr(function(){Fa(null,e,null,null)}),t[_n]=null}};function $a(e){this._internalRoot=e}$a.prototype.unstable_scheduleHydration=function(e){if(e){var t=Wb();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ln.length&&t!==0&&t<Ln[n].priority;n++);Ln.splice(n,0,e),n===0&&Kb(e)}};function ig(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ba(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ey(){}function cT(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=pa(s);o.call(u)}}var s=pE(t,r,e,0,null,!1,!1,"",ey);return e._reactRootContainer=s,e[_n]=s.current,bo(e.nodeType===8?e.parentNode:e),Cr(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=pa(l);a.call(u)}}var l=tg(e,0,!1,null,null,!1,!1,"",ey);return e._reactRootContainer=l,e[_n]=l.current,bo(e.nodeType===8?e.parentNode:e),Cr(function(){Fa(t,l,n,r)}),l}function Ha(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=pa(s);a.call(l)}}Fa(t,s,e,i)}else s=cT(n,t,e,i,r);return pa(s)}Vb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Wi(t.pendingLanes);n!==0&&(Sm(t,n|1),ct(t,Re()),!(ue&6)&&(gi=Re()+500,sr()))}break;case 13:Cr(function(){var r=wn(e,1);if(r!==null){var i=tt();$t(r,e,1,i)}}),ng(e,1)}};Em=function(e){if(e.tag===13){var t=wn(e,134217728);if(t!==null){var n=tt();$t(t,e,134217728,n)}ng(e,134217728)}};Ub=function(e){if(e.tag===13){var t=Xn(e),n=wn(e,t);if(n!==null){var r=tt();$t(n,e,t,r)}ng(e,t)}};Wb=function(){return fe};Gb=function(e,t){var n=fe;try{return fe=e,t()}finally{fe=n}};dp=function(e,t,n){switch(t){case"input":if(op(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Aa(r);if(!i)throw Error(H(90));Eb(r),op(r,i)}}}break;case"textarea":Nb(e,n);break;case"select":t=n.value,t!=null&&ti(e,!!n.multiple,t,!1)}};Ab=Qm;Mb=Cr;var fT={usingClientEntryPoint:!1,Events:[Bo,Gr,Aa,Ib,Pb,Qm]},zi={findFiberByHostInstance:hr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dT={bundleType:zi.bundleType,version:zi.version,rendererPackageName:zi.rendererPackageName,rendererConfig:zi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Lb(e),e===null?null:e.stateNode},findFiberByHostInstance:zi.findFiberByHostInstance||uT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ms=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ms.isDisabled&&ms.supportsFiber)try{Ta=ms.inject(dT),en=ms}catch{}}_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fT;_t.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ig(t))throw Error(H(200));return lT(e,t,null,n)};_t.createRoot=function(e,t){if(!ig(e))throw Error(H(299));var n=!1,r="",i=mE;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=tg(e,1,!1,null,null,n,!1,r,i),e[_n]=t.current,bo(e.nodeType===8?e.parentNode:e),new rg(t)};_t.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=Lb(t),e=e===null?null:e.stateNode,e};_t.flushSync=function(e){return Cr(e)};_t.hydrate=function(e,t,n){if(!Ba(t))throw Error(H(200));return Ha(null,e,t,!0,n)};_t.hydrateRoot=function(e,t,n){if(!ig(e))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=mE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=pE(t,null,e,1,n??null,i,!1,o,s),e[_n]=t.current,bo(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $a(t)};_t.render=function(e,t,n){if(!Ba(t))throw Error(H(200));return Ha(null,e,t,!1,n)};_t.unmountComponentAtNode=function(e){if(!Ba(e))throw Error(H(40));return e._reactRootContainer?(Cr(function(){Ha(null,null,e,!1,function(){e._reactRootContainer=null,e[_n]=null})}),!0):!1};_t.unstable_batchedUpdates=Qm;_t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ba(n))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return Ha(e,t,n,!1,r)};_t.version="18.3.1-next-f1338f8080-20240426";function gE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gE)}catch(e){console.error(e)}}gE(),gb.exports=_t;var hT=gb.exports,ty=hT;Zh.createRoot=ty.createRoot,Zh.hydrateRoot=ty.hydrateRoot;function dt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=dt(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var vE={exports:{}},yE={},xE={exports:{}},_E={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vi=k;function pT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mT=typeof Object.is=="function"?Object.is:pT,gT=vi.useState,vT=vi.useEffect,yT=vi.useLayoutEffect,xT=vi.useDebugValue;function _T(e,t){var n=t(),r=gT({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return yT(function(){i.value=n,i.getSnapshot=t,Wl(i)&&o({inst:i})},[e,n,t]),vT(function(){return Wl(i)&&o({inst:i}),e(function(){Wl(i)&&o({inst:i})})},[e]),xT(n),n}function Wl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mT(e,n)}catch{return!0}}function wT(e,t){return t()}var bT=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?wT:_T;_E.useSyncExternalStore=vi.useSyncExternalStore!==void 0?vi.useSyncExternalStore:bT;xE.exports=_E;var ST=xE.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Va=k,ET=ST;function kT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var NT=typeof Object.is=="function"?Object.is:kT,CT=ET.useSyncExternalStore,jT=Va.useRef,TT=Va.useEffect,RT=Va.useMemo,IT=Va.useDebugValue;yE.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=jT(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=RT(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&s.hasValue){var y=s.value;if(i(y,p))return f=y}return f=p}if(y=f,NT(c,p))return y;var v=r(p);return i!==void 0&&i(y,v)?(c=p,y):(c=p,f=v)}var u=!1,c,f,d=n===void 0?null:n;return[function(){return l(t())},d===null?void 0:function(){return l(d())}]},[t,n,r,i]);var a=CT(e,o[0],o[1]);return TT(function(){s.hasValue=!0,s.value=a},[a]),IT(a),a};vE.exports=yE;var PT=vE.exports;const AT=cm(PT),MT={},ny=e=>{let t;const n=new Set,r=(c,f)=>{const d=typeof c=="function"?c(t):c;if(!Object.is(d,t)){const p=t;t=f??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(y=>y(t,p))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(MT?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,l);return l},qT=e=>e?ny(e):ny,{useDebugValue:OT}=$,{useSyncExternalStoreWithSelector:LT}=AT,zT=e=>e;function wE(e,t=zT,n){const r=LT(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return OT(r),r}const ry=(e,t)=>{const n=qT(e),r=(i,o=t)=>wE(n,i,o);return Object.assign(r,n),r},DT=(e,t)=>e?ry(e,t):ry;function Qe(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var FT={value:()=>{}};function Ua(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new $s(n)}function $s(e){this._=e}function $T(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}$s.prototype=Ua.prototype={constructor:$s,on:function(e,t){var n=this._,r=$T(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=BT(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=iy(n[i],e.name,t);else if(t==null)for(i in n)n[i]=iy(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new $s(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function BT(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function iy(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=FT,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Up="http://www.w3.org/1999/xhtml";const oy={svg:"http://www.w3.org/2000/svg",xhtml:Up,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Wa(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),oy.hasOwnProperty(t)?{space:oy[t],local:e}:e}function HT(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Up&&t.documentElement.namespaceURI===Up?t.createElement(e):t.createElementNS(n,e)}}function VT(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function bE(e){var t=Wa(e);return(t.local?VT:HT)(t)}function UT(){}function og(e){return e==null?UT:function(){return this.querySelector(e)}}function WT(e){typeof e!="function"&&(e=og(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=new Array(s),l,u,c=0;c<s;++c)(l=o[c])&&(u=e.call(l,l.__data__,c,o))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new xt(r,this._parents)}function GT(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function KT(){return[]}function SE(e){return e==null?KT:function(){return this.querySelectorAll(e)}}function YT(e){return function(){return GT(e.apply(this,arguments))}}function XT(e){typeof e=="function"?e=YT(e):e=SE(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&(r.push(e.call(l,l.__data__,u,s)),i.push(l));return new xt(r,i)}function EE(e){return function(){return this.matches(e)}}function kE(e){return function(t){return t.matches(e)}}var QT=Array.prototype.find;function ZT(e){return function(){return QT.call(this.children,e)}}function JT(){return this.firstElementChild}function eR(e){return this.select(e==null?JT:ZT(typeof e=="function"?e:kE(e)))}var tR=Array.prototype.filter;function nR(){return Array.from(this.children)}function rR(e){return function(){return tR.call(this.children,e)}}function iR(e){return this.selectAll(e==null?nR:rR(typeof e=="function"?e:kE(e)))}function oR(e){typeof e!="function"&&(e=EE(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&a.push(l);return new xt(r,this._parents)}function NE(e){return new Array(e.length)}function sR(){return new xt(this._enter||this._groups.map(NE),this._parents)}function ma(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ma.prototype={constructor:ma,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function aR(e){return function(){return e}}function lR(e,t,n,r,i,o){for(var s=0,a,l=t.length,u=o.length;s<u;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new ma(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function uR(e,t,n,r,i,o,s){var a,l,u=new Map,c=t.length,f=o.length,d=new Array(c),p;for(a=0;a<c;++a)(l=t[a])&&(d[a]=p=s.call(l,l.__data__,a,t)+"",u.has(p)?i[a]=l:u.set(p,l));for(a=0;a<f;++a)p=s.call(e,o[a],a,o)+"",(l=u.get(p))?(r[a]=l,l.__data__=o[a],u.delete(p)):n[a]=new ma(e,o[a]);for(a=0;a<c;++a)(l=t[a])&&u.get(d[a])===l&&(i[a]=l)}function cR(e){return e.__data__}function fR(e,t){if(!arguments.length)return Array.from(this,cR);var n=t?uR:lR,r=this._parents,i=this._groups;typeof e!="function"&&(e=aR(e));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),u=0;u<o;++u){var c=r[u],f=i[u],d=f.length,p=dR(e.call(c,c&&c.__data__,u,r)),y=p.length,v=a[u]=new Array(y),w=s[u]=new Array(y),m=l[u]=new Array(d);n(c,f,v,w,m,p,t);for(var g=0,x=0,_,S;g<y;++g)if(_=v[g]){for(g>=x&&(x=g+1);!(S=w[x])&&++x<y;);_._next=S||null}}return s=new xt(s,r),s._enter=a,s._exit=l,s}function dR(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function hR(){return new xt(this._exit||this._groups.map(NE),this._parents)}function pR(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function mR(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var u=n[l],c=r[l],f=u.length,d=a[l]=new Array(f),p,y=0;y<f;++y)(p=u[y]||c[y])&&(d[y]=p);for(;l<i;++l)a[l]=n[l];return new xt(a,this._parents)}function gR(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function vR(e){e||(e=yR);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,l=i[o]=new Array(a),u,c=0;c<a;++c)(u=s[c])&&(l[c]=u);l.sort(t)}return new xt(i,this._parents).order()}function yR(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function xR(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function _R(){return Array.from(this)}function wR(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function bR(){let e=0;for(const t of this)++e;return e}function SR(){return!this.node()}function ER(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}function kR(e){return function(){this.removeAttribute(e)}}function NR(e){return function(){this.removeAttributeNS(e.space,e.local)}}function CR(e,t){return function(){this.setAttribute(e,t)}}function jR(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function TR(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function RR(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function IR(e,t){var n=Wa(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?NR:kR:typeof t=="function"?n.local?RR:TR:n.local?jR:CR)(n,t))}function CE(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function PR(e){return function(){this.style.removeProperty(e)}}function AR(e,t,n){return function(){this.style.setProperty(e,t,n)}}function MR(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function qR(e,t,n){return arguments.length>1?this.each((t==null?PR:typeof t=="function"?MR:AR)(e,t,n??"")):yi(this.node(),e)}function yi(e,t){return e.style.getPropertyValue(t)||CE(e).getComputedStyle(e,null).getPropertyValue(t)}function OR(e){return function(){delete this[e]}}function LR(e,t){return function(){this[e]=t}}function zR(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function DR(e,t){return arguments.length>1?this.each((t==null?OR:typeof t=="function"?zR:LR)(e,t)):this.node()[e]}function jE(e){return e.trim().split(/^|\s+/)}function sg(e){return e.classList||new TE(e)}function TE(e){this._node=e,this._names=jE(e.getAttribute("class")||"")}TE.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function RE(e,t){for(var n=sg(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function IE(e,t){for(var n=sg(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function FR(e){return function(){RE(this,e)}}function $R(e){return function(){IE(this,e)}}function BR(e,t){return function(){(t.apply(this,arguments)?RE:IE)(this,e)}}function HR(e,t){var n=jE(e+"");if(arguments.length<2){for(var r=sg(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?BR:t?FR:$R)(n,t))}function VR(){this.textContent=""}function UR(e){return function(){this.textContent=e}}function WR(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function GR(e){return arguments.length?this.each(e==null?VR:(typeof e=="function"?WR:UR)(e)):this.node().textContent}function KR(){this.innerHTML=""}function YR(e){return function(){this.innerHTML=e}}function XR(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function QR(e){return arguments.length?this.each(e==null?KR:(typeof e=="function"?XR:YR)(e)):this.node().innerHTML}function ZR(){this.nextSibling&&this.parentNode.appendChild(this)}function JR(){return this.each(ZR)}function eI(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function tI(){return this.each(eI)}function nI(e){var t=typeof e=="function"?e:bE(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function rI(){return null}function iI(e,t){var n=typeof e=="function"?e:bE(e),r=t==null?rI:typeof t=="function"?t:og(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function oI(){var e=this.parentNode;e&&e.removeChild(this)}function sI(){return this.each(oI)}function aI(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function lI(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function uI(e){return this.select(e?lI:aI)}function cI(e){return arguments.length?this.property("__data__",e):this.node().__data__}function fI(e){return function(t){e.call(this,t,this.__data__)}}function dI(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function hI(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function pI(e,t,n){return function(){var r=this.__on,i,o=fI(t);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function mI(e,t,n){var r=dI(e+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(i=0,c=a[l];i<o;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(a=t?pI:hI,i=0;i<o;++i)this.each(a(r[i],t,n));return this}function PE(e,t,n){var r=CE(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function gI(e,t){return function(){return PE(this,e,t)}}function vI(e,t){return function(){return PE(this,e,t.apply(this,arguments))}}function yI(e,t){return this.each((typeof t=="function"?vI:gI)(e,t))}function*xI(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var AE=[null];function xt(e,t){this._groups=e,this._parents=t}function Vo(){return new xt([[document.documentElement]],AE)}function _I(){return this}xt.prototype=Vo.prototype={constructor:xt,select:WT,selectAll:XT,selectChild:eR,selectChildren:iR,filter:oR,data:fR,enter:sR,exit:hR,join:pR,merge:mR,selection:_I,order:gR,sort:vR,call:xR,nodes:_R,node:wR,size:bR,empty:SR,each:ER,attr:IR,style:qR,property:DR,classed:HR,text:GR,html:QR,raise:JR,lower:tI,append:nI,insert:iI,remove:sI,clone:uI,datum:cI,on:mI,dispatch:yI,[Symbol.iterator]:xI};function kt(e){return typeof e=="string"?new xt([[document.querySelector(e)]],[document.documentElement]):new xt([[e]],AE)}function wI(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Lt(e,t){if(e=wI(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const bI={passive:!1},Io={capture:!0,passive:!1};function Gl(e){e.stopImmediatePropagation()}function ai(e){e.preventDefault(),e.stopImmediatePropagation()}function ME(e){var t=e.document.documentElement,n=kt(e).on("dragstart.drag",ai,Io);"onselectstart"in t?n.on("selectstart.drag",ai,Io):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function qE(e,t){var n=e.document.documentElement,r=kt(e).on("dragstart.drag",null);t&&(r.on("click.drag",ai,Io),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const gs=e=>()=>e;function Wp(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:s,y:a,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}Wp.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function SI(e){return!e.ctrlKey&&!e.button}function EI(){return this.parentNode}function kI(e,t){return t??{x:e.x,y:e.y}}function NI(){return navigator.maxTouchPoints||"ontouchstart"in this}function CI(){var e=SI,t=EI,n=kI,r=NI,i={},o=Ua("start","drag","end"),s=0,a,l,u,c,f=0;function d(_){_.on("mousedown.drag",p).filter(r).on("touchstart.drag",w).on("touchmove.drag",m,bI).on("touchend.drag touchcancel.drag",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(_,S){if(!(c||!e.call(this,_,S))){var E=x(this,t.call(this,_,S),_,S,"mouse");E&&(kt(_.view).on("mousemove.drag",y,Io).on("mouseup.drag",v,Io),ME(_.view),Gl(_),u=!1,a=_.clientX,l=_.clientY,E("start",_))}}function y(_){if(ai(_),!u){var S=_.clientX-a,E=_.clientY-l;u=S*S+E*E>f}i.mouse("drag",_)}function v(_){kt(_.view).on("mousemove.drag mouseup.drag",null),qE(_.view,u),ai(_),i.mouse("end",_)}function w(_,S){if(e.call(this,_,S)){var E=_.changedTouches,N=t.call(this,_,S),j=E.length,R,q;for(R=0;R<j;++R)(q=x(this,N,_,S,E[R].identifier,E[R]))&&(Gl(_),q("start",_,E[R]))}}function m(_){var S=_.changedTouches,E=S.length,N,j;for(N=0;N<E;++N)(j=i[S[N].identifier])&&(ai(_),j("drag",_,S[N]))}function g(_){var S=_.changedTouches,E=S.length,N,j;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),N=0;N<E;++N)(j=i[S[N].identifier])&&(Gl(_),j("end",_,S[N]))}function x(_,S,E,N,j,R){var q=o.copy(),I=Lt(R||E,S),z,L,b;if((b=n.call(_,new Wp("beforestart",{sourceEvent:E,target:d,identifier:j,active:s,x:I[0],y:I[1],dx:0,dy:0,dispatch:q}),N))!=null)return z=b.x-I[0]||0,L=b.y-I[1]||0,function A(T,F,P){var C=I,O;switch(T){case"start":i[j]=A,O=s++;break;case"end":delete i[j],--s;case"drag":I=Lt(P||F,S),O=s;break}q.call(T,_,new Wp(T,{sourceEvent:F,subject:b,target:d,identifier:j,active:O,x:I[0]+z,y:I[1]+L,dx:I[0]-C[0],dy:I[1]-C[1],dispatch:q}),N)}}return d.filter=function(_){return arguments.length?(e=typeof _=="function"?_:gs(!!_),d):e},d.container=function(_){return arguments.length?(t=typeof _=="function"?_:gs(_),d):t},d.subject=function(_){return arguments.length?(n=typeof _=="function"?_:gs(_),d):n},d.touchable=function(_){return arguments.length?(r=typeof _=="function"?_:gs(!!_),d):r},d.on=function(){var _=o.on.apply(o,arguments);return _===o?d:_},d.clickDistance=function(_){return arguments.length?(f=(_=+_)*_,d):Math.sqrt(f)},d}function ag(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function OE(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Uo(){}var Po=.7,ga=1/Po,li="\\s*([+-]?\\d+)\\s*",Ao="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",nn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jI=/^#([0-9a-f]{3,8})$/,TI=new RegExp(`^rgb\\(${li},${li},${li}\\)$`),RI=new RegExp(`^rgb\\(${nn},${nn},${nn}\\)$`),II=new RegExp(`^rgba\\(${li},${li},${li},${Ao}\\)$`),PI=new RegExp(`^rgba\\(${nn},${nn},${nn},${Ao}\\)$`),AI=new RegExp(`^hsl\\(${Ao},${nn},${nn}\\)$`),MI=new RegExp(`^hsla\\(${Ao},${nn},${nn},${Ao}\\)$`),sy={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ag(Uo,Mo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ay,formatHex:ay,formatHex8:qI,formatHsl:OI,formatRgb:ly,toString:ly});function ay(){return this.rgb().formatHex()}function qI(){return this.rgb().formatHex8()}function OI(){return LE(this).formatHsl()}function ly(){return this.rgb().formatRgb()}function Mo(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=jI.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?uy(t):n===3?new at(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?vs(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?vs(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=TI.exec(e))?new at(t[1],t[2],t[3],1):(t=RI.exec(e))?new at(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=II.exec(e))?vs(t[1],t[2],t[3],t[4]):(t=PI.exec(e))?vs(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=AI.exec(e))?dy(t[1],t[2]/100,t[3]/100,1):(t=MI.exec(e))?dy(t[1],t[2]/100,t[3]/100,t[4]):sy.hasOwnProperty(e)?uy(sy[e]):e==="transparent"?new at(NaN,NaN,NaN,0):null}function uy(e){return new at(e>>16&255,e>>8&255,e&255,1)}function vs(e,t,n,r){return r<=0&&(e=t=n=NaN),new at(e,t,n,r)}function LI(e){return e instanceof Uo||(e=Mo(e)),e?(e=e.rgb(),new at(e.r,e.g,e.b,e.opacity)):new at}function Gp(e,t,n,r){return arguments.length===1?LI(e):new at(e,t,n,r??1)}function at(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ag(at,Gp,OE(Uo,{brighter(e){return e=e==null?ga:Math.pow(ga,e),new at(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Po:Math.pow(Po,e),new at(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new at(wr(this.r),wr(this.g),wr(this.b),va(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cy,formatHex:cy,formatHex8:zI,formatRgb:fy,toString:fy}));function cy(){return`#${gr(this.r)}${gr(this.g)}${gr(this.b)}`}function zI(){return`#${gr(this.r)}${gr(this.g)}${gr(this.b)}${gr((isNaN(this.opacity)?1:this.opacity)*255)}`}function fy(){const e=va(this.opacity);return`${e===1?"rgb(":"rgba("}${wr(this.r)}, ${wr(this.g)}, ${wr(this.b)}${e===1?")":`, ${e})`}`}function va(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function wr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function gr(e){return e=wr(e),(e<16?"0":"")+e.toString(16)}function dy(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Dt(e,t,n,r)}function LE(e){if(e instanceof Dt)return new Dt(e.h,e.s,e.l,e.opacity);if(e instanceof Uo||(e=Mo(e)),!e)return new Dt;if(e instanceof Dt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Dt(s,a,l,e.opacity)}function DI(e,t,n,r){return arguments.length===1?LE(e):new Dt(e,t,n,r??1)}function Dt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ag(Dt,DI,OE(Uo,{brighter(e){return e=e==null?ga:Math.pow(ga,e),new Dt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Po:Math.pow(Po,e),new Dt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new at(Kl(e>=240?e-240:e+120,i,r),Kl(e,i,r),Kl(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Dt(hy(this.h),ys(this.s),ys(this.l),va(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=va(this.opacity);return`${e===1?"hsl(":"hsla("}${hy(this.h)}, ${ys(this.s)*100}%, ${ys(this.l)*100}%${e===1?")":`, ${e})`}`}}));function hy(e){return e=(e||0)%360,e<0?e+360:e}function ys(e){return Math.max(0,Math.min(1,e||0))}function Kl(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const zE=e=>()=>e;function FI(e,t){return function(n){return e+n*t}}function $I(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function BI(e){return(e=+e)==1?DE:function(t,n){return n-t?$I(t,n,e):zE(isNaN(t)?n:t)}}function DE(e,t){var n=t-e;return n?FI(e,n):zE(isNaN(e)?t:e)}const py=function e(t){var n=BI(t);function r(i,o){var s=n((i=Gp(i)).r,(o=Gp(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=DE(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function qn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Kp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yl=new RegExp(Kp.source,"g");function HI(e){return function(){return e}}function VI(e){return function(t){return e(t)+""}}function UI(e,t){var n=Kp.lastIndex=Yl.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(e=e+"",t=t+"";(r=Kp.exec(e))&&(i=Yl.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:qn(r,i)})),n=Yl.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?VI(l[0].x):HI(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}var my=180/Math.PI,Yp={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function FE(e,t,n,r,i,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*my,skewX:Math.atan(l)*my,scaleX:s,scaleY:a}}var xs;function WI(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Yp:FE(t.a,t.b,t.c,t.d,t.e,t.f)}function GI(e){return e==null||(xs||(xs=document.createElementNS("http://www.w3.org/2000/svg","g")),xs.setAttribute("transform",e),!(e=xs.transform.baseVal.consolidate()))?Yp:(e=e.matrix,FE(e.a,e.b,e.c,e.d,e.e,e.f))}function $E(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,f,d,p,y){if(u!==f||c!==d){var v=p.push("translate(",null,t,null,n);y.push({i:v-4,x:qn(u,f)},{i:v-2,x:qn(c,d)})}else(f||d)&&p.push("translate("+f+t+d+n)}function s(u,c,f,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:qn(u,c)})):c&&f.push(i(f)+"rotate("+c+r)}function a(u,c,f,d){u!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:qn(u,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(u,c,f,d,p,y){if(u!==f||c!==d){var v=p.push(i(p)+"scale(",null,",",null,")");y.push({i:v-4,x:qn(u,f)},{i:v-2,x:qn(c,d)})}else(f!==1||d!==1)&&p.push(i(p)+"scale("+f+","+d+")")}return function(u,c){var f=[],d=[];return u=e(u),c=e(c),o(u.translateX,u.translateY,c.translateX,c.translateY,f,d),s(u.rotate,c.rotate,f,d),a(u.skewX,c.skewX,f,d),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,d),u=c=null,function(p){for(var y=-1,v=d.length,w;++y<v;)f[(w=d[y]).i]=w.x(p);return f.join("")}}}var KI=$E(WI,"px, ","px)","deg)"),YI=$E(GI,", ",")",")"),XI=1e-12;function gy(e){return((e=Math.exp(e))+1/e)/2}function QI(e){return((e=Math.exp(e))-1/e)/2}function ZI(e){return((e=Math.exp(2*e))-1)/(e+1)}const JI=function e(t,n,r){function i(o,s){var a=o[0],l=o[1],u=o[2],c=s[0],f=s[1],d=s[2],p=c-a,y=f-l,v=p*p+y*y,w,m;if(v<XI)m=Math.log(d/u)/t,w=function(N){return[a+N*p,l+N*y,u*Math.exp(t*N*m)]};else{var g=Math.sqrt(v),x=(d*d-u*u+r*v)/(2*u*n*g),_=(d*d-u*u-r*v)/(2*d*n*g),S=Math.log(Math.sqrt(x*x+1)-x),E=Math.log(Math.sqrt(_*_+1)-_);m=(E-S)/t,w=function(N){var j=N*m,R=gy(S),q=u/(n*g)*(R*ZI(t*j+S)-QI(S));return[a+q*p,l+q*y,u*R/gy(t*j+S)]}}return w.duration=m*1e3*t/Math.SQRT2,w}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,l=a*a;return e(s,a,l)},i}(Math.SQRT2,2,4);var xi=0,Ki=0,Di=0,BE=1e3,ya,Yi,xa=0,jr=0,Ga=0,qo=typeof performance=="object"&&performance.now?performance:Date,HE=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function lg(){return jr||(HE(eP),jr=qo.now()+Ga)}function eP(){jr=0}function _a(){this._call=this._time=this._next=null}_a.prototype=VE.prototype={constructor:_a,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?lg():+n)+(t==null?0:+t),!this._next&&Yi!==this&&(Yi?Yi._next=this:ya=this,Yi=this),this._call=e,this._time=n,Xp()},stop:function(){this._call&&(this._call=null,this._time=1/0,Xp())}};function VE(e,t,n){var r=new _a;return r.restart(e,t,n),r}function tP(){lg(),++xi;for(var e=ya,t;e;)(t=jr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--xi}function vy(){jr=(xa=qo.now())+Ga,xi=Ki=0;try{tP()}finally{xi=0,rP(),jr=0}}function nP(){var e=qo.now(),t=e-xa;t>BE&&(Ga-=t,xa=e)}function rP(){for(var e,t=ya,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:ya=n);Yi=e,Xp(r)}function Xp(e){if(!xi){Ki&&(Ki=clearTimeout(Ki));var t=e-jr;t>24?(e<1/0&&(Ki=setTimeout(vy,e-qo.now()-Ga)),Di&&(Di=clearInterval(Di))):(Di||(xa=qo.now(),Di=setInterval(nP,BE)),xi=1,HE(vy))}}function yy(e,t,n){var r=new _a;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var iP=Ua("start","end","cancel","interrupt"),oP=[],UE=0,xy=1,Qp=2,Bs=3,_y=4,Zp=5,Hs=6;function Ka(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;sP(e,n,{name:t,index:r,group:i,on:iP,tween:oP,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:UE})}function ug(e,t){var n=Ht(e,t);if(n.state>UE)throw new Error("too late; already scheduled");return n}function rn(e,t){var n=Ht(e,t);if(n.state>Bs)throw new Error("too late; already running");return n}function Ht(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function sP(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=VE(o,0,n.time);function o(u){n.state=xy,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var c,f,d,p;if(n.state!==xy)return l();for(c in r)if(p=r[c],p.name===n.name){if(p.state===Bs)return yy(s);p.state===_y?(p.state=Hs,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete r[c]):+c<t&&(p.state=Hs,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete r[c])}if(yy(function(){n.state===Bs&&(n.state=_y,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Qp,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Qp){for(n.state=Bs,i=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(p=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=p);i.length=f+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=Zp,1),f=-1,d=i.length;++f<d;)i[f].call(e,c);n.state===Zp&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Hs,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Vs(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>Qp&&r.state<Zp,r.state=Hs,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function aP(e){return this.each(function(){Vs(this,e)})}function lP(e,t){var n,r;return function(){var i=rn(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function uP(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=rn(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=a;break}l===u&&i.push(a)}o.tween=i}}function cP(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Ht(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?lP:uP)(n,e,t))}function cg(e,t,n){var r=e._id;return e.each(function(){var i=rn(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Ht(i,r).value[t]}}function WE(e,t){var n;return(typeof t=="number"?qn:t instanceof Mo?py:(n=Mo(t))?(t=n,py):UI)(e,t)}function fP(e){return function(){this.removeAttribute(e)}}function dP(e){return function(){this.removeAttributeNS(e.space,e.local)}}function hP(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function pP(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function mP(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function gP(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function vP(e,t){var n=Wa(e),r=n==="transform"?YI:WE;return this.attrTween(e,typeof t=="function"?(n.local?gP:mP)(n,r,cg(this,"attr."+e,t)):t==null?(n.local?dP:fP)(n):(n.local?pP:hP)(n,r,t))}function yP(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function xP(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function _P(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&xP(e,o)),n}return i._value=t,i}function wP(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&yP(e,o)),n}return i._value=t,i}function bP(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Wa(e);return this.tween(n,(r.local?_P:wP)(r,t))}function SP(e,t){return function(){ug(this,e).delay=+t.apply(this,arguments)}}function EP(e,t){return t=+t,function(){ug(this,e).delay=t}}function kP(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?SP:EP)(t,e)):Ht(this.node(),t).delay}function NP(e,t){return function(){rn(this,e).duration=+t.apply(this,arguments)}}function CP(e,t){return t=+t,function(){rn(this,e).duration=t}}function jP(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?NP:CP)(t,e)):Ht(this.node(),t).duration}function TP(e,t){if(typeof t!="function")throw new Error;return function(){rn(this,e).ease=t}}function RP(e){var t=this._id;return arguments.length?this.each(TP(t,e)):Ht(this.node(),t).ease}function IP(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;rn(this,e).ease=n}}function PP(e){if(typeof e!="function")throw new Error;return this.each(IP(this._id,e))}function AP(e){typeof e!="function"&&(e=EE(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&a.push(l);return new Sn(r,this._parents,this._name,this._id)}function MP(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l=t[a],u=n[a],c=l.length,f=s[a]=new Array(c),d,p=0;p<c;++p)(d=l[p]||u[p])&&(f[p]=d);for(;a<r;++a)s[a]=t[a];return new Sn(s,this._parents,this._name,this._id)}function qP(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function OP(e,t,n){var r,i,o=qP(t)?ug:rn;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}function LP(e,t){var n=this._id;return arguments.length<2?Ht(this.node(),n).on.on(e):this.each(OP(n,e,t))}function zP(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function DP(){return this.on("end.remove",zP(this._id))}function FP(e){var t=this._name,n=this._id;typeof e!="function"&&(e=og(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],l=a.length,u=o[s]=new Array(l),c,f,d=0;d<l;++d)(c=a[d])&&(f=e.call(c,c.__data__,d,a))&&("__data__"in c&&(f.__data__=c.__data__),u[d]=f,Ka(u[d],t,n,d,u,Ht(c,n)));return new Sn(o,this._parents,t,n)}function $P(e){var t=this._name,n=this._id;typeof e!="function"&&(e=SE(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l=r[a],u=l.length,c,f=0;f<u;++f)if(c=l[f]){for(var d=e.call(c,c.__data__,f,l),p,y=Ht(c,n),v=0,w=d.length;v<w;++v)(p=d[v])&&Ka(p,t,n,v,d,y);o.push(d),s.push(c)}return new Sn(o,s,t,n)}var BP=Vo.prototype.constructor;function HP(){return new BP(this._groups,this._parents)}function VP(e,t){var n,r,i;return function(){var o=yi(this,e),s=(this.style.removeProperty(e),yi(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function GE(e){return function(){this.style.removeProperty(e)}}function UP(e,t,n){var r,i=n+"",o;return function(){var s=yi(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function WP(e,t,n){var r,i,o;return function(){var s=yi(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),yi(this,e))),s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a))}}function GP(e,t){var n,r,i,o="style."+t,s="end."+o,a;return function(){var l=rn(this,e),u=l.on,c=l.value[o]==null?a||(a=GE(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(s,i=c),l.on=r}}function KP(e,t,n){var r=(e+="")=="transform"?KI:WE;return t==null?this.styleTween(e,VP(e,r)).on("end.style."+e,GE(e)):typeof t=="function"?this.styleTween(e,WP(e,r,cg(this,"style."+e,t))).each(GP(this._id,e)):this.styleTween(e,UP(e,r,t),n).on("end.style."+e,null)}function YP(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function XP(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&YP(e,s,n)),r}return o._value=t,o}function QP(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,XP(e,t,n??""))}function ZP(e){return function(){this.textContent=e}}function JP(e){return function(){var t=e(this);this.textContent=t??""}}function eA(e){return this.tween("text",typeof e=="function"?JP(cg(this,"text",e)):ZP(e==null?"":e+""))}function tA(e){return function(t){this.textContent=e.call(this,t)}}function nA(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&tA(i)),t}return r._value=e,r}function rA(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,nA(e))}function iA(){for(var e=this._name,t=this._id,n=KE(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)if(l=s[u]){var c=Ht(l,t);Ka(l,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Sn(r,this._parents,e,n)}function oA(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--i===0&&o()}};n.each(function(){var u=rn(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),u.on=t}),i===0&&o()})}var sA=0;function Sn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function KE(){return++sA}var ln=Vo.prototype;Sn.prototype={constructor:Sn,select:FP,selectAll:$P,selectChild:ln.selectChild,selectChildren:ln.selectChildren,filter:AP,merge:MP,selection:HP,transition:iA,call:ln.call,nodes:ln.nodes,node:ln.node,size:ln.size,empty:ln.empty,each:ln.each,on:LP,attr:vP,attrTween:bP,style:KP,styleTween:QP,text:eA,textTween:rA,remove:DP,tween:cP,delay:kP,duration:jP,ease:RP,easeVarying:PP,end:oA,[Symbol.iterator]:ln[Symbol.iterator]};function aA(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var lA={time:null,delay:0,duration:250,ease:aA};function uA(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function cA(e){var t,n;e instanceof Sn?(t=e._id,e=e._name):(t=KE(),(n=lA).time=lg(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&Ka(l,e,t,u,s,n||uA(l,t));return new Sn(r,this._parents,e,t)}Vo.prototype.interrupt=aP;Vo.prototype.transition=cA;const _s=e=>()=>e;function fA(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function pn(e,t,n){this.k=e,this.x=t,this.y=n}pn.prototype={constructor:pn,scale:function(e){return e===1?this:new pn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new pn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var yn=new pn(1,0,0);pn.prototype;function Xl(e){e.stopImmediatePropagation()}function Fi(e){e.preventDefault(),e.stopImmediatePropagation()}function dA(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function hA(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function wy(){return this.__zoom||yn}function pA(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function mA(){return navigator.maxTouchPoints||"ontouchstart"in this}function gA(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function YE(){var e=dA,t=hA,n=gA,r=pA,i=mA,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,l=JI,u=Ua("start","zoom","end"),c,f,d,p=500,y=150,v=0,w=10;function m(b){b.property("__zoom",wy).on("wheel.zoom",j,{passive:!1}).on("mousedown.zoom",R).on("dblclick.zoom",q).filter(i).on("touchstart.zoom",I).on("touchmove.zoom",z).on("touchend.zoom touchcancel.zoom",L).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(b,A,T,F){var P=b.selection?b.selection():b;P.property("__zoom",wy),b!==P?S(b,A,T,F):P.interrupt().each(function(){E(this,arguments).event(F).start().zoom(null,typeof A=="function"?A.apply(this,arguments):A).end()})},m.scaleBy=function(b,A,T,F){m.scaleTo(b,function(){var P=this.__zoom.k,C=typeof A=="function"?A.apply(this,arguments):A;return P*C},T,F)},m.scaleTo=function(b,A,T,F){m.transform(b,function(){var P=t.apply(this,arguments),C=this.__zoom,O=T==null?_(P):typeof T=="function"?T.apply(this,arguments):T,M=C.invert(O),D=typeof A=="function"?A.apply(this,arguments):A;return n(x(g(C,D),O,M),P,s)},T,F)},m.translateBy=function(b,A,T,F){m.transform(b,function(){return n(this.__zoom.translate(typeof A=="function"?A.apply(this,arguments):A,typeof T=="function"?T.apply(this,arguments):T),t.apply(this,arguments),s)},null,F)},m.translateTo=function(b,A,T,F,P){m.transform(b,function(){var C=t.apply(this,arguments),O=this.__zoom,M=F==null?_(C):typeof F=="function"?F.apply(this,arguments):F;return n(yn.translate(M[0],M[1]).scale(O.k).translate(typeof A=="function"?-A.apply(this,arguments):-A,typeof T=="function"?-T.apply(this,arguments):-T),C,s)},F,P)};function g(b,A){return A=Math.max(o[0],Math.min(o[1],A)),A===b.k?b:new pn(A,b.x,b.y)}function x(b,A,T){var F=A[0]-T[0]*b.k,P=A[1]-T[1]*b.k;return F===b.x&&P===b.y?b:new pn(b.k,F,P)}function _(b){return[(+b[0][0]+ +b[1][0])/2,(+b[0][1]+ +b[1][1])/2]}function S(b,A,T,F){b.on("start.zoom",function(){E(this,arguments).event(F).start()}).on("interrupt.zoom end.zoom",function(){E(this,arguments).event(F).end()}).tween("zoom",function(){var P=this,C=arguments,O=E(P,C).event(F),M=t.apply(P,C),D=T==null?_(M):typeof T=="function"?T.apply(P,C):T,B=Math.max(M[1][0]-M[0][0],M[1][1]-M[0][1]),V=P.__zoom,K=typeof A=="function"?A.apply(P,C):A,Q=l(V.invert(D).concat(B/V.k),K.invert(D).concat(B/K.k));return function(Z){if(Z===1)Z=K;else{var ae=Q(Z),re=B/ae[2];Z=new pn(re,D[0]-ae[0]*re,D[1]-ae[1]*re)}O.zoom(null,Z)}})}function E(b,A,T){return!T&&b.__zooming||new N(b,A)}function N(b,A){this.that=b,this.args=A,this.active=0,this.sourceEvent=null,this.extent=t.apply(b,A),this.taps=0}N.prototype={event:function(b){return b&&(this.sourceEvent=b),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(b,A){return this.mouse&&b!=="mouse"&&(this.mouse[1]=A.invert(this.mouse[0])),this.touch0&&b!=="touch"&&(this.touch0[1]=A.invert(this.touch0[0])),this.touch1&&b!=="touch"&&(this.touch1[1]=A.invert(this.touch1[0])),this.that.__zoom=A,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(b){var A=kt(this.that).datum();u.call(b,this.that,new fA(b,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:u}),A)}};function j(b,...A){if(!e.apply(this,arguments))return;var T=E(this,A).event(b),F=this.__zoom,P=Math.max(o[0],Math.min(o[1],F.k*Math.pow(2,r.apply(this,arguments)))),C=Lt(b);if(T.wheel)(T.mouse[0][0]!==C[0]||T.mouse[0][1]!==C[1])&&(T.mouse[1]=F.invert(T.mouse[0]=C)),clearTimeout(T.wheel);else{if(F.k===P)return;T.mouse=[C,F.invert(C)],Vs(this),T.start()}Fi(b),T.wheel=setTimeout(O,y),T.zoom("mouse",n(x(g(F,P),T.mouse[0],T.mouse[1]),T.extent,s));function O(){T.wheel=null,T.end()}}function R(b,...A){if(d||!e.apply(this,arguments))return;var T=b.currentTarget,F=E(this,A,!0).event(b),P=kt(b.view).on("mousemove.zoom",D,!0).on("mouseup.zoom",B,!0),C=Lt(b,T),O=b.clientX,M=b.clientY;ME(b.view),Xl(b),F.mouse=[C,this.__zoom.invert(C)],Vs(this),F.start();function D(V){if(Fi(V),!F.moved){var K=V.clientX-O,Q=V.clientY-M;F.moved=K*K+Q*Q>v}F.event(V).zoom("mouse",n(x(F.that.__zoom,F.mouse[0]=Lt(V,T),F.mouse[1]),F.extent,s))}function B(V){P.on("mousemove.zoom mouseup.zoom",null),qE(V.view,F.moved),Fi(V),F.event(V).end()}}function q(b,...A){if(e.apply(this,arguments)){var T=this.__zoom,F=Lt(b.changedTouches?b.changedTouches[0]:b,this),P=T.invert(F),C=T.k*(b.shiftKey?.5:2),O=n(x(g(T,C),F,P),t.apply(this,A),s);Fi(b),a>0?kt(this).transition().duration(a).call(S,O,F,b):kt(this).call(m.transform,O,F,b)}}function I(b,...A){if(e.apply(this,arguments)){var T=b.touches,F=T.length,P=E(this,A,b.changedTouches.length===F).event(b),C,O,M,D;for(Xl(b),O=0;O<F;++O)M=T[O],D=Lt(M,this),D=[D,this.__zoom.invert(D),M.identifier],P.touch0?!P.touch1&&P.touch0[2]!==D[2]&&(P.touch1=D,P.taps=0):(P.touch0=D,C=!0,P.taps=1+!!c);c&&(c=clearTimeout(c)),C&&(P.taps<2&&(f=D[0],c=setTimeout(function(){c=null},p)),Vs(this),P.start())}}function z(b,...A){if(this.__zooming){var T=E(this,A).event(b),F=b.changedTouches,P=F.length,C,O,M,D;for(Fi(b),C=0;C<P;++C)O=F[C],M=Lt(O,this),T.touch0&&T.touch0[2]===O.identifier?T.touch0[0]=M:T.touch1&&T.touch1[2]===O.identifier&&(T.touch1[0]=M);if(O=T.that.__zoom,T.touch1){var B=T.touch0[0],V=T.touch0[1],K=T.touch1[0],Q=T.touch1[1],Z=(Z=K[0]-B[0])*Z+(Z=K[1]-B[1])*Z,ae=(ae=Q[0]-V[0])*ae+(ae=Q[1]-V[1])*ae;O=g(O,Math.sqrt(Z/ae)),M=[(B[0]+K[0])/2,(B[1]+K[1])/2],D=[(V[0]+Q[0])/2,(V[1]+Q[1])/2]}else if(T.touch0)M=T.touch0[0],D=T.touch0[1];else return;T.zoom("touch",n(x(O,M,D),T.extent,s))}}function L(b,...A){if(this.__zooming){var T=E(this,A).event(b),F=b.changedTouches,P=F.length,C,O;for(Xl(b),d&&clearTimeout(d),d=setTimeout(function(){d=null},p),C=0;C<P;++C)O=F[C],T.touch0&&T.touch0[2]===O.identifier?delete T.touch0:T.touch1&&T.touch1[2]===O.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(O=Lt(O,this),Math.hypot(f[0]-O[0],f[1]-O[1])<w)){var M=kt(this).on("dblclick.zoom");M&&M.apply(this,arguments)}}}return m.wheelDelta=function(b){return arguments.length?(r=typeof b=="function"?b:_s(+b),m):r},m.filter=function(b){return arguments.length?(e=typeof b=="function"?b:_s(!!b),m):e},m.touchable=function(b){return arguments.length?(i=typeof b=="function"?b:_s(!!b),m):i},m.extent=function(b){return arguments.length?(t=typeof b=="function"?b:_s([[+b[0][0],+b[0][1]],[+b[1][0],+b[1][1]]]),m):t},m.scaleExtent=function(b){return arguments.length?(o[0]=+b[0],o[1]=+b[1],m):[o[0],o[1]]},m.translateExtent=function(b){return arguments.length?(s[0][0]=+b[0][0],s[1][0]=+b[1][0],s[0][1]=+b[0][1],s[1][1]=+b[1][1],m):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},m.constrain=function(b){return arguments.length?(n=b,m):n},m.duration=function(b){return arguments.length?(a=+b,m):a},m.interpolate=function(b){return arguments.length?(l=b,m):l},m.on=function(){var b=u.on.apply(u,arguments);return b===u?m:b},m.clickDistance=function(b){return arguments.length?(v=(b=+b)*b,m):Math.sqrt(v)},m.tapDistance=function(b){return arguments.length?(w=+b,m):w},m}const Ya=k.createContext(null),vA=Ya.Provider,En={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},XE=En.error001();function _e(e,t){const n=k.useContext(Ya);if(n===null)throw new Error(XE);return wE(n,e,t)}const $e=()=>{const e=k.useContext(Ya);if(e===null)throw new Error(XE);return k.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},yA=e=>e.userSelectionActive?"none":"all";function fo({position:e,children:t,className:n,style:r,...i}){const o=_e(yA),s=`${e}`.split("-");return $.createElement("div",{className:dt(["react-flow__panel",n,...s]),style:{...r,pointerEvents:o},...i},t)}function xA({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:$.createElement(fo,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},$.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const _A=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:o={},labelBgPadding:s=[2,4],labelBgBorderRadius:a=2,children:l,className:u,...c})=>{const f=k.useRef(null),[d,p]=k.useState({x:0,y:0,width:0,height:0}),y=dt(["react-flow__edge-textwrapper",u]);return k.useEffect(()=>{if(f.current){const v=f.current.getBBox();p({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),typeof n>"u"||!n?null:$.createElement("g",{transform:`translate(${e-d.width/2} ${t-d.height/2})`,className:y,visibility:d.width?"visible":"hidden",...c},i&&$.createElement("rect",{width:d.width+2*s[0],x:-s[0],y:-s[1],height:d.height+2*s[1],className:"react-flow__edge-textbg",style:o,rx:a,ry:a}),$.createElement("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:f,style:r},n),l)};var wA=k.memo(_A);const fg=e=>({width:e.offsetWidth,height:e.offsetHeight}),_i=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),dg=(e={x:0,y:0},t)=>({x:_i(e.x,t[0][0],t[1][0]),y:_i(e.y,t[0][1],t[1][1])}),by=(e,t,n)=>e<t?_i(Math.abs(e-t),1,50)/50:e>n?-_i(Math.abs(e-n),1,50)/50:0,QE=(e,t)=>{const n=by(e.x,35,t.width-35)*20,r=by(e.y,35,t.height-35)*20;return[n,r]},ZE=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},JE=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Oo=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),e2=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Sy=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),bA=(e,t)=>e2(JE(Oo(e),Oo(t))),Jp=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},SA=e=>Ct(e.width)&&Ct(e.height)&&Ct(e.x)&&Ct(e.y),Ct=e=>!isNaN(e)&&isFinite(e),Ce=Symbol.for("internals"),t2=["Enter"," ","Escape"],EA=(e,t)=>{},kA=e=>"nativeEvent"in e;function em(e){var i,o;const t=kA(e)?e.nativeEvent:e,n=((o=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:o[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const n2=e=>"clientX"in e,Zn=(e,t)=>{var o,s;const n=n2(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,i=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},wa=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},Wo=({id:e,path:t,labelX:n,labelY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:d,interactionWidth:p=20})=>$.createElement($.Fragment,null,$.createElement("path",{id:e,style:c,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:d}),p&&$.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}),i&&Ct(n)&&Ct(r)?$.createElement(wA,{x:n,y:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u}):null);Wo.displayName="BaseEdge";function $i(e,t,n){return n===void 0?n:r=>{const i=t().edges.find(o=>o.id===e);i&&n(r,{...i})}}function r2({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,s=Math.abs(r-t)/2,a=r<t?r+s:r-s;return[o,a,i,s]}function i2({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:s,targetControlY:a}){const l=e*.125+i*.375+s*.375+n*.125,u=t*.125+o*.375+a*.375+r*.125,c=Math.abs(l-e),f=Math.abs(u-t);return[l,u,c,f]}var Tr;(function(e){e.Strict="strict",e.Loose="loose"})(Tr||(Tr={}));var vr;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(vr||(vr={}));var Lo;(function(e){e.Partial="partial",e.Full="full"})(Lo||(Lo={}));var Dn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Dn||(Dn={}));var ba;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(ba||(ba={}));var X;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(X||(X={}));function Ey({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===X.Left||e===X.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function o2({sourceX:e,sourceY:t,sourcePosition:n=X.Bottom,targetX:r,targetY:i,targetPosition:o=X.Top}){const[s,a]=Ey({pos:n,x1:e,y1:t,x2:r,y2:i}),[l,u]=Ey({pos:o,x1:r,y1:i,x2:e,y2:t}),[c,f,d,p]=i2({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:s,sourceControlY:a,targetControlX:l,targetControlY:u});return[`M${e},${t} C${s},${a} ${l},${u} ${r},${i}`,c,f,d,p]}const hg=k.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=X.Bottom,targetPosition:o=X.Top,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:p,markerStart:y,interactionWidth:v})=>{const[w,m,g]=o2({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:o});return $.createElement(Wo,{path:w,labelX:m,labelY:g,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:p,markerStart:y,interactionWidth:v})});hg.displayName="SimpleBezierEdge";const ky={[X.Left]:{x:-1,y:0},[X.Right]:{x:1,y:0},[X.Top]:{x:0,y:-1},[X.Bottom]:{x:0,y:1}},NA=({source:e,sourcePosition:t=X.Bottom,target:n})=>t===X.Left||t===X.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Ny=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function CA({source:e,sourcePosition:t=X.Bottom,target:n,targetPosition:r=X.Top,center:i,offset:o}){const s=ky[t],a=ky[r],l={x:e.x+s.x*o,y:e.y+s.y*o},u={x:n.x+a.x*o,y:n.y+a.y*o},c=NA({source:l,sourcePosition:t,target:u}),f=c.x!==0?"x":"y",d=c[f];let p=[],y,v;const w={x:0,y:0},m={x:0,y:0},[g,x,_,S]=r2({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[f]*a[f]===-1){y=i.x??g,v=i.y??x;const N=[{x:y,y:l.y},{x:y,y:u.y}],j=[{x:l.x,y:v},{x:u.x,y:v}];s[f]===d?p=f==="x"?N:j:p=f==="x"?j:N}else{const N=[{x:l.x,y:u.y}],j=[{x:u.x,y:l.y}];if(f==="x"?p=s.x===d?j:N:p=s.y===d?N:j,t===r){const L=Math.abs(e[f]-n[f]);if(L<=o){const b=Math.min(o-1,o-L);s[f]===d?w[f]=(l[f]>e[f]?-1:1)*b:m[f]=(u[f]>n[f]?-1:1)*b}}if(t!==r){const L=f==="x"?"y":"x",b=s[f]===a[L],A=l[L]>u[L],T=l[L]<u[L];(s[f]===1&&(!b&&A||b&&T)||s[f]!==1&&(!b&&T||b&&A))&&(p=f==="x"?N:j)}const R={x:l.x+w.x,y:l.y+w.y},q={x:u.x+m.x,y:u.y+m.y},I=Math.max(Math.abs(R.x-p[0].x),Math.abs(q.x-p[0].x)),z=Math.max(Math.abs(R.y-p[0].y),Math.abs(q.y-p[0].y));I>=z?(y=(R.x+q.x)/2,v=p[0].y):(y=p[0].x,v=(R.y+q.y)/2)}return[[e,{x:l.x+w.x,y:l.y+w.y},...p,{x:u.x+m.x,y:u.y+m.y},n],y,v,_,S]}function jA(e,t,n,r){const i=Math.min(Ny(e,t)/2,Ny(t,n)/2,r),{x:o,y:s}=t;if(e.x===o&&o===n.x||e.y===s&&s===n.y)return`L${o} ${s}`;if(e.y===s){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${o+i*u},${s}Q ${o},${s} ${o},${s+i*c}`}const a=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${o},${s+i*l}Q ${o},${s} ${o+i*a},${s}`}function tm({sourceX:e,sourceY:t,sourcePosition:n=X.Bottom,targetX:r,targetY:i,targetPosition:o=X.Top,borderRadius:s=5,centerX:a,centerY:l,offset:u=20}){const[c,f,d,p,y]=CA({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:a,y:l},offset:u});return[c.reduce((w,m,g)=>{let x="";return g>0&&g<c.length-1?x=jA(c[g-1],m,c[g+1],s):x=`${g===0?"M":"L"}${m.x} ${m.y}`,w+=x,w},""),f,d,p,y]}const Xa=k.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,sourcePosition:f=X.Bottom,targetPosition:d=X.Top,markerEnd:p,markerStart:y,pathOptions:v,interactionWidth:w})=>{const[m,g,x]=tm({sourceX:e,sourceY:t,sourcePosition:f,targetX:n,targetY:r,targetPosition:d,borderRadius:v==null?void 0:v.borderRadius,offset:v==null?void 0:v.offset});return $.createElement(Wo,{path:m,labelX:g,labelY:x,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:p,markerStart:y,interactionWidth:w})});Xa.displayName="SmoothStepEdge";const pg=k.memo(e=>{var t;return $.createElement(Xa,{...e,pathOptions:k.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});pg.displayName="StepEdge";function TA({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,o,s,a]=r2({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,o,s,a]}const mg=k.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:d,interactionWidth:p})=>{const[y,v,w]=TA({sourceX:e,sourceY:t,targetX:n,targetY:r});return $.createElement(Wo,{path:y,labelX:v,labelY:w,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:d,interactionWidth:p})});mg.displayName="StraightEdge";function ws(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Cy({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){switch(e){case X.Left:return[t-ws(t-r,o),n];case X.Right:return[t+ws(r-t,o),n];case X.Top:return[t,n-ws(n-i,o)];case X.Bottom:return[t,n+ws(i-n,o)]}}function s2({sourceX:e,sourceY:t,sourcePosition:n=X.Bottom,targetX:r,targetY:i,targetPosition:o=X.Top,curvature:s=.25}){const[a,l]=Cy({pos:n,x1:e,y1:t,x2:r,y2:i,c:s}),[u,c]=Cy({pos:o,x1:r,y1:i,x2:e,y2:t,c:s}),[f,d,p,y]=i2({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:u,targetControlY:c});return[`M${e},${t} C${a},${l} ${u},${c} ${r},${i}`,f,d,p,y]}const Sa=k.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=X.Bottom,targetPosition:o=X.Top,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:p,markerStart:y,pathOptions:v,interactionWidth:w})=>{const[m,g,x]=s2({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:o,curvature:v==null?void 0:v.curvature});return $.createElement(Wo,{path:m,labelX:g,labelY:x,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:p,markerStart:y,interactionWidth:w})});Sa.displayName="BezierEdge";const gg=k.createContext(null),RA=gg.Provider;gg.Consumer;const IA=()=>k.useContext(gg),PA=e=>"id"in e&&"source"in e&&"target"in e,AA=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,nm=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,MA=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),qA=(e,t)=>{if(!e.source||!e.target)return t;let n;return PA(e)?n={...e}:n={...e,id:AA(e)},MA(n,t)?t:t.concat(n)},rm=({x:e,y:t},[n,r,i],o,[s,a])=>{const l={x:(e-n)/i,y:(t-r)/i};return o?{x:s*Math.round(l.x/s),y:a*Math.round(l.y/a)}:l},a2=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r}),br=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],i={x:e.position.x-n,y:e.position.y-r};return{...i,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:i}},Qa=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const{x:o,y:s}=br(i,t).positionAbsolute;return JE(r,Oo({x:o,y:s,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return e2(n)},l2=(e,t,[n,r,i]=[0,0,1],o=!1,s=!1,a=[0,0])=>{const l={x:(t.x-n)/i,y:(t.y-r)/i,width:t.width/i,height:t.height/i},u=[];return e.forEach(c=>{const{width:f,height:d,selectable:p=!0,hidden:y=!1}=c;if(s&&!p||y)return!1;const{positionAbsolute:v}=br(c,a),w={x:v.x,y:v.y,width:f||0,height:d||0},m=Jp(l,w),g=typeof f>"u"||typeof d>"u"||f===null||d===null,x=o&&m>0,_=(f||0)*(d||0);(g||x||m>=_||c.dragging)&&u.push(c)}),u},u2=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},c2=(e,t,n,r,i,o=.1)=>{const s=t/(e.width*(1+o)),a=n/(e.height*(1+o)),l=Math.min(s,a),u=_i(l,r,i),c=e.x+e.width/2,f=e.y+e.height/2,d=t/2-c*u,p=n/2-f*u;return{x:d,y:p,zoom:u}},dr=(e,t=0)=>e.transition().duration(t);function jy(e,t,n,r){return(t[n]||[]).reduce((i,o)=>{var s,a;return`${e.id}-${o.id}-${n}`!==r&&i.push({id:o.id||null,type:n,nodeId:e.id,x:(((s=e.positionAbsolute)==null?void 0:s.x)??0)+o.x+o.width/2,y:(((a=e.positionAbsolute)==null?void 0:a.y)??0)+o.y+o.height/2}),i},[])}function OA(e,t,n,r,i,o){const{x:s,y:a}=Zn(e),u=t.elementsFromPoint(s,a).find(y=>y.classList.contains("react-flow__handle"));if(u){const y=u.getAttribute("data-nodeid");if(y){const v=vg(void 0,u),w=u.getAttribute("data-handleid"),m=o({nodeId:y,id:w,type:v});if(m){const g=i.find(x=>x.nodeId===y&&x.type===v&&x.id===w);return{handle:{id:w,type:v,nodeId:y,x:(g==null?void 0:g.x)||n.x,y:(g==null?void 0:g.y)||n.y},validHandleResult:m}}}}let c=[],f=1/0;if(i.forEach(y=>{const v=Math.sqrt((y.x-n.x)**2+(y.y-n.y)**2);if(v<=r){const w=o(y);v<=f&&(v<f?c=[{handle:y,validHandleResult:w}]:v===f&&c.push({handle:y,validHandleResult:w}),f=v)}}),!c.length)return{handle:null,validHandleResult:f2()};if(c.length===1)return c[0];const d=c.some(({validHandleResult:y})=>y.isValid),p=c.some(({handle:y})=>y.type==="target");return c.find(({handle:y,validHandleResult:v})=>p?y.type==="target":d?v.isValid:!0)||c[0]}const LA={source:null,target:null,sourceHandle:null,targetHandle:null},f2=()=>({handleDomNode:null,isValid:!1,connection:LA,endHandle:null});function d2(e,t,n,r,i,o,s){const a=i==="target",l=s.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...f2(),handleDomNode:l};if(l){const c=vg(void 0,l),f=l.getAttribute("data-nodeid"),d=l.getAttribute("data-handleid"),p=l.classList.contains("connectable"),y=l.classList.contains("connectableend"),v={source:a?f:n,sourceHandle:a?d:r,target:a?n:f,targetHandle:a?r:d};u.connection=v,p&&y&&(t===Tr.Strict?a&&c==="source"||!a&&c==="target":f!==n||d!==r)&&(u.endHandle={nodeId:f,handleId:d,type:c},u.isValid=o(v))}return u}function zA({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((i,o)=>{if(o[Ce]){const{handleBounds:s}=o[Ce];let a=[],l=[];s&&(a=jy(o,s,"source",`${t}-${n}-${r}`),l=jy(o,s,"target",`${t}-${n}-${r}`)),i.push(...a,...l)}return i},[])}function vg(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Ql(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function DA(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function h2({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:i,getState:o,setState:s,isValidConnection:a,edgeUpdaterType:l,onReconnectEnd:u}){const c=ZE(e.target),{connectionMode:f,domNode:d,autoPanOnConnect:p,connectionRadius:y,onConnectStart:v,panBy:w,getNodes:m,cancelConnection:g}=o();let x=0,_;const{x:S,y:E}=Zn(e),N=c==null?void 0:c.elementFromPoint(S,E),j=vg(l,N),R=d==null?void 0:d.getBoundingClientRect();if(!R||!j)return;let q,I=Zn(e,R),z=!1,L=null,b=!1,A=null;const T=zA({nodes:m(),nodeId:n,handleId:t,handleType:j}),F=()=>{if(!p)return;const[O,M]=QE(I,R);w({x:O,y:M}),x=requestAnimationFrame(F)};s({connectionPosition:I,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:j,connectionStartHandle:{nodeId:n,handleId:t,type:j},connectionEndHandle:null}),v==null||v(e,{nodeId:n,handleId:t,handleType:j});function P(O){const{transform:M}=o();I=Zn(O,R);const{handle:D,validHandleResult:B}=OA(O,c,rm(I,M,!1,[1,1]),y,T,V=>d2(V,f,n,t,i?"target":"source",a,c));if(_=D,z||(F(),z=!0),A=B.handleDomNode,L=B.connection,b=B.isValid,s({connectionPosition:_&&b?a2({x:_.x,y:_.y},M):I,connectionStatus:DA(!!_,b),connectionEndHandle:B.endHandle}),!_&&!b&&!A)return Ql(q);L.source!==L.target&&A&&(Ql(q),q=A,A.classList.add("connecting","react-flow__handle-connecting"),A.classList.toggle("valid",b),A.classList.toggle("react-flow__handle-valid",b))}function C(O){var M,D;(_||A)&&L&&b&&(r==null||r(L)),(D=(M=o()).onConnectEnd)==null||D.call(M,O),l&&(u==null||u(O)),Ql(q),g(),cancelAnimationFrame(x),z=!1,b=!1,L=null,A=null,c.removeEventListener("mousemove",P),c.removeEventListener("mouseup",C),c.removeEventListener("touchmove",P),c.removeEventListener("touchend",C)}c.addEventListener("mousemove",P),c.addEventListener("mouseup",C),c.addEventListener("touchmove",P),c.addEventListener("touchend",C)}const Ty=()=>!0,FA=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),$A=(e,t,n)=>r=>{const{connectionStartHandle:i,connectionEndHandle:o,connectionClickStartHandle:s}=r;return{connecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n||(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n}},p2=k.forwardRef(({type:e="source",position:t=X.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:s,onConnect:a,children:l,className:u,onMouseDown:c,onTouchStart:f,...d},p)=>{var R,q;const y=s||null,v=e==="target",w=$e(),m=IA(),{connectOnClick:g,noPanClassName:x}=_e(FA,Qe),{connecting:_,clickConnecting:S}=_e($A(m,y,e),Qe);m||(q=(R=w.getState()).onError)==null||q.call(R,"010",En.error010());const E=I=>{const{defaultEdgeOptions:z,onConnect:L,hasDefaultEdges:b}=w.getState(),A={...z,...I};if(b){const{edges:T,setEdges:F}=w.getState();F(qA(A,T))}L==null||L(A),a==null||a(A)},N=I=>{if(!m)return;const z=n2(I);i&&(z&&I.button===0||!z)&&h2({event:I,handleId:y,nodeId:m,onConnect:E,isTarget:v,getState:w.getState,setState:w.setState,isValidConnection:n||w.getState().isValidConnection||Ty}),z?c==null||c(I):f==null||f(I)},j=I=>{const{onClickConnectStart:z,onClickConnectEnd:L,connectionClickStartHandle:b,connectionMode:A,isValidConnection:T}=w.getState();if(!m||!b&&!i)return;if(!b){z==null||z(I,{nodeId:m,handleId:y,handleType:e}),w.setState({connectionClickStartHandle:{nodeId:m,type:e,handleId:y}});return}const F=ZE(I.target),P=n||T||Ty,{connection:C,isValid:O}=d2({nodeId:m,id:y,type:e},A,b.nodeId,b.handleId||null,b.type,P,F);O&&E(C),L==null||L(I),w.setState({connectionClickStartHandle:null})};return $.createElement("div",{"data-handleid":y,"data-nodeid":m,"data-handlepos":t,"data-id":`${m}-${y}-${e}`,className:dt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",x,u,{source:!v,target:v,connectable:r,connectablestart:i,connectableend:o,connecting:S,connectionindicator:r&&(i&&!_||o&&_)}]),onMouseDown:N,onTouchStart:N,onClick:g?j:void 0,ref:p,...d},l)});p2.displayName="Handle";var nr=k.memo(p2);const m2=({data:e,isConnectable:t,targetPosition:n=X.Top,sourcePosition:r=X.Bottom})=>$.createElement($.Fragment,null,$.createElement(nr,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,$.createElement(nr,{type:"source",position:r,isConnectable:t}));m2.displayName="DefaultNode";var im=k.memo(m2);const g2=({data:e,isConnectable:t,sourcePosition:n=X.Bottom})=>$.createElement($.Fragment,null,e==null?void 0:e.label,$.createElement(nr,{type:"source",position:n,isConnectable:t}));g2.displayName="InputNode";var v2=k.memo(g2);const y2=({data:e,isConnectable:t,targetPosition:n=X.Top})=>$.createElement($.Fragment,null,$.createElement(nr,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);y2.displayName="OutputNode";var x2=k.memo(y2);const yg=()=>null;yg.displayName="GroupNode";const BA=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),bs=e=>e.id;function HA(e,t){return Qe(e.selectedNodes.map(bs),t.selectedNodes.map(bs))&&Qe(e.selectedEdges.map(bs),t.selectedEdges.map(bs))}const _2=k.memo(({onSelectionChange:e})=>{const t=$e(),{selectedNodes:n,selectedEdges:r}=_e(BA,HA);return k.useEffect(()=>{const i={nodes:n,edges:r};e==null||e(i),t.getState().onSelectionChange.forEach(o=>o(i))},[n,r,e]),null});_2.displayName="SelectionListener";const VA=e=>!!e.onSelectionChange;function UA({onSelectionChange:e}){const t=_e(VA);return e||t?$.createElement(_2,{onSelectionChange:e}):null}const WA=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function zr(e,t){k.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function te(e,t,n){k.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const GA=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:i,onConnectStart:o,onConnectEnd:s,onClickConnectStart:a,onClickConnectEnd:l,nodesDraggable:u,nodesConnectable:c,nodesFocusable:f,edgesFocusable:d,edgesUpdatable:p,elevateNodesOnSelect:y,minZoom:v,maxZoom:w,nodeExtent:m,onNodesChange:g,onEdgesChange:x,elementsSelectable:_,connectionMode:S,snapGrid:E,snapToGrid:N,translateExtent:j,connectOnClick:R,defaultEdgeOptions:q,fitView:I,fitViewOptions:z,onNodesDelete:L,onEdgesDelete:b,onNodeDrag:A,onNodeDragStart:T,onNodeDragStop:F,onSelectionDrag:P,onSelectionDragStart:C,onSelectionDragStop:O,noPanClassName:M,nodeOrigin:D,rfId:B,autoPanOnConnect:V,autoPanOnNodeDrag:K,onError:Q,connectionRadius:Z,isValidConnection:ae,nodeDragThreshold:re})=>{const{setNodes:ie,setEdges:je,setDefaultNodesAndEdges:ve,setMinZoom:Me,setMaxZoom:Ie,setTranslateExtent:U,setNodeExtent:oe,reset:W}=_e(WA,Qe),G=$e();return k.useEffect(()=>{const se=r==null?void 0:r.map(Te=>({...Te,...q}));return ve(n,se),()=>{W()}},[]),te("defaultEdgeOptions",q,G.setState),te("connectionMode",S,G.setState),te("onConnect",i,G.setState),te("onConnectStart",o,G.setState),te("onConnectEnd",s,G.setState),te("onClickConnectStart",a,G.setState),te("onClickConnectEnd",l,G.setState),te("nodesDraggable",u,G.setState),te("nodesConnectable",c,G.setState),te("nodesFocusable",f,G.setState),te("edgesFocusable",d,G.setState),te("edgesUpdatable",p,G.setState),te("elementsSelectable",_,G.setState),te("elevateNodesOnSelect",y,G.setState),te("snapToGrid",N,G.setState),te("snapGrid",E,G.setState),te("onNodesChange",g,G.setState),te("onEdgesChange",x,G.setState),te("connectOnClick",R,G.setState),te("fitViewOnInit",I,G.setState),te("fitViewOnInitOptions",z,G.setState),te("onNodesDelete",L,G.setState),te("onEdgesDelete",b,G.setState),te("onNodeDrag",A,G.setState),te("onNodeDragStart",T,G.setState),te("onNodeDragStop",F,G.setState),te("onSelectionDrag",P,G.setState),te("onSelectionDragStart",C,G.setState),te("onSelectionDragStop",O,G.setState),te("noPanClassName",M,G.setState),te("nodeOrigin",D,G.setState),te("rfId",B,G.setState),te("autoPanOnConnect",V,G.setState),te("autoPanOnNodeDrag",K,G.setState),te("onError",Q,G.setState),te("connectionRadius",Z,G.setState),te("isValidConnection",ae,G.setState),te("nodeDragThreshold",re,G.setState),zr(e,ie),zr(t,je),zr(v,Me),zr(w,Ie),zr(j,U),zr(m,oe),null},Ry={display:"none"},KA={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},w2="react-flow__node-desc",b2="react-flow__edge-desc",YA="react-flow__aria-live",XA=e=>e.ariaLiveMessage;function QA({rfId:e}){const t=_e(XA);return $.createElement("div",{id:`${YA}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:KA},t)}function ZA({rfId:e,disableKeyboardA11y:t}){return $.createElement($.Fragment,null,$.createElement("div",{id:`${w2}-${e}`,style:Ry},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),$.createElement("div",{id:`${b2}-${e}`,style:Ry},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&$.createElement(QA,{rfId:e}))}var zo=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=k.useState(!1),i=k.useRef(!1),o=k.useRef(new Set([])),[s,a]=k.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),c=u.reduce((f,d)=>f.concat(...d),[]);return[u,c]}return[[],[]]},[e]);return k.useEffect(()=>{const l=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||l;if(e!==null){const c=p=>{if(i.current=p.ctrlKey||p.metaKey||p.shiftKey,(!i.current||i.current&&!t.actInsideInputWithModifier)&&em(p))return!1;const v=Py(p.code,a);o.current.add(p[v]),Iy(s,o.current,!1)&&(p.preventDefault(),r(!0))},f=p=>{if((!i.current||i.current&&!t.actInsideInputWithModifier)&&em(p))return!1;const v=Py(p.code,a);Iy(s,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(p[v]),p.key==="Meta"&&o.current.clear(),i.current=!1},d=()=>{o.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",c),u==null||u.addEventListener("keyup",f),window.addEventListener("blur",d),()=>{u==null||u.removeEventListener("keydown",c),u==null||u.removeEventListener("keyup",f),window.removeEventListener("blur",d)}}},[e,r]),n};function Iy(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function Py(e,t){return t.includes(e)?"code":"key"}function S2(e,t,n,r){var a,l;const i=e.parentNode||e.parentId;if(!i)return n;const o=t.get(i),s=br(o,r);return S2(o,t,{x:(n.x??0)+s.x,y:(n.y??0)+s.y,z:(((a=o[Ce])==null?void 0:a.z)??0)>(n.z??0)?((l=o[Ce])==null?void 0:l.z)??0:n.z??0},r)}function E2(e,t,n){e.forEach(r=>{var o;const i=r.parentNode||r.parentId;if(i&&!e.has(i))throw new Error(`Parent node ${i} not found`);if(i||n!=null&&n[r.id]){const{x:s,y:a,z:l}=S2(r,e,{...r.position,z:((o=r[Ce])==null?void 0:o.z)??0},t);r.positionAbsolute={x:s,y:a},r[Ce].z=l,n!=null&&n[r.id]&&(r[Ce].isParent=!0)}})}function Zl(e,t,n,r){const i=new Map,o={},s=r?1e3:0;return e.forEach(a=>{var p;const l=(Ct(a.zIndex)?a.zIndex:0)+(a.selected?s:0),u=t.get(a.id),c={...a,positionAbsolute:{x:a.position.x,y:a.position.y}},f=a.parentNode||a.parentId;f&&(o[f]=!0);const d=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==a.type;Object.defineProperty(c,Ce,{enumerable:!1,value:{handleBounds:d||(p=u==null?void 0:u[Ce])==null?void 0:p.handleBounds,z:l}}),i.set(a.id,c)}),E2(i,n,o),i}function k2(e,t={}){const{getNodes:n,width:r,height:i,minZoom:o,maxZoom:s,d3Zoom:a,d3Selection:l,fitViewOnInitDone:u,fitViewOnInit:c,nodeOrigin:f}=e(),d=t.initial&&!u&&c;if(a&&l&&(d||!t.initial)){const y=n().filter(w=>{var g;const m=t.includeHiddenNodes?w.width&&w.height:!w.hidden;return(g=t.nodes)!=null&&g.length?m&&t.nodes.some(x=>x.id===w.id):m}),v=y.every(w=>w.width&&w.height);if(y.length>0&&v){const w=Qa(y,f),{x:m,y:g,zoom:x}=c2(w,r,i,t.minZoom??o,t.maxZoom??s,t.padding??.1),_=yn.translate(m,g).scale(x);return typeof t.duration=="number"&&t.duration>0?a.transform(dr(l,t.duration),_):a.transform(l,_),!0}}return!1}function JA(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[Ce]:r[Ce],selected:n.selected})}),new Map(t)}function e4(e,t){return t.map(n=>{const r=e.find(i=>i.id===n.id);return r&&(n.selected=r.selected),n})}function Ss({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:i,edges:o,onNodesChange:s,onEdgesChange:a,hasDefaultNodes:l,hasDefaultEdges:u}=n();e!=null&&e.length&&(l&&r({nodeInternals:JA(e,i)}),s==null||s(e)),t!=null&&t.length&&(u&&r({edges:e4(t,o)}),a==null||a(t))}const Dr=()=>{},t4={zoomIn:Dr,zoomOut:Dr,zoomTo:Dr,getZoom:()=>1,setViewport:Dr,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Dr,fitBounds:Dr,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},n4=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),r4=()=>{const e=$e(),{d3Zoom:t,d3Selection:n}=_e(n4,Qe);return k.useMemo(()=>n&&t?{zoomIn:i=>t.scaleBy(dr(n,i==null?void 0:i.duration),1.2),zoomOut:i=>t.scaleBy(dr(n,i==null?void 0:i.duration),1/1.2),zoomTo:(i,o)=>t.scaleTo(dr(n,o==null?void 0:o.duration),i),getZoom:()=>e.getState().transform[2],setViewport:(i,o)=>{const[s,a,l]=e.getState().transform,u=yn.translate(i.x??s,i.y??a).scale(i.zoom??l);t.transform(dr(n,o==null?void 0:o.duration),u)},getViewport:()=>{const[i,o,s]=e.getState().transform;return{x:i,y:o,zoom:s}},fitView:i=>k2(e.getState,i),setCenter:(i,o,s)=>{const{width:a,height:l,maxZoom:u}=e.getState(),c=typeof(s==null?void 0:s.zoom)<"u"?s.zoom:u,f=a/2-i*c,d=l/2-o*c,p=yn.translate(f,d).scale(c);t.transform(dr(n,s==null?void 0:s.duration),p)},fitBounds:(i,o)=>{const{width:s,height:a,minZoom:l,maxZoom:u}=e.getState(),{x:c,y:f,zoom:d}=c2(i,s,a,l,u,(o==null?void 0:o.padding)??.1),p=yn.translate(c,f).scale(d);t.transform(dr(n,o==null?void 0:o.duration),p)},project:i=>{const{transform:o,snapToGrid:s,snapGrid:a}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),rm(i,o,s,a)},screenToFlowPosition:i=>{const{transform:o,snapToGrid:s,snapGrid:a,domNode:l}=e.getState();if(!l)return i;const{x:u,y:c}=l.getBoundingClientRect(),f={x:i.x-u,y:i.y-c};return rm(f,o,s,a)},flowToScreenPosition:i=>{const{transform:o,domNode:s}=e.getState();if(!s)return i;const{x:a,y:l}=s.getBoundingClientRect(),u=a2(i,o);return{x:u.x+a,y:u.y+l}},viewportInitialized:!0}:t4,[t,n])};function xg(){const e=r4(),t=$e(),n=k.useCallback(()=>t.getState().getNodes().map(v=>({...v})),[]),r=k.useCallback(v=>t.getState().nodeInternals.get(v),[]),i=k.useCallback(()=>{const{edges:v=[]}=t.getState();return v.map(w=>({...w}))},[]),o=k.useCallback(v=>{const{edges:w=[]}=t.getState();return w.find(m=>m.id===v)},[]),s=k.useCallback(v=>{const{getNodes:w,setNodes:m,hasDefaultNodes:g,onNodesChange:x}=t.getState(),_=w(),S=typeof v=="function"?v(_):v;if(g)m(S);else if(x){const E=S.length===0?_.map(N=>({type:"remove",id:N.id})):S.map(N=>({item:N,type:"reset"}));x(E)}},[]),a=k.useCallback(v=>{const{edges:w=[],setEdges:m,hasDefaultEdges:g,onEdgesChange:x}=t.getState(),_=typeof v=="function"?v(w):v;if(g)m(_);else if(x){const S=_.length===0?w.map(E=>({type:"remove",id:E.id})):_.map(E=>({item:E,type:"reset"}));x(S)}},[]),l=k.useCallback(v=>{const w=Array.isArray(v)?v:[v],{getNodes:m,setNodes:g,hasDefaultNodes:x,onNodesChange:_}=t.getState();if(x){const E=[...m(),...w];g(E)}else if(_){const S=w.map(E=>({item:E,type:"add"}));_(S)}},[]),u=k.useCallback(v=>{const w=Array.isArray(v)?v:[v],{edges:m=[],setEdges:g,hasDefaultEdges:x,onEdgesChange:_}=t.getState();if(x)g([...m,...w]);else if(_){const S=w.map(E=>({item:E,type:"add"}));_(S)}},[]),c=k.useCallback(()=>{const{getNodes:v,edges:w=[],transform:m}=t.getState(),[g,x,_]=m;return{nodes:v().map(S=>({...S})),edges:w.map(S=>({...S})),viewport:{x:g,y:x,zoom:_}}},[]),f=k.useCallback(({nodes:v,edges:w})=>{const{nodeInternals:m,getNodes:g,edges:x,hasDefaultNodes:_,hasDefaultEdges:S,onNodesDelete:E,onEdgesDelete:N,onNodesChange:j,onEdgesChange:R}=t.getState(),q=(v||[]).map(A=>A.id),I=(w||[]).map(A=>A.id),z=g().reduce((A,T)=>{const F=T.parentNode||T.parentId,P=!q.includes(T.id)&&F&&A.find(O=>O.id===F);return(typeof T.deletable=="boolean"?T.deletable:!0)&&(q.includes(T.id)||P)&&A.push(T),A},[]),L=x.filter(A=>typeof A.deletable=="boolean"?A.deletable:!0),b=L.filter(A=>I.includes(A.id));if(z||b){const A=u2(z,L),T=[...b,...A],F=T.reduce((P,C)=>(P.includes(C.id)||P.push(C.id),P),[]);if((S||_)&&(S&&t.setState({edges:x.filter(P=>!F.includes(P.id))}),_&&(z.forEach(P=>{m.delete(P.id)}),t.setState({nodeInternals:new Map(m)}))),F.length>0&&(N==null||N(T),R&&R(F.map(P=>({id:P,type:"remove"})))),z.length>0&&(E==null||E(z),j)){const P=z.map(C=>({id:C.id,type:"remove"}));j(P)}}},[]),d=k.useCallback(v=>{const w=SA(v),m=w?null:t.getState().nodeInternals.get(v.id);return!w&&!m?[null,null,w]:[w?v:Sy(m),m,w]},[]),p=k.useCallback((v,w=!0,m)=>{const[g,x,_]=d(v);return g?(m||t.getState().getNodes()).filter(S=>{if(!_&&(S.id===x.id||!S.positionAbsolute))return!1;const E=Sy(S),N=Jp(E,g);return w&&N>0||N>=g.width*g.height}):[]},[]),y=k.useCallback((v,w,m=!0)=>{const[g]=d(v);if(!g)return!1;const x=Jp(g,w);return m&&x>0||x>=g.width*g.height},[]);return k.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:i,getEdge:o,setNodes:s,setEdges:a,addNodes:l,addEdges:u,toObject:c,deleteElements:f,getIntersectingNodes:p,isNodeIntersecting:y}),[e,n,r,i,o,s,a,l,u,c,f,p,y])}const i4={actInsideInputWithModifier:!1};var o4=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=$e(),{deleteElements:r}=xg(),i=zo(e,i4),o=zo(t);k.useEffect(()=>{if(i){const{edges:s,getNodes:a}=n.getState(),l=a().filter(c=>c.selected),u=s.filter(c=>c.selected);r({nodes:l,edges:u}),n.setState({nodesSelectionActive:!1})}},[i]),k.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])};function s4(e){const t=$e();k.useEffect(()=>{let n;const r=()=>{var o,s;if(!e.current)return;const i=fg(e.current);(i.height===0||i.width===0)&&((s=(o=t.getState()).onError)==null||s.call(o,"004",En.error004())),t.setState({width:i.width||500,height:i.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const _g={position:"absolute",width:"100%",height:"100%",top:0,left:0},a4=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Es=e=>({x:e.x,y:e.y,zoom:e.k}),Fr=(e,t)=>e.target.closest(`.${t}`),Ay=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),My=e=>{const t=e.ctrlKey&&wa()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},l4=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),u4=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:i=!0,zoomOnPinch:o=!0,panOnScroll:s=!1,panOnScrollSpeed:a=.5,panOnScrollMode:l=vr.Free,zoomOnDoubleClick:u=!0,elementsSelectable:c,panOnDrag:f=!0,defaultViewport:d,translateExtent:p,minZoom:y,maxZoom:v,zoomActivationKeyCode:w,preventScrolling:m=!0,children:g,noWheelClassName:x,noPanClassName:_})=>{const S=k.useRef(),E=$e(),N=k.useRef(!1),j=k.useRef(!1),R=k.useRef(null),q=k.useRef({x:0,y:0,zoom:0}),{d3Zoom:I,d3Selection:z,d3ZoomHandler:L,userSelectionActive:b}=_e(l4,Qe),A=zo(w),T=k.useRef(0),F=k.useRef(!1),P=k.useRef();return s4(R),k.useEffect(()=>{if(R.current){const C=R.current.getBoundingClientRect(),O=YE().scaleExtent([y,v]).translateExtent(p),M=kt(R.current).call(O),D=yn.translate(d.x,d.y).scale(_i(d.zoom,y,v)),B=[[0,0],[C.width,C.height]],V=O.constrain()(D,B,p);O.transform(M,V),O.wheelDelta(My),E.setState({d3Zoom:O,d3Selection:M,d3ZoomHandler:M.on("wheel.zoom"),transform:[V.x,V.y,V.k],domNode:R.current.closest(".react-flow")})}},[]),k.useEffect(()=>{z&&I&&(s&&!A&&!b?z.on("wheel.zoom",C=>{if(Fr(C,x))return!1;C.preventDefault(),C.stopImmediatePropagation();const O=z.property("__zoom").k||1;if(C.ctrlKey&&o){const ae=Lt(C),re=My(C),ie=O*Math.pow(2,re);I.scaleTo(z,ie,ae,C);return}const M=C.deltaMode===1?20:1;let D=l===vr.Vertical?0:C.deltaX*M,B=l===vr.Horizontal?0:C.deltaY*M;!wa()&&C.shiftKey&&l!==vr.Vertical&&(D=C.deltaY*M,B=0),I.translateBy(z,-(D/O)*a,-(B/O)*a,{internal:!0});const V=Es(z.property("__zoom")),{onViewportChangeStart:K,onViewportChange:Q,onViewportChangeEnd:Z}=E.getState();clearTimeout(P.current),F.current||(F.current=!0,t==null||t(C,V),K==null||K(V)),F.current&&(e==null||e(C,V),Q==null||Q(V),P.current=setTimeout(()=>{n==null||n(C,V),Z==null||Z(V),F.current=!1},150))},{passive:!1}):typeof L<"u"&&z.on("wheel.zoom",function(C,O){if(!m&&C.type==="wheel"&&!C.ctrlKey||Fr(C,x))return null;C.preventDefault(),L.call(this,C,O)},{passive:!1}))},[b,s,l,z,I,L,A,o,m,x,t,e,n]),k.useEffect(()=>{I&&I.on("start",C=>{var D,B;if(!C.sourceEvent||C.sourceEvent.internal)return null;T.current=(D=C.sourceEvent)==null?void 0:D.button;const{onViewportChangeStart:O}=E.getState(),M=Es(C.transform);N.current=!0,q.current=M,((B=C.sourceEvent)==null?void 0:B.type)==="mousedown"&&E.setState({paneDragging:!0}),O==null||O(M),t==null||t(C.sourceEvent,M)})},[I,t]),k.useEffect(()=>{I&&(b&&!N.current?I.on("zoom",null):b||I.on("zoom",C=>{var M;const{onViewportChange:O}=E.getState();if(E.setState({transform:[C.transform.x,C.transform.y,C.transform.k]}),j.current=!!(r&&Ay(f,T.current??0)),(e||O)&&!((M=C.sourceEvent)!=null&&M.internal)){const D=Es(C.transform);O==null||O(D),e==null||e(C.sourceEvent,D)}}))},[b,I,e,f,r]),k.useEffect(()=>{I&&I.on("end",C=>{if(!C.sourceEvent||C.sourceEvent.internal)return null;const{onViewportChangeEnd:O}=E.getState();if(N.current=!1,E.setState({paneDragging:!1}),r&&Ay(f,T.current??0)&&!j.current&&r(C.sourceEvent),j.current=!1,(n||O)&&a4(q.current,C.transform)){const M=Es(C.transform);q.current=M,clearTimeout(S.current),S.current=setTimeout(()=>{O==null||O(M),n==null||n(C.sourceEvent,M)},s?150:0)}})},[I,s,f,n,r]),k.useEffect(()=>{I&&I.filter(C=>{const O=A||i,M=o&&C.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&C.button===1&&C.type==="mousedown"&&(Fr(C,"react-flow__node")||Fr(C,"react-flow__edge")))return!0;if(!f&&!O&&!s&&!u&&!o||b||!u&&C.type==="dblclick"||Fr(C,x)&&C.type==="wheel"||Fr(C,_)&&(C.type!=="wheel"||s&&C.type==="wheel"&&!A)||!o&&C.ctrlKey&&C.type==="wheel"||!O&&!s&&!M&&C.type==="wheel"||!f&&(C.type==="mousedown"||C.type==="touchstart")||Array.isArray(f)&&!f.includes(C.button)&&C.type==="mousedown")return!1;const D=Array.isArray(f)&&f.includes(C.button)||!C.button||C.button<=1;return(!C.ctrlKey||C.type==="wheel")&&D})},[b,I,i,o,s,u,f,c,A]),$.createElement("div",{className:"react-flow__renderer",ref:R,style:_g},g)},c4=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function f4(){const{userSelectionActive:e,userSelectionRect:t}=_e(c4,Qe);return e&&t?$.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function qy(e,t){const n=t.parentNode||t.parentId,r=e.find(i=>i.id===n);if(r){const i=t.position.x+t.width-r.width,o=t.position.y+t.height-r.height;if(i>0||o>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,i>0&&(r.style.width+=i),o>0&&(r.style.height+=o),t.position.x<0){const s=Math.abs(t.position.x);r.position.x=r.position.x-s,r.style.width+=s,t.position.x=0}if(t.position.y<0){const s=Math.abs(t.position.y);r.position.y=r.position.y-s,r.style.height+=s,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function N2(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,i)=>{const o=e.filter(a=>a.id===i.id);if(o.length===0)return r.push(i),r;const s={...i};for(const a of o)if(a)switch(a.type){case"select":{s.selected=a.selected;break}case"position":{typeof a.position<"u"&&(s.position=a.position),typeof a.positionAbsolute<"u"&&(s.positionAbsolute=a.positionAbsolute),typeof a.dragging<"u"&&(s.dragging=a.dragging),s.expandParent&&qy(r,s);break}case"dimensions":{typeof a.dimensions<"u"&&(s.width=a.dimensions.width,s.height=a.dimensions.height),typeof a.updateStyle<"u"&&(s.style={...s.style||{},...a.dimensions}),typeof a.resizing=="boolean"&&(s.resizing=a.resizing),s.expandParent&&qy(r,s);break}case"remove":return r}return r.push(s),r},n)}function C2(e,t){return N2(e,t)}function d4(e,t){return N2(e,t)}const On=(e,t)=>({id:e,type:"select",selected:t});function ei(e,t){return e.reduce((n,r)=>{const i=t.includes(r.id);return!r.selected&&i?(r.selected=!0,n.push(On(r.id,!0))):r.selected&&!i&&(r.selected=!1,n.push(On(r.id,!1))),n},[])}const Jl=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},h4=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),j2=k.memo(({isSelecting:e,selectionMode:t=Lo.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:i,onPaneClick:o,onPaneContextMenu:s,onPaneScroll:a,onPaneMouseEnter:l,onPaneMouseMove:u,onPaneMouseLeave:c,children:f})=>{const d=k.useRef(null),p=$e(),y=k.useRef(0),v=k.useRef(0),w=k.useRef(),{userSelectionActive:m,elementsSelectable:g,dragging:x}=_e(h4,Qe),_=()=>{p.setState({userSelectionActive:!1,userSelectionRect:null}),y.current=0,v.current=0},S=L=>{o==null||o(L),p.getState().resetSelectedElements(),p.setState({nodesSelectionActive:!1})},E=L=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){L.preventDefault();return}s==null||s(L)},N=a?L=>a(L):void 0,j=L=>{const{resetSelectedElements:b,domNode:A}=p.getState();if(w.current=A==null?void 0:A.getBoundingClientRect(),!g||!e||L.button!==0||L.target!==d.current||!w.current)return;const{x:T,y:F}=Zn(L,w.current);b(),p.setState({userSelectionRect:{width:0,height:0,startX:T,startY:F,x:T,y:F}}),r==null||r(L)},R=L=>{const{userSelectionRect:b,nodeInternals:A,edges:T,transform:F,onNodesChange:P,onEdgesChange:C,nodeOrigin:O,getNodes:M}=p.getState();if(!e||!w.current||!b)return;p.setState({userSelectionActive:!0,nodesSelectionActive:!1});const D=Zn(L,w.current),B=b.startX??0,V=b.startY??0,K={...b,x:D.x<B?D.x:B,y:D.y<V?D.y:V,width:Math.abs(D.x-B),height:Math.abs(D.y-V)},Q=M(),Z=l2(A,K,F,t===Lo.Partial,!0,O),ae=u2(Z,T).map(ie=>ie.id),re=Z.map(ie=>ie.id);if(y.current!==re.length){y.current=re.length;const ie=ei(Q,re);ie.length&&(P==null||P(ie))}if(v.current!==ae.length){v.current=ae.length;const ie=ei(T,ae);ie.length&&(C==null||C(ie))}p.setState({userSelectionRect:K})},q=L=>{if(L.button!==0)return;const{userSelectionRect:b}=p.getState();!m&&b&&L.target===d.current&&(S==null||S(L)),p.setState({nodesSelectionActive:y.current>0}),_(),i==null||i(L)},I=L=>{m&&(p.setState({nodesSelectionActive:y.current>0}),i==null||i(L)),_()},z=g&&(e||m);return $.createElement("div",{className:dt(["react-flow__pane",{dragging:x,selection:e}]),onClick:z?void 0:Jl(S,d),onContextMenu:Jl(E,d),onWheel:Jl(N,d),onMouseEnter:z?void 0:l,onMouseDown:z?j:void 0,onMouseMove:z?R:u,onMouseUp:z?q:void 0,onMouseLeave:z?I:c,ref:d,style:_g},f,$.createElement(f4,null))});j2.displayName="Pane";function T2(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:T2(r,t):!1}function Oy(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function p4(e,t,n,r){return Array.from(e.values()).filter(i=>(i.selected||i.id===r)&&(!i.parentNode||i.parentId||!T2(i,e))&&(i.draggable||t&&typeof i.draggable>"u")).map(i=>{var o,s;return{id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((o=i.positionAbsolute)==null?void 0:o.x)??0),y:n.y-(((s=i.positionAbsolute)==null?void 0:s.y)??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode||i.parentId,parentId:i.parentNode||i.parentId,width:i.width,height:i.height,expandParent:i.expandParent}})}function m4(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function R2(e,t,n,r,i=[0,0],o){const s=m4(e,e.extent||r);let a=s;const l=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(l&&e.width&&e.height){const f=n.get(l),{x:d,y:p}=br(f,i).positionAbsolute;a=f&&Ct(d)&&Ct(p)&&Ct(f.width)&&Ct(f.height)?[[d+e.width*i[0],p+e.height*i[1]],[d+f.width-e.width+e.width*i[0],p+f.height-e.height+e.height*i[1]]]:a}else o==null||o("005",En.error005()),a=s;else if(e.extent&&l&&e.extent!=="parent"){const f=n.get(l),{x:d,y:p}=br(f,i).positionAbsolute;a=[[e.extent[0][0]+d,e.extent[0][1]+p],[e.extent[1][0]+d,e.extent[1][1]+p]]}let u={x:0,y:0};if(l){const f=n.get(l);u=br(f,i).positionAbsolute}const c=a&&a!=="parent"?dg(t,a):t;return{position:{x:c.x-u.x,y:c.y-u.y},positionAbsolute:c}}function eu({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(i=>({...n.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[e?r.find(i=>i.id===e):r[0],r]}const Ly=(e,t,n,r)=>{const i=t.querySelectorAll(e);if(!i||!i.length)return null;const o=Array.from(i),s=t.getBoundingClientRect(),a={x:s.width*r[0],y:s.height*r[1]};return o.map(l=>{const u=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(u.left-s.left-a.x)/n,y:(u.top-s.top-a.y)/n,...fg(l)}})};function Bi(e,t,n){return n===void 0?n:r=>{const i=t().nodeInternals.get(e);i&&n(r,{...i})}}function om({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:s,nodeInternals:a,onError:l}=t.getState(),u=a.get(e);if(!u){l==null||l("012",En.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&s)&&(o({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):i([e])}function g4(){const e=$e();return k.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:i,snapToGrid:o}=e.getState(),s=n.touches?n.touches[0].clientX:n.clientX,a=n.touches?n.touches[0].clientY:n.clientY,l={x:(s-r[0])/r[2],y:(a-r[1])/r[2]};return{xSnapped:o?i[0]*Math.round(l.x/i[0]):l.x,ySnapped:o?i[1]*Math.round(l.y/i[1]):l.y,...l}},[])}function tu(e){return(t,n,r)=>e==null?void 0:e(t,r)}function I2({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,selectNodesOnDrag:s}){const a=$e(),[l,u]=k.useState(!1),c=k.useRef([]),f=k.useRef({x:null,y:null}),d=k.useRef(0),p=k.useRef(null),y=k.useRef({x:0,y:0}),v=k.useRef(null),w=k.useRef(!1),m=k.useRef(!1),g=k.useRef(!1),x=g4();return k.useEffect(()=>{if(e!=null&&e.current){const _=kt(e.current),S=({x:j,y:R})=>{const{nodeInternals:q,onNodeDrag:I,onSelectionDrag:z,updateNodePositions:L,nodeExtent:b,snapGrid:A,snapToGrid:T,nodeOrigin:F,onError:P}=a.getState();f.current={x:j,y:R};let C=!1,O={x:0,y:0,x2:0,y2:0};if(c.current.length>1&&b){const D=Qa(c.current,F);O=Oo(D)}if(c.current=c.current.map(D=>{const B={x:j-D.distance.x,y:R-D.distance.y};T&&(B.x=A[0]*Math.round(B.x/A[0]),B.y=A[1]*Math.round(B.y/A[1]));const V=[[b[0][0],b[0][1]],[b[1][0],b[1][1]]];c.current.length>1&&b&&!D.extent&&(V[0][0]=D.positionAbsolute.x-O.x+b[0][0],V[1][0]=D.positionAbsolute.x+(D.width??0)-O.x2+b[1][0],V[0][1]=D.positionAbsolute.y-O.y+b[0][1],V[1][1]=D.positionAbsolute.y+(D.height??0)-O.y2+b[1][1]);const K=R2(D,B,q,V,F,P);return C=C||D.position.x!==K.position.x||D.position.y!==K.position.y,D.position=K.position,D.positionAbsolute=K.positionAbsolute,D}),!C)return;L(c.current,!0,!0),u(!0);const M=i?I:tu(z);if(M&&v.current){const[D,B]=eu({nodeId:i,dragItems:c.current,nodeInternals:q});M(v.current,D,B)}},E=()=>{if(!p.current)return;const[j,R]=QE(y.current,p.current);if(j!==0||R!==0){const{transform:q,panBy:I}=a.getState();f.current.x=(f.current.x??0)-j/q[2],f.current.y=(f.current.y??0)-R/q[2],I({x:j,y:R})&&S(f.current)}d.current=requestAnimationFrame(E)},N=j=>{var F;const{nodeInternals:R,multiSelectionActive:q,nodesDraggable:I,unselectNodesAndEdges:z,onNodeDragStart:L,onSelectionDragStart:b}=a.getState();m.current=!0;const A=i?L:tu(b);(!s||!o)&&!q&&i&&((F=R.get(i))!=null&&F.selected||z()),i&&o&&s&&om({id:i,store:a,nodeRef:e});const T=x(j);if(f.current=T,c.current=p4(R,I,T,i),A&&c.current){const[P,C]=eu({nodeId:i,dragItems:c.current,nodeInternals:R});A(j.sourceEvent,P,C)}};if(t)_.on(".drag",null);else{const j=CI().on("start",R=>{const{domNode:q,nodeDragThreshold:I}=a.getState();I===0&&N(R),g.current=!1;const z=x(R);f.current=z,p.current=(q==null?void 0:q.getBoundingClientRect())||null,y.current=Zn(R.sourceEvent,p.current)}).on("drag",R=>{var L,b;const q=x(R),{autoPanOnNodeDrag:I,nodeDragThreshold:z}=a.getState();if(R.sourceEvent.type==="touchmove"&&R.sourceEvent.touches.length>1&&(g.current=!0),!g.current){if(!w.current&&m.current&&I&&(w.current=!0,E()),!m.current){const A=q.xSnapped-(((L=f==null?void 0:f.current)==null?void 0:L.x)??0),T=q.ySnapped-(((b=f==null?void 0:f.current)==null?void 0:b.y)??0);Math.sqrt(A*A+T*T)>z&&N(R)}(f.current.x!==q.xSnapped||f.current.y!==q.ySnapped)&&c.current&&m.current&&(v.current=R.sourceEvent,y.current=Zn(R.sourceEvent,p.current),S(q))}}).on("end",R=>{if(!(!m.current||g.current)&&(u(!1),w.current=!1,m.current=!1,cancelAnimationFrame(d.current),c.current)){const{updateNodePositions:q,nodeInternals:I,onNodeDragStop:z,onSelectionDragStop:L}=a.getState(),b=i?z:tu(L);if(q(c.current,!1,!1),b){const[A,T]=eu({nodeId:i,dragItems:c.current,nodeInternals:I});b(R.sourceEvent,A,T)}}}).filter(R=>{const q=R.target;return!R.button&&(!n||!Oy(q,`.${n}`,e))&&(!r||Oy(q,r,e))});return _.call(j),()=>{_.on(".drag",null)}}}},[e,t,n,r,o,a,i,s,x]),l}function P2(){const e=$e();return k.useCallback(n=>{const{nodeInternals:r,nodeExtent:i,updateNodePositions:o,getNodes:s,snapToGrid:a,snapGrid:l,onError:u,nodesDraggable:c}=e.getState(),f=s().filter(g=>g.selected&&(g.draggable||c&&typeof g.draggable>"u")),d=a?l[0]:5,p=a?l[1]:5,y=n.isShiftPressed?4:1,v=n.x*d*y,w=n.y*p*y,m=f.map(g=>{if(g.positionAbsolute){const x={x:g.positionAbsolute.x+v,y:g.positionAbsolute.y+w};a&&(x.x=l[0]*Math.round(x.x/l[0]),x.y=l[1]*Math.round(x.y/l[1]));const{positionAbsolute:_,position:S}=R2(g,x,r,i,void 0,u);g.position=S,g.positionAbsolute=_}return g});o(m,!0,!1)},[])}const ui={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Hi=e=>{const t=({id:n,type:r,data:i,xPos:o,yPos:s,xPosOrigin:a,yPosOrigin:l,selected:u,onClick:c,onMouseEnter:f,onMouseMove:d,onMouseLeave:p,onContextMenu:y,onDoubleClick:v,style:w,className:m,isDraggable:g,isSelectable:x,isConnectable:_,isFocusable:S,selectNodesOnDrag:E,sourcePosition:N,targetPosition:j,hidden:R,resizeObserver:q,dragHandle:I,zIndex:z,isParent:L,noDragClassName:b,noPanClassName:A,initialized:T,disableKeyboardA11y:F,ariaLabel:P,rfId:C,hasHandleBounds:O})=>{const M=$e(),D=k.useRef(null),B=k.useRef(null),V=k.useRef(N),K=k.useRef(j),Q=k.useRef(r),Z=x||g||c||f||d||p,ae=P2(),re=Bi(n,M.getState,f),ie=Bi(n,M.getState,d),je=Bi(n,M.getState,p),ve=Bi(n,M.getState,y),Me=Bi(n,M.getState,v),Ie=W=>{const{nodeDragThreshold:G}=M.getState();if(x&&(!E||!g||G>0)&&om({id:n,store:M,nodeRef:D}),c){const se=M.getState().nodeInternals.get(n);se&&c(W,{...se})}},U=W=>{if(!em(W)&&!F)if(t2.includes(W.key)&&x){const G=W.key==="Escape";om({id:n,store:M,unselect:G,nodeRef:D})}else g&&u&&Object.prototype.hasOwnProperty.call(ui,W.key)&&(M.setState({ariaLiveMessage:`Moved selected node ${W.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~o}, y: ${~~s}`}),ae({x:ui[W.key].x,y:ui[W.key].y,isShiftPressed:W.shiftKey}))};k.useEffect(()=>()=>{B.current&&(q==null||q.unobserve(B.current),B.current=null)},[]),k.useEffect(()=>{if(D.current&&!R){const W=D.current;(!T||!O||B.current!==W)&&(B.current&&(q==null||q.unobserve(B.current)),q==null||q.observe(W),B.current=W)}},[R,T,O]),k.useEffect(()=>{const W=Q.current!==r,G=V.current!==N,se=K.current!==j;D.current&&(W||G||se)&&(W&&(Q.current=r),G&&(V.current=N),se&&(K.current=j),M.getState().updateNodeDimensions([{id:n,nodeElement:D.current,forceUpdate:!0}]))},[n,r,N,j]);const oe=I2({nodeRef:D,disabled:R||!g,noDragClassName:b,handleSelector:I,nodeId:n,isSelectable:x,selectNodesOnDrag:E});return R?null:$.createElement("div",{className:dt(["react-flow__node",`react-flow__node-${r}`,{[A]:g},m,{selected:u,selectable:x,parent:L,dragging:oe}]),ref:D,style:{zIndex:z,transform:`translate(${a}px,${l}px)`,pointerEvents:Z?"all":"none",visibility:T?"visible":"hidden",...w},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:re,onMouseMove:ie,onMouseLeave:je,onContextMenu:ve,onClick:Ie,onDoubleClick:Me,onKeyDown:S?U:void 0,tabIndex:S?0:void 0,role:S?"button":void 0,"aria-describedby":F?void 0:`${w2}-${C}`,"aria-label":P},$.createElement(RA,{value:n},$.createElement(e,{id:n,data:i,type:r,xPos:o,yPos:s,selected:u,isConnectable:_,sourcePosition:N,targetPosition:j,dragging:oe,dragHandle:I,zIndex:z})))};return t.displayName="NodeWrapper",k.memo(t)};const v4=e=>{const t=e.getNodes().filter(n=>n.selected);return{...Qa(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function y4({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=$e(),{width:i,height:o,x:s,y:a,transformString:l,userSelectionActive:u}=_e(v4,Qe),c=P2(),f=k.useRef(null);if(k.useEffect(()=>{var y;n||(y=f.current)==null||y.focus({preventScroll:!0})},[n]),I2({nodeRef:f}),u||!i||!o)return null;const d=e?y=>{const v=r.getState().getNodes().filter(w=>w.selected);e(y,v)}:void 0,p=y=>{Object.prototype.hasOwnProperty.call(ui,y.key)&&c({x:ui[y.key].x,y:ui[y.key].y,isShiftPressed:y.shiftKey})};return $.createElement("div",{className:dt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l}},$.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:n?void 0:-1,onKeyDown:n?void 0:p,style:{width:i,height:o,top:a,left:s}}))}var x4=k.memo(y4);const _4=e=>e.nodesSelectionActive,A2=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,deleteKeyCode:a,onMove:l,onMoveStart:u,onMoveEnd:c,selectionKeyCode:f,selectionOnDrag:d,selectionMode:p,onSelectionStart:y,onSelectionEnd:v,multiSelectionKeyCode:w,panActivationKeyCode:m,zoomActivationKeyCode:g,elementsSelectable:x,zoomOnScroll:_,zoomOnPinch:S,panOnScroll:E,panOnScrollSpeed:N,panOnScrollMode:j,zoomOnDoubleClick:R,panOnDrag:q,defaultViewport:I,translateExtent:z,minZoom:L,maxZoom:b,preventScrolling:A,onSelectionContextMenu:T,noWheelClassName:F,noPanClassName:P,disableKeyboardA11y:C})=>{const O=_e(_4),M=zo(f),D=zo(m),B=D||q,V=D||E,K=M||d&&B!==!0;return o4({deleteKeyCode:a,multiSelectionKeyCode:w}),$.createElement(u4,{onMove:l,onMoveStart:u,onMoveEnd:c,onPaneContextMenu:o,elementsSelectable:x,zoomOnScroll:_,zoomOnPinch:S,panOnScroll:V,panOnScrollSpeed:N,panOnScrollMode:j,zoomOnDoubleClick:R,panOnDrag:!M&&B,defaultViewport:I,translateExtent:z,minZoom:L,maxZoom:b,zoomActivationKeyCode:g,preventScrolling:A,noWheelClassName:F,noPanClassName:P},$.createElement(j2,{onSelectionStart:y,onSelectionEnd:v,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,panOnDrag:B,isSelecting:!!K,selectionMode:p},e,O&&$.createElement(x4,{onSelectionContextMenu:T,noPanClassName:P,disableKeyboardA11y:C})))};A2.displayName="FlowRenderer";var w4=k.memo(A2);function b4(e){return _e(k.useCallback(n=>e?l2(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function S4(e){const t={input:Hi(e.input||v2),default:Hi(e.default||im),output:Hi(e.output||x2),group:Hi(e.group||yg)},n={},r=Object.keys(e).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,o)=>(i[o]=Hi(e[o]||im),i),n);return{...t,...r}}const E4=({x:e,y:t,width:n,height:r,origin:i})=>!n||!r?{x:e,y:t}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:e,y:t}:{x:e-n*i[0],y:t-r*i[1]},k4=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),M2=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,updateNodeDimensions:o,onError:s}=_e(k4,Qe),a=b4(e.onlyRenderVisibleElements),l=k.useRef(),u=k.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const c=new ResizeObserver(f=>{const d=f.map(p=>({id:p.target.getAttribute("data-id"),nodeElement:p.target,forceUpdate:!0}));o(d)});return l.current=c,c},[]);return k.useEffect(()=>()=>{var c;(c=l==null?void 0:l.current)==null||c.disconnect()},[]),$.createElement("div",{className:"react-flow__nodes",style:_g},a.map(c=>{var S,E,N;let f=c.type||"default";e.nodeTypes[f]||(s==null||s("003",En.error003(f)),f="default");const d=e.nodeTypes[f]||e.nodeTypes.default,p=!!(c.draggable||t&&typeof c.draggable>"u"),y=!!(c.selectable||i&&typeof c.selectable>"u"),v=!!(c.connectable||n&&typeof c.connectable>"u"),w=!!(c.focusable||r&&typeof c.focusable>"u"),m=e.nodeExtent?dg(c.positionAbsolute,e.nodeExtent):c.positionAbsolute,g=(m==null?void 0:m.x)??0,x=(m==null?void 0:m.y)??0,_=E4({x:g,y:x,width:c.width??0,height:c.height??0,origin:e.nodeOrigin});return $.createElement(d,{key:c.id,id:c.id,className:c.className,style:c.style,type:f,data:c.data,sourcePosition:c.sourcePosition||X.Bottom,targetPosition:c.targetPosition||X.Top,hidden:c.hidden,xPos:g,yPos:x,xPosOrigin:_.x,yPosOrigin:_.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!c.selected,isDraggable:p,isSelectable:y,isConnectable:v,isFocusable:w,resizeObserver:u,dragHandle:c.dragHandle,zIndex:((S=c[Ce])==null?void 0:S.z)??0,isParent:!!((E=c[Ce])!=null&&E.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!c.width&&!!c.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:c.ariaLabel,hasHandleBounds:!!((N=c[Ce])!=null&&N.handleBounds)})}))};M2.displayName="NodeRenderer";var N4=k.memo(M2);const C4=(e,t,n)=>n===X.Left?e-t:n===X.Right?e+t:e,j4=(e,t,n)=>n===X.Top?e-t:n===X.Bottom?e+t:e,zy="react-flow__edgeupdater",Dy=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:s,type:a})=>$.createElement("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:s,className:dt([zy,`${zy}-${a}`]),cx:C4(t,r,e),cy:j4(n,r,e),r,stroke:"transparent",fill:"transparent"}),T4=()=>!0;var $r=e=>{const t=({id:n,className:r,type:i,data:o,onClick:s,onEdgeDoubleClick:a,selected:l,animated:u,label:c,labelStyle:f,labelShowBg:d,labelBgStyle:p,labelBgPadding:y,labelBgBorderRadius:v,style:w,source:m,target:g,sourceX:x,sourceY:_,targetX:S,targetY:E,sourcePosition:N,targetPosition:j,elementsSelectable:R,hidden:q,sourceHandleId:I,targetHandleId:z,onContextMenu:L,onMouseEnter:b,onMouseMove:A,onMouseLeave:T,reconnectRadius:F,onReconnect:P,onReconnectStart:C,onReconnectEnd:O,markerEnd:M,markerStart:D,rfId:B,ariaLabel:V,isFocusable:K,isReconnectable:Q,pathOptions:Z,interactionWidth:ae,disableKeyboardA11y:re})=>{const ie=k.useRef(null),[je,ve]=k.useState(!1),[Me,Ie]=k.useState(!1),U=$e(),oe=k.useMemo(()=>`url('#${nm(D,B)}')`,[D,B]),W=k.useMemo(()=>`url('#${nm(M,B)}')`,[M,B]);if(q)return null;const G=Le=>{var Gt;const{edges:it,addSelectedEdges:We,unselectNodesAndEdges:Ze,multiSelectionActive:lr}=U.getState(),an=it.find(Ti=>Ti.id===n);an&&(R&&(U.setState({nodesSelectionActive:!1}),an.selected&&lr?(Ze({nodes:[],edges:[an]}),(Gt=ie.current)==null||Gt.blur()):We([n])),s&&s(Le,an))},se=$i(n,U.getState,a),Te=$i(n,U.getState,L),le=$i(n,U.getState,b),de=$i(n,U.getState,A),he=$i(n,U.getState,T),ye=(Le,it)=>{if(Le.button!==0)return;const{edges:We,isValidConnection:Ze}=U.getState(),lr=it?g:m,an=(it?z:I)||null,Gt=it?"target":"source",Ti=Ze||T4,vl=it,Ri=We.find(ur=>ur.id===n);Ie(!0),C==null||C(Le,Ri,Gt);const yl=ur=>{Ie(!1),O==null||O(ur,Ri,Gt)};h2({event:Le,handleId:an,nodeId:lr,onConnect:ur=>P==null?void 0:P(Ri,ur),isTarget:vl,getState:U.getState,setState:U.setState,isValidConnection:Ti,edgeUpdaterType:Gt,onReconnectEnd:yl})},Be=Le=>ye(Le,!0),bt=Le=>ye(Le,!1),Wt=()=>ve(!0),ht=()=>ve(!1),sn=!R&&!s,Tn=Le=>{var it;if(!re&&t2.includes(Le.key)&&R){const{unselectNodesAndEdges:We,addSelectedEdges:Ze,edges:lr}=U.getState();Le.key==="Escape"?((it=ie.current)==null||it.blur(),We({edges:[lr.find(Gt=>Gt.id===n)]})):Ze([n])}};return $.createElement("g",{className:dt(["react-flow__edge",`react-flow__edge-${i}`,r,{selected:l,animated:u,inactive:sn,updating:je}]),onClick:G,onDoubleClick:se,onContextMenu:Te,onMouseEnter:le,onMouseMove:de,onMouseLeave:he,onKeyDown:K?Tn:void 0,tabIndex:K?0:void 0,role:K?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":V===null?void 0:V||`Edge from ${m} to ${g}`,"aria-describedby":K?`${b2}-${B}`:void 0,ref:ie},!Me&&$.createElement(e,{id:n,source:m,target:g,selected:l,animated:u,label:c,labelStyle:f,labelShowBg:d,labelBgStyle:p,labelBgPadding:y,labelBgBorderRadius:v,data:o,style:w,sourceX:x,sourceY:_,targetX:S,targetY:E,sourcePosition:N,targetPosition:j,sourceHandleId:I,targetHandleId:z,markerStart:oe,markerEnd:W,pathOptions:Z,interactionWidth:ae}),Q&&$.createElement($.Fragment,null,(Q==="source"||Q===!0)&&$.createElement(Dy,{position:N,centerX:x,centerY:_,radius:F,onMouseDown:Be,onMouseEnter:Wt,onMouseOut:ht,type:"source"}),(Q==="target"||Q===!0)&&$.createElement(Dy,{position:j,centerX:S,centerY:E,radius:F,onMouseDown:bt,onMouseEnter:Wt,onMouseOut:ht,type:"target"})))};return t.displayName="EdgeWrapper",k.memo(t)};function R4(e){const t={default:$r(e.default||Sa),straight:$r(e.bezier||mg),step:$r(e.step||pg),smoothstep:$r(e.step||Xa),simplebezier:$r(e.simplebezier||hg)},n={},r=Object.keys(e).filter(i=>!["default","bezier"].includes(i)).reduce((i,o)=>(i[o]=$r(e[o]||Sa),i),n);return{...t,...r}}function Fy(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,i=((n==null?void 0:n.y)||0)+t.y,o=(n==null?void 0:n.width)||t.width,s=(n==null?void 0:n.height)||t.height;switch(e){case X.Top:return{x:r+o/2,y:i};case X.Right:return{x:r+o,y:i+s/2};case X.Bottom:return{x:r+o/2,y:i+s};case X.Left:return{x:r,y:i+s/2}}}function $y(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const I4=(e,t,n,r,i,o)=>{const s=Fy(n,e,t),a=Fy(o,r,i);return{sourceX:s.x,sourceY:s.y,targetX:a.x,targetY:a.y}};function P4({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:o,width:s,height:a,transform:l}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+r,t.y+o)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=Oo({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:s/l[2],height:a/l[2]}),f=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),d=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(f*d)>0}function By(e){var r,i,o,s,a;const t=((r=e==null?void 0:e[Ce])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)<"u"&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.y)<"u";return[{x:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)||0,y:((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const A4=[{level:0,isMaxLevel:!0,edges:[]}];function M4(e,t,n=!1){let r=-1;const i=e.reduce((s,a)=>{var c,f;const l=Ct(a.zIndex);let u=l?a.zIndex:0;if(n){const d=t.get(a.target),p=t.get(a.source),y=a.selected||(d==null?void 0:d.selected)||(p==null?void 0:p.selected),v=Math.max(((c=p==null?void 0:p[Ce])==null?void 0:c.z)||0,((f=d==null?void 0:d[Ce])==null?void 0:f.z)||0,1e3);u=(l?a.zIndex:0)+(y?v:0)}return s[u]?s[u].push(a):s[u]=[a],r=u>r?u:r,s},{}),o=Object.entries(i).map(([s,a])=>{const l=+s;return{edges:a,level:l,isMaxLevel:l===r}});return o.length===0?A4:o}function q4(e,t,n){const r=_e(k.useCallback(i=>e?i.edges.filter(o=>{const s=t.get(o.source),a=t.get(o.target);return(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&P4({sourcePos:s.positionAbsolute||{x:0,y:0},targetPos:a.positionAbsolute||{x:0,y:0},sourceWidth:s.width,sourceHeight:s.height,targetWidth:a.width,targetHeight:a.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[e,t]));return M4(r,t,n)}const O4=({color:e="none",strokeWidth:t=1})=>$.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),L4=({color:e="none",strokeWidth:t=1})=>$.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Hy={[ba.Arrow]:O4,[ba.ArrowClosed]:L4};function z4(e){const t=$e();return k.useMemo(()=>{var i,o;return Object.prototype.hasOwnProperty.call(Hy,e)?Hy[e]:((o=(i=t.getState()).onError)==null||o.call(i,"009",En.error009(e)),null)},[e])}const D4=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:s,orient:a="auto-start-reverse"})=>{const l=z4(t);return l?$.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:a,refX:"0",refY:"0"},$.createElement(l,{color:n,strokeWidth:s})):null},F4=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((i,o)=>([o.markerStart,o.markerEnd].forEach(s=>{if(s&&typeof s=="object"){const a=nm(s,t);r.includes(a)||(i.push({id:a,color:s.color||e,...s}),r.push(a))}}),i),[]).sort((i,o)=>i.id.localeCompare(o.id))},q2=({defaultColor:e,rfId:t})=>{const n=_e(k.useCallback(F4({defaultColor:e,rfId:t}),[e,t]),(r,i)=>!(r.length!==i.length||r.some((o,s)=>o.id!==i[s].id)));return $.createElement("defs",null,n.map(r=>$.createElement(D4,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};q2.displayName="MarkerDefinitions";var $4=k.memo(q2);const B4=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),O2=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:i,noPanClassName:o,onEdgeContextMenu:s,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:c,onEdgeDoubleClick:f,onReconnect:d,onReconnectStart:p,onReconnectEnd:y,reconnectRadius:v,children:w,disableKeyboardA11y:m})=>{const{edgesFocusable:g,edgesUpdatable:x,elementsSelectable:_,width:S,height:E,connectionMode:N,nodeInternals:j,onError:R}=_e(B4,Qe),q=q4(t,j,n);return S?$.createElement($.Fragment,null,q.map(({level:I,edges:z,isMaxLevel:L})=>$.createElement("svg",{key:I,style:{zIndex:I},width:S,height:E,className:"react-flow__edges react-flow__container"},L&&$.createElement($4,{defaultColor:e,rfId:r}),$.createElement("g",null,z.map(b=>{const[A,T,F]=By(j.get(b.source)),[P,C,O]=By(j.get(b.target));if(!F||!O)return null;let M=b.type||"default";i[M]||(R==null||R("011",En.error011(M)),M="default");const D=i[M]||i.default,B=N===Tr.Strict?C.target:(C.target??[]).concat(C.source??[]),V=$y(T.source,b.sourceHandle),K=$y(B,b.targetHandle),Q=(V==null?void 0:V.position)||X.Bottom,Z=(K==null?void 0:K.position)||X.Top,ae=!!(b.focusable||g&&typeof b.focusable>"u"),re=b.reconnectable||b.updatable,ie=typeof d<"u"&&(re||x&&typeof re>"u");if(!V||!K)return R==null||R("008",En.error008(V,b)),null;const{sourceX:je,sourceY:ve,targetX:Me,targetY:Ie}=I4(A,V,Q,P,K,Z);return $.createElement(D,{key:b.id,id:b.id,className:dt([b.className,o]),type:M,data:b.data,selected:!!b.selected,animated:!!b.animated,hidden:!!b.hidden,label:b.label,labelStyle:b.labelStyle,labelShowBg:b.labelShowBg,labelBgStyle:b.labelBgStyle,labelBgPadding:b.labelBgPadding,labelBgBorderRadius:b.labelBgBorderRadius,style:b.style,source:b.source,target:b.target,sourceHandleId:b.sourceHandle,targetHandleId:b.targetHandle,markerEnd:b.markerEnd,markerStart:b.markerStart,sourceX:je,sourceY:ve,targetX:Me,targetY:Ie,sourcePosition:Q,targetPosition:Z,elementsSelectable:_,onContextMenu:s,onMouseEnter:a,onMouseMove:l,onMouseLeave:u,onClick:c,onEdgeDoubleClick:f,onReconnect:d,onReconnectStart:p,onReconnectEnd:y,reconnectRadius:v,rfId:r,ariaLabel:b.ariaLabel,isFocusable:ae,isReconnectable:ie,pathOptions:"pathOptions"in b?b.pathOptions:void 0,interactionWidth:b.interactionWidth,disableKeyboardA11y:m})})))),w):null};O2.displayName="EdgeRenderer";var H4=k.memo(O2);const V4=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function U4({children:e}){const t=_e(V4);return $.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function W4(e){const t=xg(),n=k.useRef(!1);k.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const G4={[X.Left]:X.Right,[X.Right]:X.Left,[X.Top]:X.Bottom,[X.Bottom]:X.Top},L2=({nodeId:e,handleType:t,style:n,type:r=Dn.Bezier,CustomComponent:i,connectionStatus:o})=>{var E,N,j;const{fromNode:s,handleId:a,toX:l,toY:u,connectionMode:c}=_e(k.useCallback(R=>({fromNode:R.nodeInternals.get(e),handleId:R.connectionHandleId,toX:(R.connectionPosition.x-R.transform[0])/R.transform[2],toY:(R.connectionPosition.y-R.transform[1])/R.transform[2],connectionMode:R.connectionMode}),[e]),Qe),f=(E=s==null?void 0:s[Ce])==null?void 0:E.handleBounds;let d=f==null?void 0:f[t];if(c===Tr.Loose&&(d=d||(f==null?void 0:f[t==="source"?"target":"source"])),!s||!d)return null;const p=a?d.find(R=>R.id===a):d[0],y=p?p.x+p.width/2:(s.width??0)/2,v=p?p.y+p.height/2:s.height??0,w=(((N=s.positionAbsolute)==null?void 0:N.x)??0)+y,m=(((j=s.positionAbsolute)==null?void 0:j.y)??0)+v,g=p==null?void 0:p.position,x=g?G4[g]:null;if(!g||!x)return null;if(i)return $.createElement(i,{connectionLineType:r,connectionLineStyle:n,fromNode:s,fromHandle:p,fromX:w,fromY:m,toX:l,toY:u,fromPosition:g,toPosition:x,connectionStatus:o});let _="";const S={sourceX:w,sourceY:m,sourcePosition:g,targetX:l,targetY:u,targetPosition:x};return r===Dn.Bezier?[_]=s2(S):r===Dn.Step?[_]=tm({...S,borderRadius:0}):r===Dn.SmoothStep?[_]=tm(S):r===Dn.SimpleBezier?[_]=o2(S):_=`M${w},${m} ${l},${u}`,$.createElement("path",{d:_,fill:"none",className:"react-flow__connection-path",style:n})};L2.displayName="ConnectionLine";const K4=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function Y4({containerStyle:e,style:t,type:n,component:r}){const{nodeId:i,handleType:o,nodesConnectable:s,width:a,height:l,connectionStatus:u}=_e(K4,Qe);return!(i&&o&&a&&s)?null:$.createElement("svg",{style:e,width:a,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},$.createElement("g",{className:dt(["react-flow__connection",u])},$.createElement(L2,{nodeId:i,handleType:o,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function Vy(e,t){return k.useRef(null),$e(),k.useMemo(()=>t(e),[e])}const z2=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:i,onInit:o,onNodeClick:s,onEdgeClick:a,onNodeDoubleClick:l,onEdgeDoubleClick:u,onNodeMouseEnter:c,onNodeMouseMove:f,onNodeMouseLeave:d,onNodeContextMenu:p,onSelectionContextMenu:y,onSelectionStart:v,onSelectionEnd:w,connectionLineType:m,connectionLineStyle:g,connectionLineComponent:x,connectionLineContainerStyle:_,selectionKeyCode:S,selectionOnDrag:E,selectionMode:N,multiSelectionKeyCode:j,panActivationKeyCode:R,zoomActivationKeyCode:q,deleteKeyCode:I,onlyRenderVisibleElements:z,elementsSelectable:L,selectNodesOnDrag:b,defaultViewport:A,translateExtent:T,minZoom:F,maxZoom:P,preventScrolling:C,defaultMarkerColor:O,zoomOnScroll:M,zoomOnPinch:D,panOnScroll:B,panOnScrollSpeed:V,panOnScrollMode:K,zoomOnDoubleClick:Q,panOnDrag:Z,onPaneClick:ae,onPaneMouseEnter:re,onPaneMouseMove:ie,onPaneMouseLeave:je,onPaneScroll:ve,onPaneContextMenu:Me,onEdgeContextMenu:Ie,onEdgeMouseEnter:U,onEdgeMouseMove:oe,onEdgeMouseLeave:W,onReconnect:G,onReconnectStart:se,onReconnectEnd:Te,reconnectRadius:le,noDragClassName:de,noWheelClassName:he,noPanClassName:ye,elevateEdgesOnSelect:Be,disableKeyboardA11y:bt,nodeOrigin:Wt,nodeExtent:ht,rfId:sn})=>{const Tn=Vy(e,S4),Le=Vy(t,R4);return W4(o),$.createElement(w4,{onPaneClick:ae,onPaneMouseEnter:re,onPaneMouseMove:ie,onPaneMouseLeave:je,onPaneContextMenu:Me,onPaneScroll:ve,deleteKeyCode:I,selectionKeyCode:S,selectionOnDrag:E,selectionMode:N,onSelectionStart:v,onSelectionEnd:w,multiSelectionKeyCode:j,panActivationKeyCode:R,zoomActivationKeyCode:q,elementsSelectable:L,onMove:n,onMoveStart:r,onMoveEnd:i,zoomOnScroll:M,zoomOnPinch:D,zoomOnDoubleClick:Q,panOnScroll:B,panOnScrollSpeed:V,panOnScrollMode:K,panOnDrag:Z,defaultViewport:A,translateExtent:T,minZoom:F,maxZoom:P,onSelectionContextMenu:y,preventScrolling:C,noDragClassName:de,noWheelClassName:he,noPanClassName:ye,disableKeyboardA11y:bt},$.createElement(U4,null,$.createElement(H4,{edgeTypes:Le,onEdgeClick:a,onEdgeDoubleClick:u,onlyRenderVisibleElements:z,onEdgeContextMenu:Ie,onEdgeMouseEnter:U,onEdgeMouseMove:oe,onEdgeMouseLeave:W,onReconnect:G,onReconnectStart:se,onReconnectEnd:Te,reconnectRadius:le,defaultMarkerColor:O,noPanClassName:ye,elevateEdgesOnSelect:!!Be,disableKeyboardA11y:bt,rfId:sn},$.createElement(Y4,{style:g,type:m,component:x,containerStyle:_})),$.createElement("div",{className:"react-flow__edgelabel-renderer"}),$.createElement(N4,{nodeTypes:Tn,onNodeClick:s,onNodeDoubleClick:l,onNodeMouseEnter:c,onNodeMouseMove:f,onNodeMouseLeave:d,onNodeContextMenu:p,selectNodesOnDrag:b,onlyRenderVisibleElements:z,noPanClassName:ye,noDragClassName:de,disableKeyboardA11y:bt,nodeOrigin:Wt,nodeExtent:ht,rfId:sn})))};z2.displayName="GraphView";var X4=k.memo(z2);const sm=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],In={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:sm,nodeExtent:sm,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Tr.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:EA,isValidConnection:void 0},Q4=()=>DT((e,t)=>({...In,setNodes:n=>{const{nodeInternals:r,nodeOrigin:i,elevateNodesOnSelect:o}=t();e({nodeInternals:Zl(n,r,i,o)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(i=>({...r,...i}))})},setDefaultNodesAndEdges:(n,r)=>{const i=typeof n<"u",o=typeof r<"u",s=i?Zl(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:s,edges:o?r:[],hasDefaultNodes:i,hasDefaultEdges:o})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:i,fitViewOnInit:o,fitViewOnInitDone:s,fitViewOnInitOptions:a,domNode:l,nodeOrigin:u}=t(),c=l==null?void 0:l.querySelector(".react-flow__viewport");if(!c)return;const f=window.getComputedStyle(c),{m22:d}=new window.DOMMatrixReadOnly(f.transform),p=n.reduce((v,w)=>{const m=i.get(w.id);if(m!=null&&m.hidden)i.set(m.id,{...m,[Ce]:{...m[Ce],handleBounds:void 0}});else if(m){const g=fg(w.nodeElement);!!(g.width&&g.height&&(m.width!==g.width||m.height!==g.height||w.forceUpdate))&&(i.set(m.id,{...m,[Ce]:{...m[Ce],handleBounds:{source:Ly(".source",w.nodeElement,d,u),target:Ly(".target",w.nodeElement,d,u)}},...g}),v.push({id:m.id,type:"dimensions",dimensions:g}))}return v},[]);E2(i,u);const y=s||o&&!s&&k2(t,{initial:!0,...a});e({nodeInternals:new Map(i),fitViewOnInitDone:y}),(p==null?void 0:p.length)>0&&(r==null||r(p))},updateNodePositions:(n,r=!0,i=!1)=>{const{triggerNodeChanges:o}=t(),s=n.map(a=>{const l={id:a.id,type:"position",dragging:i};return r&&(l.positionAbsolute=a.positionAbsolute,l.position=a.position),l});o(s)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:i,hasDefaultNodes:o,nodeOrigin:s,getNodes:a,elevateNodesOnSelect:l}=t();if(n!=null&&n.length){if(o){const u=C2(n,a()),c=Zl(u,i,s,l);e({nodeInternals:c})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:i,getNodes:o}=t();let s,a=null;r?s=n.map(l=>On(l,!0)):(s=ei(o(),n),a=ei(i,[])),Ss({changedNodes:s,changedEdges:a,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:i,getNodes:o}=t();let s,a=null;r?s=n.map(l=>On(l,!0)):(s=ei(i,n),a=ei(o(),[])),Ss({changedNodes:a,changedEdges:s,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:i,getNodes:o}=t(),s=n||o(),a=r||i,l=s.map(c=>(c.selected=!1,On(c.id,!1))),u=a.map(c=>On(c.id,!1));Ss({changedNodes:l,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:i}=t();r==null||r.scaleExtent([n,i]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:i}=t();r==null||r.scaleExtent([i,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),o=r().filter(a=>a.selected).map(a=>On(a.id,!1)),s=n.filter(a=>a.selected).map(a=>On(a.id,!1));Ss({changedNodes:o,changedEdges:s,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(i=>{i.positionAbsolute=dg(i.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:i,height:o,d3Zoom:s,d3Selection:a,translateExtent:l}=t();if(!s||!a||!n.x&&!n.y)return!1;const u=yn.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),c=[[0,0],[i,o]],f=s==null?void 0:s.constrain()(u,c,l);return s.transform(a,f),r[0]!==f.x||r[1]!==f.y||r[2]!==f.k},cancelConnection:()=>e({connectionNodeId:In.connectionNodeId,connectionHandleId:In.connectionHandleId,connectionHandleType:In.connectionHandleType,connectionStatus:In.connectionStatus,connectionStartHandle:In.connectionStartHandle,connectionEndHandle:In.connectionEndHandle}),reset:()=>e({...In})}),Object.is),wg=({children:e})=>{const t=k.useRef(null);return t.current||(t.current=Q4()),$.createElement(vA,{value:t.current},e)};wg.displayName="ReactFlowProvider";const D2=({children:e})=>k.useContext(Ya)?$.createElement($.Fragment,null,e):$.createElement(wg,null,e);D2.displayName="ReactFlowWrapper";const Z4={input:v2,default:im,output:x2,group:yg},J4={default:Sa,straight:mg,step:pg,smoothstep:Xa,simplebezier:hg},eM=[0,0],tM=[15,15],nM={x:0,y:0,zoom:1},rM={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},F2=k.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o=Z4,edgeTypes:s=J4,onNodeClick:a,onEdgeClick:l,onInit:u,onMove:c,onMoveStart:f,onMoveEnd:d,onConnect:p,onConnectStart:y,onConnectEnd:v,onClickConnectStart:w,onClickConnectEnd:m,onNodeMouseEnter:g,onNodeMouseMove:x,onNodeMouseLeave:_,onNodeContextMenu:S,onNodeDoubleClick:E,onNodeDragStart:N,onNodeDrag:j,onNodeDragStop:R,onNodesDelete:q,onEdgesDelete:I,onSelectionChange:z,onSelectionDragStart:L,onSelectionDrag:b,onSelectionDragStop:A,onSelectionContextMenu:T,onSelectionStart:F,onSelectionEnd:P,connectionMode:C=Tr.Strict,connectionLineType:O=Dn.Bezier,connectionLineStyle:M,connectionLineComponent:D,connectionLineContainerStyle:B,deleteKeyCode:V="Backspace",selectionKeyCode:K="Shift",selectionOnDrag:Q=!1,selectionMode:Z=Lo.Full,panActivationKeyCode:ae="Space",multiSelectionKeyCode:re=wa()?"Meta":"Control",zoomActivationKeyCode:ie=wa()?"Meta":"Control",snapToGrid:je=!1,snapGrid:ve=tM,onlyRenderVisibleElements:Me=!1,selectNodesOnDrag:Ie=!0,nodesDraggable:U,nodesConnectable:oe,nodesFocusable:W,nodeOrigin:G=eM,edgesFocusable:se,edgesUpdatable:Te,elementsSelectable:le,defaultViewport:de=nM,minZoom:he=.5,maxZoom:ye=2,translateExtent:Be=sm,preventScrolling:bt=!0,nodeExtent:Wt,defaultMarkerColor:ht="#b1b1b7",zoomOnScroll:sn=!0,zoomOnPinch:Tn=!0,panOnScroll:Le=!1,panOnScrollSpeed:it=.5,panOnScrollMode:We=vr.Free,zoomOnDoubleClick:Ze=!0,panOnDrag:lr=!0,onPaneClick:an,onPaneMouseEnter:Gt,onPaneMouseMove:Ti,onPaneMouseLeave:vl,onPaneScroll:Ri,onPaneContextMenu:yl,children:Hg,onEdgeContextMenu:ur,onEdgeDoubleClick:uN,onEdgeMouseEnter:cN,onEdgeMouseMove:fN,onEdgeMouseLeave:dN,onEdgeUpdate:hN,onEdgeUpdateStart:pN,onEdgeUpdateEnd:mN,onReconnect:gN,onReconnectStart:vN,onReconnectEnd:yN,reconnectRadius:xN=10,edgeUpdaterRadius:_N=10,onNodesChange:wN,onEdgesChange:bN,noDragClassName:SN="nodrag",noWheelClassName:EN="nowheel",noPanClassName:Vg="nopan",fitView:kN=!1,fitViewOptions:NN,connectOnClick:CN=!0,attributionPosition:jN,proOptions:TN,defaultEdgeOptions:RN,elevateNodesOnSelect:IN=!0,elevateEdgesOnSelect:PN=!1,disableKeyboardA11y:Ug=!1,autoPanOnConnect:AN=!0,autoPanOnNodeDrag:MN=!0,connectionRadius:qN=20,isValidConnection:ON,onError:LN,style:zN,id:Wg,nodeDragThreshold:DN,...FN},$N)=>{const xl=Wg||"1";return $.createElement("div",{...FN,style:{...zN,...rM},ref:$N,className:dt(["react-flow",i]),"data-testid":"rf__wrapper",id:Wg},$.createElement(D2,null,$.createElement(X4,{onInit:u,onMove:c,onMoveStart:f,onMoveEnd:d,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:g,onNodeMouseMove:x,onNodeMouseLeave:_,onNodeContextMenu:S,onNodeDoubleClick:E,nodeTypes:o,edgeTypes:s,connectionLineType:O,connectionLineStyle:M,connectionLineComponent:D,connectionLineContainerStyle:B,selectionKeyCode:K,selectionOnDrag:Q,selectionMode:Z,deleteKeyCode:V,multiSelectionKeyCode:re,panActivationKeyCode:ae,zoomActivationKeyCode:ie,onlyRenderVisibleElements:Me,selectNodesOnDrag:Ie,defaultViewport:de,translateExtent:Be,minZoom:he,maxZoom:ye,preventScrolling:bt,zoomOnScroll:sn,zoomOnPinch:Tn,zoomOnDoubleClick:Ze,panOnScroll:Le,panOnScrollSpeed:it,panOnScrollMode:We,panOnDrag:lr,onPaneClick:an,onPaneMouseEnter:Gt,onPaneMouseMove:Ti,onPaneMouseLeave:vl,onPaneScroll:Ri,onPaneContextMenu:yl,onSelectionContextMenu:T,onSelectionStart:F,onSelectionEnd:P,onEdgeContextMenu:ur,onEdgeDoubleClick:uN,onEdgeMouseEnter:cN,onEdgeMouseMove:fN,onEdgeMouseLeave:dN,onReconnect:gN??hN,onReconnectStart:vN??pN,onReconnectEnd:yN??mN,reconnectRadius:xN??_N,defaultMarkerColor:ht,noDragClassName:SN,noWheelClassName:EN,noPanClassName:Vg,elevateEdgesOnSelect:PN,rfId:xl,disableKeyboardA11y:Ug,nodeOrigin:G,nodeExtent:Wt}),$.createElement(GA,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:p,onConnectStart:y,onConnectEnd:v,onClickConnectStart:w,onClickConnectEnd:m,nodesDraggable:U,nodesConnectable:oe,nodesFocusable:W,edgesFocusable:se,edgesUpdatable:Te,elementsSelectable:le,elevateNodesOnSelect:IN,minZoom:he,maxZoom:ye,nodeExtent:Wt,onNodesChange:wN,onEdgesChange:bN,snapToGrid:je,snapGrid:ve,connectionMode:C,translateExtent:Be,connectOnClick:CN,defaultEdgeOptions:RN,fitView:kN,fitViewOptions:NN,onNodesDelete:q,onEdgesDelete:I,onNodeDragStart:N,onNodeDrag:j,onNodeDragStop:R,onSelectionDrag:b,onSelectionDragStart:L,onSelectionDragStop:A,noPanClassName:Vg,nodeOrigin:G,rfId:xl,autoPanOnConnect:AN,autoPanOnNodeDrag:MN,onError:LN,connectionRadius:qN,isValidConnection:ON,nodeDragThreshold:DN}),$.createElement(UA,{onSelectionChange:z}),Hg,$.createElement(xA,{proOptions:TN,position:jN}),$.createElement(ZA,{rfId:xl,disableKeyboardA11y:Ug})))});F2.displayName="ReactFlow";function $2(e){return t=>{const[n,r]=k.useState(t),i=k.useCallback(o=>r(s=>e(o,s)),[]);return[n,r,i]}}const iM=$2(C2),oM=$2(d4),B2=({id:e,x:t,y:n,width:r,height:i,style:o,color:s,strokeColor:a,strokeWidth:l,className:u,borderRadius:c,shapeRendering:f,onClick:d,selected:p})=>{const{background:y,backgroundColor:v}=o||{},w=s||y||v;return $.createElement("rect",{className:dt(["react-flow__minimap-node",{selected:p},u]),x:t,y:n,rx:c,ry:c,width:r,height:i,fill:w,stroke:a,strokeWidth:l,shapeRendering:f,onClick:d?m=>d(m,e):void 0})};B2.displayName="MiniMapNode";var sM=k.memo(B2);const aM=e=>e.nodeOrigin,lM=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),nu=e=>e instanceof Function?e:()=>e;function uM({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i=2,nodeComponent:o=sM,onClick:s}){const a=_e(lM,Qe),l=_e(aM),u=nu(t),c=nu(e),f=nu(n),d=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return $.createElement($.Fragment,null,a.map(p=>{const{x:y,y:v}=br(p,l).positionAbsolute;return $.createElement(o,{key:p.id,x:y,y:v,width:p.width,height:p.height,style:p.style,selected:p.selected,className:f(p),color:u(p),borderRadius:r,strokeColor:c(p),strokeWidth:i,shapeRendering:d,onClick:s,id:p.id})}))}var cM=k.memo(uM);const fM=200,dM=150,hM=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?bA(Qa(t,e.nodeOrigin),n):n,rfId:e.rfId}},pM="react-flow__minimap-desc";function H2({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:i="",nodeBorderRadius:o=5,nodeStrokeWidth:s=2,nodeComponent:a,maskColor:l="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:c=1,position:f="bottom-right",onClick:d,onNodeClick:p,pannable:y=!1,zoomable:v=!1,ariaLabel:w="React Flow mini map",inversePan:m=!1,zoomStep:g=10,offsetScale:x=5}){const _=$e(),S=k.useRef(null),{boundingRect:E,viewBB:N,rfId:j}=_e(hM,Qe),R=(e==null?void 0:e.width)??fM,q=(e==null?void 0:e.height)??dM,I=E.width/R,z=E.height/q,L=Math.max(I,z),b=L*R,A=L*q,T=x*L,F=E.x-(b-E.width)/2-T,P=E.y-(A-E.height)/2-T,C=b+T*2,O=A+T*2,M=`${pM}-${j}`,D=k.useRef(0);D.current=L,k.useEffect(()=>{if(S.current){const K=kt(S.current),Q=re=>{const{transform:ie,d3Selection:je,d3Zoom:ve}=_.getState();if(re.sourceEvent.type!=="wheel"||!je||!ve)return;const Me=-re.sourceEvent.deltaY*(re.sourceEvent.deltaMode===1?.05:re.sourceEvent.deltaMode?1:.002)*g,Ie=ie[2]*Math.pow(2,Me);ve.scaleTo(je,Ie)},Z=re=>{const{transform:ie,d3Selection:je,d3Zoom:ve,translateExtent:Me,width:Ie,height:U}=_.getState();if(re.sourceEvent.type!=="mousemove"||!je||!ve)return;const oe=D.current*Math.max(1,ie[2])*(m?-1:1),W={x:ie[0]-re.sourceEvent.movementX*oe,y:ie[1]-re.sourceEvent.movementY*oe},G=[[0,0],[Ie,U]],se=yn.translate(W.x,W.y).scale(ie[2]),Te=ve.constrain()(se,G,Me);ve.transform(je,Te)},ae=YE().on("zoom",y?Z:null).on("zoom.wheel",v?Q:null);return K.call(ae),()=>{K.on("zoom",null)}}},[y,v,m,g]);const B=d?K=>{const Q=Lt(K);d(K,{x:Q[0],y:Q[1]})}:void 0,V=p?(K,Q)=>{const Z=_.getState().nodeInternals.get(Q);p(K,Z)}:void 0;return $.createElement(fo,{position:f,style:e,className:dt(["react-flow__minimap",t]),"data-testid":"rf__minimap"},$.createElement("svg",{width:R,height:q,viewBox:`${F} ${P} ${C} ${O}`,role:"img","aria-labelledby":M,ref:S,onClick:B},w&&$.createElement("title",{id:M},w),$.createElement(cM,{onClick:V,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:i,nodeStrokeWidth:s,nodeComponent:a}),$.createElement("path",{className:"react-flow__minimap-mask",d:`M${F-T},${P-T}h${C+T*2}v${O+T*2}h${-C-T*2}z
        M${N.x},${N.y}h${N.width}v${N.height}h${-N.width}z`,fill:l,fillRule:"evenodd",stroke:u,strokeWidth:c,pointerEvents:"none"})))}H2.displayName="MiniMap";var mM=k.memo(H2);const ks={active:"#f59e0b",complete:"#10b981",queued:"#64748b"},gM=180,vM=400,yM=260,xM=48;function _M(e){if(!e)return"";try{const t=new Date(e);return t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:t.getFullYear()!==new Date().getFullYear()?"numeric":void 0})}catch{return""}}function wM({projects:e,selectedId:t,onSelectProject:n,onNewProject:r,showArchived:i,onToggleShowArchived:o}){const[s,a]=k.useState(!1),[l,u]=k.useState(yM),[c,f]=k.useState(!1),d=k.useRef(null),p=k.useRef(null);k.useEffect(()=>{p.current&&p.current.scrollIntoView({behavior:"smooth",block:"nearest"})},[t]);const y=k.useMemo(()=>Object.values(e).sort((_,S)=>{const E=(_.name||"").localeCompare(S.name||"");return E!==0?E:(_.projectId||"").localeCompare(S.projectId||"")}),[e]),v=()=>{r()},w=k.useCallback(_=>{_.preventDefault(),f(!0)},[]),m=k.useCallback(_=>{if(!c)return;const S=Math.min(vM,Math.max(gM,_.clientX));u(S)},[c]),g=k.useCallback(()=>{f(!1)},[]);k.useEffect(()=>(c?(document.addEventListener("mousemove",m),document.addEventListener("mouseup",g),document.body.style.cursor="col-resize",document.body.style.userSelect="none"):(document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",g),document.body.style.cursor="",document.body.style.userSelect=""),()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",g),document.body.style.cursor="",document.body.style.userSelect=""}),[c,m,g]);const x=s?xM:l;return h.jsxs("div",{ref:d,className:"h-full flex flex-col relative",style:{width:x,minWidth:x,background:"var(--bg-panel)",borderRight:"1px solid var(--border-panel)",transition:c?"none":"width 0.2s ease"},children:[h.jsx("div",{className:"p-4 border-b flex items-center justify-center",style:{borderColor:"var(--border-panel)"},children:s?h.jsx("img",{src:"/logo-256.png",alt:"The Combine",className:"w-8 h-8 object-contain"}):h.jsx("img",{src:"/logo-light.png",alt:"The Combine",className:"h-10 object-contain"})}),h.jsxs("div",{className:"p-3 border-b flex items-center justify-between",style:{borderColor:"var(--border-panel)"},children:[!s&&h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("h2",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:"Projects"}),h.jsx("button",{onClick:o,className:"p-1 rounded hover:bg-white/10 transition-colors",style:{color:i?"#f59e0b":"var(--text-muted)"},title:i?"Hide archived":"Show archived",children:h.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:h.jsx("path",{d:"M21 8v13H3V8M1 3h22v5H1zM10 12h4"})})})]}),h.jsx("button",{onClick:()=>a(!s),className:"p-1.5 rounded hover:bg-white/10 transition-colors",style:{color:"var(--text-muted)"},title:s?"Expand sidebar":"Collapse sidebar",children:h.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",style:{transform:s?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease"},children:h.jsx("path",{d:"M10 12L6 8L10 4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),!s&&h.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:y.map(_=>{const S=t===_.id;return h.jsxs("div",{ref:S?p:null,onClick:()=>n(_.id),className:"p-3 rounded-lg mb-2 cursor-pointer transition-all",style:{background:S?"var(--state-active-bg)":"transparent",border:S?"1px solid var(--state-active-bg)":"1px solid transparent",boxShadow:S?"0 0 12px rgba(245, 158, 11, 0.3)":"none"},children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-2 h-2 rounded-full flex-shrink-0",style:{background:S?"#ffffff":ks[_.status]||ks.queued}}),h.jsx("span",{className:"text-sm font-medium truncate flex-1",style:{color:S?"#ffffff":"var(--text-primary)"},children:_.name}),_.isArchived&&h.jsx("svg",{className:"w-3.5 h-3.5 flex-shrink-0",style:{color:S?"rgba(255,255,255,0.7)":"var(--text-muted)"},viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",title:"Archived",children:h.jsx("path",{d:"M21 8v13H3V8M1 3h22v5H1zM10 12h4"})})]}),h.jsxs("div",{className:"flex items-center justify-between mt-0.5 ml-4",children:[h.jsx("span",{className:"text-[10px] font-mono",style:{color:S?"rgba(255,255,255,0.8)":"var(--text-muted)"},children:_.projectId}),h.jsx("span",{className:"text-[10px]",style:{color:S?"rgba(255,255,255,0.8)":"var(--text-muted)"},children:_M(_.createdAt)})]})]},_.id)})}),s&&h.jsx("div",{className:"flex-1 overflow-y-auto py-2",children:y.map(_=>h.jsx("div",{onClick:()=>n(_.id),className:"flex items-center justify-center py-2 cursor-pointer hover:bg-white/5",title:_.name,children:h.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:ks[_.status]||ks.queued,boxShadow:t===_.id?"0 0 0 2px var(--bg-panel), 0 0 0 4px var(--border-node)":"none"}})},_.id))}),!s&&h.jsx("div",{className:"p-3 border-t",style:{borderColor:"var(--border-panel)"},children:h.jsxs("button",{onClick:v,className:"w-full py-2.5 rounded-lg text-sm font-medium flex items-center justify-center gap-2 transition-colors",style:{background:"#10b981",color:"white"},children:[h.jsx("span",{style:{fontSize:18,lineHeight:1},children:"+"}),h.jsx("span",{children:"New Project"})]})}),s&&h.jsx("div",{className:"p-2 border-t flex justify-center",style:{borderColor:"var(--border-panel)"},children:h.jsx("button",{onClick:v,className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:"#10b981",color:"white"},title:"New Project",children:h.jsx("span",{style:{fontSize:18,lineHeight:1},children:"+"})})}),!s&&h.jsx("div",{onMouseDown:w,className:"absolute top-0 right-0 w-1 h-full cursor-col-resize hover:bg-emerald-500/50 transition-colors",style:{background:c?"var(--state-active-bg)":"transparent"}})]})}function bM({stations:e}){return e!=null&&e.length?h.jsx("div",{className:"flex items-center gap-0.5 mt-2",children:e.map((t,n)=>{const r=t.state==="complete"?"var(--state-stabilized-bg)":t.state==="active"?"var(--state-active-bg)":"var(--state-queued-bg)",i=t.state==="complete"?"var(--state-stabilized-bg)":"var(--state-queued-bg)",o=t.state==="active"?"var(--state-active-text)":"var(--text-muted)";return h.jsxs($.Fragment,{children:[n>0&&h.jsx("div",{className:"w-4 h-0.5",style:{background:i}}),h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("div",{className:`w-3 h-3 rounded-full${t.state==="active"?" station-active":""}`,style:{background:r}}),h.jsx("span",{className:"text-[7px] mt-0.5",style:{color:o,fontWeight:t.state==="active"?500:400},children:t.label})]})]},t.id)})}):null}const Uy={light:{stabilized:"#10b981",active:"#6366f1",queued:"#cbd5e1"},industrial:{stabilized:"#10b981",active:"#f59e0b",queued:"#334155"},blueprint:{stabilized:"#ffffff",active:"#fbbf24",queued:"#d4e8f8"}},V2=(e,t)=>{var n;return((n=Uy[t])==null?void 0:n[e])||Uy.industrial.queued},Mt={EPICS_PER_ROW:3,EPIC_WIDTH:220,EPIC_HEIGHT:70,EPIC_GAP_X:50,EPIC_GAP_Y:100,EPIC_OFFSET_X:80,EPIC_OFFSET_Y:80},ho={GAP:8,WIDTH:280},ru=["pgc","asm","draft","qa","done"],Fn=["industrial","light","blueprint"];function SM({questions:e,nodeWidth:t,onSubmit:n,onClose:r,onZoomComplete:i}){const[o,s]=k.useState({}),a=e.filter(l=>l.required).every(l=>o[l.id]);return k.useEffect(()=>{if(i){const l=setTimeout(()=>i(),150);return()=>clearTimeout(l)}},[i]),h.jsxs("div",{className:"absolute top-0 border border-amber-500/50 rounded-lg shadow-2xl tray-slide",style:{left:t+ho.GAP,width:ho.WIDTH,boxShadow:"0 0 30px rgba(0,0,0,0.5)",zIndex:1e3,background:"var(--bg-sidecar)"},children:[h.jsx("div",{className:"absolute border-t-2 border-dashed border-amber-500/60",style:{top:14,right:"100%",width:ho.GAP}}),h.jsx("div",{className:"absolute w-2 h-2 rounded-full bg-amber-500",style:{top:11,right:"100%",marginRight:-4}}),h.jsxs("div",{className:"bg-amber-500/10 border-b border-amber-500/30 px-3 py-2 flex justify-between items-center",children:[h.jsx("span",{className:"text-[9px] font-semibold text-amber-600 uppercase tracking-wide",children:"Operator Input Required"}),h.jsx("button",{onClick:r,style:{color:"var(--text-sidecar-muted)"},className:"hover:opacity-70 text-sm leading-none",children:""})]}),h.jsx("div",{className:"p-3 space-y-3 max-h-64 overflow-y-auto",children:e.map(l=>h.jsxs("div",{children:[h.jsxs("label",{className:"block text-[10px] mb-1",style:{color:"var(--text-sidecar-muted)"},children:[l.text," ",l.required&&h.jsx("span",{className:"text-amber-600",children:"*"})]}),h.jsx("input",{type:"text",className:"w-full rounded px-2 py-1.5 text-xs border",style:{background:"var(--bg-input)",borderColor:"var(--border-input)",color:"var(--text-sidecar)"},value:o[l.id]||"",onChange:u=>s(c=>({...c,[l.id]:u.target.value}))})]},l.id))}),h.jsx("div",{className:"p-3",style:{borderTop:"1px solid var(--border-node)"},children:h.jsx("button",{className:`w-full py-2 rounded text-xs font-medium transition-colors ${a?"bg-amber-500 text-slate-900 hover:bg-amber-400":"subway-button cursor-not-allowed"}`,disabled:!a,onClick:()=>n(o),children:"Submit & Continue"})})]})}function EM({features:e,epicName:t,nodeWidth:n,onClose:r,onZoomComplete:i}){const o=e.length>6,s=o?240:320;return k.useEffect(()=>{if(i){const a=setTimeout(()=>i(),150);return()=>clearTimeout(a)}},[i]),h.jsxs("div",{className:"absolute top-0 border border-indigo-500/50 rounded-lg shadow-2xl tray-slide",style:{left:n+ho.GAP,width:s,boxShadow:"0 0 30px rgba(0,0,0,0.5)",zIndex:1e3,background:"var(--bg-sidecar)"},children:[h.jsx("div",{className:"absolute border-t-2 border-dashed border-indigo-500/60",style:{top:14,right:"100%",width:ho.GAP}}),h.jsx("div",{className:"absolute w-2 h-2 rounded-full bg-indigo-500",style:{top:11,right:"100%",marginRight:-4}}),h.jsxs("div",{className:"bg-indigo-500/10 border-b border-indigo-500/30 px-3 py-2 flex justify-between items-center",children:[h.jsxs("span",{className:"text-[9px] font-semibold uppercase tracking-wide",style:{color:"var(--text-sidecar-muted)"},children:["Features - ",t]}),h.jsx("button",{onClick:r,style:{color:"var(--text-sidecar-muted)"},className:"hover:opacity-70 text-sm leading-none",children:""})]}),h.jsx("div",{className:`p-3 max-h-64 overflow-y-auto ${o?"":"grid grid-cols-2 gap-2"}`,children:e.map(a=>{const l=a.state==="complete"?"var(--state-stabilized-bg)":a.state==="active"?"var(--state-active-bg)":"var(--state-queued-bg)";return h.jsxs("div",{className:`flex items-center gap-2 p-1.5 rounded cursor-pointer hover:opacity-80 ${o?"mb-1":""}`,children:[h.jsx("div",{className:"w-2 h-2 rounded-full flex-shrink-0",style:{background:l}}),h.jsx("span",{className:"text-[10px] truncate",style:{color:"var(--text-sidecar)"},children:a.name})]},a.id)})}),h.jsxs("div",{className:"px-3 py-2 text-[9px]",style:{borderTop:"1px solid var(--border-node)",color:"var(--text-sidecar-muted)"},children:[e.length," features"]})]})}const bg="/api/v1";class kM extends Error{constructor(t,n,r){super(t),this.name="ApiError",this.status=n,this.data=r}}async function be(e,t={}){const n=`${bg}${e}`,r={headers:{"Content-Type":"application/json",...t.headers},...t},i=await fetch(n,r);if(!i.ok){const o=await i.json().catch(()=>({}));throw new kM(o.detail||`Request failed: ${i.status}`,i.status,o)}return i.status===204?null:i.json()}const De={getProjects:(e={})=>{const t=new URLSearchParams;e.search&&t.set("search",e.search),e.includeArchived&&t.set("include_archived","true");const n=t.toString();return be(`/projects${n?"?"+n:""}`)},getProject:e=>be(`/projects/${e}`),getProjectTree:e=>be(`/projects/${e}/tree`),createProject:e=>be("/projects",{method:"POST",body:JSON.stringify(e)}),updateProject:(e,t)=>be(`/projects/${e}`,{method:"PATCH",body:JSON.stringify(t)}),archiveProject:e=>be(`/projects/${e}/archive`,{method:"POST"}),unarchiveProject:e=>be(`/projects/${e}/unarchive`,{method:"POST"}),deleteProject:e=>be(`/projects/${e}`,{method:"DELETE"}),getProductionStatus:e=>be(`/production/status?project_id=${e}`),startProduction:(e,t=null)=>{const n=new URLSearchParams({project_id:e});return t&&n.set("document_type",t),be(`/production/start?${n}`,{method:"POST"})},getProjectInterrupts:e=>be(`/projects/${e}/interrupts`),resolveInterrupt:(e,t)=>be(`/interrupts/${e}/resolve`,{method:"POST",body:JSON.stringify(t)}),startWorkflow:(e,t,n=null)=>be("/document-workflows/start",{method:"POST",body:JSON.stringify({project_id:e,document_type:t,initial_context:n})}),submitWorkflowInput:(e,t,n=null)=>be(`/document-workflows/executions/${e}/input`,{method:"POST",body:JSON.stringify({user_input:t,selected_option_id:n})}),getExecutionStatus:e=>be(`/document-workflows/executions/${e}`),getPgcAnswers:e=>be(`/document-workflows/executions/${e}/pgc-answers`),getDocument:(e,t)=>be(`/projects/${e}/documents/${t}`),getDocumentRenderModel:(e,t)=>be(`/projects/${e}/documents/${t}/render-model`),startIntake:()=>be("/intake/start",{method:"POST"}),getIntakeState:e=>be(`/intake/${e}`),submitIntakeMessage:(e,t)=>be(`/intake/${e}/message`,{method:"POST",body:JSON.stringify({content:t})}),updateIntakeField:(e,t,n)=>be(`/intake/${e}/field/${t}`,{method:"PATCH",body:JSON.stringify({value:n})}),initializeIntake:e=>be(`/intake/${e}/initialize`,{method:"POST"})};function NM(e){const t=`${bg}/production/events?project_id=${e}`;return new EventSource(t)}function CM(e){const t=`${bg}/intake/${e}/events`;return new EventSource(t)}const jM=520,TM=900,RM=600,IM=900;function PM({document:e,projectId:t,projectCode:n,nodeWidth:r,onClose:i,onZoomComplete:o,onViewFull:s}){const[a,l]=k.useState(!1),u=a?TM:jM,c=a?IM:RM,[f,d]=k.useState(null),[p,y]=k.useState(!0);if(k.useEffect(()=>{if(o){const w=setTimeout(()=>o(),150);return()=>clearTimeout(w)}},[o]),k.useEffect(()=>{async function w(){if(!t||!e.id){y(!1);return}try{y(!0);const m=await De.getDocument(t,e.id);d((m==null?void 0:m.content)||null)}catch(m){console.error("Failed to fetch document for sidecar:",m)}finally{y(!1)}}w()},[t,e.id]),p)return null;const v=AM(e,f,n);return h.jsxs("div",{className:"absolute top-0 tray-slide",style:{left:r+30,width:u,zIndex:1e3,transition:"width 0.2s ease"},children:[h.jsx("div",{className:"absolute",style:{top:40,right:"100%",width:30,height:3,background:"#10b981"}}),h.jsx("div",{className:"absolute rounded-full",style:{top:36,right:"100%",marginRight:26,width:10,height:10,background:"#10b981"}}),h.jsxs("div",{style:{background:"#ffffff",borderRadius:2,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)",minHeight:c,transition:"min-height 0.2s ease"},children:[h.jsx("div",{style:{padding:"24px 32px 16px",borderBottom:"2px solid #10b981",background:"linear-gradient(to bottom, #ffffff, #fafafa)"},children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx("div",{style:{fontSize:10,letterSpacing:"0.15em",color:"#10b981",fontWeight:600,marginBottom:4},children:"STABILIZED DOCUMENT"}),h.jsx("h1",{style:{fontSize:20,fontFamily:"Georgia, serif",fontWeight:700,color:"#1a1a1a",margin:0},children:v.title}),h.jsx("div",{style:{fontSize:11,color:"#666",marginTop:4,fontFamily:"monospace"},children:v.serial})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("button",{onClick:()=>l(!a),title:a?"Contract":"Expand",style:{color:"#666",fontSize:16,lineHeight:1,padding:6,background:"none",border:"1px solid #e5e5e5",borderRadius:4,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:a?h.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:h.jsx("path",{d:"M9 1v4h4M5 13v-4H1M9 5L13 1M5 9L1 13"})}):h.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:h.jsx("path",{d:"M13 5V1h-4M1 9v4h4M13 1L9 5M1 13l4-4"})})}),h.jsx("button",{onClick:i,title:"Close",style:{color:"#999",fontSize:24,lineHeight:1,padding:4,background:"none",border:"none",cursor:"pointer"},children:""})]})]})}),h.jsx("div",{style:{padding:"24px 32px",maxHeight:a?600:400,overflowY:"auto",fontFamily:"Georgia, serif",fontSize:13,lineHeight:1.7,color:"#333"},children:v.sections.map((w,m)=>h.jsxs("div",{style:{marginBottom:20},children:[w.isIntro&&h.jsx("div",{style:{padding:"12px 16px",borderLeft:"4px solid #10b981",background:"#f0fdf4",fontSize:14,color:"#166534"},children:w.content}),w.heading&&h.jsxs(h.Fragment,{children:[h.jsx("h3",{style:{fontSize:11,fontWeight:600,textTransform:"uppercase",letterSpacing:"0.08em",color:"#666",marginBottom:8,fontFamily:"system-ui, sans-serif"},children:w.heading}),w.badge&&h.jsx("span",{style:{display:"inline-block",padding:"4px 12px",borderRadius:20,background:"#ede9fe",color:"#5b21b6",fontSize:12,fontWeight:500,marginBottom:8},children:w.badge}),w.status&&h.jsx("span",{style:{display:"inline-block",padding:"4px 12px",borderRadius:20,background:w.status==="qualified"?"#d1fae5":"#fef3c7",color:w.status==="qualified"?"#065f46":"#92400e",fontSize:12,fontWeight:500,marginBottom:8},children:w.status}),w.content&&h.jsx("p",{style:{margin:0,whiteSpace:"pre-line"},children:w.content}),w.quote&&h.jsxs("blockquote",{style:{margin:"8px 0 0 0",padding:"8px 12px",borderLeft:"3px solid #d1d5db",color:"#6b7280",fontStyle:"italic",fontSize:12},children:['"',w.quote,'"']}),w.nextAction&&h.jsxs("div",{style:{marginTop:8,padding:"8px 12px",borderRadius:6,background:"#ecfdf5",border:"1px solid #a7f3d0",fontSize:12,color:"#065f46"},children:[h.jsx("strong",{children:"Next:"})," ",w.nextAction]})]})]},m))}),h.jsxs("div",{style:{padding:"16px 32px 24px",borderTop:"1px solid #e5e5e5",background:"#fafafa"},children:[h.jsxs("div",{className:"flex justify-between items-end",children:[h.jsxs("div",{children:[h.jsx("div",{style:{fontSize:10,color:"#999",marginBottom:4},children:"APPROVED BY"}),h.jsx("div",{style:{fontFamily:"cursive",fontSize:16,color:"#333",borderBottom:"1px solid #333",paddingBottom:2,display:"inline-block"},children:v.approved}),h.jsx("div",{style:{fontSize:10,color:"#666",marginTop:4},children:v.date})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{style:{fontSize:10,color:"#10b981",fontWeight:600},children:"VERIFIED"}),h.jsx("div",{style:{width:20,height:20,borderRadius:"50%",background:"#10b981",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:12},children:""})]})]}),h.jsxs("button",{onClick:()=>s==null?void 0:s(e.id),style:{marginTop:16,width:"100%",padding:"10px 16px",background:"#10b981",color:"white",border:"none",borderRadius:4,fontSize:12,fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:8},children:[h.jsx("span",{children:"View Full Document"}),h.jsx("span",{style:{fontSize:14},children:""})]})]})]})]})}function AM(e,t,n){var s,a,l;const r=((s=e.name)==null?void 0:s.toUpperCase())||"DOCUMENT",i=(n||e.id)+" - "+(e.name||"Document"),o=[];if(t){const u=((a=t.summary)==null?void 0:a.description)||t.captured_intent||t.conversation_summary;u&&o.push({heading:null,content:u,isIntro:!0});const c=t.project_name,f=((l=t.summary)==null?void 0:l.user_statement)||t.conversation_summary;(c||f)&&o.push({heading:"Project Summary",content:c,quote:f});const d=t.project_type;if(d){const y=typeof d=="string"?d:d.category,v=d.rationale;o.push({heading:"Project Type",badge:y,content:v})}const p=t.outcome||{status:t.gate_outcome,rationale:t.routing_rationale,next_action:t.ready_for};(p.status||p.next_action)&&o.push({heading:"Intake Outcome",status:p.status,content:p.rationale,nextAction:p.next_action})}else o.push({heading:null,content:e.desc||"Loading document content...",isIntro:!0});return{title:r,serial:i,sections:o,approved:"System",date:"January 2026"}}function MM({data:e}){var v,w,m;const n=(e.level||1)===1,r=e.isExpanded,i=e.expandType,o=((v=e.questions)==null?void 0:v.length)>0,s=((w=e.features)==null?void 0:w.length)>0,a=(m=e.stations)==null?void 0:m.some(g=>g.needs_input),l=e.state==="active"&&e.stations,u=e.state==="active"?"node-active":"",c=n?"DOCUMENT":"EPIC",f=n?"subway-node-header-doc":"subway-node-header-epic",d=e.state==="stabilized"?"var(--state-stabilized-bg)":e.state==="active"?"var(--state-active-bg)":"var(--state-queued-bg)",p=e.state==="stabilized"?"var(--state-stabilized-text)":e.state==="active"?"var(--state-active-text)":"var(--state-queued-text)",y=e.state==="active"?"var(--state-active-bg)":e.state==="stabilized"?"var(--state-stabilized-bg)":"var(--border-node)";return h.jsxs("div",{className:"relative",children:[h.jsx(nr,{type:"target",position:X.Top,className:"!opacity-0",style:{left:"15%"}}),h.jsxs("div",{className:`subway-node rounded-lg border ${u} overflow-hidden`,style:{width:e.width,minHeight:e.height,borderColor:y},children:[h.jsxs("div",{className:`${f} border-b px-3 py-1.5 flex items-center justify-between`,children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-[8px] font-bold uppercase tracking-wider",style:{color:n?"var(--header-text-doc)":"var(--header-text-epic)"},children:c}),h.jsx("span",{className:"text-[10px] font-medium",style:{color:"var(--text-primary)"},children:e.name})]}),e.intent==="optional"&&h.jsx("span",{className:"subway-button text-[8px] px-1.5 py-0.5 rounded",children:"OPTIONAL"})]}),h.jsxs("div",{className:"p-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"rounded-full flex-shrink-0",style:{width:n?24:18,height:n?24:18,backgroundColor:d}}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-wide",style:{color:p},children:e.state}),n&&e.desc&&h.jsx("p",{className:"text-[9px] mt-0.5 truncate",style:{color:"var(--text-muted)"},children:e.desc})]})]}),l&&h.jsx(bM,{stations:e.stations}),h.jsxs("div",{className:"mt-2 flex flex-wrap gap-1.5",children:[n&&e.state==="stabilized"&&h.jsx("button",{className:"px-2 py-1 bg-emerald-500/20 rounded text-[9px] hover:bg-emerald-500/30 transition-colors",style:{color:"var(--action-success)"},onClick:g=>{var x;g.stopPropagation(),(x=e.onExpand)==null||x.call(e,e.id,"document")},children:"View Document"}),a&&o&&!r&&h.jsx("button",{className:"px-2 py-1 bg-amber-500/20 rounded text-[9px] hover:bg-amber-500/30 transition-colors amber-pulse",style:{color:"var(--action-warning)"},onClick:g=>{var x;g.stopPropagation(),(x=e.onExpand)==null||x.call(e,e.id,"questions")},children:"Answer Questions"}),!n&&s&&(r&&i==="features"?h.jsxs("span",{className:"text-[9px] text-indigo-400",children:[e.features.length," features expanded"]}):h.jsxs("button",{className:"subway-button px-2 py-1 rounded text-[9px] transition-colors flex items-center gap-1",onClick:g=>{var x;g.stopPropagation(),(x=e.onExpand)==null||x.call(e,e.id,"features")},children:[h.jsx("span",{className:"text-indigo-400",children:e.features.length}),h.jsx("span",{children:"features"}),h.jsx("span",{className:"text-indigo-400",children:""})]}))]})]})]}),r&&i==="questions"&&o&&h.jsx(SM,{questions:e.questions,nodeWidth:e.width,onSubmit:g=>{var x;return(x=e.onSubmitQuestions)==null?void 0:x.call(e,e.id,g)},onClose:()=>{var g;return(g=e.onCollapse)==null?void 0:g.call(e)},onZoomComplete:()=>{var g;return(g=e.onZoomToNode)==null?void 0:g.call(e,e.id)}}),r&&i==="features"&&s&&h.jsx(EM,{features:e.features,epicName:e.name,nodeWidth:e.width,onClose:()=>{var g;return(g=e.onCollapse)==null?void 0:g.call(e)},onZoomComplete:()=>{var g;return(g=e.onZoomToNode)==null?void 0:g.call(e,e.id)}}),r&&i==="document"&&n&&e.state==="stabilized"&&h.jsx(PM,{document:e,projectId:e.projectId,projectCode:e.projectCode,nodeWidth:e.width,onClose:()=>{var g;return(g=e.onCollapse)==null?void 0:g.call(e)},onZoomComplete:()=>{var g;return(g=e.onZoomToNode)==null?void 0:g.call(e,e.id)},onViewFull:g=>{var x;return(x=e.onViewFullDocument)==null?void 0:x.call(e,g)}}),h.jsx(nr,{type:"source",position:X.Bottom,className:"!opacity-0",style:{left:"15%"}})]})}function qM(){return h.jsxs("div",{style:{width:1,height:1,background:"transparent"},children:[h.jsx(nr,{type:"target",position:X.Top,style:{opacity:0}}),h.jsx(nr,{type:"source",position:X.Bottom,style:{opacity:0}})]})}function OM({block:e}){const{data:t}=e,n=t.content||t.value||"";return n?h.jsxs("div",{style:{marginBottom:12},children:[h.jsx("p",{style:{margin:0,fontSize:14,lineHeight:1.6,color:"#374151",whiteSpace:"pre-line"},children:n}),t.detail_ref&&h.jsx("a",{href:"#",style:{fontSize:12,color:"#6366f1",textDecoration:"none",marginTop:4,display:"inline-block"},children:"View details "})]}):null}function Wy({block:e}){const{data:t}=e,n=t.items||[],r=t.style||"bullet";if(n.length===0)return null;const i=r==="numbered"?"decimal":"disc";return h.jsxs("div",{style:{marginBottom:12},children:[t.title&&h.jsx("h4",{style:{fontSize:12,fontWeight:600,color:"#6b7280",marginBottom:8,textTransform:"uppercase",letterSpacing:"0.05em"},children:t.title}),h.jsx("ul",{style:{margin:0,paddingLeft:r==="check"?0:20,listStyle:r==="check"?"none":i},children:n.map((o,s)=>h.jsxs("li",{style:{fontSize:14,lineHeight:1.6,color:"#374151",marginBottom:4,display:r==="check"?"flex":"list-item",alignItems:"flex-start",gap:8},children:[r==="check"&&h.jsx("span",{style:{color:"#10b981"},children:""}),typeof o=="string"?o:JSON.stringify(o)]},s))})]})}function LM({block:e}){const{data:t}=e,n=t.value||"unknown",r=t.label,o={low:{bg:"#d1fae5",text:"#065f46"},medium:{bg:"#fef3c7",text:"#92400e"},high:{bg:"#fee2e2",text:"#991b1b"},critical:{bg:"#fecaca",text:"#7f1d1d"},none:{bg:"#e5e7eb",text:"#374151"},external:{bg:"#dbeafe",text:"#1e40af"},qualified:{bg:"#d1fae5",text:"#065f46"},not_ready:{bg:"#fef3c7",text:"#92400e"}}[n.toLowerCase()]||{bg:"#f3f4f6",text:"#374151"};return h.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:8,marginBottom:12},children:[r&&h.jsxs("span",{style:{fontSize:12,color:"#6b7280",fontWeight:500},children:[r,":"]}),h.jsx("span",{style:{display:"inline-block",padding:"4px 12px",borderRadius:20,background:o.bg,color:o.text,fontSize:12,fontWeight:500,textTransform:"capitalize"},children:n})]})}function U2({block:e}){const{data:t}=e,{id:n,text:r,blocking:i,why_it_matters:o,priority:s,tags:a,options:l}=t,u={must:{bg:"#fee2e2",text:"#991b1b"},should:{bg:"#fef3c7",text:"#92400e"},could:{bg:"#e5e7eb",text:"#374151"}},c=u[s]||u.should;return h.jsx("div",{style:{padding:"12px 16px",background:i?"#fef2f2":"#f8fafc",borderRadius:8,border:`1px solid ${i?"#fecaca":"#e2e8f0"}`,marginBottom:12},children:h.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:12},children:[h.jsx("span",{style:{fontSize:10,fontFamily:"monospace",color:"#6b7280",background:"#e5e7eb",padding:"2px 6px",borderRadius:4,flexShrink:0},children:n}),h.jsxs("div",{style:{flex:1},children:[h.jsx("p",{style:{margin:0,fontSize:14,fontWeight:500,color:"#111827",marginBottom:6},children:r}),o&&h.jsx("p",{style:{margin:0,fontSize:12,color:"#6b7280",fontStyle:"italic"},children:o}),h.jsxs("div",{style:{display:"flex",gap:6,marginTop:8,flexWrap:"wrap"},children:[i&&h.jsx("span",{style:{fontSize:10,padding:"2px 8px",borderRadius:10,background:"#fee2e2",color:"#991b1b",fontWeight:600},children:"BLOCKING"}),s&&h.jsx("span",{style:{fontSize:10,padding:"2px 8px",borderRadius:10,background:c.bg,color:c.text,textTransform:"uppercase"},children:s}),a==null?void 0:a.map((f,d)=>h.jsx("span",{style:{fontSize:10,padding:"2px 8px",borderRadius:10,background:"#e0e7ff",color:"#3730a3"},children:f},d))]}),l&&l.length>0&&h.jsxs("div",{style:{marginTop:8},children:[h.jsx("span",{style:{fontSize:11,color:"#6b7280"},children:"Options: "}),l.map((f,d)=>h.jsx("span",{style:{fontSize:11,color:"#374151",marginLeft:d>0?8:4},children:f},d))]})]})]})})}function zM({block:e}){const{data:t}=e,n=t.items||[],r=t.total_count||n.length,i=t.blocking_count||n.filter(o=>o.blocking).length;return n.length===0?h.jsx("div",{style:{padding:"16px",background:"#f0fdf4",borderRadius:8,border:"1px solid #bbf7d0",textAlign:"center",color:"#166534",fontSize:14},children:"No open questions"}):h.jsxs("div",{children:[h.jsxs("div",{style:{display:"flex",gap:16,marginBottom:12,padding:"8px 12px",background:"#f8fafc",borderRadius:6,fontSize:12},children:[h.jsxs("span",{style:{color:"#6b7280"},children:[h.jsx("strong",{style:{color:"#374151"},children:r})," questions"]}),i>0&&h.jsxs("span",{style:{color:"#dc2626"},children:[h.jsx("strong",{children:i})," blocking"]})]}),n.map((o,s)=>h.jsx(U2,{block:{type:"schema:OpenQuestionV1",data:o}},o.id||s))]})}function Gy({block:e}){const{data:t}=e,n=t.items||[],r=t.title;if(n.length===0)return null;const i={low:{bg:"#d1fae5",text:"#065f46",border:"#a7f3d0"},medium:{bg:"#fef3c7",text:"#92400e",border:"#fde68a"},high:{bg:"#fee2e2",text:"#991b1b",border:"#fecaca"},critical:{bg:"#fecaca",text:"#7f1d1d",border:"#f87171"}};return h.jsxs("div",{style:{marginBottom:12},children:[r&&h.jsx("h4",{style:{fontSize:12,fontWeight:600,color:"#6b7280",marginBottom:8,textTransform:"uppercase",letterSpacing:"0.05em"},children:r}),h.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:n.map((o,s)=>{const a=o.severity||o.likelihood||"medium",l=i[a]||i.medium;return h.jsx("div",{style:{padding:"10px 14px",background:l.bg,borderRadius:6,border:`1px solid ${l.border}`},children:h.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:10},children:[o.id&&h.jsx("span",{style:{fontSize:10,fontFamily:"monospace",color:l.text,background:"rgba(255,255,255,0.5)",padding:"2px 6px",borderRadius:4,flexShrink:0},children:o.id}),h.jsxs("div",{style:{flex:1},children:[h.jsx("p",{style:{margin:0,fontSize:13,color:l.text,fontWeight:500},children:o.description||o.reason||JSON.stringify(o)}),o.impact&&h.jsxs("p",{style:{margin:"4px 0 0",fontSize:12,color:l.text,opacity:.8},children:["Impact: ",o.impact]}),o.mitigation&&h.jsxs("p",{style:{margin:"4px 0 0",fontSize:12,color:l.text,opacity:.8},children:["Mitigation: ",o.mitigation]})]}),h.jsx("span",{style:{fontSize:10,padding:"2px 8px",borderRadius:10,background:"rgba(255,255,255,0.5)",color:l.text,textTransform:"uppercase",fontWeight:600},children:a})]})},o.id||s)})})]})}function DM({block:e}){const{data:t}=e,{problem_understanding:n,architectural_intent:r,scope_pressure_points:i}=t,o=[{title:"Problem Understanding",content:n},{title:"Architectural Intent",content:r},{title:"Scope Pressure Points",content:i}].filter(s=>s.content);return o.length===0?null:h.jsx("div",{style:{marginBottom:12},children:o.map((s,a)=>h.jsxs("div",{style:{marginBottom:a<o.length-1?16:0},children:[h.jsx("h4",{style:{fontSize:12,fontWeight:600,color:"#6b7280",marginBottom:6,textTransform:"uppercase",letterSpacing:"0.05em"},children:s.title}),h.jsx("div",{style:{padding:"12px 16px",background:"#f8fafc",borderRadius:6,borderLeft:"3px solid #6366f1"},children:h.jsx("p",{style:{margin:0,fontSize:14,lineHeight:1.6,color:"#374151",whiteSpace:"pre-line"},children:s.content})})]},a))})}function Ky({block:e}){const{data:t}=e,{epic_id:n,title:r,name:i,intent:o,phase:s,risk_level:a,stories:l,detail_ref:u}=t,c=r||i,f={low:{bg:"#d1fae5",text:"#065f46"},medium:{bg:"#fef3c7",text:"#92400e"},high:{bg:"#fee2e2",text:"#991b1b"}},d=f[a]||f.medium,p={mvp:{bg:"#dbeafe",text:"#1e40af"},later:{bg:"#e5e7eb",text:"#374151"}},y=p[s]||p.mvp;return h.jsxs("div",{style:{padding:"14px 16px",background:"#ffffff",borderRadius:8,border:"1px solid #e2e8f0",marginBottom:12,boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",gap:12},children:[h.jsxs("div",{style:{flex:1},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:6},children:[n&&h.jsx("span",{style:{fontSize:10,fontFamily:"monospace",color:"#6366f1",background:"#eef2ff",padding:"2px 6px",borderRadius:4},children:n}),h.jsx("h4",{style:{margin:0,fontSize:14,fontWeight:600,color:"#111827"},children:c})]}),o&&h.jsx("p",{style:{margin:0,fontSize:13,color:"#6b7280",lineHeight:1.5},children:o}),l&&l.length>0&&h.jsxs("div",{style:{marginTop:8,fontSize:12,color:"#6b7280"},children:[l.length," stories"]})]}),h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4,alignItems:"flex-end"},children:[s&&h.jsx("span",{style:{fontSize:10,padding:"2px 8px",borderRadius:10,background:y.bg,color:y.text,textTransform:"uppercase",fontWeight:500},children:s}),a&&h.jsxs("span",{style:{fontSize:10,padding:"2px 8px",borderRadius:10,background:d.bg,color:d.text,textTransform:"uppercase",fontWeight:500},children:[a," risk"]})]})]}),u&&h.jsx("div",{style:{marginTop:10,paddingTop:10,borderTop:"1px solid #f3f4f6"},children:h.jsx("a",{href:"#",style:{fontSize:12,color:"#6366f1",textDecoration:"none"},children:"View epic details "})})]})}function FM({block:e}){const{data:t}=e,{story_id:n,title:r,intent:i,phase:o,risk_level:s,detail_ref:a}=t,u={low:{bg:"#d1fae5",text:"#065f46"},medium:{bg:"#fef3c7",text:"#92400e"},high:{bg:"#fee2e2",text:"#991b1b"}}[s]||null,c={mvp:{bg:"#dbeafe",text:"#1e40af"},later:{bg:"#e5e7eb",text:"#374151"}},f=c[o]||c.mvp;return h.jsx("div",{style:{padding:"10px 14px",background:"#fafafa",borderRadius:6,border:"1px solid #e5e7eb",marginBottom:8},children:h.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",gap:10},children:[h.jsxs("div",{style:{flex:1},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:4},children:[n&&h.jsx("span",{style:{fontSize:10,fontFamily:"monospace",color:"#059669",background:"#ecfdf5",padding:"1px 5px",borderRadius:3},children:n}),h.jsx("span",{style:{fontSize:13,fontWeight:500,color:"#111827"},children:r})]}),i&&h.jsx("p",{style:{margin:0,fontSize:12,color:"#6b7280",lineHeight:1.4},children:i})]}),h.jsxs("div",{style:{display:"flex",gap:4},children:[o&&h.jsx("span",{style:{fontSize:9,padding:"2px 6px",borderRadius:8,background:f.bg,color:f.text,textTransform:"uppercase",fontWeight:500},children:o}),u&&h.jsx("span",{style:{fontSize:9,padding:"2px 6px",borderRadius:8,background:u.bg,color:u.text,textTransform:"uppercase",fontWeight:500},children:s})]})]})})}function $M({block:e}){const{type:t,data:n}=e;return h.jsxs("div",{style:{padding:"12px 16px",background:"#f8fafc",borderRadius:6,border:"1px solid #e2e8f0",marginBottom:12},children:[h.jsx("div",{style:{fontSize:10,color:"#94a3b8",marginBottom:8,fontFamily:"monospace"},children:t}),h.jsx("pre",{style:{fontSize:12,color:"#475569",margin:0,whiteSpace:"pre-wrap",wordBreak:"break-word"},children:JSON.stringify(n,null,2)})]})}function BM({block:e}){const{data:t}=e,{description:n,user_statement:r}=t;return h.jsxs("div",{style:{marginBottom:12},children:[n&&h.jsx("div",{style:{paddingLeft:16,borderLeft:"4px solid #8b5cf6",color:"#374151",marginBottom:16,fontSize:14,lineHeight:1.6},children:n}),r&&h.jsxs("blockquote",{style:{paddingLeft:16,borderLeft:"4px solid #d1d5db",color:"#6b7280",fontStyle:"italic",margin:0,fontSize:13,lineHeight:1.5},children:['"',r,'"']})]})}function HM({block:e}){const{data:t}=e,{category:n,confidence:r,rationale:i}=t;return h.jsxs("div",{style:{marginBottom:12},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:8},children:[h.jsx("span",{style:{padding:"4px 12px",borderRadius:16,fontSize:13,fontWeight:500,background:"#ede9fe",color:"#6d28d9"},children:n}),r&&h.jsxs("span",{style:{fontSize:13,color:"#6b7280"},children:["Confidence: ",r]})]}),i&&h.jsx("p",{style:{margin:0,fontSize:13,color:"#6b7280",lineHeight:1.5},children:i})]})}function VM({block:e}){const{data:t}=e,{explicit:n=[],inferred:r=[]}=t,i=n&&n.length>0,o=r&&r.length>0;return!i&&!o?null:h.jsxs("div",{style:{marginBottom:12},children:[i&&h.jsxs("div",{style:{marginBottom:o?16:0},children:[h.jsx("h4",{style:{fontSize:12,fontWeight:500,color:"#6b7280",marginBottom:8,marginTop:0},children:"Explicit"}),h.jsx("ul",{style:{margin:0,paddingLeft:20,listStyle:"none"},children:n.map((s,a)=>h.jsxs("li",{style:{display:"flex",alignItems:"flex-start",gap:8,marginBottom:6,fontSize:13,color:"#374151"},children:[h.jsx("span",{style:{color:"#f59e0b"},children:""}),h.jsx("span",{children:s})]},a))})]}),o&&h.jsxs("div",{children:[h.jsx("h4",{style:{fontSize:12,fontWeight:500,color:"#6b7280",marginBottom:8,marginTop:0},children:"Inferred"}),h.jsx("ul",{style:{margin:0,paddingLeft:20,listStyle:"none"},children:r.map((s,a)=>h.jsxs("li",{style:{display:"flex",alignItems:"flex-start",gap:8,marginBottom:6,fontSize:13,color:"#374151"},children:[h.jsx("span",{style:{color:"#3b82f6"},children:""}),h.jsx("span",{children:s})]},a))})]})]})}function UM({block:e}){const{data:t}=e,{questions:n=[],missing_context:r=[],assumptions_made:i=[]}=t,o=n&&n.length>0,s=r&&r.length>0,a=i&&i.length>0;return!o&&!s&&!a?null:h.jsxs("div",{style:{marginBottom:12},children:[o&&h.jsxs("div",{style:{marginBottom:s||a?16:0},children:[h.jsx("h4",{style:{fontSize:12,fontWeight:500,color:"#6b7280",marginBottom:8,marginTop:0},children:"Questions"}),h.jsx("ul",{style:{margin:0,paddingLeft:20,listStyle:"none"},children:n.map((l,u)=>h.jsxs("li",{style:{display:"flex",alignItems:"flex-start",gap:8,marginBottom:6,fontSize:13,color:"#374151"},children:[h.jsx("span",{style:{color:"#3b82f6"},children:""}),h.jsx("span",{children:l})]},u))})]}),s&&h.jsxs("div",{style:{marginBottom:a?16:0},children:[h.jsx("h4",{style:{fontSize:12,fontWeight:500,color:"#6b7280",marginBottom:8,marginTop:0},children:"Missing Context"}),h.jsx("ul",{style:{margin:0,paddingLeft:20,listStyle:"none"},children:r.map((l,u)=>h.jsxs("li",{style:{display:"flex",alignItems:"flex-start",gap:8,marginBottom:6,fontSize:13,color:"#374151"},children:[h.jsx("span",{style:{color:"#f59e0b"},children:""}),h.jsx("span",{children:l})]},u))})]}),a&&h.jsxs("div",{children:[h.jsx("h4",{style:{fontSize:12,fontWeight:500,color:"#6b7280",marginBottom:8,marginTop:0},children:"Assumptions"}),h.jsx("ul",{style:{margin:0,paddingLeft:20,listStyle:"none"},children:i.map((l,u)=>h.jsxs("li",{style:{display:"flex",alignItems:"flex-start",gap:8,marginBottom:6,fontSize:13,color:"#374151"},children:[h.jsx("span",{style:{color:"#6b7280"},children:""}),h.jsx("span",{children:l})]},u))})]})]})}function WM({block:e}){const{data:t}=e,{status:n,rationale:r,next_action:i}=t,s={qualified:{bg:"#d1fae5",text:"#065f46"},not_ready:{bg:"#fef3c7",text:"#92400e"},out_of_scope:{bg:"#fee2e2",text:"#991b1b"},redirect:{bg:"#e0e7ff",text:"#3730a3"}}[n]||{bg:"#f3f4f6",text:"#374151"};return h.jsxs("div",{style:{marginBottom:12},children:[n&&h.jsx("div",{style:{marginBottom:12},children:h.jsx("span",{style:{padding:"4px 12px",borderRadius:16,fontSize:13,fontWeight:500,background:s.bg,color:s.text},children:n})}),r&&h.jsx("p",{style:{margin:0,marginBottom:i?12:0,fontSize:13,color:"#6b7280",lineHeight:1.5},children:r}),i&&h.jsx("div",{style:{padding:12,borderRadius:8,background:"#ecfdf5",border:"1px solid #a7f3d0"},children:h.jsxs("span",{style:{fontSize:13,fontWeight:500,color:"#065f46"},children:["Next: ",i]})})]})}const GM={"schema:ParagraphBlockV1":OM,"schema:StringListBlockV1":Wy,"schema:IndicatorBlockV1":LM,"schema:OpenQuestionV1":U2,"schema:OpenQuestionsBlockV1":zM,"schema:RisksBlockV1":Gy,"schema:DependenciesBlockV1":Gy,"schema:SummaryBlockV1":DM,"schema:EpicSummaryBlockV1":Ky,"schema:StorySummaryBlockV1":FM,"schema:EpicStoriesCardBlockV1":Ky,"schema:StoriesBlockV1":Wy,"schema:IntakeSummaryBlockV1":BM,"schema:IntakeProjectTypeBlockV1":HM,"schema:IntakeConstraintsBlockV1":VM,"schema:IntakeOpenGapsBlockV1":UM,"schema:IntakeOutcomeBlockV1":WM};function KM(e){return GM[e]||$M}function YM(e,t){const n=KM(e.type);return h.jsx(n,{block:e},e.key||t)}function XM({renderModel:e,variant:t="full",onSectionClick:n,className:r=""}){var d;const[i,o]=k.useState(new Set(((d=e==null?void 0:e.sections)==null?void 0:d.map(p=>p.section_id))||[]));if(!e)return h.jsx("div",{style:{padding:20,textAlign:"center",color:"#6b7280"},children:"No render model available"});const{title:s,subtitle:a,sections:l=[],metadata:u}=e;if(u!=null&&u.fallback&&e.raw_content)return h.jsx(ZM,{title:s,content:e.raw_content,reason:u.reason});const c=p=>{o(y=>{const v=new Set(y);return v.has(p)?v.delete(p):v.add(p),v})},f=t==="compact"||t==="sidecar";return h.jsxs("div",{className:r,children:[t==="full"&&h.jsxs("div",{style:{marginBottom:24},children:[h.jsx("h1",{style:{margin:0,fontSize:24,fontWeight:700,color:"#111827"},children:s}),a&&h.jsx("p",{style:{margin:"8px 0 0",fontSize:14,color:"#6b7280"},children:a})]}),h.jsx("div",{style:{display:"flex",flexDirection:"column",gap:f?12:20},children:l.map(p=>h.jsx(QM,{section:p,isExpanded:i.has(p.section_id),onToggle:()=>c(p.section_id),onClick:()=>n==null?void 0:n(p),variant:t},p.section_id))}),l.length===0&&h.jsx("div",{style:{padding:32,textAlign:"center",color:"#9ca3af",background:"#f9fafb",borderRadius:8},children:"No content sections available"})]})}function QM({section:e,isExpanded:t,onToggle:n,onClick:r,variant:i}){const{section_id:o,title:s,description:a,blocks:l=[]}=e,u=i==="compact"||i==="sidecar";return l.length===0?null:h.jsxs("div",{style:{background:"#ffffff",borderRadius:8,border:"1px solid #e5e7eb",overflow:"hidden"},children:[h.jsxs("button",{onClick:n,style:{width:"100%",padding:u?"10px 14px":"14px 18px",background:"#f9fafb",border:"none",borderBottom:t?"1px solid #e5e7eb":"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",textAlign:"left"},children:[h.jsxs("div",{children:[h.jsx("h3",{style:{margin:0,fontSize:u?13:15,fontWeight:600,color:"#111827"},children:s}),a&&!u&&h.jsx("p",{style:{margin:"4px 0 0",fontSize:12,color:"#6b7280"},children:a})]}),h.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{color:"#9ca3af",transform:t?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"},children:h.jsx("path",{d:"M4 6l4 4 4-4"})})]}),t&&h.jsx("div",{style:{padding:u?12:18},children:l.map((c,f)=>YM(c,f))})]})}function ZM({title:e,content:t,reason:n}){return h.jsxs("div",{children:[h.jsxs("div",{style:{padding:"12px 16px",background:"#fef3c7",border:"1px solid #fde68a",borderRadius:8,marginBottom:16,fontSize:12,color:"#92400e"},children:["Displaying raw content (reason: ",n||"unknown",")"]}),h.jsx("div",{style:{background:"#f8fafc",borderRadius:8,padding:16,overflow:"auto"},children:h.jsx("pre",{style:{margin:0,fontSize:12,color:"#374151",whiteSpace:"pre-wrap",wordBreak:"break-word",fontFamily:"monospace"},children:JSON.stringify(t,null,2)})})]})}function JM({projectId:e,docTypeId:t,onClose:n}){const[r,i]=k.useState(null),[o,s]=k.useState(null),[a,l]=k.useState(!0),[u,c]=k.useState(null);return k.useEffect(()=>{async function f(){var d;try{l(!0),c(null);try{const y=await De.getDocumentRenderModel(e,t);if(y&&y.sections&&y.sections.length>0){s(y),i(null);return}if((d=y==null?void 0:y.metadata)!=null&&d.fallback){s(y),i(null);return}}catch(y){console.log("RenderModel not available, falling back to raw document:",y.message)}const p=await De.getDocument(e,t);i(p),s(null)}catch(p){c(p.message),console.error("Failed to fetch document:",p)}finally{l(!1)}}f()},[e,t]),k.useEffect(()=>{const f=d=>{d.key==="Escape"&&n()};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[n]),a?null:h.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center",style:{background:"rgba(0,0,0,0.8)"},onClick:f=>f.target===f.currentTarget&&n(),children:h.jsxs("div",{className:"relative w-full max-w-4xl max-h-[90vh] overflow-hidden rounded-lg shadow-2xl",style:{background:"#ffffff"},children:[h.jsxs("div",{className:"sticky top-0 px-6 py-4 border-b flex items-center justify-between",style:{background:"#f8fafc",borderColor:"#e2e8f0"},children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900",children:(o==null?void 0:o.title)||(r==null?void 0:r.title)||r3(t)}),((r==null?void 0:r.updated_at)||(o==null?void 0:o.subtitle))&&h.jsx("p",{className:"text-sm text-gray-500 mt-1",children:(o==null?void 0:o.subtitle)||`Last updated: ${i3(r==null?void 0:r.updated_at)}`})]}),h.jsx("button",{onClick:n,className:"p-2 rounded-lg hover:bg-gray-200 transition-colors",children:h.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:h.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),h.jsxs("div",{className:"overflow-y-auto p-6",style:{maxHeight:"calc(90vh - 80px)"},children:[u&&h.jsx("div",{className:"text-center py-12",children:h.jsx("p",{className:"text-red-500",children:u})}),o&&h.jsx(XM,{renderModel:o,variant:"full"}),r&&!o&&h.jsx(e3,{docTypeId:t,content:r.content})]})]})})}function e3({docTypeId:e,content:t}){if(!t)return h.jsx("p",{className:"text-gray-500",children:"No content available"});switch(e){case"concierge_intake":return h.jsx(t3,{content:t});case"project_discovery":return h.jsx(n3,{content:t});default:return h.jsx(W2,{content:t})}}function t3({content:e}){var l,u;const t=e.project_name,n=((l=e.summary)==null?void 0:l.description)||e.captured_intent||"",r=((u=e.summary)==null?void 0:u.user_statement)||e.conversation_summary||"",i=e.project_type,o=e.constraints,s=e.open_gaps||{questions:e.known_unknowns||[]},a=e.outcome||{status:e.gate_outcome,rationale:e.routing_rationale,next_action:e.ready_for};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs(Xt,{title:"Project Summary",icon:"clipboard",children:[t&&h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t}),n&&h.jsx("div",{className:"pl-4 border-l-4 border-violet-500 text-gray-700 mb-4",children:n}),r&&h.jsxs("blockquote",{className:"pl-4 border-l-4 border-gray-300 text-gray-500 italic",children:['"',r,'"']})]}),i&&h.jsxs(Xt,{title:"Project Type",icon:"tag",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-violet-100 text-violet-800",children:typeof i=="string"?i:i.category}),i.confidence&&h.jsxs("span",{className:"text-sm text-gray-500",children:["Confidence: ",i.confidence]})]}),i.rationale&&h.jsx("p",{className:"text-gray-600",children:i.rationale})]}),o&&(Je(o.explicit)||Je(o.inferred)||Je(o))&&h.jsxs(Xt,{title:"Constraints",icon:"lock",children:[Array.isArray(o)&&o.length>0&&h.jsx(Qt,{items:o,icon:"lock",color:"amber"}),!Array.isArray(o)&&h.jsxs(h.Fragment,{children:[Je(o.explicit)&&h.jsxs("div",{className:"mb-3",children:[h.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Explicit"}),h.jsx(Qt,{items:o.explicit,icon:"lock",color:"amber"})]}),Je(o.inferred)&&h.jsxs("div",{children:[h.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Inferred"}),h.jsx(Qt,{items:o.inferred,icon:"lightbulb",color:"blue"})]})]})]}),s&&(Je(s.questions)||Je(s.missing_context)||Je(s.assumptions_made))&&h.jsxs(Xt,{title:"Open Gaps",icon:"help-circle",children:[Je(s.questions)&&h.jsxs("div",{className:"mb-3",children:[h.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Questions"}),h.jsx(Qt,{items:s.questions,icon:"help",color:"blue"})]}),Je(s.missing_context)&&h.jsxs("div",{className:"mb-3",children:[h.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Missing Context"}),h.jsx(Qt,{items:s.missing_context,icon:"alert",color:"amber"})]}),Je(s.assumptions_made)&&h.jsxs("div",{children:[h.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Assumptions"}),h.jsx(Qt,{items:s.assumptions_made,icon:"lightbulb",color:"gray"})]})]}),a&&(a.status||a.rationale)&&h.jsxs(Xt,{title:"Intake Outcome",icon:"flag",children:[a.status&&h.jsx("div",{className:"mb-3",children:h.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${a.status==="qualified"?"bg-emerald-100 text-emerald-800":a.status==="not_ready"?"bg-amber-100 text-amber-800":"bg-gray-100 text-gray-800"}`,children:a.status})}),a.rationale&&h.jsx("p",{className:"text-gray-600 mb-3",children:a.rationale}),a.next_action&&h.jsx("div",{className:"p-3 rounded-lg bg-emerald-50 border border-emerald-200",children:h.jsxs("span",{className:"text-sm font-medium text-emerald-800",children:["Next: ",a.next_action]})})]}),e.metadata&&h.jsx(Xt,{title:"Metadata",icon:"info",collapsed:!0,children:h.jsxs("dl",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.metadata.conversation_turn_count&&h.jsxs(h.Fragment,{children:[h.jsx("dt",{className:"text-gray-500",children:"Conversation Turns"}),h.jsx("dd",{className:"text-gray-900",children:e.metadata.conversation_turn_count})]}),e.metadata.workflow_id&&h.jsxs(h.Fragment,{children:[h.jsx("dt",{className:"text-gray-500",children:"Workflow"}),h.jsx("dd",{className:"text-gray-900 font-mono text-xs",children:e.metadata.workflow_id})]})]})})]})}function n3({content:e}){var t;return h.jsxs("div",{className:"space-y-6",children:[e.project_name&&h.jsxs(Xt,{title:"Project",icon:"compass",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.project_name}),((t=e.summary)==null?void 0:t.description)&&h.jsx("p",{className:"text-gray-600 mt-2",children:e.summary.description})]}),e.goals&&Je(e.goals)&&h.jsx(Xt,{title:"Goals",icon:"target",children:h.jsx(Qt,{items:e.goals,color:"emerald"})}),e.stakeholders&&Je(e.stakeholders)&&h.jsx(Xt,{title:"Stakeholders",icon:"users",children:h.jsx(Qt,{items:e.stakeholders,color:"blue"})}),e.scope&&h.jsxs(Xt,{title:"Scope",icon:"box",children:[e.scope.in_scope&&Je(e.scope.in_scope)&&h.jsxs("div",{className:"mb-3",children:[h.jsx("h4",{className:"text-sm font-medium text-emerald-600 mb-2",children:"In Scope"}),h.jsx(Qt,{items:e.scope.in_scope,color:"emerald"})]}),e.scope.out_of_scope&&Je(e.scope.out_of_scope)&&h.jsxs("div",{children:[h.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Out of Scope"}),h.jsx(Qt,{items:e.scope.out_of_scope,color:"gray"})]})]}),!e.project_name&&!e.goals&&h.jsx(W2,{content:e})]})}function W2({content:e}){return h.jsx("div",{className:"bg-gray-50 rounded-lg p-4 overflow-x-auto",children:h.jsx("pre",{className:"text-sm text-gray-800 whitespace-pre-wrap font-mono",children:JSON.stringify(e,null,2)})})}function Xt({title:e,icon:t,collapsed:n=!1,children:r}){const[i,o]=k.useState(!n);return h.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[h.jsxs("button",{onClick:()=>o(!i),className:"w-full px-4 py-3 flex items-center justify-between bg-gray-50 hover:bg-gray-100 transition-colors",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-gray-400",children:G2(t)}),h.jsx("span",{className:"font-medium text-gray-900",children:e})]}),h.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",className:`text-gray-400 transition-transform ${i?"rotate-180":""}`,children:h.jsx("path",{d:"M6 8l4 4 4-4",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),i&&h.jsx("div",{className:"px-4 py-4 bg-white",children:r})]})}function Qt({items:e,icon:t,color:n="gray"}){if(!e||e.length===0)return null;const r={gray:"text-gray-600",blue:"text-blue-600",emerald:"text-emerald-600",amber:"text-amber-600",violet:"text-violet-600"};return h.jsx("ul",{className:"space-y-2",children:e.map((i,o)=>h.jsxs("li",{className:"flex items-start gap-2",children:[h.jsx("span",{className:`mt-0.5 ${r[n]}`,children:G2(t||"dot")}),h.jsx("span",{className:"text-gray-700",children:typeof i=="string"?i:JSON.stringify(i)})]},o))})}function Je(e){return Array.isArray(e)&&e.length>0}function r3(e){return e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function i3(e){return e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):""}function G2(e){return{clipboard:"",tag:"",lock:"",lightbulb:"","help-circle":"",help:"",alert:"",flag:"",info:"",compass:"",target:"",users:"",box:"",dot:""}[e]||""}function Sg(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var iu,Yy;function o3(){if(Yy)return iu;Yy=1;function e(){this.__data__=[],this.size=0}return iu=e,iu}var ou,Xy;function Ei(){if(Xy)return ou;Xy=1;function e(t,n){return t===n||t!==t&&n!==n}return ou=e,ou}var su,Qy;function Za(){if(Qy)return su;Qy=1;var e=Ei();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return su=t,su}var au,Zy;function s3(){if(Zy)return au;Zy=1;var e=Za(),t=Array.prototype,n=t.splice;function r(i){var o=this.__data__,s=e(o,i);if(s<0)return!1;var a=o.length-1;return s==a?o.pop():n.call(o,s,1),--this.size,!0}return au=r,au}var lu,Jy;function a3(){if(Jy)return lu;Jy=1;var e=Za();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return lu=t,lu}var uu,e0;function l3(){if(e0)return uu;e0=1;var e=Za();function t(n){return e(this.__data__,n)>-1}return uu=t,uu}var cu,t0;function u3(){if(t0)return cu;t0=1;var e=Za();function t(n,r){var i=this.__data__,o=e(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return cu=t,cu}var fu,n0;function Ja(){if(n0)return fu;n0=1;var e=o3(),t=s3(),n=a3(),r=l3(),i=u3();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,fu=o,fu}var du,r0;function c3(){if(r0)return du;r0=1;var e=Ja();function t(){this.__data__=new e,this.size=0}return du=t,du}var hu,i0;function f3(){if(i0)return hu;i0=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return hu=e,hu}var pu,o0;function d3(){if(o0)return pu;o0=1;function e(t){return this.__data__.get(t)}return pu=e,pu}var mu,s0;function h3(){if(s0)return mu;s0=1;function e(t){return this.__data__.has(t)}return mu=e,mu}var gu,a0;function K2(){if(a0)return gu;a0=1;var e=typeof Zo=="object"&&Zo&&Zo.Object===Object&&Zo;return gu=e,gu}var vu,l0;function Vt(){if(l0)return vu;l0=1;var e=K2(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return vu=n,vu}var yu,u0;function ki(){if(u0)return yu;u0=1;var e=Vt(),t=e.Symbol;return yu=t,yu}var xu,c0;function p3(){if(c0)return xu;c0=1;var e=ki(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function o(s){var a=n.call(s,i),l=s[i];try{s[i]=void 0;var u=!0}catch{}var c=r.call(s);return u&&(a?s[i]=l:delete s[i]),c}return xu=o,xu}var _u,f0;function m3(){if(f0)return _u;f0=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return _u=n,_u}var wu,d0;function Pr(){if(d0)return wu;d0=1;var e=ki(),t=p3(),n=m3(),r="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function s(a){return a==null?a===void 0?i:r:o&&o in Object(a)?t(a):n(a)}return wu=s,wu}var bu,h0;function It(){if(h0)return bu;h0=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return bu=e,bu}var Su,p0;function Go(){if(p0)return Su;p0=1;var e=Pr(),t=It(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function s(a){if(!t(a))return!1;var l=e(a);return l==r||l==i||l==n||l==o}return Su=s,Su}var Eu,m0;function g3(){if(m0)return Eu;m0=1;var e=Vt(),t=e["__core-js_shared__"];return Eu=t,Eu}var ku,g0;function v3(){if(g0)return ku;g0=1;var e=g3(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return ku=n,ku}var Nu,v0;function Y2(){if(v0)return Nu;v0=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return Nu=n,Nu}var Cu,y0;function y3(){if(y0)return Cu;y0=1;var e=Go(),t=v3(),n=It(),r=Y2(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,s=Function.prototype,a=Object.prototype,l=s.toString,u=a.hasOwnProperty,c=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(d){if(!n(d)||t(d))return!1;var p=e(d)?c:o;return p.test(r(d))}return Cu=f,Cu}var ju,x0;function x3(){if(x0)return ju;x0=1;function e(t,n){return t==null?void 0:t[n]}return ju=e,ju}var Tu,_0;function Ar(){if(_0)return Tu;_0=1;var e=y3(),t=x3();function n(r,i){var o=t(r,i);return e(o)?o:void 0}return Tu=n,Tu}var Ru,w0;function Eg(){if(w0)return Ru;w0=1;var e=Ar(),t=Vt(),n=e(t,"Map");return Ru=n,Ru}var Iu,b0;function el(){if(b0)return Iu;b0=1;var e=Ar(),t=e(Object,"create");return Iu=t,Iu}var Pu,S0;function _3(){if(S0)return Pu;S0=1;var e=el();function t(){this.__data__=e?e(null):{},this.size=0}return Pu=t,Pu}var Au,E0;function w3(){if(E0)return Au;E0=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return Au=e,Au}var Mu,k0;function b3(){if(k0)return Mu;k0=1;var e=el(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var s=this.__data__;if(e){var a=s[o];return a===t?void 0:a}return r.call(s,o)?s[o]:void 0}return Mu=i,Mu}var qu,N0;function S3(){if(N0)return qu;N0=1;var e=el(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var o=this.__data__;return e?o[i]!==void 0:n.call(o,i)}return qu=r,qu}var Ou,C0;function E3(){if(C0)return Ou;C0=1;var e=el(),t="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=e&&i===void 0?t:i,this}return Ou=n,Ou}var Lu,j0;function k3(){if(j0)return Lu;j0=1;var e=_3(),t=w3(),n=b3(),r=S3(),i=E3();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Lu=o,Lu}var zu,T0;function N3(){if(T0)return zu;T0=1;var e=k3(),t=Ja(),n=Eg();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return zu=r,zu}var Du,R0;function C3(){if(R0)return Du;R0=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return Du=e,Du}var Fu,I0;function tl(){if(I0)return Fu;I0=1;var e=C3();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Fu=t,Fu}var $u,P0;function j3(){if(P0)return $u;P0=1;var e=tl();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return $u=t,$u}var Bu,A0;function T3(){if(A0)return Bu;A0=1;var e=tl();function t(n){return e(this,n).get(n)}return Bu=t,Bu}var Hu,M0;function R3(){if(M0)return Hu;M0=1;var e=tl();function t(n){return e(this,n).has(n)}return Hu=t,Hu}var Vu,q0;function I3(){if(q0)return Vu;q0=1;var e=tl();function t(n,r){var i=e(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return Vu=t,Vu}var Uu,O0;function kg(){if(O0)return Uu;O0=1;var e=N3(),t=j3(),n=T3(),r=R3(),i=I3();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Uu=o,Uu}var Wu,L0;function P3(){if(L0)return Wu;L0=1;var e=Ja(),t=Eg(),n=kg(),r=200;function i(o,s){var a=this.__data__;if(a instanceof e){var l=a.__data__;if(!t||l.length<r-1)return l.push([o,s]),this.size=++a.size,this;a=this.__data__=new n(l)}return a.set(o,s),this.size=a.size,this}return Wu=i,Wu}var Gu,z0;function nl(){if(z0)return Gu;z0=1;var e=Ja(),t=c3(),n=f3(),r=d3(),i=h3(),o=P3();function s(a){var l=this.__data__=new e(a);this.size=l.size}return s.prototype.clear=t,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=o,Gu=s,Gu}var Ku,D0;function Ng(){if(D0)return Ku;D0=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i&&n(t[r],r,t)!==!1;);return t}return Ku=e,Ku}var Yu,F0;function X2(){if(F0)return Yu;F0=1;var e=Ar(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return Yu=t,Yu}var Xu,$0;function rl(){if($0)return Xu;$0=1;var e=X2();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return Xu=t,Xu}var Qu,B0;function il(){if(B0)return Qu;B0=1;var e=rl(),t=Ei(),n=Object.prototype,r=n.hasOwnProperty;function i(o,s,a){var l=o[s];(!(r.call(o,s)&&t(l,a))||a===void 0&&!(s in o))&&e(o,s,a)}return Qu=i,Qu}var Zu,H0;function Ko(){if(H0)return Zu;H0=1;var e=il(),t=rl();function n(r,i,o,s){var a=!o;o||(o={});for(var l=-1,u=i.length;++l<u;){var c=i[l],f=s?s(o[c],r[c],c,o,r):void 0;f===void 0&&(f=r[c]),a?t(o,c,f):e(o,c,f)}return o}return Zu=n,Zu}var Ju,V0;function A3(){if(V0)return Ju;V0=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return Ju=e,Ju}var ec,U0;function on(){if(U0)return ec;U0=1;function e(t){return t!=null&&typeof t=="object"}return ec=e,ec}var tc,W0;function M3(){if(W0)return tc;W0=1;var e=Pr(),t=on(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return tc=r,tc}var nc,G0;function Yo(){if(G0)return nc;G0=1;var e=M3(),t=on(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=e(function(){return arguments}())?e:function(s){return t(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return nc=o,nc}var rc,K0;function Ae(){if(K0)return rc;K0=1;var e=Array.isArray;return rc=e,rc}var Xi={exports:{}},ic,Y0;function q3(){if(Y0)return ic;Y0=1;function e(){return!1}return ic=e,ic}Xi.exports;var X0;function Ni(){return X0||(X0=1,function(e,t){var n=Vt(),r=q3(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;e.exports=u}(Xi,Xi.exports)),Xi.exports}var oc,Q0;function ol(){if(Q0)return oc;Q0=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??e,!!i&&(o=="number"||o!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return oc=n,oc}var sc,Z0;function Cg(){if(Z0)return sc;Z0=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return sc=t,sc}var ac,J0;function O3(){if(J0)return ac;J0=1;var e=Pr(),t=Cg(),n=on(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",s="[object Date]",a="[object Error]",l="[object Function]",u="[object Map]",c="[object Number]",f="[object Object]",d="[object RegExp]",p="[object Set]",y="[object String]",v="[object WeakMap]",w="[object ArrayBuffer]",m="[object DataView]",g="[object Float32Array]",x="[object Float64Array]",_="[object Int8Array]",S="[object Int16Array]",E="[object Int32Array]",N="[object Uint8Array]",j="[object Uint8ClampedArray]",R="[object Uint16Array]",q="[object Uint32Array]",I={};I[g]=I[x]=I[_]=I[S]=I[E]=I[N]=I[j]=I[R]=I[q]=!0,I[r]=I[i]=I[w]=I[o]=I[m]=I[s]=I[a]=I[l]=I[u]=I[c]=I[f]=I[d]=I[p]=I[y]=I[v]=!1;function z(L){return n(L)&&t(L.length)&&!!I[e(L)]}return ac=z,ac}var lc,ex;function sl(){if(ex)return lc;ex=1;function e(t){return function(n){return t(n)}}return lc=e,lc}var Qi={exports:{}};Qi.exports;var tx;function jg(){return tx||(tx=1,function(e,t){var n=K2(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=a}(Qi,Qi.exports)),Qi.exports}var uc,nx;function Xo(){if(nx)return uc;nx=1;var e=O3(),t=sl(),n=jg(),r=n&&n.isTypedArray,i=r?t(r):e;return uc=i,uc}var cc,rx;function Q2(){if(rx)return cc;rx=1;var e=A3(),t=Yo(),n=Ae(),r=Ni(),i=ol(),o=Xo(),s=Object.prototype,a=s.hasOwnProperty;function l(u,c){var f=n(u),d=!f&&t(u),p=!f&&!d&&r(u),y=!f&&!d&&!p&&o(u),v=f||d||p||y,w=v?e(u.length,String):[],m=w.length;for(var g in u)(c||a.call(u,g))&&!(v&&(g=="length"||p&&(g=="offset"||g=="parent")||y&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||i(g,m)))&&w.push(g);return w}return cc=l,cc}var fc,ix;function al(){if(ix)return fc;ix=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return fc=t,fc}var dc,ox;function Z2(){if(ox)return dc;ox=1;function e(t,n){return function(r){return t(n(r))}}return dc=e,dc}var hc,sx;function L3(){if(sx)return hc;sx=1;var e=Z2(),t=e(Object.keys,Object);return hc=t,hc}var pc,ax;function Tg(){if(ax)return pc;ax=1;var e=al(),t=L3(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!e(o))return t(o);var s=[];for(var a in Object(o))r.call(o,a)&&a!="constructor"&&s.push(a);return s}return pc=i,pc}var mc,lx;function Cn(){if(lx)return mc;lx=1;var e=Go(),t=Cg();function n(r){return r!=null&&t(r.length)&&!e(r)}return mc=n,mc}var gc,ux;function ar(){if(ux)return gc;ux=1;var e=Q2(),t=Tg(),n=Cn();function r(i){return n(i)?e(i):t(i)}return gc=r,gc}var vc,cx;function z3(){if(cx)return vc;cx=1;var e=Ko(),t=ar();function n(r,i){return r&&e(i,t(i),r)}return vc=n,vc}var yc,fx;function D3(){if(fx)return yc;fx=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return yc=e,yc}var xc,dx;function F3(){if(dx)return xc;dx=1;var e=It(),t=al(),n=D3(),r=Object.prototype,i=r.hasOwnProperty;function o(s){if(!e(s))return n(s);var a=t(s),l=[];for(var u in s)u=="constructor"&&(a||!i.call(s,u))||l.push(u);return l}return xc=o,xc}var _c,hx;function Mr(){if(hx)return _c;hx=1;var e=Q2(),t=F3(),n=Cn();function r(i){return n(i)?e(i,!0):t(i)}return _c=r,_c}var wc,px;function $3(){if(px)return wc;px=1;var e=Ko(),t=Mr();function n(r,i){return r&&e(i,t(i),r)}return wc=n,wc}var Zi={exports:{}};Zi.exports;var mx;function J2(){return mx||(mx=1,function(e,t){var n=Vt(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var f=u.length,d=a?a(f):new u.constructor(f);return u.copy(d),d}e.exports=l}(Zi,Zi.exports)),Zi.exports}var bc,gx;function ek(){if(gx)return bc;gx=1;function e(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}return bc=e,bc}var Sc,vx;function tk(){if(vx)return Sc;vx=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=0,s=[];++r<i;){var a=t[r];n(a,r,t)&&(s[o++]=a)}return s}return Sc=e,Sc}var Ec,yx;function nk(){if(yx)return Ec;yx=1;function e(){return[]}return Ec=e,Ec}var kc,xx;function Rg(){if(xx)return kc;xx=1;var e=tk(),t=nk(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(s){return s==null?[]:(s=Object(s),e(i(s),function(a){return r.call(s,a)}))}:t;return kc=o,kc}var Nc,_x;function B3(){if(_x)return Nc;_x=1;var e=Ko(),t=Rg();function n(r,i){return e(r,t(r),i)}return Nc=n,Nc}var Cc,wx;function Ig(){if(wx)return Cc;wx=1;function e(t,n){for(var r=-1,i=n.length,o=t.length;++r<i;)t[o+r]=n[r];return t}return Cc=e,Cc}var jc,bx;function ll(){if(bx)return jc;bx=1;var e=Z2(),t=e(Object.getPrototypeOf,Object);return jc=t,jc}var Tc,Sx;function rk(){if(Sx)return Tc;Sx=1;var e=Ig(),t=ll(),n=Rg(),r=nk(),i=Object.getOwnPropertySymbols,o=i?function(s){for(var a=[];s;)e(a,n(s)),s=t(s);return a}:r;return Tc=o,Tc}var Rc,Ex;function H3(){if(Ex)return Rc;Ex=1;var e=Ko(),t=rk();function n(r,i){return e(r,t(r),i)}return Rc=n,Rc}var Ic,kx;function ik(){if(kx)return Ic;kx=1;var e=Ig(),t=Ae();function n(r,i,o){var s=i(r);return t(r)?s:e(s,o(r))}return Ic=n,Ic}var Pc,Nx;function ok(){if(Nx)return Pc;Nx=1;var e=ik(),t=Rg(),n=ar();function r(i){return e(i,n,t)}return Pc=r,Pc}var Ac,Cx;function V3(){if(Cx)return Ac;Cx=1;var e=ik(),t=rk(),n=Mr();function r(i){return e(i,n,t)}return Ac=r,Ac}var Mc,jx;function U3(){if(jx)return Mc;jx=1;var e=Ar(),t=Vt(),n=e(t,"DataView");return Mc=n,Mc}var qc,Tx;function W3(){if(Tx)return qc;Tx=1;var e=Ar(),t=Vt(),n=e(t,"Promise");return qc=n,qc}var Oc,Rx;function sk(){if(Rx)return Oc;Rx=1;var e=Ar(),t=Vt(),n=e(t,"Set");return Oc=n,Oc}var Lc,Ix;function G3(){if(Ix)return Lc;Ix=1;var e=Ar(),t=Vt(),n=e(t,"WeakMap");return Lc=n,Lc}var zc,Px;function Ci(){if(Px)return zc;Px=1;var e=U3(),t=Eg(),n=W3(),r=sk(),i=G3(),o=Pr(),s=Y2(),a="[object Map]",l="[object Object]",u="[object Promise]",c="[object Set]",f="[object WeakMap]",d="[object DataView]",p=s(e),y=s(t),v=s(n),w=s(r),m=s(i),g=o;return(e&&g(new e(new ArrayBuffer(1)))!=d||t&&g(new t)!=a||n&&g(n.resolve())!=u||r&&g(new r)!=c||i&&g(new i)!=f)&&(g=function(x){var _=o(x),S=_==l?x.constructor:void 0,E=S?s(S):"";if(E)switch(E){case p:return d;case y:return a;case v:return u;case w:return c;case m:return f}return _}),zc=g,zc}var Dc,Ax;function K3(){if(Ax)return Dc;Ax=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var i=r.length,o=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(o.index=r.index,o.input=r.input),o}return Dc=n,Dc}var Fc,Mx;function ak(){if(Mx)return Fc;Mx=1;var e=Vt(),t=e.Uint8Array;return Fc=t,Fc}var $c,qx;function Pg(){if(qx)return $c;qx=1;var e=ak();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return $c=t,$c}var Bc,Ox;function Y3(){if(Ox)return Bc;Ox=1;var e=Pg();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return Bc=t,Bc}var Hc,Lx;function X3(){if(Lx)return Hc;Lx=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return Hc=t,Hc}var Vc,zx;function Q3(){if(zx)return Vc;zx=1;var e=ki(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return Vc=r,Vc}var Uc,Dx;function lk(){if(Dx)return Uc;Dx=1;var e=Pg();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return Uc=t,Uc}var Wc,Fx;function Z3(){if(Fx)return Wc;Fx=1;var e=Pg(),t=Y3(),n=X3(),r=Q3(),i=lk(),o="[object Boolean]",s="[object Date]",a="[object Map]",l="[object Number]",u="[object RegExp]",c="[object Set]",f="[object String]",d="[object Symbol]",p="[object ArrayBuffer]",y="[object DataView]",v="[object Float32Array]",w="[object Float64Array]",m="[object Int8Array]",g="[object Int16Array]",x="[object Int32Array]",_="[object Uint8Array]",S="[object Uint8ClampedArray]",E="[object Uint16Array]",N="[object Uint32Array]";function j(R,q,I){var z=R.constructor;switch(q){case p:return e(R);case o:case s:return new z(+R);case y:return t(R,I);case v:case w:case m:case g:case x:case _:case S:case E:case N:return i(R,I);case a:return new z;case l:case f:return new z(R);case u:return n(R);case c:return new z;case d:return r(R)}}return Wc=j,Wc}var Gc,$x;function uk(){if($x)return Gc;$x=1;var e=It(),t=Object.create,n=function(){function r(){}return function(i){if(!e(i))return{};if(t)return t(i);r.prototype=i;var o=new r;return r.prototype=void 0,o}}();return Gc=n,Gc}var Kc,Bx;function ck(){if(Bx)return Kc;Bx=1;var e=uk(),t=ll(),n=al();function r(i){return typeof i.constructor=="function"&&!n(i)?e(t(i)):{}}return Kc=r,Kc}var Yc,Hx;function J3(){if(Hx)return Yc;Hx=1;var e=Ci(),t=on(),n="[object Map]";function r(i){return t(i)&&e(i)==n}return Yc=r,Yc}var Xc,Vx;function eq(){if(Vx)return Xc;Vx=1;var e=J3(),t=sl(),n=jg(),r=n&&n.isMap,i=r?t(r):e;return Xc=i,Xc}var Qc,Ux;function tq(){if(Ux)return Qc;Ux=1;var e=Ci(),t=on(),n="[object Set]";function r(i){return t(i)&&e(i)==n}return Qc=r,Qc}var Zc,Wx;function nq(){if(Wx)return Zc;Wx=1;var e=tq(),t=sl(),n=jg(),r=n&&n.isSet,i=r?t(r):e;return Zc=i,Zc}var Jc,Gx;function fk(){if(Gx)return Jc;Gx=1;var e=nl(),t=Ng(),n=il(),r=z3(),i=$3(),o=J2(),s=ek(),a=B3(),l=H3(),u=ok(),c=V3(),f=Ci(),d=K3(),p=Z3(),y=ck(),v=Ae(),w=Ni(),m=eq(),g=It(),x=nq(),_=ar(),S=Mr(),E=1,N=2,j=4,R="[object Arguments]",q="[object Array]",I="[object Boolean]",z="[object Date]",L="[object Error]",b="[object Function]",A="[object GeneratorFunction]",T="[object Map]",F="[object Number]",P="[object Object]",C="[object RegExp]",O="[object Set]",M="[object String]",D="[object Symbol]",B="[object WeakMap]",V="[object ArrayBuffer]",K="[object DataView]",Q="[object Float32Array]",Z="[object Float64Array]",ae="[object Int8Array]",re="[object Int16Array]",ie="[object Int32Array]",je="[object Uint8Array]",ve="[object Uint8ClampedArray]",Me="[object Uint16Array]",Ie="[object Uint32Array]",U={};U[R]=U[q]=U[V]=U[K]=U[I]=U[z]=U[Q]=U[Z]=U[ae]=U[re]=U[ie]=U[T]=U[F]=U[P]=U[C]=U[O]=U[M]=U[D]=U[je]=U[ve]=U[Me]=U[Ie]=!0,U[L]=U[b]=U[B]=!1;function oe(W,G,se,Te,le,de){var he,ye=G&E,Be=G&N,bt=G&j;if(se&&(he=le?se(W,Te,le,de):se(W)),he!==void 0)return he;if(!g(W))return W;var Wt=v(W);if(Wt){if(he=d(W),!ye)return s(W,he)}else{var ht=f(W),sn=ht==b||ht==A;if(w(W))return o(W,ye);if(ht==P||ht==R||sn&&!le){if(he=Be||sn?{}:y(W),!ye)return Be?l(W,i(he,W)):a(W,r(he,W))}else{if(!U[ht])return le?W:{};he=p(W,ht,ye)}}de||(de=new e);var Tn=de.get(W);if(Tn)return Tn;de.set(W,he),x(W)?W.forEach(function(We){he.add(oe(We,G,se,We,W,de))}):m(W)&&W.forEach(function(We,Ze){he.set(Ze,oe(We,G,se,Ze,W,de))});var Le=bt?Be?c:u:Be?S:_,it=Wt?void 0:Le(W);return t(it||W,function(We,Ze){it&&(Ze=We,We=W[Ze]),n(he,Ze,oe(We,G,se,Ze,W,de))}),he}return Jc=oe,Jc}var ef,Kx;function rq(){if(Kx)return ef;Kx=1;var e=fk(),t=4;function n(r){return e(r,t)}return ef=n,ef}var tf,Yx;function Ag(){if(Yx)return tf;Yx=1;function e(t){return function(){return t}}return tf=e,tf}var nf,Xx;function iq(){if(Xx)return nf;Xx=1;function e(t){return function(n,r,i){for(var o=-1,s=Object(n),a=i(n),l=a.length;l--;){var u=a[t?l:++o];if(r(s[u],u,s)===!1)break}return n}}return nf=e,nf}var rf,Qx;function Mg(){if(Qx)return rf;Qx=1;var e=iq(),t=e();return rf=t,rf}var of,Zx;function qg(){if(Zx)return of;Zx=1;var e=Mg(),t=ar();function n(r,i){return r&&e(r,i,t)}return of=n,of}var sf,Jx;function oq(){if(Jx)return sf;Jx=1;var e=Cn();function t(n,r){return function(i,o){if(i==null)return i;if(!e(i))return n(i,o);for(var s=i.length,a=r?s:-1,l=Object(i);(r?a--:++a<s)&&o(l[a],a,l)!==!1;);return i}}return sf=t,sf}var af,e1;function ul(){if(e1)return af;e1=1;var e=qg(),t=oq(),n=t(e);return af=n,af}var lf,t1;function qr(){if(t1)return lf;t1=1;function e(t){return t}return lf=e,lf}var uf,n1;function dk(){if(n1)return uf;n1=1;var e=qr();function t(n){return typeof n=="function"?n:e}return uf=t,uf}var cf,r1;function hk(){if(r1)return cf;r1=1;var e=Ng(),t=ul(),n=dk(),r=Ae();function i(o,s){var a=r(o)?e:t;return a(o,n(s))}return cf=i,cf}var ff,i1;function pk(){return i1||(i1=1,ff=hk()),ff}var df,o1;function sq(){if(o1)return df;o1=1;var e=ul();function t(n,r){var i=[];return e(n,function(o,s,a){r(o,s,a)&&i.push(o)}),i}return df=t,df}var hf,s1;function aq(){if(s1)return hf;s1=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return hf=t,hf}var pf,a1;function lq(){if(a1)return pf;a1=1;function e(t){return this.__data__.has(t)}return pf=e,pf}var mf,l1;function mk(){if(l1)return mf;l1=1;var e=kg(),t=aq(),n=lq();function r(i){var o=-1,s=i==null?0:i.length;for(this.__data__=new e;++o<s;)this.add(i[o])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,mf=r,mf}var gf,u1;function uq(){if(u1)return gf;u1=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return gf=e,gf}var vf,c1;function gk(){if(c1)return vf;c1=1;function e(t,n){return t.has(n)}return vf=e,vf}var yf,f1;function vk(){if(f1)return yf;f1=1;var e=mk(),t=uq(),n=gk(),r=1,i=2;function o(s,a,l,u,c,f){var d=l&r,p=s.length,y=a.length;if(p!=y&&!(d&&y>p))return!1;var v=f.get(s),w=f.get(a);if(v&&w)return v==a&&w==s;var m=-1,g=!0,x=l&i?new e:void 0;for(f.set(s,a),f.set(a,s);++m<p;){var _=s[m],S=a[m];if(u)var E=d?u(S,_,m,a,s,f):u(_,S,m,s,a,f);if(E!==void 0){if(E)continue;g=!1;break}if(x){if(!t(a,function(N,j){if(!n(x,j)&&(_===N||c(_,N,l,u,f)))return x.push(j)})){g=!1;break}}else if(!(_===S||c(_,S,l,u,f))){g=!1;break}}return f.delete(s),f.delete(a),g}return yf=o,yf}var xf,d1;function cq(){if(d1)return xf;d1=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,o){r[++n]=[o,i]}),r}return xf=e,xf}var _f,h1;function Og(){if(h1)return _f;h1=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return _f=e,_f}var wf,p1;function fq(){if(p1)return wf;p1=1;var e=ki(),t=ak(),n=Ei(),r=vk(),i=cq(),o=Og(),s=1,a=2,l="[object Boolean]",u="[object Date]",c="[object Error]",f="[object Map]",d="[object Number]",p="[object RegExp]",y="[object Set]",v="[object String]",w="[object Symbol]",m="[object ArrayBuffer]",g="[object DataView]",x=e?e.prototype:void 0,_=x?x.valueOf:void 0;function S(E,N,j,R,q,I,z){switch(j){case g:if(E.byteLength!=N.byteLength||E.byteOffset!=N.byteOffset)return!1;E=E.buffer,N=N.buffer;case m:return!(E.byteLength!=N.byteLength||!I(new t(E),new t(N)));case l:case u:case d:return n(+E,+N);case c:return E.name==N.name&&E.message==N.message;case p:case v:return E==N+"";case f:var L=i;case y:var b=R&s;if(L||(L=o),E.size!=N.size&&!b)return!1;var A=z.get(E);if(A)return A==N;R|=a,z.set(E,N);var T=r(L(E),L(N),R,q,I,z);return z.delete(E),T;case w:if(_)return _.call(E)==_.call(N)}return!1}return wf=S,wf}var bf,m1;function dq(){if(m1)return bf;m1=1;var e=ok(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,s,a,l,u,c){var f=a&t,d=e(o),p=d.length,y=e(s),v=y.length;if(p!=v&&!f)return!1;for(var w=p;w--;){var m=d[w];if(!(f?m in s:r.call(s,m)))return!1}var g=c.get(o),x=c.get(s);if(g&&x)return g==s&&x==o;var _=!0;c.set(o,s),c.set(s,o);for(var S=f;++w<p;){m=d[w];var E=o[m],N=s[m];if(l)var j=f?l(N,E,m,s,o,c):l(E,N,m,o,s,c);if(!(j===void 0?E===N||u(E,N,a,l,c):j)){_=!1;break}S||(S=m=="constructor")}if(_&&!S){var R=o.constructor,q=s.constructor;R!=q&&"constructor"in o&&"constructor"in s&&!(typeof R=="function"&&R instanceof R&&typeof q=="function"&&q instanceof q)&&(_=!1)}return c.delete(o),c.delete(s),_}return bf=i,bf}var Sf,g1;function hq(){if(g1)return Sf;g1=1;var e=nl(),t=vk(),n=fq(),r=dq(),i=Ci(),o=Ae(),s=Ni(),a=Xo(),l=1,u="[object Arguments]",c="[object Array]",f="[object Object]",d=Object.prototype,p=d.hasOwnProperty;function y(v,w,m,g,x,_){var S=o(v),E=o(w),N=S?c:i(v),j=E?c:i(w);N=N==u?f:N,j=j==u?f:j;var R=N==f,q=j==f,I=N==j;if(I&&s(v)){if(!s(w))return!1;S=!0,R=!1}if(I&&!R)return _||(_=new e),S||a(v)?t(v,w,m,g,x,_):n(v,w,N,m,g,x,_);if(!(m&l)){var z=R&&p.call(v,"__wrapped__"),L=q&&p.call(w,"__wrapped__");if(z||L){var b=z?v.value():v,A=L?w.value():w;return _||(_=new e),x(b,A,m,g,_)}}return I?(_||(_=new e),r(v,w,m,g,x,_)):!1}return Sf=y,Sf}var Ef,v1;function yk(){if(v1)return Ef;v1=1;var e=hq(),t=on();function n(r,i,o,s,a){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,o,s,n,a)}return Ef=n,Ef}var kf,y1;function pq(){if(y1)return kf;y1=1;var e=nl(),t=yk(),n=1,r=2;function i(o,s,a,l){var u=a.length,c=u,f=!l;if(o==null)return!c;for(o=Object(o);u--;){var d=a[u];if(f&&d[2]?d[1]!==o[d[0]]:!(d[0]in o))return!1}for(;++u<c;){d=a[u];var p=d[0],y=o[p],v=d[1];if(f&&d[2]){if(y===void 0&&!(p in o))return!1}else{var w=new e;if(l)var m=l(y,v,p,o,s,w);if(!(m===void 0?t(v,y,n|r,l,w):m))return!1}}return!0}return kf=i,kf}var Nf,x1;function xk(){if(x1)return Nf;x1=1;var e=It();function t(n){return n===n&&!e(n)}return Nf=t,Nf}var Cf,_1;function mq(){if(_1)return Cf;_1=1;var e=xk(),t=ar();function n(r){for(var i=t(r),o=i.length;o--;){var s=i[o],a=r[s];i[o]=[s,a,e(a)]}return i}return Cf=n,Cf}var jf,w1;function _k(){if(w1)return jf;w1=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return jf=e,jf}var Tf,b1;function gq(){if(b1)return Tf;b1=1;var e=pq(),t=mq(),n=_k();function r(i){var o=t(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(s){return s===i||e(s,i,o)}}return Tf=r,Tf}var Rf,S1;function ji(){if(S1)return Rf;S1=1;var e=Pr(),t=on(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return Rf=r,Rf}var If,E1;function Lg(){if(E1)return If;E1=1;var e=Ae(),t=ji(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){if(e(o))return!1;var a=typeof o;return a=="number"||a=="symbol"||a=="boolean"||o==null||t(o)?!0:r.test(o)||!n.test(o)||s!=null&&o in Object(s)}return If=i,If}var Pf,k1;function vq(){if(k1)return Pf;k1=1;var e=kg(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var o=function(){var s=arguments,a=i?i.apply(this,s):s[0],l=o.cache;if(l.has(a))return l.get(a);var u=r.apply(this,s);return o.cache=l.set(a,u)||l,u};return o.cache=new(n.Cache||e),o}return n.Cache=e,Pf=n,Pf}var Af,N1;function yq(){if(N1)return Af;N1=1;var e=vq(),t=500;function n(r){var i=e(r,function(s){return o.size===t&&o.clear(),s}),o=i.cache;return i}return Af=n,Af}var Mf,C1;function xq(){if(C1)return Mf;C1=1;var e=yq(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(t,function(s,a,l,u){o.push(l?u.replace(n,"$1"):a||s)}),o});return Mf=r,Mf}var qf,j1;function cl(){if(j1)return qf;j1=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=Array(i);++r<i;)o[r]=n(t[r],r,t);return o}return qf=e,qf}var Of,T1;function _q(){if(T1)return Of;T1=1;var e=ki(),t=cl(),n=Ae(),r=ji(),i=e?e.prototype:void 0,o=i?i.toString:void 0;function s(a){if(typeof a=="string")return a;if(n(a))return t(a,s)+"";if(r(a))return o?o.call(a):"";var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}return Of=s,Of}var Lf,R1;function wk(){if(R1)return Lf;R1=1;var e=_q();function t(n){return n==null?"":e(n)}return Lf=t,Lf}var zf,I1;function fl(){if(I1)return zf;I1=1;var e=Ae(),t=Lg(),n=xq(),r=wk();function i(o,s){return e(o)?o:t(o,s)?[o]:n(r(o))}return zf=i,zf}var Df,P1;function Qo(){if(P1)return Df;P1=1;var e=ji();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Df=t,Df}var Ff,A1;function dl(){if(A1)return Ff;A1=1;var e=fl(),t=Qo();function n(r,i){i=e(i,r);for(var o=0,s=i.length;r!=null&&o<s;)r=r[t(i[o++])];return o&&o==s?r:void 0}return Ff=n,Ff}var $f,M1;function wq(){if(M1)return $f;M1=1;var e=dl();function t(n,r,i){var o=n==null?void 0:e(n,r);return o===void 0?i:o}return $f=t,$f}var Bf,q1;function bq(){if(q1)return Bf;q1=1;function e(t,n){return t!=null&&n in Object(t)}return Bf=e,Bf}var Hf,O1;function bk(){if(O1)return Hf;O1=1;var e=fl(),t=Yo(),n=Ae(),r=ol(),i=Cg(),o=Qo();function s(a,l,u){l=e(l,a);for(var c=-1,f=l.length,d=!1;++c<f;){var p=o(l[c]);if(!(d=a!=null&&u(a,p)))break;a=a[p]}return d||++c!=f?d:(f=a==null?0:a.length,!!f&&i(f)&&r(p,f)&&(n(a)||t(a)))}return Hf=s,Hf}var Vf,L1;function Sk(){if(L1)return Vf;L1=1;var e=bq(),t=bk();function n(r,i){return r!=null&&t(r,i,e)}return Vf=n,Vf}var Uf,z1;function Sq(){if(z1)return Uf;z1=1;var e=yk(),t=wq(),n=Sk(),r=Lg(),i=xk(),o=_k(),s=Qo(),a=1,l=2;function u(c,f){return r(c)&&i(f)?o(s(c),f):function(d){var p=t(d,c);return p===void 0&&p===f?n(d,c):e(f,p,a|l)}}return Uf=u,Uf}var Wf,D1;function Ek(){if(D1)return Wf;D1=1;function e(t){return function(n){return n==null?void 0:n[t]}}return Wf=e,Wf}var Gf,F1;function Eq(){if(F1)return Gf;F1=1;var e=dl();function t(n){return function(r){return e(r,n)}}return Gf=t,Gf}var Kf,$1;function kq(){if($1)return Kf;$1=1;var e=Ek(),t=Eq(),n=Lg(),r=Qo();function i(o){return n(o)?e(r(o)):t(o)}return Kf=i,Kf}var Yf,B1;function jn(){if(B1)return Yf;B1=1;var e=gq(),t=Sq(),n=qr(),r=Ae(),i=kq();function o(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?t(s[0],s[1]):e(s):i(s)}return Yf=o,Yf}var Xf,H1;function kk(){if(H1)return Xf;H1=1;var e=tk(),t=sq(),n=jn(),r=Ae();function i(o,s){var a=r(o)?e:t;return a(o,n(s,3))}return Xf=i,Xf}var Qf,V1;function Nq(){if(V1)return Qf;V1=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,i){return r!=null&&t.call(r,i)}return Qf=n,Qf}var Zf,U1;function Nk(){if(U1)return Zf;U1=1;var e=Nq(),t=bk();function n(r,i){return r!=null&&t(r,i,e)}return Zf=n,Zf}var Jf,W1;function Cq(){if(W1)return Jf;W1=1;var e=Tg(),t=Ci(),n=Yo(),r=Ae(),i=Cn(),o=Ni(),s=al(),a=Xo(),l="[object Map]",u="[object Set]",c=Object.prototype,f=c.hasOwnProperty;function d(p){if(p==null)return!0;if(i(p)&&(r(p)||typeof p=="string"||typeof p.splice=="function"||o(p)||a(p)||n(p)))return!p.length;var y=t(p);if(y==l||y==u)return!p.size;if(s(p))return!e(p).length;for(var v in p)if(f.call(p,v))return!1;return!0}return Jf=d,Jf}var ed,G1;function Ck(){if(G1)return ed;G1=1;function e(t){return t===void 0}return ed=e,ed}var td,K1;function jk(){if(K1)return td;K1=1;var e=ul(),t=Cn();function n(r,i){var o=-1,s=t(r)?Array(r.length):[];return e(r,function(a,l,u){s[++o]=i(a,l,u)}),s}return td=n,td}var nd,Y1;function Tk(){if(Y1)return nd;Y1=1;var e=cl(),t=jn(),n=jk(),r=Ae();function i(o,s){var a=r(o)?e:n;return a(o,t(s,3))}return nd=i,nd}var rd,X1;function jq(){if(X1)return rd;X1=1;function e(t,n,r,i){var o=-1,s=t==null?0:t.length;for(i&&s&&(r=t[++o]);++o<s;)r=n(r,t[o],o,t);return r}return rd=e,rd}var id,Q1;function Tq(){if(Q1)return id;Q1=1;function e(t,n,r,i,o){return o(t,function(s,a,l){r=i?(i=!1,s):n(r,s,a,l)}),r}return id=e,id}var od,Z1;function Rk(){if(Z1)return od;Z1=1;var e=jq(),t=ul(),n=jn(),r=Tq(),i=Ae();function o(s,a,l){var u=i(s)?e:r,c=arguments.length<3;return u(s,n(a,4),l,c,t)}return od=o,od}var sd,J1;function Rq(){if(J1)return sd;J1=1;var e=Pr(),t=Ae(),n=on(),r="[object String]";function i(o){return typeof o=="string"||!t(o)&&n(o)&&e(o)==r}return sd=i,sd}var ad,e_;function Iq(){if(e_)return ad;e_=1;var e=Ek(),t=e("length");return ad=t,ad}var ld,t_;function Pq(){if(t_)return ld;t_=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",s="\\u200d",a=RegExp("["+s+e+i+o+"]");function l(u){return a.test(u)}return ld=l,ld}var ud,n_;function Aq(){if(n_)return ud;n_=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",s="["+e+"]",a="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+a+"|"+l+")",c="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",d="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",y=u+"?",v="["+o+"]?",w="(?:"+p+"(?:"+[c,f,d].join("|")+")"+v+y+")*",m=v+y+w,g="(?:"+[c+a+"?",a,f,d,s].join("|")+")",x=RegExp(l+"(?="+l+")|"+g+m,"g");function _(S){for(var E=x.lastIndex=0;x.test(S);)++E;return E}return ud=_,ud}var cd,r_;function Mq(){if(r_)return cd;r_=1;var e=Iq(),t=Pq(),n=Aq();function r(i){return t(i)?n(i):e(i)}return cd=r,cd}var fd,i_;function qq(){if(i_)return fd;i_=1;var e=Tg(),t=Ci(),n=Cn(),r=Rq(),i=Mq(),o="[object Map]",s="[object Set]";function a(l){if(l==null)return 0;if(n(l))return r(l)?i(l):l.length;var u=t(l);return u==o||u==s?l.size:e(l).length}return fd=a,fd}var dd,o_;function Oq(){if(o_)return dd;o_=1;var e=Ng(),t=uk(),n=qg(),r=jn(),i=ll(),o=Ae(),s=Ni(),a=Go(),l=It(),u=Xo();function c(f,d,p){var y=o(f),v=y||s(f)||u(f);if(d=r(d,4),p==null){var w=f&&f.constructor;v?p=y?new w:[]:l(f)?p=a(w)?t(i(f)):{}:p={}}return(v?e:n)(f,function(m,g,x){return d(p,m,g,x)}),p}return dd=c,dd}var hd,s_;function Lq(){if(s_)return hd;s_=1;var e=ki(),t=Yo(),n=Ae(),r=e?e.isConcatSpreadable:void 0;function i(o){return n(o)||t(o)||!!(r&&o&&o[r])}return hd=i,hd}var pd,a_;function zg(){if(a_)return pd;a_=1;var e=Ig(),t=Lq();function n(r,i,o,s,a){var l=-1,u=r.length;for(o||(o=t),a||(a=[]);++l<u;){var c=r[l];i>0&&o(c)?i>1?n(c,i-1,o,s,a):e(a,c):s||(a[a.length]=c)}return a}return pd=n,pd}var md,l_;function zq(){if(l_)return md;l_=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return md=e,md}var gd,u_;function Ik(){if(u_)return gd;u_=1;var e=zq(),t=Math.max;function n(r,i,o){return i=t(i===void 0?r.length-1:i,0),function(){for(var s=arguments,a=-1,l=t(s.length-i,0),u=Array(l);++a<l;)u[a]=s[i+a];a=-1;for(var c=Array(i+1);++a<i;)c[a]=s[a];return c[i]=o(u),e(r,this,c)}}return gd=n,gd}var vd,c_;function Dq(){if(c_)return vd;c_=1;var e=Ag(),t=X2(),n=qr(),r=t?function(i,o){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:n;return vd=r,vd}var yd,f_;function Fq(){if(f_)return yd;f_=1;var e=800,t=16,n=Date.now;function r(i){var o=0,s=0;return function(){var a=n(),l=t-(a-s);if(s=a,l>0){if(++o>=e)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return yd=r,yd}var xd,d_;function Pk(){if(d_)return xd;d_=1;var e=Dq(),t=Fq(),n=t(e);return xd=n,xd}var _d,h_;function hl(){if(h_)return _d;h_=1;var e=qr(),t=Ik(),n=Pk();function r(i,o){return n(t(i,o,e),i+"")}return _d=r,_d}var wd,p_;function Ak(){if(p_)return wd;p_=1;function e(t,n,r,i){for(var o=t.length,s=r+(i?1:-1);i?s--:++s<o;)if(n(t[s],s,t))return s;return-1}return wd=e,wd}var bd,m_;function $q(){if(m_)return bd;m_=1;function e(t){return t!==t}return bd=e,bd}var Sd,g_;function Bq(){if(g_)return Sd;g_=1;function e(t,n,r){for(var i=r-1,o=t.length;++i<o;)if(t[i]===n)return i;return-1}return Sd=e,Sd}var Ed,v_;function Hq(){if(v_)return Ed;v_=1;var e=Ak(),t=$q(),n=Bq();function r(i,o,s){return o===o?n(i,o,s):e(i,t,s)}return Ed=r,Ed}var kd,y_;function Vq(){if(y_)return kd;y_=1;var e=Hq();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return kd=t,kd}var Nd,x_;function Uq(){if(x_)return Nd;x_=1;function e(t,n,r){for(var i=-1,o=t==null?0:t.length;++i<o;)if(r(n,t[i]))return!0;return!1}return Nd=e,Nd}var Cd,__;function Wq(){if(__)return Cd;__=1;function e(){}return Cd=e,Cd}var jd,w_;function Gq(){if(w_)return jd;w_=1;var e=sk(),t=Wq(),n=Og(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(o){return new e(o)}:t;return jd=i,jd}var Td,b_;function Kq(){if(b_)return Td;b_=1;var e=mk(),t=Vq(),n=Uq(),r=gk(),i=Gq(),o=Og(),s=200;function a(l,u,c){var f=-1,d=t,p=l.length,y=!0,v=[],w=v;if(c)y=!1,d=n;else if(p>=s){var m=u?null:i(l);if(m)return o(m);y=!1,d=r,w=new e}else w=u?[]:v;e:for(;++f<p;){var g=l[f],x=u?u(g):g;if(g=c||g!==0?g:0,y&&x===x){for(var _=w.length;_--;)if(w[_]===x)continue e;u&&w.push(x),v.push(g)}else d(w,x,c)||(w!==v&&w.push(x),v.push(g))}return v}return Td=a,Td}var Rd,S_;function Mk(){if(S_)return Rd;S_=1;var e=Cn(),t=on();function n(r){return t(r)&&e(r)}return Rd=n,Rd}var Id,E_;function Yq(){if(E_)return Id;E_=1;var e=zg(),t=hl(),n=Kq(),r=Mk(),i=t(function(o){return n(e(o,1,r,!0))});return Id=i,Id}var Pd,k_;function Xq(){if(k_)return Pd;k_=1;var e=cl();function t(n,r){return e(r,function(i){return n[i]})}return Pd=t,Pd}var Ad,N_;function qk(){if(N_)return Ad;N_=1;var e=Xq(),t=ar();function n(r){return r==null?[]:e(r,t(r))}return Ad=n,Ad}var Md,C_;function Pt(){if(C_)return Md;C_=1;var e;if(typeof Sg=="function")try{e={clone:rq(),constant:Ag(),each:pk(),filter:kk(),has:Nk(),isArray:Ae(),isEmpty:Cq(),isFunction:Go(),isUndefined:Ck(),keys:ar(),map:Tk(),reduce:Rk(),size:qq(),transform:Oq(),union:Yq(),values:qk()}}catch{}return e||(e=window._),Md=e,Md}var qd,j_;function Dg(){if(j_)return qd;j_=1;var e=Pt();qd=i;var t="\0",n="\0",r="";function i(c){this._isDirected=e.has(c,"directed")?c.directed:!0,this._isMultigraph=e.has(c,"multigraph")?c.multigraph:!1,this._isCompound=e.has(c,"compound")?c.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(c){return this._label=c,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultNodeLabelFn=c,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return e.keys(this._nodes)},i.prototype.sources=function(){var c=this;return e.filter(this.nodes(),function(f){return e.isEmpty(c._in[f])})},i.prototype.sinks=function(){var c=this;return e.filter(this.nodes(),function(f){return e.isEmpty(c._out[f])})},i.prototype.setNodes=function(c,f){var d=arguments,p=this;return e.each(c,function(y){d.length>1?p.setNode(y,f):p.setNode(y)}),this},i.prototype.setNode=function(c,f){return e.has(this._nodes,c)?(arguments.length>1&&(this._nodes[c]=f),this):(this._nodes[c]=arguments.length>1?f:this._defaultNodeLabelFn(c),this._isCompound&&(this._parent[c]=n,this._children[c]={},this._children[n][c]=!0),this._in[c]={},this._preds[c]={},this._out[c]={},this._sucs[c]={},++this._nodeCount,this)},i.prototype.node=function(c){return this._nodes[c]},i.prototype.hasNode=function(c){return e.has(this._nodes,c)},i.prototype.removeNode=function(c){var f=this;if(e.has(this._nodes,c)){var d=function(p){f.removeEdge(f._edgeObjs[p])};delete this._nodes[c],this._isCompound&&(this._removeFromParentsChildList(c),delete this._parent[c],e.each(this.children(c),function(p){f.setParent(p)}),delete this._children[c]),e.each(e.keys(this._in[c]),d),delete this._in[c],delete this._preds[c],e.each(e.keys(this._out[c]),d),delete this._out[c],delete this._sucs[c],--this._nodeCount}return this},i.prototype.setParent=function(c,f){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(f))f=n;else{f+="";for(var d=f;!e.isUndefined(d);d=this.parent(d))if(d===c)throw new Error("Setting "+f+" as parent of "+c+" would create a cycle");this.setNode(f)}return this.setNode(c),this._removeFromParentsChildList(c),this._parent[c]=f,this._children[f][c]=!0,this},i.prototype._removeFromParentsChildList=function(c){delete this._children[this._parent[c]][c]},i.prototype.parent=function(c){if(this._isCompound){var f=this._parent[c];if(f!==n)return f}},i.prototype.children=function(c){if(e.isUndefined(c)&&(c=n),this._isCompound){var f=this._children[c];if(f)return e.keys(f)}else{if(c===n)return this.nodes();if(this.hasNode(c))return[]}},i.prototype.predecessors=function(c){var f=this._preds[c];if(f)return e.keys(f)},i.prototype.successors=function(c){var f=this._sucs[c];if(f)return e.keys(f)},i.prototype.neighbors=function(c){var f=this.predecessors(c);if(f)return e.union(f,this.successors(c))},i.prototype.isLeaf=function(c){var f;return this.isDirected()?f=this.successors(c):f=this.neighbors(c),f.length===0},i.prototype.filterNodes=function(c){var f=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});f.setGraph(this.graph());var d=this;e.each(this._nodes,function(v,w){c(w)&&f.setNode(w,v)}),e.each(this._edgeObjs,function(v){f.hasNode(v.v)&&f.hasNode(v.w)&&f.setEdge(v,d.edge(v))});var p={};function y(v){var w=d.parent(v);return w===void 0||f.hasNode(w)?(p[v]=w,w):w in p?p[w]:y(w)}return this._isCompound&&e.each(f.nodes(),function(v){f.setParent(v,y(v))}),f},i.prototype.setDefaultEdgeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultEdgeLabelFn=c,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return e.values(this._edgeObjs)},i.prototype.setPath=function(c,f){var d=this,p=arguments;return e.reduce(c,function(y,v){return p.length>1?d.setEdge(y,v,f):d.setEdge(y,v),v}),this},i.prototype.setEdge=function(){var c,f,d,p,y=!1,v=arguments[0];typeof v=="object"&&v!==null&&"v"in v?(c=v.v,f=v.w,d=v.name,arguments.length===2&&(p=arguments[1],y=!0)):(c=v,f=arguments[1],d=arguments[3],arguments.length>2&&(p=arguments[2],y=!0)),c=""+c,f=""+f,e.isUndefined(d)||(d=""+d);var w=a(this._isDirected,c,f,d);if(e.has(this._edgeLabels,w))return y&&(this._edgeLabels[w]=p),this;if(!e.isUndefined(d)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(f),this._edgeLabels[w]=y?p:this._defaultEdgeLabelFn(c,f,d);var m=l(this._isDirected,c,f,d);return c=m.v,f=m.w,Object.freeze(m),this._edgeObjs[w]=m,o(this._preds[f],c),o(this._sucs[c],f),this._in[f][w]=m,this._out[c][w]=m,this._edgeCount++,this},i.prototype.edge=function(c,f,d){var p=arguments.length===1?u(this._isDirected,arguments[0]):a(this._isDirected,c,f,d);return this._edgeLabels[p]},i.prototype.hasEdge=function(c,f,d){var p=arguments.length===1?u(this._isDirected,arguments[0]):a(this._isDirected,c,f,d);return e.has(this._edgeLabels,p)},i.prototype.removeEdge=function(c,f,d){var p=arguments.length===1?u(this._isDirected,arguments[0]):a(this._isDirected,c,f,d),y=this._edgeObjs[p];return y&&(c=y.v,f=y.w,delete this._edgeLabels[p],delete this._edgeObjs[p],s(this._preds[f],c),s(this._sucs[c],f),delete this._in[f][p],delete this._out[c][p],this._edgeCount--),this},i.prototype.inEdges=function(c,f){var d=this._in[c];if(d){var p=e.values(d);return f?e.filter(p,function(y){return y.v===f}):p}},i.prototype.outEdges=function(c,f){var d=this._out[c];if(d){var p=e.values(d);return f?e.filter(p,function(y){return y.w===f}):p}},i.prototype.nodeEdges=function(c,f){var d=this.inEdges(c,f);if(d)return d.concat(this.outEdges(c,f))};function o(c,f){c[f]?c[f]++:c[f]=1}function s(c,f){--c[f]||delete c[f]}function a(c,f,d,p){var y=""+f,v=""+d;if(!c&&y>v){var w=y;y=v,v=w}return y+r+v+r+(e.isUndefined(p)?t:p)}function l(c,f,d,p){var y=""+f,v=""+d;if(!c&&y>v){var w=y;y=v,v=w}var m={v:y,w:v};return p&&(m.name=p),m}function u(c,f){return a(c,f.v,f.w,f.name)}return qd}var Od,T_;function Qq(){return T_||(T_=1,Od="2.1.8"),Od}var Ld,R_;function Zq(){return R_||(R_=1,Ld={Graph:Dg(),version:Qq()}),Ld}var zd,I_;function Jq(){if(I_)return zd;I_=1;var e=Pt(),t=Dg();zd={write:n,read:o};function n(s){var a={options:{directed:s.isDirected(),multigraph:s.isMultigraph(),compound:s.isCompound()},nodes:r(s),edges:i(s)};return e.isUndefined(s.graph())||(a.value=e.clone(s.graph())),a}function r(s){return e.map(s.nodes(),function(a){var l=s.node(a),u=s.parent(a),c={v:a};return e.isUndefined(l)||(c.value=l),e.isUndefined(u)||(c.parent=u),c})}function i(s){return e.map(s.edges(),function(a){var l=s.edge(a),u={v:a.v,w:a.w};return e.isUndefined(a.name)||(u.name=a.name),e.isUndefined(l)||(u.value=l),u})}function o(s){var a=new t(s.options).setGraph(s.value);return e.each(s.nodes,function(l){a.setNode(l.v,l.value),l.parent&&a.setParent(l.v,l.parent)}),e.each(s.edges,function(l){a.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),a}return zd}var Dd,P_;function e5(){if(P_)return Dd;P_=1;var e=Pt();Dd=t;function t(n){var r={},i=[],o;function s(a){e.has(r,a)||(r[a]=!0,o.push(a),e.each(n.successors(a),s),e.each(n.predecessors(a),s))}return e.each(n.nodes(),function(a){o=[],s(a),o.length&&i.push(o)}),i}return Dd}var Fd,A_;function Ok(){if(A_)return Fd;A_=1;var e=Pt();Fd=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,r){var i=this._keyIndices;if(n=String(n),!e.has(i,n)){var o=this._arr,s=o.length;return i[n]=s,o.push({key:n,priority:r}),this._decrease(s),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)},t.prototype._heapify=function(n){var r=this._arr,i=2*n,o=i+1,s=n;i<r.length&&(s=r[i].priority<r[s].priority?i:s,o<r.length&&(s=r[o].priority<r[s].priority?o:s),s!==n&&(this._swap(n,s),this._heapify(s)))},t.prototype._decrease=function(n){for(var r=this._arr,i=r[n].priority,o;n!==0&&(o=n>>1,!(r[o].priority<i));)this._swap(n,o),n=o},t.prototype._swap=function(n,r){var i=this._arr,o=this._keyIndices,s=i[n],a=i[r];i[n]=a,i[r]=s,o[a.key]=n,o[s.key]=r},Fd}var $d,M_;function Lk(){if(M_)return $d;M_=1;var e=Pt(),t=Ok();$d=r;var n=e.constant(1);function r(o,s,a,l){return i(o,String(s),a||n,l||function(u){return o.outEdges(u)})}function i(o,s,a,l){var u={},c=new t,f,d,p=function(y){var v=y.v!==f?y.v:y.w,w=u[v],m=a(y),g=d.distance+m;if(m<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+y+" Weight: "+m);g<w.distance&&(w.distance=g,w.predecessor=f,c.decrease(v,g))};for(o.nodes().forEach(function(y){var v=y===s?0:Number.POSITIVE_INFINITY;u[y]={distance:v},c.add(y,v)});c.size()>0&&(f=c.removeMin(),d=u[f],d.distance!==Number.POSITIVE_INFINITY);)l(f).forEach(p);return u}return $d}var Bd,q_;function t5(){if(q_)return Bd;q_=1;var e=Lk(),t=Pt();Bd=n;function n(r,i,o){return t.transform(r.nodes(),function(s,a){s[a]=e(r,a,i,o)},{})}return Bd}var Hd,O_;function zk(){if(O_)return Hd;O_=1;var e=Pt();Hd=t;function t(n){var r=0,i=[],o={},s=[];function a(l){var u=o[l]={onStack:!0,lowlink:r,index:r++};if(i.push(l),n.successors(l).forEach(function(d){e.has(o,d)?o[d].onStack&&(u.lowlink=Math.min(u.lowlink,o[d].index)):(a(d),u.lowlink=Math.min(u.lowlink,o[d].lowlink))}),u.lowlink===u.index){var c=[],f;do f=i.pop(),o[f].onStack=!1,c.push(f);while(l!==f);s.push(c)}}return n.nodes().forEach(function(l){e.has(o,l)||a(l)}),s}return Hd}var Vd,L_;function n5(){if(L_)return Vd;L_=1;var e=Pt(),t=zk();Vd=n;function n(r){return e.filter(t(r),function(i){return i.length>1||i.length===1&&r.hasEdge(i[0],i[0])})}return Vd}var Ud,z_;function r5(){if(z_)return Ud;z_=1;var e=Pt();Ud=n;var t=e.constant(1);function n(i,o,s){return r(i,o||t,s||function(a){return i.outEdges(a)})}function r(i,o,s){var a={},l=i.nodes();return l.forEach(function(u){a[u]={},a[u][u]={distance:0},l.forEach(function(c){u!==c&&(a[u][c]={distance:Number.POSITIVE_INFINITY})}),s(u).forEach(function(c){var f=c.v===u?c.w:c.v,d=o(c);a[u][f]={distance:d,predecessor:u}})}),l.forEach(function(u){var c=a[u];l.forEach(function(f){var d=a[f];l.forEach(function(p){var y=d[u],v=c[p],w=d[p],m=y.distance+v.distance;m<w.distance&&(w.distance=m,w.predecessor=v.predecessor)})})}),a}return Ud}var Wd,D_;function Dk(){if(D_)return Wd;D_=1;var e=Pt();Wd=t,t.CycleException=n;function t(r){var i={},o={},s=[];function a(l){if(e.has(o,l))throw new n;e.has(i,l)||(o[l]=!0,i[l]=!0,e.each(r.predecessors(l),a),delete o[l],s.push(l))}if(e.each(r.sinks(),a),e.size(i)!==r.nodeCount())throw new n;return s}function n(){}return n.prototype=new Error,Wd}var Gd,F_;function i5(){if(F_)return Gd;F_=1;var e=Dk();Gd=t;function t(n){try{e(n)}catch(r){if(r instanceof e.CycleException)return!1;throw r}return!0}return Gd}var Kd,$_;function Fk(){if($_)return Kd;$_=1;var e=Pt();Kd=t;function t(r,i,o){e.isArray(i)||(i=[i]);var s=(r.isDirected()?r.successors:r.neighbors).bind(r),a=[],l={};return e.each(i,function(u){if(!r.hasNode(u))throw new Error("Graph does not have node: "+u);n(r,u,o==="post",l,s,a)}),a}function n(r,i,o,s,a,l){e.has(s,i)||(s[i]=!0,o||l.push(i),e.each(a(i),function(u){n(r,u,o,s,a,l)}),o&&l.push(i))}return Kd}var Yd,B_;function o5(){if(B_)return Yd;B_=1;var e=Fk();Yd=t;function t(n,r){return e(n,r,"post")}return Yd}var Xd,H_;function s5(){if(H_)return Xd;H_=1;var e=Fk();Xd=t;function t(n,r){return e(n,r,"pre")}return Xd}var Qd,V_;function a5(){if(V_)return Qd;V_=1;var e=Pt(),t=Dg(),n=Ok();Qd=r;function r(i,o){var s=new t,a={},l=new n,u;function c(d){var p=d.v===u?d.w:d.v,y=l.priority(p);if(y!==void 0){var v=o(d);v<y&&(a[p]=u,l.decrease(p,v))}}if(i.nodeCount()===0)return s;e.each(i.nodes(),function(d){l.add(d,Number.POSITIVE_INFINITY),s.setNode(d)}),l.decrease(i.nodes()[0],0);for(var f=!1;l.size()>0;){if(u=l.removeMin(),e.has(a,u))s.setEdge(u,a[u]);else{if(f)throw new Error("Input graph is not connected: "+i);f=!0}i.nodeEdges(u).forEach(c)}return s}return Qd}var Zd,U_;function l5(){return U_||(U_=1,Zd={components:e5(),dijkstra:Lk(),dijkstraAll:t5(),findCycles:n5(),floydWarshall:r5(),isAcyclic:i5(),postorder:o5(),preorder:s5(),prim:a5(),tarjan:zk(),topsort:Dk()}),Zd}var Jd,W_;function u5(){if(W_)return Jd;W_=1;var e=Zq();return Jd={Graph:e.Graph,json:Jq(),alg:l5(),version:e.version},Jd}var Ea;if(typeof Sg=="function")try{Ea=u5()}catch{}Ea||(Ea=window.graphlib);var Ut=Ea,eh,G_;function c5(){if(G_)return eh;G_=1;var e=fk(),t=1,n=4;function r(i){return e(i,t|n)}return eh=r,eh}var th,K_;function pl(){if(K_)return th;K_=1;var e=Ei(),t=Cn(),n=ol(),r=It();function i(o,s,a){if(!r(a))return!1;var l=typeof s;return(l=="number"?t(a)&&n(s,a.length):l=="string"&&s in a)?e(a[s],o):!1}return th=i,th}var nh,Y_;function f5(){if(Y_)return nh;Y_=1;var e=hl(),t=Ei(),n=pl(),r=Mr(),i=Object.prototype,o=i.hasOwnProperty,s=e(function(a,l){a=Object(a);var u=-1,c=l.length,f=c>2?l[2]:void 0;for(f&&n(l[0],l[1],f)&&(c=1);++u<c;)for(var d=l[u],p=r(d),y=-1,v=p.length;++y<v;){var w=p[y],m=a[w];(m===void 0||t(m,i[w])&&!o.call(a,w))&&(a[w]=d[w])}return a});return nh=s,nh}var rh,X_;function d5(){if(X_)return rh;X_=1;var e=jn(),t=Cn(),n=ar();function r(i){return function(o,s,a){var l=Object(o);if(!t(o)){var u=e(s,3);o=n(o),s=function(f){return u(l[f],f,l)}}var c=i(o,s,a);return c>-1?l[u?o[c]:c]:void 0}}return rh=r,rh}var ih,Q_;function h5(){if(Q_)return ih;Q_=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return ih=t,ih}var oh,Z_;function p5(){if(Z_)return oh;Z_=1;var e=h5(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return oh=n,oh}var sh,J_;function m5(){if(J_)return sh;J_=1;var e=p5(),t=It(),n=ji(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt;function l(u){if(typeof u=="number")return u;if(n(u))return r;if(t(u)){var c=typeof u.valueOf=="function"?u.valueOf():u;u=t(c)?c+"":c}if(typeof u!="string")return u===0?u:+u;u=e(u);var f=o.test(u);return f||s.test(u)?a(u.slice(2),f?2:8):i.test(u)?r:+u}return sh=l,sh}var ah,ew;function $k(){if(ew)return ah;ew=1;var e=m5(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var o=i<0?-1:1;return o*n}return i===i?i:0}return ah=r,ah}var lh,tw;function g5(){if(tw)return lh;tw=1;var e=$k();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return lh=t,lh}var uh,nw;function v5(){if(nw)return uh;nw=1;var e=Ak(),t=jn(),n=g5(),r=Math.max;function i(o,s,a){var l=o==null?0:o.length;if(!l)return-1;var u=a==null?0:n(a);return u<0&&(u=r(l+u,0)),e(o,t(s,3),u)}return uh=i,uh}var ch,rw;function y5(){if(rw)return ch;rw=1;var e=d5(),t=v5(),n=e(t);return ch=n,ch}var fh,iw;function Bk(){if(iw)return fh;iw=1;var e=zg();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return fh=t,fh}var dh,ow;function x5(){if(ow)return dh;ow=1;var e=Mg(),t=dk(),n=Mr();function r(i,o){return i==null?i:e(i,t(o),n)}return dh=r,dh}var hh,sw;function _5(){if(sw)return hh;sw=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return hh=e,hh}var ph,aw;function w5(){if(aw)return ph;aw=1;var e=rl(),t=qg(),n=jn();function r(i,o){var s={};return o=n(o,3),t(i,function(a,l,u){e(s,l,o(a,l,u))}),s}return ph=r,ph}var mh,lw;function Fg(){if(lw)return mh;lw=1;var e=ji();function t(n,r,i){for(var o=-1,s=n.length;++o<s;){var a=n[o],l=r(a);if(l!=null&&(u===void 0?l===l&&!e(l):i(l,u)))var u=l,c=a}return c}return mh=t,mh}var gh,uw;function b5(){if(uw)return gh;uw=1;function e(t,n){return t>n}return gh=e,gh}var vh,cw;function S5(){if(cw)return vh;cw=1;var e=Fg(),t=b5(),n=qr();function r(i){return i&&i.length?e(i,n,t):void 0}return vh=r,vh}var yh,fw;function Hk(){if(fw)return yh;fw=1;var e=rl(),t=Ei();function n(r,i,o){(o!==void 0&&!t(r[i],o)||o===void 0&&!(i in r))&&e(r,i,o)}return yh=n,yh}var xh,dw;function E5(){if(dw)return xh;dw=1;var e=Pr(),t=ll(),n=on(),r="[object Object]",i=Function.prototype,o=Object.prototype,s=i.toString,a=o.hasOwnProperty,l=s.call(Object);function u(c){if(!n(c)||e(c)!=r)return!1;var f=t(c);if(f===null)return!0;var d=a.call(f,"constructor")&&f.constructor;return typeof d=="function"&&d instanceof d&&s.call(d)==l}return xh=u,xh}var _h,hw;function Vk(){if(hw)return _h;hw=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return _h=e,_h}var wh,pw;function k5(){if(pw)return wh;pw=1;var e=Ko(),t=Mr();function n(r){return e(r,t(r))}return wh=n,wh}var bh,mw;function N5(){if(mw)return bh;mw=1;var e=Hk(),t=J2(),n=lk(),r=ek(),i=ck(),o=Yo(),s=Ae(),a=Mk(),l=Ni(),u=Go(),c=It(),f=E5(),d=Xo(),p=Vk(),y=k5();function v(w,m,g,x,_,S,E){var N=p(w,g),j=p(m,g),R=E.get(j);if(R){e(w,g,R);return}var q=S?S(N,j,g+"",w,m,E):void 0,I=q===void 0;if(I){var z=s(j),L=!z&&l(j),b=!z&&!L&&d(j);q=j,z||L||b?s(N)?q=N:a(N)?q=r(N):L?(I=!1,q=t(j,!0)):b?(I=!1,q=n(j,!0)):q=[]:f(j)||o(j)?(q=N,o(N)?q=y(N):(!c(N)||u(N))&&(q=i(j))):I=!1}I&&(E.set(j,q),_(q,j,x,S,E),E.delete(j)),e(w,g,q)}return bh=v,bh}var Sh,gw;function C5(){if(gw)return Sh;gw=1;var e=nl(),t=Hk(),n=Mg(),r=N5(),i=It(),o=Mr(),s=Vk();function a(l,u,c,f,d){l!==u&&n(u,function(p,y){if(d||(d=new e),i(p))r(l,u,y,c,a,f,d);else{var v=f?f(s(l,y),p,y+"",l,u,d):void 0;v===void 0&&(v=p),t(l,y,v)}},o)}return Sh=a,Sh}var Eh,vw;function j5(){if(vw)return Eh;vw=1;var e=hl(),t=pl();function n(r){return e(function(i,o){var s=-1,a=o.length,l=a>1?o[a-1]:void 0,u=a>2?o[2]:void 0;for(l=r.length>3&&typeof l=="function"?(a--,l):void 0,u&&t(o[0],o[1],u)&&(l=a<3?void 0:l,a=1),i=Object(i);++s<a;){var c=o[s];c&&r(i,c,s,l)}return i})}return Eh=n,Eh}var kh,yw;function T5(){if(yw)return kh;yw=1;var e=C5(),t=j5(),n=t(function(r,i,o){e(r,i,o)});return kh=n,kh}var Nh,xw;function Uk(){if(xw)return Nh;xw=1;function e(t,n){return t<n}return Nh=e,Nh}var Ch,_w;function R5(){if(_w)return Ch;_w=1;var e=Fg(),t=Uk(),n=qr();function r(i){return i&&i.length?e(i,n,t):void 0}return Ch=r,Ch}var jh,ww;function I5(){if(ww)return jh;ww=1;var e=Fg(),t=jn(),n=Uk();function r(i,o){return i&&i.length?e(i,t(o,2),n):void 0}return jh=r,jh}var Th,bw;function P5(){if(bw)return Th;bw=1;var e=Vt(),t=function(){return e.Date.now()};return Th=t,Th}var Rh,Sw;function A5(){if(Sw)return Rh;Sw=1;var e=il(),t=fl(),n=ol(),r=It(),i=Qo();function o(s,a,l,u){if(!r(s))return s;a=t(a,s);for(var c=-1,f=a.length,d=f-1,p=s;p!=null&&++c<f;){var y=i(a[c]),v=l;if(y==="__proto__"||y==="constructor"||y==="prototype")return s;if(c!=d){var w=p[y];v=u?u(w,y,p):void 0,v===void 0&&(v=r(w)?w:n(a[c+1])?[]:{})}e(p,y,v),p=p[y]}return s}return Rh=o,Rh}var Ih,Ew;function M5(){if(Ew)return Ih;Ew=1;var e=dl(),t=A5(),n=fl();function r(i,o,s){for(var a=-1,l=o.length,u={};++a<l;){var c=o[a],f=e(i,c);s(f,c)&&t(u,n(c,i),f)}return u}return Ih=r,Ih}var Ph,kw;function q5(){if(kw)return Ph;kw=1;var e=M5(),t=Sk();function n(r,i){return e(r,i,function(o,s){return t(r,s)})}return Ph=n,Ph}var Ah,Nw;function O5(){if(Nw)return Ah;Nw=1;var e=Bk(),t=Ik(),n=Pk();function r(i){return n(t(i,void 0,e),i+"")}return Ah=r,Ah}var Mh,Cw;function L5(){if(Cw)return Mh;Cw=1;var e=q5(),t=O5(),n=t(function(r,i){return r==null?{}:e(r,i)});return Mh=n,Mh}var qh,jw;function z5(){if(jw)return qh;jw=1;var e=Math.ceil,t=Math.max;function n(r,i,o,s){for(var a=-1,l=t(e((i-r)/(o||1)),0),u=Array(l);l--;)u[s?l:++a]=r,r+=o;return u}return qh=n,qh}var Oh,Tw;function D5(){if(Tw)return Oh;Tw=1;var e=z5(),t=pl(),n=$k();function r(i){return function(o,s,a){return a&&typeof a!="number"&&t(o,s,a)&&(s=a=void 0),o=n(o),s===void 0?(s=o,o=0):s=n(s),a=a===void 0?o<s?1:-1:n(a),e(o,s,a,i)}}return Oh=r,Oh}var Lh,Rw;function F5(){if(Rw)return Lh;Rw=1;var e=D5(),t=e();return Lh=t,Lh}var zh,Iw;function $5(){if(Iw)return zh;Iw=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return zh=e,zh}var Dh,Pw;function B5(){if(Pw)return Dh;Pw=1;var e=ji();function t(n,r){if(n!==r){var i=n!==void 0,o=n===null,s=n===n,a=e(n),l=r!==void 0,u=r===null,c=r===r,f=e(r);if(!u&&!f&&!a&&n>r||a&&l&&c&&!u&&!f||o&&l&&c||!i&&c||!s)return 1;if(!o&&!a&&!f&&n<r||f&&i&&s&&!o&&!a||u&&i&&s||!l&&s||!c)return-1}return 0}return Dh=t,Dh}var Fh,Aw;function H5(){if(Aw)return Fh;Aw=1;var e=B5();function t(n,r,i){for(var o=-1,s=n.criteria,a=r.criteria,l=s.length,u=i.length;++o<l;){var c=e(s[o],a[o]);if(c){if(o>=u)return c;var f=i[o];return c*(f=="desc"?-1:1)}}return n.index-r.index}return Fh=t,Fh}var $h,Mw;function V5(){if(Mw)return $h;Mw=1;var e=cl(),t=dl(),n=jn(),r=jk(),i=$5(),o=sl(),s=H5(),a=qr(),l=Ae();function u(c,f,d){f.length?f=e(f,function(v){return l(v)?function(w){return t(w,v.length===1?v[0]:v)}:v}):f=[a];var p=-1;f=e(f,o(n));var y=r(c,function(v,w,m){var g=e(f,function(x){return x(v)});return{criteria:g,index:++p,value:v}});return i(y,function(v,w){return s(v,w,d)})}return $h=u,$h}var Bh,qw;function U5(){if(qw)return Bh;qw=1;var e=zg(),t=V5(),n=hl(),r=pl(),i=n(function(o,s){if(o==null)return[];var a=s.length;return a>1&&r(o,s[0],s[1])?s=[]:a>2&&r(s[0],s[1],s[2])&&(s=[s[0]]),t(o,e(s,1),[])});return Bh=i,Bh}var Hh,Ow;function W5(){if(Ow)return Hh;Ow=1;var e=wk(),t=0;function n(r){var i=++t;return e(r)+i}return Hh=n,Hh}var Vh,Lw;function G5(){if(Lw)return Vh;Lw=1;function e(t,n,r){for(var i=-1,o=t.length,s=n.length,a={};++i<o;){var l=i<s?n[i]:void 0;r(a,t[i],l)}return a}return Vh=e,Vh}var Uh,zw;function K5(){if(zw)return Uh;zw=1;var e=il(),t=G5();function n(r,i){return t(r||[],i||[],e)}return Uh=n,Uh}var ka;if(typeof Sg=="function")try{ka={cloneDeep:c5(),constant:Ag(),defaults:f5(),each:pk(),filter:kk(),find:y5(),flatten:Bk(),forEach:hk(),forIn:x5(),has:Nk(),isUndefined:Ck(),last:_5(),map:Tk(),mapValues:w5(),max:S5(),merge:T5(),min:R5(),minBy:I5(),now:P5(),pick:L5(),range:F5(),reduce:Rk(),sortBy:U5(),uniqueId:W5(),values:qk(),zipObject:K5()}}catch{}ka||(ka=window._);var we=ka,Y5=ml;function ml(){var e={};e._next=e._prev=e,this._sentinel=e}ml.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return Wk(t),t};ml.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&Wk(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};ml.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,X5)),n=n._prev;return"["+e.join(", ")+"]"};function Wk(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function X5(e,t){if(e!=="_next"&&e!=="_prev")return t}var mn=we,Q5=Ut.Graph,Z5=Y5,J5=tO,eO=mn.constant(1);function tO(e,t){if(e.nodeCount()<=1)return[];var n=rO(e,t||eO),r=nO(n.graph,n.buckets,n.zeroIdx);return mn.flatten(mn.map(r,function(i){return e.outEdges(i.v,i.w)}),!0)}function nO(e,t,n){for(var r=[],i=t[t.length-1],o=t[0],s;e.nodeCount();){for(;s=o.dequeue();)Wh(e,t,n,s);for(;s=i.dequeue();)Wh(e,t,n,s);if(e.nodeCount()){for(var a=t.length-2;a>0;--a)if(s=t[a].dequeue(),s){r=r.concat(Wh(e,t,n,s,!0));break}}}return r}function Wh(e,t,n,r,i){var o=i?[]:void 0;return mn.forEach(e.inEdges(r.v),function(s){var a=e.edge(s),l=e.node(s.v);i&&o.push({v:s.v,w:s.w}),l.out-=a,am(t,n,l)}),mn.forEach(e.outEdges(r.v),function(s){var a=e.edge(s),l=s.w,u=e.node(l);u.in-=a,am(t,n,u)}),e.removeNode(r.v),o}function rO(e,t){var n=new Q5,r=0,i=0;mn.forEach(e.nodes(),function(a){n.setNode(a,{v:a,in:0,out:0})}),mn.forEach(e.edges(),function(a){var l=n.edge(a.v,a.w)||0,u=t(a),c=l+u;n.setEdge(a.v,a.w,c),i=Math.max(i,n.node(a.v).out+=u),r=Math.max(r,n.node(a.w).in+=u)});var o=mn.range(i+r+3).map(function(){return new Z5}),s=r+1;return mn.forEach(n.nodes(),function(a){am(o,s,n.node(a))}),{graph:n,buckets:o,zeroIdx:s}}function am(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var yr=we,iO=J5,oO={run:sO,undo:lO};function sO(e){var t=e.graph().acyclicer==="greedy"?iO(e,n(e)):aO(e);yr.forEach(t,function(r){var i=e.edge(r);e.removeEdge(r),i.forwardName=r.name,i.reversed=!0,e.setEdge(r.w,r.v,i,yr.uniqueId("rev"))});function n(r){return function(i){return r.edge(i).weight}}}function aO(e){var t=[],n={},r={};function i(o){yr.has(r,o)||(r[o]=!0,n[o]=!0,yr.forEach(e.outEdges(o),function(s){yr.has(n,s.w)?t.push(s):i(s.w)}),delete n[o])}return yr.forEach(e.nodes(),i),t}function lO(e){yr.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}var ce=we,Gk=Ut.Graph,ft={addDummyNode:Kk,simplify:uO,asNonCompoundGraph:cO,successorWeights:fO,predecessorWeights:dO,intersectRect:hO,buildLayerMatrix:pO,normalizeRanks:mO,removeEmptyRanks:gO,addBorderNode:vO,maxRank:Yk,partition:yO,time:xO,notime:_O};function Kk(e,t,n,r){var i;do i=ce.uniqueId(r);while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function uO(e){var t=new Gk().setGraph(e.graph());return ce.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),ce.forEach(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),t}function cO(e){var t=new Gk({multigraph:e.isMultigraph()}).setGraph(e.graph());return ce.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),ce.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t}function fO(e){var t=ce.map(e.nodes(),function(n){var r={};return ce.forEach(e.outEdges(n),function(i){r[i.w]=(r[i.w]||0)+e.edge(i).weight}),r});return ce.zipObject(e.nodes(),t)}function dO(e){var t=ce.map(e.nodes(),function(n){var r={};return ce.forEach(e.inEdges(n),function(i){r[i.v]=(r[i.v]||0)+e.edge(i).weight}),r});return ce.zipObject(e.nodes(),t)}function hO(e,t){var n=e.x,r=e.y,i=t.x-n,o=t.y-r,s=e.width/2,a=e.height/2;if(!i&&!o)throw new Error("Not possible to find intersection inside of the rectangle");var l,u;return Math.abs(o)*s>Math.abs(i)*a?(o<0&&(a=-a),l=a*i/o,u=a):(i<0&&(s=-s),l=s,u=s*o/i),{x:n+l,y:r+u}}function pO(e){var t=ce.map(ce.range(Yk(e)+1),function(){return[]});return ce.forEach(e.nodes(),function(n){var r=e.node(n),i=r.rank;ce.isUndefined(i)||(t[i][r.order]=n)}),t}function mO(e){var t=ce.min(ce.map(e.nodes(),function(n){return e.node(n).rank}));ce.forEach(e.nodes(),function(n){var r=e.node(n);ce.has(r,"rank")&&(r.rank-=t)})}function gO(e){var t=ce.min(ce.map(e.nodes(),function(o){return e.node(o).rank})),n=[];ce.forEach(e.nodes(),function(o){var s=e.node(o).rank-t;n[s]||(n[s]=[]),n[s].push(o)});var r=0,i=e.graph().nodeRankFactor;ce.forEach(n,function(o,s){ce.isUndefined(o)&&s%i!==0?--r:r&&ce.forEach(o,function(a){e.node(a).rank+=r})})}function vO(e,t,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),Kk(e,"border",i,t)}function Yk(e){return ce.max(ce.map(e.nodes(),function(t){var n=e.node(t).rank;if(!ce.isUndefined(n))return n}))}function yO(e,t){var n={lhs:[],rhs:[]};return ce.forEach(e,function(r){t(r)?n.lhs.push(r):n.rhs.push(r)}),n}function xO(e,t){var n=ce.now();try{return t()}finally{console.log(e+" time: "+(ce.now()-n)+"ms")}}function _O(e,t){return t()}var Xk=we,wO=ft,bO={run:SO,undo:kO};function SO(e){e.graph().dummyChains=[],Xk.forEach(e.edges(),function(t){EO(e,t)})}function EO(e,t){var n=t.v,r=e.node(n).rank,i=t.w,o=e.node(i).rank,s=t.name,a=e.edge(t),l=a.labelRank;if(o!==r+1){e.removeEdge(t);var u,c,f;for(f=0,++r;r<o;++f,++r)a.points=[],c={width:0,height:0,edgeLabel:a,edgeObj:t,rank:r},u=wO.addDummyNode(e,"edge",c,"_d"),r===l&&(c.width=a.width,c.height=a.height,c.dummy="edge-label",c.labelpos=a.labelpos),e.setEdge(n,u,{weight:a.weight},s),f===0&&e.graph().dummyChains.push(u),n=u;e.setEdge(n,i,{weight:a.weight},s)}}function kO(e){Xk.forEach(e.graph().dummyChains,function(t){var n=e.node(t),r=n.edgeLabel,i;for(e.setEdge(n.edgeObj,r);n.dummy;)i=e.successors(t)[0],e.removeNode(t),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),t=i,n=e.node(t)})}var Ns=we,gl={longestPath:NO,slack:CO};function NO(e){var t={};function n(r){var i=e.node(r);if(Ns.has(t,r))return i.rank;t[r]=!0;var o=Ns.min(Ns.map(e.outEdges(r),function(s){return n(s.w)-e.edge(s).minlen}));return(o===Number.POSITIVE_INFINITY||o===void 0||o===null)&&(o=0),i.rank=o}Ns.forEach(e.sources(),n)}function CO(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var Na=we,jO=Ut.Graph,Ca=gl.slack,Qk=TO;function TO(e){var t=new jO({directed:!1}),n=e.nodes()[0],r=e.nodeCount();t.setNode(n,{});for(var i,o;RO(t,e)<r;)i=IO(t,e),o=t.hasNode(i.v)?Ca(e,i):-Ca(e,i),PO(t,e,o);return t}function RO(e,t){function n(r){Na.forEach(t.nodeEdges(r),function(i){var o=i.v,s=r===o?i.w:o;!e.hasNode(s)&&!Ca(t,i)&&(e.setNode(s,{}),e.setEdge(r,s,{}),n(s))})}return Na.forEach(e.nodes(),n),e.nodeCount()}function IO(e,t){return Na.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return Ca(t,n)})}function PO(e,t,n){Na.forEach(e.nodes(),function(r){t.node(r).rank+=n})}var kn=we,AO=Qk,MO=gl.slack,qO=gl.longestPath,OO=Ut.alg.preorder,LO=Ut.alg.postorder,zO=ft.simplify,DO=Or;Or.initLowLimValues=Bg;Or.initCutValues=$g;Or.calcCutValue=Zk;Or.leaveEdge=eN;Or.enterEdge=tN;Or.exchangeEdges=nN;function Or(e){e=zO(e),qO(e);var t=AO(e);Bg(t),$g(t,e);for(var n,r;n=eN(t);)r=tN(t,e,n),nN(t,e,n,r)}function $g(e,t){var n=LO(e,e.nodes());n=n.slice(0,n.length-1),kn.forEach(n,function(r){FO(e,t,r)})}function FO(e,t,n){var r=e.node(n),i=r.parent;e.edge(n,i).cutvalue=Zk(e,t,n)}function Zk(e,t,n){var r=e.node(n),i=r.parent,o=!0,s=t.edge(n,i),a=0;return s||(o=!1,s=t.edge(i,n)),a=s.weight,kn.forEach(t.nodeEdges(n),function(l){var u=l.v===n,c=u?l.w:l.v;if(c!==i){var f=u===o,d=t.edge(l).weight;if(a+=f?d:-d,BO(e,n,c)){var p=e.edge(n,c).cutvalue;a+=f?-p:p}}}),a}function Bg(e,t){arguments.length<2&&(t=e.nodes()[0]),Jk(e,{},1,t)}function Jk(e,t,n,r,i){var o=n,s=e.node(r);return t[r]=!0,kn.forEach(e.neighbors(r),function(a){kn.has(t,a)||(n=Jk(e,t,n,a,r))}),s.low=o,s.lim=n++,i?s.parent=i:delete s.parent,n}function eN(e){return kn.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function tN(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var o=e.node(r),s=e.node(i),a=o,l=!1;o.lim>s.lim&&(a=s,l=!0);var u=kn.filter(t.edges(),function(c){return l===Dw(e,e.node(c.v),a)&&l!==Dw(e,e.node(c.w),a)});return kn.minBy(u,function(c){return MO(t,c)})}function nN(e,t,n,r){var i=n.v,o=n.w;e.removeEdge(i,o),e.setEdge(r.v,r.w,{}),Bg(e),$g(e,t),$O(e,t)}function $O(e,t){var n=kn.find(e.nodes(),function(i){return!t.node(i).parent}),r=OO(e,n);r=r.slice(1),kn.forEach(r,function(i){var o=e.node(i).parent,s=t.edge(i,o),a=!1;s||(s=t.edge(o,i),a=!0),t.node(i).rank=t.node(o).rank+(a?s.minlen:-s.minlen)})}function BO(e,t,n){return e.hasEdge(t,n)}function Dw(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}var HO=gl,rN=HO.longestPath,VO=Qk,UO=DO,WO=GO;function GO(e){switch(e.graph().ranker){case"network-simplex":Fw(e);break;case"tight-tree":YO(e);break;case"longest-path":KO(e);break;default:Fw(e)}}var KO=rN;function YO(e){rN(e),VO(e)}function Fw(e){UO(e)}var lm=we,XO=QO;function QO(e){var t=JO(e);lm.forEach(e.graph().dummyChains,function(n){for(var r=e.node(n),i=r.edgeObj,o=ZO(e,t,i.v,i.w),s=o.path,a=o.lca,l=0,u=s[l],c=!0;n!==i.w;){if(r=e.node(n),c){for(;(u=s[l])!==a&&e.node(u).maxRank<r.rank;)l++;u===a&&(c=!1)}if(!c){for(;l<s.length-1&&e.node(u=s[l+1]).minRank<=r.rank;)l++;u=s[l]}e.setParent(n,u),n=e.successors(n)[0]}})}function ZO(e,t,n,r){var i=[],o=[],s=Math.min(t[n].low,t[r].low),a=Math.max(t[n].lim,t[r].lim),l,u;l=n;do l=e.parent(l),i.push(l);while(l&&(t[l].low>s||a>t[l].lim));for(u=l,l=r;(l=e.parent(l))!==u;)o.push(l);return{path:i.concat(o.reverse()),lca:u}}function JO(e){var t={},n=0;function r(i){var o=n;lm.forEach(e.children(i),r),t[i]={low:o,lim:n++}}return lm.forEach(e.children(),r),t}var gn=we,um=ft,eL={run:tL,cleanup:iL};function tL(e){var t=um.addDummyNode(e,"root",{},"_root"),n=nL(e),r=gn.max(gn.values(n))-1,i=2*r+1;e.graph().nestingRoot=t,gn.forEach(e.edges(),function(s){e.edge(s).minlen*=i});var o=rL(e)+1;gn.forEach(e.children(),function(s){iN(e,t,i,o,r,n,s)}),e.graph().nodeRankFactor=i}function iN(e,t,n,r,i,o,s){var a=e.children(s);if(!a.length){s!==t&&e.setEdge(t,s,{weight:0,minlen:n});return}var l=um.addBorderNode(e,"_bt"),u=um.addBorderNode(e,"_bb"),c=e.node(s);e.setParent(l,s),c.borderTop=l,e.setParent(u,s),c.borderBottom=u,gn.forEach(a,function(f){iN(e,t,n,r,i,o,f);var d=e.node(f),p=d.borderTop?d.borderTop:f,y=d.borderBottom?d.borderBottom:f,v=d.borderTop?r:2*r,w=p!==y?1:i-o[s]+1;e.setEdge(l,p,{weight:v,minlen:w,nestingEdge:!0}),e.setEdge(y,u,{weight:v,minlen:w,nestingEdge:!0})}),e.parent(s)||e.setEdge(t,l,{weight:0,minlen:i+o[s]})}function nL(e){var t={};function n(r,i){var o=e.children(r);o&&o.length&&gn.forEach(o,function(s){n(s,i+1)}),t[r]=i}return gn.forEach(e.children(),function(r){n(r,1)}),t}function rL(e){return gn.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}function iL(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,gn.forEach(e.edges(),function(n){var r=e.edge(n);r.nestingEdge&&e.removeEdge(n)})}var Gh=we,oL=ft,sL=aL;function aL(e){function t(n){var r=e.children(n),i=e.node(n);if(r.length&&Gh.forEach(r,t),Gh.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,s=i.maxRank+1;o<s;++o)$w(e,"borderLeft","_bl",n,i,o),$w(e,"borderRight","_br",n,i,o)}}Gh.forEach(e.children(),t)}function $w(e,t,n,r,i,o){var s={width:0,height:0,rank:o,borderType:t},a=i[t][o-1],l=oL.addDummyNode(e,"border",s,n);i[t][o]=l,e.setParent(l,r),a&&e.setEdge(a,l,{weight:1})}var Jt=we,lL={adjust:uL,undo:cL};function uL(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&oN(e)}function cL(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&fL(e),(t==="lr"||t==="rl")&&(dL(e),oN(e))}function oN(e){Jt.forEach(e.nodes(),function(t){Bw(e.node(t))}),Jt.forEach(e.edges(),function(t){Bw(e.edge(t))})}function Bw(e){var t=e.width;e.width=e.height,e.height=t}function fL(e){Jt.forEach(e.nodes(),function(t){Kh(e.node(t))}),Jt.forEach(e.edges(),function(t){var n=e.edge(t);Jt.forEach(n.points,Kh),Jt.has(n,"y")&&Kh(n)})}function Kh(e){e.y=-e.y}function dL(e){Jt.forEach(e.nodes(),function(t){Yh(e.node(t))}),Jt.forEach(e.edges(),function(t){var n=e.edge(t);Jt.forEach(n.points,Yh),Jt.has(n,"x")&&Yh(n)})}function Yh(e){var t=e.x;e.x=e.y,e.y=t}var un=we,hL=pL;function pL(e){var t={},n=un.filter(e.nodes(),function(a){return!e.children(a).length}),r=un.max(un.map(n,function(a){return e.node(a).rank})),i=un.map(un.range(r+1),function(){return[]});function o(a){if(!un.has(t,a)){t[a]=!0;var l=e.node(a);i[l.rank].push(a),un.forEach(e.successors(a),o)}}var s=un.sortBy(n,function(a){return e.node(a).rank});return un.forEach(s,o),i}var Pn=we,mL=gL;function gL(e,t){for(var n=0,r=1;r<t.length;++r)n+=vL(e,t[r-1],t[r]);return n}function vL(e,t,n){for(var r=Pn.zipObject(n,Pn.map(n,function(u,c){return c})),i=Pn.flatten(Pn.map(t,function(u){return Pn.sortBy(Pn.map(e.outEdges(u),function(c){return{pos:r[c.w],weight:e.edge(c).weight}}),"pos")}),!0),o=1;o<n.length;)o<<=1;var s=2*o-1;o-=1;var a=Pn.map(new Array(s),function(){return 0}),l=0;return Pn.forEach(i.forEach(function(u){var c=u.pos+o;a[c]+=u.weight;for(var f=0;c>0;)c%2&&(f+=a[c+1]),c=c-1>>1,a[c]+=u.weight;l+=u.weight*f})),l}var Hw=we,yL=xL;function xL(e,t){return Hw.map(t,function(n){var r=e.inEdges(n);if(r.length){var i=Hw.reduce(r,function(o,s){var a=e.edge(s),l=e.node(s.v);return{sum:o.sum+a.weight*l.order,weight:o.weight+a.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:n}})}var mt=we,_L=wL;function wL(e,t){var n={};mt.forEach(e,function(i,o){var s=n[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:o};mt.isUndefined(i.barycenter)||(s.barycenter=i.barycenter,s.weight=i.weight)}),mt.forEach(t.edges(),function(i){var o=n[i.v],s=n[i.w];!mt.isUndefined(o)&&!mt.isUndefined(s)&&(s.indegree++,o.out.push(n[i.w]))});var r=mt.filter(n,function(i){return!i.indegree});return bL(r)}function bL(e){var t=[];function n(o){return function(s){s.merged||(mt.isUndefined(s.barycenter)||mt.isUndefined(o.barycenter)||s.barycenter>=o.barycenter)&&SL(o,s)}}function r(o){return function(s){s.in.push(o),--s.indegree===0&&e.push(s)}}for(;e.length;){var i=e.pop();t.push(i),mt.forEach(i.in.reverse(),n(i)),mt.forEach(i.out,r(i))}return mt.map(mt.filter(t,function(o){return!o.merged}),function(o){return mt.pick(o,["vs","i","barycenter","weight"])})}function SL(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}var Ji=we,EL=ft,kL=NL;function NL(e,t){var n=EL.partition(e,function(c){return Ji.has(c,"barycenter")}),r=n.lhs,i=Ji.sortBy(n.rhs,function(c){return-c.i}),o=[],s=0,a=0,l=0;r.sort(CL(!!t)),l=Vw(o,i,l),Ji.forEach(r,function(c){l+=c.vs.length,o.push(c.vs),s+=c.barycenter*c.weight,a+=c.weight,l=Vw(o,i,l)});var u={vs:Ji.flatten(o,!0)};return a&&(u.barycenter=s/a,u.weight=a),u}function Vw(e,t,n){for(var r;t.length&&(r=Ji.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}function CL(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}var $n=we,jL=yL,TL=_L,RL=kL,IL=sN;function sN(e,t,n,r){var i=e.children(t),o=e.node(t),s=o?o.borderLeft:void 0,a=o?o.borderRight:void 0,l={};s&&(i=$n.filter(i,function(y){return y!==s&&y!==a}));var u=jL(e,i);$n.forEach(u,function(y){if(e.children(y.v).length){var v=sN(e,y.v,n,r);l[y.v]=v,$n.has(v,"barycenter")&&AL(y,v)}});var c=TL(u,n);PL(c,l);var f=RL(c,r);if(s&&(f.vs=$n.flatten([s,f.vs,a],!0),e.predecessors(s).length)){var d=e.node(e.predecessors(s)[0]),p=e.node(e.predecessors(a)[0]);$n.has(f,"barycenter")||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+d.order+p.order)/(f.weight+2),f.weight+=2}return f}function PL(e,t){$n.forEach(e,function(n){n.vs=$n.flatten(n.vs.map(function(r){return t[r]?t[r].vs:r}),!0)})}function AL(e,t){$n.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var eo=we,ML=Ut.Graph,qL=OL;function OL(e,t,n){var r=LL(e),i=new ML({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(o){return e.node(o)});return eo.forEach(e.nodes(),function(o){var s=e.node(o),a=e.parent(o);(s.rank===t||s.minRank<=t&&t<=s.maxRank)&&(i.setNode(o),i.setParent(o,a||r),eo.forEach(e[n](o),function(l){var u=l.v===o?l.w:l.v,c=i.edge(u,o),f=eo.isUndefined(c)?0:c.weight;i.setEdge(u,o,{weight:e.edge(l).weight+f})}),eo.has(s,"minRank")&&i.setNode(o,{borderLeft:s.borderLeft[t],borderRight:s.borderRight[t]}))}),i}function LL(e){for(var t;e.hasNode(t=eo.uniqueId("_root")););return t}var zL=we,DL=FL;function FL(e,t,n){var r={},i;zL.forEach(n,function(o){for(var s=e.parent(o),a,l;s;){if(a=e.parent(s),a?(l=r[a],r[a]=s):(l=i,i=s),l&&l!==s){t.setEdge(l,s);return}s=a}})}var Jn=we,$L=hL,BL=mL,HL=IL,VL=qL,UL=DL,WL=Ut.Graph,Uw=ft,GL=KL;function KL(e){var t=Uw.maxRank(e),n=Ww(e,Jn.range(1,t+1),"inEdges"),r=Ww(e,Jn.range(t-1,-1,-1),"outEdges"),i=$L(e);Gw(e,i);for(var o=Number.POSITIVE_INFINITY,s,a=0,l=0;l<4;++a,++l){YL(a%2?n:r,a%4>=2),i=Uw.buildLayerMatrix(e);var u=BL(e,i);u<o&&(l=0,s=Jn.cloneDeep(i),o=u)}Gw(e,s)}function Ww(e,t,n){return Jn.map(t,function(r){return VL(e,r,n)})}function YL(e,t){var n=new WL;Jn.forEach(e,function(r){var i=r.graph().root,o=HL(r,i,n,t);Jn.forEach(o.vs,function(s,a){r.node(s).order=a}),UL(r,n,o.vs)})}function Gw(e,t){Jn.forEach(t,function(n){Jn.forEach(n,function(r,i){e.node(r).order=i})})}var J=we,XL=Ut.Graph,QL=ft,ZL={positionX:uz};function JL(e,t){var n={};function r(i,o){var s=0,a=0,l=i.length,u=J.last(o);return J.forEach(o,function(c,f){var d=tz(e,c),p=d?e.node(d).order:l;(d||c===u)&&(J.forEach(o.slice(a,f+1),function(y){J.forEach(e.predecessors(y),function(v){var w=e.node(v),m=w.order;(m<s||p<m)&&!(w.dummy&&e.node(y).dummy)&&aN(n,v,y)})}),a=f+1,s=p)}),o}return J.reduce(t,r),n}function ez(e,t){var n={};function r(o,s,a,l,u){var c;J.forEach(J.range(s,a),function(f){c=o[f],e.node(c).dummy&&J.forEach(e.predecessors(c),function(d){var p=e.node(d);p.dummy&&(p.order<l||p.order>u)&&aN(n,d,c)})})}function i(o,s){var a=-1,l,u=0;return J.forEach(s,function(c,f){if(e.node(c).dummy==="border"){var d=e.predecessors(c);d.length&&(l=e.node(d[0]).order,r(s,u,f,a,l),u=f,a=l)}r(s,u,s.length,l,o.length)}),s}return J.reduce(t,i),n}function tz(e,t){if(e.node(t).dummy)return J.find(e.predecessors(t),function(n){return e.node(n).dummy})}function aN(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function nz(e,t,n){if(t>n){var r=t;t=n,n=r}return J.has(e[t],n)}function rz(e,t,n,r){var i={},o={},s={};return J.forEach(t,function(a){J.forEach(a,function(l,u){i[l]=l,o[l]=l,s[l]=u})}),J.forEach(t,function(a){var l=-1;J.forEach(a,function(u){var c=r(u);if(c.length){c=J.sortBy(c,function(v){return s[v]});for(var f=(c.length-1)/2,d=Math.floor(f),p=Math.ceil(f);d<=p;++d){var y=c[d];o[u]===u&&l<s[y]&&!nz(n,u,y)&&(o[y]=u,o[u]=i[u]=i[y],l=s[y])}}})}),{root:i,align:o}}function iz(e,t,n,r,i){var o={},s=oz(e,t,n,i),a=i?"borderLeft":"borderRight";function l(f,d){for(var p=s.nodes(),y=p.pop(),v={};y;)v[y]?f(y):(v[y]=!0,p.push(y),p=p.concat(d(y))),y=p.pop()}function u(f){o[f]=s.inEdges(f).reduce(function(d,p){return Math.max(d,o[p.v]+s.edge(p))},0)}function c(f){var d=s.outEdges(f).reduce(function(y,v){return Math.min(y,o[v.w]-s.edge(v))},Number.POSITIVE_INFINITY),p=e.node(f);d!==Number.POSITIVE_INFINITY&&p.borderType!==a&&(o[f]=Math.max(o[f],d))}return l(u,s.predecessors.bind(s)),l(c,s.successors.bind(s)),J.forEach(r,function(f){o[f]=o[n[f]]}),o}function oz(e,t,n,r){var i=new XL,o=e.graph(),s=cz(o.nodesep,o.edgesep,r);return J.forEach(t,function(a){var l;J.forEach(a,function(u){var c=n[u];if(i.setNode(c),l){var f=n[l],d=i.edge(f,c);i.setEdge(f,c,Math.max(s(e,u,l),d||0))}l=u})}),i}function sz(e,t){return J.minBy(J.values(t),function(n){var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return J.forIn(n,function(o,s){var a=fz(e,s)/2;r=Math.max(o+a,r),i=Math.min(o-a,i)}),r-i})}function az(e,t){var n=J.values(t),r=J.min(n),i=J.max(n);J.forEach(["u","d"],function(o){J.forEach(["l","r"],function(s){var a=o+s,l=e[a],u;if(l!==t){var c=J.values(l);u=s==="l"?r-J.min(c):i-J.max(c),u&&(e[a]=J.mapValues(l,function(f){return f+u}))}})})}function lz(e,t){return J.mapValues(e.ul,function(n,r){if(t)return e[t.toLowerCase()][r];var i=J.sortBy(J.map(e,r));return(i[1]+i[2])/2})}function uz(e){var t=QL.buildLayerMatrix(e),n=J.merge(JL(e,t),ez(e,t)),r={},i;J.forEach(["u","d"],function(s){i=s==="u"?t:J.values(t).reverse(),J.forEach(["l","r"],function(a){a==="r"&&(i=J.map(i,function(f){return J.values(f).reverse()}));var l=(s==="u"?e.predecessors:e.successors).bind(e),u=rz(e,i,n,l),c=iz(e,i,u.root,u.align,a==="r");a==="r"&&(c=J.mapValues(c,function(f){return-f})),r[s+a]=c})});var o=sz(e,r);return az(r,o),lz(r,e.graph().align)}function cz(e,t,n){return function(r,i,o){var s=r.node(i),a=r.node(o),l=0,u;if(l+=s.width/2,J.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":u=-s.width/2;break;case"r":u=s.width/2;break}if(u&&(l+=n?u:-u),u=0,l+=(s.dummy?t:e)/2,l+=(a.dummy?t:e)/2,l+=a.width/2,J.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":u=a.width/2;break;case"r":u=-a.width/2;break}return u&&(l+=n?u:-u),u=0,l}}function fz(e,t){return e.node(t).width}var to=we,lN=ft,dz=ZL.positionX,hz=pz;function pz(e){e=lN.asNonCompoundGraph(e),mz(e),to.forEach(dz(e),function(t,n){e.node(n).x=t})}function mz(e){var t=lN.buildLayerMatrix(e),n=e.graph().ranksep,r=0;to.forEach(t,function(i){var o=to.max(to.map(i,function(s){return e.node(s).height}));to.forEach(i,function(s){e.node(s).y=r+o/2}),r+=o+n})}var ee=we,Kw=oO,Yw=bO,gz=WO,vz=ft.normalizeRanks,yz=XO,xz=ft.removeEmptyRanks,Xw=eL,_z=sL,Qw=lL,wz=GL,bz=hz,rr=ft,Sz=Ut.Graph,Ez=kz;function kz(e,t){var n=t&&t.debugTiming?rr.time:rr.notime;n("layout",function(){var r=n("  buildLayoutGraph",function(){return Oz(e)});n("  runLayout",function(){Nz(r,n)}),n("  updateInputGraph",function(){Cz(e,r)})})}function Nz(e,t){t("    makeSpaceForEdgeLabels",function(){Lz(e)}),t("    removeSelfEdges",function(){Wz(e)}),t("    acyclic",function(){Kw.run(e)}),t("    nestingGraph.run",function(){Xw.run(e)}),t("    rank",function(){gz(rr.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){zz(e)}),t("    removeEmptyRanks",function(){xz(e)}),t("    nestingGraph.cleanup",function(){Xw.cleanup(e)}),t("    normalizeRanks",function(){vz(e)}),t("    assignRankMinMax",function(){Dz(e)}),t("    removeEdgeLabelProxies",function(){Fz(e)}),t("    normalize.run",function(){Yw.run(e)}),t("    parentDummyChains",function(){yz(e)}),t("    addBorderSegments",function(){_z(e)}),t("    order",function(){wz(e)}),t("    insertSelfEdges",function(){Gz(e)}),t("    adjustCoordinateSystem",function(){Qw.adjust(e)}),t("    position",function(){bz(e)}),t("    positionSelfEdges",function(){Kz(e)}),t("    removeBorderNodes",function(){Uz(e)}),t("    normalize.undo",function(){Yw.undo(e)}),t("    fixupEdgeLabelCoords",function(){Hz(e)}),t("    undoCoordinateSystem",function(){Qw.undo(e)}),t("    translateGraph",function(){$z(e)}),t("    assignNodeIntersects",function(){Bz(e)}),t("    reversePoints",function(){Vz(e)}),t("    acyclic.undo",function(){Kw.undo(e)})}function Cz(e,t){ee.forEach(e.nodes(),function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))}),ee.forEach(e.edges(),function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,ee.has(i,"x")&&(r.x=i.x,r.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var jz=["nodesep","edgesep","ranksep","marginx","marginy"],Tz={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},Rz=["acyclicer","ranker","rankdir","align"],Iz=["width","height"],Pz={width:0,height:0},Az=["minlen","weight","width","height","labeloffset"],Mz={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},qz=["labelpos"];function Oz(e){var t=new Sz({multigraph:!0,compound:!0}),n=Qh(e.graph());return t.setGraph(ee.merge({},Tz,Xh(n,jz),ee.pick(n,Rz))),ee.forEach(e.nodes(),function(r){var i=Qh(e.node(r));t.setNode(r,ee.defaults(Xh(i,Iz),Pz)),t.setParent(r,e.parent(r))}),ee.forEach(e.edges(),function(r){var i=Qh(e.edge(r));t.setEdge(r,ee.merge({},Mz,Xh(i,Az),ee.pick(i,qz)))}),t}function Lz(e){var t=e.graph();t.ranksep/=2,ee.forEach(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function zz(e){ee.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i=e.node(t.w),o={rank:(i.rank-r.rank)/2+r.rank,e:t};rr.addDummyNode(e,"edge-proxy",o,"_ep")}})}function Dz(e){var t=0;ee.forEach(e.nodes(),function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=ee.max(t,r.maxRank))}),e.graph().maxRank=t}function Fz(e){ee.forEach(e.nodes(),function(t){var n=e.node(t);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function $z(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=e.graph(),s=o.marginx||0,a=o.marginy||0;function l(u){var c=u.x,f=u.y,d=u.width,p=u.height;t=Math.min(t,c-d/2),n=Math.max(n,c+d/2),r=Math.min(r,f-p/2),i=Math.max(i,f+p/2)}ee.forEach(e.nodes(),function(u){l(e.node(u))}),ee.forEach(e.edges(),function(u){var c=e.edge(u);ee.has(c,"x")&&l(c)}),t-=s,r-=a,ee.forEach(e.nodes(),function(u){var c=e.node(u);c.x-=t,c.y-=r}),ee.forEach(e.edges(),function(u){var c=e.edge(u);ee.forEach(c.points,function(f){f.x-=t,f.y-=r}),ee.has(c,"x")&&(c.x-=t),ee.has(c,"y")&&(c.y-=r)}),o.width=n-t+s,o.height=i-r+a}function Bz(e){ee.forEach(e.edges(),function(t){var n=e.edge(t),r=e.node(t.v),i=e.node(t.w),o,s;n.points?(o=n.points[0],s=n.points[n.points.length-1]):(n.points=[],o=i,s=r),n.points.unshift(rr.intersectRect(r,o)),n.points.push(rr.intersectRect(i,s))})}function Hz(e){ee.forEach(e.edges(),function(t){var n=e.edge(t);if(ee.has(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function Vz(e){ee.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}function Uz(e){ee.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),o=e.node(ee.last(n.borderLeft)),s=e.node(ee.last(n.borderRight));n.width=Math.abs(s.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}}),ee.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function Wz(e){ee.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function Gz(e){var t=rr.buildLayerMatrix(e);ee.forEach(t,function(n){var r=0;ee.forEach(n,function(i,o){var s=e.node(i);s.order=o+r,ee.forEach(s.selfEdges,function(a){rr.addDummyNode(e,"selfedge",{width:a.label.width,height:a.label.height,rank:s.rank,order:o+ ++r,e:a.e,label:a.label},"_se")}),delete s.selfEdges})})}function Kz(e){ee.forEach(e.nodes(),function(t){var n=e.node(t);if(n.dummy==="selfedge"){var r=e.node(n.e.v),i=r.x+r.width/2,o=r.y,s=n.x-i,a=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*s/3,y:o-a},{x:i+5*s/6,y:o-a},{x:i+s,y:o},{x:i+5*s/6,y:o+a},{x:i+2*s/3,y:o+a}],n.label.x=n.x,n.label.y=n.y}})}function Xh(e,t){return ee.mapValues(ee.pick(e,t),Number)}function Qh(e){var t={};return ee.forEach(e,function(n,r){t[r.toLowerCase()]=n}),t}var Cs=we,Yz=ft,Xz=Ut.Graph,Qz={debugOrdering:Zz};function Zz(e){var t=Yz.buildLayerMatrix(e),n=new Xz({compound:!0,multigraph:!0}).setGraph({});return Cs.forEach(e.nodes(),function(r){n.setNode(r,{label:r}),n.setParent(r,"layer"+e.node(r).rank)}),Cs.forEach(e.edges(),function(r){n.setEdge(r.v,r.w,{},r.name)}),Cs.forEach(t,function(r,i){var o="layer"+i;n.setNode(o,{rank:"same"}),Cs.reduce(r,function(s,a){return n.setEdge(s,a,{style:"invis"}),a})}),n}var Jz="0.8.5",eD={graphlib:Ut,layout:Ez,debug:Qz,util:{time:ft.time,notime:ft.notime},version:Jz};const Zw=cm(eD),Jw=(e,t)=>{const n=new Zw.graphlib.Graph;return n.setGraph({rankdir:"TB",align:"UL",nodesep:20,ranksep:70,marginx:100,marginy:30,ranker:"longest-path"}),n.setDefaultEdgeLabel(()=>({})),e.forEach(r=>{n.setNode(r.id,{width:r.data.width??280,height:r.data.height??90})}),t.forEach(r=>{n.setEdge(r.source,r.target)}),Zw.layout(n),{nodes:e.map(r=>{const i=n.node(r.id);return{...r,targetPosition:X.Top,sourcePosition:X.Bottom,position:{x:i.x-(r.data.width??280)/2,y:i.y-(r.data.height??90)/2}}}),edges:t}},eb=(e,t,n)=>{let r=[],i=[],o=null,s=null,a=[];const l=n.theme||"industrial";return e.forEach((u,c)=>{var y,v;if((u.level||1)!==1)return;const f=280;let d=95;u.state==="active"&&u.stations&&(d+=35);const p=t===u.id;if(r.push({id:u.id,type:"documentNode",data:{...u,width:f,height:d,isExpanded:p,...n},draggable:!1,connectable:!1,position:{x:0,y:0},zIndex:p?1e3:0}),o){const w=(y=e[c-1])==null?void 0:y.state;i.push({id:"e-"+o+"-"+u.id,source:o,target:u.id,type:"smoothstep",animated:w==="active",style:{stroke:V2(w,l),strokeWidth:3}})}((v=u.children)==null?void 0:v.length)>0&&(s=u.id,a=u.children),o=u.id}),{nodes:r,edges:i,epicBacklogId:s,epicChildren:a}},tb=(e,t,n,r,i)=>{const{nodes:o,edges:s}=e;if(!t||!n.length)return{nodes:o,edges:s};const a=o.find(x=>x.id===t);if(!a)return{nodes:o,edges:s};const l=a.position.x,u=a.position.y+(a.data.height||95),c=a.data.state,f=i.theme||"industrial",d=V2(c,f),p=c==="active",y=Mt.EPIC_HEIGHT+Mt.EPIC_GAP_Y,v=Math.ceil(n.length/Mt.EPICS_PER_ROW),w=l+280*.15,m=50,g={};n.forEach((x,_)=>{const S=Math.floor(_/Mt.EPICS_PER_ROW);g[S]||(g[S]=[]),g[S].push({epic:x,idx:_})});for(let x=0;x<v;x++){const _=g[x]||[];if(_.length===0)continue;const S=u+Mt.EPIC_OFFSET_Y+x*y,E=`junction-row-${x}`;o.push({id:E,type:"waypoint",position:{x:w,y:S-m},draggable:!1,connectable:!1,selectable:!1}),x===0?s.push({id:`e-spine-drop-${x}`,source:t,target:E,type:"straight",animated:p,style:{stroke:d,strokeWidth:2}}):s.push({id:`e-spine-${x-1}-to-${x}`,source:`junction-row-${x-1}`,target:E,type:"straight",animated:p,style:{stroke:d,strokeWidth:2}}),_.forEach(({epic:N,idx:j})=>{const R=j%Mt.EPICS_PER_ROW,q=l+Mt.EPIC_OFFSET_X+R*(Mt.EPIC_WIDTH+Mt.EPIC_GAP_X),I=S,z=r===N.id;o.push({id:N.id,type:"documentNode",data:{...N,width:Mt.EPIC_WIDTH,height:Mt.EPIC_HEIGHT,isExpanded:z,...i},draggable:!1,connectable:!1,position:{x:q,y:I},targetPosition:X.Top,sourcePosition:X.Bottom,zIndex:z?1e3:0}),s.push({id:`e-branch-${N.id}`,source:E,target:N.id,type:"smoothstep",pathOptions:{borderRadius:20},animated:p,style:{stroke:d,strokeWidth:2}})})}return{nodes:o,edges:s}},tD={queued:"queued",blocked:"queued",assembling:"active",binding:"active",auditing:"active",remediating:"active",awaiting_operator:"active",stabilized:"stabilized",halted:"queued"},nb={pgc:"PGC",bind:"BIND",asm:"ASM",aud:"AUD",rem:"REM",done:"DONE"};function nD(e){const t={};for(const n of e.projects)t[n.id]={id:n.id,projectId:n.project_id,name:n.name,description:n.description||"",status:n.status==="active"?"active":n.is_archived?"complete":"queued",icon:n.icon,createdAt:n.created_at,isArchived:n.is_archived||!1};return t}function rD(e,t=[]){const n=[],r=[],i=[];for(const o of e.tracks){const s=iD(o,t);o.scope==="epic"?i.push(s):r.push(s)}for(const o of r)o.id==="epic_backlog"&&i.length>0&&(o.children=i.map(s=>({...s,level:2}))),n.push(o);return n}function iD(e,t=[]){const n=tD[e.state]||"queued",r=e.state==="awaiting_operator",i=t.find(a=>a.document_type===e.document_type);let o=null;(n==="active"||r)&&(o=oD(e.stations,e.state));let s=null;return i&&i.questions&&(s=i.questions.map((a,l)=>({id:a.id||`q${l+1}`,text:a.question||a.text||a,required:a.required!==!1}))),{id:e.document_type,name:e.document_name||sD(e.document_type),desc:e.description||"",state:n,intent:"mandatory",level:1,stations:o,questions:s,interruptId:i==null?void 0:i.id,blockedBy:e.blocked_by||[]}}function oD(e,t){if(!e||e.length===0){const n=t==="awaiting_operator"?"pgc":t==="assembling"?"asm":t==="binding"?"pgc":t==="auditing"?"aud":null;return ru.map(r=>({id:r,label:nb[r]||r.toUpperCase(),state:n===r?"active":ru.indexOf(r)<ru.indexOf(n)?"complete":"pending",needs_input:r==="pgc"&&t==="awaiting_operator"}))}return e.map(n=>({id:n.station,label:nb[n.station]||n.station.toUpperCase(),state:n.state||"pending",needs_input:n.needs_input||!1}))}function sD(e){return e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function aD({includeArchived:e=!1}={}){const[t,n]=k.useState({}),[r,i]=k.useState(!0),[o,s]=k.useState(null),a=k.useCallback(async()=>{i(!0),s(null);try{const u=await De.getProjects({includeArchived:e}),c=nD(u);n(c)}catch(u){s(u.message),console.error("Failed to fetch projects:",u)}finally{i(!1)}},[e]),l=k.useCallback(async u=>{try{const c=await De.createProject({name:u,description:""});return n(f=>({...f,[c.id]:{id:c.id,projectId:c.project_id,name:c.name,description:c.description||"",status:"active",icon:c.icon,createdAt:c.created_at}})),c}catch(c){throw s(c.message),console.error("Failed to create project:",c),c}},[]);return k.useEffect(()=>{a()},[a]),{projects:t,loading:r,error:o,addProject:l,refresh:a}}function lD(e){const[t,n]=k.useState([]),[r,i]=k.useState("idle"),[o,s]=k.useState([]),[a,l]=k.useState(!0),[u,c]=k.useState(null),[f,d]=k.useState(!1),p=k.useRef(null),y=k.useRef(null),v=k.useCallback(async()=>{if(e)try{l(!0),c(null);const[_,S]=await Promise.all([De.getProductionStatus(e),De.getProjectInterrupts(e).catch(()=>[])]);s(S),i(_.line_state),n(rD(_,S))}catch(_){c(_.message),console.error("Failed to fetch production status:",_)}finally{l(!1)}},[e]),w=k.useCallback(()=>{if(!e)return;p.current&&p.current.close();const _=NM(e);p.current=_,_.addEventListener("connected",()=>{d(!0),c(null),console.log(`SSE connected for project ${e}`)}),_.addEventListener("station_transition",S=>{try{const E=JSON.parse(S.data);console.log("Station transition:",E),v()}catch(E){console.error("Failed to parse station_transition:",E)}}),_.addEventListener("line_stopped",S=>{try{const E=JSON.parse(S.data);console.log("Line stopped:",E),i("stopped"),v()}catch(E){console.error("Failed to parse line_stopped:",E)}}),_.addEventListener("production_complete",S=>{try{const E=JSON.parse(S.data);console.log("Production complete:",E),i("complete"),v()}catch(E){console.error("Failed to parse production_complete:",E)}}),_.addEventListener("interrupt_resolved",S=>{try{const E=JSON.parse(S.data);console.log("Interrupt resolved:",E),v()}catch(E){console.error("Failed to parse interrupt_resolved:",E)}}),_.addEventListener("track_started",S=>{try{const E=JSON.parse(S.data);console.log("Track started:",E),i("active"),v()}catch(E){console.error("Failed to parse track_started:",E)}}),_.onerror=S=>{console.error("SSE error:",S),d(!1),c("Connection lost"),_.close(),y.current=setTimeout(()=>{console.log("Attempting SSE reconnect..."),w()},3e3)}},[e,v]),m=k.useCallback(()=>{y.current&&clearTimeout(y.current),p.current&&(p.current.close(),p.current=null),d(!1)},[]),g=k.useCallback(async(_,S)=>{try{await De.resolveInterrupt(_,{answers:S}),await v()}catch(E){throw console.error("Failed to resolve interrupt:",E),E}},[v]),x=k.useCallback(async(_=null)=>{try{await De.startProduction(e,_),i("active"),await v()}catch(S){throw console.error("Failed to start production:",S),S}},[e,v]);return k.useEffect(()=>(v(),w(),()=>m()),[v,w,m]),{data:t,lineState:r,interrupts:o,loading:a,error:u,connected:f,refresh:v,resolveInterrupt:g,startProduction:x}}const rb="combine-theme";function uD(e="industrial"){const[t,n]=k.useState(()=>{if(typeof window>"u")return e;const o=localStorage.getItem(rb);return o&&Fn.includes(o)?o:e});k.useEffect(()=>{localStorage.setItem(rb,t)},[t]);const r=k.useCallback(o=>{Fn.includes(o)&&n(o)},[]),i=k.useCallback(()=>{n(o=>{const s=Fn.indexOf(o);return Fn[(s+1)%Fn.length]})},[]);return{theme:t,setTheme:r,cycleTheme:i}}function cD(){const[e,t]=k.useState(null),[n,r]=k.useState("idle"),[i,o]=k.useState([]),[s,a]=k.useState(null),[l,u]=k.useState(null),[c,f]=k.useState({}),[d,p]=k.useState(0),[y,v]=k.useState([]),[w,m]=k.useState(!1),[g,x]=k.useState(null),[_,S]=k.useState(null),[E,N]=k.useState(null),[j,R]=k.useState(!1),[q,I]=k.useState(!1),z=k.useRef(null),L=k.useRef(!0);k.useEffect(()=>(L.current=!0,()=>{L.current=!1,z.current&&z.current.close()}),[]);const b=k.useCallback(M=>{L.current&&(r(M.phase),o(M.messages||[]),a(M.pending_prompt),u(M.pending_choices),f(M.interpretation||{}),p(M.confidence||0),v(M.missing_fields||[]),m(M.can_initialize||!1),x(M.gate_outcome),S(M.project))},[]),A=k.useCallback(async()=>{N(null),R(!0);try{const M=await De.startIntake();if(!L.current)return;t(M.execution_id),r(M.phase||"describe"),a(M.pending_prompt),o([]),f({}),S(null),x(null)}catch(M){if(!L.current)return;N(M.message||"Failed to start intake")}finally{L.current&&R(!1)}},[]),T=k.useCallback(async M=>{if(!e||!M.trim())return;N(null),I(!0);const D={role:"user",content:M};o(B=>[...B,D]);try{const B=await De.submitIntakeMessage(e,M);if(!L.current)return;b(B)}catch(B){if(!L.current)return;o(V=>V.filter(K=>K!==D)),N(B.message||"Failed to submit message")}finally{L.current&&I(!1)}},[e,b]),F=k.useCallback(async(M,D)=>{if(e){N(null),f(B=>({...B,[M]:{value:D,source:"user",locked:!0}}));try{const B=await De.updateIntakeField(e,M,D);if(!L.current)return;b(B)}catch(B){if(!L.current)return;N(B.message||"Failed to update field");const V=await De.getIntakeState(e);L.current&&b(V)}}},[e,b]),P=k.useCallback(async()=>{if(!(!e||!w)){N(null),R(!0);try{const M=await De.initializeIntake(e);if(!L.current)return;b(M),M.phase==="generating"&&C()}catch(M){if(!L.current)return;N(M.message||"Failed to initialize project"),R(!1)}}},[e,w,b]),C=k.useCallback(()=>{z.current&&z.current.close();const M=CM(e);z.current=M,M.addEventListener("started",D=>{if(!L.current)return;const B=JSON.parse(D.data);console.log("Intake started:",B)}),M.addEventListener("progress",D=>{if(!L.current)return;const B=JSON.parse(D.data);console.log("Intake progress:",B.current_node)}),M.addEventListener("complete",async D=>{if(!L.current)return;const B=JSON.parse(D.data);console.log("Intake complete:",B),M.close(),z.current=null,r("complete"),x(B.gate_outcome),S(B.project),R(!1)}),M.addEventListener("error",D=>{if(L.current&&M.readyState!==EventSource.CLOSED){try{const B=JSON.parse(D.data);N(B.message||"Generation failed")}catch{N("Connection lost during generation")}M.close(),z.current=null,R(!1)}}),M.onerror=()=>{L.current&&M.readyState===EventSource.CLOSED&&(z.current=null,R(!1))}},[e]),O=k.useCallback(()=>{z.current&&(z.current.close(),z.current=null),t(null),r("idle"),o([]),a(null),u(null),f({}),p(0),v([]),m(!1),x(null),S(null),N(null),R(!1),I(!1)},[]);return{executionId:e,phase:n,messages:i,pendingPrompt:s,pendingChoices:l,interpretation:c,confidence:d,missingFields:y,canInitialize:w,gateOutcome:g,project:_,error:E,loading:j,submitting:q,startIntake:A,submitMessage:T,updateField:F,lockAndGenerate:P,reset:O}}const fD={documentNode:MM,waypoint:qM},dD={industrial:"Industrial",light:"Light",blueprint:"Blueprint"};function hD({projectId:e,projectCode:t,projectName:n,isArchived:r,autoExpandNodeId:i,theme:o,onThemeChange:s,onProjectUpdate:a,onProjectArchive:l,onProjectUnarchive:u,onProjectDelete:c}){const{data:f,lineState:d,loading:p,error:y,connected:v,resolveInterrupt:w}=lD(e),[m,g]=k.useState([]),[x,_]=k.useState(null),[S,E]=k.useState(null),[N,j]=k.useState(null),[R,q]=k.useState(!1),[I,z]=k.useState(""),[L,b]=k.useState(!1),[A,T]=k.useState(!1),F=xg();k.useEffect(()=>{f.length>0&&g(f)},[f]),k.useEffect(()=>{i&&m.length>0&&setTimeout(()=>{_(i),E("questions")},300)},[i,m.length]),k.useEffect(()=>{_(null),E(null)},[e]);const P=k.useCallback(()=>{const U=Fn.indexOf(o);s(Fn[(U+1)%Fn.length])},[o,s]),C=k.useCallback(()=>{z(n||""),q(!0)},[n]),O=k.useCallback(async()=>{if(!I.trim()||I===n){q(!1);return}T(!0);try{await a(e,{name:I.trim()}),q(!1)}catch(U){console.error("Failed to update name:",U)}finally{T(!1)}},[I,n,e,a]),M=k.useCallback(()=>{q(!1),z("")},[]),D=k.useCallback(async()=>{T(!0);try{r?await u(e):await l(e)}catch(U){console.error("Failed to toggle archive:",U)}finally{T(!1)}},[e,r,l,u]),B=k.useCallback(async()=>{T(!0);try{await c(e),b(!1)}catch(U){console.error("Failed to delete:",U)}finally{T(!1)}},[e,c]),V=k.useCallback(U=>{const oe=F.getNode(U);if(oe){const G=window.innerWidth,se=-oe.position.x*.9+G/2-400,Te=-oe.position.y*.9+120;F.setViewport({x:se,y:Te,zoom:.9},{duration:800})}},[F]),K=k.useMemo(()=>({onExpand:(U,oe)=>{_(U),E(oe)},onCollapse:()=>{_(null),E(null),setTimeout(()=>F.fitView({padding:.2,duration:300}),50)},onViewFullDocument:U=>{j(U)},onSubmitQuestions:async(U,oe)=>{console.log("Submitted:",U,oe);const W=m.find(G=>G.id===U);if(W!=null&&W.interruptId)try{await w(W.interruptId,oe)}catch(G){console.error("Failed to submit answers:",G)}_(null),E(null),g(G=>{const se=Te=>Te.map(le=>le.id===U&&le.stations?{...le,stations:le.stations.map(de=>de.id==="pgc"?{...de,state:"complete",needs_input:!1}:de.id==="asm"?{...de,state:"active"}:de)}:le.children?{...le,children:se(le.children)}:le);return se(G)})}}),[F,m,w]),{layoutNodes:Q,layoutEdges:Z}=k.useMemo(()=>{if(m.length===0)return{layoutNodes:[],layoutEdges:[]};const U={...K,expandType:S,theme:o,onZoomToNode:V,projectId:e,projectCode:t},{nodes:oe,edges:W,epicBacklogId:G,epicChildren:se}=eb(m,x,U),Te=Jw(oe,W),{nodes:le,edges:de}=tb(Te,G,se,x,U);return{layoutNodes:le.map(ye=>({...ye,data:{...ye.data,expandType:ye.id===x?S:null}})),layoutEdges:de}},[m,x,S,K,o,V,e,t]),[ae,re,ie]=iM(Q),[je,ve,Me]=oM(Z);k.useEffect(()=>{if(m.length===0)return;const U={...K,expandType:S,theme:o,onZoomToNode:V,projectId:e,projectCode:t},{nodes:oe,edges:W,epicBacklogId:G,epicChildren:se}=eb(m,x,U),Te=Jw(oe,W),{nodes:le,edges:de}=tb(Te,G,se,x,U),he=le.map(ye=>({...ye,data:{...ye.data,expandType:ye.id===x?S:null}}));re(he),ve(de)},[m,x,S,K,re,ve,o,V,e,t]);const Ie=k.useCallback((U,oe)=>{if(x)return;const W=["queued","active","stabilized"];g(G=>{const se=Te=>Te.map(le=>{var de;if(le.id===oe.id){const he=W[(W.indexOf(le.state)+1)%W.length],ye=(de=le.stations)==null?void 0:de.map(Be=>{var bt;return he==="stabilized"?{...Be,state:"complete",needs_input:!1}:he==="active"?Be.id==="pgc"?{...Be,state:"active",needs_input:!!((bt=le.questions)!=null&&bt.length)}:{...Be,state:"pending"}:{...Be,state:"pending",needs_input:!1}});return{...le,state:he,stations:ye}}return le.children?{...le,children:se(le.children)}:le});return se(G)})},[x]);return p&&m.length===0?h.jsx("div",{className:"flex items-center justify-center h-full",style:{background:"var(--bg-canvas)"},children:h.jsxs("div",{className:"text-center",children:[h.jsx("img",{src:"/logo-light.png",alt:"The Combine",className:"h-12 mx-auto mb-4 animate-pulse"}),h.jsx("p",{style:{color:"var(--text-muted)"},children:"Loading production line..."})]})}):y&&m.length===0?h.jsx("div",{className:"flex items-center justify-center h-full",style:{background:"var(--bg-canvas)"},children:h.jsx("div",{className:"text-center p-6 rounded-lg",style:{background:"var(--bg-panel)"},children:h.jsx("p",{className:"text-red-500 mb-4",children:y})})}):h.jsxs("div",{className:"w-full h-full",children:[h.jsxs(F2,{nodes:ae,edges:je,onNodesChange:ie,onEdgesChange:Me,onNodeClick:Ie,nodeTypes:fD,nodesDraggable:!1,nodesConnectable:!1,edgesUpdatable:!1,edgesFocusable:!1,elementsSelectable:!1,fitView:!0,fitViewOptions:{padding:.2},minZoom:.3,maxZoom:1.5,style:{background:"var(--bg-canvas)"},proOptions:{hideAttribution:!0},defaultEdgeOptions:{type:"smoothstep"},children:[h.jsx(fo,{position:"top-left",children:h.jsxs("div",{className:"space-y-2",children:[h.jsx("div",{className:"subway-panel backdrop-blur rounded-lg px-4 py-3 border",children:h.jsxs("div",{className:"flex items-center justify-between gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:"Production Line"}),h.jsxs("p",{className:"text-xs",style:{color:"var(--text-muted)"},children:[d==="active"&&h.jsx("span",{className:"text-amber-500",children:" Active"}),d==="stopped"&&h.jsx("span",{className:"text-red-500",children:" Stopped"}),d==="complete"&&h.jsx("span",{className:"text-emerald-500",children:" Complete"}),d==="idle"&&h.jsx("span",{children:" Idle"}),!v&&h.jsx("span",{className:"ml-2 text-red-400",children:"(Disconnected)"})]})]}),h.jsx("button",{onClick:P,className:"subway-button px-3 py-1.5 rounded-md text-xs font-medium transition-colors",children:dD[o]})]})}),h.jsx("div",{className:"subway-panel backdrop-blur rounded-lg px-4 py-3 border",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0",style:{background:"var(--state-active-bg)"},children:h.jsx("svg",{className:"w-5 h-5 text-white",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:h.jsx("path",{d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),h.jsxs("div",{className:"min-w-0 flex-1",children:[h.jsx("p",{className:"text-xs font-mono",style:{color:"var(--text-muted)"},children:t||"No Project"}),R?h.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[h.jsx("input",{type:"text",value:I,onChange:U=>z(U.target.value),onKeyDown:U=>{U.key==="Enter"&&O(),U.key==="Escape"&&M()},className:"flex-1 px-2 py-1 text-sm rounded border bg-transparent",style:{color:"var(--text-primary)",borderColor:"var(--border-panel)"},autoFocus:!0,disabled:A}),h.jsx("button",{onClick:O,disabled:A,className:"p-1 rounded hover:bg-white/10",title:"Save",children:h.jsx("svg",{className:"w-4 h-4 text-emerald-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:h.jsx("path",{d:"M5 13l4 4L19 7"})})}),h.jsx("button",{onClick:M,disabled:A,className:"p-1 rounded hover:bg-white/10",title:"Cancel",children:h.jsx("svg",{className:"w-4 h-4",style:{color:"var(--text-muted)"},viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:h.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}):h.jsx("p",{className:"text-sm font-semibold truncate",style:{color:"var(--text-primary)"},children:n||"Untitled Project"})]}),!R&&h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("button",{onClick:C,className:"p-1.5 rounded hover:bg-white/10 transition-colors",style:{color:"var(--text-muted)"},title:"Edit name",children:h.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("path",{d:"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"}),h.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),h.jsx("button",{onClick:D,disabled:A,className:"p-1.5 rounded hover:bg-white/10 transition-colors",style:{color:r?"#f59e0b":"var(--text-muted)"},title:r?"Unarchive project":"Archive project",children:h.jsxs("svg",{className:"w-4 h-4 relative",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("path",{d:"M21 8v13H3V8M1 3h22v5H1zM10 12h4"}),r&&h.jsx("path",{d:"M4 20L20 4",strokeWidth:"2.5",stroke:"currentColor"})]})}),h.jsx("button",{onClick:()=>b(!0),disabled:A||!r,className:`p-1.5 rounded transition-colors ${r?"hover:bg-red-500/20":""}`,style:{color:"var(--text-muted)",opacity:r?1:.3,cursor:r?"pointer":"not-allowed"},title:r?"Delete project":"Archive project first to delete",children:h.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:h.jsx("path",{d:"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"})})})]})]})})]})}),h.jsx(mM,{position:"top-right",nodeColor:U=>{var oe,W;return((oe=U.data)==null?void 0:oe.state)==="stabilized"?"#10b981":((W=U.data)==null?void 0:W.state)==="active"?"#f59e0b":"#475569"},maskColor:"rgba(11, 17, 32, 0.85)",style:{background:"var(--bg-panel)",border:"1px solid var(--border-panel)",borderRadius:8},pannable:!0,zoomable:!0}),h.jsx(fo,{position:"bottom-left",children:h.jsxs("div",{className:"subway-panel flex gap-4 text-[10px] backdrop-blur px-4 py-2.5 rounded-lg border",children:[h.jsx("span",{style:{color:"var(--text-muted)"},className:"font-medium",children:"STATE:"}),h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:"var(--state-stabilized-bg)"}}),h.jsx("span",{style:{color:"var(--text-muted)"},children:"Stabilized"})]}),h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:"var(--state-active-bg)"}}),h.jsx("span",{style:{color:"var(--text-muted)"},children:"Active"})]}),h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:"var(--state-queued-bg)"}}),h.jsx("span",{style:{color:"var(--text-muted)"},children:"Queued"})]})]})}),h.jsx(fo,{position:"bottom-right",children:h.jsx("div",{className:"subway-panel text-[10px] px-2 py-1 rounded",style:{color:"var(--text-muted)"},children:"Scroll to zoom | Drag to pan"})})]}),N&&h.jsx(JM,{projectId:e,docTypeId:N,onClose:()=>j(null)}),L&&h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:h.jsxs("div",{className:"rounded-lg p-6 max-w-sm mx-4",style:{background:"var(--bg-panel)",border:"1px solid var(--border-panel)"},children:[h.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:"var(--text-primary)"},children:"Delete Project?"}),h.jsxs("p",{className:"text-sm mb-4",style:{color:"var(--text-muted)"},children:["This will permanently delete ",h.jsx("strong",{children:n})," and all its documents. This action cannot be undone."]}),h.jsxs("div",{className:"flex gap-3 justify-end",children:[h.jsx("button",{onClick:()=>b(!1),disabled:A,className:"px-4 py-2 rounded text-sm font-medium transition-colors",style:{color:"var(--text-muted)"},children:"Cancel"}),h.jsx("button",{onClick:B,disabled:A,className:"px-4 py-2 rounded text-sm font-medium bg-red-500 text-white hover:bg-red-600 transition-colors",children:A?"Deleting...":"Delete"})]})]})})]})}function js({messages:e,pendingPrompt:t}){const n=k.useRef(null);return k.useEffect(()=>{var r;(r=n.current)==null||r.scrollIntoView({behavior:"smooth"})},[e,t]),h.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[e.map((r,i)=>h.jsx("div",{className:`flex ${r.role==="user"?"justify-end":"justify-start"}`,children:h.jsx("div",{className:`max-w-[85%] rounded-lg px-3 py-2 text-sm ${r.role==="user"?"bg-emerald-500/20 text-emerald-100 rounded-br-sm":"bg-violet-500/20 text-violet-100 rounded-bl-sm"}`,children:r.content})},i)),t&&h.jsx("div",{className:"flex justify-start",children:h.jsx("div",{className:"max-w-[85%] rounded-lg px-3 py-2 text-sm bg-violet-500/20 text-violet-100 rounded-bl-sm",children:t})}),h.jsx("div",{ref:n})]})}function pD({onSubmit:e,disabled:t,placeholder:n}){const[r,i]=k.useState(""),o=k.useRef(null);k.useEffect(()=>{var l;t||(l=o.current)==null||l.focus()},[t]);const s=l=>{l.key==="Enter"&&!l.shiftKey&&(l.preventDefault(),r.trim()&&!t&&(e(r.trim()),i("")))},a=()=>{r.trim()&&!t&&(e(r.trim()),i(""))};return h.jsxs("div",{className:"p-3 border-t",style:{borderColor:"var(--border-panel)"},children:[h.jsxs("div",{className:"flex gap-2",children:[h.jsx("textarea",{ref:o,value:r,onChange:l=>i(l.target.value),onKeyDown:s,disabled:t,placeholder:n||"Type your message...",rows:2,className:"flex-1 rounded-lg px-3 py-2 text-sm resize-none",style:{background:"var(--bg-input)",border:"1px solid var(--border-input)",color:"var(--text-primary)"}}),h.jsx("button",{onClick:a,disabled:t||!r.trim(),className:`px-4 rounded-lg font-medium text-sm transition-colors ${t||!r.trim()?"bg-slate-600 text-slate-400 cursor-not-allowed":"bg-violet-500 text-white hover:bg-violet-400"}`,children:"Send"})]}),h.jsx("p",{className:"text-[10px] mt-1",style:{color:"var(--text-muted)"},children:"Press Enter to send, Shift+Enter for newline"})]})}const mD={project_name:"Project Name",problem_statement:"Problem Statement",project_type:"Project Type"},gD=["project_name","problem_statement","project_type"];function vD({interpretation:e,missingFields:t,canInitialize:n,onUpdateField:r,onInitialize:i,loading:o}){const[s,a]=k.useState(null),[l,u]=k.useState(""),c=(p,y)=>{a(p),u(y)},f=async()=>{s&&l.trim()&&(await r(s,l.trim()),a(null),u(""))},d=()=>{a(null),u("")};return h.jsxs("div",{className:"p-4 space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide",style:{color:"var(--text-muted)"},children:"Review & Lock"}),t.length>0&&h.jsxs("span",{className:"text-[10px] px-2 py-0.5 rounded bg-amber-500/20 text-amber-400",children:[t.length," missing"]})]}),gD.map(p=>{const y=e[p];if(!y)return null;const v=y.locked,w=t.includes(p),m=s===p;return h.jsxs("div",{className:"space-y-1",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("label",{className:"text-[10px] font-medium",style:{color:"var(--text-muted)"},children:[mD[p]||p,w&&h.jsx("span",{className:"text-amber-400 ml-1",children:"*"})]}),v&&h.jsx("span",{className:"text-[9px] px-1.5 py-0.5 rounded bg-emerald-500/20 text-emerald-400",children:"locked"})]}),m?h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{type:"text",value:l,onChange:g=>u(g.target.value),onKeyDown:g=>{g.key==="Enter"&&f(),g.key==="Escape"&&d()},autoFocus:!0,className:"flex-1 rounded px-2 py-1.5 text-xs",style:{background:"var(--bg-input)",border:"1px solid var(--border-input)",color:"var(--text-primary)"}}),h.jsx("button",{onClick:f,className:"px-2 py-1 rounded text-xs bg-emerald-500 text-white",children:"Save"}),h.jsx("button",{onClick:d,className:"px-2 py-1 rounded text-xs",style:{background:"var(--bg-button)",color:"var(--text-muted)"},children:"Cancel"})]}):h.jsx("div",{onClick:()=>!v&&c(p,y.value),className:`rounded px-2 py-1.5 text-xs ${v?"cursor-default":"cursor-pointer hover:bg-white/5"} ${w?"border border-amber-500/50":""}`,style:{background:"var(--bg-input)",color:y.value?"var(--text-primary)":"var(--text-muted)"},children:y.value||"Click to edit..."})]},p)}),h.jsx("button",{onClick:i,disabled:!n||o,className:`w-full py-2.5 rounded-lg text-sm font-medium transition-colors ${n&&!o?"bg-violet-500 text-white hover:bg-violet-400":"bg-slate-600 text-slate-400 cursor-not-allowed"}`,children:o?"Initializing...":"Lock & Initialize Project"}),!n&&h.jsx("p",{className:"text-[10px] text-center",style:{color:"var(--text-muted)"},children:"Fill all required fields to continue"})]})}function yD(){return h.jsxs("div",{className:"flex flex-col items-center justify-center py-8 px-4",children:[h.jsxs("div",{className:"relative w-16 h-16 mb-4",children:[h.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-violet-500/20"}),h.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-t-violet-500 border-r-transparent border-b-transparent border-l-transparent animate-spin"}),h.jsx("div",{className:"absolute inset-3 rounded-full bg-violet-500/20 animate-pulse"})]}),h.jsx("h3",{className:"text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Generating Project"}),h.jsx("p",{className:"text-xs text-center max-w-[200px]",style:{color:"var(--text-muted)"},children:"Creating intake document and running quality checks..."}),h.jsxs("div",{className:"flex gap-1 mt-4",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-violet-500 animate-bounce",style:{animationDelay:"0ms"}}),h.jsx("div",{className:"w-2 h-2 rounded-full bg-violet-500 animate-bounce",style:{animationDelay:"150ms"}}),h.jsx("div",{className:"w-2 h-2 rounded-full bg-violet-500 animate-bounce",style:{animationDelay:"300ms"}})]})]})}const ib={qualified:{icon:"check",iconBg:"bg-emerald-500/20",iconColor:"text-emerald-400",title:"Project Created",description:"Your project is ready for PM Discovery."},not_ready:{icon:"warning",iconBg:"bg-amber-500/20",iconColor:"text-amber-400",title:"Not Ready",description:"Additional information is needed before proceeding."},out_of_scope:{icon:"x",iconBg:"bg-slate-500/20",iconColor:"text-slate-400",title:"Out of Scope",description:"This request is outside the scope of The Combine."},redirect:{icon:"arrow",iconBg:"bg-blue-500/20",iconColor:"text-blue-400",title:"Redirected",description:"This request has been redirected to a different engagement type."},blocked:{icon:"warning",iconBg:"bg-amber-500/20",iconColor:"text-amber-400",title:"Blocked",description:"The workflow could not complete due to validation issues."}};function xD({type:e,className:t}){switch(e){case"check":return h.jsx("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:h.jsx("polyline",{points:"20 6 9 17 4 12"})});case"warning":return h.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("path",{d:"M12 9v4M12 17h.01"}),h.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"})]});case"x":return h.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),h.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]});case"arrow":return h.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),h.jsx("polyline",{points:"12 5 19 12 12 19"})]});default:return null}}function _D({gateOutcome:e,project:t,onViewProject:n,onClose:r}){const i=ib[e]||ib.blocked,o=e==="qualified";return h.jsxs("div",{className:"p-6 text-center",children:[h.jsx("div",{className:`w-16 h-16 rounded-full ${i.iconBg} flex items-center justify-center mx-auto mb-4`,children:h.jsx(xD,{type:i.icon,className:`w-8 h-8 ${i.iconColor}`})}),h.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:"var(--text-primary)"},children:i.title}),h.jsx("p",{className:"text-sm mb-4",style:{color:"var(--text-muted)"},children:i.description}),o&&t&&h.jsxs("div",{className:"rounded-lg p-3 mb-4",style:{background:"var(--bg-input)"},children:[h.jsx("p",{className:"text-xs font-mono mb-1",style:{color:"var(--text-muted)"},children:t.project_id}),h.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:t.name})]}),h.jsxs("div",{className:"flex gap-2 justify-center",children:[o&&t&&h.jsx("button",{onClick:n,className:"px-4 py-2 rounded-lg text-sm font-medium bg-emerald-500 text-white hover:bg-emerald-400 transition-colors",children:"View Project"}),h.jsx("button",{onClick:r,className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors",style:{background:"var(--bg-button)",color:"var(--text-muted)"},children:"Close"})]})]})}function wD({onClose:e,onComplete:t}){const{phase:n,messages:r,pendingPrompt:i,interpretation:o,missingFields:s,canInitialize:a,gateOutcome:l,project:u,error:c,loading:f,submitting:d,startIntake:p,submitMessage:y,updateField:v,lockAndGenerate:w,reset:m}=cD();k.useEffect(()=>(p(),()=>m()),[]);const g=()=>{m(),e()},x=()=>{u&&t&&t(u),g()},_=()=>{const E=[{id:"describe",label:"Describe"},{id:"review",label:"Review"},{id:"generating",label:"Generate"},{id:"complete",label:"Done"}],N=E.findIndex(j=>j.id===n);return h.jsx("div",{className:"flex items-center gap-1 text-[10px]",children:E.map((j,R)=>h.jsxs("div",{className:"flex items-center",children:[h.jsx("span",{className:`px-2 py-0.5 rounded ${R===N?"bg-violet-500/30 text-violet-300":R<N?"text-emerald-400":"text-slate-500"}`,children:j.label}),R<E.length-1&&h.jsx("span",{className:"mx-1 text-slate-600",children:"/"})]},j.id))})},S=()=>{if(f&&n==="idle")return h.jsx("div",{className:"flex-1 flex items-center justify-center",children:h.jsx("div",{className:"w-8 h-8 border-2 border-t-violet-500 border-r-transparent border-b-transparent border-l-transparent rounded-full animate-spin"})});switch(n){case"describe":return h.jsxs(h.Fragment,{children:[h.jsx(js,{messages:r,pendingPrompt:i}),h.jsx(pD,{onSubmit:y,disabled:d,placeholder:"Describe what you want to build..."})]});case"review":return h.jsxs(h.Fragment,{children:[h.jsx(js,{messages:r}),h.jsx("div",{className:"border-t",style:{borderColor:"var(--border-panel)"},children:h.jsx(vD,{interpretation:o,missingFields:s,canInitialize:a,onUpdateField:v,onInitialize:w,loading:f})})]});case"generating":return h.jsxs(h.Fragment,{children:[h.jsx(js,{messages:r}),h.jsx(yD,{})]});case"complete":return h.jsxs(h.Fragment,{children:[h.jsx(js,{messages:r}),h.jsx(_D,{gateOutcome:l,project:u,onViewProject:x,onClose:g})]});default:return null}};return h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0, 0, 0, 0.6)"},children:h.jsxs("div",{className:"flex flex-col w-full max-w-lg h-[80vh] rounded-xl shadow-2xl tray-slide",style:{background:"var(--bg-panel)",border:"1px solid var(--border-panel)"},children:[h.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b",style:{borderColor:"var(--border-panel)"},children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-8 h-8 rounded-lg bg-violet-500/20 flex items-center justify-center",children:h.jsx("svg",{className:"w-4 h-4 text-violet-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:h.jsx("path",{d:"M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"})})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:"New Project"}),_()]})]}),h.jsx("button",{onClick:g,className:"p-2 rounded-lg hover:bg-white/10 transition-colors",style:{color:"var(--text-muted)"},children:h.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),h.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),c&&h.jsx("div",{className:"px-4 py-2 bg-red-500/20 text-red-300 text-sm",children:c}),S()]})})}function bD(){var j,R,q;const[e,t]=k.useState(!1),{projects:n,loading:r,error:i,refresh:o}=aD({includeArchived:e}),[s,a]=k.useState(null),[l,u]=k.useState(null),[c,f]=k.useState(!1),{theme:d,setTheme:p}=uD(),y=Object.keys(n),v=s&&n[s]?s:y[0]||null;k.useEffect(()=>{if(v&&n[v]){const I=n[v];document.title=`${I.projectId} - The Combine`}else document.title="The Combine"},[v,n]);const w=I=>{a(I),u(null)},m=()=>{f(!0)},g=async I=>{await o(),I&&I.id&&(a(I.id),u("concierge_intake")),f(!1)},x=()=>{f(!1)},_=async(I,z)=>{try{await De.updateProject(I,z),await o()}catch(L){throw console.error("Failed to update project:",L),L}},S=async I=>{try{if(await De.archiveProject(I),!e){const z=Object.values(n).sort((A,T)=>{const F=(A.name||"").localeCompare(T.name||"");return F!==0?F:(A.projectId||"").localeCompare(T.projectId||"")}),L=z.findIndex(A=>A.id===I),b=z[L+1]||z[L-1]||null;a((b==null?void 0:b.id)||null)}await o()}catch(z){throw console.error("Failed to archive project:",z),z}},E=async I=>{try{await De.unarchiveProject(I),await o()}catch(z){throw console.error("Failed to unarchive project:",z),z}},N=async I=>{try{await De.deleteProject(I);const z=Object.values(n).sort((A,T)=>{const F=(A.name||"").localeCompare(T.name||"");return F!==0?F:(A.projectId||"").localeCompare(T.projectId||"")}),L=z.findIndex(A=>A.id===I),b=z[L+1]||z[L-1]||null;a((b==null?void 0:b.id)||null),await o()}catch(z){throw console.error("Failed to delete project:",z),z}};return r?h.jsx("div",{className:`flex h-screen items-center justify-center theme-${d}`,style:{background:"var(--bg-canvas)"},children:h.jsxs("div",{className:"text-center",children:[h.jsx("img",{src:"/logo-light.png",alt:"The Combine",className:"h-16 mx-auto mb-4 animate-pulse"}),h.jsx("p",{style:{color:"var(--text-muted)"},children:"Loading projects..."})]})}):i?h.jsx("div",{className:`flex h-screen items-center justify-center theme-${d}`,style:{background:"var(--bg-canvas)"},children:h.jsxs("div",{className:"text-center p-6 rounded-lg",style:{background:"var(--bg-panel)"},children:[h.jsxs("p",{className:"text-red-500 mb-4",children:["Failed to load projects: ",i]}),h.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-emerald-500 text-white rounded hover:bg-emerald-600",children:"Retry"})]})}):h.jsxs("div",{className:`flex h-screen theme-${d}`,children:[h.jsx(wM,{projects:n,selectedId:v,onSelectProject:w,onNewProject:m,showArchived:e,onToggleShowArchived:()=>t(I=>!I)}),h.jsx("div",{className:"flex-1",children:v?h.jsx(wg,{children:h.jsx(hD,{projectId:v,projectCode:(j=n[v])==null?void 0:j.projectId,projectName:(R=n[v])==null?void 0:R.name,isArchived:(q=n[v])==null?void 0:q.isArchived,autoExpandNodeId:l,theme:d,onThemeChange:p,onProjectUpdate:_,onProjectArchive:S,onProjectUnarchive:E,onProjectDelete:N})},v):h.jsx("div",{className:"flex items-center justify-center h-full",style:{background:"var(--bg-canvas)"},children:h.jsx("div",{className:"text-center",children:h.jsx("p",{style:{color:"var(--text-muted)"},children:"No projects yet. Create one to get started."})})})}),c&&h.jsx(wD,{onClose:x,onComplete:g})]})}Zh.createRoot(document.getElementById("root")).render(h.jsx($.StrictMode,{children:h.jsx(bD,{})}));
//# sourceMappingURL=index-C9l-e0y9.js.map
