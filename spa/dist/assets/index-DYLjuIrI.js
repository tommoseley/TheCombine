(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Zo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ob={exports:{}},ja={},sb={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Do=Symbol.for("react.element"),BN=Symbol.for("react.portal"),HN=Symbol.for("react.fragment"),VN=Symbol.for("react.strict_mode"),UN=Symbol.for("react.profiler"),WN=Symbol.for("react.provider"),GN=Symbol.for("react.context"),KN=Symbol.for("react.forward_ref"),YN=Symbol.for("react.suspense"),XN=Symbol.for("react.memo"),QN=Symbol.for("react.lazy"),Gg=Symbol.iterator;function ZN(e){return e===null||typeof e!="object"?null:(e=Gg&&e[Gg]||e["@@iterator"],typeof e=="function"?e:null)}var ab={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lb=Object.assign,ub={};function wi(e,t,n){this.props=e,this.context=t,this.refs=ub,this.updater=n||ab}wi.prototype.isReactComponent={};wi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};wi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function cb(){}cb.prototype=wi.prototype;function fm(e,t,n){this.props=e,this.context=t,this.refs=ub,this.updater=n||ab}var dm=fm.prototype=new cb;dm.constructor=fm;lb(dm,wi.prototype);dm.isPureReactComponent=!0;var Kg=Array.isArray,fb=Object.prototype.hasOwnProperty,hm={current:null},db={key:!0,ref:!0,__self:!0,__source:!0};function hb(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)fb.call(t,r)&&!db.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Do,type:e,key:o,ref:s,props:i,_owner:hm.current}}function JN(e,t){return{$$typeof:Do,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function pm(e){return typeof e=="object"&&e!==null&&e.$$typeof===Do}function eC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Yg=/\/+/g;function _l(e,t){return typeof e=="object"&&e!==null&&e.key!=null?eC(""+e.key):t.toString(36)}function Ts(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Do:case BN:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+_l(s,0):r,Kg(i)?(n="",e!=null&&(n=e.replace(Yg,"$&/")+"/"),Ts(i,t,n,"",function(u){return u})):i!=null&&(pm(i)&&(i=JN(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Yg,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",Kg(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+_l(o,a);s+=Ts(o,t,n,l,i)}else if(l=ZN(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+_l(o,a++),s+=Ts(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Jo(e,t,n){if(e==null)return e;var r=[],i=0;return Ts(e,r,"","",function(o){return t.call(n,o,i++)}),r}function tC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qe={current:null},Rs={transition:null},nC={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:Rs,ReactCurrentOwner:hm};function pb(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:Jo,forEach:function(e,t,n){Jo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Jo(e,function(){t++}),t},toArray:function(e){return Jo(e,function(t){return t})||[]},only:function(e){if(!pm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Component=wi;ne.Fragment=HN;ne.Profiler=UN;ne.PureComponent=fm;ne.StrictMode=VN;ne.Suspense=YN;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nC;ne.act=pb;ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=lb({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=hm.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)fb.call(t,l)&&!db.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Do,type:e.type,key:i,ref:o,props:r,_owner:s}};ne.createContext=function(e){return e={$$typeof:GN,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:WN,_context:e},e.Consumer=e};ne.createElement=hb;ne.createFactory=function(e){var t=hb.bind(null,e);return t.type=e,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:KN,render:e}};ne.isValidElement=pm;ne.lazy=function(e){return{$$typeof:QN,_payload:{_status:-1,_result:e},_init:tC}};ne.memo=function(e,t){return{$$typeof:XN,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=Rs.transition;Rs.transition={};try{e()}finally{Rs.transition=t}};ne.unstable_act=pb;ne.useCallback=function(e,t){return Qe.current.useCallback(e,t)};ne.useContext=function(e){return Qe.current.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e){return Qe.current.useDeferredValue(e)};ne.useEffect=function(e,t){return Qe.current.useEffect(e,t)};ne.useId=function(){return Qe.current.useId()};ne.useImperativeHandle=function(e,t,n){return Qe.current.useImperativeHandle(e,t,n)};ne.useInsertionEffect=function(e,t){return Qe.current.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return Qe.current.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return Qe.current.useMemo(e,t)};ne.useReducer=function(e,t,n){return Qe.current.useReducer(e,t,n)};ne.useRef=function(e){return Qe.current.useRef(e)};ne.useState=function(e){return Qe.current.useState(e)};ne.useSyncExternalStore=function(e,t,n){return Qe.current.useSyncExternalStore(e,t,n)};ne.useTransition=function(){return Qe.current.useTransition()};ne.version="18.3.1";sb.exports=ne;var k=sb.exports;const B=cm(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rC=k,iC=Symbol.for("react.element"),oC=Symbol.for("react.fragment"),sC=Object.prototype.hasOwnProperty,aC=rC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lC={key:!0,ref:!0,__self:!0,__source:!0};function mb(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)sC.call(t,r)&&!lC.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:iC,type:e,key:o,ref:s,props:i,_owner:aC.current}}ja.Fragment=oC;ja.jsx=mb;ja.jsxs=mb;ob.exports=ja;var p=ob.exports,Zh={},gb={exports:{}},vt={},vb={exports:{}},yb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,C){var A=j.length;j.push(C);e:for(;0<A;){var P=A-1>>>1,z=j[P];if(0<i(z,C))j[P]=C,j[A]=z,A=P;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var C=j[0],A=j.pop();if(A!==C){j[0]=A;e:for(var P=0,z=j.length,$=z>>>1;P<$;){var V=2*(P+1)-1,U=j[V],Y=V+1,Q=j[Y];if(0>i(U,A))Y<z&&0>i(Q,U)?(j[P]=Q,j[Y]=A,P=Y):(j[P]=U,j[V]=A,P=V);else if(Y<z&&0>i(Q,A))j[P]=Q,j[Y]=A,P=Y;else break e}}return C}function i(j,C){var A=j.sortIndex-C.sortIndex;return A!==0?A:j.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,d=3,h=!1,y=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(j){for(var C=n(u);C!==null;){if(C.callback===null)r(u);else if(C.startTime<=j)r(u),C.sortIndex=C.expirationTime,t(l,C);else break;C=n(u)}}function _(j){if(v=!1,x(j),!y)if(n(l)!==null)y=!0,I(E);else{var C=n(u);C!==null&&L(_,C.startTime-j)}}function E(j,C){y=!1,v&&(v=!1,m(T),T=-1),h=!0;var A=d;try{for(x(C),f=n(l);f!==null&&(!(f.expirationTime>C)||j&&!q());){var P=f.callback;if(typeof P=="function"){f.callback=null,d=f.priorityLevel;var z=P(f.expirationTime<=C);C=e.unstable_now(),typeof z=="function"?f.callback=z:f===n(l)&&r(l),x(C)}else r(l);f=n(l)}if(f!==null)var $=!0;else{var V=n(u);V!==null&&L(_,V.startTime-C),$=!1}return $}finally{f=null,d=A,h=!1}}var S=!1,N=null,T=-1,R=5,M=-1;function q(){return!(e.unstable_now()-M<R)}function F(){if(N!==null){var j=e.unstable_now();M=j;var C=!0;try{C=N(!0,j)}finally{C?D():(S=!1,N=null)}}else S=!1}var D;if(typeof g=="function")D=function(){g(F)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,O=b.port2;b.port1.onmessage=F,D=function(){O.postMessage(null)}}else D=function(){w(F,0)};function I(j){N=j,S||(S=!0,D())}function L(j,C){T=w(function(){j(e.unstable_now())},C)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){y||h||(y=!0,I(E))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(j){switch(d){case 1:case 2:case 3:var C=3;break;default:C=d}var A=d;d=C;try{return j()}finally{d=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,C){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var A=d;d=j;try{return C()}finally{d=A}},e.unstable_scheduleCallback=function(j,C,A){var P=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?P+A:P):A=P,j){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=A+z,j={id:c++,callback:C,priorityLevel:j,startTime:A,expirationTime:z,sortIndex:-1},A>P?(j.sortIndex=A,t(u,j),n(l)===null&&j===n(u)&&(v?(m(T),T=-1):v=!0,L(_,A-P))):(j.sortIndex=z,t(l,j),y||h||(y=!0,I(E))),j},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(j){var C=d;return function(){var A=d;d=C;try{return j.apply(this,arguments)}finally{d=A}}}})(yb);vb.exports=yb;var uC=vb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cC=k,mt=uC;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xb=new Set,po={};function Rr(e,t){ci(e,t),ci(e+"Capture",t)}function ci(e,t){for(po[e]=t,e=0;e<t.length;e++)xb.add(t[e])}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jh=Object.prototype.hasOwnProperty,fC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xg={},Qg={};function dC(e){return Jh.call(Qg,e)?!0:Jh.call(Xg,e)?!1:fC.test(e)?Qg[e]=!0:(Xg[e]=!0,!1)}function hC(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function pC(e,t,n,r){if(t===null||typeof t>"u"||hC(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ze(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var De={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){De[e]=new Ze(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];De[t]=new Ze(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){De[e]=new Ze(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){De[e]=new Ze(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){De[e]=new Ze(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){De[e]=new Ze(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){De[e]=new Ze(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){De[e]=new Ze(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){De[e]=new Ze(e,5,!1,e.toLowerCase(),null,!1,!1)});var mm=/[\-:]([a-z])/g;function gm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mm,gm);De[t]=new Ze(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mm,gm);De[t]=new Ze(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mm,gm);De[t]=new Ze(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){De[e]=new Ze(e,1,!1,e.toLowerCase(),null,!1,!1)});De.xlinkHref=new Ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){De[e]=new Ze(e,1,!1,e.toLowerCase(),null,!0,!0)});function vm(e,t,n,r){var i=De.hasOwnProperty(t)?De[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(pC(t,n,i,r)&&(n=null),r||i===null?dC(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Nn=cC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,es=Symbol.for("react.element"),Br=Symbol.for("react.portal"),Hr=Symbol.for("react.fragment"),ym=Symbol.for("react.strict_mode"),ep=Symbol.for("react.profiler"),_b=Symbol.for("react.provider"),wb=Symbol.for("react.context"),xm=Symbol.for("react.forward_ref"),tp=Symbol.for("react.suspense"),np=Symbol.for("react.suspense_list"),_m=Symbol.for("react.memo"),An=Symbol.for("react.lazy"),bb=Symbol.for("react.offscreen"),Zg=Symbol.iterator;function Ii(e){return e===null||typeof e!="object"?null:(e=Zg&&e[Zg]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Object.assign,wl;function Vi(e){if(wl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);wl=t&&t[1]||""}return`
`+wl+e}var bl=!1;function Sl(e,t){if(!e||bl)return"";bl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{bl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Vi(e):""}function mC(e){switch(e.tag){case 5:return Vi(e.type);case 16:return Vi("Lazy");case 13:return Vi("Suspense");case 19:return Vi("SuspenseList");case 0:case 2:case 15:return e=Sl(e.type,!1),e;case 11:return e=Sl(e.type.render,!1),e;case 1:return e=Sl(e.type,!0),e;default:return""}}function rp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Hr:return"Fragment";case Br:return"Portal";case ep:return"Profiler";case ym:return"StrictMode";case tp:return"Suspense";case np:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case wb:return(e.displayName||"Context")+".Consumer";case _b:return(e._context.displayName||"Context")+".Provider";case xm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _m:return t=e.displayName||null,t!==null?t:rp(e.type)||"Memo";case An:t=e._payload,e=e._init;try{return rp(e(t))}catch{}}return null}function gC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rp(t);case 8:return t===ym?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function er(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vC(e){var t=Sb(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ts(e){e._valueTracker||(e._valueTracker=vC(e))}function Eb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Sb(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Us(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ip(e,t){var n=t.checked;return ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Jg(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=er(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function kb(e,t){t=t.checked,t!=null&&vm(e,"checked",t,!1)}function op(e,t){kb(e,t);var n=er(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?sp(e,t.type,n):t.hasOwnProperty("defaultValue")&&sp(e,t.type,er(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ev(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function sp(e,t,n){(t!=="number"||Us(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ui=Array.isArray;function ti(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+er(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ap(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function tv(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(H(92));if(Ui(n)){if(1<n.length)throw Error(H(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:er(n)}}function Nb(e,t){var n=er(t.value),r=er(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function nv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Cb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Cb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ns,jb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ns=ns||document.createElement("div"),ns.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ns.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function mo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var no={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yC=["Webkit","ms","Moz","O"];Object.keys(no).forEach(function(e){yC.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),no[t]=no[e]})});function Tb(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||no.hasOwnProperty(e)&&no[e]?(""+t).trim():t+"px"}function Rb(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Tb(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var xC=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function up(e,t){if(t){if(xC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function cp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fp=null;function wm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var dp=null,ni=null,ri=null;function rv(e){if(e=Bo(e)){if(typeof dp!="function")throw Error(H(280));var t=e.stateNode;t&&(t=Aa(t),dp(e.stateNode,e.type,t))}}function Ib(e){ni?ri?ri.push(e):ri=[e]:ni=e}function Pb(){if(ni){var e=ni,t=ri;if(ri=ni=null,rv(e),t)for(e=0;e<t.length;e++)rv(t[e])}}function Ab(e,t){return e(t)}function Mb(){}var El=!1;function qb(e,t,n){if(El)return e(t,n);El=!0;try{return Ab(e,t,n)}finally{El=!1,(ni!==null||ri!==null)&&(Mb(),Pb())}}function go(e,t){var n=e.stateNode;if(n===null)return null;var r=Aa(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(H(231,t,typeof n));return n}var hp=!1;if(xn)try{var Pi={};Object.defineProperty(Pi,"passive",{get:function(){hp=!0}}),window.addEventListener("test",Pi,Pi),window.removeEventListener("test",Pi,Pi)}catch{hp=!1}function _C(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var ro=!1,Ws=null,Gs=!1,pp=null,wC={onError:function(e){ro=!0,Ws=e}};function bC(e,t,n,r,i,o,s,a,l){ro=!1,Ws=null,_C.apply(wC,arguments)}function SC(e,t,n,r,i,o,s,a,l){if(bC.apply(this,arguments),ro){if(ro){var u=Ws;ro=!1,Ws=null}else throw Error(H(198));Gs||(Gs=!0,pp=u)}}function Ir(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ob(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function iv(e){if(Ir(e)!==e)throw Error(H(188))}function EC(e){var t=e.alternate;if(!t){if(t=Ir(e),t===null)throw Error(H(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return iv(i),e;if(o===r)return iv(i),t;o=o.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?e:t}function Lb(e){return e=EC(e),e!==null?zb(e):null}function zb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=zb(e);if(t!==null)return t;e=e.sibling}return null}var Db=mt.unstable_scheduleCallback,ov=mt.unstable_cancelCallback,kC=mt.unstable_shouldYield,NC=mt.unstable_requestPaint,Se=mt.unstable_now,CC=mt.unstable_getCurrentPriorityLevel,bm=mt.unstable_ImmediatePriority,Fb=mt.unstable_UserBlockingPriority,Ks=mt.unstable_NormalPriority,jC=mt.unstable_LowPriority,$b=mt.unstable_IdlePriority,Ta=null,Jt=null;function TC(e){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(Ta,e,void 0,(e.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:PC,RC=Math.log,IC=Math.LN2;function PC(e){return e>>>=0,e===0?32:31-(RC(e)/IC|0)|0}var rs=64,is=4194304;function Wi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ys(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Wi(a):(o&=s,o!==0&&(r=Wi(o)))}else s=n&~i,s!==0?r=Wi(s):o!==0&&(r=Wi(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-zt(t),i=1<<n,r|=e[n],t&=~i;return r}function AC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function MC(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-zt(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=AC(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function mp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Bb(){var e=rs;return rs<<=1,!(rs&4194240)&&(rs=64),e}function kl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Fo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-zt(t),e[t]=n}function qC(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-zt(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Sm(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-zt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var le=0;function Hb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Vb,Em,Ub,Wb,Gb,gp=!1,os=[],Vn=null,Un=null,Wn=null,vo=new Map,yo=new Map,Ln=[],OC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sv(e,t){switch(e){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":vo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yo.delete(t.pointerId)}}function Ai(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Bo(t),t!==null&&Em(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function LC(e,t,n,r,i){switch(t){case"focusin":return Vn=Ai(Vn,e,t,n,r,i),!0;case"dragenter":return Un=Ai(Un,e,t,n,r,i),!0;case"mouseover":return Wn=Ai(Wn,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return vo.set(o,Ai(vo.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,yo.set(o,Ai(yo.get(o)||null,e,t,n,r,i)),!0}return!1}function Kb(e){var t=hr(e.target);if(t!==null){var n=Ir(t);if(n!==null){if(t=n.tag,t===13){if(t=Ob(n),t!==null){e.blockedOn=t,Gb(e.priority,function(){Ub(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Is(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=vp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);fp=r,n.target.dispatchEvent(r),fp=null}else return t=Bo(n),t!==null&&Em(t),e.blockedOn=n,!1;t.shift()}return!0}function av(e,t,n){Is(e)&&n.delete(t)}function zC(){gp=!1,Vn!==null&&Is(Vn)&&(Vn=null),Un!==null&&Is(Un)&&(Un=null),Wn!==null&&Is(Wn)&&(Wn=null),vo.forEach(av),yo.forEach(av)}function Mi(e,t){e.blockedOn===t&&(e.blockedOn=null,gp||(gp=!0,mt.unstable_scheduleCallback(mt.unstable_NormalPriority,zC)))}function xo(e){function t(i){return Mi(i,e)}if(0<os.length){Mi(os[0],e);for(var n=1;n<os.length;n++){var r=os[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Vn!==null&&Mi(Vn,e),Un!==null&&Mi(Un,e),Wn!==null&&Mi(Wn,e),vo.forEach(t),yo.forEach(t),n=0;n<Ln.length;n++)r=Ln[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ln.length&&(n=Ln[0],n.blockedOn===null);)Kb(n),n.blockedOn===null&&Ln.shift()}var ii=Nn.ReactCurrentBatchConfig,Xs=!0;function DC(e,t,n,r){var i=le,o=ii.transition;ii.transition=null;try{le=1,km(e,t,n,r)}finally{le=i,ii.transition=o}}function FC(e,t,n,r){var i=le,o=ii.transition;ii.transition=null;try{le=4,km(e,t,n,r)}finally{le=i,ii.transition=o}}function km(e,t,n,r){if(Xs){var i=vp(e,t,n,r);if(i===null)ql(e,t,r,Qs,n),sv(e,r);else if(LC(i,e,t,n,r))r.stopPropagation();else if(sv(e,r),t&4&&-1<OC.indexOf(e)){for(;i!==null;){var o=Bo(i);if(o!==null&&Vb(o),o=vp(e,t,n,r),o===null&&ql(e,t,r,Qs,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else ql(e,t,r,null,n)}}var Qs=null;function vp(e,t,n,r){if(Qs=null,e=wm(r),e=hr(e),e!==null)if(t=Ir(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ob(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qs=e,null}function Yb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(CC()){case bm:return 1;case Fb:return 4;case Ks:case jC:return 16;case $b:return 536870912;default:return 16}default:return 16}}var Bn=null,Nm=null,Ps=null;function Xb(){if(Ps)return Ps;var e,t=Nm,n=t.length,r,i="value"in Bn?Bn.value:Bn.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return Ps=i.slice(e,1<r?1-r:void 0)}function As(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ss(){return!0}function lv(){return!1}function yt(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ss:lv,this.isPropagationStopped=lv,this}return ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),t}var bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cm=yt(bi),$o=ve({},bi,{view:0,detail:0}),$C=yt($o),Nl,Cl,qi,Ra=ve({},$o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qi&&(qi&&e.type==="mousemove"?(Nl=e.screenX-qi.screenX,Cl=e.screenY-qi.screenY):Cl=Nl=0,qi=e),Nl)},movementY:function(e){return"movementY"in e?e.movementY:Cl}}),uv=yt(Ra),BC=ve({},Ra,{dataTransfer:0}),HC=yt(BC),VC=ve({},$o,{relatedTarget:0}),jl=yt(VC),UC=ve({},bi,{animationName:0,elapsedTime:0,pseudoElement:0}),WC=yt(UC),GC=ve({},bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),KC=yt(GC),YC=ve({},bi,{data:0}),cv=yt(YC),XC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ZC[e])?!!t[e]:!1}function jm(){return JC}var ej=ve({},$o,{key:function(e){if(e.key){var t=XC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=As(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?QC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jm,charCode:function(e){return e.type==="keypress"?As(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?As(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tj=yt(ej),nj=ve({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fv=yt(nj),rj=ve({},$o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jm}),ij=yt(rj),oj=ve({},bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),sj=yt(oj),aj=ve({},Ra,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lj=yt(aj),uj=[9,13,27,32],Tm=xn&&"CompositionEvent"in window,io=null;xn&&"documentMode"in document&&(io=document.documentMode);var cj=xn&&"TextEvent"in window&&!io,Qb=xn&&(!Tm||io&&8<io&&11>=io),dv=" ",hv=!1;function Zb(e,t){switch(e){case"keyup":return uj.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vr=!1;function fj(e,t){switch(e){case"compositionend":return Jb(t);case"keypress":return t.which!==32?null:(hv=!0,dv);case"textInput":return e=t.data,e===dv&&hv?null:e;default:return null}}function dj(e,t){if(Vr)return e==="compositionend"||!Tm&&Zb(e,t)?(e=Xb(),Ps=Nm=Bn=null,Vr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qb&&t.locale!=="ko"?null:t.data;default:return null}}var hj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hj[e.type]:t==="textarea"}function eS(e,t,n,r){Ib(r),t=Zs(t,"onChange"),0<t.length&&(n=new Cm("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var oo=null,_o=null;function pj(e){fS(e,0)}function Ia(e){var t=Gr(e);if(Eb(t))return e}function mj(e,t){if(e==="change")return t}var tS=!1;if(xn){var Tl;if(xn){var Rl="oninput"in document;if(!Rl){var mv=document.createElement("div");mv.setAttribute("oninput","return;"),Rl=typeof mv.oninput=="function"}Tl=Rl}else Tl=!1;tS=Tl&&(!document.documentMode||9<document.documentMode)}function gv(){oo&&(oo.detachEvent("onpropertychange",nS),_o=oo=null)}function nS(e){if(e.propertyName==="value"&&Ia(_o)){var t=[];eS(t,_o,e,wm(e)),qb(pj,t)}}function gj(e,t,n){e==="focusin"?(gv(),oo=t,_o=n,oo.attachEvent("onpropertychange",nS)):e==="focusout"&&gv()}function vj(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ia(_o)}function yj(e,t){if(e==="click")return Ia(t)}function xj(e,t){if(e==="input"||e==="change")return Ia(t)}function _j(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ft=typeof Object.is=="function"?Object.is:_j;function wo(e,t){if(Ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Jh.call(t,i)||!Ft(e[i],t[i]))return!1}return!0}function vv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yv(e,t){var n=vv(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vv(n)}}function rS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function iS(){for(var e=window,t=Us();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Us(e.document)}return t}function Rm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wj(e){var t=iS(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&rS(n.ownerDocument.documentElement,n)){if(r!==null&&Rm(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=yv(n,o);var s=yv(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var bj=xn&&"documentMode"in document&&11>=document.documentMode,Ur=null,yp=null,so=null,xp=!1;function xv(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xp||Ur==null||Ur!==Us(r)||(r=Ur,"selectionStart"in r&&Rm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),so&&wo(so,r)||(so=r,r=Zs(yp,"onSelect"),0<r.length&&(t=new Cm("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ur)))}function as(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Wr={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionend:as("Transition","TransitionEnd")},Il={},oS={};xn&&(oS=document.createElement("div").style,"AnimationEvent"in window||(delete Wr.animationend.animation,delete Wr.animationiteration.animation,delete Wr.animationstart.animation),"TransitionEvent"in window||delete Wr.transitionend.transition);function Pa(e){if(Il[e])return Il[e];if(!Wr[e])return e;var t=Wr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in oS)return Il[e]=t[n];return e}var sS=Pa("animationend"),aS=Pa("animationiteration"),lS=Pa("animationstart"),uS=Pa("transitionend"),cS=new Map,_v="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ir(e,t){cS.set(e,t),Rr(t,[e])}for(var Pl=0;Pl<_v.length;Pl++){var Al=_v[Pl],Sj=Al.toLowerCase(),Ej=Al[0].toUpperCase()+Al.slice(1);ir(Sj,"on"+Ej)}ir(sS,"onAnimationEnd");ir(aS,"onAnimationIteration");ir(lS,"onAnimationStart");ir("dblclick","onDoubleClick");ir("focusin","onFocus");ir("focusout","onBlur");ir(uS,"onTransitionEnd");ci("onMouseEnter",["mouseout","mouseover"]);ci("onMouseLeave",["mouseout","mouseover"]);ci("onPointerEnter",["pointerout","pointerover"]);ci("onPointerLeave",["pointerout","pointerover"]);Rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gi));function wv(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,SC(r,t,void 0,e),e.currentTarget=null}function fS(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;wv(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;wv(i,a,u),o=l}}}if(Gs)throw e=pp,Gs=!1,pp=null,e}function ce(e,t){var n=t[Ep];n===void 0&&(n=t[Ep]=new Set);var r=e+"__bubble";n.has(r)||(dS(t,e,2,!1),n.add(r))}function Ml(e,t,n){var r=0;t&&(r|=4),dS(n,e,r,t)}var ls="_reactListening"+Math.random().toString(36).slice(2);function bo(e){if(!e[ls]){e[ls]=!0,xb.forEach(function(n){n!=="selectionchange"&&(kj.has(n)||Ml(n,!1,e),Ml(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ls]||(t[ls]=!0,Ml("selectionchange",!1,t))}}function dS(e,t,n,r){switch(Yb(t)){case 1:var i=DC;break;case 4:i=FC;break;default:i=km}n=i.bind(null,t,n,e),i=void 0,!hp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ql(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=hr(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}qb(function(){var u=o,c=wm(n),f=[];e:{var d=cS.get(e);if(d!==void 0){var h=Cm,y=e;switch(e){case"keypress":if(As(n)===0)break e;case"keydown":case"keyup":h=tj;break;case"focusin":y="focus",h=jl;break;case"focusout":y="blur",h=jl;break;case"beforeblur":case"afterblur":h=jl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=uv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=HC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=ij;break;case sS:case aS:case lS:h=WC;break;case uS:h=sj;break;case"scroll":h=$C;break;case"wheel":h=lj;break;case"copy":case"cut":case"paste":h=KC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=fv}var v=(t&4)!==0,w=!v&&e==="scroll",m=v?d!==null?d+"Capture":null:d;v=[];for(var g=u,x;g!==null;){x=g;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,m!==null&&(_=go(g,m),_!=null&&v.push(So(g,_,x)))),w)break;g=g.return}0<v.length&&(d=new h(d,y,null,n,c),f.push({event:d,listeners:v}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==fp&&(y=n.relatedTarget||n.fromElement)&&(hr(y)||y[_n]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(y=n.relatedTarget||n.toElement,h=u,y=y?hr(y):null,y!==null&&(w=Ir(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(h=null,y=u),h!==y)){if(v=uv,_="onMouseLeave",m="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=fv,_="onPointerLeave",m="onPointerEnter",g="pointer"),w=h==null?d:Gr(h),x=y==null?d:Gr(y),d=new v(_,g+"leave",h,n,c),d.target=w,d.relatedTarget=x,_=null,hr(c)===u&&(v=new v(m,g+"enter",y,n,c),v.target=x,v.relatedTarget=w,_=v),w=_,h&&y)t:{for(v=h,m=y,g=0,x=v;x;x=Lr(x))g++;for(x=0,_=m;_;_=Lr(_))x++;for(;0<g-x;)v=Lr(v),g--;for(;0<x-g;)m=Lr(m),x--;for(;g--;){if(v===m||m!==null&&v===m.alternate)break t;v=Lr(v),m=Lr(m)}v=null}else v=null;h!==null&&bv(f,d,h,v,!1),y!==null&&w!==null&&bv(f,w,y,v,!0)}}e:{if(d=u?Gr(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var E=mj;else if(pv(d))if(tS)E=xj;else{E=vj;var S=gj}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(E=yj);if(E&&(E=E(e,u))){eS(f,E,n,c);break e}S&&S(e,d,u),e==="focusout"&&(S=d._wrapperState)&&S.controlled&&d.type==="number"&&sp(d,"number",d.value)}switch(S=u?Gr(u):window,e){case"focusin":(pv(S)||S.contentEditable==="true")&&(Ur=S,yp=u,so=null);break;case"focusout":so=yp=Ur=null;break;case"mousedown":xp=!0;break;case"contextmenu":case"mouseup":case"dragend":xp=!1,xv(f,n,c);break;case"selectionchange":if(bj)break;case"keydown":case"keyup":xv(f,n,c)}var N;if(Tm)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Vr?Zb(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Qb&&n.locale!=="ko"&&(Vr||T!=="onCompositionStart"?T==="onCompositionEnd"&&Vr&&(N=Xb()):(Bn=c,Nm="value"in Bn?Bn.value:Bn.textContent,Vr=!0)),S=Zs(u,T),0<S.length&&(T=new cv(T,e,null,n,c),f.push({event:T,listeners:S}),N?T.data=N:(N=Jb(n),N!==null&&(T.data=N)))),(N=cj?fj(e,n):dj(e,n))&&(u=Zs(u,"onBeforeInput"),0<u.length&&(c=new cv("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=N))}fS(f,t)})}function So(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zs(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=go(e,n),o!=null&&r.unshift(So(e,o,i)),o=go(e,t),o!=null&&r.push(So(e,o,i))),e=e.return}return r}function Lr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function bv(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=go(n,o),l!=null&&s.unshift(So(n,l,a))):i||(l=go(n,o),l!=null&&s.push(So(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Nj=/\r\n?/g,Cj=/\u0000|\uFFFD/g;function Sv(e){return(typeof e=="string"?e:""+e).replace(Nj,`
`).replace(Cj,"")}function us(e,t,n){if(t=Sv(t),Sv(e)!==t&&n)throw Error(H(425))}function Js(){}var _p=null,wp=null;function bp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Sp=typeof setTimeout=="function"?setTimeout:void 0,jj=typeof clearTimeout=="function"?clearTimeout:void 0,Ev=typeof Promise=="function"?Promise:void 0,Tj=typeof queueMicrotask=="function"?queueMicrotask:typeof Ev<"u"?function(e){return Ev.resolve(null).then(e).catch(Rj)}:Sp;function Rj(e){setTimeout(function(){throw e})}function Ol(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),xo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);xo(t)}function Gn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function kv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Si=Math.random().toString(36).slice(2),Qt="__reactFiber$"+Si,Eo="__reactProps$"+Si,_n="__reactContainer$"+Si,Ep="__reactEvents$"+Si,Ij="__reactListeners$"+Si,Pj="__reactHandles$"+Si;function hr(e){var t=e[Qt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_n]||n[Qt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=kv(e);e!==null;){if(n=e[Qt])return n;e=kv(e)}return t}e=n,n=e.parentNode}return null}function Bo(e){return e=e[Qt]||e[_n],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function Aa(e){return e[Eo]||null}var kp=[],Kr=-1;function or(e){return{current:e}}function fe(e){0>Kr||(e.current=kp[Kr],kp[Kr]=null,Kr--)}function ue(e,t){Kr++,kp[Kr]=e.current,e.current=t}var tr={},Ve=or(tr),ot=or(!1),Sr=tr;function fi(e,t){var n=e.type.contextTypes;if(!n)return tr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function st(e){return e=e.childContextTypes,e!=null}function ea(){fe(ot),fe(Ve)}function Nv(e,t,n){if(Ve.current!==tr)throw Error(H(168));ue(Ve,t),ue(ot,n)}function hS(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(H(108,gC(e)||"Unknown",i));return ve({},n,r)}function ta(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tr,Sr=Ve.current,ue(Ve,e),ue(ot,ot.current),!0}function Cv(e,t,n){var r=e.stateNode;if(!r)throw Error(H(169));n?(e=hS(e,t,Sr),r.__reactInternalMemoizedMergedChildContext=e,fe(ot),fe(Ve),ue(Ve,e)):fe(ot),ue(ot,n)}var fn=null,Ma=!1,Ll=!1;function pS(e){fn===null?fn=[e]:fn.push(e)}function Aj(e){Ma=!0,pS(e)}function sr(){if(!Ll&&fn!==null){Ll=!0;var e=0,t=le;try{var n=fn;for(le=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}fn=null,Ma=!1}catch(i){throw fn!==null&&(fn=fn.slice(e+1)),Db(bm,sr),i}finally{le=t,Ll=!1}}return null}var Yr=[],Xr=0,na=null,ra=0,xt=[],_t=0,Er=null,dn=1,hn="";function cr(e,t){Yr[Xr++]=ra,Yr[Xr++]=na,na=e,ra=t}function mS(e,t,n){xt[_t++]=dn,xt[_t++]=hn,xt[_t++]=Er,Er=e;var r=dn;e=hn;var i=32-zt(r)-1;r&=~(1<<i),n+=1;var o=32-zt(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,dn=1<<32-zt(t)+i|n<<i|r,hn=o+e}else dn=1<<o|n<<i|r,hn=e}function Im(e){e.return!==null&&(cr(e,1),mS(e,1,0))}function Pm(e){for(;e===na;)na=Yr[--Xr],Yr[Xr]=null,ra=Yr[--Xr],Yr[Xr]=null;for(;e===Er;)Er=xt[--_t],xt[_t]=null,hn=xt[--_t],xt[_t]=null,dn=xt[--_t],xt[_t]=null}var pt=null,ht=null,de=!1,Ot=null;function gS(e,t){var n=bt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function jv(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pt=e,ht=Gn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pt=e,ht=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Er!==null?{id:dn,overflow:hn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=bt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,pt=e,ht=null,!0):!1;default:return!1}}function Np(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Cp(e){if(de){var t=ht;if(t){var n=t;if(!jv(e,t)){if(Np(e))throw Error(H(418));t=Gn(n.nextSibling);var r=pt;t&&jv(e,t)?gS(r,n):(e.flags=e.flags&-4097|2,de=!1,pt=e)}}else{if(Np(e))throw Error(H(418));e.flags=e.flags&-4097|2,de=!1,pt=e}}}function Tv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pt=e}function cs(e){if(e!==pt)return!1;if(!de)return Tv(e),de=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!bp(e.type,e.memoizedProps)),t&&(t=ht)){if(Np(e))throw vS(),Error(H(418));for(;t;)gS(e,t),t=Gn(t.nextSibling)}if(Tv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ht=Gn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ht=null}}else ht=pt?Gn(e.stateNode.nextSibling):null;return!0}function vS(){for(var e=ht;e;)e=Gn(e.nextSibling)}function di(){ht=pt=null,de=!1}function Am(e){Ot===null?Ot=[e]:Ot.push(e)}var Mj=Nn.ReactCurrentBatchConfig;function Oi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,e))}return e}function fs(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Rv(e){var t=e._init;return t(e._payload)}function yS(e){function t(m,g){if(e){var x=m.deletions;x===null?(m.deletions=[g],m.flags|=16):x.push(g)}}function n(m,g){if(!e)return null;for(;g!==null;)t(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function i(m,g){return m=Qn(m,g),m.index=0,m.sibling=null,m}function o(m,g,x){return m.index=x,e?(x=m.alternate,x!==null?(x=x.index,x<g?(m.flags|=2,g):x):(m.flags|=2,g)):(m.flags|=1048576,g)}function s(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,g,x,_){return g===null||g.tag!==6?(g=Vl(x,m.mode,_),g.return=m,g):(g=i(g,x),g.return=m,g)}function l(m,g,x,_){var E=x.type;return E===Hr?c(m,g,x.props.children,_,x.key):g!==null&&(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===An&&Rv(E)===g.type)?(_=i(g,x.props),_.ref=Oi(m,g,x),_.return=m,_):(_=Fs(x.type,x.key,x.props,null,m.mode,_),_.ref=Oi(m,g,x),_.return=m,_)}function u(m,g,x,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=Ul(x,m.mode,_),g.return=m,g):(g=i(g,x.children||[]),g.return=m,g)}function c(m,g,x,_,E){return g===null||g.tag!==7?(g=_r(x,m.mode,_,E),g.return=m,g):(g=i(g,x),g.return=m,g)}function f(m,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Vl(""+g,m.mode,x),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case es:return x=Fs(g.type,g.key,g.props,null,m.mode,x),x.ref=Oi(m,null,g),x.return=m,x;case Br:return g=Ul(g,m.mode,x),g.return=m,g;case An:var _=g._init;return f(m,_(g._payload),x)}if(Ui(g)||Ii(g))return g=_r(g,m.mode,x,null),g.return=m,g;fs(m,g)}return null}function d(m,g,x,_){var E=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return E!==null?null:a(m,g,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case es:return x.key===E?l(m,g,x,_):null;case Br:return x.key===E?u(m,g,x,_):null;case An:return E=x._init,d(m,g,E(x._payload),_)}if(Ui(x)||Ii(x))return E!==null?null:c(m,g,x,_,null);fs(m,x)}return null}function h(m,g,x,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(x)||null,a(g,m,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case es:return m=m.get(_.key===null?x:_.key)||null,l(g,m,_,E);case Br:return m=m.get(_.key===null?x:_.key)||null,u(g,m,_,E);case An:var S=_._init;return h(m,g,x,S(_._payload),E)}if(Ui(_)||Ii(_))return m=m.get(x)||null,c(g,m,_,E,null);fs(g,_)}return null}function y(m,g,x,_){for(var E=null,S=null,N=g,T=g=0,R=null;N!==null&&T<x.length;T++){N.index>T?(R=N,N=null):R=N.sibling;var M=d(m,N,x[T],_);if(M===null){N===null&&(N=R);break}e&&N&&M.alternate===null&&t(m,N),g=o(M,g,T),S===null?E=M:S.sibling=M,S=M,N=R}if(T===x.length)return n(m,N),de&&cr(m,T),E;if(N===null){for(;T<x.length;T++)N=f(m,x[T],_),N!==null&&(g=o(N,g,T),S===null?E=N:S.sibling=N,S=N);return de&&cr(m,T),E}for(N=r(m,N);T<x.length;T++)R=h(N,m,T,x[T],_),R!==null&&(e&&R.alternate!==null&&N.delete(R.key===null?T:R.key),g=o(R,g,T),S===null?E=R:S.sibling=R,S=R);return e&&N.forEach(function(q){return t(m,q)}),de&&cr(m,T),E}function v(m,g,x,_){var E=Ii(x);if(typeof E!="function")throw Error(H(150));if(x=E.call(x),x==null)throw Error(H(151));for(var S=E=null,N=g,T=g=0,R=null,M=x.next();N!==null&&!M.done;T++,M=x.next()){N.index>T?(R=N,N=null):R=N.sibling;var q=d(m,N,M.value,_);if(q===null){N===null&&(N=R);break}e&&N&&q.alternate===null&&t(m,N),g=o(q,g,T),S===null?E=q:S.sibling=q,S=q,N=R}if(M.done)return n(m,N),de&&cr(m,T),E;if(N===null){for(;!M.done;T++,M=x.next())M=f(m,M.value,_),M!==null&&(g=o(M,g,T),S===null?E=M:S.sibling=M,S=M);return de&&cr(m,T),E}for(N=r(m,N);!M.done;T++,M=x.next())M=h(N,m,T,M.value,_),M!==null&&(e&&M.alternate!==null&&N.delete(M.key===null?T:M.key),g=o(M,g,T),S===null?E=M:S.sibling=M,S=M);return e&&N.forEach(function(F){return t(m,F)}),de&&cr(m,T),E}function w(m,g,x,_){if(typeof x=="object"&&x!==null&&x.type===Hr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case es:e:{for(var E=x.key,S=g;S!==null;){if(S.key===E){if(E=x.type,E===Hr){if(S.tag===7){n(m,S.sibling),g=i(S,x.props.children),g.return=m,m=g;break e}}else if(S.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===An&&Rv(E)===S.type){n(m,S.sibling),g=i(S,x.props),g.ref=Oi(m,S,x),g.return=m,m=g;break e}n(m,S);break}else t(m,S);S=S.sibling}x.type===Hr?(g=_r(x.props.children,m.mode,_,x.key),g.return=m,m=g):(_=Fs(x.type,x.key,x.props,null,m.mode,_),_.ref=Oi(m,g,x),_.return=m,m=_)}return s(m);case Br:e:{for(S=x.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){n(m,g.sibling),g=i(g,x.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else t(m,g);g=g.sibling}g=Ul(x,m.mode,_),g.return=m,m=g}return s(m);case An:return S=x._init,w(m,g,S(x._payload),_)}if(Ui(x))return y(m,g,x,_);if(Ii(x))return v(m,g,x,_);fs(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(n(m,g.sibling),g=i(g,x),g.return=m,m=g):(n(m,g),g=Vl(x,m.mode,_),g.return=m,m=g),s(m)):n(m,g)}return w}var hi=yS(!0),xS=yS(!1),ia=or(null),oa=null,Qr=null,Mm=null;function qm(){Mm=Qr=oa=null}function Om(e){var t=ia.current;fe(ia),e._currentValue=t}function jp(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function oi(e,t){oa=e,Mm=Qr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(rt=!0),e.firstContext=null)}function kt(e){var t=e._currentValue;if(Mm!==e)if(e={context:e,memoizedValue:t,next:null},Qr===null){if(oa===null)throw Error(H(308));Qr=e,oa.dependencies={lanes:0,firstContext:e}}else Qr=Qr.next=e;return t}var pr=null;function Lm(e){pr===null?pr=[e]:pr.push(e)}function _S(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Lm(t)):(n.next=i.next,i.next=n),t.interleaved=n,wn(e,r)}function wn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Mn=!1;function zm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Kn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,se&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,wn(e,n)}return i=r.interleaved,i===null?(t.next=t,Lm(r)):(t.next=i.next,i.next=t),r.interleaved=t,wn(e,n)}function Ms(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Sm(e,n)}}function Iv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function sa(e,t,n,r){var i=e.updateQueue;Mn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var d=a.lane,h=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,v=a;switch(d=t,h=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){f=y.call(h,f,d);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,d=typeof y=="function"?y.call(h,f,d):y,d==null)break e;f=ve({},f,d);break e;case 2:Mn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Nr|=s,e.lanes=s,e.memoizedState=f}}function Pv(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var Ho={},en=or(Ho),ko=or(Ho),No=or(Ho);function mr(e){if(e===Ho)throw Error(H(174));return e}function Dm(e,t){switch(ue(No,t),ue(ko,e),ue(en,Ho),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:lp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=lp(t,e)}fe(en),ue(en,t)}function pi(){fe(en),fe(ko),fe(No)}function bS(e){mr(No.current);var t=mr(en.current),n=lp(t,e.type);t!==n&&(ue(ko,e),ue(en,n))}function Fm(e){ko.current===e&&(fe(en),fe(ko))}var me=or(0);function aa(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zl=[];function $m(){for(var e=0;e<zl.length;e++)zl[e]._workInProgressVersionPrimary=null;zl.length=0}var qs=Nn.ReactCurrentDispatcher,Dl=Nn.ReactCurrentBatchConfig,kr=0,ge=null,je=null,Ae=null,la=!1,ao=!1,Co=0,qj=0;function $e(){throw Error(H(321))}function Bm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ft(e[n],t[n]))return!1;return!0}function Hm(e,t,n,r,i,o){if(kr=o,ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qs.current=e===null||e.memoizedState===null?Dj:Fj,e=n(r,i),ao){o=0;do{if(ao=!1,Co=0,25<=o)throw Error(H(301));o+=1,Ae=je=null,t.updateQueue=null,qs.current=$j,e=n(r,i)}while(ao)}if(qs.current=ua,t=je!==null&&je.next!==null,kr=0,Ae=je=ge=null,la=!1,t)throw Error(H(300));return e}function Vm(){var e=Co!==0;return Co=0,e}function Kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?ge.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function Nt(){if(je===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var t=Ae===null?ge.memoizedState:Ae.next;if(t!==null)Ae=t,je=e;else{if(e===null)throw Error(H(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},Ae===null?ge.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function jo(e,t){return typeof t=="function"?t(e):t}function Fl(e){var t=Nt(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=je,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((kr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,ge.lanes|=c,Nr|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Ft(r,t.memoizedState)||(rt=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,ge.lanes|=o,Nr|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function $l(e){var t=Nt(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Ft(o,t.memoizedState)||(rt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function SS(){}function ES(e,t){var n=ge,r=Nt(),i=t(),o=!Ft(r.memoizedState,i);if(o&&(r.memoizedState=i,rt=!0),r=r.queue,Um(CS.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Ae!==null&&Ae.memoizedState.tag&1){if(n.flags|=2048,To(9,NS.bind(null,n,r,i,t),void 0,null),Me===null)throw Error(H(349));kr&30||kS(n,t,i)}return i}function kS(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function NS(e,t,n,r){t.value=n,t.getSnapshot=r,jS(t)&&TS(e)}function CS(e,t,n){return n(function(){jS(t)&&TS(e)})}function jS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ft(e,n)}catch{return!0}}function TS(e){var t=wn(e,1);t!==null&&Dt(t,e,1,-1)}function Av(e){var t=Kt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:e},t.queue=e,e=e.dispatch=zj.bind(null,ge,e),[t.memoizedState,e]}function To(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function RS(){return Nt().memoizedState}function Os(e,t,n,r){var i=Kt();ge.flags|=e,i.memoizedState=To(1|t,n,void 0,r===void 0?null:r)}function qa(e,t,n,r){var i=Nt();r=r===void 0?null:r;var o=void 0;if(je!==null){var s=je.memoizedState;if(o=s.destroy,r!==null&&Bm(r,s.deps)){i.memoizedState=To(t,n,o,r);return}}ge.flags|=e,i.memoizedState=To(1|t,n,o,r)}function Mv(e,t){return Os(8390656,8,e,t)}function Um(e,t){return qa(2048,8,e,t)}function IS(e,t){return qa(4,2,e,t)}function PS(e,t){return qa(4,4,e,t)}function AS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function MS(e,t,n){return n=n!=null?n.concat([e]):null,qa(4,4,AS.bind(null,t,e),n)}function Wm(){}function qS(e,t){var n=Nt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Bm(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function OS(e,t){var n=Nt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Bm(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function LS(e,t,n){return kr&21?(Ft(n,t)||(n=Bb(),ge.lanes|=n,Nr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,rt=!0),e.memoizedState=n)}function Oj(e,t){var n=le;le=n!==0&&4>n?n:4,e(!0);var r=Dl.transition;Dl.transition={};try{e(!1),t()}finally{le=n,Dl.transition=r}}function zS(){return Nt().memoizedState}function Lj(e,t,n){var r=Xn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},DS(e))FS(t,n);else if(n=_S(e,t,n,r),n!==null){var i=Xe();Dt(n,e,r,i),$S(n,t,r)}}function zj(e,t,n){var r=Xn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(DS(e))FS(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Ft(a,s)){var l=t.interleaved;l===null?(i.next=i,Lm(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=_S(e,t,i,r),n!==null&&(i=Xe(),Dt(n,e,r,i),$S(n,t,r))}}function DS(e){var t=e.alternate;return e===ge||t!==null&&t===ge}function FS(e,t){ao=la=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $S(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Sm(e,n)}}var ua={readContext:kt,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useInsertionEffect:$e,useLayoutEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useMutableSource:$e,useSyncExternalStore:$e,useId:$e,unstable_isNewReconciler:!1},Dj={readContext:kt,useCallback:function(e,t){return Kt().memoizedState=[e,t===void 0?null:t],e},useContext:kt,useEffect:Mv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Os(4194308,4,AS.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Os(4194308,4,e,t)},useInsertionEffect:function(e,t){return Os(4,2,e,t)},useMemo:function(e,t){var n=Kt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Kt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Lj.bind(null,ge,e),[r.memoizedState,e]},useRef:function(e){var t=Kt();return e={current:e},t.memoizedState=e},useState:Av,useDebugValue:Wm,useDeferredValue:function(e){return Kt().memoizedState=e},useTransition:function(){var e=Av(!1),t=e[0];return e=Oj.bind(null,e[1]),Kt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ge,i=Kt();if(de){if(n===void 0)throw Error(H(407));n=n()}else{if(n=t(),Me===null)throw Error(H(349));kr&30||kS(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Mv(CS.bind(null,r,o,e),[e]),r.flags|=2048,To(9,NS.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Kt(),t=Me.identifierPrefix;if(de){var n=hn,r=dn;n=(r&~(1<<32-zt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Co++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=qj++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Fj={readContext:kt,useCallback:qS,useContext:kt,useEffect:Um,useImperativeHandle:MS,useInsertionEffect:IS,useLayoutEffect:PS,useMemo:OS,useReducer:Fl,useRef:RS,useState:function(){return Fl(jo)},useDebugValue:Wm,useDeferredValue:function(e){var t=Nt();return LS(t,je.memoizedState,e)},useTransition:function(){var e=Fl(jo)[0],t=Nt().memoizedState;return[e,t]},useMutableSource:SS,useSyncExternalStore:ES,useId:zS,unstable_isNewReconciler:!1},$j={readContext:kt,useCallback:qS,useContext:kt,useEffect:Um,useImperativeHandle:MS,useInsertionEffect:IS,useLayoutEffect:PS,useMemo:OS,useReducer:$l,useRef:RS,useState:function(){return $l(jo)},useDebugValue:Wm,useDeferredValue:function(e){var t=Nt();return je===null?t.memoizedState=e:LS(t,je.memoizedState,e)},useTransition:function(){var e=$l(jo)[0],t=Nt().memoizedState;return[e,t]},useMutableSource:SS,useSyncExternalStore:ES,useId:zS,unstable_isNewReconciler:!1};function At(e,t){if(e&&e.defaultProps){t=ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Tp(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Oa={isMounted:function(e){return(e=e._reactInternals)?Ir(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xe(),i=Xn(e),o=vn(r,i);o.payload=t,n!=null&&(o.callback=n),t=Kn(e,o,i),t!==null&&(Dt(t,e,i,r),Ms(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xe(),i=Xn(e),o=vn(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Kn(e,o,i),t!==null&&(Dt(t,e,i,r),Ms(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xe(),r=Xn(e),i=vn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Kn(e,i,r),t!==null&&(Dt(t,e,r,n),Ms(t,e,r))}};function qv(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!wo(n,r)||!wo(i,o):!0}function BS(e,t,n){var r=!1,i=tr,o=t.contextType;return typeof o=="object"&&o!==null?o=kt(o):(i=st(t)?Sr:Ve.current,r=t.contextTypes,o=(r=r!=null)?fi(e,i):tr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Oa,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ov(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Oa.enqueueReplaceState(t,t.state,null)}function Rp(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},zm(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=kt(o):(o=st(t)?Sr:Ve.current,i.context=fi(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Tp(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Oa.enqueueReplaceState(i,i.state,null),sa(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function mi(e,t){try{var n="",r=t;do n+=mC(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Bl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ip(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Bj=typeof WeakMap=="function"?WeakMap:Map;function HS(e,t,n){n=vn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){fa||(fa=!0,$p=r),Ip(e,t)},n}function VS(e,t,n){n=vn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Ip(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Ip(e,t),typeof r!="function"&&(Yn===null?Yn=new Set([this]):Yn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Lv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Bj;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=nT.bind(null,e,t,n),t.then(e,e))}function zv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Dv(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=vn(-1,1),t.tag=2,Kn(n,t,1))),n.lanes|=1),e)}var Hj=Nn.ReactCurrentOwner,rt=!1;function Ye(e,t,n,r){t.child=e===null?xS(t,null,n,r):hi(t,e.child,n,r)}function Fv(e,t,n,r,i){n=n.render;var o=t.ref;return oi(t,i),r=Hm(e,t,n,r,o,i),n=Vm(),e!==null&&!rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,bn(e,t,i)):(de&&n&&Im(t),t.flags|=1,Ye(e,t,r,i),t.child)}function $v(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!eg(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,US(e,t,o,r,i)):(e=Fs(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:wo,n(s,r)&&e.ref===t.ref)return bn(e,t,i)}return t.flags|=1,e=Qn(o,r),e.ref=t.ref,e.return=t,t.child=e}function US(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(wo(o,r)&&e.ref===t.ref)if(rt=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(rt=!0);else return t.lanes=e.lanes,bn(e,t,i)}return Pp(e,t,n,r,i)}function WS(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(Jr,ft),ft|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ue(Jr,ft),ft|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ue(Jr,ft),ft|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ue(Jr,ft),ft|=r;return Ye(e,t,i,n),t.child}function GS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Pp(e,t,n,r,i){var o=st(n)?Sr:Ve.current;return o=fi(t,o),oi(t,i),n=Hm(e,t,n,r,o,i),r=Vm(),e!==null&&!rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,bn(e,t,i)):(de&&r&&Im(t),t.flags|=1,Ye(e,t,n,i),t.child)}function Bv(e,t,n,r,i){if(st(n)){var o=!0;ta(t)}else o=!1;if(oi(t,i),t.stateNode===null)Ls(e,t),BS(t,n,r),Rp(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=kt(u):(u=st(n)?Sr:Ve.current,u=fi(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Ov(t,s,r,u),Mn=!1;var d=t.memoizedState;s.state=d,sa(t,r,s,i),l=t.memoizedState,a!==r||d!==l||ot.current||Mn?(typeof c=="function"&&(Tp(t,n,c,r),l=t.memoizedState),(a=Mn||qv(t,n,a,r,d,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,wS(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:At(t.type,a),s.props=u,f=t.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=kt(l):(l=st(n)?Sr:Ve.current,l=fi(t,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==l)&&Ov(t,s,r,l),Mn=!1,d=t.memoizedState,s.state=d,sa(t,r,s,i);var y=t.memoizedState;a!==f||d!==y||ot.current||Mn?(typeof h=="function"&&(Tp(t,n,h,r),y=t.memoizedState),(u=Mn||qv(t,n,u,r,d,y,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),s.props=r,s.state=y,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ap(e,t,n,r,o,i)}function Ap(e,t,n,r,i,o){GS(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Cv(t,n,!1),bn(e,t,o);r=t.stateNode,Hj.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=hi(t,e.child,null,o),t.child=hi(t,null,a,o)):Ye(e,t,a,o),t.memoizedState=r.state,i&&Cv(t,n,!0),t.child}function KS(e){var t=e.stateNode;t.pendingContext?Nv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Nv(e,t.context,!1),Dm(e,t.containerInfo)}function Hv(e,t,n,r,i){return di(),Am(i),t.flags|=256,Ye(e,t,n,r),t.child}var Mp={dehydrated:null,treeContext:null,retryLane:0};function qp(e){return{baseLanes:e,cachePool:null,transitions:null}}function YS(e,t,n){var r=t.pendingProps,i=me.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ue(me,i&1),e===null)return Cp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Da(s,r,0,null),e=_r(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=qp(n),t.memoizedState=Mp,e):Gm(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Vj(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Qn(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Qn(a,o):(o=_r(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?qp(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Mp,r}return o=e.child,e=o.sibling,r=Qn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Gm(e,t){return t=Da({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ds(e,t,n,r){return r!==null&&Am(r),hi(t,e.child,null,n),e=Gm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Vj(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=Bl(Error(H(422))),ds(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Da({mode:"visible",children:r.children},i,0,null),o=_r(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&hi(t,e.child,null,s),t.child.memoizedState=qp(s),t.memoizedState=Mp,o);if(!(t.mode&1))return ds(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(H(419)),r=Bl(o,r,void 0),ds(e,t,s,r)}if(a=(s&e.childLanes)!==0,rt||a){if(r=Me,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,wn(e,i),Dt(r,e,i,-1))}return Jm(),r=Bl(Error(H(421))),ds(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=rT.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ht=Gn(i.nextSibling),pt=t,de=!0,Ot=null,e!==null&&(xt[_t++]=dn,xt[_t++]=hn,xt[_t++]=Er,dn=e.id,hn=e.overflow,Er=t),t=Gm(t,r.children),t.flags|=4096,t)}function Vv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),jp(e.return,t,n)}function Hl(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function XS(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ye(e,t,r.children,n),r=me.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vv(e,n,t);else if(e.tag===19)Vv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ue(me,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&aa(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Hl(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&aa(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Hl(t,!0,n,null,o);break;case"together":Hl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ls(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Nr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,n=Qn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Qn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Uj(e,t,n){switch(t.tag){case 3:KS(t),di();break;case 5:bS(t);break;case 1:st(t.type)&&ta(t);break;case 4:Dm(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ue(ia,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ue(me,me.current&1),t.flags|=128,null):n&t.child.childLanes?YS(e,t,n):(ue(me,me.current&1),e=bn(e,t,n),e!==null?e.sibling:null);ue(me,me.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return XS(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ue(me,me.current),r)break;return null;case 22:case 23:return t.lanes=0,WS(e,t,n)}return bn(e,t,n)}var QS,Op,ZS,JS;QS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Op=function(){};ZS=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,mr(en.current);var o=null;switch(n){case"input":i=ip(e,i),r=ip(e,r),o=[];break;case"select":i=ve({},i,{value:void 0}),r=ve({},r,{value:void 0}),o=[];break;case"textarea":i=ap(e,i),r=ap(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Js)}up(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(po.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(po.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ce("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};JS=function(e,t,n,r){n!==r&&(t.flags|=4)};function Li(e,t){if(!de)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Be(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Wj(e,t,n){var r=t.pendingProps;switch(Pm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(t),null;case 1:return st(t.type)&&ea(),Be(t),null;case 3:return r=t.stateNode,pi(),fe(ot),fe(Ve),$m(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(cs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ot!==null&&(Vp(Ot),Ot=null))),Op(e,t),Be(t),null;case 5:Fm(t);var i=mr(No.current);if(n=t.type,e!==null&&t.stateNode!=null)ZS(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(H(166));return Be(t),null}if(e=mr(en.current),cs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Qt]=t,r[Eo]=o,e=(t.mode&1)!==0,n){case"dialog":ce("cancel",r),ce("close",r);break;case"iframe":case"object":case"embed":ce("load",r);break;case"video":case"audio":for(i=0;i<Gi.length;i++)ce(Gi[i],r);break;case"source":ce("error",r);break;case"img":case"image":case"link":ce("error",r),ce("load",r);break;case"details":ce("toggle",r);break;case"input":Jg(r,o),ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ce("invalid",r);break;case"textarea":tv(r,o),ce("invalid",r)}up(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&us(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&us(r.textContent,a,e),i=["children",""+a]):po.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ce("scroll",r)}switch(n){case"input":ts(r),ev(r,o,!0);break;case"textarea":ts(r),nv(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Js)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Cb(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Qt]=t,e[Eo]=r,QS(e,t,!1,!1),t.stateNode=e;e:{switch(s=cp(n,r),n){case"dialog":ce("cancel",e),ce("close",e),i=r;break;case"iframe":case"object":case"embed":ce("load",e),i=r;break;case"video":case"audio":for(i=0;i<Gi.length;i++)ce(Gi[i],e);i=r;break;case"source":ce("error",e),i=r;break;case"img":case"image":case"link":ce("error",e),ce("load",e),i=r;break;case"details":ce("toggle",e),i=r;break;case"input":Jg(e,r),i=ip(e,r),ce("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ve({},r,{value:void 0}),ce("invalid",e);break;case"textarea":tv(e,r),i=ap(e,r),ce("invalid",e);break;default:i=r}up(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Rb(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&jb(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&mo(e,l):typeof l=="number"&&mo(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(po.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ce("scroll",e):l!=null&&vm(e,o,l,s))}switch(n){case"input":ts(e),ev(e,r,!1);break;case"textarea":ts(e),nv(e);break;case"option":r.value!=null&&e.setAttribute("value",""+er(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?ti(e,!!r.multiple,o,!1):r.defaultValue!=null&&ti(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Js)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Be(t),null;case 6:if(e&&t.stateNode!=null)JS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(H(166));if(n=mr(No.current),mr(en.current),cs(t)){if(r=t.stateNode,n=t.memoizedProps,r[Qt]=t,(o=r.nodeValue!==n)&&(e=pt,e!==null))switch(e.tag){case 3:us(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&us(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qt]=t,t.stateNode=r}return Be(t),null;case 13:if(fe(me),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(de&&ht!==null&&t.mode&1&&!(t.flags&128))vS(),di(),t.flags|=98560,o=!1;else if(o=cs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(H(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(H(317));o[Qt]=t}else di(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Be(t),o=!1}else Ot!==null&&(Vp(Ot),Ot=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||me.current&1?Te===0&&(Te=3):Jm())),t.updateQueue!==null&&(t.flags|=4),Be(t),null);case 4:return pi(),Op(e,t),e===null&&bo(t.stateNode.containerInfo),Be(t),null;case 10:return Om(t.type._context),Be(t),null;case 17:return st(t.type)&&ea(),Be(t),null;case 19:if(fe(me),o=t.memoizedState,o===null)return Be(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Li(o,!1);else{if(Te!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=aa(e),s!==null){for(t.flags|=128,Li(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ue(me,me.current&1|2),t.child}e=e.sibling}o.tail!==null&&Se()>gi&&(t.flags|=128,r=!0,Li(o,!1),t.lanes=4194304)}else{if(!r)if(e=aa(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Li(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!de)return Be(t),null}else 2*Se()-o.renderingStartTime>gi&&n!==1073741824&&(t.flags|=128,r=!0,Li(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Se(),t.sibling=null,n=me.current,ue(me,r?n&1|2:n&1),t):(Be(t),null);case 22:case 23:return Zm(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ft&1073741824&&(Be(t),t.subtreeFlags&6&&(t.flags|=8192)):Be(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function Gj(e,t){switch(Pm(t),t.tag){case 1:return st(t.type)&&ea(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pi(),fe(ot),fe(Ve),$m(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Fm(t),null;case 13:if(fe(me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));di()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return fe(me),null;case 4:return pi(),null;case 10:return Om(t.type._context),null;case 22:case 23:return Zm(),null;case 24:return null;default:return null}}var hs=!1,He=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,W=null;function Zr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xe(e,t,r)}else n.current=null}function Lp(e,t,n){try{n()}catch(r){xe(e,t,r)}}var Uv=!1;function Yj(e,t){if(_p=Xs,e=iS(),Rm(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++u===i&&(a=s),d===o&&++c===r&&(l=s),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(wp={focusedElem:e,selectionRange:n},Xs=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,w=y.memoizedState,m=t.stateNode,g=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:At(t.type,v),w);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(_){xe(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return y=Uv,Uv=!1,y}function lo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Lp(t,n,o)}i=i.next}while(i!==r)}}function La(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function zp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function eE(e){var t=e.alternate;t!==null&&(e.alternate=null,eE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Qt],delete t[Eo],delete t[Ep],delete t[Ij],delete t[Pj])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function tE(e){return e.tag===5||e.tag===3||e.tag===4}function Wv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Dp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Js));else if(r!==4&&(e=e.child,e!==null))for(Dp(e,t,n),e=e.sibling;e!==null;)Dp(e,t,n),e=e.sibling}function Fp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Fp(e,t,n),e=e.sibling;e!==null;)Fp(e,t,n),e=e.sibling}var Le=null,Mt=!1;function Rn(e,t,n){for(n=n.child;n!==null;)nE(e,t,n),n=n.sibling}function nE(e,t,n){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(Ta,n)}catch{}switch(n.tag){case 5:He||Zr(n,t);case 6:var r=Le,i=Mt;Le=null,Rn(e,t,n),Le=r,Mt=i,Le!==null&&(Mt?(e=Le,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Le.removeChild(n.stateNode));break;case 18:Le!==null&&(Mt?(e=Le,n=n.stateNode,e.nodeType===8?Ol(e.parentNode,n):e.nodeType===1&&Ol(e,n),xo(e)):Ol(Le,n.stateNode));break;case 4:r=Le,i=Mt,Le=n.stateNode.containerInfo,Mt=!0,Rn(e,t,n),Le=r,Mt=i;break;case 0:case 11:case 14:case 15:if(!He&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Lp(n,t,s),i=i.next}while(i!==r)}Rn(e,t,n);break;case 1:if(!He&&(Zr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xe(n,t,a)}Rn(e,t,n);break;case 21:Rn(e,t,n);break;case 22:n.mode&1?(He=(r=He)||n.memoizedState!==null,Rn(e,t,n),He=r):Rn(e,t,n);break;default:Rn(e,t,n)}}function Gv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Kj),t.forEach(function(r){var i=iT.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function It(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Le=a.stateNode,Mt=!1;break e;case 3:Le=a.stateNode.containerInfo,Mt=!0;break e;case 4:Le=a.stateNode.containerInfo,Mt=!0;break e}a=a.return}if(Le===null)throw Error(H(160));nE(o,s,i),Le=null,Mt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){xe(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)rE(t,e),t=t.sibling}function rE(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(It(t,e),Gt(e),r&4){try{lo(3,e,e.return),La(3,e)}catch(v){xe(e,e.return,v)}try{lo(5,e,e.return)}catch(v){xe(e,e.return,v)}}break;case 1:It(t,e),Gt(e),r&512&&n!==null&&Zr(n,n.return);break;case 5:if(It(t,e),Gt(e),r&512&&n!==null&&Zr(n,n.return),e.flags&32){var i=e.stateNode;try{mo(i,"")}catch(v){xe(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&kb(i,o),cp(a,s);var u=cp(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?Rb(i,f):c==="dangerouslySetInnerHTML"?jb(i,f):c==="children"?mo(i,f):vm(i,c,f,u)}switch(a){case"input":op(i,o);break;case"textarea":Nb(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?ti(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?ti(i,!!o.multiple,o.defaultValue,!0):ti(i,!!o.multiple,o.multiple?[]:"",!1))}i[Eo]=o}catch(v){xe(e,e.return,v)}}break;case 6:if(It(t,e),Gt(e),r&4){if(e.stateNode===null)throw Error(H(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(v){xe(e,e.return,v)}}break;case 3:if(It(t,e),Gt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xo(t.containerInfo)}catch(v){xe(e,e.return,v)}break;case 4:It(t,e),Gt(e);break;case 13:It(t,e),Gt(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Xm=Se())),r&4&&Gv(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(He=(u=He)||c,It(t,e),He=u):It(t,e),Gt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(W=e,c=e.child;c!==null;){for(f=W=c;W!==null;){switch(d=W,h=d.child,d.tag){case 0:case 11:case 14:case 15:lo(4,d,d.return);break;case 1:Zr(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(v){xe(r,n,v)}}break;case 5:Zr(d,d.return);break;case 22:if(d.memoizedState!==null){Yv(f);continue}}h!==null?(h.return=d,W=h):Yv(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Tb("display",s))}catch(v){xe(e,e.return,v)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){xe(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:It(t,e),Gt(e),r&4&&Gv(e);break;case 21:break;default:It(t,e),Gt(e)}}function Gt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(tE(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(mo(i,""),r.flags&=-33);var o=Wv(e);Fp(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Wv(e);Dp(e,a,s);break;default:throw Error(H(161))}}catch(l){xe(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Xj(e,t,n){W=e,iE(e)}function iE(e,t,n){for(var r=(e.mode&1)!==0;W!==null;){var i=W,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||hs;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||He;a=hs;var u=He;if(hs=s,(He=l)&&!u)for(W=i;W!==null;)s=W,l=s.child,s.tag===22&&s.memoizedState!==null?Xv(i):l!==null?(l.return=s,W=l):Xv(i);for(;o!==null;)W=o,iE(o),o=o.sibling;W=i,hs=a,He=u}Kv(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,W=o):Kv(e)}}function Kv(e){for(;W!==null;){var t=W;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:He||La(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!He)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:At(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Pv(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Pv(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&xo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}He||t.flags&512&&zp(t)}catch(d){xe(t,t.return,d)}}if(t===e){W=null;break}if(n=t.sibling,n!==null){n.return=t.return,W=n;break}W=t.return}}function Yv(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var n=t.sibling;if(n!==null){n.return=t.return,W=n;break}W=t.return}}function Xv(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{La(4,t)}catch(l){xe(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){xe(t,i,l)}}var o=t.return;try{zp(t)}catch(l){xe(t,o,l)}break;case 5:var s=t.return;try{zp(t)}catch(l){xe(t,s,l)}}}catch(l){xe(t,t.return,l)}if(t===e){W=null;break}var a=t.sibling;if(a!==null){a.return=t.return,W=a;break}W=t.return}}var Qj=Math.ceil,ca=Nn.ReactCurrentDispatcher,Km=Nn.ReactCurrentOwner,Et=Nn.ReactCurrentBatchConfig,se=0,Me=null,Ee=null,ze=0,ft=0,Jr=or(0),Te=0,Ro=null,Nr=0,za=0,Ym=0,uo=null,tt=null,Xm=0,gi=1/0,cn=null,fa=!1,$p=null,Yn=null,ps=!1,Hn=null,da=0,co=0,Bp=null,zs=-1,Ds=0;function Xe(){return se&6?Se():zs!==-1?zs:zs=Se()}function Xn(e){return e.mode&1?se&2&&ze!==0?ze&-ze:Mj.transition!==null?(Ds===0&&(Ds=Bb()),Ds):(e=le,e!==0||(e=window.event,e=e===void 0?16:Yb(e.type)),e):1}function Dt(e,t,n,r){if(50<co)throw co=0,Bp=null,Error(H(185));Fo(e,n,r),(!(se&2)||e!==Me)&&(e===Me&&(!(se&2)&&(za|=n),Te===4&&zn(e,ze)),at(e,r),n===1&&se===0&&!(t.mode&1)&&(gi=Se()+500,Ma&&sr()))}function at(e,t){var n=e.callbackNode;MC(e,t);var r=Ys(e,e===Me?ze:0);if(r===0)n!==null&&ov(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ov(n),t===1)e.tag===0?Aj(Qv.bind(null,e)):pS(Qv.bind(null,e)),Tj(function(){!(se&6)&&sr()}),n=null;else{switch(Hb(r)){case 1:n=bm;break;case 4:n=Fb;break;case 16:n=Ks;break;case 536870912:n=$b;break;default:n=Ks}n=dE(n,oE.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oE(e,t){if(zs=-1,Ds=0,se&6)throw Error(H(327));var n=e.callbackNode;if(si()&&e.callbackNode!==n)return null;var r=Ys(e,e===Me?ze:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ha(e,r);else{t=r;var i=se;se|=2;var o=aE();(Me!==e||ze!==t)&&(cn=null,gi=Se()+500,xr(e,t));do try{eT();break}catch(a){sE(e,a)}while(!0);qm(),ca.current=o,se=i,Ee!==null?t=0:(Me=null,ze=0,t=Te)}if(t!==0){if(t===2&&(i=mp(e),i!==0&&(r=i,t=Hp(e,i))),t===1)throw n=Ro,xr(e,0),zn(e,r),at(e,Se()),n;if(t===6)zn(e,r);else{if(i=e.current.alternate,!(r&30)&&!Zj(i)&&(t=ha(e,r),t===2&&(o=mp(e),o!==0&&(r=o,t=Hp(e,o))),t===1))throw n=Ro,xr(e,0),zn(e,r),at(e,Se()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(H(345));case 2:fr(e,tt,cn);break;case 3:if(zn(e,r),(r&130023424)===r&&(t=Xm+500-Se(),10<t)){if(Ys(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Xe(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Sp(fr.bind(null,e,tt,cn),t);break}fr(e,tt,cn);break;case 4:if(zn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-zt(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=Se()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Qj(r/1960))-r,10<r){e.timeoutHandle=Sp(fr.bind(null,e,tt,cn),r);break}fr(e,tt,cn);break;case 5:fr(e,tt,cn);break;default:throw Error(H(329))}}}return at(e,Se()),e.callbackNode===n?oE.bind(null,e):null}function Hp(e,t){var n=uo;return e.current.memoizedState.isDehydrated&&(xr(e,t).flags|=256),e=ha(e,t),e!==2&&(t=tt,tt=n,t!==null&&Vp(t)),e}function Vp(e){tt===null?tt=e:tt.push.apply(tt,e)}function Zj(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Ft(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zn(e,t){for(t&=~Ym,t&=~za,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),r=1<<n;e[n]=-1,t&=~r}}function Qv(e){if(se&6)throw Error(H(327));si();var t=Ys(e,0);if(!(t&1))return at(e,Se()),null;var n=ha(e,t);if(e.tag!==0&&n===2){var r=mp(e);r!==0&&(t=r,n=Hp(e,r))}if(n===1)throw n=Ro,xr(e,0),zn(e,t),at(e,Se()),n;if(n===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fr(e,tt,cn),at(e,Se()),null}function Qm(e,t){var n=se;se|=1;try{return e(t)}finally{se=n,se===0&&(gi=Se()+500,Ma&&sr())}}function Cr(e){Hn!==null&&Hn.tag===0&&!(se&6)&&si();var t=se;se|=1;var n=Et.transition,r=le;try{if(Et.transition=null,le=1,e)return e()}finally{le=r,Et.transition=n,se=t,!(se&6)&&sr()}}function Zm(){ft=Jr.current,fe(Jr)}function xr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,jj(n)),Ee!==null)for(n=Ee.return;n!==null;){var r=n;switch(Pm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ea();break;case 3:pi(),fe(ot),fe(Ve),$m();break;case 5:Fm(r);break;case 4:pi();break;case 13:fe(me);break;case 19:fe(me);break;case 10:Om(r.type._context);break;case 22:case 23:Zm()}n=n.return}if(Me=e,Ee=e=Qn(e.current,null),ze=ft=t,Te=0,Ro=null,Ym=za=Nr=0,tt=uo=null,pr!==null){for(t=0;t<pr.length;t++)if(n=pr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}pr=null}return e}function sE(e,t){do{var n=Ee;try{if(qm(),qs.current=ua,la){for(var r=ge.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}la=!1}if(kr=0,Ae=je=ge=null,ao=!1,Co=0,Km.current=null,n===null||n.return===null){Te=1,Ro=t,Ee=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=ze,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=zv(s);if(h!==null){h.flags&=-257,Dv(h,s,a,o,t),h.mode&1&&Lv(o,u,t),t=h,l=u;var y=t.updateQueue;if(y===null){var v=new Set;v.add(l),t.updateQueue=v}else y.add(l);break e}else{if(!(t&1)){Lv(o,u,t),Jm();break e}l=Error(H(426))}}else if(de&&a.mode&1){var w=zv(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Dv(w,s,a,o,t),Am(mi(l,a));break e}}o=l=mi(l,a),Te!==4&&(Te=2),uo===null?uo=[o]:uo.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var m=HS(o,l,t);Iv(o,m);break e;case 1:a=l;var g=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Yn===null||!Yn.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=VS(o,a,t);Iv(o,_);break e}}o=o.return}while(o!==null)}uE(n)}catch(E){t=E,Ee===n&&n!==null&&(Ee=n=n.return);continue}break}while(!0)}function aE(){var e=ca.current;return ca.current=ua,e===null?ua:e}function Jm(){(Te===0||Te===3||Te===2)&&(Te=4),Me===null||!(Nr&268435455)&&!(za&268435455)||zn(Me,ze)}function ha(e,t){var n=se;se|=2;var r=aE();(Me!==e||ze!==t)&&(cn=null,xr(e,t));do try{Jj();break}catch(i){sE(e,i)}while(!0);if(qm(),se=n,ca.current=r,Ee!==null)throw Error(H(261));return Me=null,ze=0,Te}function Jj(){for(;Ee!==null;)lE(Ee)}function eT(){for(;Ee!==null&&!kC();)lE(Ee)}function lE(e){var t=fE(e.alternate,e,ft);e.memoizedProps=e.pendingProps,t===null?uE(e):Ee=t,Km.current=null}function uE(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Gj(n,t),n!==null){n.flags&=32767,Ee=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Te=6,Ee=null;return}}else if(n=Wj(n,t,ft),n!==null){Ee=n;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);Te===0&&(Te=5)}function fr(e,t,n){var r=le,i=Et.transition;try{Et.transition=null,le=1,tT(e,t,n,r)}finally{Et.transition=i,le=r}return null}function tT(e,t,n,r){do si();while(Hn!==null);if(se&6)throw Error(H(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(qC(e,o),e===Me&&(Ee=Me=null,ze=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ps||(ps=!0,dE(Ks,function(){return si(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Et.transition,Et.transition=null;var s=le;le=1;var a=se;se|=4,Km.current=null,Yj(e,n),rE(n,e),wj(wp),Xs=!!_p,wp=_p=null,e.current=n,Xj(n),NC(),se=a,le=s,Et.transition=o}else e.current=n;if(ps&&(ps=!1,Hn=e,da=i),o=e.pendingLanes,o===0&&(Yn=null),TC(n.stateNode),at(e,Se()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(fa)throw fa=!1,e=$p,$p=null,e;return da&1&&e.tag!==0&&si(),o=e.pendingLanes,o&1?e===Bp?co++:(co=0,Bp=e):co=0,sr(),null}function si(){if(Hn!==null){var e=Hb(da),t=Et.transition,n=le;try{if(Et.transition=null,le=16>e?16:e,Hn===null)var r=!1;else{if(e=Hn,Hn=null,da=0,se&6)throw Error(H(331));var i=se;for(se|=4,W=e.current;W!==null;){var o=W,s=o.child;if(W.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(W=u;W!==null;){var c=W;switch(c.tag){case 0:case 11:case 15:lo(8,c,o)}var f=c.child;if(f!==null)f.return=c,W=f;else for(;W!==null;){c=W;var d=c.sibling,h=c.return;if(eE(c),c===u){W=null;break}if(d!==null){d.return=h,W=d;break}W=h}}}var y=o.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}W=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,W=s;else e:for(;W!==null;){if(o=W,o.flags&2048)switch(o.tag){case 0:case 11:case 15:lo(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,W=m;break e}W=o.return}}var g=e.current;for(W=g;W!==null;){s=W;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,W=x;else e:for(s=g;W!==null;){if(a=W,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:La(9,a)}}catch(E){xe(a,a.return,E)}if(a===s){W=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,W=_;break e}W=a.return}}if(se=i,sr(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(Ta,e)}catch{}r=!0}return r}finally{le=n,Et.transition=t}}return!1}function Zv(e,t,n){t=mi(n,t),t=HS(e,t,1),e=Kn(e,t,1),t=Xe(),e!==null&&(Fo(e,1,t),at(e,t))}function xe(e,t,n){if(e.tag===3)Zv(e,e,n);else for(;t!==null;){if(t.tag===3){Zv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yn===null||!Yn.has(r))){e=mi(n,e),e=VS(t,e,1),t=Kn(t,e,1),e=Xe(),t!==null&&(Fo(t,1,e),at(t,e));break}}t=t.return}}function nT(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Xe(),e.pingedLanes|=e.suspendedLanes&n,Me===e&&(ze&n)===n&&(Te===4||Te===3&&(ze&130023424)===ze&&500>Se()-Xm?xr(e,0):Ym|=n),at(e,t)}function cE(e,t){t===0&&(e.mode&1?(t=is,is<<=1,!(is&130023424)&&(is=4194304)):t=1);var n=Xe();e=wn(e,t),e!==null&&(Fo(e,t,n),at(e,n))}function rT(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),cE(e,n)}function iT(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(t),cE(e,n)}var fE;fE=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ot.current)rt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return rt=!1,Uj(e,t,n);rt=!!(e.flags&131072)}else rt=!1,de&&t.flags&1048576&&mS(t,ra,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ls(e,t),e=t.pendingProps;var i=fi(t,Ve.current);oi(t,n),i=Hm(null,t,r,e,i,n);var o=Vm();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,st(r)?(o=!0,ta(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,zm(t),i.updater=Oa,t.stateNode=i,i._reactInternals=t,Rp(t,r,e,n),t=Ap(null,t,r,!0,o,n)):(t.tag=0,de&&o&&Im(t),Ye(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ls(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=sT(r),e=At(r,e),i){case 0:t=Pp(null,t,r,e,n);break e;case 1:t=Bv(null,t,r,e,n);break e;case 11:t=Fv(null,t,r,e,n);break e;case 14:t=$v(null,t,r,At(r.type,e),n);break e}throw Error(H(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:At(r,i),Pp(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:At(r,i),Bv(e,t,r,i,n);case 3:e:{if(KS(t),e===null)throw Error(H(387));r=t.pendingProps,o=t.memoizedState,i=o.element,wS(e,t),sa(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=mi(Error(H(423)),t),t=Hv(e,t,r,n,i);break e}else if(r!==i){i=mi(Error(H(424)),t),t=Hv(e,t,r,n,i);break e}else for(ht=Gn(t.stateNode.containerInfo.firstChild),pt=t,de=!0,Ot=null,n=xS(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(di(),r===i){t=bn(e,t,n);break e}Ye(e,t,r,n)}t=t.child}return t;case 5:return bS(t),e===null&&Cp(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,bp(r,i)?s=null:o!==null&&bp(r,o)&&(t.flags|=32),GS(e,t),Ye(e,t,s,n),t.child;case 6:return e===null&&Cp(t),null;case 13:return YS(e,t,n);case 4:return Dm(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=hi(t,null,r,n):Ye(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:At(r,i),Fv(e,t,r,i,n);case 7:return Ye(e,t,t.pendingProps,n),t.child;case 8:return Ye(e,t,t.pendingProps.children,n),t.child;case 12:return Ye(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,ue(ia,r._currentValue),r._currentValue=s,o!==null)if(Ft(o.value,s)){if(o.children===i.children&&!ot.current){t=bn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=vn(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),jp(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(H(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),jp(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Ye(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,oi(t,n),i=kt(i),r=r(i),t.flags|=1,Ye(e,t,r,n),t.child;case 14:return r=t.type,i=At(r,t.pendingProps),i=At(r.type,i),$v(e,t,r,i,n);case 15:return US(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:At(r,i),Ls(e,t),t.tag=1,st(r)?(e=!0,ta(t)):e=!1,oi(t,n),BS(t,r,i),Rp(t,r,i,n),Ap(null,t,r,!0,e,n);case 19:return XS(e,t,n);case 22:return WS(e,t,n)}throw Error(H(156,t.tag))};function dE(e,t){return Db(e,t)}function oT(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bt(e,t,n,r){return new oT(e,t,n,r)}function eg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sT(e){if(typeof e=="function")return eg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xm)return 11;if(e===_m)return 14}return 2}function Qn(e,t){var n=e.alternate;return n===null?(n=bt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fs(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")eg(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Hr:return _r(n.children,i,o,t);case ym:s=8,i|=8;break;case ep:return e=bt(12,n,t,i|2),e.elementType=ep,e.lanes=o,e;case tp:return e=bt(13,n,t,i),e.elementType=tp,e.lanes=o,e;case np:return e=bt(19,n,t,i),e.elementType=np,e.lanes=o,e;case bb:return Da(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _b:s=10;break e;case wb:s=9;break e;case xm:s=11;break e;case _m:s=14;break e;case An:s=16,r=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=bt(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function _r(e,t,n,r){return e=bt(7,e,r,t),e.lanes=n,e}function Da(e,t,n,r){return e=bt(22,e,r,t),e.elementType=bb,e.lanes=n,e.stateNode={isHidden:!1},e}function Vl(e,t,n){return e=bt(6,e,null,t),e.lanes=n,e}function Ul(e,t,n){return t=bt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function aT(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kl(0),this.expirationTimes=kl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function tg(e,t,n,r,i,o,s,a,l){return e=new aT(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=bt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zm(o),e}function lT(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Br,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function hE(e){if(!e)return tr;e=e._reactInternals;e:{if(Ir(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(st(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var n=e.type;if(st(n))return hS(e,n,t)}return t}function pE(e,t,n,r,i,o,s,a,l){return e=tg(n,r,!0,e,i,o,s,a,l),e.context=hE(null),n=e.current,r=Xe(),i=Xn(n),o=vn(r,i),o.callback=t??null,Kn(n,o,i),e.current.lanes=i,Fo(e,i,r),at(e,r),e}function Fa(e,t,n,r){var i=t.current,o=Xe(),s=Xn(i);return n=hE(n),t.context===null?t.context=n:t.pendingContext=n,t=vn(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Kn(i,t,s),e!==null&&(Dt(e,i,s,o),Ms(e,i,s)),s}function pa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Jv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ng(e,t){Jv(e,t),(e=e.alternate)&&Jv(e,t)}function uT(){return null}var mE=typeof reportError=="function"?reportError:function(e){console.error(e)};function rg(e){this._internalRoot=e}$a.prototype.render=rg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));Fa(e,t,null,null)};$a.prototype.unmount=rg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cr(function(){Fa(null,e,null,null)}),t[_n]=null}};function $a(e){this._internalRoot=e}$a.prototype.unstable_scheduleHydration=function(e){if(e){var t=Wb();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ln.length&&t!==0&&t<Ln[n].priority;n++);Ln.splice(n,0,e),n===0&&Kb(e)}};function ig(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ba(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ey(){}function cT(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=pa(s);o.call(u)}}var s=pE(t,r,e,0,null,!1,!1,"",ey);return e._reactRootContainer=s,e[_n]=s.current,bo(e.nodeType===8?e.parentNode:e),Cr(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=pa(l);a.call(u)}}var l=tg(e,0,!1,null,null,!1,!1,"",ey);return e._reactRootContainer=l,e[_n]=l.current,bo(e.nodeType===8?e.parentNode:e),Cr(function(){Fa(t,l,n,r)}),l}function Ha(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=pa(s);a.call(l)}}Fa(t,s,e,i)}else s=cT(n,t,e,i,r);return pa(s)}Vb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Wi(t.pendingLanes);n!==0&&(Sm(t,n|1),at(t,Se()),!(se&6)&&(gi=Se()+500,sr()))}break;case 13:Cr(function(){var r=wn(e,1);if(r!==null){var i=Xe();Dt(r,e,1,i)}}),ng(e,1)}};Em=function(e){if(e.tag===13){var t=wn(e,134217728);if(t!==null){var n=Xe();Dt(t,e,134217728,n)}ng(e,134217728)}};Ub=function(e){if(e.tag===13){var t=Xn(e),n=wn(e,t);if(n!==null){var r=Xe();Dt(n,e,t,r)}ng(e,t)}};Wb=function(){return le};Gb=function(e,t){var n=le;try{return le=e,t()}finally{le=n}};dp=function(e,t,n){switch(t){case"input":if(op(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Aa(r);if(!i)throw Error(H(90));Eb(r),op(r,i)}}}break;case"textarea":Nb(e,n);break;case"select":t=n.value,t!=null&&ti(e,!!n.multiple,t,!1)}};Ab=Qm;Mb=Cr;var fT={usingClientEntryPoint:!1,Events:[Bo,Gr,Aa,Ib,Pb,Qm]},zi={findFiberByHostInstance:hr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dT={bundleType:zi.bundleType,version:zi.version,rendererPackageName:zi.rendererPackageName,rendererConfig:zi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Lb(e),e===null?null:e.stateNode},findFiberByHostInstance:zi.findFiberByHostInstance||uT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ms=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ms.isDisabled&&ms.supportsFiber)try{Ta=ms.inject(dT),Jt=ms}catch{}}vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fT;vt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ig(t))throw Error(H(200));return lT(e,t,null,n)};vt.createRoot=function(e,t){if(!ig(e))throw Error(H(299));var n=!1,r="",i=mE;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=tg(e,1,!1,null,null,n,!1,r,i),e[_n]=t.current,bo(e.nodeType===8?e.parentNode:e),new rg(t)};vt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=Lb(t),e=e===null?null:e.stateNode,e};vt.flushSync=function(e){return Cr(e)};vt.hydrate=function(e,t,n){if(!Ba(t))throw Error(H(200));return Ha(null,e,t,!0,n)};vt.hydrateRoot=function(e,t,n){if(!ig(e))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=mE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=pE(t,null,e,1,n??null,i,!1,o,s),e[_n]=t.current,bo(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $a(t)};vt.render=function(e,t,n){if(!Ba(t))throw Error(H(200));return Ha(null,e,t,!1,n)};vt.unmountComponentAtNode=function(e){if(!Ba(e))throw Error(H(40));return e._reactRootContainer?(Cr(function(){Ha(null,null,e,!1,function(){e._reactRootContainer=null,e[_n]=null})}),!0):!1};vt.unstable_batchedUpdates=Qm;vt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ba(n))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return Ha(e,t,n,!1,r)};vt.version="18.3.1-next-f1338f8080-20240426";function gE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gE)}catch(e){console.error(e)}}gE(),gb.exports=vt;var hT=gb.exports,ty=hT;Zh.createRoot=ty.createRoot,Zh.hydrateRoot=ty.hydrateRoot;function ut(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=ut(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var vE={exports:{}},yE={},xE={exports:{}},_E={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vi=k;function pT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mT=typeof Object.is=="function"?Object.is:pT,gT=vi.useState,vT=vi.useEffect,yT=vi.useLayoutEffect,xT=vi.useDebugValue;function _T(e,t){var n=t(),r=gT({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return yT(function(){i.value=n,i.getSnapshot=t,Wl(i)&&o({inst:i})},[e,n,t]),vT(function(){return Wl(i)&&o({inst:i}),e(function(){Wl(i)&&o({inst:i})})},[e]),xT(n),n}function Wl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mT(e,n)}catch{return!0}}function wT(e,t){return t()}var bT=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?wT:_T;_E.useSyncExternalStore=vi.useSyncExternalStore!==void 0?vi.useSyncExternalStore:bT;xE.exports=_E;var ST=xE.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Va=k,ET=ST;function kT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var NT=typeof Object.is=="function"?Object.is:kT,CT=ET.useSyncExternalStore,jT=Va.useRef,TT=Va.useEffect,RT=Va.useMemo,IT=Va.useDebugValue;yE.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=jT(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=RT(function(){function l(h){if(!u){if(u=!0,c=h,h=r(h),i!==void 0&&s.hasValue){var y=s.value;if(i(y,h))return f=y}return f=h}if(y=f,NT(c,h))return y;var v=r(h);return i!==void 0&&i(y,v)?(c=h,y):(c=h,f=v)}var u=!1,c,f,d=n===void 0?null:n;return[function(){return l(t())},d===null?void 0:function(){return l(d())}]},[t,n,r,i]);var a=CT(e,o[0],o[1]);return TT(function(){s.hasValue=!0,s.value=a},[a]),IT(a),a};vE.exports=yE;var PT=vE.exports;const AT=cm(PT),MT={},ny=e=>{let t;const n=new Set,r=(c,f)=>{const d=typeof c=="function"?c(t):c;if(!Object.is(d,t)){const h=t;t=f??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(y=>y(t,h))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(MT?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,l);return l},qT=e=>e?ny(e):ny,{useDebugValue:OT}=B,{useSyncExternalStoreWithSelector:LT}=AT,zT=e=>e;function wE(e,t=zT,n){const r=LT(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return OT(r),r}const ry=(e,t)=>{const n=qT(e),r=(i,o=t)=>wE(n,i,o);return Object.assign(r,n),r},DT=(e,t)=>e?ry(e,t):ry;function Ue(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var FT={value:()=>{}};function Ua(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new $s(n)}function $s(e){this._=e}function $T(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}$s.prototype=Ua.prototype={constructor:$s,on:function(e,t){var n=this._,r=$T(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=BT(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=iy(n[i],e.name,t);else if(t==null)for(i in n)n[i]=iy(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new $s(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function BT(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function iy(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=FT,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Up="http://www.w3.org/1999/xhtml";const oy={svg:"http://www.w3.org/2000/svg",xhtml:Up,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Wa(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),oy.hasOwnProperty(t)?{space:oy[t],local:e}:e}function HT(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Up&&t.documentElement.namespaceURI===Up?t.createElement(e):t.createElementNS(n,e)}}function VT(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function bE(e){var t=Wa(e);return(t.local?VT:HT)(t)}function UT(){}function og(e){return e==null?UT:function(){return this.querySelector(e)}}function WT(e){typeof e!="function"&&(e=og(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=new Array(s),l,u,c=0;c<s;++c)(l=o[c])&&(u=e.call(l,l.__data__,c,o))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new gt(r,this._parents)}function GT(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function KT(){return[]}function SE(e){return e==null?KT:function(){return this.querySelectorAll(e)}}function YT(e){return function(){return GT(e.apply(this,arguments))}}function XT(e){typeof e=="function"?e=YT(e):e=SE(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&(r.push(e.call(l,l.__data__,u,s)),i.push(l));return new gt(r,i)}function EE(e){return function(){return this.matches(e)}}function kE(e){return function(t){return t.matches(e)}}var QT=Array.prototype.find;function ZT(e){return function(){return QT.call(this.children,e)}}function JT(){return this.firstElementChild}function eR(e){return this.select(e==null?JT:ZT(typeof e=="function"?e:kE(e)))}var tR=Array.prototype.filter;function nR(){return Array.from(this.children)}function rR(e){return function(){return tR.call(this.children,e)}}function iR(e){return this.selectAll(e==null?nR:rR(typeof e=="function"?e:kE(e)))}function oR(e){typeof e!="function"&&(e=EE(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&a.push(l);return new gt(r,this._parents)}function NE(e){return new Array(e.length)}function sR(){return new gt(this._enter||this._groups.map(NE),this._parents)}function ma(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ma.prototype={constructor:ma,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function aR(e){return function(){return e}}function lR(e,t,n,r,i,o){for(var s=0,a,l=t.length,u=o.length;s<u;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new ma(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function uR(e,t,n,r,i,o,s){var a,l,u=new Map,c=t.length,f=o.length,d=new Array(c),h;for(a=0;a<c;++a)(l=t[a])&&(d[a]=h=s.call(l,l.__data__,a,t)+"",u.has(h)?i[a]=l:u.set(h,l));for(a=0;a<f;++a)h=s.call(e,o[a],a,o)+"",(l=u.get(h))?(r[a]=l,l.__data__=o[a],u.delete(h)):n[a]=new ma(e,o[a]);for(a=0;a<c;++a)(l=t[a])&&u.get(d[a])===l&&(i[a]=l)}function cR(e){return e.__data__}function fR(e,t){if(!arguments.length)return Array.from(this,cR);var n=t?uR:lR,r=this._parents,i=this._groups;typeof e!="function"&&(e=aR(e));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),u=0;u<o;++u){var c=r[u],f=i[u],d=f.length,h=dR(e.call(c,c&&c.__data__,u,r)),y=h.length,v=a[u]=new Array(y),w=s[u]=new Array(y),m=l[u]=new Array(d);n(c,f,v,w,m,h,t);for(var g=0,x=0,_,E;g<y;++g)if(_=v[g]){for(g>=x&&(x=g+1);!(E=w[x])&&++x<y;);_._next=E||null}}return s=new gt(s,r),s._enter=a,s._exit=l,s}function dR(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function hR(){return new gt(this._exit||this._groups.map(NE),this._parents)}function pR(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function mR(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var u=n[l],c=r[l],f=u.length,d=a[l]=new Array(f),h,y=0;y<f;++y)(h=u[y]||c[y])&&(d[y]=h);for(;l<i;++l)a[l]=n[l];return new gt(a,this._parents)}function gR(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function vR(e){e||(e=yR);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,l=i[o]=new Array(a),u,c=0;c<a;++c)(u=s[c])&&(l[c]=u);l.sort(t)}return new gt(i,this._parents).order()}function yR(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function xR(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function _R(){return Array.from(this)}function wR(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function bR(){let e=0;for(const t of this)++e;return e}function SR(){return!this.node()}function ER(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}function kR(e){return function(){this.removeAttribute(e)}}function NR(e){return function(){this.removeAttributeNS(e.space,e.local)}}function CR(e,t){return function(){this.setAttribute(e,t)}}function jR(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function TR(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function RR(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function IR(e,t){var n=Wa(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?NR:kR:typeof t=="function"?n.local?RR:TR:n.local?jR:CR)(n,t))}function CE(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function PR(e){return function(){this.style.removeProperty(e)}}function AR(e,t,n){return function(){this.style.setProperty(e,t,n)}}function MR(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function qR(e,t,n){return arguments.length>1?this.each((t==null?PR:typeof t=="function"?MR:AR)(e,t,n??"")):yi(this.node(),e)}function yi(e,t){return e.style.getPropertyValue(t)||CE(e).getComputedStyle(e,null).getPropertyValue(t)}function OR(e){return function(){delete this[e]}}function LR(e,t){return function(){this[e]=t}}function zR(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function DR(e,t){return arguments.length>1?this.each((t==null?OR:typeof t=="function"?zR:LR)(e,t)):this.node()[e]}function jE(e){return e.trim().split(/^|\s+/)}function sg(e){return e.classList||new TE(e)}function TE(e){this._node=e,this._names=jE(e.getAttribute("class")||"")}TE.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function RE(e,t){for(var n=sg(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function IE(e,t){for(var n=sg(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function FR(e){return function(){RE(this,e)}}function $R(e){return function(){IE(this,e)}}function BR(e,t){return function(){(t.apply(this,arguments)?RE:IE)(this,e)}}function HR(e,t){var n=jE(e+"");if(arguments.length<2){for(var r=sg(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?BR:t?FR:$R)(n,t))}function VR(){this.textContent=""}function UR(e){return function(){this.textContent=e}}function WR(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function GR(e){return arguments.length?this.each(e==null?VR:(typeof e=="function"?WR:UR)(e)):this.node().textContent}function KR(){this.innerHTML=""}function YR(e){return function(){this.innerHTML=e}}function XR(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function QR(e){return arguments.length?this.each(e==null?KR:(typeof e=="function"?XR:YR)(e)):this.node().innerHTML}function ZR(){this.nextSibling&&this.parentNode.appendChild(this)}function JR(){return this.each(ZR)}function eI(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function tI(){return this.each(eI)}function nI(e){var t=typeof e=="function"?e:bE(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function rI(){return null}function iI(e,t){var n=typeof e=="function"?e:bE(e),r=t==null?rI:typeof t=="function"?t:og(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function oI(){var e=this.parentNode;e&&e.removeChild(this)}function sI(){return this.each(oI)}function aI(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function lI(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function uI(e){return this.select(e?lI:aI)}function cI(e){return arguments.length?this.property("__data__",e):this.node().__data__}function fI(e){return function(t){e.call(this,t,this.__data__)}}function dI(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function hI(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function pI(e,t,n){return function(){var r=this.__on,i,o=fI(t);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function mI(e,t,n){var r=dI(e+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(i=0,c=a[l];i<o;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(a=t?pI:hI,i=0;i<o;++i)this.each(a(r[i],t,n));return this}function PE(e,t,n){var r=CE(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function gI(e,t){return function(){return PE(this,e,t)}}function vI(e,t){return function(){return PE(this,e,t.apply(this,arguments))}}function yI(e,t){return this.each((typeof t=="function"?vI:gI)(e,t))}function*xI(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var AE=[null];function gt(e,t){this._groups=e,this._parents=t}function Vo(){return new gt([[document.documentElement]],AE)}function _I(){return this}gt.prototype=Vo.prototype={constructor:gt,select:WT,selectAll:XT,selectChild:eR,selectChildren:iR,filter:oR,data:fR,enter:sR,exit:hR,join:pR,merge:mR,selection:_I,order:gR,sort:vR,call:xR,nodes:_R,node:wR,size:bR,empty:SR,each:ER,attr:IR,style:qR,property:DR,classed:HR,text:GR,html:QR,raise:JR,lower:tI,append:nI,insert:iI,remove:sI,clone:uI,datum:cI,on:mI,dispatch:yI,[Symbol.iterator]:xI};function wt(e){return typeof e=="string"?new gt([[document.querySelector(e)]],[document.documentElement]):new gt([[e]],AE)}function wI(e){let t;for(;t=e.sourceEvent;)e=t;return e}function qt(e,t){if(e=wI(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const bI={passive:!1},Io={capture:!0,passive:!1};function Gl(e){e.stopImmediatePropagation()}function ai(e){e.preventDefault(),e.stopImmediatePropagation()}function ME(e){var t=e.document.documentElement,n=wt(e).on("dragstart.drag",ai,Io);"onselectstart"in t?n.on("selectstart.drag",ai,Io):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function qE(e,t){var n=e.document.documentElement,r=wt(e).on("dragstart.drag",null);t&&(r.on("click.drag",ai,Io),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const gs=e=>()=>e;function Wp(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:s,y:a,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}Wp.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function SI(e){return!e.ctrlKey&&!e.button}function EI(){return this.parentNode}function kI(e,t){return t??{x:e.x,y:e.y}}function NI(){return navigator.maxTouchPoints||"ontouchstart"in this}function CI(){var e=SI,t=EI,n=kI,r=NI,i={},o=Ua("start","drag","end"),s=0,a,l,u,c,f=0;function d(_){_.on("mousedown.drag",h).filter(r).on("touchstart.drag",w).on("touchmove.drag",m,bI).on("touchend.drag touchcancel.drag",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(_,E){if(!(c||!e.call(this,_,E))){var S=x(this,t.call(this,_,E),_,E,"mouse");S&&(wt(_.view).on("mousemove.drag",y,Io).on("mouseup.drag",v,Io),ME(_.view),Gl(_),u=!1,a=_.clientX,l=_.clientY,S("start",_))}}function y(_){if(ai(_),!u){var E=_.clientX-a,S=_.clientY-l;u=E*E+S*S>f}i.mouse("drag",_)}function v(_){wt(_.view).on("mousemove.drag mouseup.drag",null),qE(_.view,u),ai(_),i.mouse("end",_)}function w(_,E){if(e.call(this,_,E)){var S=_.changedTouches,N=t.call(this,_,E),T=S.length,R,M;for(R=0;R<T;++R)(M=x(this,N,_,E,S[R].identifier,S[R]))&&(Gl(_),M("start",_,S[R]))}}function m(_){var E=_.changedTouches,S=E.length,N,T;for(N=0;N<S;++N)(T=i[E[N].identifier])&&(ai(_),T("drag",_,E[N]))}function g(_){var E=_.changedTouches,S=E.length,N,T;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),N=0;N<S;++N)(T=i[E[N].identifier])&&(Gl(_),T("end",_,E[N]))}function x(_,E,S,N,T,R){var M=o.copy(),q=qt(R||S,E),F,D,b;if((b=n.call(_,new Wp("beforestart",{sourceEvent:S,target:d,identifier:T,active:s,x:q[0],y:q[1],dx:0,dy:0,dispatch:M}),N))!=null)return F=b.x-q[0]||0,D=b.y-q[1]||0,function O(I,L,j){var C=q,A;switch(I){case"start":i[T]=O,A=s++;break;case"end":delete i[T],--s;case"drag":q=qt(j||L,E),A=s;break}M.call(I,_,new Wp(I,{sourceEvent:L,subject:b,target:d,identifier:T,active:A,x:q[0]+F,y:q[1]+D,dx:q[0]-C[0],dy:q[1]-C[1],dispatch:M}),N)}}return d.filter=function(_){return arguments.length?(e=typeof _=="function"?_:gs(!!_),d):e},d.container=function(_){return arguments.length?(t=typeof _=="function"?_:gs(_),d):t},d.subject=function(_){return arguments.length?(n=typeof _=="function"?_:gs(_),d):n},d.touchable=function(_){return arguments.length?(r=typeof _=="function"?_:gs(!!_),d):r},d.on=function(){var _=o.on.apply(o,arguments);return _===o?d:_},d.clickDistance=function(_){return arguments.length?(f=(_=+_)*_,d):Math.sqrt(f)},d}function ag(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function OE(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Uo(){}var Po=.7,ga=1/Po,li="\\s*([+-]?\\d+)\\s*",Ao="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",tn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jI=/^#([0-9a-f]{3,8})$/,TI=new RegExp(`^rgb\\(${li},${li},${li}\\)$`),RI=new RegExp(`^rgb\\(${tn},${tn},${tn}\\)$`),II=new RegExp(`^rgba\\(${li},${li},${li},${Ao}\\)$`),PI=new RegExp(`^rgba\\(${tn},${tn},${tn},${Ao}\\)$`),AI=new RegExp(`^hsl\\(${Ao},${tn},${tn}\\)$`),MI=new RegExp(`^hsla\\(${Ao},${tn},${tn},${Ao}\\)$`),sy={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ag(Uo,Mo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ay,formatHex:ay,formatHex8:qI,formatHsl:OI,formatRgb:ly,toString:ly});function ay(){return this.rgb().formatHex()}function qI(){return this.rgb().formatHex8()}function OI(){return LE(this).formatHsl()}function ly(){return this.rgb().formatRgb()}function Mo(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=jI.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?uy(t):n===3?new it(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?vs(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?vs(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=TI.exec(e))?new it(t[1],t[2],t[3],1):(t=RI.exec(e))?new it(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=II.exec(e))?vs(t[1],t[2],t[3],t[4]):(t=PI.exec(e))?vs(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=AI.exec(e))?dy(t[1],t[2]/100,t[3]/100,1):(t=MI.exec(e))?dy(t[1],t[2]/100,t[3]/100,t[4]):sy.hasOwnProperty(e)?uy(sy[e]):e==="transparent"?new it(NaN,NaN,NaN,0):null}function uy(e){return new it(e>>16&255,e>>8&255,e&255,1)}function vs(e,t,n,r){return r<=0&&(e=t=n=NaN),new it(e,t,n,r)}function LI(e){return e instanceof Uo||(e=Mo(e)),e?(e=e.rgb(),new it(e.r,e.g,e.b,e.opacity)):new it}function Gp(e,t,n,r){return arguments.length===1?LI(e):new it(e,t,n,r??1)}function it(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ag(it,Gp,OE(Uo,{brighter(e){return e=e==null?ga:Math.pow(ga,e),new it(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Po:Math.pow(Po,e),new it(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new it(wr(this.r),wr(this.g),wr(this.b),va(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cy,formatHex:cy,formatHex8:zI,formatRgb:fy,toString:fy}));function cy(){return`#${gr(this.r)}${gr(this.g)}${gr(this.b)}`}function zI(){return`#${gr(this.r)}${gr(this.g)}${gr(this.b)}${gr((isNaN(this.opacity)?1:this.opacity)*255)}`}function fy(){const e=va(this.opacity);return`${e===1?"rgb(":"rgba("}${wr(this.r)}, ${wr(this.g)}, ${wr(this.b)}${e===1?")":`, ${e})`}`}function va(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function wr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function gr(e){return e=wr(e),(e<16?"0":"")+e.toString(16)}function dy(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Lt(e,t,n,r)}function LE(e){if(e instanceof Lt)return new Lt(e.h,e.s,e.l,e.opacity);if(e instanceof Uo||(e=Mo(e)),!e)return new Lt;if(e instanceof Lt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Lt(s,a,l,e.opacity)}function DI(e,t,n,r){return arguments.length===1?LE(e):new Lt(e,t,n,r??1)}function Lt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ag(Lt,DI,OE(Uo,{brighter(e){return e=e==null?ga:Math.pow(ga,e),new Lt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Po:Math.pow(Po,e),new Lt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new it(Kl(e>=240?e-240:e+120,i,r),Kl(e,i,r),Kl(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Lt(hy(this.h),ys(this.s),ys(this.l),va(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=va(this.opacity);return`${e===1?"hsl(":"hsla("}${hy(this.h)}, ${ys(this.s)*100}%, ${ys(this.l)*100}%${e===1?")":`, ${e})`}`}}));function hy(e){return e=(e||0)%360,e<0?e+360:e}function ys(e){return Math.max(0,Math.min(1,e||0))}function Kl(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const zE=e=>()=>e;function FI(e,t){return function(n){return e+n*t}}function $I(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function BI(e){return(e=+e)==1?DE:function(t,n){return n-t?$I(t,n,e):zE(isNaN(t)?n:t)}}function DE(e,t){var n=t-e;return n?FI(e,n):zE(isNaN(e)?t:e)}const py=function e(t){var n=BI(t);function r(i,o){var s=n((i=Gp(i)).r,(o=Gp(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=DE(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function qn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Kp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yl=new RegExp(Kp.source,"g");function HI(e){return function(){return e}}function VI(e){return function(t){return e(t)+""}}function UI(e,t){var n=Kp.lastIndex=Yl.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(e=e+"",t=t+"";(r=Kp.exec(e))&&(i=Yl.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:qn(r,i)})),n=Yl.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?VI(l[0].x):HI(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}var my=180/Math.PI,Yp={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function FE(e,t,n,r,i,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*my,skewX:Math.atan(l)*my,scaleX:s,scaleY:a}}var xs;function WI(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Yp:FE(t.a,t.b,t.c,t.d,t.e,t.f)}function GI(e){return e==null||(xs||(xs=document.createElementNS("http://www.w3.org/2000/svg","g")),xs.setAttribute("transform",e),!(e=xs.transform.baseVal.consolidate()))?Yp:(e=e.matrix,FE(e.a,e.b,e.c,e.d,e.e,e.f))}function $E(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,f,d,h,y){if(u!==f||c!==d){var v=h.push("translate(",null,t,null,n);y.push({i:v-4,x:qn(u,f)},{i:v-2,x:qn(c,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function s(u,c,f,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:qn(u,c)})):c&&f.push(i(f)+"rotate("+c+r)}function a(u,c,f,d){u!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:qn(u,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(u,c,f,d,h,y){if(u!==f||c!==d){var v=h.push(i(h)+"scale(",null,",",null,")");y.push({i:v-4,x:qn(u,f)},{i:v-2,x:qn(c,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(u,c){var f=[],d=[];return u=e(u),c=e(c),o(u.translateX,u.translateY,c.translateX,c.translateY,f,d),s(u.rotate,c.rotate,f,d),a(u.skewX,c.skewX,f,d),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,d),u=c=null,function(h){for(var y=-1,v=d.length,w;++y<v;)f[(w=d[y]).i]=w.x(h);return f.join("")}}}var KI=$E(WI,"px, ","px)","deg)"),YI=$E(GI,", ",")",")"),XI=1e-12;function gy(e){return((e=Math.exp(e))+1/e)/2}function QI(e){return((e=Math.exp(e))-1/e)/2}function ZI(e){return((e=Math.exp(2*e))-1)/(e+1)}const JI=function e(t,n,r){function i(o,s){var a=o[0],l=o[1],u=o[2],c=s[0],f=s[1],d=s[2],h=c-a,y=f-l,v=h*h+y*y,w,m;if(v<XI)m=Math.log(d/u)/t,w=function(N){return[a+N*h,l+N*y,u*Math.exp(t*N*m)]};else{var g=Math.sqrt(v),x=(d*d-u*u+r*v)/(2*u*n*g),_=(d*d-u*u-r*v)/(2*d*n*g),E=Math.log(Math.sqrt(x*x+1)-x),S=Math.log(Math.sqrt(_*_+1)-_);m=(S-E)/t,w=function(N){var T=N*m,R=gy(E),M=u/(n*g)*(R*ZI(t*T+E)-QI(E));return[a+M*h,l+M*y,u*R/gy(t*T+E)]}}return w.duration=m*1e3*t/Math.SQRT2,w}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,l=a*a;return e(s,a,l)},i}(Math.SQRT2,2,4);var xi=0,Ki=0,Di=0,BE=1e3,ya,Yi,xa=0,jr=0,Ga=0,qo=typeof performance=="object"&&performance.now?performance:Date,HE=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function lg(){return jr||(HE(eP),jr=qo.now()+Ga)}function eP(){jr=0}function _a(){this._call=this._time=this._next=null}_a.prototype=VE.prototype={constructor:_a,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?lg():+n)+(t==null?0:+t),!this._next&&Yi!==this&&(Yi?Yi._next=this:ya=this,Yi=this),this._call=e,this._time=n,Xp()},stop:function(){this._call&&(this._call=null,this._time=1/0,Xp())}};function VE(e,t,n){var r=new _a;return r.restart(e,t,n),r}function tP(){lg(),++xi;for(var e=ya,t;e;)(t=jr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--xi}function vy(){jr=(xa=qo.now())+Ga,xi=Ki=0;try{tP()}finally{xi=0,rP(),jr=0}}function nP(){var e=qo.now(),t=e-xa;t>BE&&(Ga-=t,xa=e)}function rP(){for(var e,t=ya,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:ya=n);Yi=e,Xp(r)}function Xp(e){if(!xi){Ki&&(Ki=clearTimeout(Ki));var t=e-jr;t>24?(e<1/0&&(Ki=setTimeout(vy,e-qo.now()-Ga)),Di&&(Di=clearInterval(Di))):(Di||(xa=qo.now(),Di=setInterval(nP,BE)),xi=1,HE(vy))}}function yy(e,t,n){var r=new _a;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var iP=Ua("start","end","cancel","interrupt"),oP=[],UE=0,xy=1,Qp=2,Bs=3,_y=4,Zp=5,Hs=6;function Ka(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;sP(e,n,{name:t,index:r,group:i,on:iP,tween:oP,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:UE})}function ug(e,t){var n=$t(e,t);if(n.state>UE)throw new Error("too late; already scheduled");return n}function nn(e,t){var n=$t(e,t);if(n.state>Bs)throw new Error("too late; already running");return n}function $t(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function sP(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=VE(o,0,n.time);function o(u){n.state=xy,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var c,f,d,h;if(n.state!==xy)return l();for(c in r)if(h=r[c],h.name===n.name){if(h.state===Bs)return yy(s);h.state===_y?(h.state=Hs,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=Hs,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(yy(function(){n.state===Bs&&(n.state=_y,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Qp,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Qp){for(n.state=Bs,i=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=h);i.length=f+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=Zp,1),f=-1,d=i.length;++f<d;)i[f].call(e,c);n.state===Zp&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Hs,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Vs(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>Qp&&r.state<Zp,r.state=Hs,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function aP(e){return this.each(function(){Vs(this,e)})}function lP(e,t){var n,r;return function(){var i=nn(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function uP(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=nn(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=a;break}l===u&&i.push(a)}o.tween=i}}function cP(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=$t(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?lP:uP)(n,e,t))}function cg(e,t,n){var r=e._id;return e.each(function(){var i=nn(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return $t(i,r).value[t]}}function WE(e,t){var n;return(typeof t=="number"?qn:t instanceof Mo?py:(n=Mo(t))?(t=n,py):UI)(e,t)}function fP(e){return function(){this.removeAttribute(e)}}function dP(e){return function(){this.removeAttributeNS(e.space,e.local)}}function hP(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function pP(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function mP(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function gP(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function vP(e,t){var n=Wa(e),r=n==="transform"?YI:WE;return this.attrTween(e,typeof t=="function"?(n.local?gP:mP)(n,r,cg(this,"attr."+e,t)):t==null?(n.local?dP:fP)(n):(n.local?pP:hP)(n,r,t))}function yP(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function xP(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function _P(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&xP(e,o)),n}return i._value=t,i}function wP(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&yP(e,o)),n}return i._value=t,i}function bP(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Wa(e);return this.tween(n,(r.local?_P:wP)(r,t))}function SP(e,t){return function(){ug(this,e).delay=+t.apply(this,arguments)}}function EP(e,t){return t=+t,function(){ug(this,e).delay=t}}function kP(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?SP:EP)(t,e)):$t(this.node(),t).delay}function NP(e,t){return function(){nn(this,e).duration=+t.apply(this,arguments)}}function CP(e,t){return t=+t,function(){nn(this,e).duration=t}}function jP(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?NP:CP)(t,e)):$t(this.node(),t).duration}function TP(e,t){if(typeof t!="function")throw new Error;return function(){nn(this,e).ease=t}}function RP(e){var t=this._id;return arguments.length?this.each(TP(t,e)):$t(this.node(),t).ease}function IP(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;nn(this,e).ease=n}}function PP(e){if(typeof e!="function")throw new Error;return this.each(IP(this._id,e))}function AP(e){typeof e!="function"&&(e=EE(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&a.push(l);return new Sn(r,this._parents,this._name,this._id)}function MP(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l=t[a],u=n[a],c=l.length,f=s[a]=new Array(c),d,h=0;h<c;++h)(d=l[h]||u[h])&&(f[h]=d);for(;a<r;++a)s[a]=t[a];return new Sn(s,this._parents,this._name,this._id)}function qP(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function OP(e,t,n){var r,i,o=qP(t)?ug:nn;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}function LP(e,t){var n=this._id;return arguments.length<2?$t(this.node(),n).on.on(e):this.each(OP(n,e,t))}function zP(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function DP(){return this.on("end.remove",zP(this._id))}function FP(e){var t=this._name,n=this._id;typeof e!="function"&&(e=og(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],l=a.length,u=o[s]=new Array(l),c,f,d=0;d<l;++d)(c=a[d])&&(f=e.call(c,c.__data__,d,a))&&("__data__"in c&&(f.__data__=c.__data__),u[d]=f,Ka(u[d],t,n,d,u,$t(c,n)));return new Sn(o,this._parents,t,n)}function $P(e){var t=this._name,n=this._id;typeof e!="function"&&(e=SE(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l=r[a],u=l.length,c,f=0;f<u;++f)if(c=l[f]){for(var d=e.call(c,c.__data__,f,l),h,y=$t(c,n),v=0,w=d.length;v<w;++v)(h=d[v])&&Ka(h,t,n,v,d,y);o.push(d),s.push(c)}return new Sn(o,s,t,n)}var BP=Vo.prototype.constructor;function HP(){return new BP(this._groups,this._parents)}function VP(e,t){var n,r,i;return function(){var o=yi(this,e),s=(this.style.removeProperty(e),yi(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function GE(e){return function(){this.style.removeProperty(e)}}function UP(e,t,n){var r,i=n+"",o;return function(){var s=yi(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function WP(e,t,n){var r,i,o;return function(){var s=yi(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),yi(this,e))),s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a))}}function GP(e,t){var n,r,i,o="style."+t,s="end."+o,a;return function(){var l=nn(this,e),u=l.on,c=l.value[o]==null?a||(a=GE(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(s,i=c),l.on=r}}function KP(e,t,n){var r=(e+="")=="transform"?KI:WE;return t==null?this.styleTween(e,VP(e,r)).on("end.style."+e,GE(e)):typeof t=="function"?this.styleTween(e,WP(e,r,cg(this,"style."+e,t))).each(GP(this._id,e)):this.styleTween(e,UP(e,r,t),n).on("end.style."+e,null)}function YP(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function XP(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&YP(e,s,n)),r}return o._value=t,o}function QP(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,XP(e,t,n??""))}function ZP(e){return function(){this.textContent=e}}function JP(e){return function(){var t=e(this);this.textContent=t??""}}function eA(e){return this.tween("text",typeof e=="function"?JP(cg(this,"text",e)):ZP(e==null?"":e+""))}function tA(e){return function(t){this.textContent=e.call(this,t)}}function nA(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&tA(i)),t}return r._value=e,r}function rA(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,nA(e))}function iA(){for(var e=this._name,t=this._id,n=KE(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)if(l=s[u]){var c=$t(l,t);Ka(l,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Sn(r,this._parents,e,n)}function oA(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--i===0&&o()}};n.each(function(){var u=nn(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),u.on=t}),i===0&&o()})}var sA=0;function Sn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function KE(){return++sA}var ln=Vo.prototype;Sn.prototype={constructor:Sn,select:FP,selectAll:$P,selectChild:ln.selectChild,selectChildren:ln.selectChildren,filter:AP,merge:MP,selection:HP,transition:iA,call:ln.call,nodes:ln.nodes,node:ln.node,size:ln.size,empty:ln.empty,each:ln.each,on:LP,attr:vP,attrTween:bP,style:KP,styleTween:QP,text:eA,textTween:rA,remove:DP,tween:cP,delay:kP,duration:jP,ease:RP,easeVarying:PP,end:oA,[Symbol.iterator]:ln[Symbol.iterator]};function aA(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var lA={time:null,delay:0,duration:250,ease:aA};function uA(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function cA(e){var t,n;e instanceof Sn?(t=e._id,e=e._name):(t=KE(),(n=lA).time=lg(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&Ka(l,e,t,u,s,n||uA(l,t));return new Sn(r,this._parents,e,t)}Vo.prototype.interrupt=aP;Vo.prototype.transition=cA;const _s=e=>()=>e;function fA(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function pn(e,t,n){this.k=e,this.x=t,this.y=n}pn.prototype={constructor:pn,scale:function(e){return e===1?this:new pn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new pn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var yn=new pn(1,0,0);pn.prototype;function Xl(e){e.stopImmediatePropagation()}function Fi(e){e.preventDefault(),e.stopImmediatePropagation()}function dA(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function hA(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function wy(){return this.__zoom||yn}function pA(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function mA(){return navigator.maxTouchPoints||"ontouchstart"in this}function gA(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function YE(){var e=dA,t=hA,n=gA,r=pA,i=mA,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,l=JI,u=Ua("start","zoom","end"),c,f,d,h=500,y=150,v=0,w=10;function m(b){b.property("__zoom",wy).on("wheel.zoom",T,{passive:!1}).on("mousedown.zoom",R).on("dblclick.zoom",M).filter(i).on("touchstart.zoom",q).on("touchmove.zoom",F).on("touchend.zoom touchcancel.zoom",D).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(b,O,I,L){var j=b.selection?b.selection():b;j.property("__zoom",wy),b!==j?E(b,O,I,L):j.interrupt().each(function(){S(this,arguments).event(L).start().zoom(null,typeof O=="function"?O.apply(this,arguments):O).end()})},m.scaleBy=function(b,O,I,L){m.scaleTo(b,function(){var j=this.__zoom.k,C=typeof O=="function"?O.apply(this,arguments):O;return j*C},I,L)},m.scaleTo=function(b,O,I,L){m.transform(b,function(){var j=t.apply(this,arguments),C=this.__zoom,A=I==null?_(j):typeof I=="function"?I.apply(this,arguments):I,P=C.invert(A),z=typeof O=="function"?O.apply(this,arguments):O;return n(x(g(C,z),A,P),j,s)},I,L)},m.translateBy=function(b,O,I,L){m.transform(b,function(){return n(this.__zoom.translate(typeof O=="function"?O.apply(this,arguments):O,typeof I=="function"?I.apply(this,arguments):I),t.apply(this,arguments),s)},null,L)},m.translateTo=function(b,O,I,L,j){m.transform(b,function(){var C=t.apply(this,arguments),A=this.__zoom,P=L==null?_(C):typeof L=="function"?L.apply(this,arguments):L;return n(yn.translate(P[0],P[1]).scale(A.k).translate(typeof O=="function"?-O.apply(this,arguments):-O,typeof I=="function"?-I.apply(this,arguments):-I),C,s)},L,j)};function g(b,O){return O=Math.max(o[0],Math.min(o[1],O)),O===b.k?b:new pn(O,b.x,b.y)}function x(b,O,I){var L=O[0]-I[0]*b.k,j=O[1]-I[1]*b.k;return L===b.x&&j===b.y?b:new pn(b.k,L,j)}function _(b){return[(+b[0][0]+ +b[1][0])/2,(+b[0][1]+ +b[1][1])/2]}function E(b,O,I,L){b.on("start.zoom",function(){S(this,arguments).event(L).start()}).on("interrupt.zoom end.zoom",function(){S(this,arguments).event(L).end()}).tween("zoom",function(){var j=this,C=arguments,A=S(j,C).event(L),P=t.apply(j,C),z=I==null?_(P):typeof I=="function"?I.apply(j,C):I,$=Math.max(P[1][0]-P[0][0],P[1][1]-P[0][1]),V=j.__zoom,U=typeof O=="function"?O.apply(j,C):O,Y=l(V.invert(z).concat($/V.k),U.invert(z).concat($/U.k));return function(Q){if(Q===1)Q=U;else{var re=Y(Q),oe=$/re[2];Q=new pn(oe,z[0]-re[0]*oe,z[1]-re[1]*oe)}A.zoom(null,Q)}})}function S(b,O,I){return!I&&b.__zooming||new N(b,O)}function N(b,O){this.that=b,this.args=O,this.active=0,this.sourceEvent=null,this.extent=t.apply(b,O),this.taps=0}N.prototype={event:function(b){return b&&(this.sourceEvent=b),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(b,O){return this.mouse&&b!=="mouse"&&(this.mouse[1]=O.invert(this.mouse[0])),this.touch0&&b!=="touch"&&(this.touch0[1]=O.invert(this.touch0[0])),this.touch1&&b!=="touch"&&(this.touch1[1]=O.invert(this.touch1[0])),this.that.__zoom=O,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(b){var O=wt(this.that).datum();u.call(b,this.that,new fA(b,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:u}),O)}};function T(b,...O){if(!e.apply(this,arguments))return;var I=S(this,O).event(b),L=this.__zoom,j=Math.max(o[0],Math.min(o[1],L.k*Math.pow(2,r.apply(this,arguments)))),C=qt(b);if(I.wheel)(I.mouse[0][0]!==C[0]||I.mouse[0][1]!==C[1])&&(I.mouse[1]=L.invert(I.mouse[0]=C)),clearTimeout(I.wheel);else{if(L.k===j)return;I.mouse=[C,L.invert(C)],Vs(this),I.start()}Fi(b),I.wheel=setTimeout(A,y),I.zoom("mouse",n(x(g(L,j),I.mouse[0],I.mouse[1]),I.extent,s));function A(){I.wheel=null,I.end()}}function R(b,...O){if(d||!e.apply(this,arguments))return;var I=b.currentTarget,L=S(this,O,!0).event(b),j=wt(b.view).on("mousemove.zoom",z,!0).on("mouseup.zoom",$,!0),C=qt(b,I),A=b.clientX,P=b.clientY;ME(b.view),Xl(b),L.mouse=[C,this.__zoom.invert(C)],Vs(this),L.start();function z(V){if(Fi(V),!L.moved){var U=V.clientX-A,Y=V.clientY-P;L.moved=U*U+Y*Y>v}L.event(V).zoom("mouse",n(x(L.that.__zoom,L.mouse[0]=qt(V,I),L.mouse[1]),L.extent,s))}function $(V){j.on("mousemove.zoom mouseup.zoom",null),qE(V.view,L.moved),Fi(V),L.event(V).end()}}function M(b,...O){if(e.apply(this,arguments)){var I=this.__zoom,L=qt(b.changedTouches?b.changedTouches[0]:b,this),j=I.invert(L),C=I.k*(b.shiftKey?.5:2),A=n(x(g(I,C),L,j),t.apply(this,O),s);Fi(b),a>0?wt(this).transition().duration(a).call(E,A,L,b):wt(this).call(m.transform,A,L,b)}}function q(b,...O){if(e.apply(this,arguments)){var I=b.touches,L=I.length,j=S(this,O,b.changedTouches.length===L).event(b),C,A,P,z;for(Xl(b),A=0;A<L;++A)P=I[A],z=qt(P,this),z=[z,this.__zoom.invert(z),P.identifier],j.touch0?!j.touch1&&j.touch0[2]!==z[2]&&(j.touch1=z,j.taps=0):(j.touch0=z,C=!0,j.taps=1+!!c);c&&(c=clearTimeout(c)),C&&(j.taps<2&&(f=z[0],c=setTimeout(function(){c=null},h)),Vs(this),j.start())}}function F(b,...O){if(this.__zooming){var I=S(this,O).event(b),L=b.changedTouches,j=L.length,C,A,P,z;for(Fi(b),C=0;C<j;++C)A=L[C],P=qt(A,this),I.touch0&&I.touch0[2]===A.identifier?I.touch0[0]=P:I.touch1&&I.touch1[2]===A.identifier&&(I.touch1[0]=P);if(A=I.that.__zoom,I.touch1){var $=I.touch0[0],V=I.touch0[1],U=I.touch1[0],Y=I.touch1[1],Q=(Q=U[0]-$[0])*Q+(Q=U[1]-$[1])*Q,re=(re=Y[0]-V[0])*re+(re=Y[1]-V[1])*re;A=g(A,Math.sqrt(Q/re)),P=[($[0]+U[0])/2,($[1]+U[1])/2],z=[(V[0]+Y[0])/2,(V[1]+Y[1])/2]}else if(I.touch0)P=I.touch0[0],z=I.touch0[1];else return;I.zoom("touch",n(x(A,P,z),I.extent,s))}}function D(b,...O){if(this.__zooming){var I=S(this,O).event(b),L=b.changedTouches,j=L.length,C,A;for(Xl(b),d&&clearTimeout(d),d=setTimeout(function(){d=null},h),C=0;C<j;++C)A=L[C],I.touch0&&I.touch0[2]===A.identifier?delete I.touch0:I.touch1&&I.touch1[2]===A.identifier&&delete I.touch1;if(I.touch1&&!I.touch0&&(I.touch0=I.touch1,delete I.touch1),I.touch0)I.touch0[1]=this.__zoom.invert(I.touch0[0]);else if(I.end(),I.taps===2&&(A=qt(A,this),Math.hypot(f[0]-A[0],f[1]-A[1])<w)){var P=wt(this).on("dblclick.zoom");P&&P.apply(this,arguments)}}}return m.wheelDelta=function(b){return arguments.length?(r=typeof b=="function"?b:_s(+b),m):r},m.filter=function(b){return arguments.length?(e=typeof b=="function"?b:_s(!!b),m):e},m.touchable=function(b){return arguments.length?(i=typeof b=="function"?b:_s(!!b),m):i},m.extent=function(b){return arguments.length?(t=typeof b=="function"?b:_s([[+b[0][0],+b[0][1]],[+b[1][0],+b[1][1]]]),m):t},m.scaleExtent=function(b){return arguments.length?(o[0]=+b[0],o[1]=+b[1],m):[o[0],o[1]]},m.translateExtent=function(b){return arguments.length?(s[0][0]=+b[0][0],s[1][0]=+b[1][0],s[0][1]=+b[0][1],s[1][1]=+b[1][1],m):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},m.constrain=function(b){return arguments.length?(n=b,m):n},m.duration=function(b){return arguments.length?(a=+b,m):a},m.interpolate=function(b){return arguments.length?(l=b,m):l},m.on=function(){var b=u.on.apply(u,arguments);return b===u?m:b},m.clickDistance=function(b){return arguments.length?(v=(b=+b)*b,m):Math.sqrt(v)},m.tapDistance=function(b){return arguments.length?(w=+b,m):w},m}const Ya=k.createContext(null),vA=Ya.Provider,En={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},XE=En.error001();function he(e,t){const n=k.useContext(Ya);if(n===null)throw new Error(XE);return wE(n,e,t)}const qe=()=>{const e=k.useContext(Ya);if(e===null)throw new Error(XE);return k.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},yA=e=>e.userSelectionActive?"none":"all";function fo({position:e,children:t,className:n,style:r,...i}){const o=he(yA),s=`${e}`.split("-");return B.createElement("div",{className:ut(["react-flow__panel",n,...s]),style:{...r,pointerEvents:o},...i},t)}function xA({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:B.createElement(fo,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},B.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const _A=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:o={},labelBgPadding:s=[2,4],labelBgBorderRadius:a=2,children:l,className:u,...c})=>{const f=k.useRef(null),[d,h]=k.useState({x:0,y:0,width:0,height:0}),y=ut(["react-flow__edge-textwrapper",u]);return k.useEffect(()=>{if(f.current){const v=f.current.getBBox();h({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),typeof n>"u"||!n?null:B.createElement("g",{transform:`translate(${e-d.width/2} ${t-d.height/2})`,className:y,visibility:d.width?"visible":"hidden",...c},i&&B.createElement("rect",{width:d.width+2*s[0],x:-s[0],y:-s[1],height:d.height+2*s[1],className:"react-flow__edge-textbg",style:o,rx:a,ry:a}),B.createElement("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:f,style:r},n),l)};var wA=k.memo(_A);const fg=e=>({width:e.offsetWidth,height:e.offsetHeight}),_i=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),dg=(e={x:0,y:0},t)=>({x:_i(e.x,t[0][0],t[1][0]),y:_i(e.y,t[0][1],t[1][1])}),by=(e,t,n)=>e<t?_i(Math.abs(e-t),1,50)/50:e>n?-_i(Math.abs(e-n),1,50)/50:0,QE=(e,t)=>{const n=by(e.x,35,t.width-35)*20,r=by(e.y,35,t.height-35)*20;return[n,r]},ZE=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},JE=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Oo=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),e2=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Sy=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),bA=(e,t)=>e2(JE(Oo(e),Oo(t))),Jp=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},SA=e=>St(e.width)&&St(e.height)&&St(e.x)&&St(e.y),St=e=>!isNaN(e)&&isFinite(e),_e=Symbol.for("internals"),t2=["Enter"," ","Escape"],EA=(e,t)=>{},kA=e=>"nativeEvent"in e;function em(e){var i,o;const t=kA(e)?e.nativeEvent:e,n=((o=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:o[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const n2=e=>"clientX"in e,Zn=(e,t)=>{var o,s;const n=n2(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,i=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},wa=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},Wo=({id:e,path:t,labelX:n,labelY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:d,interactionWidth:h=20})=>B.createElement(B.Fragment,null,B.createElement("path",{id:e,style:c,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:d}),h&&B.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}),i&&St(n)&&St(r)?B.createElement(wA,{x:n,y:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u}):null);Wo.displayName="BaseEdge";function $i(e,t,n){return n===void 0?n:r=>{const i=t().edges.find(o=>o.id===e);i&&n(r,{...i})}}function r2({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,s=Math.abs(r-t)/2,a=r<t?r+s:r-s;return[o,a,i,s]}function i2({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:s,targetControlY:a}){const l=e*.125+i*.375+s*.375+n*.125,u=t*.125+o*.375+a*.375+r*.125,c=Math.abs(l-e),f=Math.abs(u-t);return[l,u,c,f]}var Tr;(function(e){e.Strict="strict",e.Loose="loose"})(Tr||(Tr={}));var vr;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(vr||(vr={}));var Lo;(function(e){e.Partial="partial",e.Full="full"})(Lo||(Lo={}));var Dn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Dn||(Dn={}));var ba;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(ba||(ba={}));var G;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(G||(G={}));function Ey({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===G.Left||e===G.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function o2({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:r,targetY:i,targetPosition:o=G.Top}){const[s,a]=Ey({pos:n,x1:e,y1:t,x2:r,y2:i}),[l,u]=Ey({pos:o,x1:r,y1:i,x2:e,y2:t}),[c,f,d,h]=i2({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:s,sourceControlY:a,targetControlX:l,targetControlY:u});return[`M${e},${t} C${s},${a} ${l},${u} ${r},${i}`,c,f,d,h]}const hg=k.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=G.Bottom,targetPosition:o=G.Top,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:y,interactionWidth:v})=>{const[w,m,g]=o2({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:o});return B.createElement(Wo,{path:w,labelX:m,labelY:g,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:y,interactionWidth:v})});hg.displayName="SimpleBezierEdge";const ky={[G.Left]:{x:-1,y:0},[G.Right]:{x:1,y:0},[G.Top]:{x:0,y:-1},[G.Bottom]:{x:0,y:1}},NA=({source:e,sourcePosition:t=G.Bottom,target:n})=>t===G.Left||t===G.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Ny=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function CA({source:e,sourcePosition:t=G.Bottom,target:n,targetPosition:r=G.Top,center:i,offset:o}){const s=ky[t],a=ky[r],l={x:e.x+s.x*o,y:e.y+s.y*o},u={x:n.x+a.x*o,y:n.y+a.y*o},c=NA({source:l,sourcePosition:t,target:u}),f=c.x!==0?"x":"y",d=c[f];let h=[],y,v;const w={x:0,y:0},m={x:0,y:0},[g,x,_,E]=r2({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[f]*a[f]===-1){y=i.x??g,v=i.y??x;const N=[{x:y,y:l.y},{x:y,y:u.y}],T=[{x:l.x,y:v},{x:u.x,y:v}];s[f]===d?h=f==="x"?N:T:h=f==="x"?T:N}else{const N=[{x:l.x,y:u.y}],T=[{x:u.x,y:l.y}];if(f==="x"?h=s.x===d?T:N:h=s.y===d?N:T,t===r){const D=Math.abs(e[f]-n[f]);if(D<=o){const b=Math.min(o-1,o-D);s[f]===d?w[f]=(l[f]>e[f]?-1:1)*b:m[f]=(u[f]>n[f]?-1:1)*b}}if(t!==r){const D=f==="x"?"y":"x",b=s[f]===a[D],O=l[D]>u[D],I=l[D]<u[D];(s[f]===1&&(!b&&O||b&&I)||s[f]!==1&&(!b&&I||b&&O))&&(h=f==="x"?N:T)}const R={x:l.x+w.x,y:l.y+w.y},M={x:u.x+m.x,y:u.y+m.y},q=Math.max(Math.abs(R.x-h[0].x),Math.abs(M.x-h[0].x)),F=Math.max(Math.abs(R.y-h[0].y),Math.abs(M.y-h[0].y));q>=F?(y=(R.x+M.x)/2,v=h[0].y):(y=h[0].x,v=(R.y+M.y)/2)}return[[e,{x:l.x+w.x,y:l.y+w.y},...h,{x:u.x+m.x,y:u.y+m.y},n],y,v,_,E]}function jA(e,t,n,r){const i=Math.min(Ny(e,t)/2,Ny(t,n)/2,r),{x:o,y:s}=t;if(e.x===o&&o===n.x||e.y===s&&s===n.y)return`L${o} ${s}`;if(e.y===s){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${o+i*u},${s}Q ${o},${s} ${o},${s+i*c}`}const a=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${o},${s+i*l}Q ${o},${s} ${o+i*a},${s}`}function tm({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:r,targetY:i,targetPosition:o=G.Top,borderRadius:s=5,centerX:a,centerY:l,offset:u=20}){const[c,f,d,h,y]=CA({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:a,y:l},offset:u});return[c.reduce((w,m,g)=>{let x="";return g>0&&g<c.length-1?x=jA(c[g-1],m,c[g+1],s):x=`${g===0?"M":"L"}${m.x} ${m.y}`,w+=x,w},""),f,d,h,y]}const Xa=k.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,sourcePosition:f=G.Bottom,targetPosition:d=G.Top,markerEnd:h,markerStart:y,pathOptions:v,interactionWidth:w})=>{const[m,g,x]=tm({sourceX:e,sourceY:t,sourcePosition:f,targetX:n,targetY:r,targetPosition:d,borderRadius:v==null?void 0:v.borderRadius,offset:v==null?void 0:v.offset});return B.createElement(Wo,{path:m,labelX:g,labelY:x,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:h,markerStart:y,interactionWidth:w})});Xa.displayName="SmoothStepEdge";const pg=k.memo(e=>{var t;return B.createElement(Xa,{...e,pathOptions:k.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});pg.displayName="StepEdge";function TA({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,o,s,a]=r2({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,o,s,a]}const mg=k.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:d,interactionWidth:h})=>{const[y,v,w]=TA({sourceX:e,sourceY:t,targetX:n,targetY:r});return B.createElement(Wo,{path:y,labelX:v,labelY:w,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:d,interactionWidth:h})});mg.displayName="StraightEdge";function ws(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Cy({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){switch(e){case G.Left:return[t-ws(t-r,o),n];case G.Right:return[t+ws(r-t,o),n];case G.Top:return[t,n-ws(n-i,o)];case G.Bottom:return[t,n+ws(i-n,o)]}}function s2({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:r,targetY:i,targetPosition:o=G.Top,curvature:s=.25}){const[a,l]=Cy({pos:n,x1:e,y1:t,x2:r,y2:i,c:s}),[u,c]=Cy({pos:o,x1:r,y1:i,x2:e,y2:t,c:s}),[f,d,h,y]=i2({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:u,targetControlY:c});return[`M${e},${t} C${a},${l} ${u},${c} ${r},${i}`,f,d,h,y]}const Sa=k.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=G.Bottom,targetPosition:o=G.Top,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:y,pathOptions:v,interactionWidth:w})=>{const[m,g,x]=s2({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:o,curvature:v==null?void 0:v.curvature});return B.createElement(Wo,{path:m,labelX:g,labelY:x,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:y,interactionWidth:w})});Sa.displayName="BezierEdge";const gg=k.createContext(null),RA=gg.Provider;gg.Consumer;const IA=()=>k.useContext(gg),PA=e=>"id"in e&&"source"in e&&"target"in e,AA=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,nm=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,MA=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),qA=(e,t)=>{if(!e.source||!e.target)return t;let n;return PA(e)?n={...e}:n={...e,id:AA(e)},MA(n,t)?t:t.concat(n)},rm=({x:e,y:t},[n,r,i],o,[s,a])=>{const l={x:(e-n)/i,y:(t-r)/i};return o?{x:s*Math.round(l.x/s),y:a*Math.round(l.y/a)}:l},a2=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r}),br=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],i={x:e.position.x-n,y:e.position.y-r};return{...i,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:i}},Qa=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const{x:o,y:s}=br(i,t).positionAbsolute;return JE(r,Oo({x:o,y:s,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return e2(n)},l2=(e,t,[n,r,i]=[0,0,1],o=!1,s=!1,a=[0,0])=>{const l={x:(t.x-n)/i,y:(t.y-r)/i,width:t.width/i,height:t.height/i},u=[];return e.forEach(c=>{const{width:f,height:d,selectable:h=!0,hidden:y=!1}=c;if(s&&!h||y)return!1;const{positionAbsolute:v}=br(c,a),w={x:v.x,y:v.y,width:f||0,height:d||0},m=Jp(l,w),g=typeof f>"u"||typeof d>"u"||f===null||d===null,x=o&&m>0,_=(f||0)*(d||0);(g||x||m>=_||c.dragging)&&u.push(c)}),u},u2=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},c2=(e,t,n,r,i,o=.1)=>{const s=t/(e.width*(1+o)),a=n/(e.height*(1+o)),l=Math.min(s,a),u=_i(l,r,i),c=e.x+e.width/2,f=e.y+e.height/2,d=t/2-c*u,h=n/2-f*u;return{x:d,y:h,zoom:u}},dr=(e,t=0)=>e.transition().duration(t);function jy(e,t,n,r){return(t[n]||[]).reduce((i,o)=>{var s,a;return`${e.id}-${o.id}-${n}`!==r&&i.push({id:o.id||null,type:n,nodeId:e.id,x:(((s=e.positionAbsolute)==null?void 0:s.x)??0)+o.x+o.width/2,y:(((a=e.positionAbsolute)==null?void 0:a.y)??0)+o.y+o.height/2}),i},[])}function OA(e,t,n,r,i,o){const{x:s,y:a}=Zn(e),u=t.elementsFromPoint(s,a).find(y=>y.classList.contains("react-flow__handle"));if(u){const y=u.getAttribute("data-nodeid");if(y){const v=vg(void 0,u),w=u.getAttribute("data-handleid"),m=o({nodeId:y,id:w,type:v});if(m){const g=i.find(x=>x.nodeId===y&&x.type===v&&x.id===w);return{handle:{id:w,type:v,nodeId:y,x:(g==null?void 0:g.x)||n.x,y:(g==null?void 0:g.y)||n.y},validHandleResult:m}}}}let c=[],f=1/0;if(i.forEach(y=>{const v=Math.sqrt((y.x-n.x)**2+(y.y-n.y)**2);if(v<=r){const w=o(y);v<=f&&(v<f?c=[{handle:y,validHandleResult:w}]:v===f&&c.push({handle:y,validHandleResult:w}),f=v)}}),!c.length)return{handle:null,validHandleResult:f2()};if(c.length===1)return c[0];const d=c.some(({validHandleResult:y})=>y.isValid),h=c.some(({handle:y})=>y.type==="target");return c.find(({handle:y,validHandleResult:v})=>h?y.type==="target":d?v.isValid:!0)||c[0]}const LA={source:null,target:null,sourceHandle:null,targetHandle:null},f2=()=>({handleDomNode:null,isValid:!1,connection:LA,endHandle:null});function d2(e,t,n,r,i,o,s){const a=i==="target",l=s.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...f2(),handleDomNode:l};if(l){const c=vg(void 0,l),f=l.getAttribute("data-nodeid"),d=l.getAttribute("data-handleid"),h=l.classList.contains("connectable"),y=l.classList.contains("connectableend"),v={source:a?f:n,sourceHandle:a?d:r,target:a?n:f,targetHandle:a?r:d};u.connection=v,h&&y&&(t===Tr.Strict?a&&c==="source"||!a&&c==="target":f!==n||d!==r)&&(u.endHandle={nodeId:f,handleId:d,type:c},u.isValid=o(v))}return u}function zA({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((i,o)=>{if(o[_e]){const{handleBounds:s}=o[_e];let a=[],l=[];s&&(a=jy(o,s,"source",`${t}-${n}-${r}`),l=jy(o,s,"target",`${t}-${n}-${r}`)),i.push(...a,...l)}return i},[])}function vg(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Ql(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function DA(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function h2({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:i,getState:o,setState:s,isValidConnection:a,edgeUpdaterType:l,onReconnectEnd:u}){const c=ZE(e.target),{connectionMode:f,domNode:d,autoPanOnConnect:h,connectionRadius:y,onConnectStart:v,panBy:w,getNodes:m,cancelConnection:g}=o();let x=0,_;const{x:E,y:S}=Zn(e),N=c==null?void 0:c.elementFromPoint(E,S),T=vg(l,N),R=d==null?void 0:d.getBoundingClientRect();if(!R||!T)return;let M,q=Zn(e,R),F=!1,D=null,b=!1,O=null;const I=zA({nodes:m(),nodeId:n,handleId:t,handleType:T}),L=()=>{if(!h)return;const[A,P]=QE(q,R);w({x:A,y:P}),x=requestAnimationFrame(L)};s({connectionPosition:q,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:T,connectionStartHandle:{nodeId:n,handleId:t,type:T},connectionEndHandle:null}),v==null||v(e,{nodeId:n,handleId:t,handleType:T});function j(A){const{transform:P}=o();q=Zn(A,R);const{handle:z,validHandleResult:$}=OA(A,c,rm(q,P,!1,[1,1]),y,I,V=>d2(V,f,n,t,i?"target":"source",a,c));if(_=z,F||(L(),F=!0),O=$.handleDomNode,D=$.connection,b=$.isValid,s({connectionPosition:_&&b?a2({x:_.x,y:_.y},P):q,connectionStatus:DA(!!_,b),connectionEndHandle:$.endHandle}),!_&&!b&&!O)return Ql(M);D.source!==D.target&&O&&(Ql(M),M=O,O.classList.add("connecting","react-flow__handle-connecting"),O.classList.toggle("valid",b),O.classList.toggle("react-flow__handle-valid",b))}function C(A){var P,z;(_||O)&&D&&b&&(r==null||r(D)),(z=(P=o()).onConnectEnd)==null||z.call(P,A),l&&(u==null||u(A)),Ql(M),g(),cancelAnimationFrame(x),F=!1,b=!1,D=null,O=null,c.removeEventListener("mousemove",j),c.removeEventListener("mouseup",C),c.removeEventListener("touchmove",j),c.removeEventListener("touchend",C)}c.addEventListener("mousemove",j),c.addEventListener("mouseup",C),c.addEventListener("touchmove",j),c.addEventListener("touchend",C)}const Ty=()=>!0,FA=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),$A=(e,t,n)=>r=>{const{connectionStartHandle:i,connectionEndHandle:o,connectionClickStartHandle:s}=r;return{connecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n||(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n}},p2=k.forwardRef(({type:e="source",position:t=G.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:s,onConnect:a,children:l,className:u,onMouseDown:c,onTouchStart:f,...d},h)=>{var R,M;const y=s||null,v=e==="target",w=qe(),m=IA(),{connectOnClick:g,noPanClassName:x}=he(FA,Ue),{connecting:_,clickConnecting:E}=he($A(m,y,e),Ue);m||(M=(R=w.getState()).onError)==null||M.call(R,"010",En.error010());const S=q=>{const{defaultEdgeOptions:F,onConnect:D,hasDefaultEdges:b}=w.getState(),O={...F,...q};if(b){const{edges:I,setEdges:L}=w.getState();L(qA(O,I))}D==null||D(O),a==null||a(O)},N=q=>{if(!m)return;const F=n2(q);i&&(F&&q.button===0||!F)&&h2({event:q,handleId:y,nodeId:m,onConnect:S,isTarget:v,getState:w.getState,setState:w.setState,isValidConnection:n||w.getState().isValidConnection||Ty}),F?c==null||c(q):f==null||f(q)},T=q=>{const{onClickConnectStart:F,onClickConnectEnd:D,connectionClickStartHandle:b,connectionMode:O,isValidConnection:I}=w.getState();if(!m||!b&&!i)return;if(!b){F==null||F(q,{nodeId:m,handleId:y,handleType:e}),w.setState({connectionClickStartHandle:{nodeId:m,type:e,handleId:y}});return}const L=ZE(q.target),j=n||I||Ty,{connection:C,isValid:A}=d2({nodeId:m,id:y,type:e},O,b.nodeId,b.handleId||null,b.type,j,L);A&&S(C),D==null||D(q),w.setState({connectionClickStartHandle:null})};return B.createElement("div",{"data-handleid":y,"data-nodeid":m,"data-handlepos":t,"data-id":`${m}-${y}-${e}`,className:ut(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",x,u,{source:!v,target:v,connectable:r,connectablestart:i,connectableend:o,connecting:E,connectionindicator:r&&(i&&!_||o&&_)}]),onMouseDown:N,onTouchStart:N,onClick:g?T:void 0,ref:h,...d},l)});p2.displayName="Handle";var nr=k.memo(p2);const m2=({data:e,isConnectable:t,targetPosition:n=G.Top,sourcePosition:r=G.Bottom})=>B.createElement(B.Fragment,null,B.createElement(nr,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,B.createElement(nr,{type:"source",position:r,isConnectable:t}));m2.displayName="DefaultNode";var im=k.memo(m2);const g2=({data:e,isConnectable:t,sourcePosition:n=G.Bottom})=>B.createElement(B.Fragment,null,e==null?void 0:e.label,B.createElement(nr,{type:"source",position:n,isConnectable:t}));g2.displayName="InputNode";var v2=k.memo(g2);const y2=({data:e,isConnectable:t,targetPosition:n=G.Top})=>B.createElement(B.Fragment,null,B.createElement(nr,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);y2.displayName="OutputNode";var x2=k.memo(y2);const yg=()=>null;yg.displayName="GroupNode";const BA=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),bs=e=>e.id;function HA(e,t){return Ue(e.selectedNodes.map(bs),t.selectedNodes.map(bs))&&Ue(e.selectedEdges.map(bs),t.selectedEdges.map(bs))}const _2=k.memo(({onSelectionChange:e})=>{const t=qe(),{selectedNodes:n,selectedEdges:r}=he(BA,HA);return k.useEffect(()=>{const i={nodes:n,edges:r};e==null||e(i),t.getState().onSelectionChange.forEach(o=>o(i))},[n,r,e]),null});_2.displayName="SelectionListener";const VA=e=>!!e.onSelectionChange;function UA({onSelectionChange:e}){const t=he(VA);return e||t?B.createElement(_2,{onSelectionChange:e}):null}const WA=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function zr(e,t){k.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function te(e,t,n){k.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const GA=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:i,onConnectStart:o,onConnectEnd:s,onClickConnectStart:a,onClickConnectEnd:l,nodesDraggable:u,nodesConnectable:c,nodesFocusable:f,edgesFocusable:d,edgesUpdatable:h,elevateNodesOnSelect:y,minZoom:v,maxZoom:w,nodeExtent:m,onNodesChange:g,onEdgesChange:x,elementsSelectable:_,connectionMode:E,snapGrid:S,snapToGrid:N,translateExtent:T,connectOnClick:R,defaultEdgeOptions:M,fitView:q,fitViewOptions:F,onNodesDelete:D,onEdgesDelete:b,onNodeDrag:O,onNodeDragStart:I,onNodeDragStop:L,onSelectionDrag:j,onSelectionDragStart:C,onSelectionDragStop:A,noPanClassName:P,nodeOrigin:z,rfId:$,autoPanOnConnect:V,autoPanOnNodeDrag:U,onError:Y,connectionRadius:Q,isValidConnection:re,nodeDragThreshold:oe})=>{const{setNodes:ie,setEdges:Ne,setDefaultNodesAndEdges:we,setMinZoom:Oe,setMaxZoom:Re,setTranslateExtent:Z,setNodeExtent:Ie,reset:X}=he(WA,Ue),K=qe();return k.useEffect(()=>{const ye=r==null?void 0:r.map(Tt=>({...Tt,...M}));return we(n,ye),()=>{X()}},[]),te("defaultEdgeOptions",M,K.setState),te("connectionMode",E,K.setState),te("onConnect",i,K.setState),te("onConnectStart",o,K.setState),te("onConnectEnd",s,K.setState),te("onClickConnectStart",a,K.setState),te("onClickConnectEnd",l,K.setState),te("nodesDraggable",u,K.setState),te("nodesConnectable",c,K.setState),te("nodesFocusable",f,K.setState),te("edgesFocusable",d,K.setState),te("edgesUpdatable",h,K.setState),te("elementsSelectable",_,K.setState),te("elevateNodesOnSelect",y,K.setState),te("snapToGrid",N,K.setState),te("snapGrid",S,K.setState),te("onNodesChange",g,K.setState),te("onEdgesChange",x,K.setState),te("connectOnClick",R,K.setState),te("fitViewOnInit",q,K.setState),te("fitViewOnInitOptions",F,K.setState),te("onNodesDelete",D,K.setState),te("onEdgesDelete",b,K.setState),te("onNodeDrag",O,K.setState),te("onNodeDragStart",I,K.setState),te("onNodeDragStop",L,K.setState),te("onSelectionDrag",j,K.setState),te("onSelectionDragStart",C,K.setState),te("onSelectionDragStop",A,K.setState),te("noPanClassName",P,K.setState),te("nodeOrigin",z,K.setState),te("rfId",$,K.setState),te("autoPanOnConnect",V,K.setState),te("autoPanOnNodeDrag",U,K.setState),te("onError",Y,K.setState),te("connectionRadius",Q,K.setState),te("isValidConnection",re,K.setState),te("nodeDragThreshold",oe,K.setState),zr(e,ie),zr(t,Ne),zr(v,Oe),zr(w,Re),zr(T,Z),zr(m,Ie),null},Ry={display:"none"},KA={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},w2="react-flow__node-desc",b2="react-flow__edge-desc",YA="react-flow__aria-live",XA=e=>e.ariaLiveMessage;function QA({rfId:e}){const t=he(XA);return B.createElement("div",{id:`${YA}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:KA},t)}function ZA({rfId:e,disableKeyboardA11y:t}){return B.createElement(B.Fragment,null,B.createElement("div",{id:`${w2}-${e}`,style:Ry},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),B.createElement("div",{id:`${b2}-${e}`,style:Ry},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&B.createElement(QA,{rfId:e}))}var zo=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=k.useState(!1),i=k.useRef(!1),o=k.useRef(new Set([])),[s,a]=k.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),c=u.reduce((f,d)=>f.concat(...d),[]);return[u,c]}return[[],[]]},[e]);return k.useEffect(()=>{const l=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||l;if(e!==null){const c=h=>{if(i.current=h.ctrlKey||h.metaKey||h.shiftKey,(!i.current||i.current&&!t.actInsideInputWithModifier)&&em(h))return!1;const v=Py(h.code,a);o.current.add(h[v]),Iy(s,o.current,!1)&&(h.preventDefault(),r(!0))},f=h=>{if((!i.current||i.current&&!t.actInsideInputWithModifier)&&em(h))return!1;const v=Py(h.code,a);Iy(s,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(h[v]),h.key==="Meta"&&o.current.clear(),i.current=!1},d=()=>{o.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",c),u==null||u.addEventListener("keyup",f),window.addEventListener("blur",d),()=>{u==null||u.removeEventListener("keydown",c),u==null||u.removeEventListener("keyup",f),window.removeEventListener("blur",d)}}},[e,r]),n};function Iy(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function Py(e,t){return t.includes(e)?"code":"key"}function S2(e,t,n,r){var a,l;const i=e.parentNode||e.parentId;if(!i)return n;const o=t.get(i),s=br(o,r);return S2(o,t,{x:(n.x??0)+s.x,y:(n.y??0)+s.y,z:(((a=o[_e])==null?void 0:a.z)??0)>(n.z??0)?((l=o[_e])==null?void 0:l.z)??0:n.z??0},r)}function E2(e,t,n){e.forEach(r=>{var o;const i=r.parentNode||r.parentId;if(i&&!e.has(i))throw new Error(`Parent node ${i} not found`);if(i||n!=null&&n[r.id]){const{x:s,y:a,z:l}=S2(r,e,{...r.position,z:((o=r[_e])==null?void 0:o.z)??0},t);r.positionAbsolute={x:s,y:a},r[_e].z=l,n!=null&&n[r.id]&&(r[_e].isParent=!0)}})}function Zl(e,t,n,r){const i=new Map,o={},s=r?1e3:0;return e.forEach(a=>{var h;const l=(St(a.zIndex)?a.zIndex:0)+(a.selected?s:0),u=t.get(a.id),c={...a,positionAbsolute:{x:a.position.x,y:a.position.y}},f=a.parentNode||a.parentId;f&&(o[f]=!0);const d=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==a.type;Object.defineProperty(c,_e,{enumerable:!1,value:{handleBounds:d||(h=u==null?void 0:u[_e])==null?void 0:h.handleBounds,z:l}}),i.set(a.id,c)}),E2(i,n,o),i}function k2(e,t={}){const{getNodes:n,width:r,height:i,minZoom:o,maxZoom:s,d3Zoom:a,d3Selection:l,fitViewOnInitDone:u,fitViewOnInit:c,nodeOrigin:f}=e(),d=t.initial&&!u&&c;if(a&&l&&(d||!t.initial)){const y=n().filter(w=>{var g;const m=t.includeHiddenNodes?w.width&&w.height:!w.hidden;return(g=t.nodes)!=null&&g.length?m&&t.nodes.some(x=>x.id===w.id):m}),v=y.every(w=>w.width&&w.height);if(y.length>0&&v){const w=Qa(y,f),{x:m,y:g,zoom:x}=c2(w,r,i,t.minZoom??o,t.maxZoom??s,t.padding??.1),_=yn.translate(m,g).scale(x);return typeof t.duration=="number"&&t.duration>0?a.transform(dr(l,t.duration),_):a.transform(l,_),!0}}return!1}function JA(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[_e]:r[_e],selected:n.selected})}),new Map(t)}function eM(e,t){return t.map(n=>{const r=e.find(i=>i.id===n.id);return r&&(n.selected=r.selected),n})}function Ss({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:i,edges:o,onNodesChange:s,onEdgesChange:a,hasDefaultNodes:l,hasDefaultEdges:u}=n();e!=null&&e.length&&(l&&r({nodeInternals:JA(e,i)}),s==null||s(e)),t!=null&&t.length&&(u&&r({edges:eM(t,o)}),a==null||a(t))}const Dr=()=>{},tM={zoomIn:Dr,zoomOut:Dr,zoomTo:Dr,getZoom:()=>1,setViewport:Dr,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Dr,fitBounds:Dr,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},nM=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),rM=()=>{const e=qe(),{d3Zoom:t,d3Selection:n}=he(nM,Ue);return k.useMemo(()=>n&&t?{zoomIn:i=>t.scaleBy(dr(n,i==null?void 0:i.duration),1.2),zoomOut:i=>t.scaleBy(dr(n,i==null?void 0:i.duration),1/1.2),zoomTo:(i,o)=>t.scaleTo(dr(n,o==null?void 0:o.duration),i),getZoom:()=>e.getState().transform[2],setViewport:(i,o)=>{const[s,a,l]=e.getState().transform,u=yn.translate(i.x??s,i.y??a).scale(i.zoom??l);t.transform(dr(n,o==null?void 0:o.duration),u)},getViewport:()=>{const[i,o,s]=e.getState().transform;return{x:i,y:o,zoom:s}},fitView:i=>k2(e.getState,i),setCenter:(i,o,s)=>{const{width:a,height:l,maxZoom:u}=e.getState(),c=typeof(s==null?void 0:s.zoom)<"u"?s.zoom:u,f=a/2-i*c,d=l/2-o*c,h=yn.translate(f,d).scale(c);t.transform(dr(n,s==null?void 0:s.duration),h)},fitBounds:(i,o)=>{const{width:s,height:a,minZoom:l,maxZoom:u}=e.getState(),{x:c,y:f,zoom:d}=c2(i,s,a,l,u,(o==null?void 0:o.padding)??.1),h=yn.translate(c,f).scale(d);t.transform(dr(n,o==null?void 0:o.duration),h)},project:i=>{const{transform:o,snapToGrid:s,snapGrid:a}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),rm(i,o,s,a)},screenToFlowPosition:i=>{const{transform:o,snapToGrid:s,snapGrid:a,domNode:l}=e.getState();if(!l)return i;const{x:u,y:c}=l.getBoundingClientRect(),f={x:i.x-u,y:i.y-c};return rm(f,o,s,a)},flowToScreenPosition:i=>{const{transform:o,domNode:s}=e.getState();if(!s)return i;const{x:a,y:l}=s.getBoundingClientRect(),u=a2(i,o);return{x:u.x+a,y:u.y+l}},viewportInitialized:!0}:tM,[t,n])};function xg(){const e=rM(),t=qe(),n=k.useCallback(()=>t.getState().getNodes().map(v=>({...v})),[]),r=k.useCallback(v=>t.getState().nodeInternals.get(v),[]),i=k.useCallback(()=>{const{edges:v=[]}=t.getState();return v.map(w=>({...w}))},[]),o=k.useCallback(v=>{const{edges:w=[]}=t.getState();return w.find(m=>m.id===v)},[]),s=k.useCallback(v=>{const{getNodes:w,setNodes:m,hasDefaultNodes:g,onNodesChange:x}=t.getState(),_=w(),E=typeof v=="function"?v(_):v;if(g)m(E);else if(x){const S=E.length===0?_.map(N=>({type:"remove",id:N.id})):E.map(N=>({item:N,type:"reset"}));x(S)}},[]),a=k.useCallback(v=>{const{edges:w=[],setEdges:m,hasDefaultEdges:g,onEdgesChange:x}=t.getState(),_=typeof v=="function"?v(w):v;if(g)m(_);else if(x){const E=_.length===0?w.map(S=>({type:"remove",id:S.id})):_.map(S=>({item:S,type:"reset"}));x(E)}},[]),l=k.useCallback(v=>{const w=Array.isArray(v)?v:[v],{getNodes:m,setNodes:g,hasDefaultNodes:x,onNodesChange:_}=t.getState();if(x){const S=[...m(),...w];g(S)}else if(_){const E=w.map(S=>({item:S,type:"add"}));_(E)}},[]),u=k.useCallback(v=>{const w=Array.isArray(v)?v:[v],{edges:m=[],setEdges:g,hasDefaultEdges:x,onEdgesChange:_}=t.getState();if(x)g([...m,...w]);else if(_){const E=w.map(S=>({item:S,type:"add"}));_(E)}},[]),c=k.useCallback(()=>{const{getNodes:v,edges:w=[],transform:m}=t.getState(),[g,x,_]=m;return{nodes:v().map(E=>({...E})),edges:w.map(E=>({...E})),viewport:{x:g,y:x,zoom:_}}},[]),f=k.useCallback(({nodes:v,edges:w})=>{const{nodeInternals:m,getNodes:g,edges:x,hasDefaultNodes:_,hasDefaultEdges:E,onNodesDelete:S,onEdgesDelete:N,onNodesChange:T,onEdgesChange:R}=t.getState(),M=(v||[]).map(O=>O.id),q=(w||[]).map(O=>O.id),F=g().reduce((O,I)=>{const L=I.parentNode||I.parentId,j=!M.includes(I.id)&&L&&O.find(A=>A.id===L);return(typeof I.deletable=="boolean"?I.deletable:!0)&&(M.includes(I.id)||j)&&O.push(I),O},[]),D=x.filter(O=>typeof O.deletable=="boolean"?O.deletable:!0),b=D.filter(O=>q.includes(O.id));if(F||b){const O=u2(F,D),I=[...b,...O],L=I.reduce((j,C)=>(j.includes(C.id)||j.push(C.id),j),[]);if((E||_)&&(E&&t.setState({edges:x.filter(j=>!L.includes(j.id))}),_&&(F.forEach(j=>{m.delete(j.id)}),t.setState({nodeInternals:new Map(m)}))),L.length>0&&(N==null||N(I),R&&R(L.map(j=>({id:j,type:"remove"})))),F.length>0&&(S==null||S(F),T)){const j=F.map(C=>({id:C.id,type:"remove"}));T(j)}}},[]),d=k.useCallback(v=>{const w=SA(v),m=w?null:t.getState().nodeInternals.get(v.id);return!w&&!m?[null,null,w]:[w?v:Sy(m),m,w]},[]),h=k.useCallback((v,w=!0,m)=>{const[g,x,_]=d(v);return g?(m||t.getState().getNodes()).filter(E=>{if(!_&&(E.id===x.id||!E.positionAbsolute))return!1;const S=Sy(E),N=Jp(S,g);return w&&N>0||N>=g.width*g.height}):[]},[]),y=k.useCallback((v,w,m=!0)=>{const[g]=d(v);if(!g)return!1;const x=Jp(g,w);return m&&x>0||x>=g.width*g.height},[]);return k.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:i,getEdge:o,setNodes:s,setEdges:a,addNodes:l,addEdges:u,toObject:c,deleteElements:f,getIntersectingNodes:h,isNodeIntersecting:y}),[e,n,r,i,o,s,a,l,u,c,f,h,y])}const iM={actInsideInputWithModifier:!1};var oM=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=qe(),{deleteElements:r}=xg(),i=zo(e,iM),o=zo(t);k.useEffect(()=>{if(i){const{edges:s,getNodes:a}=n.getState(),l=a().filter(c=>c.selected),u=s.filter(c=>c.selected);r({nodes:l,edges:u}),n.setState({nodesSelectionActive:!1})}},[i]),k.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])};function sM(e){const t=qe();k.useEffect(()=>{let n;const r=()=>{var o,s;if(!e.current)return;const i=fg(e.current);(i.height===0||i.width===0)&&((s=(o=t.getState()).onError)==null||s.call(o,"004",En.error004())),t.setState({width:i.width||500,height:i.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const _g={position:"absolute",width:"100%",height:"100%",top:0,left:0},aM=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Es=e=>({x:e.x,y:e.y,zoom:e.k}),Fr=(e,t)=>e.target.closest(`.${t}`),Ay=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),My=e=>{const t=e.ctrlKey&&wa()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},lM=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),uM=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:i=!0,zoomOnPinch:o=!0,panOnScroll:s=!1,panOnScrollSpeed:a=.5,panOnScrollMode:l=vr.Free,zoomOnDoubleClick:u=!0,elementsSelectable:c,panOnDrag:f=!0,defaultViewport:d,translateExtent:h,minZoom:y,maxZoom:v,zoomActivationKeyCode:w,preventScrolling:m=!0,children:g,noWheelClassName:x,noPanClassName:_})=>{const E=k.useRef(),S=qe(),N=k.useRef(!1),T=k.useRef(!1),R=k.useRef(null),M=k.useRef({x:0,y:0,zoom:0}),{d3Zoom:q,d3Selection:F,d3ZoomHandler:D,userSelectionActive:b}=he(lM,Ue),O=zo(w),I=k.useRef(0),L=k.useRef(!1),j=k.useRef();return sM(R),k.useEffect(()=>{if(R.current){const C=R.current.getBoundingClientRect(),A=YE().scaleExtent([y,v]).translateExtent(h),P=wt(R.current).call(A),z=yn.translate(d.x,d.y).scale(_i(d.zoom,y,v)),$=[[0,0],[C.width,C.height]],V=A.constrain()(z,$,h);A.transform(P,V),A.wheelDelta(My),S.setState({d3Zoom:A,d3Selection:P,d3ZoomHandler:P.on("wheel.zoom"),transform:[V.x,V.y,V.k],domNode:R.current.closest(".react-flow")})}},[]),k.useEffect(()=>{F&&q&&(s&&!O&&!b?F.on("wheel.zoom",C=>{if(Fr(C,x))return!1;C.preventDefault(),C.stopImmediatePropagation();const A=F.property("__zoom").k||1;if(C.ctrlKey&&o){const re=qt(C),oe=My(C),ie=A*Math.pow(2,oe);q.scaleTo(F,ie,re,C);return}const P=C.deltaMode===1?20:1;let z=l===vr.Vertical?0:C.deltaX*P,$=l===vr.Horizontal?0:C.deltaY*P;!wa()&&C.shiftKey&&l!==vr.Vertical&&(z=C.deltaY*P,$=0),q.translateBy(F,-(z/A)*a,-($/A)*a,{internal:!0});const V=Es(F.property("__zoom")),{onViewportChangeStart:U,onViewportChange:Y,onViewportChangeEnd:Q}=S.getState();clearTimeout(j.current),L.current||(L.current=!0,t==null||t(C,V),U==null||U(V)),L.current&&(e==null||e(C,V),Y==null||Y(V),j.current=setTimeout(()=>{n==null||n(C,V),Q==null||Q(V),L.current=!1},150))},{passive:!1}):typeof D<"u"&&F.on("wheel.zoom",function(C,A){if(!m&&C.type==="wheel"&&!C.ctrlKey||Fr(C,x))return null;C.preventDefault(),D.call(this,C,A)},{passive:!1}))},[b,s,l,F,q,D,O,o,m,x,t,e,n]),k.useEffect(()=>{q&&q.on("start",C=>{var z,$;if(!C.sourceEvent||C.sourceEvent.internal)return null;I.current=(z=C.sourceEvent)==null?void 0:z.button;const{onViewportChangeStart:A}=S.getState(),P=Es(C.transform);N.current=!0,M.current=P,(($=C.sourceEvent)==null?void 0:$.type)==="mousedown"&&S.setState({paneDragging:!0}),A==null||A(P),t==null||t(C.sourceEvent,P)})},[q,t]),k.useEffect(()=>{q&&(b&&!N.current?q.on("zoom",null):b||q.on("zoom",C=>{var P;const{onViewportChange:A}=S.getState();if(S.setState({transform:[C.transform.x,C.transform.y,C.transform.k]}),T.current=!!(r&&Ay(f,I.current??0)),(e||A)&&!((P=C.sourceEvent)!=null&&P.internal)){const z=Es(C.transform);A==null||A(z),e==null||e(C.sourceEvent,z)}}))},[b,q,e,f,r]),k.useEffect(()=>{q&&q.on("end",C=>{if(!C.sourceEvent||C.sourceEvent.internal)return null;const{onViewportChangeEnd:A}=S.getState();if(N.current=!1,S.setState({paneDragging:!1}),r&&Ay(f,I.current??0)&&!T.current&&r(C.sourceEvent),T.current=!1,(n||A)&&aM(M.current,C.transform)){const P=Es(C.transform);M.current=P,clearTimeout(E.current),E.current=setTimeout(()=>{A==null||A(P),n==null||n(C.sourceEvent,P)},s?150:0)}})},[q,s,f,n,r]),k.useEffect(()=>{q&&q.filter(C=>{const A=O||i,P=o&&C.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&C.button===1&&C.type==="mousedown"&&(Fr(C,"react-flow__node")||Fr(C,"react-flow__edge")))return!0;if(!f&&!A&&!s&&!u&&!o||b||!u&&C.type==="dblclick"||Fr(C,x)&&C.type==="wheel"||Fr(C,_)&&(C.type!=="wheel"||s&&C.type==="wheel"&&!O)||!o&&C.ctrlKey&&C.type==="wheel"||!A&&!s&&!P&&C.type==="wheel"||!f&&(C.type==="mousedown"||C.type==="touchstart")||Array.isArray(f)&&!f.includes(C.button)&&C.type==="mousedown")return!1;const z=Array.isArray(f)&&f.includes(C.button)||!C.button||C.button<=1;return(!C.ctrlKey||C.type==="wheel")&&z})},[b,q,i,o,s,u,f,c,O]),B.createElement("div",{className:"react-flow__renderer",ref:R,style:_g},g)},cM=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function fM(){const{userSelectionActive:e,userSelectionRect:t}=he(cM,Ue);return e&&t?B.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function qy(e,t){const n=t.parentNode||t.parentId,r=e.find(i=>i.id===n);if(r){const i=t.position.x+t.width-r.width,o=t.position.y+t.height-r.height;if(i>0||o>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,i>0&&(r.style.width+=i),o>0&&(r.style.height+=o),t.position.x<0){const s=Math.abs(t.position.x);r.position.x=r.position.x-s,r.style.width+=s,t.position.x=0}if(t.position.y<0){const s=Math.abs(t.position.y);r.position.y=r.position.y-s,r.style.height+=s,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function N2(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,i)=>{const o=e.filter(a=>a.id===i.id);if(o.length===0)return r.push(i),r;const s={...i};for(const a of o)if(a)switch(a.type){case"select":{s.selected=a.selected;break}case"position":{typeof a.position<"u"&&(s.position=a.position),typeof a.positionAbsolute<"u"&&(s.positionAbsolute=a.positionAbsolute),typeof a.dragging<"u"&&(s.dragging=a.dragging),s.expandParent&&qy(r,s);break}case"dimensions":{typeof a.dimensions<"u"&&(s.width=a.dimensions.width,s.height=a.dimensions.height),typeof a.updateStyle<"u"&&(s.style={...s.style||{},...a.dimensions}),typeof a.resizing=="boolean"&&(s.resizing=a.resizing),s.expandParent&&qy(r,s);break}case"remove":return r}return r.push(s),r},n)}function C2(e,t){return N2(e,t)}function dM(e,t){return N2(e,t)}const On=(e,t)=>({id:e,type:"select",selected:t});function ei(e,t){return e.reduce((n,r)=>{const i=t.includes(r.id);return!r.selected&&i?(r.selected=!0,n.push(On(r.id,!0))):r.selected&&!i&&(r.selected=!1,n.push(On(r.id,!1))),n},[])}const Jl=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},hM=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),j2=k.memo(({isSelecting:e,selectionMode:t=Lo.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:i,onPaneClick:o,onPaneContextMenu:s,onPaneScroll:a,onPaneMouseEnter:l,onPaneMouseMove:u,onPaneMouseLeave:c,children:f})=>{const d=k.useRef(null),h=qe(),y=k.useRef(0),v=k.useRef(0),w=k.useRef(),{userSelectionActive:m,elementsSelectable:g,dragging:x}=he(hM,Ue),_=()=>{h.setState({userSelectionActive:!1,userSelectionRect:null}),y.current=0,v.current=0},E=D=>{o==null||o(D),h.getState().resetSelectedElements(),h.setState({nodesSelectionActive:!1})},S=D=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){D.preventDefault();return}s==null||s(D)},N=a?D=>a(D):void 0,T=D=>{const{resetSelectedElements:b,domNode:O}=h.getState();if(w.current=O==null?void 0:O.getBoundingClientRect(),!g||!e||D.button!==0||D.target!==d.current||!w.current)return;const{x:I,y:L}=Zn(D,w.current);b(),h.setState({userSelectionRect:{width:0,height:0,startX:I,startY:L,x:I,y:L}}),r==null||r(D)},R=D=>{const{userSelectionRect:b,nodeInternals:O,edges:I,transform:L,onNodesChange:j,onEdgesChange:C,nodeOrigin:A,getNodes:P}=h.getState();if(!e||!w.current||!b)return;h.setState({userSelectionActive:!0,nodesSelectionActive:!1});const z=Zn(D,w.current),$=b.startX??0,V=b.startY??0,U={...b,x:z.x<$?z.x:$,y:z.y<V?z.y:V,width:Math.abs(z.x-$),height:Math.abs(z.y-V)},Y=P(),Q=l2(O,U,L,t===Lo.Partial,!0,A),re=u2(Q,I).map(ie=>ie.id),oe=Q.map(ie=>ie.id);if(y.current!==oe.length){y.current=oe.length;const ie=ei(Y,oe);ie.length&&(j==null||j(ie))}if(v.current!==re.length){v.current=re.length;const ie=ei(I,re);ie.length&&(C==null||C(ie))}h.setState({userSelectionRect:U})},M=D=>{if(D.button!==0)return;const{userSelectionRect:b}=h.getState();!m&&b&&D.target===d.current&&(E==null||E(D)),h.setState({nodesSelectionActive:y.current>0}),_(),i==null||i(D)},q=D=>{m&&(h.setState({nodesSelectionActive:y.current>0}),i==null||i(D)),_()},F=g&&(e||m);return B.createElement("div",{className:ut(["react-flow__pane",{dragging:x,selection:e}]),onClick:F?void 0:Jl(E,d),onContextMenu:Jl(S,d),onWheel:Jl(N,d),onMouseEnter:F?void 0:l,onMouseDown:F?T:void 0,onMouseMove:F?R:u,onMouseUp:F?M:void 0,onMouseLeave:F?q:c,ref:d,style:_g},f,B.createElement(fM,null))});j2.displayName="Pane";function T2(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:T2(r,t):!1}function Oy(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function pM(e,t,n,r){return Array.from(e.values()).filter(i=>(i.selected||i.id===r)&&(!i.parentNode||i.parentId||!T2(i,e))&&(i.draggable||t&&typeof i.draggable>"u")).map(i=>{var o,s;return{id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((o=i.positionAbsolute)==null?void 0:o.x)??0),y:n.y-(((s=i.positionAbsolute)==null?void 0:s.y)??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode||i.parentId,parentId:i.parentNode||i.parentId,width:i.width,height:i.height,expandParent:i.expandParent}})}function mM(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function R2(e,t,n,r,i=[0,0],o){const s=mM(e,e.extent||r);let a=s;const l=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(l&&e.width&&e.height){const f=n.get(l),{x:d,y:h}=br(f,i).positionAbsolute;a=f&&St(d)&&St(h)&&St(f.width)&&St(f.height)?[[d+e.width*i[0],h+e.height*i[1]],[d+f.width-e.width+e.width*i[0],h+f.height-e.height+e.height*i[1]]]:a}else o==null||o("005",En.error005()),a=s;else if(e.extent&&l&&e.extent!=="parent"){const f=n.get(l),{x:d,y:h}=br(f,i).positionAbsolute;a=[[e.extent[0][0]+d,e.extent[0][1]+h],[e.extent[1][0]+d,e.extent[1][1]+h]]}let u={x:0,y:0};if(l){const f=n.get(l);u=br(f,i).positionAbsolute}const c=a&&a!=="parent"?dg(t,a):t;return{position:{x:c.x-u.x,y:c.y-u.y},positionAbsolute:c}}function eu({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(i=>({...n.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[e?r.find(i=>i.id===e):r[0],r]}const Ly=(e,t,n,r)=>{const i=t.querySelectorAll(e);if(!i||!i.length)return null;const o=Array.from(i),s=t.getBoundingClientRect(),a={x:s.width*r[0],y:s.height*r[1]};return o.map(l=>{const u=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(u.left-s.left-a.x)/n,y:(u.top-s.top-a.y)/n,...fg(l)}})};function Bi(e,t,n){return n===void 0?n:r=>{const i=t().nodeInternals.get(e);i&&n(r,{...i})}}function om({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:s,nodeInternals:a,onError:l}=t.getState(),u=a.get(e);if(!u){l==null||l("012",En.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&s)&&(o({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):i([e])}function gM(){const e=qe();return k.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:i,snapToGrid:o}=e.getState(),s=n.touches?n.touches[0].clientX:n.clientX,a=n.touches?n.touches[0].clientY:n.clientY,l={x:(s-r[0])/r[2],y:(a-r[1])/r[2]};return{xSnapped:o?i[0]*Math.round(l.x/i[0]):l.x,ySnapped:o?i[1]*Math.round(l.y/i[1]):l.y,...l}},[])}function tu(e){return(t,n,r)=>e==null?void 0:e(t,r)}function I2({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,selectNodesOnDrag:s}){const a=qe(),[l,u]=k.useState(!1),c=k.useRef([]),f=k.useRef({x:null,y:null}),d=k.useRef(0),h=k.useRef(null),y=k.useRef({x:0,y:0}),v=k.useRef(null),w=k.useRef(!1),m=k.useRef(!1),g=k.useRef(!1),x=gM();return k.useEffect(()=>{if(e!=null&&e.current){const _=wt(e.current),E=({x:T,y:R})=>{const{nodeInternals:M,onNodeDrag:q,onSelectionDrag:F,updateNodePositions:D,nodeExtent:b,snapGrid:O,snapToGrid:I,nodeOrigin:L,onError:j}=a.getState();f.current={x:T,y:R};let C=!1,A={x:0,y:0,x2:0,y2:0};if(c.current.length>1&&b){const z=Qa(c.current,L);A=Oo(z)}if(c.current=c.current.map(z=>{const $={x:T-z.distance.x,y:R-z.distance.y};I&&($.x=O[0]*Math.round($.x/O[0]),$.y=O[1]*Math.round($.y/O[1]));const V=[[b[0][0],b[0][1]],[b[1][0],b[1][1]]];c.current.length>1&&b&&!z.extent&&(V[0][0]=z.positionAbsolute.x-A.x+b[0][0],V[1][0]=z.positionAbsolute.x+(z.width??0)-A.x2+b[1][0],V[0][1]=z.positionAbsolute.y-A.y+b[0][1],V[1][1]=z.positionAbsolute.y+(z.height??0)-A.y2+b[1][1]);const U=R2(z,$,M,V,L,j);return C=C||z.position.x!==U.position.x||z.position.y!==U.position.y,z.position=U.position,z.positionAbsolute=U.positionAbsolute,z}),!C)return;D(c.current,!0,!0),u(!0);const P=i?q:tu(F);if(P&&v.current){const[z,$]=eu({nodeId:i,dragItems:c.current,nodeInternals:M});P(v.current,z,$)}},S=()=>{if(!h.current)return;const[T,R]=QE(y.current,h.current);if(T!==0||R!==0){const{transform:M,panBy:q}=a.getState();f.current.x=(f.current.x??0)-T/M[2],f.current.y=(f.current.y??0)-R/M[2],q({x:T,y:R})&&E(f.current)}d.current=requestAnimationFrame(S)},N=T=>{var L;const{nodeInternals:R,multiSelectionActive:M,nodesDraggable:q,unselectNodesAndEdges:F,onNodeDragStart:D,onSelectionDragStart:b}=a.getState();m.current=!0;const O=i?D:tu(b);(!s||!o)&&!M&&i&&((L=R.get(i))!=null&&L.selected||F()),i&&o&&s&&om({id:i,store:a,nodeRef:e});const I=x(T);if(f.current=I,c.current=pM(R,q,I,i),O&&c.current){const[j,C]=eu({nodeId:i,dragItems:c.current,nodeInternals:R});O(T.sourceEvent,j,C)}};if(t)_.on(".drag",null);else{const T=CI().on("start",R=>{const{domNode:M,nodeDragThreshold:q}=a.getState();q===0&&N(R),g.current=!1;const F=x(R);f.current=F,h.current=(M==null?void 0:M.getBoundingClientRect())||null,y.current=Zn(R.sourceEvent,h.current)}).on("drag",R=>{var D,b;const M=x(R),{autoPanOnNodeDrag:q,nodeDragThreshold:F}=a.getState();if(R.sourceEvent.type==="touchmove"&&R.sourceEvent.touches.length>1&&(g.current=!0),!g.current){if(!w.current&&m.current&&q&&(w.current=!0,S()),!m.current){const O=M.xSnapped-(((D=f==null?void 0:f.current)==null?void 0:D.x)??0),I=M.ySnapped-(((b=f==null?void 0:f.current)==null?void 0:b.y)??0);Math.sqrt(O*O+I*I)>F&&N(R)}(f.current.x!==M.xSnapped||f.current.y!==M.ySnapped)&&c.current&&m.current&&(v.current=R.sourceEvent,y.current=Zn(R.sourceEvent,h.current),E(M))}}).on("end",R=>{if(!(!m.current||g.current)&&(u(!1),w.current=!1,m.current=!1,cancelAnimationFrame(d.current),c.current)){const{updateNodePositions:M,nodeInternals:q,onNodeDragStop:F,onSelectionDragStop:D}=a.getState(),b=i?F:tu(D);if(M(c.current,!1,!1),b){const[O,I]=eu({nodeId:i,dragItems:c.current,nodeInternals:q});b(R.sourceEvent,O,I)}}}).filter(R=>{const M=R.target;return!R.button&&(!n||!Oy(M,`.${n}`,e))&&(!r||Oy(M,r,e))});return _.call(T),()=>{_.on(".drag",null)}}}},[e,t,n,r,o,a,i,s,x]),l}function P2(){const e=qe();return k.useCallback(n=>{const{nodeInternals:r,nodeExtent:i,updateNodePositions:o,getNodes:s,snapToGrid:a,snapGrid:l,onError:u,nodesDraggable:c}=e.getState(),f=s().filter(g=>g.selected&&(g.draggable||c&&typeof g.draggable>"u")),d=a?l[0]:5,h=a?l[1]:5,y=n.isShiftPressed?4:1,v=n.x*d*y,w=n.y*h*y,m=f.map(g=>{if(g.positionAbsolute){const x={x:g.positionAbsolute.x+v,y:g.positionAbsolute.y+w};a&&(x.x=l[0]*Math.round(x.x/l[0]),x.y=l[1]*Math.round(x.y/l[1]));const{positionAbsolute:_,position:E}=R2(g,x,r,i,void 0,u);g.position=E,g.positionAbsolute=_}return g});o(m,!0,!1)},[])}const ui={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Hi=e=>{const t=({id:n,type:r,data:i,xPos:o,yPos:s,xPosOrigin:a,yPosOrigin:l,selected:u,onClick:c,onMouseEnter:f,onMouseMove:d,onMouseLeave:h,onContextMenu:y,onDoubleClick:v,style:w,className:m,isDraggable:g,isSelectable:x,isConnectable:_,isFocusable:E,selectNodesOnDrag:S,sourcePosition:N,targetPosition:T,hidden:R,resizeObserver:M,dragHandle:q,zIndex:F,isParent:D,noDragClassName:b,noPanClassName:O,initialized:I,disableKeyboardA11y:L,ariaLabel:j,rfId:C,hasHandleBounds:A})=>{const P=qe(),z=k.useRef(null),$=k.useRef(null),V=k.useRef(N),U=k.useRef(T),Y=k.useRef(r),Q=x||g||c||f||d||h,re=P2(),oe=Bi(n,P.getState,f),ie=Bi(n,P.getState,d),Ne=Bi(n,P.getState,h),we=Bi(n,P.getState,y),Oe=Bi(n,P.getState,v),Re=X=>{const{nodeDragThreshold:K}=P.getState();if(x&&(!S||!g||K>0)&&om({id:n,store:P,nodeRef:z}),c){const ye=P.getState().nodeInternals.get(n);ye&&c(X,{...ye})}},Z=X=>{if(!em(X)&&!L)if(t2.includes(X.key)&&x){const K=X.key==="Escape";om({id:n,store:P,unselect:K,nodeRef:z})}else g&&u&&Object.prototype.hasOwnProperty.call(ui,X.key)&&(P.setState({ariaLiveMessage:`Moved selected node ${X.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~o}, y: ${~~s}`}),re({x:ui[X.key].x,y:ui[X.key].y,isShiftPressed:X.shiftKey}))};k.useEffect(()=>()=>{$.current&&(M==null||M.unobserve($.current),$.current=null)},[]),k.useEffect(()=>{if(z.current&&!R){const X=z.current;(!I||!A||$.current!==X)&&($.current&&(M==null||M.unobserve($.current)),M==null||M.observe(X),$.current=X)}},[R,I,A]),k.useEffect(()=>{const X=Y.current!==r,K=V.current!==N,ye=U.current!==T;z.current&&(X||K||ye)&&(X&&(Y.current=r),K&&(V.current=N),ye&&(U.current=T),P.getState().updateNodeDimensions([{id:n,nodeElement:z.current,forceUpdate:!0}]))},[n,r,N,T]);const Ie=I2({nodeRef:z,disabled:R||!g,noDragClassName:b,handleSelector:q,nodeId:n,isSelectable:x,selectNodesOnDrag:S});return R?null:B.createElement("div",{className:ut(["react-flow__node",`react-flow__node-${r}`,{[O]:g},m,{selected:u,selectable:x,parent:D,dragging:Ie}]),ref:z,style:{zIndex:F,transform:`translate(${a}px,${l}px)`,pointerEvents:Q?"all":"none",visibility:I?"visible":"hidden",...w},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:oe,onMouseMove:ie,onMouseLeave:Ne,onContextMenu:we,onClick:Re,onDoubleClick:Oe,onKeyDown:E?Z:void 0,tabIndex:E?0:void 0,role:E?"button":void 0,"aria-describedby":L?void 0:`${w2}-${C}`,"aria-label":j},B.createElement(RA,{value:n},B.createElement(e,{id:n,data:i,type:r,xPos:o,yPos:s,selected:u,isConnectable:_,sourcePosition:N,targetPosition:T,dragging:Ie,dragHandle:q,zIndex:F})))};return t.displayName="NodeWrapper",k.memo(t)};const vM=e=>{const t=e.getNodes().filter(n=>n.selected);return{...Qa(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function yM({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=qe(),{width:i,height:o,x:s,y:a,transformString:l,userSelectionActive:u}=he(vM,Ue),c=P2(),f=k.useRef(null);if(k.useEffect(()=>{var y;n||(y=f.current)==null||y.focus({preventScroll:!0})},[n]),I2({nodeRef:f}),u||!i||!o)return null;const d=e?y=>{const v=r.getState().getNodes().filter(w=>w.selected);e(y,v)}:void 0,h=y=>{Object.prototype.hasOwnProperty.call(ui,y.key)&&c({x:ui[y.key].x,y:ui[y.key].y,isShiftPressed:y.shiftKey})};return B.createElement("div",{className:ut(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l}},B.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:n?void 0:-1,onKeyDown:n?void 0:h,style:{width:i,height:o,top:a,left:s}}))}var xM=k.memo(yM);const _M=e=>e.nodesSelectionActive,A2=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,deleteKeyCode:a,onMove:l,onMoveStart:u,onMoveEnd:c,selectionKeyCode:f,selectionOnDrag:d,selectionMode:h,onSelectionStart:y,onSelectionEnd:v,multiSelectionKeyCode:w,panActivationKeyCode:m,zoomActivationKeyCode:g,elementsSelectable:x,zoomOnScroll:_,zoomOnPinch:E,panOnScroll:S,panOnScrollSpeed:N,panOnScrollMode:T,zoomOnDoubleClick:R,panOnDrag:M,defaultViewport:q,translateExtent:F,minZoom:D,maxZoom:b,preventScrolling:O,onSelectionContextMenu:I,noWheelClassName:L,noPanClassName:j,disableKeyboardA11y:C})=>{const A=he(_M),P=zo(f),z=zo(m),$=z||M,V=z||S,U=P||d&&$!==!0;return oM({deleteKeyCode:a,multiSelectionKeyCode:w}),B.createElement(uM,{onMove:l,onMoveStart:u,onMoveEnd:c,onPaneContextMenu:o,elementsSelectable:x,zoomOnScroll:_,zoomOnPinch:E,panOnScroll:V,panOnScrollSpeed:N,panOnScrollMode:T,zoomOnDoubleClick:R,panOnDrag:!P&&$,defaultViewport:q,translateExtent:F,minZoom:D,maxZoom:b,zoomActivationKeyCode:g,preventScrolling:O,noWheelClassName:L,noPanClassName:j},B.createElement(j2,{onSelectionStart:y,onSelectionEnd:v,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,panOnDrag:$,isSelecting:!!U,selectionMode:h},e,A&&B.createElement(xM,{onSelectionContextMenu:I,noPanClassName:j,disableKeyboardA11y:C})))};A2.displayName="FlowRenderer";var wM=k.memo(A2);function bM(e){return he(k.useCallback(n=>e?l2(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function SM(e){const t={input:Hi(e.input||v2),default:Hi(e.default||im),output:Hi(e.output||x2),group:Hi(e.group||yg)},n={},r=Object.keys(e).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,o)=>(i[o]=Hi(e[o]||im),i),n);return{...t,...r}}const EM=({x:e,y:t,width:n,height:r,origin:i})=>!n||!r?{x:e,y:t}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:e,y:t}:{x:e-n*i[0],y:t-r*i[1]},kM=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),M2=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,updateNodeDimensions:o,onError:s}=he(kM,Ue),a=bM(e.onlyRenderVisibleElements),l=k.useRef(),u=k.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const c=new ResizeObserver(f=>{const d=f.map(h=>({id:h.target.getAttribute("data-id"),nodeElement:h.target,forceUpdate:!0}));o(d)});return l.current=c,c},[]);return k.useEffect(()=>()=>{var c;(c=l==null?void 0:l.current)==null||c.disconnect()},[]),B.createElement("div",{className:"react-flow__nodes",style:_g},a.map(c=>{var E,S,N;let f=c.type||"default";e.nodeTypes[f]||(s==null||s("003",En.error003(f)),f="default");const d=e.nodeTypes[f]||e.nodeTypes.default,h=!!(c.draggable||t&&typeof c.draggable>"u"),y=!!(c.selectable||i&&typeof c.selectable>"u"),v=!!(c.connectable||n&&typeof c.connectable>"u"),w=!!(c.focusable||r&&typeof c.focusable>"u"),m=e.nodeExtent?dg(c.positionAbsolute,e.nodeExtent):c.positionAbsolute,g=(m==null?void 0:m.x)??0,x=(m==null?void 0:m.y)??0,_=EM({x:g,y:x,width:c.width??0,height:c.height??0,origin:e.nodeOrigin});return B.createElement(d,{key:c.id,id:c.id,className:c.className,style:c.style,type:f,data:c.data,sourcePosition:c.sourcePosition||G.Bottom,targetPosition:c.targetPosition||G.Top,hidden:c.hidden,xPos:g,yPos:x,xPosOrigin:_.x,yPosOrigin:_.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!c.selected,isDraggable:h,isSelectable:y,isConnectable:v,isFocusable:w,resizeObserver:u,dragHandle:c.dragHandle,zIndex:((E=c[_e])==null?void 0:E.z)??0,isParent:!!((S=c[_e])!=null&&S.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!c.width&&!!c.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:c.ariaLabel,hasHandleBounds:!!((N=c[_e])!=null&&N.handleBounds)})}))};M2.displayName="NodeRenderer";var NM=k.memo(M2);const CM=(e,t,n)=>n===G.Left?e-t:n===G.Right?e+t:e,jM=(e,t,n)=>n===G.Top?e-t:n===G.Bottom?e+t:e,zy="react-flow__edgeupdater",Dy=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:s,type:a})=>B.createElement("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:s,className:ut([zy,`${zy}-${a}`]),cx:CM(t,r,e),cy:jM(n,r,e),r,stroke:"transparent",fill:"transparent"}),TM=()=>!0;var $r=e=>{const t=({id:n,className:r,type:i,data:o,onClick:s,onEdgeDoubleClick:a,selected:l,animated:u,label:c,labelStyle:f,labelShowBg:d,labelBgStyle:h,labelBgPadding:y,labelBgBorderRadius:v,style:w,source:m,target:g,sourceX:x,sourceY:_,targetX:E,targetY:S,sourcePosition:N,targetPosition:T,elementsSelectable:R,hidden:M,sourceHandleId:q,targetHandleId:F,onContextMenu:D,onMouseEnter:b,onMouseMove:O,onMouseLeave:I,reconnectRadius:L,onReconnect:j,onReconnectStart:C,onReconnectEnd:A,markerEnd:P,markerStart:z,rfId:$,ariaLabel:V,isFocusable:U,isReconnectable:Y,pathOptions:Q,interactionWidth:re,disableKeyboardA11y:oe})=>{const ie=k.useRef(null),[Ne,we]=k.useState(!1),[Oe,Re]=k.useState(!1),Z=qe(),Ie=k.useMemo(()=>`url('#${nm(z,$)}')`,[z,$]),X=k.useMemo(()=>`url('#${nm(P,$)}')`,[P,$]);if(M)return null;const K=Pe=>{var Wt;const{edges:et,addSelectedEdges:Fe,unselectNodesAndEdges:Ge,multiSelectionActive:lr}=Z.getState(),an=et.find(Ti=>Ti.id===n);an&&(R&&(Z.setState({nodesSelectionActive:!1}),an.selected&&lr?(Ge({nodes:[],edges:[an]}),(Wt=ie.current)==null||Wt.blur()):Fe([n])),s&&s(Pe,an))},ye=$i(n,Z.getState,a),Tt=$i(n,Z.getState,D),Vt=$i(n,Z.getState,b),We=$i(n,Z.getState,O),be=$i(n,Z.getState,I),Je=(Pe,et)=>{if(Pe.button!==0)return;const{edges:Fe,isValidConnection:Ge}=Z.getState(),lr=et?g:m,an=(et?F:q)||null,Wt=et?"target":"source",Ti=Ge||TM,vl=et,Ri=Fe.find(ur=>ur.id===n);Re(!0),C==null||C(Pe,Ri,Wt);const yl=ur=>{Re(!1),A==null||A(ur,Ri,Wt)};h2({event:Pe,handleId:an,nodeId:lr,onConnect:ur=>j==null?void 0:j(Ri,ur),isTarget:vl,getState:Z.getState,setState:Z.setState,isValidConnection:Ti,edgeUpdaterType:Wt,onReconnectEnd:yl})},Rt=Pe=>Je(Pe,!0),on=Pe=>Je(Pe,!1),Ut=()=>we(!0),ct=()=>we(!1),sn=!R&&!s,Tn=Pe=>{var et;if(!oe&&t2.includes(Pe.key)&&R){const{unselectNodesAndEdges:Fe,addSelectedEdges:Ge,edges:lr}=Z.getState();Pe.key==="Escape"?((et=ie.current)==null||et.blur(),Fe({edges:[lr.find(Wt=>Wt.id===n)]})):Ge([n])}};return B.createElement("g",{className:ut(["react-flow__edge",`react-flow__edge-${i}`,r,{selected:l,animated:u,inactive:sn,updating:Ne}]),onClick:K,onDoubleClick:ye,onContextMenu:Tt,onMouseEnter:Vt,onMouseMove:We,onMouseLeave:be,onKeyDown:U?Tn:void 0,tabIndex:U?0:void 0,role:U?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":V===null?void 0:V||`Edge from ${m} to ${g}`,"aria-describedby":U?`${b2}-${$}`:void 0,ref:ie},!Oe&&B.createElement(e,{id:n,source:m,target:g,selected:l,animated:u,label:c,labelStyle:f,labelShowBg:d,labelBgStyle:h,labelBgPadding:y,labelBgBorderRadius:v,data:o,style:w,sourceX:x,sourceY:_,targetX:E,targetY:S,sourcePosition:N,targetPosition:T,sourceHandleId:q,targetHandleId:F,markerStart:Ie,markerEnd:X,pathOptions:Q,interactionWidth:re}),Y&&B.createElement(B.Fragment,null,(Y==="source"||Y===!0)&&B.createElement(Dy,{position:N,centerX:x,centerY:_,radius:L,onMouseDown:Rt,onMouseEnter:Ut,onMouseOut:ct,type:"source"}),(Y==="target"||Y===!0)&&B.createElement(Dy,{position:T,centerX:E,centerY:S,radius:L,onMouseDown:on,onMouseEnter:Ut,onMouseOut:ct,type:"target"})))};return t.displayName="EdgeWrapper",k.memo(t)};function RM(e){const t={default:$r(e.default||Sa),straight:$r(e.bezier||mg),step:$r(e.step||pg),smoothstep:$r(e.step||Xa),simplebezier:$r(e.simplebezier||hg)},n={},r=Object.keys(e).filter(i=>!["default","bezier"].includes(i)).reduce((i,o)=>(i[o]=$r(e[o]||Sa),i),n);return{...t,...r}}function Fy(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,i=((n==null?void 0:n.y)||0)+t.y,o=(n==null?void 0:n.width)||t.width,s=(n==null?void 0:n.height)||t.height;switch(e){case G.Top:return{x:r+o/2,y:i};case G.Right:return{x:r+o,y:i+s/2};case G.Bottom:return{x:r+o/2,y:i+s};case G.Left:return{x:r,y:i+s/2}}}function $y(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const IM=(e,t,n,r,i,o)=>{const s=Fy(n,e,t),a=Fy(o,r,i);return{sourceX:s.x,sourceY:s.y,targetX:a.x,targetY:a.y}};function PM({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:o,width:s,height:a,transform:l}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+r,t.y+o)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=Oo({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:s/l[2],height:a/l[2]}),f=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),d=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(f*d)>0}function By(e){var r,i,o,s,a;const t=((r=e==null?void 0:e[_e])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)<"u"&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.y)<"u";return[{x:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)||0,y:((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const AM=[{level:0,isMaxLevel:!0,edges:[]}];function MM(e,t,n=!1){let r=-1;const i=e.reduce((s,a)=>{var c,f;const l=St(a.zIndex);let u=l?a.zIndex:0;if(n){const d=t.get(a.target),h=t.get(a.source),y=a.selected||(d==null?void 0:d.selected)||(h==null?void 0:h.selected),v=Math.max(((c=h==null?void 0:h[_e])==null?void 0:c.z)||0,((f=d==null?void 0:d[_e])==null?void 0:f.z)||0,1e3);u=(l?a.zIndex:0)+(y?v:0)}return s[u]?s[u].push(a):s[u]=[a],r=u>r?u:r,s},{}),o=Object.entries(i).map(([s,a])=>{const l=+s;return{edges:a,level:l,isMaxLevel:l===r}});return o.length===0?AM:o}function qM(e,t,n){const r=he(k.useCallback(i=>e?i.edges.filter(o=>{const s=t.get(o.source),a=t.get(o.target);return(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&PM({sourcePos:s.positionAbsolute||{x:0,y:0},targetPos:a.positionAbsolute||{x:0,y:0},sourceWidth:s.width,sourceHeight:s.height,targetWidth:a.width,targetHeight:a.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[e,t]));return MM(r,t,n)}const OM=({color:e="none",strokeWidth:t=1})=>B.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),LM=({color:e="none",strokeWidth:t=1})=>B.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Hy={[ba.Arrow]:OM,[ba.ArrowClosed]:LM};function zM(e){const t=qe();return k.useMemo(()=>{var i,o;return Object.prototype.hasOwnProperty.call(Hy,e)?Hy[e]:((o=(i=t.getState()).onError)==null||o.call(i,"009",En.error009(e)),null)},[e])}const DM=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:s,orient:a="auto-start-reverse"})=>{const l=zM(t);return l?B.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:a,refX:"0",refY:"0"},B.createElement(l,{color:n,strokeWidth:s})):null},FM=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((i,o)=>([o.markerStart,o.markerEnd].forEach(s=>{if(s&&typeof s=="object"){const a=nm(s,t);r.includes(a)||(i.push({id:a,color:s.color||e,...s}),r.push(a))}}),i),[]).sort((i,o)=>i.id.localeCompare(o.id))},q2=({defaultColor:e,rfId:t})=>{const n=he(k.useCallback(FM({defaultColor:e,rfId:t}),[e,t]),(r,i)=>!(r.length!==i.length||r.some((o,s)=>o.id!==i[s].id)));return B.createElement("defs",null,n.map(r=>B.createElement(DM,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};q2.displayName="MarkerDefinitions";var $M=k.memo(q2);const BM=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),O2=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:i,noPanClassName:o,onEdgeContextMenu:s,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:c,onEdgeDoubleClick:f,onReconnect:d,onReconnectStart:h,onReconnectEnd:y,reconnectRadius:v,children:w,disableKeyboardA11y:m})=>{const{edgesFocusable:g,edgesUpdatable:x,elementsSelectable:_,width:E,height:S,connectionMode:N,nodeInternals:T,onError:R}=he(BM,Ue),M=qM(t,T,n);return E?B.createElement(B.Fragment,null,M.map(({level:q,edges:F,isMaxLevel:D})=>B.createElement("svg",{key:q,style:{zIndex:q},width:E,height:S,className:"react-flow__edges react-flow__container"},D&&B.createElement($M,{defaultColor:e,rfId:r}),B.createElement("g",null,F.map(b=>{const[O,I,L]=By(T.get(b.source)),[j,C,A]=By(T.get(b.target));if(!L||!A)return null;let P=b.type||"default";i[P]||(R==null||R("011",En.error011(P)),P="default");const z=i[P]||i.default,$=N===Tr.Strict?C.target:(C.target??[]).concat(C.source??[]),V=$y(I.source,b.sourceHandle),U=$y($,b.targetHandle),Y=(V==null?void 0:V.position)||G.Bottom,Q=(U==null?void 0:U.position)||G.Top,re=!!(b.focusable||g&&typeof b.focusable>"u"),oe=b.reconnectable||b.updatable,ie=typeof d<"u"&&(oe||x&&typeof oe>"u");if(!V||!U)return R==null||R("008",En.error008(V,b)),null;const{sourceX:Ne,sourceY:we,targetX:Oe,targetY:Re}=IM(O,V,Y,j,U,Q);return B.createElement(z,{key:b.id,id:b.id,className:ut([b.className,o]),type:P,data:b.data,selected:!!b.selected,animated:!!b.animated,hidden:!!b.hidden,label:b.label,labelStyle:b.labelStyle,labelShowBg:b.labelShowBg,labelBgStyle:b.labelBgStyle,labelBgPadding:b.labelBgPadding,labelBgBorderRadius:b.labelBgBorderRadius,style:b.style,source:b.source,target:b.target,sourceHandleId:b.sourceHandle,targetHandleId:b.targetHandle,markerEnd:b.markerEnd,markerStart:b.markerStart,sourceX:Ne,sourceY:we,targetX:Oe,targetY:Re,sourcePosition:Y,targetPosition:Q,elementsSelectable:_,onContextMenu:s,onMouseEnter:a,onMouseMove:l,onMouseLeave:u,onClick:c,onEdgeDoubleClick:f,onReconnect:d,onReconnectStart:h,onReconnectEnd:y,reconnectRadius:v,rfId:r,ariaLabel:b.ariaLabel,isFocusable:re,isReconnectable:ie,pathOptions:"pathOptions"in b?b.pathOptions:void 0,interactionWidth:b.interactionWidth,disableKeyboardA11y:m})})))),w):null};O2.displayName="EdgeRenderer";var HM=k.memo(O2);const VM=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function UM({children:e}){const t=he(VM);return B.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function WM(e){const t=xg(),n=k.useRef(!1);k.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const GM={[G.Left]:G.Right,[G.Right]:G.Left,[G.Top]:G.Bottom,[G.Bottom]:G.Top},L2=({nodeId:e,handleType:t,style:n,type:r=Dn.Bezier,CustomComponent:i,connectionStatus:o})=>{var S,N,T;const{fromNode:s,handleId:a,toX:l,toY:u,connectionMode:c}=he(k.useCallback(R=>({fromNode:R.nodeInternals.get(e),handleId:R.connectionHandleId,toX:(R.connectionPosition.x-R.transform[0])/R.transform[2],toY:(R.connectionPosition.y-R.transform[1])/R.transform[2],connectionMode:R.connectionMode}),[e]),Ue),f=(S=s==null?void 0:s[_e])==null?void 0:S.handleBounds;let d=f==null?void 0:f[t];if(c===Tr.Loose&&(d=d||(f==null?void 0:f[t==="source"?"target":"source"])),!s||!d)return null;const h=a?d.find(R=>R.id===a):d[0],y=h?h.x+h.width/2:(s.width??0)/2,v=h?h.y+h.height/2:s.height??0,w=(((N=s.positionAbsolute)==null?void 0:N.x)??0)+y,m=(((T=s.positionAbsolute)==null?void 0:T.y)??0)+v,g=h==null?void 0:h.position,x=g?GM[g]:null;if(!g||!x)return null;if(i)return B.createElement(i,{connectionLineType:r,connectionLineStyle:n,fromNode:s,fromHandle:h,fromX:w,fromY:m,toX:l,toY:u,fromPosition:g,toPosition:x,connectionStatus:o});let _="";const E={sourceX:w,sourceY:m,sourcePosition:g,targetX:l,targetY:u,targetPosition:x};return r===Dn.Bezier?[_]=s2(E):r===Dn.Step?[_]=tm({...E,borderRadius:0}):r===Dn.SmoothStep?[_]=tm(E):r===Dn.SimpleBezier?[_]=o2(E):_=`M${w},${m} ${l},${u}`,B.createElement("path",{d:_,fill:"none",className:"react-flow__connection-path",style:n})};L2.displayName="ConnectionLine";const KM=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function YM({containerStyle:e,style:t,type:n,component:r}){const{nodeId:i,handleType:o,nodesConnectable:s,width:a,height:l,connectionStatus:u}=he(KM,Ue);return!(i&&o&&a&&s)?null:B.createElement("svg",{style:e,width:a,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},B.createElement("g",{className:ut(["react-flow__connection",u])},B.createElement(L2,{nodeId:i,handleType:o,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function Vy(e,t){return k.useRef(null),qe(),k.useMemo(()=>t(e),[e])}const z2=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:i,onInit:o,onNodeClick:s,onEdgeClick:a,onNodeDoubleClick:l,onEdgeDoubleClick:u,onNodeMouseEnter:c,onNodeMouseMove:f,onNodeMouseLeave:d,onNodeContextMenu:h,onSelectionContextMenu:y,onSelectionStart:v,onSelectionEnd:w,connectionLineType:m,connectionLineStyle:g,connectionLineComponent:x,connectionLineContainerStyle:_,selectionKeyCode:E,selectionOnDrag:S,selectionMode:N,multiSelectionKeyCode:T,panActivationKeyCode:R,zoomActivationKeyCode:M,deleteKeyCode:q,onlyRenderVisibleElements:F,elementsSelectable:D,selectNodesOnDrag:b,defaultViewport:O,translateExtent:I,minZoom:L,maxZoom:j,preventScrolling:C,defaultMarkerColor:A,zoomOnScroll:P,zoomOnPinch:z,panOnScroll:$,panOnScrollSpeed:V,panOnScrollMode:U,zoomOnDoubleClick:Y,panOnDrag:Q,onPaneClick:re,onPaneMouseEnter:oe,onPaneMouseMove:ie,onPaneMouseLeave:Ne,onPaneScroll:we,onPaneContextMenu:Oe,onEdgeContextMenu:Re,onEdgeMouseEnter:Z,onEdgeMouseMove:Ie,onEdgeMouseLeave:X,onReconnect:K,onReconnectStart:ye,onReconnectEnd:Tt,reconnectRadius:Vt,noDragClassName:We,noWheelClassName:be,noPanClassName:Je,elevateEdgesOnSelect:Rt,disableKeyboardA11y:on,nodeOrigin:Ut,nodeExtent:ct,rfId:sn})=>{const Tn=Vy(e,SM),Pe=Vy(t,RM);return WM(o),B.createElement(wM,{onPaneClick:re,onPaneMouseEnter:oe,onPaneMouseMove:ie,onPaneMouseLeave:Ne,onPaneContextMenu:Oe,onPaneScroll:we,deleteKeyCode:q,selectionKeyCode:E,selectionOnDrag:S,selectionMode:N,onSelectionStart:v,onSelectionEnd:w,multiSelectionKeyCode:T,panActivationKeyCode:R,zoomActivationKeyCode:M,elementsSelectable:D,onMove:n,onMoveStart:r,onMoveEnd:i,zoomOnScroll:P,zoomOnPinch:z,zoomOnDoubleClick:Y,panOnScroll:$,panOnScrollSpeed:V,panOnScrollMode:U,panOnDrag:Q,defaultViewport:O,translateExtent:I,minZoom:L,maxZoom:j,onSelectionContextMenu:y,preventScrolling:C,noDragClassName:We,noWheelClassName:be,noPanClassName:Je,disableKeyboardA11y:on},B.createElement(UM,null,B.createElement(HM,{edgeTypes:Pe,onEdgeClick:a,onEdgeDoubleClick:u,onlyRenderVisibleElements:F,onEdgeContextMenu:Re,onEdgeMouseEnter:Z,onEdgeMouseMove:Ie,onEdgeMouseLeave:X,onReconnect:K,onReconnectStart:ye,onReconnectEnd:Tt,reconnectRadius:Vt,defaultMarkerColor:A,noPanClassName:Je,elevateEdgesOnSelect:!!Rt,disableKeyboardA11y:on,rfId:sn},B.createElement(YM,{style:g,type:m,component:x,containerStyle:_})),B.createElement("div",{className:"react-flow__edgelabel-renderer"}),B.createElement(NM,{nodeTypes:Tn,onNodeClick:s,onNodeDoubleClick:l,onNodeMouseEnter:c,onNodeMouseMove:f,onNodeMouseLeave:d,onNodeContextMenu:h,selectNodesOnDrag:b,onlyRenderVisibleElements:F,noPanClassName:Je,noDragClassName:We,disableKeyboardA11y:on,nodeOrigin:Ut,nodeExtent:ct,rfId:sn})))};z2.displayName="GraphView";var XM=k.memo(z2);const sm=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],In={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:sm,nodeExtent:sm,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Tr.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:EA,isValidConnection:void 0},QM=()=>DT((e,t)=>({...In,setNodes:n=>{const{nodeInternals:r,nodeOrigin:i,elevateNodesOnSelect:o}=t();e({nodeInternals:Zl(n,r,i,o)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(i=>({...r,...i}))})},setDefaultNodesAndEdges:(n,r)=>{const i=typeof n<"u",o=typeof r<"u",s=i?Zl(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:s,edges:o?r:[],hasDefaultNodes:i,hasDefaultEdges:o})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:i,fitViewOnInit:o,fitViewOnInitDone:s,fitViewOnInitOptions:a,domNode:l,nodeOrigin:u}=t(),c=l==null?void 0:l.querySelector(".react-flow__viewport");if(!c)return;const f=window.getComputedStyle(c),{m22:d}=new window.DOMMatrixReadOnly(f.transform),h=n.reduce((v,w)=>{const m=i.get(w.id);if(m!=null&&m.hidden)i.set(m.id,{...m,[_e]:{...m[_e],handleBounds:void 0}});else if(m){const g=fg(w.nodeElement);!!(g.width&&g.height&&(m.width!==g.width||m.height!==g.height||w.forceUpdate))&&(i.set(m.id,{...m,[_e]:{...m[_e],handleBounds:{source:Ly(".source",w.nodeElement,d,u),target:Ly(".target",w.nodeElement,d,u)}},...g}),v.push({id:m.id,type:"dimensions",dimensions:g}))}return v},[]);E2(i,u);const y=s||o&&!s&&k2(t,{initial:!0,...a});e({nodeInternals:new Map(i),fitViewOnInitDone:y}),(h==null?void 0:h.length)>0&&(r==null||r(h))},updateNodePositions:(n,r=!0,i=!1)=>{const{triggerNodeChanges:o}=t(),s=n.map(a=>{const l={id:a.id,type:"position",dragging:i};return r&&(l.positionAbsolute=a.positionAbsolute,l.position=a.position),l});o(s)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:i,hasDefaultNodes:o,nodeOrigin:s,getNodes:a,elevateNodesOnSelect:l}=t();if(n!=null&&n.length){if(o){const u=C2(n,a()),c=Zl(u,i,s,l);e({nodeInternals:c})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:i,getNodes:o}=t();let s,a=null;r?s=n.map(l=>On(l,!0)):(s=ei(o(),n),a=ei(i,[])),Ss({changedNodes:s,changedEdges:a,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:i,getNodes:o}=t();let s,a=null;r?s=n.map(l=>On(l,!0)):(s=ei(i,n),a=ei(o(),[])),Ss({changedNodes:a,changedEdges:s,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:i,getNodes:o}=t(),s=n||o(),a=r||i,l=s.map(c=>(c.selected=!1,On(c.id,!1))),u=a.map(c=>On(c.id,!1));Ss({changedNodes:l,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:i}=t();r==null||r.scaleExtent([n,i]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:i}=t();r==null||r.scaleExtent([i,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),o=r().filter(a=>a.selected).map(a=>On(a.id,!1)),s=n.filter(a=>a.selected).map(a=>On(a.id,!1));Ss({changedNodes:o,changedEdges:s,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(i=>{i.positionAbsolute=dg(i.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:i,height:o,d3Zoom:s,d3Selection:a,translateExtent:l}=t();if(!s||!a||!n.x&&!n.y)return!1;const u=yn.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),c=[[0,0],[i,o]],f=s==null?void 0:s.constrain()(u,c,l);return s.transform(a,f),r[0]!==f.x||r[1]!==f.y||r[2]!==f.k},cancelConnection:()=>e({connectionNodeId:In.connectionNodeId,connectionHandleId:In.connectionHandleId,connectionHandleType:In.connectionHandleType,connectionStatus:In.connectionStatus,connectionStartHandle:In.connectionStartHandle,connectionEndHandle:In.connectionEndHandle}),reset:()=>e({...In})}),Object.is),wg=({children:e})=>{const t=k.useRef(null);return t.current||(t.current=QM()),B.createElement(vA,{value:t.current},e)};wg.displayName="ReactFlowProvider";const D2=({children:e})=>k.useContext(Ya)?B.createElement(B.Fragment,null,e):B.createElement(wg,null,e);D2.displayName="ReactFlowWrapper";const ZM={input:v2,default:im,output:x2,group:yg},JM={default:Sa,straight:mg,step:pg,smoothstep:Xa,simplebezier:hg},e4=[0,0],t4=[15,15],n4={x:0,y:0,zoom:1},r4={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},F2=k.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o=ZM,edgeTypes:s=JM,onNodeClick:a,onEdgeClick:l,onInit:u,onMove:c,onMoveStart:f,onMoveEnd:d,onConnect:h,onConnectStart:y,onConnectEnd:v,onClickConnectStart:w,onClickConnectEnd:m,onNodeMouseEnter:g,onNodeMouseMove:x,onNodeMouseLeave:_,onNodeContextMenu:E,onNodeDoubleClick:S,onNodeDragStart:N,onNodeDrag:T,onNodeDragStop:R,onNodesDelete:M,onEdgesDelete:q,onSelectionChange:F,onSelectionDragStart:D,onSelectionDrag:b,onSelectionDragStop:O,onSelectionContextMenu:I,onSelectionStart:L,onSelectionEnd:j,connectionMode:C=Tr.Strict,connectionLineType:A=Dn.Bezier,connectionLineStyle:P,connectionLineComponent:z,connectionLineContainerStyle:$,deleteKeyCode:V="Backspace",selectionKeyCode:U="Shift",selectionOnDrag:Y=!1,selectionMode:Q=Lo.Full,panActivationKeyCode:re="Space",multiSelectionKeyCode:oe=wa()?"Meta":"Control",zoomActivationKeyCode:ie=wa()?"Meta":"Control",snapToGrid:Ne=!1,snapGrid:we=t4,onlyRenderVisibleElements:Oe=!1,selectNodesOnDrag:Re=!0,nodesDraggable:Z,nodesConnectable:Ie,nodesFocusable:X,nodeOrigin:K=e4,edgesFocusable:ye,edgesUpdatable:Tt,elementsSelectable:Vt,defaultViewport:We=n4,minZoom:be=.5,maxZoom:Je=2,translateExtent:Rt=sm,preventScrolling:on=!0,nodeExtent:Ut,defaultMarkerColor:ct="#b1b1b7",zoomOnScroll:sn=!0,zoomOnPinch:Tn=!0,panOnScroll:Pe=!1,panOnScrollSpeed:et=.5,panOnScrollMode:Fe=vr.Free,zoomOnDoubleClick:Ge=!0,panOnDrag:lr=!0,onPaneClick:an,onPaneMouseEnter:Wt,onPaneMouseMove:Ti,onPaneMouseLeave:vl,onPaneScroll:Ri,onPaneContextMenu:yl,children:Hg,onEdgeContextMenu:ur,onEdgeDoubleClick:uN,onEdgeMouseEnter:cN,onEdgeMouseMove:fN,onEdgeMouseLeave:dN,onEdgeUpdate:hN,onEdgeUpdateStart:pN,onEdgeUpdateEnd:mN,onReconnect:gN,onReconnectStart:vN,onReconnectEnd:yN,reconnectRadius:xN=10,edgeUpdaterRadius:_N=10,onNodesChange:wN,onEdgesChange:bN,noDragClassName:SN="nodrag",noWheelClassName:EN="nowheel",noPanClassName:Vg="nopan",fitView:kN=!1,fitViewOptions:NN,connectOnClick:CN=!0,attributionPosition:jN,proOptions:TN,defaultEdgeOptions:RN,elevateNodesOnSelect:IN=!0,elevateEdgesOnSelect:PN=!1,disableKeyboardA11y:Ug=!1,autoPanOnConnect:AN=!0,autoPanOnNodeDrag:MN=!0,connectionRadius:qN=20,isValidConnection:ON,onError:LN,style:zN,id:Wg,nodeDragThreshold:DN,...FN},$N)=>{const xl=Wg||"1";return B.createElement("div",{...FN,style:{...zN,...r4},ref:$N,className:ut(["react-flow",i]),"data-testid":"rf__wrapper",id:Wg},B.createElement(D2,null,B.createElement(XM,{onInit:u,onMove:c,onMoveStart:f,onMoveEnd:d,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:g,onNodeMouseMove:x,onNodeMouseLeave:_,onNodeContextMenu:E,onNodeDoubleClick:S,nodeTypes:o,edgeTypes:s,connectionLineType:A,connectionLineStyle:P,connectionLineComponent:z,connectionLineContainerStyle:$,selectionKeyCode:U,selectionOnDrag:Y,selectionMode:Q,deleteKeyCode:V,multiSelectionKeyCode:oe,panActivationKeyCode:re,zoomActivationKeyCode:ie,onlyRenderVisibleElements:Oe,selectNodesOnDrag:Re,defaultViewport:We,translateExtent:Rt,minZoom:be,maxZoom:Je,preventScrolling:on,zoomOnScroll:sn,zoomOnPinch:Tn,zoomOnDoubleClick:Ge,panOnScroll:Pe,panOnScrollSpeed:et,panOnScrollMode:Fe,panOnDrag:lr,onPaneClick:an,onPaneMouseEnter:Wt,onPaneMouseMove:Ti,onPaneMouseLeave:vl,onPaneScroll:Ri,onPaneContextMenu:yl,onSelectionContextMenu:I,onSelectionStart:L,onSelectionEnd:j,onEdgeContextMenu:ur,onEdgeDoubleClick:uN,onEdgeMouseEnter:cN,onEdgeMouseMove:fN,onEdgeMouseLeave:dN,onReconnect:gN??hN,onReconnectStart:vN??pN,onReconnectEnd:yN??mN,reconnectRadius:xN??_N,defaultMarkerColor:ct,noDragClassName:SN,noWheelClassName:EN,noPanClassName:Vg,elevateEdgesOnSelect:PN,rfId:xl,disableKeyboardA11y:Ug,nodeOrigin:K,nodeExtent:Ut}),B.createElement(GA,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:h,onConnectStart:y,onConnectEnd:v,onClickConnectStart:w,onClickConnectEnd:m,nodesDraggable:Z,nodesConnectable:Ie,nodesFocusable:X,edgesFocusable:ye,edgesUpdatable:Tt,elementsSelectable:Vt,elevateNodesOnSelect:IN,minZoom:be,maxZoom:Je,nodeExtent:Ut,onNodesChange:wN,onEdgesChange:bN,snapToGrid:Ne,snapGrid:we,connectionMode:C,translateExtent:Rt,connectOnClick:CN,defaultEdgeOptions:RN,fitView:kN,fitViewOptions:NN,onNodesDelete:M,onEdgesDelete:q,onNodeDragStart:N,onNodeDrag:T,onNodeDragStop:R,onSelectionDrag:b,onSelectionDragStart:D,onSelectionDragStop:O,noPanClassName:Vg,nodeOrigin:K,rfId:xl,autoPanOnConnect:AN,autoPanOnNodeDrag:MN,onError:LN,connectionRadius:qN,isValidConnection:ON,nodeDragThreshold:DN}),B.createElement(UA,{onSelectionChange:F}),Hg,B.createElement(xA,{proOptions:TN,position:jN}),B.createElement(ZA,{rfId:xl,disableKeyboardA11y:Ug})))});F2.displayName="ReactFlow";function $2(e){return t=>{const[n,r]=k.useState(t),i=k.useCallback(o=>r(s=>e(o,s)),[]);return[n,r,i]}}const i4=$2(C2),o4=$2(dM),B2=({id:e,x:t,y:n,width:r,height:i,style:o,color:s,strokeColor:a,strokeWidth:l,className:u,borderRadius:c,shapeRendering:f,onClick:d,selected:h})=>{const{background:y,backgroundColor:v}=o||{},w=s||y||v;return B.createElement("rect",{className:ut(["react-flow__minimap-node",{selected:h},u]),x:t,y:n,rx:c,ry:c,width:r,height:i,fill:w,stroke:a,strokeWidth:l,shapeRendering:f,onClick:d?m=>d(m,e):void 0})};B2.displayName="MiniMapNode";var s4=k.memo(B2);const a4=e=>e.nodeOrigin,l4=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),nu=e=>e instanceof Function?e:()=>e;function u4({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i=2,nodeComponent:o=s4,onClick:s}){const a=he(l4,Ue),l=he(a4),u=nu(t),c=nu(e),f=nu(n),d=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return B.createElement(B.Fragment,null,a.map(h=>{const{x:y,y:v}=br(h,l).positionAbsolute;return B.createElement(o,{key:h.id,x:y,y:v,width:h.width,height:h.height,style:h.style,selected:h.selected,className:f(h),color:u(h),borderRadius:r,strokeColor:c(h),strokeWidth:i,shapeRendering:d,onClick:s,id:h.id})}))}var c4=k.memo(u4);const f4=200,d4=150,h4=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?bA(Qa(t,e.nodeOrigin),n):n,rfId:e.rfId}},p4="react-flow__minimap-desc";function H2({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:i="",nodeBorderRadius:o=5,nodeStrokeWidth:s=2,nodeComponent:a,maskColor:l="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:c=1,position:f="bottom-right",onClick:d,onNodeClick:h,pannable:y=!1,zoomable:v=!1,ariaLabel:w="React Flow mini map",inversePan:m=!1,zoomStep:g=10,offsetScale:x=5}){const _=qe(),E=k.useRef(null),{boundingRect:S,viewBB:N,rfId:T}=he(h4,Ue),R=(e==null?void 0:e.width)??f4,M=(e==null?void 0:e.height)??d4,q=S.width/R,F=S.height/M,D=Math.max(q,F),b=D*R,O=D*M,I=x*D,L=S.x-(b-S.width)/2-I,j=S.y-(O-S.height)/2-I,C=b+I*2,A=O+I*2,P=`${p4}-${T}`,z=k.useRef(0);z.current=D,k.useEffect(()=>{if(E.current){const U=wt(E.current),Y=oe=>{const{transform:ie,d3Selection:Ne,d3Zoom:we}=_.getState();if(oe.sourceEvent.type!=="wheel"||!Ne||!we)return;const Oe=-oe.sourceEvent.deltaY*(oe.sourceEvent.deltaMode===1?.05:oe.sourceEvent.deltaMode?1:.002)*g,Re=ie[2]*Math.pow(2,Oe);we.scaleTo(Ne,Re)},Q=oe=>{const{transform:ie,d3Selection:Ne,d3Zoom:we,translateExtent:Oe,width:Re,height:Z}=_.getState();if(oe.sourceEvent.type!=="mousemove"||!Ne||!we)return;const Ie=z.current*Math.max(1,ie[2])*(m?-1:1),X={x:ie[0]-oe.sourceEvent.movementX*Ie,y:ie[1]-oe.sourceEvent.movementY*Ie},K=[[0,0],[Re,Z]],ye=yn.translate(X.x,X.y).scale(ie[2]),Tt=we.constrain()(ye,K,Oe);we.transform(Ne,Tt)},re=YE().on("zoom",y?Q:null).on("zoom.wheel",v?Y:null);return U.call(re),()=>{U.on("zoom",null)}}},[y,v,m,g]);const $=d?U=>{const Y=qt(U);d(U,{x:Y[0],y:Y[1]})}:void 0,V=h?(U,Y)=>{const Q=_.getState().nodeInternals.get(Y);h(U,Q)}:void 0;return B.createElement(fo,{position:f,style:e,className:ut(["react-flow__minimap",t]),"data-testid":"rf__minimap"},B.createElement("svg",{width:R,height:M,viewBox:`${L} ${j} ${C} ${A}`,role:"img","aria-labelledby":P,ref:E,onClick:$},w&&B.createElement("title",{id:P},w),B.createElement(c4,{onClick:V,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:i,nodeStrokeWidth:s,nodeComponent:a}),B.createElement("path",{className:"react-flow__minimap-mask",d:`M${L-I},${j-I}h${C+I*2}v${A+I*2}h${-C-I*2}z
        M${N.x},${N.y}h${N.width}v${N.height}h${-N.width}z`,fill:l,fillRule:"evenodd",stroke:u,strokeWidth:c,pointerEvents:"none"})))}H2.displayName="MiniMap";var m4=k.memo(H2);const ks={active:"#f59e0b",complete:"#10b981",queued:"#64748b"},g4=180,v4=400,y4=260,x4=48;function _4(e){if(!e)return"";try{const t=new Date(e);return t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:t.getFullYear()!==new Date().getFullYear()?"numeric":void 0})}catch{return""}}function w4({projects:e,selectedId:t,onSelectProject:n,onNewProject:r}){const[i,o]=k.useState(!1),[s,a]=k.useState(y4),[l,u]=k.useState(!1),c=k.useRef(null),f=k.useMemo(()=>Object.values(e).sort((m,g)=>{const x=(m.name||"").localeCompare(g.name||"");return x!==0?x:(m.projectId||"").localeCompare(g.projectId||"")}),[e]),d=()=>{r()},h=k.useCallback(m=>{m.preventDefault(),u(!0)},[]),y=k.useCallback(m=>{if(!l)return;const g=Math.min(v4,Math.max(g4,m.clientX));a(g)},[l]),v=k.useCallback(()=>{u(!1)},[]);k.useEffect(()=>(l?(document.addEventListener("mousemove",y),document.addEventListener("mouseup",v),document.body.style.cursor="col-resize",document.body.style.userSelect="none"):(document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",v),document.body.style.cursor="",document.body.style.userSelect=""),()=>{document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",v),document.body.style.cursor="",document.body.style.userSelect=""}),[l,y,v]);const w=i?x4:s;return p.jsxs("div",{ref:c,className:"h-full flex flex-col relative",style:{width:w,minWidth:w,background:"var(--bg-panel)",borderRight:"1px solid var(--border-panel)",transition:l?"none":"width 0.2s ease"},children:[p.jsxs("div",{className:"p-3 border-b flex items-center justify-between",style:{borderColor:"var(--border-panel)"},children:[!i&&p.jsx("h2",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:"Projects"}),p.jsx("button",{onClick:()=>o(!i),className:"p-1.5 rounded hover:bg-white/10 transition-colors",style:{color:"var(--text-muted)"},title:i?"Expand sidebar":"Collapse sidebar",children:p.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",style:{transform:i?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease"},children:p.jsx("path",{d:"M10 12L6 8L10 4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),!i&&p.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:f.map(m=>{const g=t===m.id;return p.jsxs("div",{onClick:()=>n(m.id),className:"p-3 rounded-lg mb-2 cursor-pointer transition-all",style:{background:g?"var(--state-active-bg)":"transparent",border:g?"1px solid var(--state-active-bg)":"1px solid transparent",boxShadow:g?"0 0 12px rgba(245, 158, 11, 0.3)":"none"},children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-2 h-2 rounded-full flex-shrink-0",style:{background:g?"#ffffff":ks[m.status]||ks.queued}}),p.jsx("span",{className:"text-sm font-medium truncate",style:{color:g?"#ffffff":"var(--text-primary)"},children:m.name})]}),p.jsxs("div",{className:"flex items-center justify-between mt-0.5 ml-4",children:[p.jsx("span",{className:"text-[10px] font-mono",style:{color:g?"rgba(255,255,255,0.8)":"var(--text-muted)"},children:m.projectId}),p.jsx("span",{className:"text-[10px]",style:{color:g?"rgba(255,255,255,0.8)":"var(--text-muted)"},children:_4(m.createdAt)})]})]},m.id)})}),i&&p.jsx("div",{className:"flex-1 overflow-y-auto py-2",children:f.map(m=>p.jsx("div",{onClick:()=>n(m.id),className:"flex items-center justify-center py-2 cursor-pointer hover:bg-white/5",title:m.name,children:p.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:ks[m.status]||ks.queued,boxShadow:t===m.id?"0 0 0 2px var(--bg-panel), 0 0 0 4px var(--border-node)":"none"}})},m.id))}),!i&&p.jsx("div",{className:"p-3 border-t",style:{borderColor:"var(--border-panel)"},children:p.jsxs("button",{onClick:d,className:"w-full py-2.5 rounded-lg text-sm font-medium flex items-center justify-center gap-2 transition-colors",style:{background:"#10b981",color:"white"},children:[p.jsx("span",{style:{fontSize:18,lineHeight:1},children:"+"}),p.jsx("span",{children:"New Project"})]})}),i&&p.jsx("div",{className:"p-2 border-t flex justify-center",style:{borderColor:"var(--border-panel)"},children:p.jsx("button",{onClick:d,className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:"#10b981",color:"white"},title:"New Project",children:p.jsx("span",{style:{fontSize:18,lineHeight:1},children:"+"})})}),!i&&p.jsx("div",{onMouseDown:h,className:"absolute top-0 right-0 w-1 h-full cursor-col-resize hover:bg-emerald-500/50 transition-colors",style:{background:l?"var(--state-active-bg)":"transparent"}})]})}function b4({stations:e}){return e!=null&&e.length?p.jsx("div",{className:"flex items-center gap-0.5 mt-2",children:e.map((t,n)=>{const r=t.state==="complete"?"var(--state-stabilized-bg)":t.state==="active"?"var(--state-active-bg)":"var(--state-queued-bg)",i=t.state==="complete"?"var(--state-stabilized-bg)":"var(--state-queued-bg)",o=t.state==="active"?"var(--state-active-text)":"var(--text-muted)";return p.jsxs(B.Fragment,{children:[n>0&&p.jsx("div",{className:"w-4 h-0.5",style:{background:i}}),p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("div",{className:`w-3 h-3 rounded-full${t.state==="active"?" station-active":""}`,style:{background:r}}),p.jsx("span",{className:"text-[7px] mt-0.5",style:{color:o,fontWeight:t.state==="active"?500:400},children:t.label})]})]},t.id)})}):null}const Uy={light:{stabilized:"#10b981",active:"#6366f1",queued:"#cbd5e1"},industrial:{stabilized:"#10b981",active:"#f59e0b",queued:"#334155"},blueprint:{stabilized:"#ffffff",active:"#fbbf24",queued:"#d4e8f8"}},V2=(e,t)=>{var n;return((n=Uy[t])==null?void 0:n[e])||Uy.industrial.queued},Pt={EPICS_PER_ROW:3,EPIC_WIDTH:220,EPIC_HEIGHT:70,EPIC_GAP_X:50,EPIC_GAP_Y:100,EPIC_OFFSET_X:80,EPIC_OFFSET_Y:80},ho={GAP:8,WIDTH:280},ru=["pgc","asm","draft","qa","done"],Fn=["industrial","light","blueprint"];function S4({questions:e,nodeWidth:t,onSubmit:n,onClose:r,onZoomComplete:i}){const[o,s]=k.useState({}),a=e.filter(l=>l.required).every(l=>o[l.id]);return k.useEffect(()=>{if(i){const l=setTimeout(()=>i(),150);return()=>clearTimeout(l)}},[i]),p.jsxs("div",{className:"absolute top-0 border border-amber-500/50 rounded-lg shadow-2xl tray-slide",style:{left:t+ho.GAP,width:ho.WIDTH,boxShadow:"0 0 30px rgba(0,0,0,0.5)",zIndex:1e3,background:"var(--bg-sidecar)"},children:[p.jsx("div",{className:"absolute border-t-2 border-dashed border-amber-500/60",style:{top:14,right:"100%",width:ho.GAP}}),p.jsx("div",{className:"absolute w-2 h-2 rounded-full bg-amber-500",style:{top:11,right:"100%",marginRight:-4}}),p.jsxs("div",{className:"bg-amber-500/10 border-b border-amber-500/30 px-3 py-2 flex justify-between items-center",children:[p.jsx("span",{className:"text-[9px] font-semibold text-amber-600 uppercase tracking-wide",children:"Operator Input Required"}),p.jsx("button",{onClick:r,style:{color:"var(--text-sidecar-muted)"},className:"hover:opacity-70 text-sm leading-none",children:""})]}),p.jsx("div",{className:"p-3 space-y-3 max-h-64 overflow-y-auto",children:e.map(l=>p.jsxs("div",{children:[p.jsxs("label",{className:"block text-[10px] mb-1",style:{color:"var(--text-sidecar-muted)"},children:[l.text," ",l.required&&p.jsx("span",{className:"text-amber-600",children:"*"})]}),p.jsx("input",{type:"text",className:"w-full rounded px-2 py-1.5 text-xs border",style:{background:"var(--bg-input)",borderColor:"var(--border-input)",color:"var(--text-sidecar)"},value:o[l.id]||"",onChange:u=>s(c=>({...c,[l.id]:u.target.value}))})]},l.id))}),p.jsx("div",{className:"p-3",style:{borderTop:"1px solid var(--border-node)"},children:p.jsx("button",{className:`w-full py-2 rounded text-xs font-medium transition-colors ${a?"bg-amber-500 text-slate-900 hover:bg-amber-400":"subway-button cursor-not-allowed"}`,disabled:!a,onClick:()=>n(o),children:"Submit & Continue"})})]})}function E4({features:e,epicName:t,nodeWidth:n,onClose:r,onZoomComplete:i}){const o=e.length>6,s=o?240:320;return k.useEffect(()=>{if(i){const a=setTimeout(()=>i(),150);return()=>clearTimeout(a)}},[i]),p.jsxs("div",{className:"absolute top-0 border border-indigo-500/50 rounded-lg shadow-2xl tray-slide",style:{left:n+ho.GAP,width:s,boxShadow:"0 0 30px rgba(0,0,0,0.5)",zIndex:1e3,background:"var(--bg-sidecar)"},children:[p.jsx("div",{className:"absolute border-t-2 border-dashed border-indigo-500/60",style:{top:14,right:"100%",width:ho.GAP}}),p.jsx("div",{className:"absolute w-2 h-2 rounded-full bg-indigo-500",style:{top:11,right:"100%",marginRight:-4}}),p.jsxs("div",{className:"bg-indigo-500/10 border-b border-indigo-500/30 px-3 py-2 flex justify-between items-center",children:[p.jsxs("span",{className:"text-[9px] font-semibold uppercase tracking-wide",style:{color:"var(--text-sidecar-muted)"},children:["Features - ",t]}),p.jsx("button",{onClick:r,style:{color:"var(--text-sidecar-muted)"},className:"hover:opacity-70 text-sm leading-none",children:""})]}),p.jsx("div",{className:`p-3 max-h-64 overflow-y-auto ${o?"":"grid grid-cols-2 gap-2"}`,children:e.map(a=>{const l=a.state==="complete"?"var(--state-stabilized-bg)":a.state==="active"?"var(--state-active-bg)":"var(--state-queued-bg)";return p.jsxs("div",{className:`flex items-center gap-2 p-1.5 rounded cursor-pointer hover:opacity-80 ${o?"mb-1":""}`,children:[p.jsx("div",{className:"w-2 h-2 rounded-full flex-shrink-0",style:{background:l}}),p.jsx("span",{className:"text-[10px] truncate",style:{color:"var(--text-sidecar)"},children:a.name})]},a.id)})}),p.jsxs("div",{className:"px-3 py-2 text-[9px]",style:{borderTop:"1px solid var(--border-node)",color:"var(--text-sidecar-muted)"},children:[e.length," features"]})]})}const bg="/api/v1";class k4 extends Error{constructor(t,n,r){super(t),this.name="ApiError",this.status=n,this.data=r}}async function Ce(e,t={}){const n=`${bg}${e}`,r={headers:{"Content-Type":"application/json",...t.headers},...t},i=await fetch(n,r);if(!i.ok){const o=await i.json().catch(()=>({}));throw new k4(o.detail||`Request failed: ${i.status}`,i.status,o)}return i.status===204?null:i.json()}const nt={getProjects:(e={})=>{const t=new URLSearchParams;e.search&&t.set("search",e.search),e.includeArchived&&t.set("include_archived","true");const n=t.toString();return Ce(`/projects${n?"?"+n:""}`)},getProject:e=>Ce(`/projects/${e}`),getProjectTree:e=>Ce(`/projects/${e}/tree`),createProject:e=>Ce("/projects",{method:"POST",body:JSON.stringify(e)}),getProductionStatus:e=>Ce(`/production/status?project_id=${e}`),startProduction:(e,t=null)=>{const n=new URLSearchParams({project_id:e});return t&&n.set("document_type",t),Ce(`/production/start?${n}`,{method:"POST"})},getProjectInterrupts:e=>Ce(`/projects/${e}/interrupts`),resolveInterrupt:(e,t)=>Ce(`/interrupts/${e}/resolve`,{method:"POST",body:JSON.stringify(t)}),startWorkflow:(e,t,n=null)=>Ce("/document-workflows/start",{method:"POST",body:JSON.stringify({project_id:e,document_type:t,initial_context:n})}),submitWorkflowInput:(e,t,n=null)=>Ce(`/document-workflows/executions/${e}/input`,{method:"POST",body:JSON.stringify({user_input:t,selected_option_id:n})}),getExecutionStatus:e=>Ce(`/document-workflows/executions/${e}`),getPgcAnswers:e=>Ce(`/document-workflows/executions/${e}/pgc-answers`),getDocument:(e,t)=>Ce(`/projects/${e}/documents/${t}`),getDocumentRenderModel:(e,t)=>Ce(`/projects/${e}/documents/${t}/render-model`),startIntake:()=>Ce("/intake/start",{method:"POST"}),getIntakeState:e=>Ce(`/intake/${e}`),submitIntakeMessage:(e,t)=>Ce(`/intake/${e}/message`,{method:"POST",body:JSON.stringify({content:t})}),updateIntakeField:(e,t,n)=>Ce(`/intake/${e}/field/${t}`,{method:"PATCH",body:JSON.stringify({value:n})}),initializeIntake:e=>Ce(`/intake/${e}/initialize`,{method:"POST"})};function N4(e){const t=`${bg}/production/events?project_id=${e}`;return new EventSource(t)}function C4(e){const t=`${bg}/intake/${e}/events`;return new EventSource(t)}const j4=520,T4=900,R4=600,I4=900;function P4({document:e,projectId:t,projectCode:n,nodeWidth:r,onClose:i,onZoomComplete:o,onViewFull:s}){const[a,l]=k.useState(!1),u=a?T4:j4,c=a?I4:R4,[f,d]=k.useState(null),[h,y]=k.useState(!0);if(k.useEffect(()=>{if(o){const w=setTimeout(()=>o(),150);return()=>clearTimeout(w)}},[o]),k.useEffect(()=>{async function w(){if(!t||!e.id){y(!1);return}try{y(!0);const m=await nt.getDocument(t,e.id);d((m==null?void 0:m.content)||null)}catch(m){console.error("Failed to fetch document for sidecar:",m)}finally{y(!1)}}w()},[t,e.id]),h)return null;const v=A4(e,f,n);return p.jsxs("div",{className:"absolute top-0 tray-slide",style:{left:r+30,width:u,zIndex:1e3,transition:"width 0.2s ease"},children:[p.jsx("div",{className:"absolute",style:{top:40,right:"100%",width:30,height:3,background:"#10b981"}}),p.jsx("div",{className:"absolute rounded-full",style:{top:36,right:"100%",marginRight:26,width:10,height:10,background:"#10b981"}}),p.jsxs("div",{style:{background:"#ffffff",borderRadius:2,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)",minHeight:c,transition:"min-height 0.2s ease"},children:[p.jsx("div",{style:{padding:"24px 32px 16px",borderBottom:"2px solid #10b981",background:"linear-gradient(to bottom, #ffffff, #fafafa)"},children:p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("div",{style:{fontSize:10,letterSpacing:"0.15em",color:"#10b981",fontWeight:600,marginBottom:4},children:"STABILIZED DOCUMENT"}),p.jsx("h1",{style:{fontSize:20,fontFamily:"Georgia, serif",fontWeight:700,color:"#1a1a1a",margin:0},children:v.title}),p.jsx("div",{style:{fontSize:11,color:"#666",marginTop:4,fontFamily:"monospace"},children:v.serial})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("button",{onClick:()=>l(!a),title:a?"Contract":"Expand",style:{color:"#666",fontSize:16,lineHeight:1,padding:6,background:"none",border:"1px solid #e5e5e5",borderRadius:4,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:a?p.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:p.jsx("path",{d:"M9 1v4h4M5 13v-4H1M9 5L13 1M5 9L1 13"})}):p.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:p.jsx("path",{d:"M13 5V1h-4M1 9v4h4M13 1L9 5M1 13l4-4"})})}),p.jsx("button",{onClick:i,title:"Close",style:{color:"#999",fontSize:24,lineHeight:1,padding:4,background:"none",border:"none",cursor:"pointer"},children:""})]})]})}),p.jsx("div",{style:{padding:"24px 32px",maxHeight:a?600:400,overflowY:"auto",fontFamily:"Georgia, serif",fontSize:13,lineHeight:1.7,color:"#333"},children:v.sections.map((w,m)=>p.jsxs("div",{style:{marginBottom:20},children:[w.isIntro&&p.jsx("div",{style:{padding:"12px 16px",borderLeft:"4px solid #10b981",background:"#f0fdf4",fontSize:14,color:"#166534"},children:w.content}),w.heading&&p.jsxs(p.Fragment,{children:[p.jsx("h3",{style:{fontSize:11,fontWeight:600,textTransform:"uppercase",letterSpacing:"0.08em",color:"#666",marginBottom:8,fontFamily:"system-ui, sans-serif"},children:w.heading}),w.badge&&p.jsx("span",{style:{display:"inline-block",padding:"4px 12px",borderRadius:20,background:"#ede9fe",color:"#5b21b6",fontSize:12,fontWeight:500,marginBottom:8},children:w.badge}),w.status&&p.jsx("span",{style:{display:"inline-block",padding:"4px 12px",borderRadius:20,background:w.status==="qualified"?"#d1fae5":"#fef3c7",color:w.status==="qualified"?"#065f46":"#92400e",fontSize:12,fontWeight:500,marginBottom:8},children:w.status}),w.content&&p.jsx("p",{style:{margin:0,whiteSpace:"pre-line"},children:w.content}),w.quote&&p.jsxs("blockquote",{style:{margin:"8px 0 0 0",padding:"8px 12px",borderLeft:"3px solid #d1d5db",color:"#6b7280",fontStyle:"italic",fontSize:12},children:['"',w.quote,'"']}),w.nextAction&&p.jsxs("div",{style:{marginTop:8,padding:"8px 12px",borderRadius:6,background:"#ecfdf5",border:"1px solid #a7f3d0",fontSize:12,color:"#065f46"},children:[p.jsx("strong",{children:"Next:"})," ",w.nextAction]})]})]},m))}),p.jsxs("div",{style:{padding:"16px 32px 24px",borderTop:"1px solid #e5e5e5",background:"#fafafa"},children:[p.jsxs("div",{className:"flex justify-between items-end",children:[p.jsxs("div",{children:[p.jsx("div",{style:{fontSize:10,color:"#999",marginBottom:4},children:"APPROVED BY"}),p.jsx("div",{style:{fontFamily:"cursive",fontSize:16,color:"#333",borderBottom:"1px solid #333",paddingBottom:2,display:"inline-block"},children:v.approved}),p.jsx("div",{style:{fontSize:10,color:"#666",marginTop:4},children:v.date})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{style:{fontSize:10,color:"#10b981",fontWeight:600},children:"VERIFIED"}),p.jsx("div",{style:{width:20,height:20,borderRadius:"50%",background:"#10b981",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:12},children:""})]})]}),p.jsxs("button",{onClick:()=>s==null?void 0:s(e.id),style:{marginTop:16,width:"100%",padding:"10px 16px",background:"#10b981",color:"white",border:"none",borderRadius:4,fontSize:12,fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:8},children:[p.jsx("span",{children:"View Full Document"}),p.jsx("span",{style:{fontSize:14},children:""})]})]})]})]})}function A4(e,t,n){var s,a,l;const r=((s=e.name)==null?void 0:s.toUpperCase())||"DOCUMENT",i=(n||e.id)+" - "+(e.name||"Document"),o=[];if(t){const u=((a=t.summary)==null?void 0:a.description)||t.captured_intent||t.conversation_summary;u&&o.push({heading:null,content:u,isIntro:!0});const c=t.project_name,f=((l=t.summary)==null?void 0:l.user_statement)||t.conversation_summary;(c||f)&&o.push({heading:"Project Summary",content:c,quote:f});const d=t.project_type;if(d){const y=typeof d=="string"?d:d.category,v=d.rationale;o.push({heading:"Project Type",badge:y,content:v})}const h=t.outcome||{status:t.gate_outcome,rationale:t.routing_rationale,next_action:t.ready_for};(h.status||h.next_action)&&o.push({heading:"Intake Outcome",status:h.status,content:h.rationale,nextAction:h.next_action})}else o.push({heading:null,content:e.desc||"Loading document content...",isIntro:!0});return{title:r,serial:i,sections:o,approved:"System",date:"January 2026"}}function M4({data:e}){var v,w,m;const n=(e.level||1)===1,r=e.isExpanded,i=e.expandType,o=((v=e.questions)==null?void 0:v.length)>0,s=((w=e.features)==null?void 0:w.length)>0,a=(m=e.stations)==null?void 0:m.some(g=>g.needs_input),l=e.state==="active"&&e.stations,u=e.state==="active"?"node-active":"",c=n?"DOCUMENT":"EPIC",f=n?"subway-node-header-doc":"subway-node-header-epic",d=e.state==="stabilized"?"var(--state-stabilized-bg)":e.state==="active"?"var(--state-active-bg)":"var(--state-queued-bg)",h=e.state==="stabilized"?"var(--state-stabilized-text)":e.state==="active"?"var(--state-active-text)":"var(--state-queued-text)",y=e.state==="active"?"var(--state-active-bg)":e.state==="stabilized"?"var(--state-stabilized-bg)":"var(--border-node)";return p.jsxs("div",{className:"relative",children:[p.jsx(nr,{type:"target",position:G.Top,className:"!opacity-0",style:{left:"15%"}}),p.jsxs("div",{className:`subway-node rounded-lg border ${u} overflow-hidden`,style:{width:e.width,minHeight:e.height,borderColor:y},children:[p.jsxs("div",{className:`${f} border-b px-3 py-1.5 flex items-center justify-between`,children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-[8px] font-bold uppercase tracking-wider",style:{color:n?"var(--header-text-doc)":"var(--header-text-epic)"},children:c}),p.jsx("span",{className:"text-[10px] font-medium",style:{color:"var(--text-primary)"},children:e.name})]}),e.intent==="optional"&&p.jsx("span",{className:"subway-button text-[8px] px-1.5 py-0.5 rounded",children:"OPTIONAL"})]}),p.jsxs("div",{className:"p-3",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"rounded-full flex-shrink-0",style:{width:n?24:18,height:n?24:18,backgroundColor:d}}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-wide",style:{color:h},children:e.state}),n&&e.desc&&p.jsx("p",{className:"text-[9px] mt-0.5 truncate",style:{color:"var(--text-muted)"},children:e.desc})]})]}),l&&p.jsx(b4,{stations:e.stations}),p.jsxs("div",{className:"mt-2 flex flex-wrap gap-1.5",children:[n&&e.state==="stabilized"&&p.jsx("button",{className:"px-2 py-1 bg-emerald-500/20 rounded text-[9px] hover:bg-emerald-500/30 transition-colors",style:{color:"var(--action-success)"},onClick:g=>{var x;g.stopPropagation(),(x=e.onExpand)==null||x.call(e,e.id,"document")},children:"View Document"}),a&&o&&!r&&p.jsx("button",{className:"px-2 py-1 bg-amber-500/20 rounded text-[9px] hover:bg-amber-500/30 transition-colors amber-pulse",style:{color:"var(--action-warning)"},onClick:g=>{var x;g.stopPropagation(),(x=e.onExpand)==null||x.call(e,e.id,"questions")},children:"Answer Questions"}),!n&&s&&(r&&i==="features"?p.jsxs("span",{className:"text-[9px] text-indigo-400",children:[e.features.length," features expanded"]}):p.jsxs("button",{className:"subway-button px-2 py-1 rounded text-[9px] transition-colors flex items-center gap-1",onClick:g=>{var x;g.stopPropagation(),(x=e.onExpand)==null||x.call(e,e.id,"features")},children:[p.jsx("span",{className:"text-indigo-400",children:e.features.length}),p.jsx("span",{children:"features"}),p.jsx("span",{className:"text-indigo-400",children:""})]}))]})]})]}),r&&i==="questions"&&o&&p.jsx(S4,{questions:e.questions,nodeWidth:e.width,onSubmit:g=>{var x;return(x=e.onSubmitQuestions)==null?void 0:x.call(e,e.id,g)},onClose:()=>{var g;return(g=e.onCollapse)==null?void 0:g.call(e)},onZoomComplete:()=>{var g;return(g=e.onZoomToNode)==null?void 0:g.call(e,e.id)}}),r&&i==="features"&&s&&p.jsx(E4,{features:e.features,epicName:e.name,nodeWidth:e.width,onClose:()=>{var g;return(g=e.onCollapse)==null?void 0:g.call(e)},onZoomComplete:()=>{var g;return(g=e.onZoomToNode)==null?void 0:g.call(e,e.id)}}),r&&i==="document"&&n&&e.state==="stabilized"&&p.jsx(P4,{document:e,projectId:e.projectId,projectCode:e.projectCode,nodeWidth:e.width,onClose:()=>{var g;return(g=e.onCollapse)==null?void 0:g.call(e)},onZoomComplete:()=>{var g;return(g=e.onZoomToNode)==null?void 0:g.call(e,e.id)},onViewFull:g=>{var x;return(x=e.onViewFullDocument)==null?void 0:x.call(e,g)}}),p.jsx(nr,{type:"source",position:G.Bottom,className:"!opacity-0",style:{left:"15%"}})]})}function q4(){return p.jsxs("div",{style:{width:1,height:1,background:"transparent"},children:[p.jsx(nr,{type:"target",position:G.Top,style:{opacity:0}}),p.jsx(nr,{type:"source",position:G.Bottom,style:{opacity:0}})]})}function O4({block:e}){const{data:t}=e,n=t.content||t.value||"";return n?p.jsxs("div",{style:{marginBottom:12},children:[p.jsx("p",{style:{margin:0,fontSize:14,lineHeight:1.6,color:"#374151",whiteSpace:"pre-line"},children:n}),t.detail_ref&&p.jsx("a",{href:"#",style:{fontSize:12,color:"#6366f1",textDecoration:"none",marginTop:4,display:"inline-block"},children:"View details "})]}):null}function Wy({block:e}){const{data:t}=e,n=t.items||[],r=t.style||"bullet";if(n.length===0)return null;const i=r==="numbered"?"decimal":"disc";return p.jsxs("div",{style:{marginBottom:12},children:[t.title&&p.jsx("h4",{style:{fontSize:12,fontWeight:600,color:"#6b7280",marginBottom:8,textTransform:"uppercase",letterSpacing:"0.05em"},children:t.title}),p.jsx("ul",{style:{margin:0,paddingLeft:r==="check"?0:20,listStyle:r==="check"?"none":i},children:n.map((o,s)=>p.jsxs("li",{style:{fontSize:14,lineHeight:1.6,color:"#374151",marginBottom:4,display:r==="check"?"flex":"list-item",alignItems:"flex-start",gap:8},children:[r==="check"&&p.jsx("span",{style:{color:"#10b981"},children:""}),typeof o=="string"?o:JSON.stringify(o)]},s))})]})}function L4({block:e}){const{data:t}=e,n=t.value||"unknown",r=t.label,o={low:{bg:"#d1fae5",text:"#065f46"},medium:{bg:"#fef3c7",text:"#92400e"},high:{bg:"#fee2e2",text:"#991b1b"},critical:{bg:"#fecaca",text:"#7f1d1d"},none:{bg:"#e5e7eb",text:"#374151"},external:{bg:"#dbeafe",text:"#1e40af"},qualified:{bg:"#d1fae5",text:"#065f46"},not_ready:{bg:"#fef3c7",text:"#92400e"}}[n.toLowerCase()]||{bg:"#f3f4f6",text:"#374151"};return p.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:8,marginBottom:12},children:[r&&p.jsxs("span",{style:{fontSize:12,color:"#6b7280",fontWeight:500},children:[r,":"]}),p.jsx("span",{style:{display:"inline-block",padding:"4px 12px",borderRadius:20,background:o.bg,color:o.text,fontSize:12,fontWeight:500,textTransform:"capitalize"},children:n})]})}function U2({block:e}){const{data:t}=e,{id:n,text:r,blocking:i,why_it_matters:o,priority:s,tags:a,options:l}=t,u={must:{bg:"#fee2e2",text:"#991b1b"},should:{bg:"#fef3c7",text:"#92400e"},could:{bg:"#e5e7eb",text:"#374151"}},c=u[s]||u.should;return p.jsx("div",{style:{padding:"12px 16px",background:i?"#fef2f2":"#f8fafc",borderRadius:8,border:`1px solid ${i?"#fecaca":"#e2e8f0"}`,marginBottom:12},children:p.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:12},children:[p.jsx("span",{style:{fontSize:10,fontFamily:"monospace",color:"#6b7280",background:"#e5e7eb",padding:"2px 6px",borderRadius:4,flexShrink:0},children:n}),p.jsxs("div",{style:{flex:1},children:[p.jsx("p",{style:{margin:0,fontSize:14,fontWeight:500,color:"#111827",marginBottom:6},children:r}),o&&p.jsx("p",{style:{margin:0,fontSize:12,color:"#6b7280",fontStyle:"italic"},children:o}),p.jsxs("div",{style:{display:"flex",gap:6,marginTop:8,flexWrap:"wrap"},children:[i&&p.jsx("span",{style:{fontSize:10,padding:"2px 8px",borderRadius:10,background:"#fee2e2",color:"#991b1b",fontWeight:600},children:"BLOCKING"}),s&&p.jsx("span",{style:{fontSize:10,padding:"2px 8px",borderRadius:10,background:c.bg,color:c.text,textTransform:"uppercase"},children:s}),a==null?void 0:a.map((f,d)=>p.jsx("span",{style:{fontSize:10,padding:"2px 8px",borderRadius:10,background:"#e0e7ff",color:"#3730a3"},children:f},d))]}),l&&l.length>0&&p.jsxs("div",{style:{marginTop:8},children:[p.jsx("span",{style:{fontSize:11,color:"#6b7280"},children:"Options: "}),l.map((f,d)=>p.jsx("span",{style:{fontSize:11,color:"#374151",marginLeft:d>0?8:4},children:f},d))]})]})]})})}function z4({block:e}){const{data:t}=e,n=t.items||[],r=t.total_count||n.length,i=t.blocking_count||n.filter(o=>o.blocking).length;return n.length===0?p.jsx("div",{style:{padding:"16px",background:"#f0fdf4",borderRadius:8,border:"1px solid #bbf7d0",textAlign:"center",color:"#166534",fontSize:14},children:"No open questions"}):p.jsxs("div",{children:[p.jsxs("div",{style:{display:"flex",gap:16,marginBottom:12,padding:"8px 12px",background:"#f8fafc",borderRadius:6,fontSize:12},children:[p.jsxs("span",{style:{color:"#6b7280"},children:[p.jsx("strong",{style:{color:"#374151"},children:r})," questions"]}),i>0&&p.jsxs("span",{style:{color:"#dc2626"},children:[p.jsx("strong",{children:i})," blocking"]})]}),n.map((o,s)=>p.jsx(U2,{block:{type:"schema:OpenQuestionV1",data:o}},o.id||s))]})}function Gy({block:e}){const{data:t}=e,n=t.items||[],r=t.title;if(n.length===0)return null;const i={low:{bg:"#d1fae5",text:"#065f46",border:"#a7f3d0"},medium:{bg:"#fef3c7",text:"#92400e",border:"#fde68a"},high:{bg:"#fee2e2",text:"#991b1b",border:"#fecaca"},critical:{bg:"#fecaca",text:"#7f1d1d",border:"#f87171"}};return p.jsxs("div",{style:{marginBottom:12},children:[r&&p.jsx("h4",{style:{fontSize:12,fontWeight:600,color:"#6b7280",marginBottom:8,textTransform:"uppercase",letterSpacing:"0.05em"},children:r}),p.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:n.map((o,s)=>{const a=o.severity||o.likelihood||"medium",l=i[a]||i.medium;return p.jsx("div",{style:{padding:"10px 14px",background:l.bg,borderRadius:6,border:`1px solid ${l.border}`},children:p.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:10},children:[o.id&&p.jsx("span",{style:{fontSize:10,fontFamily:"monospace",color:l.text,background:"rgba(255,255,255,0.5)",padding:"2px 6px",borderRadius:4,flexShrink:0},children:o.id}),p.jsxs("div",{style:{flex:1},children:[p.jsx("p",{style:{margin:0,fontSize:13,color:l.text,fontWeight:500},children:o.description||o.reason||JSON.stringify(o)}),o.impact&&p.jsxs("p",{style:{margin:"4px 0 0",fontSize:12,color:l.text,opacity:.8},children:["Impact: ",o.impact]}),o.mitigation&&p.jsxs("p",{style:{margin:"4px 0 0",fontSize:12,color:l.text,opacity:.8},children:["Mitigation: ",o.mitigation]})]}),p.jsx("span",{style:{fontSize:10,padding:"2px 8px",borderRadius:10,background:"rgba(255,255,255,0.5)",color:l.text,textTransform:"uppercase",fontWeight:600},children:a})]})},o.id||s)})})]})}function D4({block:e}){const{data:t}=e,{problem_understanding:n,architectural_intent:r,scope_pressure_points:i}=t,o=[{title:"Problem Understanding",content:n},{title:"Architectural Intent",content:r},{title:"Scope Pressure Points",content:i}].filter(s=>s.content);return o.length===0?null:p.jsx("div",{style:{marginBottom:12},children:o.map((s,a)=>p.jsxs("div",{style:{marginBottom:a<o.length-1?16:0},children:[p.jsx("h4",{style:{fontSize:12,fontWeight:600,color:"#6b7280",marginBottom:6,textTransform:"uppercase",letterSpacing:"0.05em"},children:s.title}),p.jsx("div",{style:{padding:"12px 16px",background:"#f8fafc",borderRadius:6,borderLeft:"3px solid #6366f1"},children:p.jsx("p",{style:{margin:0,fontSize:14,lineHeight:1.6,color:"#374151",whiteSpace:"pre-line"},children:s.content})})]},a))})}function Ky({block:e}){const{data:t}=e,{epic_id:n,title:r,name:i,intent:o,phase:s,risk_level:a,stories:l,detail_ref:u}=t,c=r||i,f={low:{bg:"#d1fae5",text:"#065f46"},medium:{bg:"#fef3c7",text:"#92400e"},high:{bg:"#fee2e2",text:"#991b1b"}},d=f[a]||f.medium,h={mvp:{bg:"#dbeafe",text:"#1e40af"},later:{bg:"#e5e7eb",text:"#374151"}},y=h[s]||h.mvp;return p.jsxs("div",{style:{padding:"14px 16px",background:"#ffffff",borderRadius:8,border:"1px solid #e2e8f0",marginBottom:12,boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",gap:12},children:[p.jsxs("div",{style:{flex:1},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:6},children:[n&&p.jsx("span",{style:{fontSize:10,fontFamily:"monospace",color:"#6366f1",background:"#eef2ff",padding:"2px 6px",borderRadius:4},children:n}),p.jsx("h4",{style:{margin:0,fontSize:14,fontWeight:600,color:"#111827"},children:c})]}),o&&p.jsx("p",{style:{margin:0,fontSize:13,color:"#6b7280",lineHeight:1.5},children:o}),l&&l.length>0&&p.jsxs("div",{style:{marginTop:8,fontSize:12,color:"#6b7280"},children:[l.length," stories"]})]}),p.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4,alignItems:"flex-end"},children:[s&&p.jsx("span",{style:{fontSize:10,padding:"2px 8px",borderRadius:10,background:y.bg,color:y.text,textTransform:"uppercase",fontWeight:500},children:s}),a&&p.jsxs("span",{style:{fontSize:10,padding:"2px 8px",borderRadius:10,background:d.bg,color:d.text,textTransform:"uppercase",fontWeight:500},children:[a," risk"]})]})]}),u&&p.jsx("div",{style:{marginTop:10,paddingTop:10,borderTop:"1px solid #f3f4f6"},children:p.jsx("a",{href:"#",style:{fontSize:12,color:"#6366f1",textDecoration:"none"},children:"View epic details "})})]})}function F4({block:e}){const{data:t}=e,{story_id:n,title:r,intent:i,phase:o,risk_level:s,detail_ref:a}=t,u={low:{bg:"#d1fae5",text:"#065f46"},medium:{bg:"#fef3c7",text:"#92400e"},high:{bg:"#fee2e2",text:"#991b1b"}}[s]||null,c={mvp:{bg:"#dbeafe",text:"#1e40af"},later:{bg:"#e5e7eb",text:"#374151"}},f=c[o]||c.mvp;return p.jsx("div",{style:{padding:"10px 14px",background:"#fafafa",borderRadius:6,border:"1px solid #e5e7eb",marginBottom:8},children:p.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",gap:10},children:[p.jsxs("div",{style:{flex:1},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:4},children:[n&&p.jsx("span",{style:{fontSize:10,fontFamily:"monospace",color:"#059669",background:"#ecfdf5",padding:"1px 5px",borderRadius:3},children:n}),p.jsx("span",{style:{fontSize:13,fontWeight:500,color:"#111827"},children:r})]}),i&&p.jsx("p",{style:{margin:0,fontSize:12,color:"#6b7280",lineHeight:1.4},children:i})]}),p.jsxs("div",{style:{display:"flex",gap:4},children:[o&&p.jsx("span",{style:{fontSize:9,padding:"2px 6px",borderRadius:8,background:f.bg,color:f.text,textTransform:"uppercase",fontWeight:500},children:o}),u&&p.jsx("span",{style:{fontSize:9,padding:"2px 6px",borderRadius:8,background:u.bg,color:u.text,textTransform:"uppercase",fontWeight:500},children:s})]})]})})}function $4({block:e}){const{type:t,data:n}=e;return p.jsxs("div",{style:{padding:"12px 16px",background:"#f8fafc",borderRadius:6,border:"1px solid #e2e8f0",marginBottom:12},children:[p.jsx("div",{style:{fontSize:10,color:"#94a3b8",marginBottom:8,fontFamily:"monospace"},children:t}),p.jsx("pre",{style:{fontSize:12,color:"#475569",margin:0,whiteSpace:"pre-wrap",wordBreak:"break-word"},children:JSON.stringify(n,null,2)})]})}function B4({block:e}){const{data:t}=e,{description:n,user_statement:r}=t;return p.jsxs("div",{style:{marginBottom:12},children:[n&&p.jsx("div",{style:{paddingLeft:16,borderLeft:"4px solid #8b5cf6",color:"#374151",marginBottom:16,fontSize:14,lineHeight:1.6},children:n}),r&&p.jsxs("blockquote",{style:{paddingLeft:16,borderLeft:"4px solid #d1d5db",color:"#6b7280",fontStyle:"italic",margin:0,fontSize:13,lineHeight:1.5},children:['"',r,'"']})]})}function H4({block:e}){const{data:t}=e,{category:n,confidence:r,rationale:i}=t;return p.jsxs("div",{style:{marginBottom:12},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:8},children:[p.jsx("span",{style:{padding:"4px 12px",borderRadius:16,fontSize:13,fontWeight:500,background:"#ede9fe",color:"#6d28d9"},children:n}),r&&p.jsxs("span",{style:{fontSize:13,color:"#6b7280"},children:["Confidence: ",r]})]}),i&&p.jsx("p",{style:{margin:0,fontSize:13,color:"#6b7280",lineHeight:1.5},children:i})]})}function V4({block:e}){const{data:t}=e,{explicit:n=[],inferred:r=[]}=t,i=n&&n.length>0,o=r&&r.length>0;return!i&&!o?null:p.jsxs("div",{style:{marginBottom:12},children:[i&&p.jsxs("div",{style:{marginBottom:o?16:0},children:[p.jsx("h4",{style:{fontSize:12,fontWeight:500,color:"#6b7280",marginBottom:8,marginTop:0},children:"Explicit"}),p.jsx("ul",{style:{margin:0,paddingLeft:20,listStyle:"none"},children:n.map((s,a)=>p.jsxs("li",{style:{display:"flex",alignItems:"flex-start",gap:8,marginBottom:6,fontSize:13,color:"#374151"},children:[p.jsx("span",{style:{color:"#f59e0b"},children:""}),p.jsx("span",{children:s})]},a))})]}),o&&p.jsxs("div",{children:[p.jsx("h4",{style:{fontSize:12,fontWeight:500,color:"#6b7280",marginBottom:8,marginTop:0},children:"Inferred"}),p.jsx("ul",{style:{margin:0,paddingLeft:20,listStyle:"none"},children:r.map((s,a)=>p.jsxs("li",{style:{display:"flex",alignItems:"flex-start",gap:8,marginBottom:6,fontSize:13,color:"#374151"},children:[p.jsx("span",{style:{color:"#3b82f6"},children:""}),p.jsx("span",{children:s})]},a))})]})]})}function U4({block:e}){const{data:t}=e,{questions:n=[],missing_context:r=[],assumptions_made:i=[]}=t,o=n&&n.length>0,s=r&&r.length>0,a=i&&i.length>0;return!o&&!s&&!a?null:p.jsxs("div",{style:{marginBottom:12},children:[o&&p.jsxs("div",{style:{marginBottom:s||a?16:0},children:[p.jsx("h4",{style:{fontSize:12,fontWeight:500,color:"#6b7280",marginBottom:8,marginTop:0},children:"Questions"}),p.jsx("ul",{style:{margin:0,paddingLeft:20,listStyle:"none"},children:n.map((l,u)=>p.jsxs("li",{style:{display:"flex",alignItems:"flex-start",gap:8,marginBottom:6,fontSize:13,color:"#374151"},children:[p.jsx("span",{style:{color:"#3b82f6"},children:""}),p.jsx("span",{children:l})]},u))})]}),s&&p.jsxs("div",{style:{marginBottom:a?16:0},children:[p.jsx("h4",{style:{fontSize:12,fontWeight:500,color:"#6b7280",marginBottom:8,marginTop:0},children:"Missing Context"}),p.jsx("ul",{style:{margin:0,paddingLeft:20,listStyle:"none"},children:r.map((l,u)=>p.jsxs("li",{style:{display:"flex",alignItems:"flex-start",gap:8,marginBottom:6,fontSize:13,color:"#374151"},children:[p.jsx("span",{style:{color:"#f59e0b"},children:""}),p.jsx("span",{children:l})]},u))})]}),a&&p.jsxs("div",{children:[p.jsx("h4",{style:{fontSize:12,fontWeight:500,color:"#6b7280",marginBottom:8,marginTop:0},children:"Assumptions"}),p.jsx("ul",{style:{margin:0,paddingLeft:20,listStyle:"none"},children:i.map((l,u)=>p.jsxs("li",{style:{display:"flex",alignItems:"flex-start",gap:8,marginBottom:6,fontSize:13,color:"#374151"},children:[p.jsx("span",{style:{color:"#6b7280"},children:""}),p.jsx("span",{children:l})]},u))})]})]})}function W4({block:e}){const{data:t}=e,{status:n,rationale:r,next_action:i}=t,s={qualified:{bg:"#d1fae5",text:"#065f46"},not_ready:{bg:"#fef3c7",text:"#92400e"},out_of_scope:{bg:"#fee2e2",text:"#991b1b"},redirect:{bg:"#e0e7ff",text:"#3730a3"}}[n]||{bg:"#f3f4f6",text:"#374151"};return p.jsxs("div",{style:{marginBottom:12},children:[n&&p.jsx("div",{style:{marginBottom:12},children:p.jsx("span",{style:{padding:"4px 12px",borderRadius:16,fontSize:13,fontWeight:500,background:s.bg,color:s.text},children:n})}),r&&p.jsx("p",{style:{margin:0,marginBottom:i?12:0,fontSize:13,color:"#6b7280",lineHeight:1.5},children:r}),i&&p.jsx("div",{style:{padding:12,borderRadius:8,background:"#ecfdf5",border:"1px solid #a7f3d0"},children:p.jsxs("span",{style:{fontSize:13,fontWeight:500,color:"#065f46"},children:["Next: ",i]})})]})}const G4={"schema:ParagraphBlockV1":O4,"schema:StringListBlockV1":Wy,"schema:IndicatorBlockV1":L4,"schema:OpenQuestionV1":U2,"schema:OpenQuestionsBlockV1":z4,"schema:RisksBlockV1":Gy,"schema:DependenciesBlockV1":Gy,"schema:SummaryBlockV1":D4,"schema:EpicSummaryBlockV1":Ky,"schema:StorySummaryBlockV1":F4,"schema:EpicStoriesCardBlockV1":Ky,"schema:StoriesBlockV1":Wy,"schema:IntakeSummaryBlockV1":B4,"schema:IntakeProjectTypeBlockV1":H4,"schema:IntakeConstraintsBlockV1":V4,"schema:IntakeOpenGapsBlockV1":U4,"schema:IntakeOutcomeBlockV1":W4};function K4(e){return G4[e]||$4}function Y4(e,t){const n=K4(e.type);return p.jsx(n,{block:e},e.key||t)}function X4({renderModel:e,variant:t="full",onSectionClick:n,className:r=""}){var d;const[i,o]=k.useState(new Set(((d=e==null?void 0:e.sections)==null?void 0:d.map(h=>h.section_id))||[]));if(!e)return p.jsx("div",{style:{padding:20,textAlign:"center",color:"#6b7280"},children:"No render model available"});const{title:s,subtitle:a,sections:l=[],metadata:u}=e;if(u!=null&&u.fallback&&e.raw_content)return p.jsx(Z4,{title:s,content:e.raw_content,reason:u.reason});const c=h=>{o(y=>{const v=new Set(y);return v.has(h)?v.delete(h):v.add(h),v})},f=t==="compact"||t==="sidecar";return p.jsxs("div",{className:r,children:[t==="full"&&p.jsxs("div",{style:{marginBottom:24},children:[p.jsx("h1",{style:{margin:0,fontSize:24,fontWeight:700,color:"#111827"},children:s}),a&&p.jsx("p",{style:{margin:"8px 0 0",fontSize:14,color:"#6b7280"},children:a})]}),p.jsx("div",{style:{display:"flex",flexDirection:"column",gap:f?12:20},children:l.map(h=>p.jsx(Q4,{section:h,isExpanded:i.has(h.section_id),onToggle:()=>c(h.section_id),onClick:()=>n==null?void 0:n(h),variant:t},h.section_id))}),l.length===0&&p.jsx("div",{style:{padding:32,textAlign:"center",color:"#9ca3af",background:"#f9fafb",borderRadius:8},children:"No content sections available"})]})}function Q4({section:e,isExpanded:t,onToggle:n,onClick:r,variant:i}){const{section_id:o,title:s,description:a,blocks:l=[]}=e,u=i==="compact"||i==="sidecar";return l.length===0?null:p.jsxs("div",{style:{background:"#ffffff",borderRadius:8,border:"1px solid #e5e7eb",overflow:"hidden"},children:[p.jsxs("button",{onClick:n,style:{width:"100%",padding:u?"10px 14px":"14px 18px",background:"#f9fafb",border:"none",borderBottom:t?"1px solid #e5e7eb":"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",textAlign:"left"},children:[p.jsxs("div",{children:[p.jsx("h3",{style:{margin:0,fontSize:u?13:15,fontWeight:600,color:"#111827"},children:s}),a&&!u&&p.jsx("p",{style:{margin:"4px 0 0",fontSize:12,color:"#6b7280"},children:a})]}),p.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{color:"#9ca3af",transform:t?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"},children:p.jsx("path",{d:"M4 6l4 4 4-4"})})]}),t&&p.jsx("div",{style:{padding:u?12:18},children:l.map((c,f)=>Y4(c,f))})]})}function Z4({title:e,content:t,reason:n}){return p.jsxs("div",{children:[p.jsxs("div",{style:{padding:"12px 16px",background:"#fef3c7",border:"1px solid #fde68a",borderRadius:8,marginBottom:16,fontSize:12,color:"#92400e"},children:["Displaying raw content (reason: ",n||"unknown",")"]}),p.jsx("div",{style:{background:"#f8fafc",borderRadius:8,padding:16,overflow:"auto"},children:p.jsx("pre",{style:{margin:0,fontSize:12,color:"#374151",whiteSpace:"pre-wrap",wordBreak:"break-word",fontFamily:"monospace"},children:JSON.stringify(t,null,2)})})]})}function J4({projectId:e,docTypeId:t,onClose:n}){const[r,i]=k.useState(null),[o,s]=k.useState(null),[a,l]=k.useState(!0),[u,c]=k.useState(null);return k.useEffect(()=>{async function f(){var d;try{l(!0),c(null);try{const y=await nt.getDocumentRenderModel(e,t);if(y&&y.sections&&y.sections.length>0){s(y),i(null);return}if((d=y==null?void 0:y.metadata)!=null&&d.fallback){s(y),i(null);return}}catch(y){console.log("RenderModel not available, falling back to raw document:",y.message)}const h=await nt.getDocument(e,t);i(h),s(null)}catch(h){c(h.message),console.error("Failed to fetch document:",h)}finally{l(!1)}}f()},[e,t]),k.useEffect(()=>{const f=d=>{d.key==="Escape"&&n()};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[n]),a?null:p.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center",style:{background:"rgba(0,0,0,0.8)"},onClick:f=>f.target===f.currentTarget&&n(),children:p.jsxs("div",{className:"relative w-full max-w-4xl max-h-[90vh] overflow-hidden rounded-lg shadow-2xl",style:{background:"#ffffff"},children:[p.jsxs("div",{className:"sticky top-0 px-6 py-4 border-b flex items-center justify-between",style:{background:"#f8fafc",borderColor:"#e2e8f0"},children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-bold text-gray-900",children:(o==null?void 0:o.title)||(r==null?void 0:r.title)||r3(t)}),((r==null?void 0:r.updated_at)||(o==null?void 0:o.subtitle))&&p.jsx("p",{className:"text-sm text-gray-500 mt-1",children:(o==null?void 0:o.subtitle)||`Last updated: ${i3(r==null?void 0:r.updated_at)}`})]}),p.jsx("button",{onClick:n,className:"p-2 rounded-lg hover:bg-gray-200 transition-colors",children:p.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:p.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),p.jsxs("div",{className:"overflow-y-auto p-6",style:{maxHeight:"calc(90vh - 80px)"},children:[u&&p.jsx("div",{className:"text-center py-12",children:p.jsx("p",{className:"text-red-500",children:u})}),o&&p.jsx(X4,{renderModel:o,variant:"full"}),r&&!o&&p.jsx(e3,{docTypeId:t,content:r.content})]})]})})}function e3({docTypeId:e,content:t}){if(!t)return p.jsx("p",{className:"text-gray-500",children:"No content available"});switch(e){case"concierge_intake":return p.jsx(t3,{content:t});case"project_discovery":return p.jsx(n3,{content:t});default:return p.jsx(W2,{content:t})}}function t3({content:e}){var l,u;const t=e.project_name,n=((l=e.summary)==null?void 0:l.description)||e.captured_intent||"",r=((u=e.summary)==null?void 0:u.user_statement)||e.conversation_summary||"",i=e.project_type,o=e.constraints,s=e.open_gaps||{questions:e.known_unknowns||[]},a=e.outcome||{status:e.gate_outcome,rationale:e.routing_rationale,next_action:e.ready_for};return p.jsxs("div",{className:"space-y-6",children:[p.jsxs(Yt,{title:"Project Summary",icon:"clipboard",children:[t&&p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t}),n&&p.jsx("div",{className:"pl-4 border-l-4 border-violet-500 text-gray-700 mb-4",children:n}),r&&p.jsxs("blockquote",{className:"pl-4 border-l-4 border-gray-300 text-gray-500 italic",children:['"',r,'"']})]}),i&&p.jsxs(Yt,{title:"Project Type",icon:"tag",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[p.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-violet-100 text-violet-800",children:typeof i=="string"?i:i.category}),i.confidence&&p.jsxs("span",{className:"text-sm text-gray-500",children:["Confidence: ",i.confidence]})]}),i.rationale&&p.jsx("p",{className:"text-gray-600",children:i.rationale})]}),o&&(Ke(o.explicit)||Ke(o.inferred)||Ke(o))&&p.jsxs(Yt,{title:"Constraints",icon:"lock",children:[Array.isArray(o)&&o.length>0&&p.jsx(Xt,{items:o,icon:"lock",color:"amber"}),!Array.isArray(o)&&p.jsxs(p.Fragment,{children:[Ke(o.explicit)&&p.jsxs("div",{className:"mb-3",children:[p.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Explicit"}),p.jsx(Xt,{items:o.explicit,icon:"lock",color:"amber"})]}),Ke(o.inferred)&&p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Inferred"}),p.jsx(Xt,{items:o.inferred,icon:"lightbulb",color:"blue"})]})]})]}),s&&(Ke(s.questions)||Ke(s.missing_context)||Ke(s.assumptions_made))&&p.jsxs(Yt,{title:"Open Gaps",icon:"help-circle",children:[Ke(s.questions)&&p.jsxs("div",{className:"mb-3",children:[p.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Questions"}),p.jsx(Xt,{items:s.questions,icon:"help",color:"blue"})]}),Ke(s.missing_context)&&p.jsxs("div",{className:"mb-3",children:[p.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Missing Context"}),p.jsx(Xt,{items:s.missing_context,icon:"alert",color:"amber"})]}),Ke(s.assumptions_made)&&p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Assumptions"}),p.jsx(Xt,{items:s.assumptions_made,icon:"lightbulb",color:"gray"})]})]}),a&&(a.status||a.rationale)&&p.jsxs(Yt,{title:"Intake Outcome",icon:"flag",children:[a.status&&p.jsx("div",{className:"mb-3",children:p.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${a.status==="qualified"?"bg-emerald-100 text-emerald-800":a.status==="not_ready"?"bg-amber-100 text-amber-800":"bg-gray-100 text-gray-800"}`,children:a.status})}),a.rationale&&p.jsx("p",{className:"text-gray-600 mb-3",children:a.rationale}),a.next_action&&p.jsx("div",{className:"p-3 rounded-lg bg-emerald-50 border border-emerald-200",children:p.jsxs("span",{className:"text-sm font-medium text-emerald-800",children:["Next: ",a.next_action]})})]}),e.metadata&&p.jsx(Yt,{title:"Metadata",icon:"info",collapsed:!0,children:p.jsxs("dl",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.metadata.conversation_turn_count&&p.jsxs(p.Fragment,{children:[p.jsx("dt",{className:"text-gray-500",children:"Conversation Turns"}),p.jsx("dd",{className:"text-gray-900",children:e.metadata.conversation_turn_count})]}),e.metadata.workflow_id&&p.jsxs(p.Fragment,{children:[p.jsx("dt",{className:"text-gray-500",children:"Workflow"}),p.jsx("dd",{className:"text-gray-900 font-mono text-xs",children:e.metadata.workflow_id})]})]})})]})}function n3({content:e}){var t;return p.jsxs("div",{className:"space-y-6",children:[e.project_name&&p.jsxs(Yt,{title:"Project",icon:"compass",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.project_name}),((t=e.summary)==null?void 0:t.description)&&p.jsx("p",{className:"text-gray-600 mt-2",children:e.summary.description})]}),e.goals&&Ke(e.goals)&&p.jsx(Yt,{title:"Goals",icon:"target",children:p.jsx(Xt,{items:e.goals,color:"emerald"})}),e.stakeholders&&Ke(e.stakeholders)&&p.jsx(Yt,{title:"Stakeholders",icon:"users",children:p.jsx(Xt,{items:e.stakeholders,color:"blue"})}),e.scope&&p.jsxs(Yt,{title:"Scope",icon:"box",children:[e.scope.in_scope&&Ke(e.scope.in_scope)&&p.jsxs("div",{className:"mb-3",children:[p.jsx("h4",{className:"text-sm font-medium text-emerald-600 mb-2",children:"In Scope"}),p.jsx(Xt,{items:e.scope.in_scope,color:"emerald"})]}),e.scope.out_of_scope&&Ke(e.scope.out_of_scope)&&p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Out of Scope"}),p.jsx(Xt,{items:e.scope.out_of_scope,color:"gray"})]})]}),!e.project_name&&!e.goals&&p.jsx(W2,{content:e})]})}function W2({content:e}){return p.jsx("div",{className:"bg-gray-50 rounded-lg p-4 overflow-x-auto",children:p.jsx("pre",{className:"text-sm text-gray-800 whitespace-pre-wrap font-mono",children:JSON.stringify(e,null,2)})})}function Yt({title:e,icon:t,collapsed:n=!1,children:r}){const[i,o]=k.useState(!n);return p.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[p.jsxs("button",{onClick:()=>o(!i),className:"w-full px-4 py-3 flex items-center justify-between bg-gray-50 hover:bg-gray-100 transition-colors",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-gray-400",children:G2(t)}),p.jsx("span",{className:"font-medium text-gray-900",children:e})]}),p.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",className:`text-gray-400 transition-transform ${i?"rotate-180":""}`,children:p.jsx("path",{d:"M6 8l4 4 4-4",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),i&&p.jsx("div",{className:"px-4 py-4 bg-white",children:r})]})}function Xt({items:e,icon:t,color:n="gray"}){if(!e||e.length===0)return null;const r={gray:"text-gray-600",blue:"text-blue-600",emerald:"text-emerald-600",amber:"text-amber-600",violet:"text-violet-600"};return p.jsx("ul",{className:"space-y-2",children:e.map((i,o)=>p.jsxs("li",{className:"flex items-start gap-2",children:[p.jsx("span",{className:`mt-0.5 ${r[n]}`,children:G2(t||"dot")}),p.jsx("span",{className:"text-gray-700",children:typeof i=="string"?i:JSON.stringify(i)})]},o))})}function Ke(e){return Array.isArray(e)&&e.length>0}function r3(e){return e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function i3(e){return e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):""}function G2(e){return{clipboard:"",tag:"",lock:"",lightbulb:"","help-circle":"",help:"",alert:"",flag:"",info:"",compass:"",target:"",users:"",box:"",dot:""}[e]||""}function Sg(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var iu,Yy;function o3(){if(Yy)return iu;Yy=1;function e(){this.__data__=[],this.size=0}return iu=e,iu}var ou,Xy;function Ei(){if(Xy)return ou;Xy=1;function e(t,n){return t===n||t!==t&&n!==n}return ou=e,ou}var su,Qy;function Za(){if(Qy)return su;Qy=1;var e=Ei();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return su=t,su}var au,Zy;function s3(){if(Zy)return au;Zy=1;var e=Za(),t=Array.prototype,n=t.splice;function r(i){var o=this.__data__,s=e(o,i);if(s<0)return!1;var a=o.length-1;return s==a?o.pop():n.call(o,s,1),--this.size,!0}return au=r,au}var lu,Jy;function a3(){if(Jy)return lu;Jy=1;var e=Za();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return lu=t,lu}var uu,e0;function l3(){if(e0)return uu;e0=1;var e=Za();function t(n){return e(this.__data__,n)>-1}return uu=t,uu}var cu,t0;function u3(){if(t0)return cu;t0=1;var e=Za();function t(n,r){var i=this.__data__,o=e(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return cu=t,cu}var fu,n0;function Ja(){if(n0)return fu;n0=1;var e=o3(),t=s3(),n=a3(),r=l3(),i=u3();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,fu=o,fu}var du,r0;function c3(){if(r0)return du;r0=1;var e=Ja();function t(){this.__data__=new e,this.size=0}return du=t,du}var hu,i0;function f3(){if(i0)return hu;i0=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return hu=e,hu}var pu,o0;function d3(){if(o0)return pu;o0=1;function e(t){return this.__data__.get(t)}return pu=e,pu}var mu,s0;function h3(){if(s0)return mu;s0=1;function e(t){return this.__data__.has(t)}return mu=e,mu}var gu,a0;function K2(){if(a0)return gu;a0=1;var e=typeof Zo=="object"&&Zo&&Zo.Object===Object&&Zo;return gu=e,gu}var vu,l0;function Bt(){if(l0)return vu;l0=1;var e=K2(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return vu=n,vu}var yu,u0;function ki(){if(u0)return yu;u0=1;var e=Bt(),t=e.Symbol;return yu=t,yu}var xu,c0;function p3(){if(c0)return xu;c0=1;var e=ki(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function o(s){var a=n.call(s,i),l=s[i];try{s[i]=void 0;var u=!0}catch{}var c=r.call(s);return u&&(a?s[i]=l:delete s[i]),c}return xu=o,xu}var _u,f0;function m3(){if(f0)return _u;f0=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return _u=n,_u}var wu,d0;function Pr(){if(d0)return wu;d0=1;var e=ki(),t=p3(),n=m3(),r="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function s(a){return a==null?a===void 0?i:r:o&&o in Object(a)?t(a):n(a)}return wu=s,wu}var bu,h0;function Ct(){if(h0)return bu;h0=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return bu=e,bu}var Su,p0;function Go(){if(p0)return Su;p0=1;var e=Pr(),t=Ct(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function s(a){if(!t(a))return!1;var l=e(a);return l==r||l==i||l==n||l==o}return Su=s,Su}var Eu,m0;function g3(){if(m0)return Eu;m0=1;var e=Bt(),t=e["__core-js_shared__"];return Eu=t,Eu}var ku,g0;function v3(){if(g0)return ku;g0=1;var e=g3(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return ku=n,ku}var Nu,v0;function Y2(){if(v0)return Nu;v0=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return Nu=n,Nu}var Cu,y0;function y3(){if(y0)return Cu;y0=1;var e=Go(),t=v3(),n=Ct(),r=Y2(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,s=Function.prototype,a=Object.prototype,l=s.toString,u=a.hasOwnProperty,c=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(d){if(!n(d)||t(d))return!1;var h=e(d)?c:o;return h.test(r(d))}return Cu=f,Cu}var ju,x0;function x3(){if(x0)return ju;x0=1;function e(t,n){return t==null?void 0:t[n]}return ju=e,ju}var Tu,_0;function Ar(){if(_0)return Tu;_0=1;var e=y3(),t=x3();function n(r,i){var o=t(r,i);return e(o)?o:void 0}return Tu=n,Tu}var Ru,w0;function Eg(){if(w0)return Ru;w0=1;var e=Ar(),t=Bt(),n=e(t,"Map");return Ru=n,Ru}var Iu,b0;function el(){if(b0)return Iu;b0=1;var e=Ar(),t=e(Object,"create");return Iu=t,Iu}var Pu,S0;function _3(){if(S0)return Pu;S0=1;var e=el();function t(){this.__data__=e?e(null):{},this.size=0}return Pu=t,Pu}var Au,E0;function w3(){if(E0)return Au;E0=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return Au=e,Au}var Mu,k0;function b3(){if(k0)return Mu;k0=1;var e=el(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var s=this.__data__;if(e){var a=s[o];return a===t?void 0:a}return r.call(s,o)?s[o]:void 0}return Mu=i,Mu}var qu,N0;function S3(){if(N0)return qu;N0=1;var e=el(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var o=this.__data__;return e?o[i]!==void 0:n.call(o,i)}return qu=r,qu}var Ou,C0;function E3(){if(C0)return Ou;C0=1;var e=el(),t="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=e&&i===void 0?t:i,this}return Ou=n,Ou}var Lu,j0;function k3(){if(j0)return Lu;j0=1;var e=_3(),t=w3(),n=b3(),r=S3(),i=E3();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Lu=o,Lu}var zu,T0;function N3(){if(T0)return zu;T0=1;var e=k3(),t=Ja(),n=Eg();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return zu=r,zu}var Du,R0;function C3(){if(R0)return Du;R0=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return Du=e,Du}var Fu,I0;function tl(){if(I0)return Fu;I0=1;var e=C3();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Fu=t,Fu}var $u,P0;function j3(){if(P0)return $u;P0=1;var e=tl();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return $u=t,$u}var Bu,A0;function T3(){if(A0)return Bu;A0=1;var e=tl();function t(n){return e(this,n).get(n)}return Bu=t,Bu}var Hu,M0;function R3(){if(M0)return Hu;M0=1;var e=tl();function t(n){return e(this,n).has(n)}return Hu=t,Hu}var Vu,q0;function I3(){if(q0)return Vu;q0=1;var e=tl();function t(n,r){var i=e(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return Vu=t,Vu}var Uu,O0;function kg(){if(O0)return Uu;O0=1;var e=N3(),t=j3(),n=T3(),r=R3(),i=I3();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Uu=o,Uu}var Wu,L0;function P3(){if(L0)return Wu;L0=1;var e=Ja(),t=Eg(),n=kg(),r=200;function i(o,s){var a=this.__data__;if(a instanceof e){var l=a.__data__;if(!t||l.length<r-1)return l.push([o,s]),this.size=++a.size,this;a=this.__data__=new n(l)}return a.set(o,s),this.size=a.size,this}return Wu=i,Wu}var Gu,z0;function nl(){if(z0)return Gu;z0=1;var e=Ja(),t=c3(),n=f3(),r=d3(),i=h3(),o=P3();function s(a){var l=this.__data__=new e(a);this.size=l.size}return s.prototype.clear=t,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=o,Gu=s,Gu}var Ku,D0;function Ng(){if(D0)return Ku;D0=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i&&n(t[r],r,t)!==!1;);return t}return Ku=e,Ku}var Yu,F0;function X2(){if(F0)return Yu;F0=1;var e=Ar(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return Yu=t,Yu}var Xu,$0;function rl(){if($0)return Xu;$0=1;var e=X2();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return Xu=t,Xu}var Qu,B0;function il(){if(B0)return Qu;B0=1;var e=rl(),t=Ei(),n=Object.prototype,r=n.hasOwnProperty;function i(o,s,a){var l=o[s];(!(r.call(o,s)&&t(l,a))||a===void 0&&!(s in o))&&e(o,s,a)}return Qu=i,Qu}var Zu,H0;function Ko(){if(H0)return Zu;H0=1;var e=il(),t=rl();function n(r,i,o,s){var a=!o;o||(o={});for(var l=-1,u=i.length;++l<u;){var c=i[l],f=s?s(o[c],r[c],c,o,r):void 0;f===void 0&&(f=r[c]),a?t(o,c,f):e(o,c,f)}return o}return Zu=n,Zu}var Ju,V0;function A3(){if(V0)return Ju;V0=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return Ju=e,Ju}var ec,U0;function rn(){if(U0)return ec;U0=1;function e(t){return t!=null&&typeof t=="object"}return ec=e,ec}var tc,W0;function M3(){if(W0)return tc;W0=1;var e=Pr(),t=rn(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return tc=r,tc}var nc,G0;function Yo(){if(G0)return nc;G0=1;var e=M3(),t=rn(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=e(function(){return arguments}())?e:function(s){return t(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return nc=o,nc}var rc,K0;function ke(){if(K0)return rc;K0=1;var e=Array.isArray;return rc=e,rc}var Xi={exports:{}},ic,Y0;function q3(){if(Y0)return ic;Y0=1;function e(){return!1}return ic=e,ic}Xi.exports;var X0;function Ni(){return X0||(X0=1,function(e,t){var n=Bt(),r=q3(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;e.exports=u}(Xi,Xi.exports)),Xi.exports}var oc,Q0;function ol(){if(Q0)return oc;Q0=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??e,!!i&&(o=="number"||o!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return oc=n,oc}var sc,Z0;function Cg(){if(Z0)return sc;Z0=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return sc=t,sc}var ac,J0;function O3(){if(J0)return ac;J0=1;var e=Pr(),t=Cg(),n=rn(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",s="[object Date]",a="[object Error]",l="[object Function]",u="[object Map]",c="[object Number]",f="[object Object]",d="[object RegExp]",h="[object Set]",y="[object String]",v="[object WeakMap]",w="[object ArrayBuffer]",m="[object DataView]",g="[object Float32Array]",x="[object Float64Array]",_="[object Int8Array]",E="[object Int16Array]",S="[object Int32Array]",N="[object Uint8Array]",T="[object Uint8ClampedArray]",R="[object Uint16Array]",M="[object Uint32Array]",q={};q[g]=q[x]=q[_]=q[E]=q[S]=q[N]=q[T]=q[R]=q[M]=!0,q[r]=q[i]=q[w]=q[o]=q[m]=q[s]=q[a]=q[l]=q[u]=q[c]=q[f]=q[d]=q[h]=q[y]=q[v]=!1;function F(D){return n(D)&&t(D.length)&&!!q[e(D)]}return ac=F,ac}var lc,ex;function sl(){if(ex)return lc;ex=1;function e(t){return function(n){return t(n)}}return lc=e,lc}var Qi={exports:{}};Qi.exports;var tx;function jg(){return tx||(tx=1,function(e,t){var n=K2(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=a}(Qi,Qi.exports)),Qi.exports}var uc,nx;function Xo(){if(nx)return uc;nx=1;var e=O3(),t=sl(),n=jg(),r=n&&n.isTypedArray,i=r?t(r):e;return uc=i,uc}var cc,rx;function Q2(){if(rx)return cc;rx=1;var e=A3(),t=Yo(),n=ke(),r=Ni(),i=ol(),o=Xo(),s=Object.prototype,a=s.hasOwnProperty;function l(u,c){var f=n(u),d=!f&&t(u),h=!f&&!d&&r(u),y=!f&&!d&&!h&&o(u),v=f||d||h||y,w=v?e(u.length,String):[],m=w.length;for(var g in u)(c||a.call(u,g))&&!(v&&(g=="length"||h&&(g=="offset"||g=="parent")||y&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||i(g,m)))&&w.push(g);return w}return cc=l,cc}var fc,ix;function al(){if(ix)return fc;ix=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return fc=t,fc}var dc,ox;function Z2(){if(ox)return dc;ox=1;function e(t,n){return function(r){return t(n(r))}}return dc=e,dc}var hc,sx;function L3(){if(sx)return hc;sx=1;var e=Z2(),t=e(Object.keys,Object);return hc=t,hc}var pc,ax;function Tg(){if(ax)return pc;ax=1;var e=al(),t=L3(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!e(o))return t(o);var s=[];for(var a in Object(o))r.call(o,a)&&a!="constructor"&&s.push(a);return s}return pc=i,pc}var mc,lx;function Cn(){if(lx)return mc;lx=1;var e=Go(),t=Cg();function n(r){return r!=null&&t(r.length)&&!e(r)}return mc=n,mc}var gc,ux;function ar(){if(ux)return gc;ux=1;var e=Q2(),t=Tg(),n=Cn();function r(i){return n(i)?e(i):t(i)}return gc=r,gc}var vc,cx;function z3(){if(cx)return vc;cx=1;var e=Ko(),t=ar();function n(r,i){return r&&e(i,t(i),r)}return vc=n,vc}var yc,fx;function D3(){if(fx)return yc;fx=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return yc=e,yc}var xc,dx;function F3(){if(dx)return xc;dx=1;var e=Ct(),t=al(),n=D3(),r=Object.prototype,i=r.hasOwnProperty;function o(s){if(!e(s))return n(s);var a=t(s),l=[];for(var u in s)u=="constructor"&&(a||!i.call(s,u))||l.push(u);return l}return xc=o,xc}var _c,hx;function Mr(){if(hx)return _c;hx=1;var e=Q2(),t=F3(),n=Cn();function r(i){return n(i)?e(i,!0):t(i)}return _c=r,_c}var wc,px;function $3(){if(px)return wc;px=1;var e=Ko(),t=Mr();function n(r,i){return r&&e(i,t(i),r)}return wc=n,wc}var Zi={exports:{}};Zi.exports;var mx;function J2(){return mx||(mx=1,function(e,t){var n=Bt(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var f=u.length,d=a?a(f):new u.constructor(f);return u.copy(d),d}e.exports=l}(Zi,Zi.exports)),Zi.exports}var bc,gx;function ek(){if(gx)return bc;gx=1;function e(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}return bc=e,bc}var Sc,vx;function tk(){if(vx)return Sc;vx=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=0,s=[];++r<i;){var a=t[r];n(a,r,t)&&(s[o++]=a)}return s}return Sc=e,Sc}var Ec,yx;function nk(){if(yx)return Ec;yx=1;function e(){return[]}return Ec=e,Ec}var kc,xx;function Rg(){if(xx)return kc;xx=1;var e=tk(),t=nk(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(s){return s==null?[]:(s=Object(s),e(i(s),function(a){return r.call(s,a)}))}:t;return kc=o,kc}var Nc,_x;function B3(){if(_x)return Nc;_x=1;var e=Ko(),t=Rg();function n(r,i){return e(r,t(r),i)}return Nc=n,Nc}var Cc,wx;function Ig(){if(wx)return Cc;wx=1;function e(t,n){for(var r=-1,i=n.length,o=t.length;++r<i;)t[o+r]=n[r];return t}return Cc=e,Cc}var jc,bx;function ll(){if(bx)return jc;bx=1;var e=Z2(),t=e(Object.getPrototypeOf,Object);return jc=t,jc}var Tc,Sx;function rk(){if(Sx)return Tc;Sx=1;var e=Ig(),t=ll(),n=Rg(),r=nk(),i=Object.getOwnPropertySymbols,o=i?function(s){for(var a=[];s;)e(a,n(s)),s=t(s);return a}:r;return Tc=o,Tc}var Rc,Ex;function H3(){if(Ex)return Rc;Ex=1;var e=Ko(),t=rk();function n(r,i){return e(r,t(r),i)}return Rc=n,Rc}var Ic,kx;function ik(){if(kx)return Ic;kx=1;var e=Ig(),t=ke();function n(r,i,o){var s=i(r);return t(r)?s:e(s,o(r))}return Ic=n,Ic}var Pc,Nx;function ok(){if(Nx)return Pc;Nx=1;var e=ik(),t=Rg(),n=ar();function r(i){return e(i,n,t)}return Pc=r,Pc}var Ac,Cx;function V3(){if(Cx)return Ac;Cx=1;var e=ik(),t=rk(),n=Mr();function r(i){return e(i,n,t)}return Ac=r,Ac}var Mc,jx;function U3(){if(jx)return Mc;jx=1;var e=Ar(),t=Bt(),n=e(t,"DataView");return Mc=n,Mc}var qc,Tx;function W3(){if(Tx)return qc;Tx=1;var e=Ar(),t=Bt(),n=e(t,"Promise");return qc=n,qc}var Oc,Rx;function sk(){if(Rx)return Oc;Rx=1;var e=Ar(),t=Bt(),n=e(t,"Set");return Oc=n,Oc}var Lc,Ix;function G3(){if(Ix)return Lc;Ix=1;var e=Ar(),t=Bt(),n=e(t,"WeakMap");return Lc=n,Lc}var zc,Px;function Ci(){if(Px)return zc;Px=1;var e=U3(),t=Eg(),n=W3(),r=sk(),i=G3(),o=Pr(),s=Y2(),a="[object Map]",l="[object Object]",u="[object Promise]",c="[object Set]",f="[object WeakMap]",d="[object DataView]",h=s(e),y=s(t),v=s(n),w=s(r),m=s(i),g=o;return(e&&g(new e(new ArrayBuffer(1)))!=d||t&&g(new t)!=a||n&&g(n.resolve())!=u||r&&g(new r)!=c||i&&g(new i)!=f)&&(g=function(x){var _=o(x),E=_==l?x.constructor:void 0,S=E?s(E):"";if(S)switch(S){case h:return d;case y:return a;case v:return u;case w:return c;case m:return f}return _}),zc=g,zc}var Dc,Ax;function K3(){if(Ax)return Dc;Ax=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var i=r.length,o=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(o.index=r.index,o.input=r.input),o}return Dc=n,Dc}var Fc,Mx;function ak(){if(Mx)return Fc;Mx=1;var e=Bt(),t=e.Uint8Array;return Fc=t,Fc}var $c,qx;function Pg(){if(qx)return $c;qx=1;var e=ak();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return $c=t,$c}var Bc,Ox;function Y3(){if(Ox)return Bc;Ox=1;var e=Pg();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return Bc=t,Bc}var Hc,Lx;function X3(){if(Lx)return Hc;Lx=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return Hc=t,Hc}var Vc,zx;function Q3(){if(zx)return Vc;zx=1;var e=ki(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return Vc=r,Vc}var Uc,Dx;function lk(){if(Dx)return Uc;Dx=1;var e=Pg();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return Uc=t,Uc}var Wc,Fx;function Z3(){if(Fx)return Wc;Fx=1;var e=Pg(),t=Y3(),n=X3(),r=Q3(),i=lk(),o="[object Boolean]",s="[object Date]",a="[object Map]",l="[object Number]",u="[object RegExp]",c="[object Set]",f="[object String]",d="[object Symbol]",h="[object ArrayBuffer]",y="[object DataView]",v="[object Float32Array]",w="[object Float64Array]",m="[object Int8Array]",g="[object Int16Array]",x="[object Int32Array]",_="[object Uint8Array]",E="[object Uint8ClampedArray]",S="[object Uint16Array]",N="[object Uint32Array]";function T(R,M,q){var F=R.constructor;switch(M){case h:return e(R);case o:case s:return new F(+R);case y:return t(R,q);case v:case w:case m:case g:case x:case _:case E:case S:case N:return i(R,q);case a:return new F;case l:case f:return new F(R);case u:return n(R);case c:return new F;case d:return r(R)}}return Wc=T,Wc}var Gc,$x;function uk(){if($x)return Gc;$x=1;var e=Ct(),t=Object.create,n=function(){function r(){}return function(i){if(!e(i))return{};if(t)return t(i);r.prototype=i;var o=new r;return r.prototype=void 0,o}}();return Gc=n,Gc}var Kc,Bx;function ck(){if(Bx)return Kc;Bx=1;var e=uk(),t=ll(),n=al();function r(i){return typeof i.constructor=="function"&&!n(i)?e(t(i)):{}}return Kc=r,Kc}var Yc,Hx;function J3(){if(Hx)return Yc;Hx=1;var e=Ci(),t=rn(),n="[object Map]";function r(i){return t(i)&&e(i)==n}return Yc=r,Yc}var Xc,Vx;function eq(){if(Vx)return Xc;Vx=1;var e=J3(),t=sl(),n=jg(),r=n&&n.isMap,i=r?t(r):e;return Xc=i,Xc}var Qc,Ux;function tq(){if(Ux)return Qc;Ux=1;var e=Ci(),t=rn(),n="[object Set]";function r(i){return t(i)&&e(i)==n}return Qc=r,Qc}var Zc,Wx;function nq(){if(Wx)return Zc;Wx=1;var e=tq(),t=sl(),n=jg(),r=n&&n.isSet,i=r?t(r):e;return Zc=i,Zc}var Jc,Gx;function fk(){if(Gx)return Jc;Gx=1;var e=nl(),t=Ng(),n=il(),r=z3(),i=$3(),o=J2(),s=ek(),a=B3(),l=H3(),u=ok(),c=V3(),f=Ci(),d=K3(),h=Z3(),y=ck(),v=ke(),w=Ni(),m=eq(),g=Ct(),x=nq(),_=ar(),E=Mr(),S=1,N=2,T=4,R="[object Arguments]",M="[object Array]",q="[object Boolean]",F="[object Date]",D="[object Error]",b="[object Function]",O="[object GeneratorFunction]",I="[object Map]",L="[object Number]",j="[object Object]",C="[object RegExp]",A="[object Set]",P="[object String]",z="[object Symbol]",$="[object WeakMap]",V="[object ArrayBuffer]",U="[object DataView]",Y="[object Float32Array]",Q="[object Float64Array]",re="[object Int8Array]",oe="[object Int16Array]",ie="[object Int32Array]",Ne="[object Uint8Array]",we="[object Uint8ClampedArray]",Oe="[object Uint16Array]",Re="[object Uint32Array]",Z={};Z[R]=Z[M]=Z[V]=Z[U]=Z[q]=Z[F]=Z[Y]=Z[Q]=Z[re]=Z[oe]=Z[ie]=Z[I]=Z[L]=Z[j]=Z[C]=Z[A]=Z[P]=Z[z]=Z[Ne]=Z[we]=Z[Oe]=Z[Re]=!0,Z[D]=Z[b]=Z[$]=!1;function Ie(X,K,ye,Tt,Vt,We){var be,Je=K&S,Rt=K&N,on=K&T;if(ye&&(be=Vt?ye(X,Tt,Vt,We):ye(X)),be!==void 0)return be;if(!g(X))return X;var Ut=v(X);if(Ut){if(be=d(X),!Je)return s(X,be)}else{var ct=f(X),sn=ct==b||ct==O;if(w(X))return o(X,Je);if(ct==j||ct==R||sn&&!Vt){if(be=Rt||sn?{}:y(X),!Je)return Rt?l(X,i(be,X)):a(X,r(be,X))}else{if(!Z[ct])return Vt?X:{};be=h(X,ct,Je)}}We||(We=new e);var Tn=We.get(X);if(Tn)return Tn;We.set(X,be),x(X)?X.forEach(function(Fe){be.add(Ie(Fe,K,ye,Fe,X,We))}):m(X)&&X.forEach(function(Fe,Ge){be.set(Ge,Ie(Fe,K,ye,Ge,X,We))});var Pe=on?Rt?c:u:Rt?E:_,et=Ut?void 0:Pe(X);return t(et||X,function(Fe,Ge){et&&(Ge=Fe,Fe=X[Ge]),n(be,Ge,Ie(Fe,K,ye,Ge,X,We))}),be}return Jc=Ie,Jc}var ef,Kx;function rq(){if(Kx)return ef;Kx=1;var e=fk(),t=4;function n(r){return e(r,t)}return ef=n,ef}var tf,Yx;function Ag(){if(Yx)return tf;Yx=1;function e(t){return function(){return t}}return tf=e,tf}var nf,Xx;function iq(){if(Xx)return nf;Xx=1;function e(t){return function(n,r,i){for(var o=-1,s=Object(n),a=i(n),l=a.length;l--;){var u=a[t?l:++o];if(r(s[u],u,s)===!1)break}return n}}return nf=e,nf}var rf,Qx;function Mg(){if(Qx)return rf;Qx=1;var e=iq(),t=e();return rf=t,rf}var of,Zx;function qg(){if(Zx)return of;Zx=1;var e=Mg(),t=ar();function n(r,i){return r&&e(r,i,t)}return of=n,of}var sf,Jx;function oq(){if(Jx)return sf;Jx=1;var e=Cn();function t(n,r){return function(i,o){if(i==null)return i;if(!e(i))return n(i,o);for(var s=i.length,a=r?s:-1,l=Object(i);(r?a--:++a<s)&&o(l[a],a,l)!==!1;);return i}}return sf=t,sf}var af,e1;function ul(){if(e1)return af;e1=1;var e=qg(),t=oq(),n=t(e);return af=n,af}var lf,t1;function qr(){if(t1)return lf;t1=1;function e(t){return t}return lf=e,lf}var uf,n1;function dk(){if(n1)return uf;n1=1;var e=qr();function t(n){return typeof n=="function"?n:e}return uf=t,uf}var cf,r1;function hk(){if(r1)return cf;r1=1;var e=Ng(),t=ul(),n=dk(),r=ke();function i(o,s){var a=r(o)?e:t;return a(o,n(s))}return cf=i,cf}var ff,i1;function pk(){return i1||(i1=1,ff=hk()),ff}var df,o1;function sq(){if(o1)return df;o1=1;var e=ul();function t(n,r){var i=[];return e(n,function(o,s,a){r(o,s,a)&&i.push(o)}),i}return df=t,df}var hf,s1;function aq(){if(s1)return hf;s1=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return hf=t,hf}var pf,a1;function lq(){if(a1)return pf;a1=1;function e(t){return this.__data__.has(t)}return pf=e,pf}var mf,l1;function mk(){if(l1)return mf;l1=1;var e=kg(),t=aq(),n=lq();function r(i){var o=-1,s=i==null?0:i.length;for(this.__data__=new e;++o<s;)this.add(i[o])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,mf=r,mf}var gf,u1;function uq(){if(u1)return gf;u1=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return gf=e,gf}var vf,c1;function gk(){if(c1)return vf;c1=1;function e(t,n){return t.has(n)}return vf=e,vf}var yf,f1;function vk(){if(f1)return yf;f1=1;var e=mk(),t=uq(),n=gk(),r=1,i=2;function o(s,a,l,u,c,f){var d=l&r,h=s.length,y=a.length;if(h!=y&&!(d&&y>h))return!1;var v=f.get(s),w=f.get(a);if(v&&w)return v==a&&w==s;var m=-1,g=!0,x=l&i?new e:void 0;for(f.set(s,a),f.set(a,s);++m<h;){var _=s[m],E=a[m];if(u)var S=d?u(E,_,m,a,s,f):u(_,E,m,s,a,f);if(S!==void 0){if(S)continue;g=!1;break}if(x){if(!t(a,function(N,T){if(!n(x,T)&&(_===N||c(_,N,l,u,f)))return x.push(T)})){g=!1;break}}else if(!(_===E||c(_,E,l,u,f))){g=!1;break}}return f.delete(s),f.delete(a),g}return yf=o,yf}var xf,d1;function cq(){if(d1)return xf;d1=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,o){r[++n]=[o,i]}),r}return xf=e,xf}var _f,h1;function Og(){if(h1)return _f;h1=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return _f=e,_f}var wf,p1;function fq(){if(p1)return wf;p1=1;var e=ki(),t=ak(),n=Ei(),r=vk(),i=cq(),o=Og(),s=1,a=2,l="[object Boolean]",u="[object Date]",c="[object Error]",f="[object Map]",d="[object Number]",h="[object RegExp]",y="[object Set]",v="[object String]",w="[object Symbol]",m="[object ArrayBuffer]",g="[object DataView]",x=e?e.prototype:void 0,_=x?x.valueOf:void 0;function E(S,N,T,R,M,q,F){switch(T){case g:if(S.byteLength!=N.byteLength||S.byteOffset!=N.byteOffset)return!1;S=S.buffer,N=N.buffer;case m:return!(S.byteLength!=N.byteLength||!q(new t(S),new t(N)));case l:case u:case d:return n(+S,+N);case c:return S.name==N.name&&S.message==N.message;case h:case v:return S==N+"";case f:var D=i;case y:var b=R&s;if(D||(D=o),S.size!=N.size&&!b)return!1;var O=F.get(S);if(O)return O==N;R|=a,F.set(S,N);var I=r(D(S),D(N),R,M,q,F);return F.delete(S),I;case w:if(_)return _.call(S)==_.call(N)}return!1}return wf=E,wf}var bf,m1;function dq(){if(m1)return bf;m1=1;var e=ok(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,s,a,l,u,c){var f=a&t,d=e(o),h=d.length,y=e(s),v=y.length;if(h!=v&&!f)return!1;for(var w=h;w--;){var m=d[w];if(!(f?m in s:r.call(s,m)))return!1}var g=c.get(o),x=c.get(s);if(g&&x)return g==s&&x==o;var _=!0;c.set(o,s),c.set(s,o);for(var E=f;++w<h;){m=d[w];var S=o[m],N=s[m];if(l)var T=f?l(N,S,m,s,o,c):l(S,N,m,o,s,c);if(!(T===void 0?S===N||u(S,N,a,l,c):T)){_=!1;break}E||(E=m=="constructor")}if(_&&!E){var R=o.constructor,M=s.constructor;R!=M&&"constructor"in o&&"constructor"in s&&!(typeof R=="function"&&R instanceof R&&typeof M=="function"&&M instanceof M)&&(_=!1)}return c.delete(o),c.delete(s),_}return bf=i,bf}var Sf,g1;function hq(){if(g1)return Sf;g1=1;var e=nl(),t=vk(),n=fq(),r=dq(),i=Ci(),o=ke(),s=Ni(),a=Xo(),l=1,u="[object Arguments]",c="[object Array]",f="[object Object]",d=Object.prototype,h=d.hasOwnProperty;function y(v,w,m,g,x,_){var E=o(v),S=o(w),N=E?c:i(v),T=S?c:i(w);N=N==u?f:N,T=T==u?f:T;var R=N==f,M=T==f,q=N==T;if(q&&s(v)){if(!s(w))return!1;E=!0,R=!1}if(q&&!R)return _||(_=new e),E||a(v)?t(v,w,m,g,x,_):n(v,w,N,m,g,x,_);if(!(m&l)){var F=R&&h.call(v,"__wrapped__"),D=M&&h.call(w,"__wrapped__");if(F||D){var b=F?v.value():v,O=D?w.value():w;return _||(_=new e),x(b,O,m,g,_)}}return q?(_||(_=new e),r(v,w,m,g,x,_)):!1}return Sf=y,Sf}var Ef,v1;function yk(){if(v1)return Ef;v1=1;var e=hq(),t=rn();function n(r,i,o,s,a){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,o,s,n,a)}return Ef=n,Ef}var kf,y1;function pq(){if(y1)return kf;y1=1;var e=nl(),t=yk(),n=1,r=2;function i(o,s,a,l){var u=a.length,c=u,f=!l;if(o==null)return!c;for(o=Object(o);u--;){var d=a[u];if(f&&d[2]?d[1]!==o[d[0]]:!(d[0]in o))return!1}for(;++u<c;){d=a[u];var h=d[0],y=o[h],v=d[1];if(f&&d[2]){if(y===void 0&&!(h in o))return!1}else{var w=new e;if(l)var m=l(y,v,h,o,s,w);if(!(m===void 0?t(v,y,n|r,l,w):m))return!1}}return!0}return kf=i,kf}var Nf,x1;function xk(){if(x1)return Nf;x1=1;var e=Ct();function t(n){return n===n&&!e(n)}return Nf=t,Nf}var Cf,_1;function mq(){if(_1)return Cf;_1=1;var e=xk(),t=ar();function n(r){for(var i=t(r),o=i.length;o--;){var s=i[o],a=r[s];i[o]=[s,a,e(a)]}return i}return Cf=n,Cf}var jf,w1;function _k(){if(w1)return jf;w1=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return jf=e,jf}var Tf,b1;function gq(){if(b1)return Tf;b1=1;var e=pq(),t=mq(),n=_k();function r(i){var o=t(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(s){return s===i||e(s,i,o)}}return Tf=r,Tf}var Rf,S1;function ji(){if(S1)return Rf;S1=1;var e=Pr(),t=rn(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return Rf=r,Rf}var If,E1;function Lg(){if(E1)return If;E1=1;var e=ke(),t=ji(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){if(e(o))return!1;var a=typeof o;return a=="number"||a=="symbol"||a=="boolean"||o==null||t(o)?!0:r.test(o)||!n.test(o)||s!=null&&o in Object(s)}return If=i,If}var Pf,k1;function vq(){if(k1)return Pf;k1=1;var e=kg(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var o=function(){var s=arguments,a=i?i.apply(this,s):s[0],l=o.cache;if(l.has(a))return l.get(a);var u=r.apply(this,s);return o.cache=l.set(a,u)||l,u};return o.cache=new(n.Cache||e),o}return n.Cache=e,Pf=n,Pf}var Af,N1;function yq(){if(N1)return Af;N1=1;var e=vq(),t=500;function n(r){var i=e(r,function(s){return o.size===t&&o.clear(),s}),o=i.cache;return i}return Af=n,Af}var Mf,C1;function xq(){if(C1)return Mf;C1=1;var e=yq(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(t,function(s,a,l,u){o.push(l?u.replace(n,"$1"):a||s)}),o});return Mf=r,Mf}var qf,j1;function cl(){if(j1)return qf;j1=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=Array(i);++r<i;)o[r]=n(t[r],r,t);return o}return qf=e,qf}var Of,T1;function _q(){if(T1)return Of;T1=1;var e=ki(),t=cl(),n=ke(),r=ji(),i=e?e.prototype:void 0,o=i?i.toString:void 0;function s(a){if(typeof a=="string")return a;if(n(a))return t(a,s)+"";if(r(a))return o?o.call(a):"";var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}return Of=s,Of}var Lf,R1;function wk(){if(R1)return Lf;R1=1;var e=_q();function t(n){return n==null?"":e(n)}return Lf=t,Lf}var zf,I1;function fl(){if(I1)return zf;I1=1;var e=ke(),t=Lg(),n=xq(),r=wk();function i(o,s){return e(o)?o:t(o,s)?[o]:n(r(o))}return zf=i,zf}var Df,P1;function Qo(){if(P1)return Df;P1=1;var e=ji();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Df=t,Df}var Ff,A1;function dl(){if(A1)return Ff;A1=1;var e=fl(),t=Qo();function n(r,i){i=e(i,r);for(var o=0,s=i.length;r!=null&&o<s;)r=r[t(i[o++])];return o&&o==s?r:void 0}return Ff=n,Ff}var $f,M1;function wq(){if(M1)return $f;M1=1;var e=dl();function t(n,r,i){var o=n==null?void 0:e(n,r);return o===void 0?i:o}return $f=t,$f}var Bf,q1;function bq(){if(q1)return Bf;q1=1;function e(t,n){return t!=null&&n in Object(t)}return Bf=e,Bf}var Hf,O1;function bk(){if(O1)return Hf;O1=1;var e=fl(),t=Yo(),n=ke(),r=ol(),i=Cg(),o=Qo();function s(a,l,u){l=e(l,a);for(var c=-1,f=l.length,d=!1;++c<f;){var h=o(l[c]);if(!(d=a!=null&&u(a,h)))break;a=a[h]}return d||++c!=f?d:(f=a==null?0:a.length,!!f&&i(f)&&r(h,f)&&(n(a)||t(a)))}return Hf=s,Hf}var Vf,L1;function Sk(){if(L1)return Vf;L1=1;var e=bq(),t=bk();function n(r,i){return r!=null&&t(r,i,e)}return Vf=n,Vf}var Uf,z1;function Sq(){if(z1)return Uf;z1=1;var e=yk(),t=wq(),n=Sk(),r=Lg(),i=xk(),o=_k(),s=Qo(),a=1,l=2;function u(c,f){return r(c)&&i(f)?o(s(c),f):function(d){var h=t(d,c);return h===void 0&&h===f?n(d,c):e(f,h,a|l)}}return Uf=u,Uf}var Wf,D1;function Ek(){if(D1)return Wf;D1=1;function e(t){return function(n){return n==null?void 0:n[t]}}return Wf=e,Wf}var Gf,F1;function Eq(){if(F1)return Gf;F1=1;var e=dl();function t(n){return function(r){return e(r,n)}}return Gf=t,Gf}var Kf,$1;function kq(){if($1)return Kf;$1=1;var e=Ek(),t=Eq(),n=Lg(),r=Qo();function i(o){return n(o)?e(r(o)):t(o)}return Kf=i,Kf}var Yf,B1;function jn(){if(B1)return Yf;B1=1;var e=gq(),t=Sq(),n=qr(),r=ke(),i=kq();function o(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?t(s[0],s[1]):e(s):i(s)}return Yf=o,Yf}var Xf,H1;function kk(){if(H1)return Xf;H1=1;var e=tk(),t=sq(),n=jn(),r=ke();function i(o,s){var a=r(o)?e:t;return a(o,n(s,3))}return Xf=i,Xf}var Qf,V1;function Nq(){if(V1)return Qf;V1=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,i){return r!=null&&t.call(r,i)}return Qf=n,Qf}var Zf,U1;function Nk(){if(U1)return Zf;U1=1;var e=Nq(),t=bk();function n(r,i){return r!=null&&t(r,i,e)}return Zf=n,Zf}var Jf,W1;function Cq(){if(W1)return Jf;W1=1;var e=Tg(),t=Ci(),n=Yo(),r=ke(),i=Cn(),o=Ni(),s=al(),a=Xo(),l="[object Map]",u="[object Set]",c=Object.prototype,f=c.hasOwnProperty;function d(h){if(h==null)return!0;if(i(h)&&(r(h)||typeof h=="string"||typeof h.splice=="function"||o(h)||a(h)||n(h)))return!h.length;var y=t(h);if(y==l||y==u)return!h.size;if(s(h))return!e(h).length;for(var v in h)if(f.call(h,v))return!1;return!0}return Jf=d,Jf}var ed,G1;function Ck(){if(G1)return ed;G1=1;function e(t){return t===void 0}return ed=e,ed}var td,K1;function jk(){if(K1)return td;K1=1;var e=ul(),t=Cn();function n(r,i){var o=-1,s=t(r)?Array(r.length):[];return e(r,function(a,l,u){s[++o]=i(a,l,u)}),s}return td=n,td}var nd,Y1;function Tk(){if(Y1)return nd;Y1=1;var e=cl(),t=jn(),n=jk(),r=ke();function i(o,s){var a=r(o)?e:n;return a(o,t(s,3))}return nd=i,nd}var rd,X1;function jq(){if(X1)return rd;X1=1;function e(t,n,r,i){var o=-1,s=t==null?0:t.length;for(i&&s&&(r=t[++o]);++o<s;)r=n(r,t[o],o,t);return r}return rd=e,rd}var id,Q1;function Tq(){if(Q1)return id;Q1=1;function e(t,n,r,i,o){return o(t,function(s,a,l){r=i?(i=!1,s):n(r,s,a,l)}),r}return id=e,id}var od,Z1;function Rk(){if(Z1)return od;Z1=1;var e=jq(),t=ul(),n=jn(),r=Tq(),i=ke();function o(s,a,l){var u=i(s)?e:r,c=arguments.length<3;return u(s,n(a,4),l,c,t)}return od=o,od}var sd,J1;function Rq(){if(J1)return sd;J1=1;var e=Pr(),t=ke(),n=rn(),r="[object String]";function i(o){return typeof o=="string"||!t(o)&&n(o)&&e(o)==r}return sd=i,sd}var ad,e_;function Iq(){if(e_)return ad;e_=1;var e=Ek(),t=e("length");return ad=t,ad}var ld,t_;function Pq(){if(t_)return ld;t_=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",s="\\u200d",a=RegExp("["+s+e+i+o+"]");function l(u){return a.test(u)}return ld=l,ld}var ud,n_;function Aq(){if(n_)return ud;n_=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",s="["+e+"]",a="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+a+"|"+l+")",c="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",d="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",y=u+"?",v="["+o+"]?",w="(?:"+h+"(?:"+[c,f,d].join("|")+")"+v+y+")*",m=v+y+w,g="(?:"+[c+a+"?",a,f,d,s].join("|")+")",x=RegExp(l+"(?="+l+")|"+g+m,"g");function _(E){for(var S=x.lastIndex=0;x.test(E);)++S;return S}return ud=_,ud}var cd,r_;function Mq(){if(r_)return cd;r_=1;var e=Iq(),t=Pq(),n=Aq();function r(i){return t(i)?n(i):e(i)}return cd=r,cd}var fd,i_;function qq(){if(i_)return fd;i_=1;var e=Tg(),t=Ci(),n=Cn(),r=Rq(),i=Mq(),o="[object Map]",s="[object Set]";function a(l){if(l==null)return 0;if(n(l))return r(l)?i(l):l.length;var u=t(l);return u==o||u==s?l.size:e(l).length}return fd=a,fd}var dd,o_;function Oq(){if(o_)return dd;o_=1;var e=Ng(),t=uk(),n=qg(),r=jn(),i=ll(),o=ke(),s=Ni(),a=Go(),l=Ct(),u=Xo();function c(f,d,h){var y=o(f),v=y||s(f)||u(f);if(d=r(d,4),h==null){var w=f&&f.constructor;v?h=y?new w:[]:l(f)?h=a(w)?t(i(f)):{}:h={}}return(v?e:n)(f,function(m,g,x){return d(h,m,g,x)}),h}return dd=c,dd}var hd,s_;function Lq(){if(s_)return hd;s_=1;var e=ki(),t=Yo(),n=ke(),r=e?e.isConcatSpreadable:void 0;function i(o){return n(o)||t(o)||!!(r&&o&&o[r])}return hd=i,hd}var pd,a_;function zg(){if(a_)return pd;a_=1;var e=Ig(),t=Lq();function n(r,i,o,s,a){var l=-1,u=r.length;for(o||(o=t),a||(a=[]);++l<u;){var c=r[l];i>0&&o(c)?i>1?n(c,i-1,o,s,a):e(a,c):s||(a[a.length]=c)}return a}return pd=n,pd}var md,l_;function zq(){if(l_)return md;l_=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return md=e,md}var gd,u_;function Ik(){if(u_)return gd;u_=1;var e=zq(),t=Math.max;function n(r,i,o){return i=t(i===void 0?r.length-1:i,0),function(){for(var s=arguments,a=-1,l=t(s.length-i,0),u=Array(l);++a<l;)u[a]=s[i+a];a=-1;for(var c=Array(i+1);++a<i;)c[a]=s[a];return c[i]=o(u),e(r,this,c)}}return gd=n,gd}var vd,c_;function Dq(){if(c_)return vd;c_=1;var e=Ag(),t=X2(),n=qr(),r=t?function(i,o){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:n;return vd=r,vd}var yd,f_;function Fq(){if(f_)return yd;f_=1;var e=800,t=16,n=Date.now;function r(i){var o=0,s=0;return function(){var a=n(),l=t-(a-s);if(s=a,l>0){if(++o>=e)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return yd=r,yd}var xd,d_;function Pk(){if(d_)return xd;d_=1;var e=Dq(),t=Fq(),n=t(e);return xd=n,xd}var _d,h_;function hl(){if(h_)return _d;h_=1;var e=qr(),t=Ik(),n=Pk();function r(i,o){return n(t(i,o,e),i+"")}return _d=r,_d}var wd,p_;function Ak(){if(p_)return wd;p_=1;function e(t,n,r,i){for(var o=t.length,s=r+(i?1:-1);i?s--:++s<o;)if(n(t[s],s,t))return s;return-1}return wd=e,wd}var bd,m_;function $q(){if(m_)return bd;m_=1;function e(t){return t!==t}return bd=e,bd}var Sd,g_;function Bq(){if(g_)return Sd;g_=1;function e(t,n,r){for(var i=r-1,o=t.length;++i<o;)if(t[i]===n)return i;return-1}return Sd=e,Sd}var Ed,v_;function Hq(){if(v_)return Ed;v_=1;var e=Ak(),t=$q(),n=Bq();function r(i,o,s){return o===o?n(i,o,s):e(i,t,s)}return Ed=r,Ed}var kd,y_;function Vq(){if(y_)return kd;y_=1;var e=Hq();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return kd=t,kd}var Nd,x_;function Uq(){if(x_)return Nd;x_=1;function e(t,n,r){for(var i=-1,o=t==null?0:t.length;++i<o;)if(r(n,t[i]))return!0;return!1}return Nd=e,Nd}var Cd,__;function Wq(){if(__)return Cd;__=1;function e(){}return Cd=e,Cd}var jd,w_;function Gq(){if(w_)return jd;w_=1;var e=sk(),t=Wq(),n=Og(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(o){return new e(o)}:t;return jd=i,jd}var Td,b_;function Kq(){if(b_)return Td;b_=1;var e=mk(),t=Vq(),n=Uq(),r=gk(),i=Gq(),o=Og(),s=200;function a(l,u,c){var f=-1,d=t,h=l.length,y=!0,v=[],w=v;if(c)y=!1,d=n;else if(h>=s){var m=u?null:i(l);if(m)return o(m);y=!1,d=r,w=new e}else w=u?[]:v;e:for(;++f<h;){var g=l[f],x=u?u(g):g;if(g=c||g!==0?g:0,y&&x===x){for(var _=w.length;_--;)if(w[_]===x)continue e;u&&w.push(x),v.push(g)}else d(w,x,c)||(w!==v&&w.push(x),v.push(g))}return v}return Td=a,Td}var Rd,S_;function Mk(){if(S_)return Rd;S_=1;var e=Cn(),t=rn();function n(r){return t(r)&&e(r)}return Rd=n,Rd}var Id,E_;function Yq(){if(E_)return Id;E_=1;var e=zg(),t=hl(),n=Kq(),r=Mk(),i=t(function(o){return n(e(o,1,r,!0))});return Id=i,Id}var Pd,k_;function Xq(){if(k_)return Pd;k_=1;var e=cl();function t(n,r){return e(r,function(i){return n[i]})}return Pd=t,Pd}var Ad,N_;function qk(){if(N_)return Ad;N_=1;var e=Xq(),t=ar();function n(r){return r==null?[]:e(r,t(r))}return Ad=n,Ad}var Md,C_;function jt(){if(C_)return Md;C_=1;var e;if(typeof Sg=="function")try{e={clone:rq(),constant:Ag(),each:pk(),filter:kk(),has:Nk(),isArray:ke(),isEmpty:Cq(),isFunction:Go(),isUndefined:Ck(),keys:ar(),map:Tk(),reduce:Rk(),size:qq(),transform:Oq(),union:Yq(),values:qk()}}catch{}return e||(e=window._),Md=e,Md}var qd,j_;function Dg(){if(j_)return qd;j_=1;var e=jt();qd=i;var t="\0",n="\0",r="";function i(c){this._isDirected=e.has(c,"directed")?c.directed:!0,this._isMultigraph=e.has(c,"multigraph")?c.multigraph:!1,this._isCompound=e.has(c,"compound")?c.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(c){return this._label=c,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultNodeLabelFn=c,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return e.keys(this._nodes)},i.prototype.sources=function(){var c=this;return e.filter(this.nodes(),function(f){return e.isEmpty(c._in[f])})},i.prototype.sinks=function(){var c=this;return e.filter(this.nodes(),function(f){return e.isEmpty(c._out[f])})},i.prototype.setNodes=function(c,f){var d=arguments,h=this;return e.each(c,function(y){d.length>1?h.setNode(y,f):h.setNode(y)}),this},i.prototype.setNode=function(c,f){return e.has(this._nodes,c)?(arguments.length>1&&(this._nodes[c]=f),this):(this._nodes[c]=arguments.length>1?f:this._defaultNodeLabelFn(c),this._isCompound&&(this._parent[c]=n,this._children[c]={},this._children[n][c]=!0),this._in[c]={},this._preds[c]={},this._out[c]={},this._sucs[c]={},++this._nodeCount,this)},i.prototype.node=function(c){return this._nodes[c]},i.prototype.hasNode=function(c){return e.has(this._nodes,c)},i.prototype.removeNode=function(c){var f=this;if(e.has(this._nodes,c)){var d=function(h){f.removeEdge(f._edgeObjs[h])};delete this._nodes[c],this._isCompound&&(this._removeFromParentsChildList(c),delete this._parent[c],e.each(this.children(c),function(h){f.setParent(h)}),delete this._children[c]),e.each(e.keys(this._in[c]),d),delete this._in[c],delete this._preds[c],e.each(e.keys(this._out[c]),d),delete this._out[c],delete this._sucs[c],--this._nodeCount}return this},i.prototype.setParent=function(c,f){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(f))f=n;else{f+="";for(var d=f;!e.isUndefined(d);d=this.parent(d))if(d===c)throw new Error("Setting "+f+" as parent of "+c+" would create a cycle");this.setNode(f)}return this.setNode(c),this._removeFromParentsChildList(c),this._parent[c]=f,this._children[f][c]=!0,this},i.prototype._removeFromParentsChildList=function(c){delete this._children[this._parent[c]][c]},i.prototype.parent=function(c){if(this._isCompound){var f=this._parent[c];if(f!==n)return f}},i.prototype.children=function(c){if(e.isUndefined(c)&&(c=n),this._isCompound){var f=this._children[c];if(f)return e.keys(f)}else{if(c===n)return this.nodes();if(this.hasNode(c))return[]}},i.prototype.predecessors=function(c){var f=this._preds[c];if(f)return e.keys(f)},i.prototype.successors=function(c){var f=this._sucs[c];if(f)return e.keys(f)},i.prototype.neighbors=function(c){var f=this.predecessors(c);if(f)return e.union(f,this.successors(c))},i.prototype.isLeaf=function(c){var f;return this.isDirected()?f=this.successors(c):f=this.neighbors(c),f.length===0},i.prototype.filterNodes=function(c){var f=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});f.setGraph(this.graph());var d=this;e.each(this._nodes,function(v,w){c(w)&&f.setNode(w,v)}),e.each(this._edgeObjs,function(v){f.hasNode(v.v)&&f.hasNode(v.w)&&f.setEdge(v,d.edge(v))});var h={};function y(v){var w=d.parent(v);return w===void 0||f.hasNode(w)?(h[v]=w,w):w in h?h[w]:y(w)}return this._isCompound&&e.each(f.nodes(),function(v){f.setParent(v,y(v))}),f},i.prototype.setDefaultEdgeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultEdgeLabelFn=c,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return e.values(this._edgeObjs)},i.prototype.setPath=function(c,f){var d=this,h=arguments;return e.reduce(c,function(y,v){return h.length>1?d.setEdge(y,v,f):d.setEdge(y,v),v}),this},i.prototype.setEdge=function(){var c,f,d,h,y=!1,v=arguments[0];typeof v=="object"&&v!==null&&"v"in v?(c=v.v,f=v.w,d=v.name,arguments.length===2&&(h=arguments[1],y=!0)):(c=v,f=arguments[1],d=arguments[3],arguments.length>2&&(h=arguments[2],y=!0)),c=""+c,f=""+f,e.isUndefined(d)||(d=""+d);var w=a(this._isDirected,c,f,d);if(e.has(this._edgeLabels,w))return y&&(this._edgeLabels[w]=h),this;if(!e.isUndefined(d)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(f),this._edgeLabels[w]=y?h:this._defaultEdgeLabelFn(c,f,d);var m=l(this._isDirected,c,f,d);return c=m.v,f=m.w,Object.freeze(m),this._edgeObjs[w]=m,o(this._preds[f],c),o(this._sucs[c],f),this._in[f][w]=m,this._out[c][w]=m,this._edgeCount++,this},i.prototype.edge=function(c,f,d){var h=arguments.length===1?u(this._isDirected,arguments[0]):a(this._isDirected,c,f,d);return this._edgeLabels[h]},i.prototype.hasEdge=function(c,f,d){var h=arguments.length===1?u(this._isDirected,arguments[0]):a(this._isDirected,c,f,d);return e.has(this._edgeLabels,h)},i.prototype.removeEdge=function(c,f,d){var h=arguments.length===1?u(this._isDirected,arguments[0]):a(this._isDirected,c,f,d),y=this._edgeObjs[h];return y&&(c=y.v,f=y.w,delete this._edgeLabels[h],delete this._edgeObjs[h],s(this._preds[f],c),s(this._sucs[c],f),delete this._in[f][h],delete this._out[c][h],this._edgeCount--),this},i.prototype.inEdges=function(c,f){var d=this._in[c];if(d){var h=e.values(d);return f?e.filter(h,function(y){return y.v===f}):h}},i.prototype.outEdges=function(c,f){var d=this._out[c];if(d){var h=e.values(d);return f?e.filter(h,function(y){return y.w===f}):h}},i.prototype.nodeEdges=function(c,f){var d=this.inEdges(c,f);if(d)return d.concat(this.outEdges(c,f))};function o(c,f){c[f]?c[f]++:c[f]=1}function s(c,f){--c[f]||delete c[f]}function a(c,f,d,h){var y=""+f,v=""+d;if(!c&&y>v){var w=y;y=v,v=w}return y+r+v+r+(e.isUndefined(h)?t:h)}function l(c,f,d,h){var y=""+f,v=""+d;if(!c&&y>v){var w=y;y=v,v=w}var m={v:y,w:v};return h&&(m.name=h),m}function u(c,f){return a(c,f.v,f.w,f.name)}return qd}var Od,T_;function Qq(){return T_||(T_=1,Od="2.1.8"),Od}var Ld,R_;function Zq(){return R_||(R_=1,Ld={Graph:Dg(),version:Qq()}),Ld}var zd,I_;function Jq(){if(I_)return zd;I_=1;var e=jt(),t=Dg();zd={write:n,read:o};function n(s){var a={options:{directed:s.isDirected(),multigraph:s.isMultigraph(),compound:s.isCompound()},nodes:r(s),edges:i(s)};return e.isUndefined(s.graph())||(a.value=e.clone(s.graph())),a}function r(s){return e.map(s.nodes(),function(a){var l=s.node(a),u=s.parent(a),c={v:a};return e.isUndefined(l)||(c.value=l),e.isUndefined(u)||(c.parent=u),c})}function i(s){return e.map(s.edges(),function(a){var l=s.edge(a),u={v:a.v,w:a.w};return e.isUndefined(a.name)||(u.name=a.name),e.isUndefined(l)||(u.value=l),u})}function o(s){var a=new t(s.options).setGraph(s.value);return e.each(s.nodes,function(l){a.setNode(l.v,l.value),l.parent&&a.setParent(l.v,l.parent)}),e.each(s.edges,function(l){a.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),a}return zd}var Dd,P_;function eO(){if(P_)return Dd;P_=1;var e=jt();Dd=t;function t(n){var r={},i=[],o;function s(a){e.has(r,a)||(r[a]=!0,o.push(a),e.each(n.successors(a),s),e.each(n.predecessors(a),s))}return e.each(n.nodes(),function(a){o=[],s(a),o.length&&i.push(o)}),i}return Dd}var Fd,A_;function Ok(){if(A_)return Fd;A_=1;var e=jt();Fd=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,r){var i=this._keyIndices;if(n=String(n),!e.has(i,n)){var o=this._arr,s=o.length;return i[n]=s,o.push({key:n,priority:r}),this._decrease(s),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)},t.prototype._heapify=function(n){var r=this._arr,i=2*n,o=i+1,s=n;i<r.length&&(s=r[i].priority<r[s].priority?i:s,o<r.length&&(s=r[o].priority<r[s].priority?o:s),s!==n&&(this._swap(n,s),this._heapify(s)))},t.prototype._decrease=function(n){for(var r=this._arr,i=r[n].priority,o;n!==0&&(o=n>>1,!(r[o].priority<i));)this._swap(n,o),n=o},t.prototype._swap=function(n,r){var i=this._arr,o=this._keyIndices,s=i[n],a=i[r];i[n]=a,i[r]=s,o[a.key]=n,o[s.key]=r},Fd}var $d,M_;function Lk(){if(M_)return $d;M_=1;var e=jt(),t=Ok();$d=r;var n=e.constant(1);function r(o,s,a,l){return i(o,String(s),a||n,l||function(u){return o.outEdges(u)})}function i(o,s,a,l){var u={},c=new t,f,d,h=function(y){var v=y.v!==f?y.v:y.w,w=u[v],m=a(y),g=d.distance+m;if(m<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+y+" Weight: "+m);g<w.distance&&(w.distance=g,w.predecessor=f,c.decrease(v,g))};for(o.nodes().forEach(function(y){var v=y===s?0:Number.POSITIVE_INFINITY;u[y]={distance:v},c.add(y,v)});c.size()>0&&(f=c.removeMin(),d=u[f],d.distance!==Number.POSITIVE_INFINITY);)l(f).forEach(h);return u}return $d}var Bd,q_;function tO(){if(q_)return Bd;q_=1;var e=Lk(),t=jt();Bd=n;function n(r,i,o){return t.transform(r.nodes(),function(s,a){s[a]=e(r,a,i,o)},{})}return Bd}var Hd,O_;function zk(){if(O_)return Hd;O_=1;var e=jt();Hd=t;function t(n){var r=0,i=[],o={},s=[];function a(l){var u=o[l]={onStack:!0,lowlink:r,index:r++};if(i.push(l),n.successors(l).forEach(function(d){e.has(o,d)?o[d].onStack&&(u.lowlink=Math.min(u.lowlink,o[d].index)):(a(d),u.lowlink=Math.min(u.lowlink,o[d].lowlink))}),u.lowlink===u.index){var c=[],f;do f=i.pop(),o[f].onStack=!1,c.push(f);while(l!==f);s.push(c)}}return n.nodes().forEach(function(l){e.has(o,l)||a(l)}),s}return Hd}var Vd,L_;function nO(){if(L_)return Vd;L_=1;var e=jt(),t=zk();Vd=n;function n(r){return e.filter(t(r),function(i){return i.length>1||i.length===1&&r.hasEdge(i[0],i[0])})}return Vd}var Ud,z_;function rO(){if(z_)return Ud;z_=1;var e=jt();Ud=n;var t=e.constant(1);function n(i,o,s){return r(i,o||t,s||function(a){return i.outEdges(a)})}function r(i,o,s){var a={},l=i.nodes();return l.forEach(function(u){a[u]={},a[u][u]={distance:0},l.forEach(function(c){u!==c&&(a[u][c]={distance:Number.POSITIVE_INFINITY})}),s(u).forEach(function(c){var f=c.v===u?c.w:c.v,d=o(c);a[u][f]={distance:d,predecessor:u}})}),l.forEach(function(u){var c=a[u];l.forEach(function(f){var d=a[f];l.forEach(function(h){var y=d[u],v=c[h],w=d[h],m=y.distance+v.distance;m<w.distance&&(w.distance=m,w.predecessor=v.predecessor)})})}),a}return Ud}var Wd,D_;function Dk(){if(D_)return Wd;D_=1;var e=jt();Wd=t,t.CycleException=n;function t(r){var i={},o={},s=[];function a(l){if(e.has(o,l))throw new n;e.has(i,l)||(o[l]=!0,i[l]=!0,e.each(r.predecessors(l),a),delete o[l],s.push(l))}if(e.each(r.sinks(),a),e.size(i)!==r.nodeCount())throw new n;return s}function n(){}return n.prototype=new Error,Wd}var Gd,F_;function iO(){if(F_)return Gd;F_=1;var e=Dk();Gd=t;function t(n){try{e(n)}catch(r){if(r instanceof e.CycleException)return!1;throw r}return!0}return Gd}var Kd,$_;function Fk(){if($_)return Kd;$_=1;var e=jt();Kd=t;function t(r,i,o){e.isArray(i)||(i=[i]);var s=(r.isDirected()?r.successors:r.neighbors).bind(r),a=[],l={};return e.each(i,function(u){if(!r.hasNode(u))throw new Error("Graph does not have node: "+u);n(r,u,o==="post",l,s,a)}),a}function n(r,i,o,s,a,l){e.has(s,i)||(s[i]=!0,o||l.push(i),e.each(a(i),function(u){n(r,u,o,s,a,l)}),o&&l.push(i))}return Kd}var Yd,B_;function oO(){if(B_)return Yd;B_=1;var e=Fk();Yd=t;function t(n,r){return e(n,r,"post")}return Yd}var Xd,H_;function sO(){if(H_)return Xd;H_=1;var e=Fk();Xd=t;function t(n,r){return e(n,r,"pre")}return Xd}var Qd,V_;function aO(){if(V_)return Qd;V_=1;var e=jt(),t=Dg(),n=Ok();Qd=r;function r(i,o){var s=new t,a={},l=new n,u;function c(d){var h=d.v===u?d.w:d.v,y=l.priority(h);if(y!==void 0){var v=o(d);v<y&&(a[h]=u,l.decrease(h,v))}}if(i.nodeCount()===0)return s;e.each(i.nodes(),function(d){l.add(d,Number.POSITIVE_INFINITY),s.setNode(d)}),l.decrease(i.nodes()[0],0);for(var f=!1;l.size()>0;){if(u=l.removeMin(),e.has(a,u))s.setEdge(u,a[u]);else{if(f)throw new Error("Input graph is not connected: "+i);f=!0}i.nodeEdges(u).forEach(c)}return s}return Qd}var Zd,U_;function lO(){return U_||(U_=1,Zd={components:eO(),dijkstra:Lk(),dijkstraAll:tO(),findCycles:nO(),floydWarshall:rO(),isAcyclic:iO(),postorder:oO(),preorder:sO(),prim:aO(),tarjan:zk(),topsort:Dk()}),Zd}var Jd,W_;function uO(){if(W_)return Jd;W_=1;var e=Zq();return Jd={Graph:e.Graph,json:Jq(),alg:lO(),version:e.version},Jd}var Ea;if(typeof Sg=="function")try{Ea=uO()}catch{}Ea||(Ea=window.graphlib);var Ht=Ea,eh,G_;function cO(){if(G_)return eh;G_=1;var e=fk(),t=1,n=4;function r(i){return e(i,t|n)}return eh=r,eh}var th,K_;function pl(){if(K_)return th;K_=1;var e=Ei(),t=Cn(),n=ol(),r=Ct();function i(o,s,a){if(!r(a))return!1;var l=typeof s;return(l=="number"?t(a)&&n(s,a.length):l=="string"&&s in a)?e(a[s],o):!1}return th=i,th}var nh,Y_;function fO(){if(Y_)return nh;Y_=1;var e=hl(),t=Ei(),n=pl(),r=Mr(),i=Object.prototype,o=i.hasOwnProperty,s=e(function(a,l){a=Object(a);var u=-1,c=l.length,f=c>2?l[2]:void 0;for(f&&n(l[0],l[1],f)&&(c=1);++u<c;)for(var d=l[u],h=r(d),y=-1,v=h.length;++y<v;){var w=h[y],m=a[w];(m===void 0||t(m,i[w])&&!o.call(a,w))&&(a[w]=d[w])}return a});return nh=s,nh}var rh,X_;function dO(){if(X_)return rh;X_=1;var e=jn(),t=Cn(),n=ar();function r(i){return function(o,s,a){var l=Object(o);if(!t(o)){var u=e(s,3);o=n(o),s=function(f){return u(l[f],f,l)}}var c=i(o,s,a);return c>-1?l[u?o[c]:c]:void 0}}return rh=r,rh}var ih,Q_;function hO(){if(Q_)return ih;Q_=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return ih=t,ih}var oh,Z_;function pO(){if(Z_)return oh;Z_=1;var e=hO(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return oh=n,oh}var sh,J_;function mO(){if(J_)return sh;J_=1;var e=pO(),t=Ct(),n=ji(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt;function l(u){if(typeof u=="number")return u;if(n(u))return r;if(t(u)){var c=typeof u.valueOf=="function"?u.valueOf():u;u=t(c)?c+"":c}if(typeof u!="string")return u===0?u:+u;u=e(u);var f=o.test(u);return f||s.test(u)?a(u.slice(2),f?2:8):i.test(u)?r:+u}return sh=l,sh}var ah,ew;function $k(){if(ew)return ah;ew=1;var e=mO(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var o=i<0?-1:1;return o*n}return i===i?i:0}return ah=r,ah}var lh,tw;function gO(){if(tw)return lh;tw=1;var e=$k();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return lh=t,lh}var uh,nw;function vO(){if(nw)return uh;nw=1;var e=Ak(),t=jn(),n=gO(),r=Math.max;function i(o,s,a){var l=o==null?0:o.length;if(!l)return-1;var u=a==null?0:n(a);return u<0&&(u=r(l+u,0)),e(o,t(s,3),u)}return uh=i,uh}var ch,rw;function yO(){if(rw)return ch;rw=1;var e=dO(),t=vO(),n=e(t);return ch=n,ch}var fh,iw;function Bk(){if(iw)return fh;iw=1;var e=zg();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return fh=t,fh}var dh,ow;function xO(){if(ow)return dh;ow=1;var e=Mg(),t=dk(),n=Mr();function r(i,o){return i==null?i:e(i,t(o),n)}return dh=r,dh}var hh,sw;function _O(){if(sw)return hh;sw=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return hh=e,hh}var ph,aw;function wO(){if(aw)return ph;aw=1;var e=rl(),t=qg(),n=jn();function r(i,o){var s={};return o=n(o,3),t(i,function(a,l,u){e(s,l,o(a,l,u))}),s}return ph=r,ph}var mh,lw;function Fg(){if(lw)return mh;lw=1;var e=ji();function t(n,r,i){for(var o=-1,s=n.length;++o<s;){var a=n[o],l=r(a);if(l!=null&&(u===void 0?l===l&&!e(l):i(l,u)))var u=l,c=a}return c}return mh=t,mh}var gh,uw;function bO(){if(uw)return gh;uw=1;function e(t,n){return t>n}return gh=e,gh}var vh,cw;function SO(){if(cw)return vh;cw=1;var e=Fg(),t=bO(),n=qr();function r(i){return i&&i.length?e(i,n,t):void 0}return vh=r,vh}var yh,fw;function Hk(){if(fw)return yh;fw=1;var e=rl(),t=Ei();function n(r,i,o){(o!==void 0&&!t(r[i],o)||o===void 0&&!(i in r))&&e(r,i,o)}return yh=n,yh}var xh,dw;function EO(){if(dw)return xh;dw=1;var e=Pr(),t=ll(),n=rn(),r="[object Object]",i=Function.prototype,o=Object.prototype,s=i.toString,a=o.hasOwnProperty,l=s.call(Object);function u(c){if(!n(c)||e(c)!=r)return!1;var f=t(c);if(f===null)return!0;var d=a.call(f,"constructor")&&f.constructor;return typeof d=="function"&&d instanceof d&&s.call(d)==l}return xh=u,xh}var _h,hw;function Vk(){if(hw)return _h;hw=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return _h=e,_h}var wh,pw;function kO(){if(pw)return wh;pw=1;var e=Ko(),t=Mr();function n(r){return e(r,t(r))}return wh=n,wh}var bh,mw;function NO(){if(mw)return bh;mw=1;var e=Hk(),t=J2(),n=lk(),r=ek(),i=ck(),o=Yo(),s=ke(),a=Mk(),l=Ni(),u=Go(),c=Ct(),f=EO(),d=Xo(),h=Vk(),y=kO();function v(w,m,g,x,_,E,S){var N=h(w,g),T=h(m,g),R=S.get(T);if(R){e(w,g,R);return}var M=E?E(N,T,g+"",w,m,S):void 0,q=M===void 0;if(q){var F=s(T),D=!F&&l(T),b=!F&&!D&&d(T);M=T,F||D||b?s(N)?M=N:a(N)?M=r(N):D?(q=!1,M=t(T,!0)):b?(q=!1,M=n(T,!0)):M=[]:f(T)||o(T)?(M=N,o(N)?M=y(N):(!c(N)||u(N))&&(M=i(T))):q=!1}q&&(S.set(T,M),_(M,T,x,E,S),S.delete(T)),e(w,g,M)}return bh=v,bh}var Sh,gw;function CO(){if(gw)return Sh;gw=1;var e=nl(),t=Hk(),n=Mg(),r=NO(),i=Ct(),o=Mr(),s=Vk();function a(l,u,c,f,d){l!==u&&n(u,function(h,y){if(d||(d=new e),i(h))r(l,u,y,c,a,f,d);else{var v=f?f(s(l,y),h,y+"",l,u,d):void 0;v===void 0&&(v=h),t(l,y,v)}},o)}return Sh=a,Sh}var Eh,vw;function jO(){if(vw)return Eh;vw=1;var e=hl(),t=pl();function n(r){return e(function(i,o){var s=-1,a=o.length,l=a>1?o[a-1]:void 0,u=a>2?o[2]:void 0;for(l=r.length>3&&typeof l=="function"?(a--,l):void 0,u&&t(o[0],o[1],u)&&(l=a<3?void 0:l,a=1),i=Object(i);++s<a;){var c=o[s];c&&r(i,c,s,l)}return i})}return Eh=n,Eh}var kh,yw;function TO(){if(yw)return kh;yw=1;var e=CO(),t=jO(),n=t(function(r,i,o){e(r,i,o)});return kh=n,kh}var Nh,xw;function Uk(){if(xw)return Nh;xw=1;function e(t,n){return t<n}return Nh=e,Nh}var Ch,_w;function RO(){if(_w)return Ch;_w=1;var e=Fg(),t=Uk(),n=qr();function r(i){return i&&i.length?e(i,n,t):void 0}return Ch=r,Ch}var jh,ww;function IO(){if(ww)return jh;ww=1;var e=Fg(),t=jn(),n=Uk();function r(i,o){return i&&i.length?e(i,t(o,2),n):void 0}return jh=r,jh}var Th,bw;function PO(){if(bw)return Th;bw=1;var e=Bt(),t=function(){return e.Date.now()};return Th=t,Th}var Rh,Sw;function AO(){if(Sw)return Rh;Sw=1;var e=il(),t=fl(),n=ol(),r=Ct(),i=Qo();function o(s,a,l,u){if(!r(s))return s;a=t(a,s);for(var c=-1,f=a.length,d=f-1,h=s;h!=null&&++c<f;){var y=i(a[c]),v=l;if(y==="__proto__"||y==="constructor"||y==="prototype")return s;if(c!=d){var w=h[y];v=u?u(w,y,h):void 0,v===void 0&&(v=r(w)?w:n(a[c+1])?[]:{})}e(h,y,v),h=h[y]}return s}return Rh=o,Rh}var Ih,Ew;function MO(){if(Ew)return Ih;Ew=1;var e=dl(),t=AO(),n=fl();function r(i,o,s){for(var a=-1,l=o.length,u={};++a<l;){var c=o[a],f=e(i,c);s(f,c)&&t(u,n(c,i),f)}return u}return Ih=r,Ih}var Ph,kw;function qO(){if(kw)return Ph;kw=1;var e=MO(),t=Sk();function n(r,i){return e(r,i,function(o,s){return t(r,s)})}return Ph=n,Ph}var Ah,Nw;function OO(){if(Nw)return Ah;Nw=1;var e=Bk(),t=Ik(),n=Pk();function r(i){return n(t(i,void 0,e),i+"")}return Ah=r,Ah}var Mh,Cw;function LO(){if(Cw)return Mh;Cw=1;var e=qO(),t=OO(),n=t(function(r,i){return r==null?{}:e(r,i)});return Mh=n,Mh}var qh,jw;function zO(){if(jw)return qh;jw=1;var e=Math.ceil,t=Math.max;function n(r,i,o,s){for(var a=-1,l=t(e((i-r)/(o||1)),0),u=Array(l);l--;)u[s?l:++a]=r,r+=o;return u}return qh=n,qh}var Oh,Tw;function DO(){if(Tw)return Oh;Tw=1;var e=zO(),t=pl(),n=$k();function r(i){return function(o,s,a){return a&&typeof a!="number"&&t(o,s,a)&&(s=a=void 0),o=n(o),s===void 0?(s=o,o=0):s=n(s),a=a===void 0?o<s?1:-1:n(a),e(o,s,a,i)}}return Oh=r,Oh}var Lh,Rw;function FO(){if(Rw)return Lh;Rw=1;var e=DO(),t=e();return Lh=t,Lh}var zh,Iw;function $O(){if(Iw)return zh;Iw=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return zh=e,zh}var Dh,Pw;function BO(){if(Pw)return Dh;Pw=1;var e=ji();function t(n,r){if(n!==r){var i=n!==void 0,o=n===null,s=n===n,a=e(n),l=r!==void 0,u=r===null,c=r===r,f=e(r);if(!u&&!f&&!a&&n>r||a&&l&&c&&!u&&!f||o&&l&&c||!i&&c||!s)return 1;if(!o&&!a&&!f&&n<r||f&&i&&s&&!o&&!a||u&&i&&s||!l&&s||!c)return-1}return 0}return Dh=t,Dh}var Fh,Aw;function HO(){if(Aw)return Fh;Aw=1;var e=BO();function t(n,r,i){for(var o=-1,s=n.criteria,a=r.criteria,l=s.length,u=i.length;++o<l;){var c=e(s[o],a[o]);if(c){if(o>=u)return c;var f=i[o];return c*(f=="desc"?-1:1)}}return n.index-r.index}return Fh=t,Fh}var $h,Mw;function VO(){if(Mw)return $h;Mw=1;var e=cl(),t=dl(),n=jn(),r=jk(),i=$O(),o=sl(),s=HO(),a=qr(),l=ke();function u(c,f,d){f.length?f=e(f,function(v){return l(v)?function(w){return t(w,v.length===1?v[0]:v)}:v}):f=[a];var h=-1;f=e(f,o(n));var y=r(c,function(v,w,m){var g=e(f,function(x){return x(v)});return{criteria:g,index:++h,value:v}});return i(y,function(v,w){return s(v,w,d)})}return $h=u,$h}var Bh,qw;function UO(){if(qw)return Bh;qw=1;var e=zg(),t=VO(),n=hl(),r=pl(),i=n(function(o,s){if(o==null)return[];var a=s.length;return a>1&&r(o,s[0],s[1])?s=[]:a>2&&r(s[0],s[1],s[2])&&(s=[s[0]]),t(o,e(s,1),[])});return Bh=i,Bh}var Hh,Ow;function WO(){if(Ow)return Hh;Ow=1;var e=wk(),t=0;function n(r){var i=++t;return e(r)+i}return Hh=n,Hh}var Vh,Lw;function GO(){if(Lw)return Vh;Lw=1;function e(t,n,r){for(var i=-1,o=t.length,s=n.length,a={};++i<o;){var l=i<s?n[i]:void 0;r(a,t[i],l)}return a}return Vh=e,Vh}var Uh,zw;function KO(){if(zw)return Uh;zw=1;var e=il(),t=GO();function n(r,i){return t(r||[],i||[],e)}return Uh=n,Uh}var ka;if(typeof Sg=="function")try{ka={cloneDeep:cO(),constant:Ag(),defaults:fO(),each:pk(),filter:kk(),find:yO(),flatten:Bk(),forEach:hk(),forIn:xO(),has:Nk(),isUndefined:Ck(),last:_O(),map:Tk(),mapValues:wO(),max:SO(),merge:TO(),min:RO(),minBy:IO(),now:PO(),pick:LO(),range:FO(),reduce:Rk(),sortBy:UO(),uniqueId:WO(),values:qk(),zipObject:KO()}}catch{}ka||(ka=window._);var pe=ka,YO=ml;function ml(){var e={};e._next=e._prev=e,this._sentinel=e}ml.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return Wk(t),t};ml.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&Wk(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};ml.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,XO)),n=n._prev;return"["+e.join(", ")+"]"};function Wk(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function XO(e,t){if(e!=="_next"&&e!=="_prev")return t}var mn=pe,QO=Ht.Graph,ZO=YO,JO=t5,e5=mn.constant(1);function t5(e,t){if(e.nodeCount()<=1)return[];var n=r5(e,t||e5),r=n5(n.graph,n.buckets,n.zeroIdx);return mn.flatten(mn.map(r,function(i){return e.outEdges(i.v,i.w)}),!0)}function n5(e,t,n){for(var r=[],i=t[t.length-1],o=t[0],s;e.nodeCount();){for(;s=o.dequeue();)Wh(e,t,n,s);for(;s=i.dequeue();)Wh(e,t,n,s);if(e.nodeCount()){for(var a=t.length-2;a>0;--a)if(s=t[a].dequeue(),s){r=r.concat(Wh(e,t,n,s,!0));break}}}return r}function Wh(e,t,n,r,i){var o=i?[]:void 0;return mn.forEach(e.inEdges(r.v),function(s){var a=e.edge(s),l=e.node(s.v);i&&o.push({v:s.v,w:s.w}),l.out-=a,am(t,n,l)}),mn.forEach(e.outEdges(r.v),function(s){var a=e.edge(s),l=s.w,u=e.node(l);u.in-=a,am(t,n,u)}),e.removeNode(r.v),o}function r5(e,t){var n=new QO,r=0,i=0;mn.forEach(e.nodes(),function(a){n.setNode(a,{v:a,in:0,out:0})}),mn.forEach(e.edges(),function(a){var l=n.edge(a.v,a.w)||0,u=t(a),c=l+u;n.setEdge(a.v,a.w,c),i=Math.max(i,n.node(a.v).out+=u),r=Math.max(r,n.node(a.w).in+=u)});var o=mn.range(i+r+3).map(function(){return new ZO}),s=r+1;return mn.forEach(n.nodes(),function(a){am(o,s,n.node(a))}),{graph:n,buckets:o,zeroIdx:s}}function am(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var yr=pe,i5=JO,o5={run:s5,undo:l5};function s5(e){var t=e.graph().acyclicer==="greedy"?i5(e,n(e)):a5(e);yr.forEach(t,function(r){var i=e.edge(r);e.removeEdge(r),i.forwardName=r.name,i.reversed=!0,e.setEdge(r.w,r.v,i,yr.uniqueId("rev"))});function n(r){return function(i){return r.edge(i).weight}}}function a5(e){var t=[],n={},r={};function i(o){yr.has(r,o)||(r[o]=!0,n[o]=!0,yr.forEach(e.outEdges(o),function(s){yr.has(n,s.w)?t.push(s):i(s.w)}),delete n[o])}return yr.forEach(e.nodes(),i),t}function l5(e){yr.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}var ae=pe,Gk=Ht.Graph,lt={addDummyNode:Kk,simplify:u5,asNonCompoundGraph:c5,successorWeights:f5,predecessorWeights:d5,intersectRect:h5,buildLayerMatrix:p5,normalizeRanks:m5,removeEmptyRanks:g5,addBorderNode:v5,maxRank:Yk,partition:y5,time:x5,notime:_5};function Kk(e,t,n,r){var i;do i=ae.uniqueId(r);while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function u5(e){var t=new Gk().setGraph(e.graph());return ae.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),ae.forEach(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),t}function c5(e){var t=new Gk({multigraph:e.isMultigraph()}).setGraph(e.graph());return ae.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),ae.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t}function f5(e){var t=ae.map(e.nodes(),function(n){var r={};return ae.forEach(e.outEdges(n),function(i){r[i.w]=(r[i.w]||0)+e.edge(i).weight}),r});return ae.zipObject(e.nodes(),t)}function d5(e){var t=ae.map(e.nodes(),function(n){var r={};return ae.forEach(e.inEdges(n),function(i){r[i.v]=(r[i.v]||0)+e.edge(i).weight}),r});return ae.zipObject(e.nodes(),t)}function h5(e,t){var n=e.x,r=e.y,i=t.x-n,o=t.y-r,s=e.width/2,a=e.height/2;if(!i&&!o)throw new Error("Not possible to find intersection inside of the rectangle");var l,u;return Math.abs(o)*s>Math.abs(i)*a?(o<0&&(a=-a),l=a*i/o,u=a):(i<0&&(s=-s),l=s,u=s*o/i),{x:n+l,y:r+u}}function p5(e){var t=ae.map(ae.range(Yk(e)+1),function(){return[]});return ae.forEach(e.nodes(),function(n){var r=e.node(n),i=r.rank;ae.isUndefined(i)||(t[i][r.order]=n)}),t}function m5(e){var t=ae.min(ae.map(e.nodes(),function(n){return e.node(n).rank}));ae.forEach(e.nodes(),function(n){var r=e.node(n);ae.has(r,"rank")&&(r.rank-=t)})}function g5(e){var t=ae.min(ae.map(e.nodes(),function(o){return e.node(o).rank})),n=[];ae.forEach(e.nodes(),function(o){var s=e.node(o).rank-t;n[s]||(n[s]=[]),n[s].push(o)});var r=0,i=e.graph().nodeRankFactor;ae.forEach(n,function(o,s){ae.isUndefined(o)&&s%i!==0?--r:r&&ae.forEach(o,function(a){e.node(a).rank+=r})})}function v5(e,t,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),Kk(e,"border",i,t)}function Yk(e){return ae.max(ae.map(e.nodes(),function(t){var n=e.node(t).rank;if(!ae.isUndefined(n))return n}))}function y5(e,t){var n={lhs:[],rhs:[]};return ae.forEach(e,function(r){t(r)?n.lhs.push(r):n.rhs.push(r)}),n}function x5(e,t){var n=ae.now();try{return t()}finally{console.log(e+" time: "+(ae.now()-n)+"ms")}}function _5(e,t){return t()}var Xk=pe,w5=lt,b5={run:S5,undo:k5};function S5(e){e.graph().dummyChains=[],Xk.forEach(e.edges(),function(t){E5(e,t)})}function E5(e,t){var n=t.v,r=e.node(n).rank,i=t.w,o=e.node(i).rank,s=t.name,a=e.edge(t),l=a.labelRank;if(o!==r+1){e.removeEdge(t);var u,c,f;for(f=0,++r;r<o;++f,++r)a.points=[],c={width:0,height:0,edgeLabel:a,edgeObj:t,rank:r},u=w5.addDummyNode(e,"edge",c,"_d"),r===l&&(c.width=a.width,c.height=a.height,c.dummy="edge-label",c.labelpos=a.labelpos),e.setEdge(n,u,{weight:a.weight},s),f===0&&e.graph().dummyChains.push(u),n=u;e.setEdge(n,i,{weight:a.weight},s)}}function k5(e){Xk.forEach(e.graph().dummyChains,function(t){var n=e.node(t),r=n.edgeLabel,i;for(e.setEdge(n.edgeObj,r);n.dummy;)i=e.successors(t)[0],e.removeNode(t),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),t=i,n=e.node(t)})}var Ns=pe,gl={longestPath:N5,slack:C5};function N5(e){var t={};function n(r){var i=e.node(r);if(Ns.has(t,r))return i.rank;t[r]=!0;var o=Ns.min(Ns.map(e.outEdges(r),function(s){return n(s.w)-e.edge(s).minlen}));return(o===Number.POSITIVE_INFINITY||o===void 0||o===null)&&(o=0),i.rank=o}Ns.forEach(e.sources(),n)}function C5(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var Na=pe,j5=Ht.Graph,Ca=gl.slack,Qk=T5;function T5(e){var t=new j5({directed:!1}),n=e.nodes()[0],r=e.nodeCount();t.setNode(n,{});for(var i,o;R5(t,e)<r;)i=I5(t,e),o=t.hasNode(i.v)?Ca(e,i):-Ca(e,i),P5(t,e,o);return t}function R5(e,t){function n(r){Na.forEach(t.nodeEdges(r),function(i){var o=i.v,s=r===o?i.w:o;!e.hasNode(s)&&!Ca(t,i)&&(e.setNode(s,{}),e.setEdge(r,s,{}),n(s))})}return Na.forEach(e.nodes(),n),e.nodeCount()}function I5(e,t){return Na.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return Ca(t,n)})}function P5(e,t,n){Na.forEach(e.nodes(),function(r){t.node(r).rank+=n})}var kn=pe,A5=Qk,M5=gl.slack,q5=gl.longestPath,O5=Ht.alg.preorder,L5=Ht.alg.postorder,z5=lt.simplify,D5=Or;Or.initLowLimValues=Bg;Or.initCutValues=$g;Or.calcCutValue=Zk;Or.leaveEdge=eN;Or.enterEdge=tN;Or.exchangeEdges=nN;function Or(e){e=z5(e),q5(e);var t=A5(e);Bg(t),$g(t,e);for(var n,r;n=eN(t);)r=tN(t,e,n),nN(t,e,n,r)}function $g(e,t){var n=L5(e,e.nodes());n=n.slice(0,n.length-1),kn.forEach(n,function(r){F5(e,t,r)})}function F5(e,t,n){var r=e.node(n),i=r.parent;e.edge(n,i).cutvalue=Zk(e,t,n)}function Zk(e,t,n){var r=e.node(n),i=r.parent,o=!0,s=t.edge(n,i),a=0;return s||(o=!1,s=t.edge(i,n)),a=s.weight,kn.forEach(t.nodeEdges(n),function(l){var u=l.v===n,c=u?l.w:l.v;if(c!==i){var f=u===o,d=t.edge(l).weight;if(a+=f?d:-d,B5(e,n,c)){var h=e.edge(n,c).cutvalue;a+=f?-h:h}}}),a}function Bg(e,t){arguments.length<2&&(t=e.nodes()[0]),Jk(e,{},1,t)}function Jk(e,t,n,r,i){var o=n,s=e.node(r);return t[r]=!0,kn.forEach(e.neighbors(r),function(a){kn.has(t,a)||(n=Jk(e,t,n,a,r))}),s.low=o,s.lim=n++,i?s.parent=i:delete s.parent,n}function eN(e){return kn.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function tN(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var o=e.node(r),s=e.node(i),a=o,l=!1;o.lim>s.lim&&(a=s,l=!0);var u=kn.filter(t.edges(),function(c){return l===Dw(e,e.node(c.v),a)&&l!==Dw(e,e.node(c.w),a)});return kn.minBy(u,function(c){return M5(t,c)})}function nN(e,t,n,r){var i=n.v,o=n.w;e.removeEdge(i,o),e.setEdge(r.v,r.w,{}),Bg(e),$g(e,t),$5(e,t)}function $5(e,t){var n=kn.find(e.nodes(),function(i){return!t.node(i).parent}),r=O5(e,n);r=r.slice(1),kn.forEach(r,function(i){var o=e.node(i).parent,s=t.edge(i,o),a=!1;s||(s=t.edge(o,i),a=!0),t.node(i).rank=t.node(o).rank+(a?s.minlen:-s.minlen)})}function B5(e,t,n){return e.hasEdge(t,n)}function Dw(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}var H5=gl,rN=H5.longestPath,V5=Qk,U5=D5,W5=G5;function G5(e){switch(e.graph().ranker){case"network-simplex":Fw(e);break;case"tight-tree":Y5(e);break;case"longest-path":K5(e);break;default:Fw(e)}}var K5=rN;function Y5(e){rN(e),V5(e)}function Fw(e){U5(e)}var lm=pe,X5=Q5;function Q5(e){var t=J5(e);lm.forEach(e.graph().dummyChains,function(n){for(var r=e.node(n),i=r.edgeObj,o=Z5(e,t,i.v,i.w),s=o.path,a=o.lca,l=0,u=s[l],c=!0;n!==i.w;){if(r=e.node(n),c){for(;(u=s[l])!==a&&e.node(u).maxRank<r.rank;)l++;u===a&&(c=!1)}if(!c){for(;l<s.length-1&&e.node(u=s[l+1]).minRank<=r.rank;)l++;u=s[l]}e.setParent(n,u),n=e.successors(n)[0]}})}function Z5(e,t,n,r){var i=[],o=[],s=Math.min(t[n].low,t[r].low),a=Math.max(t[n].lim,t[r].lim),l,u;l=n;do l=e.parent(l),i.push(l);while(l&&(t[l].low>s||a>t[l].lim));for(u=l,l=r;(l=e.parent(l))!==u;)o.push(l);return{path:i.concat(o.reverse()),lca:u}}function J5(e){var t={},n=0;function r(i){var o=n;lm.forEach(e.children(i),r),t[i]={low:o,lim:n++}}return lm.forEach(e.children(),r),t}var gn=pe,um=lt,eL={run:tL,cleanup:iL};function tL(e){var t=um.addDummyNode(e,"root",{},"_root"),n=nL(e),r=gn.max(gn.values(n))-1,i=2*r+1;e.graph().nestingRoot=t,gn.forEach(e.edges(),function(s){e.edge(s).minlen*=i});var o=rL(e)+1;gn.forEach(e.children(),function(s){iN(e,t,i,o,r,n,s)}),e.graph().nodeRankFactor=i}function iN(e,t,n,r,i,o,s){var a=e.children(s);if(!a.length){s!==t&&e.setEdge(t,s,{weight:0,minlen:n});return}var l=um.addBorderNode(e,"_bt"),u=um.addBorderNode(e,"_bb"),c=e.node(s);e.setParent(l,s),c.borderTop=l,e.setParent(u,s),c.borderBottom=u,gn.forEach(a,function(f){iN(e,t,n,r,i,o,f);var d=e.node(f),h=d.borderTop?d.borderTop:f,y=d.borderBottom?d.borderBottom:f,v=d.borderTop?r:2*r,w=h!==y?1:i-o[s]+1;e.setEdge(l,h,{weight:v,minlen:w,nestingEdge:!0}),e.setEdge(y,u,{weight:v,minlen:w,nestingEdge:!0})}),e.parent(s)||e.setEdge(t,l,{weight:0,minlen:i+o[s]})}function nL(e){var t={};function n(r,i){var o=e.children(r);o&&o.length&&gn.forEach(o,function(s){n(s,i+1)}),t[r]=i}return gn.forEach(e.children(),function(r){n(r,1)}),t}function rL(e){return gn.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}function iL(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,gn.forEach(e.edges(),function(n){var r=e.edge(n);r.nestingEdge&&e.removeEdge(n)})}var Gh=pe,oL=lt,sL=aL;function aL(e){function t(n){var r=e.children(n),i=e.node(n);if(r.length&&Gh.forEach(r,t),Gh.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,s=i.maxRank+1;o<s;++o)$w(e,"borderLeft","_bl",n,i,o),$w(e,"borderRight","_br",n,i,o)}}Gh.forEach(e.children(),t)}function $w(e,t,n,r,i,o){var s={width:0,height:0,rank:o,borderType:t},a=i[t][o-1],l=oL.addDummyNode(e,"border",s,n);i[t][o]=l,e.setParent(l,r),a&&e.setEdge(a,l,{weight:1})}var Zt=pe,lL={adjust:uL,undo:cL};function uL(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&oN(e)}function cL(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&fL(e),(t==="lr"||t==="rl")&&(dL(e),oN(e))}function oN(e){Zt.forEach(e.nodes(),function(t){Bw(e.node(t))}),Zt.forEach(e.edges(),function(t){Bw(e.edge(t))})}function Bw(e){var t=e.width;e.width=e.height,e.height=t}function fL(e){Zt.forEach(e.nodes(),function(t){Kh(e.node(t))}),Zt.forEach(e.edges(),function(t){var n=e.edge(t);Zt.forEach(n.points,Kh),Zt.has(n,"y")&&Kh(n)})}function Kh(e){e.y=-e.y}function dL(e){Zt.forEach(e.nodes(),function(t){Yh(e.node(t))}),Zt.forEach(e.edges(),function(t){var n=e.edge(t);Zt.forEach(n.points,Yh),Zt.has(n,"x")&&Yh(n)})}function Yh(e){var t=e.x;e.x=e.y,e.y=t}var un=pe,hL=pL;function pL(e){var t={},n=un.filter(e.nodes(),function(a){return!e.children(a).length}),r=un.max(un.map(n,function(a){return e.node(a).rank})),i=un.map(un.range(r+1),function(){return[]});function o(a){if(!un.has(t,a)){t[a]=!0;var l=e.node(a);i[l.rank].push(a),un.forEach(e.successors(a),o)}}var s=un.sortBy(n,function(a){return e.node(a).rank});return un.forEach(s,o),i}var Pn=pe,mL=gL;function gL(e,t){for(var n=0,r=1;r<t.length;++r)n+=vL(e,t[r-1],t[r]);return n}function vL(e,t,n){for(var r=Pn.zipObject(n,Pn.map(n,function(u,c){return c})),i=Pn.flatten(Pn.map(t,function(u){return Pn.sortBy(Pn.map(e.outEdges(u),function(c){return{pos:r[c.w],weight:e.edge(c).weight}}),"pos")}),!0),o=1;o<n.length;)o<<=1;var s=2*o-1;o-=1;var a=Pn.map(new Array(s),function(){return 0}),l=0;return Pn.forEach(i.forEach(function(u){var c=u.pos+o;a[c]+=u.weight;for(var f=0;c>0;)c%2&&(f+=a[c+1]),c=c-1>>1,a[c]+=u.weight;l+=u.weight*f})),l}var Hw=pe,yL=xL;function xL(e,t){return Hw.map(t,function(n){var r=e.inEdges(n);if(r.length){var i=Hw.reduce(r,function(o,s){var a=e.edge(s),l=e.node(s.v);return{sum:o.sum+a.weight*l.order,weight:o.weight+a.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:n}})}var dt=pe,_L=wL;function wL(e,t){var n={};dt.forEach(e,function(i,o){var s=n[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:o};dt.isUndefined(i.barycenter)||(s.barycenter=i.barycenter,s.weight=i.weight)}),dt.forEach(t.edges(),function(i){var o=n[i.v],s=n[i.w];!dt.isUndefined(o)&&!dt.isUndefined(s)&&(s.indegree++,o.out.push(n[i.w]))});var r=dt.filter(n,function(i){return!i.indegree});return bL(r)}function bL(e){var t=[];function n(o){return function(s){s.merged||(dt.isUndefined(s.barycenter)||dt.isUndefined(o.barycenter)||s.barycenter>=o.barycenter)&&SL(o,s)}}function r(o){return function(s){s.in.push(o),--s.indegree===0&&e.push(s)}}for(;e.length;){var i=e.pop();t.push(i),dt.forEach(i.in.reverse(),n(i)),dt.forEach(i.out,r(i))}return dt.map(dt.filter(t,function(o){return!o.merged}),function(o){return dt.pick(o,["vs","i","barycenter","weight"])})}function SL(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}var Ji=pe,EL=lt,kL=NL;function NL(e,t){var n=EL.partition(e,function(c){return Ji.has(c,"barycenter")}),r=n.lhs,i=Ji.sortBy(n.rhs,function(c){return-c.i}),o=[],s=0,a=0,l=0;r.sort(CL(!!t)),l=Vw(o,i,l),Ji.forEach(r,function(c){l+=c.vs.length,o.push(c.vs),s+=c.barycenter*c.weight,a+=c.weight,l=Vw(o,i,l)});var u={vs:Ji.flatten(o,!0)};return a&&(u.barycenter=s/a,u.weight=a),u}function Vw(e,t,n){for(var r;t.length&&(r=Ji.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}function CL(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}var $n=pe,jL=yL,TL=_L,RL=kL,IL=sN;function sN(e,t,n,r){var i=e.children(t),o=e.node(t),s=o?o.borderLeft:void 0,a=o?o.borderRight:void 0,l={};s&&(i=$n.filter(i,function(y){return y!==s&&y!==a}));var u=jL(e,i);$n.forEach(u,function(y){if(e.children(y.v).length){var v=sN(e,y.v,n,r);l[y.v]=v,$n.has(v,"barycenter")&&AL(y,v)}});var c=TL(u,n);PL(c,l);var f=RL(c,r);if(s&&(f.vs=$n.flatten([s,f.vs,a],!0),e.predecessors(s).length)){var d=e.node(e.predecessors(s)[0]),h=e.node(e.predecessors(a)[0]);$n.has(f,"barycenter")||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+d.order+h.order)/(f.weight+2),f.weight+=2}return f}function PL(e,t){$n.forEach(e,function(n){n.vs=$n.flatten(n.vs.map(function(r){return t[r]?t[r].vs:r}),!0)})}function AL(e,t){$n.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var eo=pe,ML=Ht.Graph,qL=OL;function OL(e,t,n){var r=LL(e),i=new ML({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(o){return e.node(o)});return eo.forEach(e.nodes(),function(o){var s=e.node(o),a=e.parent(o);(s.rank===t||s.minRank<=t&&t<=s.maxRank)&&(i.setNode(o),i.setParent(o,a||r),eo.forEach(e[n](o),function(l){var u=l.v===o?l.w:l.v,c=i.edge(u,o),f=eo.isUndefined(c)?0:c.weight;i.setEdge(u,o,{weight:e.edge(l).weight+f})}),eo.has(s,"minRank")&&i.setNode(o,{borderLeft:s.borderLeft[t],borderRight:s.borderRight[t]}))}),i}function LL(e){for(var t;e.hasNode(t=eo.uniqueId("_root")););return t}var zL=pe,DL=FL;function FL(e,t,n){var r={},i;zL.forEach(n,function(o){for(var s=e.parent(o),a,l;s;){if(a=e.parent(s),a?(l=r[a],r[a]=s):(l=i,i=s),l&&l!==s){t.setEdge(l,s);return}s=a}})}var Jn=pe,$L=hL,BL=mL,HL=IL,VL=qL,UL=DL,WL=Ht.Graph,Uw=lt,GL=KL;function KL(e){var t=Uw.maxRank(e),n=Ww(e,Jn.range(1,t+1),"inEdges"),r=Ww(e,Jn.range(t-1,-1,-1),"outEdges"),i=$L(e);Gw(e,i);for(var o=Number.POSITIVE_INFINITY,s,a=0,l=0;l<4;++a,++l){YL(a%2?n:r,a%4>=2),i=Uw.buildLayerMatrix(e);var u=BL(e,i);u<o&&(l=0,s=Jn.cloneDeep(i),o=u)}Gw(e,s)}function Ww(e,t,n){return Jn.map(t,function(r){return VL(e,r,n)})}function YL(e,t){var n=new WL;Jn.forEach(e,function(r){var i=r.graph().root,o=HL(r,i,n,t);Jn.forEach(o.vs,function(s,a){r.node(s).order=a}),UL(r,n,o.vs)})}function Gw(e,t){Jn.forEach(t,function(n){Jn.forEach(n,function(r,i){e.node(r).order=i})})}var J=pe,XL=Ht.Graph,QL=lt,ZL={positionX:uz};function JL(e,t){var n={};function r(i,o){var s=0,a=0,l=i.length,u=J.last(o);return J.forEach(o,function(c,f){var d=tz(e,c),h=d?e.node(d).order:l;(d||c===u)&&(J.forEach(o.slice(a,f+1),function(y){J.forEach(e.predecessors(y),function(v){var w=e.node(v),m=w.order;(m<s||h<m)&&!(w.dummy&&e.node(y).dummy)&&aN(n,v,y)})}),a=f+1,s=h)}),o}return J.reduce(t,r),n}function ez(e,t){var n={};function r(o,s,a,l,u){var c;J.forEach(J.range(s,a),function(f){c=o[f],e.node(c).dummy&&J.forEach(e.predecessors(c),function(d){var h=e.node(d);h.dummy&&(h.order<l||h.order>u)&&aN(n,d,c)})})}function i(o,s){var a=-1,l,u=0;return J.forEach(s,function(c,f){if(e.node(c).dummy==="border"){var d=e.predecessors(c);d.length&&(l=e.node(d[0]).order,r(s,u,f,a,l),u=f,a=l)}r(s,u,s.length,l,o.length)}),s}return J.reduce(t,i),n}function tz(e,t){if(e.node(t).dummy)return J.find(e.predecessors(t),function(n){return e.node(n).dummy})}function aN(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function nz(e,t,n){if(t>n){var r=t;t=n,n=r}return J.has(e[t],n)}function rz(e,t,n,r){var i={},o={},s={};return J.forEach(t,function(a){J.forEach(a,function(l,u){i[l]=l,o[l]=l,s[l]=u})}),J.forEach(t,function(a){var l=-1;J.forEach(a,function(u){var c=r(u);if(c.length){c=J.sortBy(c,function(v){return s[v]});for(var f=(c.length-1)/2,d=Math.floor(f),h=Math.ceil(f);d<=h;++d){var y=c[d];o[u]===u&&l<s[y]&&!nz(n,u,y)&&(o[y]=u,o[u]=i[u]=i[y],l=s[y])}}})}),{root:i,align:o}}function iz(e,t,n,r,i){var o={},s=oz(e,t,n,i),a=i?"borderLeft":"borderRight";function l(f,d){for(var h=s.nodes(),y=h.pop(),v={};y;)v[y]?f(y):(v[y]=!0,h.push(y),h=h.concat(d(y))),y=h.pop()}function u(f){o[f]=s.inEdges(f).reduce(function(d,h){return Math.max(d,o[h.v]+s.edge(h))},0)}function c(f){var d=s.outEdges(f).reduce(function(y,v){return Math.min(y,o[v.w]-s.edge(v))},Number.POSITIVE_INFINITY),h=e.node(f);d!==Number.POSITIVE_INFINITY&&h.borderType!==a&&(o[f]=Math.max(o[f],d))}return l(u,s.predecessors.bind(s)),l(c,s.successors.bind(s)),J.forEach(r,function(f){o[f]=o[n[f]]}),o}function oz(e,t,n,r){var i=new XL,o=e.graph(),s=cz(o.nodesep,o.edgesep,r);return J.forEach(t,function(a){var l;J.forEach(a,function(u){var c=n[u];if(i.setNode(c),l){var f=n[l],d=i.edge(f,c);i.setEdge(f,c,Math.max(s(e,u,l),d||0))}l=u})}),i}function sz(e,t){return J.minBy(J.values(t),function(n){var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return J.forIn(n,function(o,s){var a=fz(e,s)/2;r=Math.max(o+a,r),i=Math.min(o-a,i)}),r-i})}function az(e,t){var n=J.values(t),r=J.min(n),i=J.max(n);J.forEach(["u","d"],function(o){J.forEach(["l","r"],function(s){var a=o+s,l=e[a],u;if(l!==t){var c=J.values(l);u=s==="l"?r-J.min(c):i-J.max(c),u&&(e[a]=J.mapValues(l,function(f){return f+u}))}})})}function lz(e,t){return J.mapValues(e.ul,function(n,r){if(t)return e[t.toLowerCase()][r];var i=J.sortBy(J.map(e,r));return(i[1]+i[2])/2})}function uz(e){var t=QL.buildLayerMatrix(e),n=J.merge(JL(e,t),ez(e,t)),r={},i;J.forEach(["u","d"],function(s){i=s==="u"?t:J.values(t).reverse(),J.forEach(["l","r"],function(a){a==="r"&&(i=J.map(i,function(f){return J.values(f).reverse()}));var l=(s==="u"?e.predecessors:e.successors).bind(e),u=rz(e,i,n,l),c=iz(e,i,u.root,u.align,a==="r");a==="r"&&(c=J.mapValues(c,function(f){return-f})),r[s+a]=c})});var o=sz(e,r);return az(r,o),lz(r,e.graph().align)}function cz(e,t,n){return function(r,i,o){var s=r.node(i),a=r.node(o),l=0,u;if(l+=s.width/2,J.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":u=-s.width/2;break;case"r":u=s.width/2;break}if(u&&(l+=n?u:-u),u=0,l+=(s.dummy?t:e)/2,l+=(a.dummy?t:e)/2,l+=a.width/2,J.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":u=a.width/2;break;case"r":u=-a.width/2;break}return u&&(l+=n?u:-u),u=0,l}}function fz(e,t){return e.node(t).width}var to=pe,lN=lt,dz=ZL.positionX,hz=pz;function pz(e){e=lN.asNonCompoundGraph(e),mz(e),to.forEach(dz(e),function(t,n){e.node(n).x=t})}function mz(e){var t=lN.buildLayerMatrix(e),n=e.graph().ranksep,r=0;to.forEach(t,function(i){var o=to.max(to.map(i,function(s){return e.node(s).height}));to.forEach(i,function(s){e.node(s).y=r+o/2}),r+=o+n})}var ee=pe,Kw=o5,Yw=b5,gz=W5,vz=lt.normalizeRanks,yz=X5,xz=lt.removeEmptyRanks,Xw=eL,_z=sL,Qw=lL,wz=GL,bz=hz,rr=lt,Sz=Ht.Graph,Ez=kz;function kz(e,t){var n=t&&t.debugTiming?rr.time:rr.notime;n("layout",function(){var r=n("  buildLayoutGraph",function(){return Oz(e)});n("  runLayout",function(){Nz(r,n)}),n("  updateInputGraph",function(){Cz(e,r)})})}function Nz(e,t){t("    makeSpaceForEdgeLabels",function(){Lz(e)}),t("    removeSelfEdges",function(){Wz(e)}),t("    acyclic",function(){Kw.run(e)}),t("    nestingGraph.run",function(){Xw.run(e)}),t("    rank",function(){gz(rr.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){zz(e)}),t("    removeEmptyRanks",function(){xz(e)}),t("    nestingGraph.cleanup",function(){Xw.cleanup(e)}),t("    normalizeRanks",function(){vz(e)}),t("    assignRankMinMax",function(){Dz(e)}),t("    removeEdgeLabelProxies",function(){Fz(e)}),t("    normalize.run",function(){Yw.run(e)}),t("    parentDummyChains",function(){yz(e)}),t("    addBorderSegments",function(){_z(e)}),t("    order",function(){wz(e)}),t("    insertSelfEdges",function(){Gz(e)}),t("    adjustCoordinateSystem",function(){Qw.adjust(e)}),t("    position",function(){bz(e)}),t("    positionSelfEdges",function(){Kz(e)}),t("    removeBorderNodes",function(){Uz(e)}),t("    normalize.undo",function(){Yw.undo(e)}),t("    fixupEdgeLabelCoords",function(){Hz(e)}),t("    undoCoordinateSystem",function(){Qw.undo(e)}),t("    translateGraph",function(){$z(e)}),t("    assignNodeIntersects",function(){Bz(e)}),t("    reversePoints",function(){Vz(e)}),t("    acyclic.undo",function(){Kw.undo(e)})}function Cz(e,t){ee.forEach(e.nodes(),function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))}),ee.forEach(e.edges(),function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,ee.has(i,"x")&&(r.x=i.x,r.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var jz=["nodesep","edgesep","ranksep","marginx","marginy"],Tz={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},Rz=["acyclicer","ranker","rankdir","align"],Iz=["width","height"],Pz={width:0,height:0},Az=["minlen","weight","width","height","labeloffset"],Mz={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},qz=["labelpos"];function Oz(e){var t=new Sz({multigraph:!0,compound:!0}),n=Qh(e.graph());return t.setGraph(ee.merge({},Tz,Xh(n,jz),ee.pick(n,Rz))),ee.forEach(e.nodes(),function(r){var i=Qh(e.node(r));t.setNode(r,ee.defaults(Xh(i,Iz),Pz)),t.setParent(r,e.parent(r))}),ee.forEach(e.edges(),function(r){var i=Qh(e.edge(r));t.setEdge(r,ee.merge({},Mz,Xh(i,Az),ee.pick(i,qz)))}),t}function Lz(e){var t=e.graph();t.ranksep/=2,ee.forEach(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function zz(e){ee.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i=e.node(t.w),o={rank:(i.rank-r.rank)/2+r.rank,e:t};rr.addDummyNode(e,"edge-proxy",o,"_ep")}})}function Dz(e){var t=0;ee.forEach(e.nodes(),function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=ee.max(t,r.maxRank))}),e.graph().maxRank=t}function Fz(e){ee.forEach(e.nodes(),function(t){var n=e.node(t);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function $z(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=e.graph(),s=o.marginx||0,a=o.marginy||0;function l(u){var c=u.x,f=u.y,d=u.width,h=u.height;t=Math.min(t,c-d/2),n=Math.max(n,c+d/2),r=Math.min(r,f-h/2),i=Math.max(i,f+h/2)}ee.forEach(e.nodes(),function(u){l(e.node(u))}),ee.forEach(e.edges(),function(u){var c=e.edge(u);ee.has(c,"x")&&l(c)}),t-=s,r-=a,ee.forEach(e.nodes(),function(u){var c=e.node(u);c.x-=t,c.y-=r}),ee.forEach(e.edges(),function(u){var c=e.edge(u);ee.forEach(c.points,function(f){f.x-=t,f.y-=r}),ee.has(c,"x")&&(c.x-=t),ee.has(c,"y")&&(c.y-=r)}),o.width=n-t+s,o.height=i-r+a}function Bz(e){ee.forEach(e.edges(),function(t){var n=e.edge(t),r=e.node(t.v),i=e.node(t.w),o,s;n.points?(o=n.points[0],s=n.points[n.points.length-1]):(n.points=[],o=i,s=r),n.points.unshift(rr.intersectRect(r,o)),n.points.push(rr.intersectRect(i,s))})}function Hz(e){ee.forEach(e.edges(),function(t){var n=e.edge(t);if(ee.has(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function Vz(e){ee.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}function Uz(e){ee.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),o=e.node(ee.last(n.borderLeft)),s=e.node(ee.last(n.borderRight));n.width=Math.abs(s.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}}),ee.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function Wz(e){ee.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function Gz(e){var t=rr.buildLayerMatrix(e);ee.forEach(t,function(n){var r=0;ee.forEach(n,function(i,o){var s=e.node(i);s.order=o+r,ee.forEach(s.selfEdges,function(a){rr.addDummyNode(e,"selfedge",{width:a.label.width,height:a.label.height,rank:s.rank,order:o+ ++r,e:a.e,label:a.label},"_se")}),delete s.selfEdges})})}function Kz(e){ee.forEach(e.nodes(),function(t){var n=e.node(t);if(n.dummy==="selfedge"){var r=e.node(n.e.v),i=r.x+r.width/2,o=r.y,s=n.x-i,a=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*s/3,y:o-a},{x:i+5*s/6,y:o-a},{x:i+s,y:o},{x:i+5*s/6,y:o+a},{x:i+2*s/3,y:o+a}],n.label.x=n.x,n.label.y=n.y}})}function Xh(e,t){return ee.mapValues(ee.pick(e,t),Number)}function Qh(e){var t={};return ee.forEach(e,function(n,r){t[r.toLowerCase()]=n}),t}var Cs=pe,Yz=lt,Xz=Ht.Graph,Qz={debugOrdering:Zz};function Zz(e){var t=Yz.buildLayerMatrix(e),n=new Xz({compound:!0,multigraph:!0}).setGraph({});return Cs.forEach(e.nodes(),function(r){n.setNode(r,{label:r}),n.setParent(r,"layer"+e.node(r).rank)}),Cs.forEach(e.edges(),function(r){n.setEdge(r.v,r.w,{},r.name)}),Cs.forEach(t,function(r,i){var o="layer"+i;n.setNode(o,{rank:"same"}),Cs.reduce(r,function(s,a){return n.setEdge(s,a,{style:"invis"}),a})}),n}var Jz="0.8.5",eD={graphlib:Ht,layout:Ez,debug:Qz,util:{time:lt.time,notime:lt.notime},version:Jz};const Zw=cm(eD),Jw=(e,t)=>{const n=new Zw.graphlib.Graph;return n.setGraph({rankdir:"TB",align:"UL",nodesep:20,ranksep:70,marginx:100,marginy:30,ranker:"longest-path"}),n.setDefaultEdgeLabel(()=>({})),e.forEach(r=>{n.setNode(r.id,{width:r.data.width??280,height:r.data.height??90})}),t.forEach(r=>{n.setEdge(r.source,r.target)}),Zw.layout(n),{nodes:e.map(r=>{const i=n.node(r.id);return{...r,targetPosition:G.Top,sourcePosition:G.Bottom,position:{x:i.x-(r.data.width??280)/2,y:i.y-(r.data.height??90)/2}}}),edges:t}},eb=(e,t,n)=>{let r=[],i=[],o=null,s=null,a=[];const l=n.theme||"industrial";return e.forEach((u,c)=>{var y,v;if((u.level||1)!==1)return;const f=280;let d=95;u.state==="active"&&u.stations&&(d+=35);const h=t===u.id;if(r.push({id:u.id,type:"documentNode",data:{...u,width:f,height:d,isExpanded:h,...n},draggable:!1,connectable:!1,position:{x:0,y:0},zIndex:h?1e3:0}),o){const w=(y=e[c-1])==null?void 0:y.state;i.push({id:"e-"+o+"-"+u.id,source:o,target:u.id,type:"smoothstep",animated:w==="active",style:{stroke:V2(w,l),strokeWidth:3}})}((v=u.children)==null?void 0:v.length)>0&&(s=u.id,a=u.children),o=u.id}),{nodes:r,edges:i,epicBacklogId:s,epicChildren:a}},tb=(e,t,n,r,i)=>{const{nodes:o,edges:s}=e;if(!t||!n.length)return{nodes:o,edges:s};const a=o.find(x=>x.id===t);if(!a)return{nodes:o,edges:s};const l=a.position.x,u=a.position.y+(a.data.height||95),c=a.data.state,f=i.theme||"industrial",d=V2(c,f),h=c==="active",y=Pt.EPIC_HEIGHT+Pt.EPIC_GAP_Y,v=Math.ceil(n.length/Pt.EPICS_PER_ROW),w=l+280*.15,m=50,g={};n.forEach((x,_)=>{const E=Math.floor(_/Pt.EPICS_PER_ROW);g[E]||(g[E]=[]),g[E].push({epic:x,idx:_})});for(let x=0;x<v;x++){const _=g[x]||[];if(_.length===0)continue;const E=u+Pt.EPIC_OFFSET_Y+x*y,S=`junction-row-${x}`;o.push({id:S,type:"waypoint",position:{x:w,y:E-m},draggable:!1,connectable:!1,selectable:!1}),x===0?s.push({id:`e-spine-drop-${x}`,source:t,target:S,type:"straight",animated:h,style:{stroke:d,strokeWidth:2}}):s.push({id:`e-spine-${x-1}-to-${x}`,source:`junction-row-${x-1}`,target:S,type:"straight",animated:h,style:{stroke:d,strokeWidth:2}}),_.forEach(({epic:N,idx:T})=>{const R=T%Pt.EPICS_PER_ROW,M=l+Pt.EPIC_OFFSET_X+R*(Pt.EPIC_WIDTH+Pt.EPIC_GAP_X),q=E,F=r===N.id;o.push({id:N.id,type:"documentNode",data:{...N,width:Pt.EPIC_WIDTH,height:Pt.EPIC_HEIGHT,isExpanded:F,...i},draggable:!1,connectable:!1,position:{x:M,y:q},targetPosition:G.Top,sourcePosition:G.Bottom,zIndex:F?1e3:0}),s.push({id:`e-branch-${N.id}`,source:S,target:N.id,type:"smoothstep",pathOptions:{borderRadius:20},animated:h,style:{stroke:d,strokeWidth:2}})})}return{nodes:o,edges:s}},tD={queued:"queued",blocked:"queued",assembling:"active",binding:"active",auditing:"active",remediating:"active",awaiting_operator:"active",stabilized:"stabilized",halted:"queued"},nb={pgc:"PGC",bind:"BIND",asm:"ASM",aud:"AUD",rem:"REM",done:"DONE"};function nD(e){const t={};for(const n of e.projects)t[n.id]={id:n.id,projectId:n.project_id,name:n.name,description:n.description||"",status:n.status==="active"?"active":n.is_archived?"complete":"queued",icon:n.icon,createdAt:n.created_at};return t}function rD(e,t=[]){const n=[],r=[],i=[];for(const o of e.tracks){const s=iD(o,t);o.scope==="epic"?i.push(s):r.push(s)}for(const o of r)o.id==="epic_backlog"&&i.length>0&&(o.children=i.map(s=>({...s,level:2}))),n.push(o);return n}function iD(e,t=[]){const n=tD[e.state]||"queued",r=e.state==="awaiting_operator",i=t.find(a=>a.document_type===e.document_type);let o=null;(n==="active"||r)&&(o=oD(e.stations,e.state));let s=null;return i&&i.questions&&(s=i.questions.map((a,l)=>({id:a.id||`q${l+1}`,text:a.question||a.text||a,required:a.required!==!1}))),{id:e.document_type,name:e.document_name||sD(e.document_type),desc:e.description||"",state:n,intent:"mandatory",level:1,stations:o,questions:s,interruptId:i==null?void 0:i.id,blockedBy:e.blocked_by||[]}}function oD(e,t){if(!e||e.length===0){const n=t==="awaiting_operator"?"pgc":t==="assembling"?"asm":t==="binding"?"pgc":t==="auditing"?"aud":null;return ru.map(r=>({id:r,label:nb[r]||r.toUpperCase(),state:n===r?"active":ru.indexOf(r)<ru.indexOf(n)?"complete":"pending",needs_input:r==="pgc"&&t==="awaiting_operator"}))}return e.map(n=>({id:n.station,label:nb[n.station]||n.station.toUpperCase(),state:n.state||"pending",needs_input:n.needs_input||!1}))}function sD(e){return e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function aD(){const[e,t]=k.useState({}),[n,r]=k.useState(!0),[i,o]=k.useState(null),s=k.useCallback(async()=>{r(!0),o(null);try{const l=await nt.getProjects(),u=nD(l);t(u)}catch(l){o(l.message),console.error("Failed to fetch projects:",l)}finally{r(!1)}},[]),a=k.useCallback(async l=>{try{const u=await nt.createProject({name:l,description:""});return t(c=>({...c,[u.id]:{id:u.id,projectId:u.project_id,name:u.name,description:u.description||"",status:"active",icon:u.icon,createdAt:u.created_at}})),u}catch(u){throw o(u.message),console.error("Failed to create project:",u),u}},[]);return k.useEffect(()=>{s()},[s]),{projects:e,loading:n,error:i,addProject:a,refresh:s}}function lD(e){const[t,n]=k.useState([]),[r,i]=k.useState("idle"),[o,s]=k.useState([]),[a,l]=k.useState(!0),[u,c]=k.useState(null),[f,d]=k.useState(!1),h=k.useRef(null),y=k.useRef(null),v=k.useCallback(async()=>{if(e)try{l(!0),c(null);const[_,E]=await Promise.all([nt.getProductionStatus(e),nt.getProjectInterrupts(e).catch(()=>[])]);s(E),i(_.line_state),n(rD(_,E))}catch(_){c(_.message),console.error("Failed to fetch production status:",_)}finally{l(!1)}},[e]),w=k.useCallback(()=>{if(!e)return;h.current&&h.current.close();const _=N4(e);h.current=_,_.addEventListener("connected",()=>{d(!0),c(null),console.log(`SSE connected for project ${e}`)}),_.addEventListener("station_transition",E=>{try{const S=JSON.parse(E.data);console.log("Station transition:",S),v()}catch(S){console.error("Failed to parse station_transition:",S)}}),_.addEventListener("line_stopped",E=>{try{const S=JSON.parse(E.data);console.log("Line stopped:",S),i("stopped"),v()}catch(S){console.error("Failed to parse line_stopped:",S)}}),_.addEventListener("production_complete",E=>{try{const S=JSON.parse(E.data);console.log("Production complete:",S),i("complete"),v()}catch(S){console.error("Failed to parse production_complete:",S)}}),_.addEventListener("interrupt_resolved",E=>{try{const S=JSON.parse(E.data);console.log("Interrupt resolved:",S),v()}catch(S){console.error("Failed to parse interrupt_resolved:",S)}}),_.addEventListener("track_started",E=>{try{const S=JSON.parse(E.data);console.log("Track started:",S),i("active"),v()}catch(S){console.error("Failed to parse track_started:",S)}}),_.onerror=E=>{console.error("SSE error:",E),d(!1),c("Connection lost"),_.close(),y.current=setTimeout(()=>{console.log("Attempting SSE reconnect..."),w()},3e3)}},[e,v]),m=k.useCallback(()=>{y.current&&clearTimeout(y.current),h.current&&(h.current.close(),h.current=null),d(!1)},[]),g=k.useCallback(async(_,E)=>{try{await nt.resolveInterrupt(_,{answers:E}),await v()}catch(S){throw console.error("Failed to resolve interrupt:",S),S}},[v]),x=k.useCallback(async(_=null)=>{try{await nt.startProduction(e,_),i("active"),await v()}catch(E){throw console.error("Failed to start production:",E),E}},[e,v]);return k.useEffect(()=>(v(),w(),()=>m()),[v,w,m]),{data:t,lineState:r,interrupts:o,loading:a,error:u,connected:f,refresh:v,resolveInterrupt:g,startProduction:x}}const rb="combine-theme";function uD(e="industrial"){const[t,n]=k.useState(()=>{if(typeof window>"u")return e;const o=localStorage.getItem(rb);return o&&Fn.includes(o)?o:e});k.useEffect(()=>{localStorage.setItem(rb,t)},[t]);const r=k.useCallback(o=>{Fn.includes(o)&&n(o)},[]),i=k.useCallback(()=>{n(o=>{const s=Fn.indexOf(o);return Fn[(s+1)%Fn.length]})},[]);return{theme:t,setTheme:r,cycleTheme:i}}function cD(){const[e,t]=k.useState(null),[n,r]=k.useState("idle"),[i,o]=k.useState([]),[s,a]=k.useState(null),[l,u]=k.useState(null),[c,f]=k.useState({}),[d,h]=k.useState(0),[y,v]=k.useState([]),[w,m]=k.useState(!1),[g,x]=k.useState(null),[_,E]=k.useState(null),[S,N]=k.useState(null),[T,R]=k.useState(!1),[M,q]=k.useState(!1),F=k.useRef(null),D=k.useRef(!0);k.useEffect(()=>(D.current=!0,()=>{D.current=!1,F.current&&F.current.close()}),[]);const b=k.useCallback(P=>{D.current&&(r(P.phase),o(P.messages||[]),a(P.pending_prompt),u(P.pending_choices),f(P.interpretation||{}),h(P.confidence||0),v(P.missing_fields||[]),m(P.can_initialize||!1),x(P.gate_outcome),E(P.project))},[]),O=k.useCallback(async()=>{N(null),R(!0);try{const P=await nt.startIntake();if(!D.current)return;t(P.execution_id),r(P.phase||"describe"),a(P.pending_prompt),o([]),f({}),E(null),x(null)}catch(P){if(!D.current)return;N(P.message||"Failed to start intake")}finally{D.current&&R(!1)}},[]),I=k.useCallback(async P=>{if(!e||!P.trim())return;N(null),q(!0);const z={role:"user",content:P};o($=>[...$,z]);try{const $=await nt.submitIntakeMessage(e,P);if(!D.current)return;b($)}catch($){if(!D.current)return;o(V=>V.filter(U=>U!==z)),N($.message||"Failed to submit message")}finally{D.current&&q(!1)}},[e,b]),L=k.useCallback(async(P,z)=>{if(e){N(null),f($=>({...$,[P]:{value:z,source:"user",locked:!0}}));try{const $=await nt.updateIntakeField(e,P,z);if(!D.current)return;b($)}catch($){if(!D.current)return;N($.message||"Failed to update field");const V=await nt.getIntakeState(e);D.current&&b(V)}}},[e,b]),j=k.useCallback(async()=>{if(!(!e||!w)){N(null),R(!0);try{const P=await nt.initializeIntake(e);if(!D.current)return;b(P),P.phase==="generating"&&C()}catch(P){if(!D.current)return;N(P.message||"Failed to initialize project"),R(!1)}}},[e,w,b]),C=k.useCallback(()=>{F.current&&F.current.close();const P=C4(e);F.current=P,P.addEventListener("started",z=>{if(!D.current)return;const $=JSON.parse(z.data);console.log("Intake started:",$)}),P.addEventListener("progress",z=>{if(!D.current)return;const $=JSON.parse(z.data);console.log("Intake progress:",$.current_node)}),P.addEventListener("complete",async z=>{if(!D.current)return;const $=JSON.parse(z.data);console.log("Intake complete:",$),P.close(),F.current=null,r("complete"),x($.gate_outcome),E($.project),R(!1)}),P.addEventListener("error",z=>{if(D.current&&P.readyState!==EventSource.CLOSED){try{const $=JSON.parse(z.data);N($.message||"Generation failed")}catch{N("Connection lost during generation")}P.close(),F.current=null,R(!1)}}),P.onerror=()=>{D.current&&P.readyState===EventSource.CLOSED&&(F.current=null,R(!1))}},[e]),A=k.useCallback(()=>{F.current&&(F.current.close(),F.current=null),t(null),r("idle"),o([]),a(null),u(null),f({}),h(0),v([]),m(!1),x(null),E(null),N(null),R(!1),q(!1)},[]);return{executionId:e,phase:n,messages:i,pendingPrompt:s,pendingChoices:l,interpretation:c,confidence:d,missingFields:y,canInitialize:w,gateOutcome:g,project:_,error:S,loading:T,submitting:M,startIntake:O,submitMessage:I,updateField:L,lockAndGenerate:j,reset:A}}const fD={documentNode:M4,waypoint:q4},dD={industrial:"Industrial",light:"Light",blueprint:"Blueprint"};function hD({projectId:e,projectCode:t,projectName:n,autoExpandNodeId:r,theme:i,onThemeChange:o}){const{data:s,lineState:a,loading:l,error:u,connected:c,resolveInterrupt:f}=lD(e),[d,h]=k.useState([]),[y,v]=k.useState(null),[w,m]=k.useState(null),[g,x]=k.useState(null),_=xg();k.useEffect(()=>{s.length>0&&h(s)},[s]),k.useEffect(()=>{r&&d.length>0&&setTimeout(()=>{v(r),m("questions")},300)},[r,d.length]),k.useEffect(()=>{v(null),m(null)},[e]);const E=k.useCallback(()=>{const L=Fn.indexOf(i);o(Fn[(L+1)%Fn.length])},[i,o]),S=k.useCallback(L=>{const j=_.getNode(L);if(j){const A=window.innerWidth,P=-j.position.x*.9+A/2-400,z=-j.position.y*.9+120;_.setViewport({x:P,y:z,zoom:.9},{duration:800})}},[_]),N=k.useMemo(()=>({onExpand:(L,j)=>{v(L),m(j)},onCollapse:()=>{v(null),m(null),setTimeout(()=>_.fitView({padding:.2,duration:300}),50)},onViewFullDocument:L=>{x(L)},onSubmitQuestions:async(L,j)=>{console.log("Submitted:",L,j);const C=d.find(A=>A.id===L);if(C!=null&&C.interruptId)try{await f(C.interruptId,j)}catch(A){console.error("Failed to submit answers:",A)}v(null),m(null),h(A=>{const P=z=>z.map($=>$.id===L&&$.stations?{...$,stations:$.stations.map(V=>V.id==="pgc"?{...V,state:"complete",needs_input:!1}:V.id==="asm"?{...V,state:"active"}:V)}:$.children?{...$,children:P($.children)}:$);return P(A)})}}),[_,d,f]),{layoutNodes:T,layoutEdges:R}=k.useMemo(()=>{if(d.length===0)return{layoutNodes:[],layoutEdges:[]};const L={...N,expandType:w,theme:i,onZoomToNode:S,projectId:e,projectCode:t},{nodes:j,edges:C,epicBacklogId:A,epicChildren:P}=eb(d,y,L),z=Jw(j,C),{nodes:$,edges:V}=tb(z,A,P,y,L);return{layoutNodes:$.map(Y=>({...Y,data:{...Y.data,expandType:Y.id===y?w:null}})),layoutEdges:V}},[d,y,w,N,i,S,e,t]),[M,q,F]=i4(T),[D,b,O]=o4(R);k.useEffect(()=>{if(d.length===0)return;const L={...N,expandType:w,theme:i,onZoomToNode:S,projectId:e,projectCode:t},{nodes:j,edges:C,epicBacklogId:A,epicChildren:P}=eb(d,y,L),z=Jw(j,C),{nodes:$,edges:V}=tb(z,A,P,y,L),U=$.map(Y=>({...Y,data:{...Y.data,expandType:Y.id===y?w:null}}));q(U),b(V)},[d,y,w,N,q,b,i,S,e,t]);const I=k.useCallback((L,j)=>{if(y)return;const C=["queued","active","stabilized"];h(A=>{const P=z=>z.map($=>{var V;if($.id===j.id){const U=C[(C.indexOf($.state)+1)%C.length],Y=(V=$.stations)==null?void 0:V.map(Q=>{var re;return U==="stabilized"?{...Q,state:"complete",needs_input:!1}:U==="active"?Q.id==="pgc"?{...Q,state:"active",needs_input:!!((re=$.questions)!=null&&re.length)}:{...Q,state:"pending"}:{...Q,state:"pending",needs_input:!1}});return{...$,state:U,stations:Y}}return $.children?{...$,children:P($.children)}:$});return P(A)})},[y]);return l&&d.length===0?p.jsx("div",{className:"flex items-center justify-center h-full",style:{background:"var(--bg-canvas)"},children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"w-8 h-8 border-2 border-t-emerald-500 border-r-transparent border-b-transparent border-l-transparent rounded-full animate-spin mx-auto mb-4"}),p.jsx("p",{style:{color:"var(--text-muted)"},children:"Loading production line..."})]})}):u&&d.length===0?p.jsx("div",{className:"flex items-center justify-center h-full",style:{background:"var(--bg-canvas)"},children:p.jsx("div",{className:"text-center p-6 rounded-lg",style:{background:"var(--bg-panel)"},children:p.jsx("p",{className:"text-red-500 mb-4",children:u})})}):p.jsxs("div",{className:"w-full h-full",children:[p.jsxs(F2,{nodes:M,edges:D,onNodesChange:F,onEdgesChange:O,onNodeClick:I,nodeTypes:fD,nodesDraggable:!1,nodesConnectable:!1,edgesUpdatable:!1,edgesFocusable:!1,elementsSelectable:!1,fitView:!0,fitViewOptions:{padding:.2},minZoom:.3,maxZoom:1.5,style:{background:"var(--bg-canvas)"},proOptions:{hideAttribution:!0},defaultEdgeOptions:{type:"smoothstep"},children:[p.jsx(fo,{position:"top-left",children:p.jsxs("div",{className:"space-y-2",children:[p.jsx("div",{className:"subway-panel backdrop-blur rounded-lg px-4 py-3 border",children:p.jsxs("div",{className:"flex items-center justify-between gap-4",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:"Production Line"}),p.jsxs("p",{className:"text-xs",style:{color:"var(--text-muted)"},children:[a==="active"&&p.jsx("span",{className:"text-amber-500",children:" Active"}),a==="stopped"&&p.jsx("span",{className:"text-red-500",children:" Stopped"}),a==="complete"&&p.jsx("span",{className:"text-emerald-500",children:" Complete"}),a==="idle"&&p.jsx("span",{children:" Idle"}),!c&&p.jsx("span",{className:"ml-2 text-red-400",children:"(Disconnected)"})]})]}),p.jsx("button",{onClick:E,className:"subway-button px-3 py-1.5 rounded-md text-xs font-medium transition-colors",children:dD[i]})]})}),p.jsx("div",{className:"subway-panel backdrop-blur rounded-lg px-4 py-3 border",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{background:"var(--state-active-bg)"},children:p.jsx("svg",{className:"w-5 h-5 text-white",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:p.jsx("path",{d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),p.jsxs("div",{className:"min-w-0",children:[p.jsx("p",{className:"text-xs font-mono",style:{color:"var(--text-muted)"},children:t||"No Project"}),p.jsx("p",{className:"text-sm font-semibold truncate",style:{color:"var(--text-primary)"},children:n||"Untitled Project"})]})]})})]})}),p.jsx(m4,{position:"top-right",nodeColor:L=>{var j,C;return((j=L.data)==null?void 0:j.state)==="stabilized"?"#10b981":((C=L.data)==null?void 0:C.state)==="active"?"#f59e0b":"#475569"},maskColor:"rgba(11, 17, 32, 0.85)",style:{background:"var(--bg-panel)",border:"1px solid var(--border-panel)",borderRadius:8},pannable:!0,zoomable:!0}),p.jsx(fo,{position:"bottom-left",children:p.jsxs("div",{className:"subway-panel flex gap-4 text-[10px] backdrop-blur px-4 py-2.5 rounded-lg border",children:[p.jsx("span",{style:{color:"var(--text-muted)"},className:"font-medium",children:"STATE:"}),p.jsxs("div",{className:"flex items-center gap-1.5",children:[p.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:"var(--state-stabilized-bg)"}}),p.jsx("span",{style:{color:"var(--text-muted)"},children:"Stabilized"})]}),p.jsxs("div",{className:"flex items-center gap-1.5",children:[p.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:"var(--state-active-bg)"}}),p.jsx("span",{style:{color:"var(--text-muted)"},children:"Active"})]}),p.jsxs("div",{className:"flex items-center gap-1.5",children:[p.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:"var(--state-queued-bg)"}}),p.jsx("span",{style:{color:"var(--text-muted)"},children:"Queued"})]})]})}),p.jsx(fo,{position:"bottom-right",children:p.jsx("div",{className:"subway-panel text-[10px] px-2 py-1 rounded",style:{color:"var(--text-muted)"},children:"Scroll to zoom | Drag to pan"})})]}),g&&p.jsx(J4,{projectId:e,docTypeId:g,onClose:()=>x(null)})]})}function js({messages:e,pendingPrompt:t}){const n=k.useRef(null);return k.useEffect(()=>{var r;(r=n.current)==null||r.scrollIntoView({behavior:"smooth"})},[e,t]),p.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[e.map((r,i)=>p.jsx("div",{className:`flex ${r.role==="user"?"justify-end":"justify-start"}`,children:p.jsx("div",{className:`max-w-[85%] rounded-lg px-3 py-2 text-sm ${r.role==="user"?"bg-emerald-500/20 text-emerald-100 rounded-br-sm":"bg-violet-500/20 text-violet-100 rounded-bl-sm"}`,children:r.content})},i)),t&&p.jsx("div",{className:"flex justify-start",children:p.jsx("div",{className:"max-w-[85%] rounded-lg px-3 py-2 text-sm bg-violet-500/20 text-violet-100 rounded-bl-sm",children:t})}),p.jsx("div",{ref:n})]})}function pD({onSubmit:e,disabled:t,placeholder:n}){const[r,i]=k.useState(""),o=k.useRef(null);k.useEffect(()=>{var l;t||(l=o.current)==null||l.focus()},[t]);const s=l=>{l.key==="Enter"&&!l.shiftKey&&(l.preventDefault(),r.trim()&&!t&&(e(r.trim()),i("")))},a=()=>{r.trim()&&!t&&(e(r.trim()),i(""))};return p.jsxs("div",{className:"p-3 border-t",style:{borderColor:"var(--border-panel)"},children:[p.jsxs("div",{className:"flex gap-2",children:[p.jsx("textarea",{ref:o,value:r,onChange:l=>i(l.target.value),onKeyDown:s,disabled:t,placeholder:n||"Type your message...",rows:2,className:"flex-1 rounded-lg px-3 py-2 text-sm resize-none",style:{background:"var(--bg-input)",border:"1px solid var(--border-input)",color:"var(--text-primary)"}}),p.jsx("button",{onClick:a,disabled:t||!r.trim(),className:`px-4 rounded-lg font-medium text-sm transition-colors ${t||!r.trim()?"bg-slate-600 text-slate-400 cursor-not-allowed":"bg-violet-500 text-white hover:bg-violet-400"}`,children:"Send"})]}),p.jsx("p",{className:"text-[10px] mt-1",style:{color:"var(--text-muted)"},children:"Press Enter to send, Shift+Enter for newline"})]})}const mD={project_name:"Project Name",problem_statement:"Problem Statement",project_type:"Project Type"},gD=["project_name","problem_statement","project_type"];function vD({interpretation:e,missingFields:t,canInitialize:n,onUpdateField:r,onInitialize:i,loading:o}){const[s,a]=k.useState(null),[l,u]=k.useState(""),c=(h,y)=>{a(h),u(y)},f=async()=>{s&&l.trim()&&(await r(s,l.trim()),a(null),u(""))},d=()=>{a(null),u("")};return p.jsxs("div",{className:"p-4 space-y-4",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide",style:{color:"var(--text-muted)"},children:"Review & Lock"}),t.length>0&&p.jsxs("span",{className:"text-[10px] px-2 py-0.5 rounded bg-amber-500/20 text-amber-400",children:[t.length," missing"]})]}),gD.map(h=>{const y=e[h];if(!y)return null;const v=y.locked,w=t.includes(h),m=s===h;return p.jsxs("div",{className:"space-y-1",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("label",{className:"text-[10px] font-medium",style:{color:"var(--text-muted)"},children:[mD[h]||h,w&&p.jsx("span",{className:"text-amber-400 ml-1",children:"*"})]}),v&&p.jsx("span",{className:"text-[9px] px-1.5 py-0.5 rounded bg-emerald-500/20 text-emerald-400",children:"locked"})]}),m?p.jsxs("div",{className:"flex gap-2",children:[p.jsx("input",{type:"text",value:l,onChange:g=>u(g.target.value),onKeyDown:g=>{g.key==="Enter"&&f(),g.key==="Escape"&&d()},autoFocus:!0,className:"flex-1 rounded px-2 py-1.5 text-xs",style:{background:"var(--bg-input)",border:"1px solid var(--border-input)",color:"var(--text-primary)"}}),p.jsx("button",{onClick:f,className:"px-2 py-1 rounded text-xs bg-emerald-500 text-white",children:"Save"}),p.jsx("button",{onClick:d,className:"px-2 py-1 rounded text-xs",style:{background:"var(--bg-button)",color:"var(--text-muted)"},children:"Cancel"})]}):p.jsx("div",{onClick:()=>!v&&c(h,y.value),className:`rounded px-2 py-1.5 text-xs ${v?"cursor-default":"cursor-pointer hover:bg-white/5"} ${w?"border border-amber-500/50":""}`,style:{background:"var(--bg-input)",color:y.value?"var(--text-primary)":"var(--text-muted)"},children:y.value||"Click to edit..."})]},h)}),p.jsx("button",{onClick:i,disabled:!n||o,className:`w-full py-2.5 rounded-lg text-sm font-medium transition-colors ${n&&!o?"bg-violet-500 text-white hover:bg-violet-400":"bg-slate-600 text-slate-400 cursor-not-allowed"}`,children:o?"Initializing...":"Lock & Initialize Project"}),!n&&p.jsx("p",{className:"text-[10px] text-center",style:{color:"var(--text-muted)"},children:"Fill all required fields to continue"})]})}function yD(){return p.jsxs("div",{className:"flex flex-col items-center justify-center py-8 px-4",children:[p.jsxs("div",{className:"relative w-16 h-16 mb-4",children:[p.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-violet-500/20"}),p.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-t-violet-500 border-r-transparent border-b-transparent border-l-transparent animate-spin"}),p.jsx("div",{className:"absolute inset-3 rounded-full bg-violet-500/20 animate-pulse"})]}),p.jsx("h3",{className:"text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Generating Project"}),p.jsx("p",{className:"text-xs text-center max-w-[200px]",style:{color:"var(--text-muted)"},children:"Creating intake document and running quality checks..."}),p.jsxs("div",{className:"flex gap-1 mt-4",children:[p.jsx("div",{className:"w-2 h-2 rounded-full bg-violet-500 animate-bounce",style:{animationDelay:"0ms"}}),p.jsx("div",{className:"w-2 h-2 rounded-full bg-violet-500 animate-bounce",style:{animationDelay:"150ms"}}),p.jsx("div",{className:"w-2 h-2 rounded-full bg-violet-500 animate-bounce",style:{animationDelay:"300ms"}})]})]})}const ib={qualified:{icon:"check",iconBg:"bg-emerald-500/20",iconColor:"text-emerald-400",title:"Project Created",description:"Your project is ready for PM Discovery."},not_ready:{icon:"warning",iconBg:"bg-amber-500/20",iconColor:"text-amber-400",title:"Not Ready",description:"Additional information is needed before proceeding."},out_of_scope:{icon:"x",iconBg:"bg-slate-500/20",iconColor:"text-slate-400",title:"Out of Scope",description:"This request is outside the scope of The Combine."},redirect:{icon:"arrow",iconBg:"bg-blue-500/20",iconColor:"text-blue-400",title:"Redirected",description:"This request has been redirected to a different engagement type."},blocked:{icon:"warning",iconBg:"bg-amber-500/20",iconColor:"text-amber-400",title:"Blocked",description:"The workflow could not complete due to validation issues."}};function xD({type:e,className:t}){switch(e){case"check":return p.jsx("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:p.jsx("polyline",{points:"20 6 9 17 4 12"})});case"warning":return p.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M12 9v4M12 17h.01"}),p.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"})]});case"x":return p.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),p.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]});case"arrow":return p.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),p.jsx("polyline",{points:"12 5 19 12 12 19"})]});default:return null}}function _D({gateOutcome:e,project:t,onViewProject:n,onClose:r}){const i=ib[e]||ib.blocked,o=e==="qualified";return p.jsxs("div",{className:"p-6 text-center",children:[p.jsx("div",{className:`w-16 h-16 rounded-full ${i.iconBg} flex items-center justify-center mx-auto mb-4`,children:p.jsx(xD,{type:i.icon,className:`w-8 h-8 ${i.iconColor}`})}),p.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:"var(--text-primary)"},children:i.title}),p.jsx("p",{className:"text-sm mb-4",style:{color:"var(--text-muted)"},children:i.description}),o&&t&&p.jsxs("div",{className:"rounded-lg p-3 mb-4",style:{background:"var(--bg-input)"},children:[p.jsx("p",{className:"text-xs font-mono mb-1",style:{color:"var(--text-muted)"},children:t.project_id}),p.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:t.name})]}),p.jsxs("div",{className:"flex gap-2 justify-center",children:[o&&t&&p.jsx("button",{onClick:n,className:"px-4 py-2 rounded-lg text-sm font-medium bg-emerald-500 text-white hover:bg-emerald-400 transition-colors",children:"View Project"}),p.jsx("button",{onClick:r,className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors",style:{background:"var(--bg-button)",color:"var(--text-muted)"},children:"Close"})]})]})}function wD({onClose:e,onComplete:t}){const{phase:n,messages:r,pendingPrompt:i,interpretation:o,missingFields:s,canInitialize:a,gateOutcome:l,project:u,error:c,loading:f,submitting:d,startIntake:h,submitMessage:y,updateField:v,lockAndGenerate:w,reset:m}=cD();k.useEffect(()=>(h(),()=>m()),[]);const g=()=>{m(),e()},x=()=>{u&&t&&t(u),g()},_=()=>{const S=[{id:"describe",label:"Describe"},{id:"review",label:"Review"},{id:"generating",label:"Generate"},{id:"complete",label:"Done"}],N=S.findIndex(T=>T.id===n);return p.jsx("div",{className:"flex items-center gap-1 text-[10px]",children:S.map((T,R)=>p.jsxs("div",{className:"flex items-center",children:[p.jsx("span",{className:`px-2 py-0.5 rounded ${R===N?"bg-violet-500/30 text-violet-300":R<N?"text-emerald-400":"text-slate-500"}`,children:T.label}),R<S.length-1&&p.jsx("span",{className:"mx-1 text-slate-600",children:"/"})]},T.id))})},E=()=>{if(f&&n==="idle")return p.jsx("div",{className:"flex-1 flex items-center justify-center",children:p.jsx("div",{className:"w-8 h-8 border-2 border-t-violet-500 border-r-transparent border-b-transparent border-l-transparent rounded-full animate-spin"})});switch(n){case"describe":return p.jsxs(p.Fragment,{children:[p.jsx(js,{messages:r,pendingPrompt:i}),p.jsx(pD,{onSubmit:y,disabled:d,placeholder:"Describe what you want to build..."})]});case"review":return p.jsxs(p.Fragment,{children:[p.jsx(js,{messages:r}),p.jsx("div",{className:"border-t",style:{borderColor:"var(--border-panel)"},children:p.jsx(vD,{interpretation:o,missingFields:s,canInitialize:a,onUpdateField:v,onInitialize:w,loading:f})})]});case"generating":return p.jsxs(p.Fragment,{children:[p.jsx(js,{messages:r}),p.jsx(yD,{})]});case"complete":return p.jsxs(p.Fragment,{children:[p.jsx(js,{messages:r}),p.jsx(_D,{gateOutcome:l,project:u,onViewProject:x,onClose:g})]});default:return null}};return p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0, 0, 0, 0.6)"},children:p.jsxs("div",{className:"flex flex-col w-full max-w-lg h-[80vh] rounded-xl shadow-2xl tray-slide",style:{background:"var(--bg-panel)",border:"1px solid var(--border-panel)"},children:[p.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b",style:{borderColor:"var(--border-panel)"},children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-8 h-8 rounded-lg bg-violet-500/20 flex items-center justify-center",children:p.jsx("svg",{className:"w-4 h-4 text-violet-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:p.jsx("path",{d:"M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"})})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:"New Project"}),_()]})]}),p.jsx("button",{onClick:g,className:"p-2 rounded-lg hover:bg-white/10 transition-colors",style:{color:"var(--text-muted)"},children:p.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),p.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),c&&p.jsx("div",{className:"px-4 py-2 bg-red-500/20 text-red-300 text-sm",children:c}),E()]})})}function bD(){var g,x;const{projects:e,loading:t,error:n,refresh:r}=aD(),[i,o]=k.useState(null),[s,a]=k.useState(null),[l,u]=k.useState(!1),{theme:c,setTheme:f}=uD(),d=Object.keys(e),h=i&&e[i]?i:d[0]||null;k.useEffect(()=>{if(h&&e[h]){const _=e[h];document.title=`${_.projectId} - The Combine`}else document.title="The Combine"},[h,e]);const y=_=>{o(_),a(null)},v=()=>{u(!0)},w=async _=>{await r(),_&&_.id&&(o(_.id),a("concierge_intake")),u(!1)},m=()=>{u(!1)};return t?p.jsx("div",{className:`flex h-screen items-center justify-center theme-${c}`,style:{background:"var(--bg-canvas)"},children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"w-8 h-8 border-2 border-t-emerald-500 border-r-transparent border-b-transparent border-l-transparent rounded-full animate-spin mx-auto mb-4"}),p.jsx("p",{style:{color:"var(--text-muted)"},children:"Loading projects..."})]})}):n?p.jsx("div",{className:`flex h-screen items-center justify-center theme-${c}`,style:{background:"var(--bg-canvas)"},children:p.jsxs("div",{className:"text-center p-6 rounded-lg",style:{background:"var(--bg-panel)"},children:[p.jsxs("p",{className:"text-red-500 mb-4",children:["Failed to load projects: ",n]}),p.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-emerald-500 text-white rounded hover:bg-emerald-600",children:"Retry"})]})}):p.jsxs("div",{className:`flex h-screen theme-${c}`,children:[p.jsx(w4,{projects:e,selectedId:h,onSelectProject:y,onNewProject:v}),p.jsx("div",{className:"flex-1",children:h?p.jsx(wg,{children:p.jsx(hD,{projectId:h,projectCode:(g=e[h])==null?void 0:g.projectId,projectName:(x=e[h])==null?void 0:x.name,autoExpandNodeId:s,theme:c,onThemeChange:f})},h):p.jsx("div",{className:"flex items-center justify-center h-full",style:{background:"var(--bg-canvas)"},children:p.jsx("div",{className:"text-center",children:p.jsx("p",{style:{color:"var(--text-muted)"},children:"No projects yet. Create one to get started."})})})}),l&&p.jsx(wD,{onClose:m,onComplete:w})]})}Zh.createRoot(document.getElementById("root")).render(p.jsx(B.StrictMode,{children:p.jsx(bD,{})}));
//# sourceMappingURL=index-DYLjuIrI.js.map
