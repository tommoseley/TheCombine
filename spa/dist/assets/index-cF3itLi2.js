(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var rs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ym(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var p_={exports:{}},La={},m_={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vo=Symbol.for("react.element"),ZN=Symbol.for("react.portal"),JN=Symbol.for("react.fragment"),ej=Symbol.for("react.strict_mode"),tj=Symbol.for("react.profiler"),nj=Symbol.for("react.provider"),rj=Symbol.for("react.context"),ij=Symbol.for("react.forward_ref"),oj=Symbol.for("react.suspense"),sj=Symbol.for("react.memo"),aj=Symbol.for("react.lazy"),tv=Symbol.iterator;function lj(e){return e===null||typeof e!="object"?null:(e=tv&&e[tv]||e["@@iterator"],typeof e=="function"?e:null)}var g_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v_=Object.assign,y_={};function ki(e,t,n){this.props=e,this.context=t,this.refs=y_,this.updater=n||g_}ki.prototype.isReactComponent={};ki.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ki.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function x_(){}x_.prototype=ki.prototype;function xm(e,t,n){this.props=e,this.context=t,this.refs=y_,this.updater=n||g_}var wm=xm.prototype=new x_;wm.constructor=xm;v_(wm,ki.prototype);wm.isPureReactComponent=!0;var nv=Array.isArray,w_=Object.prototype.hasOwnProperty,bm={current:null},b_={key:!0,ref:!0,__self:!0,__source:!0};function __(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)w_.call(t,r)&&!b_.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Vo,type:e,key:o,ref:s,props:i,_owner:bm.current}}function uj(e,t){return{$$typeof:Vo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function _m(e){return typeof e=="object"&&e!==null&&e.$$typeof===Vo}function cj(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var rv=/\/+/g;function Cl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?cj(""+e.key):t.toString(36)}function qs(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Vo:case ZN:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Cl(s,0):r,nv(i)?(n="",e!=null&&(n=e.replace(rv,"$&/")+"/"),qs(i,t,n,"",function(u){return u})):i!=null&&(_m(i)&&(i=uj(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(rv,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",nv(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+Cl(o,a);s+=qs(o,t,n,l,i)}else if(l=lj(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+Cl(o,a++),s+=qs(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function is(e,t,n){if(e==null)return e;var r=[],i=0;return qs(e,r,"","",function(o){return t.call(n,o,i++)}),r}function dj(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var it={current:null},zs={transition:null},fj={ReactCurrentDispatcher:it,ReactCurrentBatchConfig:zs,ReactCurrentOwner:bm};function S_(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:is,forEach:function(e,t,n){is(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return is(e,function(){t++}),t},toArray:function(e){return is(e,function(t){return t})||[]},only:function(e){if(!_m(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Component=ki;ne.Fragment=JN;ne.Profiler=tj;ne.PureComponent=xm;ne.StrictMode=ej;ne.Suspense=oj;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fj;ne.act=S_;ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=v_({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=bm.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)w_.call(t,l)&&!b_.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Vo,type:e.type,key:i,ref:o,props:r,_owner:s}};ne.createContext=function(e){return e={$$typeof:rj,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:nj,_context:e},e.Consumer=e};ne.createElement=__;ne.createFactory=function(e){var t=__.bind(null,e);return t.type=e,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:ij,render:e}};ne.isValidElement=_m;ne.lazy=function(e){return{$$typeof:aj,_payload:{_status:-1,_result:e},_init:dj}};ne.memo=function(e,t){return{$$typeof:sj,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=zs.transition;zs.transition={};try{e()}finally{zs.transition=t}};ne.unstable_act=S_;ne.useCallback=function(e,t){return it.current.useCallback(e,t)};ne.useContext=function(e){return it.current.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e){return it.current.useDeferredValue(e)};ne.useEffect=function(e,t){return it.current.useEffect(e,t)};ne.useId=function(){return it.current.useId()};ne.useImperativeHandle=function(e,t,n){return it.current.useImperativeHandle(e,t,n)};ne.useInsertionEffect=function(e,t){return it.current.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return it.current.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return it.current.useMemo(e,t)};ne.useReducer=function(e,t,n){return it.current.useReducer(e,t,n)};ne.useRef=function(e){return it.current.useRef(e)};ne.useState=function(e){return it.current.useState(e)};ne.useSyncExternalStore=function(e,t,n){return it.current.useSyncExternalStore(e,t,n)};ne.useTransition=function(){return it.current.useTransition()};ne.version="18.3.1";m_.exports=ne;var _=m_.exports;const F=ym(_);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hj=_,pj=Symbol.for("react.element"),mj=Symbol.for("react.fragment"),gj=Object.prototype.hasOwnProperty,vj=hj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yj={key:!0,ref:!0,__self:!0,__source:!0};function k_(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)gj.call(t,r)&&!yj.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:pj,type:e,key:o,ref:s,props:i,_owner:vj.current}}La.Fragment=mj;La.jsx=k_;La.jsxs=k_;p_.exports=La;var d=p_.exports,sp={},E_={exports:{}},_t={},N_={exports:{}},j_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,C){var L=P.length;P.push(C);e:for(;0<L;){var O=L-1>>>1,D=P[O];if(0<i(D,C))P[O]=C,P[L]=D,L=O;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var C=P[0],L=P.pop();if(L!==C){P[0]=L;e:for(var O=0,D=P.length,B=D>>>1;O<B;){var V=2*(O+1)-1,K=P[V],Q=V+1,Z=P[Q];if(0>i(K,L))Q<D&&0>i(Z,K)?(P[O]=Z,P[Q]=L,O=Q):(P[O]=K,P[V]=L,O=V);else if(Q<D&&0>i(Z,L))P[O]=Z,P[Q]=L,O=Q;else break e}}return C}function i(P,C){var L=P.sortIndex-C.sortIndex;return L!==0?L:P.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,h=3,p=!1,y=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(P){for(var C=n(u);C!==null;){if(C.callback===null)r(u);else if(C.startTime<=P)r(u),C.sortIndex=C.expirationTime,t(l,C);else break;C=n(u)}}function x(P){if(v=!1,w(P),!y)if(n(l)!==null)y=!0,R(k);else{var C=n(u);C!==null&&z(x,C.startTime-P)}}function k(P,C){y=!1,v&&(v=!1,m(j),j=-1),p=!0;var L=h;try{for(w(C),f=n(l);f!==null&&(!(f.expirationTime>C)||P&&!M());){var O=f.callback;if(typeof O=="function"){f.callback=null,h=f.priorityLevel;var D=O(f.expirationTime<=C);C=e.unstable_now(),typeof D=="function"?f.callback=D:f===n(l)&&r(l),w(C)}else r(l);f=n(l)}if(f!==null)var B=!0;else{var V=n(u);V!==null&&z(x,V.startTime-C),B=!1}return B}finally{f=null,h=L,p=!1}}var E=!1,N=null,j=-1,T=5,A=-1;function M(){return!(e.unstable_now()-A<T)}function $(){if(N!==null){var P=e.unstable_now();A=P;var C=!0;try{C=N(!0,P)}finally{C?q():(E=!1,N=null)}}else E=!1}var q;if(typeof g=="function")q=function(){g($)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,I=S.port2;S.port1.onmessage=$,q=function(){I.postMessage(null)}}else q=function(){b($,0)};function R(P){N=P,E||(E=!0,q())}function z(P,C){j=b(function(){P(e.unstable_now())},C)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,R(k))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(P){switch(h){case 1:case 2:case 3:var C=3;break;default:C=h}var L=h;h=C;try{return P()}finally{h=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,C){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var L=h;h=P;try{return C()}finally{h=L}},e.unstable_scheduleCallback=function(P,C,L){var O=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?O+L:O):L=O,P){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=L+D,P={id:c++,callback:C,priorityLevel:P,startTime:L,expirationTime:D,sortIndex:-1},L>O?(P.sortIndex=L,t(u,P),n(l)===null&&P===n(u)&&(v?(m(j),j=-1):v=!0,z(x,L-O))):(P.sortIndex=D,t(l,P),y||p||(y=!0,R(k))),P},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(P){var C=h;return function(){var L=h;h=C;try{return P.apply(this,arguments)}finally{h=L}}}})(j_);N_.exports=j_;var xj=N_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wj=_,wt=xj;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var C_=new Set,xo={};function Mr(e,t){hi(e,t),hi(e+"Capture",t)}function hi(e,t){for(xo[e]=t,e=0;e<t.length;e++)C_.add(t[e])}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ap=Object.prototype.hasOwnProperty,bj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iv={},ov={};function _j(e){return ap.call(ov,e)?!0:ap.call(iv,e)?!1:bj.test(e)?ov[e]=!0:(iv[e]=!0,!1)}function Sj(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function kj(e,t,n,r){if(t===null||typeof t>"u"||Sj(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ot(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ge[e]=new ot(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ge[t]=new ot(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ge[e]=new ot(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ge[e]=new ot(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ge[e]=new ot(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ge[e]=new ot(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ge[e]=new ot(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ge[e]=new ot(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ge[e]=new ot(e,5,!1,e.toLowerCase(),null,!1,!1)});var Sm=/[\-:]([a-z])/g;function km(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Sm,km);Ge[t]=new ot(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Sm,km);Ge[t]=new ot(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Sm,km);Ge[t]=new ot(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ge[e]=new ot(e,1,!1,e.toLowerCase(),null,!1,!1)});Ge.xlinkHref=new ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ge[e]=new ot(e,1,!1,e.toLowerCase(),null,!0,!0)});function Em(e,t,n,r){var i=Ge.hasOwnProperty(t)?Ge[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(kj(t,n,i,r)&&(n=null),r||i===null?_j(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Cn=wj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,os=Symbol.for("react.element"),Wr=Symbol.for("react.portal"),Ur=Symbol.for("react.fragment"),Nm=Symbol.for("react.strict_mode"),lp=Symbol.for("react.profiler"),T_=Symbol.for("react.provider"),R_=Symbol.for("react.context"),jm=Symbol.for("react.forward_ref"),up=Symbol.for("react.suspense"),cp=Symbol.for("react.suspense_list"),Cm=Symbol.for("react.memo"),On=Symbol.for("react.lazy"),I_=Symbol.for("react.offscreen"),sv=Symbol.iterator;function Oi(e){return e===null||typeof e!="object"?null:(e=sv&&e[sv]||e["@@iterator"],typeof e=="function"?e:null)}var Ne=Object.assign,Tl;function Yi(e){if(Tl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Tl=t&&t[1]||""}return`
`+Tl+e}var Rl=!1;function Il(e,t){if(!e||Rl)return"";Rl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{Rl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Yi(e):""}function Ej(e){switch(e.tag){case 5:return Yi(e.type);case 16:return Yi("Lazy");case 13:return Yi("Suspense");case 19:return Yi("SuspenseList");case 0:case 2:case 15:return e=Il(e.type,!1),e;case 11:return e=Il(e.type.render,!1),e;case 1:return e=Il(e.type,!0),e;default:return""}}function dp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ur:return"Fragment";case Wr:return"Portal";case lp:return"Profiler";case Nm:return"StrictMode";case up:return"Suspense";case cp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case R_:return(e.displayName||"Context")+".Consumer";case T_:return(e._context.displayName||"Context")+".Provider";case jm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Cm:return t=e.displayName||null,t!==null?t:dp(e.type)||"Memo";case On:t=e._payload,e=e._init;try{return dp(e(t))}catch{}}return null}function Nj(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dp(t);case 8:return t===Nm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function nr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function P_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jj(e){var t=P_(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ss(e){e._valueTracker||(e._valueTracker=jj(e))}function M_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=P_(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Js(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function fp(e,t){var n=t.checked;return Ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function av(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=nr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function A_(e,t){t=t.checked,t!=null&&Em(e,"checked",t,!1)}function hp(e,t){A_(e,t);var n=nr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?pp(e,t.type,n):t.hasOwnProperty("defaultValue")&&pp(e,t.type,nr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function lv(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function pp(e,t,n){(t!=="number"||Js(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Xi=Array.isArray;function ii(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+nr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function mp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return Ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function uv(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(H(92));if(Xi(n)){if(1<n.length)throw Error(H(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:nr(n)}}function O_(e,t){var n=nr(t.value),r=nr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function cv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function L_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?L_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var as,q_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(as=as||document.createElement("div"),as.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=as.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function wo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ao={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cj=["Webkit","ms","Moz","O"];Object.keys(ao).forEach(function(e){Cj.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ao[t]=ao[e]})});function z_(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ao.hasOwnProperty(e)&&ao[e]?(""+t).trim():t+"px"}function D_(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=z_(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Tj=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vp(e,t){if(t){if(Tj[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function yp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xp=null;function Tm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wp=null,oi=null,si=null;function dv(e){if(e=Go(e)){if(typeof wp!="function")throw Error(H(280));var t=e.stateNode;t&&(t=Fa(t),wp(e.stateNode,e.type,t))}}function $_(e){oi?si?si.push(e):si=[e]:oi=e}function F_(){if(oi){var e=oi,t=si;if(si=oi=null,dv(e),t)for(e=0;e<t.length;e++)dv(t[e])}}function B_(e,t){return e(t)}function H_(){}var Pl=!1;function V_(e,t,n){if(Pl)return e(t,n);Pl=!0;try{return B_(e,t,n)}finally{Pl=!1,(oi!==null||si!==null)&&(H_(),F_())}}function bo(e,t){var n=e.stateNode;if(n===null)return null;var r=Fa(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(H(231,t,typeof n));return n}var bp=!1;if(bn)try{var Li={};Object.defineProperty(Li,"passive",{get:function(){bp=!0}}),window.addEventListener("test",Li,Li),window.removeEventListener("test",Li,Li)}catch{bp=!1}function Rj(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var lo=!1,ea=null,ta=!1,_p=null,Ij={onError:function(e){lo=!0,ea=e}};function Pj(e,t,n,r,i,o,s,a,l){lo=!1,ea=null,Rj.apply(Ij,arguments)}function Mj(e,t,n,r,i,o,s,a,l){if(Pj.apply(this,arguments),lo){if(lo){var u=ea;lo=!1,ea=null}else throw Error(H(198));ta||(ta=!0,_p=u)}}function Ar(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function W_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function fv(e){if(Ar(e)!==e)throw Error(H(188))}function Aj(e){var t=e.alternate;if(!t){if(t=Ar(e),t===null)throw Error(H(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return fv(i),e;if(o===r)return fv(i),t;o=o.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?e:t}function U_(e){return e=Aj(e),e!==null?G_(e):null}function G_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=G_(e);if(t!==null)return t;e=e.sibling}return null}var K_=wt.unstable_scheduleCallback,hv=wt.unstable_cancelCallback,Oj=wt.unstable_shouldYield,Lj=wt.unstable_requestPaint,Ie=wt.unstable_now,qj=wt.unstable_getCurrentPriorityLevel,Rm=wt.unstable_ImmediatePriority,Y_=wt.unstable_UserBlockingPriority,na=wt.unstable_NormalPriority,zj=wt.unstable_LowPriority,X_=wt.unstable_IdlePriority,qa=null,tn=null;function Dj(e){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(qa,e,void 0,(e.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:Bj,$j=Math.log,Fj=Math.LN2;function Bj(e){return e>>>=0,e===0?32:31-($j(e)/Fj|0)|0}var ls=64,us=4194304;function Qi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ra(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Qi(a):(o&=s,o!==0&&(r=Qi(o)))}else s=n&~i,s!==0?r=Qi(s):o!==0&&(r=Qi(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Bt(t),i=1<<n,r|=e[n],t&=~i;return r}function Hj(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vj(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Bt(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=Hj(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function Sp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Q_(){var e=ls;return ls<<=1,!(ls&4194240)&&(ls=64),e}function Ml(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Wo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Bt(t),e[t]=n}function Wj(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Bt(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Im(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Bt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var fe=0;function Z_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var J_,Pm,e2,t2,n2,kp=!1,cs=[],Un=null,Gn=null,Kn=null,_o=new Map,So=new Map,Dn=[],Uj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pv(e,t){switch(e){case"focusin":case"focusout":Un=null;break;case"dragenter":case"dragleave":Gn=null;break;case"mouseover":case"mouseout":Kn=null;break;case"pointerover":case"pointerout":_o.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":So.delete(t.pointerId)}}function qi(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Go(t),t!==null&&Pm(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Gj(e,t,n,r,i){switch(t){case"focusin":return Un=qi(Un,e,t,n,r,i),!0;case"dragenter":return Gn=qi(Gn,e,t,n,r,i),!0;case"mouseover":return Kn=qi(Kn,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return _o.set(o,qi(_o.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,So.set(o,qi(So.get(o)||null,e,t,n,r,i)),!0}return!1}function r2(e){var t=gr(e.target);if(t!==null){var n=Ar(t);if(n!==null){if(t=n.tag,t===13){if(t=W_(n),t!==null){e.blockedOn=t,n2(e.priority,function(){e2(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ds(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ep(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);xp=r,n.target.dispatchEvent(r),xp=null}else return t=Go(n),t!==null&&Pm(t),e.blockedOn=n,!1;t.shift()}return!0}function mv(e,t,n){Ds(e)&&n.delete(t)}function Kj(){kp=!1,Un!==null&&Ds(Un)&&(Un=null),Gn!==null&&Ds(Gn)&&(Gn=null),Kn!==null&&Ds(Kn)&&(Kn=null),_o.forEach(mv),So.forEach(mv)}function zi(e,t){e.blockedOn===t&&(e.blockedOn=null,kp||(kp=!0,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,Kj)))}function ko(e){function t(i){return zi(i,e)}if(0<cs.length){zi(cs[0],e);for(var n=1;n<cs.length;n++){var r=cs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Un!==null&&zi(Un,e),Gn!==null&&zi(Gn,e),Kn!==null&&zi(Kn,e),_o.forEach(t),So.forEach(t),n=0;n<Dn.length;n++)r=Dn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Dn.length&&(n=Dn[0],n.blockedOn===null);)r2(n),n.blockedOn===null&&Dn.shift()}var ai=Cn.ReactCurrentBatchConfig,ia=!0;function Yj(e,t,n,r){var i=fe,o=ai.transition;ai.transition=null;try{fe=1,Mm(e,t,n,r)}finally{fe=i,ai.transition=o}}function Xj(e,t,n,r){var i=fe,o=ai.transition;ai.transition=null;try{fe=4,Mm(e,t,n,r)}finally{fe=i,ai.transition=o}}function Mm(e,t,n,r){if(ia){var i=Ep(e,t,n,r);if(i===null)Hl(e,t,r,oa,n),pv(e,r);else if(Gj(i,e,t,n,r))r.stopPropagation();else if(pv(e,r),t&4&&-1<Uj.indexOf(e)){for(;i!==null;){var o=Go(i);if(o!==null&&J_(o),o=Ep(e,t,n,r),o===null&&Hl(e,t,r,oa,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Hl(e,t,r,null,n)}}var oa=null;function Ep(e,t,n,r){if(oa=null,e=Tm(r),e=gr(e),e!==null)if(t=Ar(e),t===null)e=null;else if(n=t.tag,n===13){if(e=W_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return oa=e,null}function i2(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qj()){case Rm:return 1;case Y_:return 4;case na:case zj:return 16;case X_:return 536870912;default:return 16}default:return 16}}var Vn=null,Am=null,$s=null;function o2(){if($s)return $s;var e,t=Am,n=t.length,r,i="value"in Vn?Vn.value:Vn.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return $s=i.slice(e,1<r?1-r:void 0)}function Fs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ds(){return!0}function gv(){return!1}function St(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ds:gv,this.isPropagationStopped=gv,this}return Ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ds)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ds)},persist:function(){},isPersistent:ds}),t}var Ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Om=St(Ei),Uo=Ne({},Ei,{view:0,detail:0}),Qj=St(Uo),Al,Ol,Di,za=Ne({},Uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Di&&(Di&&e.type==="mousemove"?(Al=e.screenX-Di.screenX,Ol=e.screenY-Di.screenY):Ol=Al=0,Di=e),Al)},movementY:function(e){return"movementY"in e?e.movementY:Ol}}),vv=St(za),Zj=Ne({},za,{dataTransfer:0}),Jj=St(Zj),eC=Ne({},Uo,{relatedTarget:0}),Ll=St(eC),tC=Ne({},Ei,{animationName:0,elapsedTime:0,pseudoElement:0}),nC=St(tC),rC=Ne({},Ei,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),iC=St(rC),oC=Ne({},Ei,{data:0}),yv=St(oC),sC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lC[e])?!!t[e]:!1}function Lm(){return uC}var cC=Ne({},Uo,{key:function(e){if(e.key){var t=sC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?aC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lm,charCode:function(e){return e.type==="keypress"?Fs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dC=St(cC),fC=Ne({},za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xv=St(fC),hC=Ne({},Uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lm}),pC=St(hC),mC=Ne({},Ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),gC=St(mC),vC=Ne({},za,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yC=St(vC),xC=[9,13,27,32],qm=bn&&"CompositionEvent"in window,uo=null;bn&&"documentMode"in document&&(uo=document.documentMode);var wC=bn&&"TextEvent"in window&&!uo,s2=bn&&(!qm||uo&&8<uo&&11>=uo),wv=" ",bv=!1;function a2(e,t){switch(e){case"keyup":return xC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function l2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gr=!1;function bC(e,t){switch(e){case"compositionend":return l2(t);case"keypress":return t.which!==32?null:(bv=!0,wv);case"textInput":return e=t.data,e===wv&&bv?null:e;default:return null}}function _C(e,t){if(Gr)return e==="compositionend"||!qm&&a2(e,t)?(e=o2(),$s=Am=Vn=null,Gr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return s2&&t.locale!=="ko"?null:t.data;default:return null}}var SC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _v(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!SC[e.type]:t==="textarea"}function u2(e,t,n,r){$_(r),t=sa(t,"onChange"),0<t.length&&(n=new Om("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var co=null,Eo=null;function kC(e){w2(e,0)}function Da(e){var t=Xr(e);if(M_(t))return e}function EC(e,t){if(e==="change")return t}var c2=!1;if(bn){var ql;if(bn){var zl="oninput"in document;if(!zl){var Sv=document.createElement("div");Sv.setAttribute("oninput","return;"),zl=typeof Sv.oninput=="function"}ql=zl}else ql=!1;c2=ql&&(!document.documentMode||9<document.documentMode)}function kv(){co&&(co.detachEvent("onpropertychange",d2),Eo=co=null)}function d2(e){if(e.propertyName==="value"&&Da(Eo)){var t=[];u2(t,Eo,e,Tm(e)),V_(kC,t)}}function NC(e,t,n){e==="focusin"?(kv(),co=t,Eo=n,co.attachEvent("onpropertychange",d2)):e==="focusout"&&kv()}function jC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Da(Eo)}function CC(e,t){if(e==="click")return Da(t)}function TC(e,t){if(e==="input"||e==="change")return Da(t)}function RC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wt=typeof Object.is=="function"?Object.is:RC;function No(e,t){if(Wt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ap.call(t,i)||!Wt(e[i],t[i]))return!1}return!0}function Ev(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Nv(e,t){var n=Ev(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ev(n)}}function f2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?f2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function h2(){for(var e=window,t=Js();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Js(e.document)}return t}function zm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function IC(e){var t=h2(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&f2(n.ownerDocument.documentElement,n)){if(r!==null&&zm(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Nv(n,o);var s=Nv(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var PC=bn&&"documentMode"in document&&11>=document.documentMode,Kr=null,Np=null,fo=null,jp=!1;function jv(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jp||Kr==null||Kr!==Js(r)||(r=Kr,"selectionStart"in r&&zm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fo&&No(fo,r)||(fo=r,r=sa(Np,"onSelect"),0<r.length&&(t=new Om("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Kr)))}function fs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Yr={animationend:fs("Animation","AnimationEnd"),animationiteration:fs("Animation","AnimationIteration"),animationstart:fs("Animation","AnimationStart"),transitionend:fs("Transition","TransitionEnd")},Dl={},p2={};bn&&(p2=document.createElement("div").style,"AnimationEvent"in window||(delete Yr.animationend.animation,delete Yr.animationiteration.animation,delete Yr.animationstart.animation),"TransitionEvent"in window||delete Yr.transitionend.transition);function $a(e){if(Dl[e])return Dl[e];if(!Yr[e])return e;var t=Yr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in p2)return Dl[e]=t[n];return e}var m2=$a("animationend"),g2=$a("animationiteration"),v2=$a("animationstart"),y2=$a("transitionend"),x2=new Map,Cv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sr(e,t){x2.set(e,t),Mr(t,[e])}for(var $l=0;$l<Cv.length;$l++){var Fl=Cv[$l],MC=Fl.toLowerCase(),AC=Fl[0].toUpperCase()+Fl.slice(1);sr(MC,"on"+AC)}sr(m2,"onAnimationEnd");sr(g2,"onAnimationIteration");sr(v2,"onAnimationStart");sr("dblclick","onDoubleClick");sr("focusin","onFocus");sr("focusout","onBlur");sr(y2,"onTransitionEnd");hi("onMouseEnter",["mouseout","mouseover"]);hi("onMouseLeave",["mouseout","mouseover"]);hi("onPointerEnter",["pointerout","pointerover"]);hi("onPointerLeave",["pointerout","pointerover"]);Mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zi));function Tv(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Mj(r,t,void 0,e),e.currentTarget=null}function w2(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Tv(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Tv(i,a,u),o=l}}}if(ta)throw e=_p,ta=!1,_p=null,e}function me(e,t){var n=t[Pp];n===void 0&&(n=t[Pp]=new Set);var r=e+"__bubble";n.has(r)||(b2(t,e,2,!1),n.add(r))}function Bl(e,t,n){var r=0;t&&(r|=4),b2(n,e,r,t)}var hs="_reactListening"+Math.random().toString(36).slice(2);function jo(e){if(!e[hs]){e[hs]=!0,C_.forEach(function(n){n!=="selectionchange"&&(OC.has(n)||Bl(n,!1,e),Bl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hs]||(t[hs]=!0,Bl("selectionchange",!1,t))}}function b2(e,t,n,r){switch(i2(t)){case 1:var i=Yj;break;case 4:i=Xj;break;default:i=Mm}n=i.bind(null,t,n,e),i=void 0,!bp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hl(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=gr(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}V_(function(){var u=o,c=Tm(n),f=[];e:{var h=x2.get(e);if(h!==void 0){var p=Om,y=e;switch(e){case"keypress":if(Fs(n)===0)break e;case"keydown":case"keyup":p=dC;break;case"focusin":y="focus",p=Ll;break;case"focusout":y="blur",p=Ll;break;case"beforeblur":case"afterblur":p=Ll;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=vv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Jj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=pC;break;case m2:case g2:case v2:p=nC;break;case y2:p=gC;break;case"scroll":p=Qj;break;case"wheel":p=yC;break;case"copy":case"cut":case"paste":p=iC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=xv}var v=(t&4)!==0,b=!v&&e==="scroll",m=v?h!==null?h+"Capture":null:h;v=[];for(var g=u,w;g!==null;){w=g;var x=w.stateNode;if(w.tag===5&&x!==null&&(w=x,m!==null&&(x=bo(g,m),x!=null&&v.push(Co(g,x,w)))),b)break;g=g.return}0<v.length&&(h=new p(h,y,null,n,c),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==xp&&(y=n.relatedTarget||n.fromElement)&&(gr(y)||y[_n]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?gr(y):null,y!==null&&(b=Ar(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(v=vv,x="onMouseLeave",m="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=xv,x="onPointerLeave",m="onPointerEnter",g="pointer"),b=p==null?h:Xr(p),w=y==null?h:Xr(y),h=new v(x,g+"leave",p,n,c),h.target=b,h.relatedTarget=w,x=null,gr(c)===u&&(v=new v(m,g+"enter",y,n,c),v.target=w,v.relatedTarget=b,x=v),b=x,p&&y)t:{for(v=p,m=y,g=0,w=v;w;w=$r(w))g++;for(w=0,x=m;x;x=$r(x))w++;for(;0<g-w;)v=$r(v),g--;for(;0<w-g;)m=$r(m),w--;for(;g--;){if(v===m||m!==null&&v===m.alternate)break t;v=$r(v),m=$r(m)}v=null}else v=null;p!==null&&Rv(f,h,p,v,!1),y!==null&&b!==null&&Rv(f,b,y,v,!0)}}e:{if(h=u?Xr(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var k=EC;else if(_v(h))if(c2)k=TC;else{k=jC;var E=NC}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=CC);if(k&&(k=k(e,u))){u2(f,k,n,c);break e}E&&E(e,h,u),e==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&pp(h,"number",h.value)}switch(E=u?Xr(u):window,e){case"focusin":(_v(E)||E.contentEditable==="true")&&(Kr=E,Np=u,fo=null);break;case"focusout":fo=Np=Kr=null;break;case"mousedown":jp=!0;break;case"contextmenu":case"mouseup":case"dragend":jp=!1,jv(f,n,c);break;case"selectionchange":if(PC)break;case"keydown":case"keyup":jv(f,n,c)}var N;if(qm)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Gr?a2(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(s2&&n.locale!=="ko"&&(Gr||j!=="onCompositionStart"?j==="onCompositionEnd"&&Gr&&(N=o2()):(Vn=c,Am="value"in Vn?Vn.value:Vn.textContent,Gr=!0)),E=sa(u,j),0<E.length&&(j=new yv(j,e,null,n,c),f.push({event:j,listeners:E}),N?j.data=N:(N=l2(n),N!==null&&(j.data=N)))),(N=wC?bC(e,n):_C(e,n))&&(u=sa(u,"onBeforeInput"),0<u.length&&(c=new yv("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=N))}w2(f,t)})}function Co(e,t,n){return{instance:e,listener:t,currentTarget:n}}function sa(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=bo(e,n),o!=null&&r.unshift(Co(e,o,i)),o=bo(e,t),o!=null&&r.push(Co(e,o,i))),e=e.return}return r}function $r(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Rv(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=bo(n,o),l!=null&&s.unshift(Co(n,l,a))):i||(l=bo(n,o),l!=null&&s.push(Co(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var LC=/\r\n?/g,qC=/\u0000|\uFFFD/g;function Iv(e){return(typeof e=="string"?e:""+e).replace(LC,`
`).replace(qC,"")}function ps(e,t,n){if(t=Iv(t),Iv(e)!==t&&n)throw Error(H(425))}function aa(){}var Cp=null,Tp=null;function Rp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ip=typeof setTimeout=="function"?setTimeout:void 0,zC=typeof clearTimeout=="function"?clearTimeout:void 0,Pv=typeof Promise=="function"?Promise:void 0,DC=typeof queueMicrotask=="function"?queueMicrotask:typeof Pv<"u"?function(e){return Pv.resolve(null).then(e).catch($C)}:Ip;function $C(e){setTimeout(function(){throw e})}function Vl(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),ko(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ko(t)}function Yn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Mv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ni=Math.random().toString(36).slice(2),Jt="__reactFiber$"+Ni,To="__reactProps$"+Ni,_n="__reactContainer$"+Ni,Pp="__reactEvents$"+Ni,FC="__reactListeners$"+Ni,BC="__reactHandles$"+Ni;function gr(e){var t=e[Jt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_n]||n[Jt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Mv(e);e!==null;){if(n=e[Jt])return n;e=Mv(e)}return t}e=n,n=e.parentNode}return null}function Go(e){return e=e[Jt]||e[_n],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Xr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function Fa(e){return e[To]||null}var Mp=[],Qr=-1;function ar(e){return{current:e}}function ge(e){0>Qr||(e.current=Mp[Qr],Mp[Qr]=null,Qr--)}function he(e,t){Qr++,Mp[Qr]=e.current,e.current=t}var rr={},Je=ar(rr),ct=ar(!1),Nr=rr;function pi(e,t){var n=e.type.contextTypes;if(!n)return rr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function dt(e){return e=e.childContextTypes,e!=null}function la(){ge(ct),ge(Je)}function Av(e,t,n){if(Je.current!==rr)throw Error(H(168));he(Je,t),he(ct,n)}function _2(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(H(108,Nj(e)||"Unknown",i));return Ne({},n,r)}function ua(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||rr,Nr=Je.current,he(Je,e),he(ct,ct.current),!0}function Ov(e,t,n){var r=e.stateNode;if(!r)throw Error(H(169));n?(e=_2(e,t,Nr),r.__reactInternalMemoizedMergedChildContext=e,ge(ct),ge(Je),he(Je,e)):ge(ct),he(ct,n)}var hn=null,Ba=!1,Wl=!1;function S2(e){hn===null?hn=[e]:hn.push(e)}function HC(e){Ba=!0,S2(e)}function lr(){if(!Wl&&hn!==null){Wl=!0;var e=0,t=fe;try{var n=hn;for(fe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}hn=null,Ba=!1}catch(i){throw hn!==null&&(hn=hn.slice(e+1)),K_(Rm,lr),i}finally{fe=t,Wl=!1}}return null}var Zr=[],Jr=0,ca=null,da=0,kt=[],Et=0,jr=null,pn=1,mn="";function hr(e,t){Zr[Jr++]=da,Zr[Jr++]=ca,ca=e,da=t}function k2(e,t,n){kt[Et++]=pn,kt[Et++]=mn,kt[Et++]=jr,jr=e;var r=pn;e=mn;var i=32-Bt(r)-1;r&=~(1<<i),n+=1;var o=32-Bt(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,pn=1<<32-Bt(t)+i|n<<i|r,mn=o+e}else pn=1<<o|n<<i|r,mn=e}function Dm(e){e.return!==null&&(hr(e,1),k2(e,1,0))}function $m(e){for(;e===ca;)ca=Zr[--Jr],Zr[Jr]=null,da=Zr[--Jr],Zr[Jr]=null;for(;e===jr;)jr=kt[--Et],kt[Et]=null,mn=kt[--Et],kt[Et]=null,pn=kt[--Et],kt[Et]=null}var xt=null,yt=null,xe=!1,$t=null;function E2(e,t){var n=jt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Lv(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xt=e,yt=Yn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xt=e,yt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=jr!==null?{id:pn,overflow:mn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=jt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,xt=e,yt=null,!0):!1;default:return!1}}function Ap(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Op(e){if(xe){var t=yt;if(t){var n=t;if(!Lv(e,t)){if(Ap(e))throw Error(H(418));t=Yn(n.nextSibling);var r=xt;t&&Lv(e,t)?E2(r,n):(e.flags=e.flags&-4097|2,xe=!1,xt=e)}}else{if(Ap(e))throw Error(H(418));e.flags=e.flags&-4097|2,xe=!1,xt=e}}}function qv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xt=e}function ms(e){if(e!==xt)return!1;if(!xe)return qv(e),xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Rp(e.type,e.memoizedProps)),t&&(t=yt)){if(Ap(e))throw N2(),Error(H(418));for(;t;)E2(e,t),t=Yn(t.nextSibling)}if(qv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){yt=Yn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}yt=null}}else yt=xt?Yn(e.stateNode.nextSibling):null;return!0}function N2(){for(var e=yt;e;)e=Yn(e.nextSibling)}function mi(){yt=xt=null,xe=!1}function Fm(e){$t===null?$t=[e]:$t.push(e)}var VC=Cn.ReactCurrentBatchConfig;function $i(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,e))}return e}function gs(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zv(e){var t=e._init;return t(e._payload)}function j2(e){function t(m,g){if(e){var w=m.deletions;w===null?(m.deletions=[g],m.flags|=16):w.push(g)}}function n(m,g){if(!e)return null;for(;g!==null;)t(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function i(m,g){return m=Jn(m,g),m.index=0,m.sibling=null,m}function o(m,g,w){return m.index=w,e?(w=m.alternate,w!==null?(w=w.index,w<g?(m.flags|=2,g):w):(m.flags|=2,g)):(m.flags|=1048576,g)}function s(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,g,w,x){return g===null||g.tag!==6?(g=Zl(w,m.mode,x),g.return=m,g):(g=i(g,w),g.return=m,g)}function l(m,g,w,x){var k=w.type;return k===Ur?c(m,g,w.props.children,x,w.key):g!==null&&(g.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===On&&zv(k)===g.type)?(x=i(g,w.props),x.ref=$i(m,g,w),x.return=m,x):(x=Ks(w.type,w.key,w.props,null,m.mode,x),x.ref=$i(m,g,w),x.return=m,x)}function u(m,g,w,x){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=Jl(w,m.mode,x),g.return=m,g):(g=i(g,w.children||[]),g.return=m,g)}function c(m,g,w,x,k){return g===null||g.tag!==7?(g=Sr(w,m.mode,x,k),g.return=m,g):(g=i(g,w),g.return=m,g)}function f(m,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Zl(""+g,m.mode,w),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case os:return w=Ks(g.type,g.key,g.props,null,m.mode,w),w.ref=$i(m,null,g),w.return=m,w;case Wr:return g=Jl(g,m.mode,w),g.return=m,g;case On:var x=g._init;return f(m,x(g._payload),w)}if(Xi(g)||Oi(g))return g=Sr(g,m.mode,w,null),g.return=m,g;gs(m,g)}return null}function h(m,g,w,x){var k=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return k!==null?null:a(m,g,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case os:return w.key===k?l(m,g,w,x):null;case Wr:return w.key===k?u(m,g,w,x):null;case On:return k=w._init,h(m,g,k(w._payload),x)}if(Xi(w)||Oi(w))return k!==null?null:c(m,g,w,x,null);gs(m,w)}return null}function p(m,g,w,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return m=m.get(w)||null,a(g,m,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case os:return m=m.get(x.key===null?w:x.key)||null,l(g,m,x,k);case Wr:return m=m.get(x.key===null?w:x.key)||null,u(g,m,x,k);case On:var E=x._init;return p(m,g,w,E(x._payload),k)}if(Xi(x)||Oi(x))return m=m.get(w)||null,c(g,m,x,k,null);gs(g,x)}return null}function y(m,g,w,x){for(var k=null,E=null,N=g,j=g=0,T=null;N!==null&&j<w.length;j++){N.index>j?(T=N,N=null):T=N.sibling;var A=h(m,N,w[j],x);if(A===null){N===null&&(N=T);break}e&&N&&A.alternate===null&&t(m,N),g=o(A,g,j),E===null?k=A:E.sibling=A,E=A,N=T}if(j===w.length)return n(m,N),xe&&hr(m,j),k;if(N===null){for(;j<w.length;j++)N=f(m,w[j],x),N!==null&&(g=o(N,g,j),E===null?k=N:E.sibling=N,E=N);return xe&&hr(m,j),k}for(N=r(m,N);j<w.length;j++)T=p(N,m,j,w[j],x),T!==null&&(e&&T.alternate!==null&&N.delete(T.key===null?j:T.key),g=o(T,g,j),E===null?k=T:E.sibling=T,E=T);return e&&N.forEach(function(M){return t(m,M)}),xe&&hr(m,j),k}function v(m,g,w,x){var k=Oi(w);if(typeof k!="function")throw Error(H(150));if(w=k.call(w),w==null)throw Error(H(151));for(var E=k=null,N=g,j=g=0,T=null,A=w.next();N!==null&&!A.done;j++,A=w.next()){N.index>j?(T=N,N=null):T=N.sibling;var M=h(m,N,A.value,x);if(M===null){N===null&&(N=T);break}e&&N&&M.alternate===null&&t(m,N),g=o(M,g,j),E===null?k=M:E.sibling=M,E=M,N=T}if(A.done)return n(m,N),xe&&hr(m,j),k;if(N===null){for(;!A.done;j++,A=w.next())A=f(m,A.value,x),A!==null&&(g=o(A,g,j),E===null?k=A:E.sibling=A,E=A);return xe&&hr(m,j),k}for(N=r(m,N);!A.done;j++,A=w.next())A=p(N,m,j,A.value,x),A!==null&&(e&&A.alternate!==null&&N.delete(A.key===null?j:A.key),g=o(A,g,j),E===null?k=A:E.sibling=A,E=A);return e&&N.forEach(function($){return t(m,$)}),xe&&hr(m,j),k}function b(m,g,w,x){if(typeof w=="object"&&w!==null&&w.type===Ur&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case os:e:{for(var k=w.key,E=g;E!==null;){if(E.key===k){if(k=w.type,k===Ur){if(E.tag===7){n(m,E.sibling),g=i(E,w.props.children),g.return=m,m=g;break e}}else if(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===On&&zv(k)===E.type){n(m,E.sibling),g=i(E,w.props),g.ref=$i(m,E,w),g.return=m,m=g;break e}n(m,E);break}else t(m,E);E=E.sibling}w.type===Ur?(g=Sr(w.props.children,m.mode,x,w.key),g.return=m,m=g):(x=Ks(w.type,w.key,w.props,null,m.mode,x),x.ref=$i(m,g,w),x.return=m,m=x)}return s(m);case Wr:e:{for(E=w.key;g!==null;){if(g.key===E)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(m,g.sibling),g=i(g,w.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else t(m,g);g=g.sibling}g=Jl(w,m.mode,x),g.return=m,m=g}return s(m);case On:return E=w._init,b(m,g,E(w._payload),x)}if(Xi(w))return y(m,g,w,x);if(Oi(w))return v(m,g,w,x);gs(m,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(m,g.sibling),g=i(g,w),g.return=m,m=g):(n(m,g),g=Zl(w,m.mode,x),g.return=m,m=g),s(m)):n(m,g)}return b}var gi=j2(!0),C2=j2(!1),fa=ar(null),ha=null,ei=null,Bm=null;function Hm(){Bm=ei=ha=null}function Vm(e){var t=fa.current;ge(fa),e._currentValue=t}function Lp(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function li(e,t){ha=e,Bm=ei=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(lt=!0),e.firstContext=null)}function Rt(e){var t=e._currentValue;if(Bm!==e)if(e={context:e,memoizedValue:t,next:null},ei===null){if(ha===null)throw Error(H(308));ei=e,ha.dependencies={lanes:0,firstContext:e}}else ei=ei.next=e;return t}var vr=null;function Wm(e){vr===null?vr=[e]:vr.push(e)}function T2(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Wm(t)):(n.next=i.next,i.next=n),t.interleaved=n,Sn(e,r)}function Sn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ln=!1;function Um(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function R2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Sn(e,n)}return i=r.interleaved,i===null?(t.next=t,Wm(r)):(t.next=i.next,i.next=t),r.interleaved=t,Sn(e,n)}function Bs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Im(e,n)}}function Dv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function pa(e,t,n,r){var i=e.updateQueue;Ln=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var h=a.lane,p=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,v=a;switch(h=t,p=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){f=y.call(p,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,h=typeof y=="function"?y.call(p,f,h):y,h==null)break e;f=Ne({},f,h);break e;case 2:Ln=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Tr|=s,e.lanes=s,e.memoizedState=f}}function $v(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var Ko={},nn=ar(Ko),Ro=ar(Ko),Io=ar(Ko);function yr(e){if(e===Ko)throw Error(H(174));return e}function Gm(e,t){switch(he(Io,t),he(Ro,e),he(nn,Ko),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:gp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=gp(t,e)}ge(nn),he(nn,t)}function vi(){ge(nn),ge(Ro),ge(Io)}function I2(e){yr(Io.current);var t=yr(nn.current),n=gp(t,e.type);t!==n&&(he(Ro,e),he(nn,n))}function Km(e){Ro.current===e&&(ge(nn),ge(Ro))}var ke=ar(0);function ma(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ul=[];function Ym(){for(var e=0;e<Ul.length;e++)Ul[e]._workInProgressVersionPrimary=null;Ul.length=0}var Hs=Cn.ReactCurrentDispatcher,Gl=Cn.ReactCurrentBatchConfig,Cr=0,Ee=null,ze=null,Be=null,ga=!1,ho=!1,Po=0,WC=0;function Ye(){throw Error(H(321))}function Xm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Wt(e[n],t[n]))return!1;return!0}function Qm(e,t,n,r,i,o){if(Cr=o,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Hs.current=e===null||e.memoizedState===null?YC:XC,e=n(r,i),ho){o=0;do{if(ho=!1,Po=0,25<=o)throw Error(H(301));o+=1,Be=ze=null,t.updateQueue=null,Hs.current=QC,e=n(r,i)}while(ho)}if(Hs.current=va,t=ze!==null&&ze.next!==null,Cr=0,Be=ze=Ee=null,ga=!1,t)throw Error(H(300));return e}function Zm(){var e=Po!==0;return Po=0,e}function Zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Ee.memoizedState=Be=e:Be=Be.next=e,Be}function It(){if(ze===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=ze.next;var t=Be===null?Ee.memoizedState:Be.next;if(t!==null)Be=t,ze=e;else{if(e===null)throw Error(H(310));ze=e,e={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},Be===null?Ee.memoizedState=Be=e:Be=Be.next=e}return Be}function Mo(e,t){return typeof t=="function"?t(e):t}function Kl(e){var t=It(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=ze,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Cr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,Ee.lanes|=c,Tr|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Wt(r,t.memoizedState)||(lt=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Ee.lanes|=o,Tr|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Yl(e){var t=It(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Wt(o,t.memoizedState)||(lt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function P2(){}function M2(e,t){var n=Ee,r=It(),i=t(),o=!Wt(r.memoizedState,i);if(o&&(r.memoizedState=i,lt=!0),r=r.queue,Jm(L2.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Be!==null&&Be.memoizedState.tag&1){if(n.flags|=2048,Ao(9,O2.bind(null,n,r,i,t),void 0,null),He===null)throw Error(H(349));Cr&30||A2(n,t,i)}return i}function A2(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function O2(e,t,n,r){t.value=n,t.getSnapshot=r,q2(t)&&z2(e)}function L2(e,t,n){return n(function(){q2(t)&&z2(e)})}function q2(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Wt(e,n)}catch{return!0}}function z2(e){var t=Sn(e,1);t!==null&&Ht(t,e,1,-1)}function Fv(e){var t=Zt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mo,lastRenderedState:e},t.queue=e,e=e.dispatch=KC.bind(null,Ee,e),[t.memoizedState,e]}function Ao(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function D2(){return It().memoizedState}function Vs(e,t,n,r){var i=Zt();Ee.flags|=e,i.memoizedState=Ao(1|t,n,void 0,r===void 0?null:r)}function Ha(e,t,n,r){var i=It();r=r===void 0?null:r;var o=void 0;if(ze!==null){var s=ze.memoizedState;if(o=s.destroy,r!==null&&Xm(r,s.deps)){i.memoizedState=Ao(t,n,o,r);return}}Ee.flags|=e,i.memoizedState=Ao(1|t,n,o,r)}function Bv(e,t){return Vs(8390656,8,e,t)}function Jm(e,t){return Ha(2048,8,e,t)}function $2(e,t){return Ha(4,2,e,t)}function F2(e,t){return Ha(4,4,e,t)}function B2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function H2(e,t,n){return n=n!=null?n.concat([e]):null,Ha(4,4,B2.bind(null,t,e),n)}function eg(){}function V2(e,t){var n=It();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Xm(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function W2(e,t){var n=It();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Xm(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function U2(e,t,n){return Cr&21?(Wt(n,t)||(n=Q_(),Ee.lanes|=n,Tr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,lt=!0),e.memoizedState=n)}function UC(e,t){var n=fe;fe=n!==0&&4>n?n:4,e(!0);var r=Gl.transition;Gl.transition={};try{e(!1),t()}finally{fe=n,Gl.transition=r}}function G2(){return It().memoizedState}function GC(e,t,n){var r=Zn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},K2(e))Y2(t,n);else if(n=T2(e,t,n,r),n!==null){var i=rt();Ht(n,e,r,i),X2(n,t,r)}}function KC(e,t,n){var r=Zn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(K2(e))Y2(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Wt(a,s)){var l=t.interleaved;l===null?(i.next=i,Wm(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=T2(e,t,i,r),n!==null&&(i=rt(),Ht(n,e,r,i),X2(n,t,r))}}function K2(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function Y2(e,t){ho=ga=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function X2(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Im(e,n)}}var va={readContext:Rt,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useInsertionEffect:Ye,useLayoutEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useMutableSource:Ye,useSyncExternalStore:Ye,useId:Ye,unstable_isNewReconciler:!1},YC={readContext:Rt,useCallback:function(e,t){return Zt().memoizedState=[e,t===void 0?null:t],e},useContext:Rt,useEffect:Bv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Vs(4194308,4,B2.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vs(4,2,e,t)},useMemo:function(e,t){var n=Zt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Zt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=GC.bind(null,Ee,e),[r.memoizedState,e]},useRef:function(e){var t=Zt();return e={current:e},t.memoizedState=e},useState:Fv,useDebugValue:eg,useDeferredValue:function(e){return Zt().memoizedState=e},useTransition:function(){var e=Fv(!1),t=e[0];return e=UC.bind(null,e[1]),Zt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ee,i=Zt();if(xe){if(n===void 0)throw Error(H(407));n=n()}else{if(n=t(),He===null)throw Error(H(349));Cr&30||A2(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Bv(L2.bind(null,r,o,e),[e]),r.flags|=2048,Ao(9,O2.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Zt(),t=He.identifierPrefix;if(xe){var n=mn,r=pn;n=(r&~(1<<32-Bt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Po++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=WC++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},XC={readContext:Rt,useCallback:V2,useContext:Rt,useEffect:Jm,useImperativeHandle:H2,useInsertionEffect:$2,useLayoutEffect:F2,useMemo:W2,useReducer:Kl,useRef:D2,useState:function(){return Kl(Mo)},useDebugValue:eg,useDeferredValue:function(e){var t=It();return U2(t,ze.memoizedState,e)},useTransition:function(){var e=Kl(Mo)[0],t=It().memoizedState;return[e,t]},useMutableSource:P2,useSyncExternalStore:M2,useId:G2,unstable_isNewReconciler:!1},QC={readContext:Rt,useCallback:V2,useContext:Rt,useEffect:Jm,useImperativeHandle:H2,useInsertionEffect:$2,useLayoutEffect:F2,useMemo:W2,useReducer:Yl,useRef:D2,useState:function(){return Yl(Mo)},useDebugValue:eg,useDeferredValue:function(e){var t=It();return ze===null?t.memoizedState=e:U2(t,ze.memoizedState,e)},useTransition:function(){var e=Yl(Mo)[0],t=It().memoizedState;return[e,t]},useMutableSource:P2,useSyncExternalStore:M2,useId:G2,unstable_isNewReconciler:!1};function qt(e,t){if(e&&e.defaultProps){t=Ne({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function qp(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ne({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Va={isMounted:function(e){return(e=e._reactInternals)?Ar(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=rt(),i=Zn(e),o=xn(r,i);o.payload=t,n!=null&&(o.callback=n),t=Xn(e,o,i),t!==null&&(Ht(t,e,i,r),Bs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=rt(),i=Zn(e),o=xn(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Xn(e,o,i),t!==null&&(Ht(t,e,i,r),Bs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=rt(),r=Zn(e),i=xn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Xn(e,i,r),t!==null&&(Ht(t,e,r,n),Bs(t,e,r))}};function Hv(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!No(n,r)||!No(i,o):!0}function Q2(e,t,n){var r=!1,i=rr,o=t.contextType;return typeof o=="object"&&o!==null?o=Rt(o):(i=dt(t)?Nr:Je.current,r=t.contextTypes,o=(r=r!=null)?pi(e,i):rr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Va,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Vv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Va.enqueueReplaceState(t,t.state,null)}function zp(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Um(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Rt(o):(o=dt(t)?Nr:Je.current,i.context=pi(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(qp(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Va.enqueueReplaceState(i,i.state,null),pa(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function yi(e,t){try{var n="",r=t;do n+=Ej(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Xl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Dp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ZC=typeof WeakMap=="function"?WeakMap:Map;function Z2(e,t,n){n=xn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){xa||(xa=!0,Yp=r),Dp(e,t)},n}function J2(e,t,n){n=xn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Dp(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Dp(e,t),typeof r!="function"&&(Qn===null?Qn=new Set([this]):Qn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Wv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ZC;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=f4.bind(null,e,t,n),t.then(e,e))}function Uv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Gv(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=xn(-1,1),t.tag=2,Xn(n,t,1))),n.lanes|=1),e)}var JC=Cn.ReactCurrentOwner,lt=!1;function nt(e,t,n,r){t.child=e===null?C2(t,null,n,r):gi(t,e.child,n,r)}function Kv(e,t,n,r,i){n=n.render;var o=t.ref;return li(t,i),r=Qm(e,t,n,r,o,i),n=Zm(),e!==null&&!lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,kn(e,t,i)):(xe&&n&&Dm(t),t.flags|=1,nt(e,t,r,i),t.child)}function Yv(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!lg(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,eS(e,t,o,r,i)):(e=Ks(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:No,n(s,r)&&e.ref===t.ref)return kn(e,t,i)}return t.flags|=1,e=Jn(o,r),e.ref=t.ref,e.return=t,t.child=e}function eS(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(No(o,r)&&e.ref===t.ref)if(lt=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(lt=!0);else return t.lanes=e.lanes,kn(e,t,i)}return $p(e,t,n,r,i)}function tS(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(ni,gt),gt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,he(ni,gt),gt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,he(ni,gt),gt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,he(ni,gt),gt|=r;return nt(e,t,i,n),t.child}function nS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function $p(e,t,n,r,i){var o=dt(n)?Nr:Je.current;return o=pi(t,o),li(t,i),n=Qm(e,t,n,r,o,i),r=Zm(),e!==null&&!lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,kn(e,t,i)):(xe&&r&&Dm(t),t.flags|=1,nt(e,t,n,i),t.child)}function Xv(e,t,n,r,i){if(dt(n)){var o=!0;ua(t)}else o=!1;if(li(t,i),t.stateNode===null)Ws(e,t),Q2(t,n,r),zp(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Rt(u):(u=dt(n)?Nr:Je.current,u=pi(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Vv(t,s,r,u),Ln=!1;var h=t.memoizedState;s.state=h,pa(t,r,s,i),l=t.memoizedState,a!==r||h!==l||ct.current||Ln?(typeof c=="function"&&(qp(t,n,c,r),l=t.memoizedState),(a=Ln||Hv(t,n,a,r,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,R2(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:qt(t.type,a),s.props=u,f=t.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Rt(l):(l=dt(n)?Nr:Je.current,l=pi(t,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&Vv(t,s,r,l),Ln=!1,h=t.memoizedState,s.state=h,pa(t,r,s,i);var y=t.memoizedState;a!==f||h!==y||ct.current||Ln?(typeof p=="function"&&(qp(t,n,p,r),y=t.memoizedState),(u=Ln||Hv(t,n,u,r,h,y,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),s.props=r,s.state=y,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Fp(e,t,n,r,o,i)}function Fp(e,t,n,r,i,o){nS(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Ov(t,n,!1),kn(e,t,o);r=t.stateNode,JC.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=gi(t,e.child,null,o),t.child=gi(t,null,a,o)):nt(e,t,a,o),t.memoizedState=r.state,i&&Ov(t,n,!0),t.child}function rS(e){var t=e.stateNode;t.pendingContext?Av(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Av(e,t.context,!1),Gm(e,t.containerInfo)}function Qv(e,t,n,r,i){return mi(),Fm(i),t.flags|=256,nt(e,t,n,r),t.child}var Bp={dehydrated:null,treeContext:null,retryLane:0};function Hp(e){return{baseLanes:e,cachePool:null,transitions:null}}function iS(e,t,n){var r=t.pendingProps,i=ke.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),he(ke,i&1),e===null)return Op(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Ga(s,r,0,null),e=Sr(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Hp(n),t.memoizedState=Bp,e):tg(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return e4(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Jn(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Jn(a,o):(o=Sr(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?Hp(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Bp,r}return o=e.child,e=o.sibling,r=Jn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function tg(e,t){return t=Ga({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function vs(e,t,n,r){return r!==null&&Fm(r),gi(t,e.child,null,n),e=tg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function e4(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=Xl(Error(H(422))),vs(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Ga({mode:"visible",children:r.children},i,0,null),o=Sr(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&gi(t,e.child,null,s),t.child.memoizedState=Hp(s),t.memoizedState=Bp,o);if(!(t.mode&1))return vs(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(H(419)),r=Xl(o,r,void 0),vs(e,t,s,r)}if(a=(s&e.childLanes)!==0,lt||a){if(r=He,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Sn(e,i),Ht(r,e,i,-1))}return ag(),r=Xl(Error(H(421))),vs(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=h4.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,yt=Yn(i.nextSibling),xt=t,xe=!0,$t=null,e!==null&&(kt[Et++]=pn,kt[Et++]=mn,kt[Et++]=jr,pn=e.id,mn=e.overflow,jr=t),t=tg(t,r.children),t.flags|=4096,t)}function Zv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Lp(e.return,t,n)}function Ql(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function oS(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(nt(e,t,r.children,n),r=ke.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zv(e,n,t);else if(e.tag===19)Zv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(he(ke,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ma(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ql(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ma(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ql(t,!0,n,null,o);break;case"together":Ql(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Tr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,n=Jn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Jn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function t4(e,t,n){switch(t.tag){case 3:rS(t),mi();break;case 5:I2(t);break;case 1:dt(t.type)&&ua(t);break;case 4:Gm(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;he(fa,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(he(ke,ke.current&1),t.flags|=128,null):n&t.child.childLanes?iS(e,t,n):(he(ke,ke.current&1),e=kn(e,t,n),e!==null?e.sibling:null);he(ke,ke.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return oS(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),he(ke,ke.current),r)break;return null;case 22:case 23:return t.lanes=0,tS(e,t,n)}return kn(e,t,n)}var sS,Vp,aS,lS;sS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Vp=function(){};aS=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,yr(nn.current);var o=null;switch(n){case"input":i=fp(e,i),r=fp(e,r),o=[];break;case"select":i=Ne({},i,{value:void 0}),r=Ne({},r,{value:void 0}),o=[];break;case"textarea":i=mp(e,i),r=mp(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=aa)}vp(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(xo.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(xo.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&me("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};lS=function(e,t,n,r){n!==r&&(t.flags|=4)};function Fi(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function n4(e,t,n){var r=t.pendingProps;switch($m(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(t),null;case 1:return dt(t.type)&&la(),Xe(t),null;case 3:return r=t.stateNode,vi(),ge(ct),ge(Je),Ym(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ms(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,$t!==null&&(Zp($t),$t=null))),Vp(e,t),Xe(t),null;case 5:Km(t);var i=yr(Io.current);if(n=t.type,e!==null&&t.stateNode!=null)aS(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(H(166));return Xe(t),null}if(e=yr(nn.current),ms(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Jt]=t,r[To]=o,e=(t.mode&1)!==0,n){case"dialog":me("cancel",r),me("close",r);break;case"iframe":case"object":case"embed":me("load",r);break;case"video":case"audio":for(i=0;i<Zi.length;i++)me(Zi[i],r);break;case"source":me("error",r);break;case"img":case"image":case"link":me("error",r),me("load",r);break;case"details":me("toggle",r);break;case"input":av(r,o),me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},me("invalid",r);break;case"textarea":uv(r,o),me("invalid",r)}vp(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&ps(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&ps(r.textContent,a,e),i=["children",""+a]):xo.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&me("scroll",r)}switch(n){case"input":ss(r),lv(r,o,!0);break;case"textarea":ss(r),cv(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=aa)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=L_(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Jt]=t,e[To]=r,sS(e,t,!1,!1),t.stateNode=e;e:{switch(s=yp(n,r),n){case"dialog":me("cancel",e),me("close",e),i=r;break;case"iframe":case"object":case"embed":me("load",e),i=r;break;case"video":case"audio":for(i=0;i<Zi.length;i++)me(Zi[i],e);i=r;break;case"source":me("error",e),i=r;break;case"img":case"image":case"link":me("error",e),me("load",e),i=r;break;case"details":me("toggle",e),i=r;break;case"input":av(e,r),i=fp(e,r),me("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ne({},r,{value:void 0}),me("invalid",e);break;case"textarea":uv(e,r),i=mp(e,r),me("invalid",e);break;default:i=r}vp(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?D_(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&q_(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&wo(e,l):typeof l=="number"&&wo(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(xo.hasOwnProperty(o)?l!=null&&o==="onScroll"&&me("scroll",e):l!=null&&Em(e,o,l,s))}switch(n){case"input":ss(e),lv(e,r,!1);break;case"textarea":ss(e),cv(e);break;case"option":r.value!=null&&e.setAttribute("value",""+nr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?ii(e,!!r.multiple,o,!1):r.defaultValue!=null&&ii(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=aa)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xe(t),null;case 6:if(e&&t.stateNode!=null)lS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(H(166));if(n=yr(Io.current),yr(nn.current),ms(t)){if(r=t.stateNode,n=t.memoizedProps,r[Jt]=t,(o=r.nodeValue!==n)&&(e=xt,e!==null))switch(e.tag){case 3:ps(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ps(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Jt]=t,t.stateNode=r}return Xe(t),null;case 13:if(ge(ke),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xe&&yt!==null&&t.mode&1&&!(t.flags&128))N2(),mi(),t.flags|=98560,o=!1;else if(o=ms(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(H(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(H(317));o[Jt]=t}else mi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xe(t),o=!1}else $t!==null&&(Zp($t),$t=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ke.current&1?De===0&&(De=3):ag())),t.updateQueue!==null&&(t.flags|=4),Xe(t),null);case 4:return vi(),Vp(e,t),e===null&&jo(t.stateNode.containerInfo),Xe(t),null;case 10:return Vm(t.type._context),Xe(t),null;case 17:return dt(t.type)&&la(),Xe(t),null;case 19:if(ge(ke),o=t.memoizedState,o===null)return Xe(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Fi(o,!1);else{if(De!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=ma(e),s!==null){for(t.flags|=128,Fi(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return he(ke,ke.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ie()>xi&&(t.flags|=128,r=!0,Fi(o,!1),t.lanes=4194304)}else{if(!r)if(e=ma(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Fi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!xe)return Xe(t),null}else 2*Ie()-o.renderingStartTime>xi&&n!==1073741824&&(t.flags|=128,r=!0,Fi(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ie(),t.sibling=null,n=ke.current,he(ke,r?n&1|2:n&1),t):(Xe(t),null);case 22:case 23:return sg(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?gt&1073741824&&(Xe(t),t.subtreeFlags&6&&(t.flags|=8192)):Xe(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function r4(e,t){switch($m(t),t.tag){case 1:return dt(t.type)&&la(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vi(),ge(ct),ge(Je),Ym(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Km(t),null;case 13:if(ge(ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));mi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ge(ke),null;case 4:return vi(),null;case 10:return Vm(t.type._context),null;case 22:case 23:return sg(),null;case 24:return null;default:return null}}var ys=!1,Ze=!1,i4=typeof WeakSet=="function"?WeakSet:Set,Y=null;function ti(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ce(e,t,r)}else n.current=null}function Wp(e,t,n){try{n()}catch(r){Ce(e,t,r)}}var Jv=!1;function o4(e,t){if(Cp=ia,e=h2(),zm(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=e,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===i&&(a=s),h===o&&++c===r&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Tp={focusedElem:e,selectionRange:n},ia=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,b=y.memoizedState,m=t.stateNode,g=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:qt(t.type,v),b);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(x){Ce(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return y=Jv,Jv=!1,y}function po(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Wp(t,n,o)}i=i.next}while(i!==r)}}function Wa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Up(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function uS(e){var t=e.alternate;t!==null&&(e.alternate=null,uS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Jt],delete t[To],delete t[Pp],delete t[FC],delete t[BC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function cS(e){return e.tag===5||e.tag===3||e.tag===4}function ey(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=aa));else if(r!==4&&(e=e.child,e!==null))for(Gp(e,t,n),e=e.sibling;e!==null;)Gp(e,t,n),e=e.sibling}function Kp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Kp(e,t,n),e=e.sibling;e!==null;)Kp(e,t,n),e=e.sibling}var We=null,zt=!1;function Pn(e,t,n){for(n=n.child;n!==null;)dS(e,t,n),n=n.sibling}function dS(e,t,n){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(qa,n)}catch{}switch(n.tag){case 5:Ze||ti(n,t);case 6:var r=We,i=zt;We=null,Pn(e,t,n),We=r,zt=i,We!==null&&(zt?(e=We,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):We.removeChild(n.stateNode));break;case 18:We!==null&&(zt?(e=We,n=n.stateNode,e.nodeType===8?Vl(e.parentNode,n):e.nodeType===1&&Vl(e,n),ko(e)):Vl(We,n.stateNode));break;case 4:r=We,i=zt,We=n.stateNode.containerInfo,zt=!0,Pn(e,t,n),We=r,zt=i;break;case 0:case 11:case 14:case 15:if(!Ze&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Wp(n,t,s),i=i.next}while(i!==r)}Pn(e,t,n);break;case 1:if(!Ze&&(ti(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ce(n,t,a)}Pn(e,t,n);break;case 21:Pn(e,t,n);break;case 22:n.mode&1?(Ze=(r=Ze)||n.memoizedState!==null,Pn(e,t,n),Ze=r):Pn(e,t,n);break;default:Pn(e,t,n)}}function ty(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new i4),t.forEach(function(r){var i=p4.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ot(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:We=a.stateNode,zt=!1;break e;case 3:We=a.stateNode.containerInfo,zt=!0;break e;case 4:We=a.stateNode.containerInfo,zt=!0;break e}a=a.return}if(We===null)throw Error(H(160));dS(o,s,i),We=null,zt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ce(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)fS(t,e),t=t.sibling}function fS(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ot(t,e),Qt(e),r&4){try{po(3,e,e.return),Wa(3,e)}catch(v){Ce(e,e.return,v)}try{po(5,e,e.return)}catch(v){Ce(e,e.return,v)}}break;case 1:Ot(t,e),Qt(e),r&512&&n!==null&&ti(n,n.return);break;case 5:if(Ot(t,e),Qt(e),r&512&&n!==null&&ti(n,n.return),e.flags&32){var i=e.stateNode;try{wo(i,"")}catch(v){Ce(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&A_(i,o),yp(a,s);var u=yp(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?D_(i,f):c==="dangerouslySetInnerHTML"?q_(i,f):c==="children"?wo(i,f):Em(i,c,f,u)}switch(a){case"input":hp(i,o);break;case"textarea":O_(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?ii(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?ii(i,!!o.multiple,o.defaultValue,!0):ii(i,!!o.multiple,o.multiple?[]:"",!1))}i[To]=o}catch(v){Ce(e,e.return,v)}}break;case 6:if(Ot(t,e),Qt(e),r&4){if(e.stateNode===null)throw Error(H(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(v){Ce(e,e.return,v)}}break;case 3:if(Ot(t,e),Qt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ko(t.containerInfo)}catch(v){Ce(e,e.return,v)}break;case 4:Ot(t,e),Qt(e);break;case 13:Ot(t,e),Qt(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(ig=Ie())),r&4&&ty(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Ze=(u=Ze)||c,Ot(t,e),Ze=u):Ot(t,e),Qt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(Y=e,c=e.child;c!==null;){for(f=Y=c;Y!==null;){switch(h=Y,p=h.child,h.tag){case 0:case 11:case 14:case 15:po(4,h,h.return);break;case 1:ti(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(v){Ce(r,n,v)}}break;case 5:ti(h,h.return);break;case 22:if(h.memoizedState!==null){ry(f);continue}}p!==null?(p.return=h,Y=p):ry(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=z_("display",s))}catch(v){Ce(e,e.return,v)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Ce(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ot(t,e),Qt(e),r&4&&ty(e);break;case 21:break;default:Ot(t,e),Qt(e)}}function Qt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(cS(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(wo(i,""),r.flags&=-33);var o=ey(e);Kp(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=ey(e);Gp(e,a,s);break;default:throw Error(H(161))}}catch(l){Ce(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function s4(e,t,n){Y=e,hS(e)}function hS(e,t,n){for(var r=(e.mode&1)!==0;Y!==null;){var i=Y,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||ys;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ze;a=ys;var u=Ze;if(ys=s,(Ze=l)&&!u)for(Y=i;Y!==null;)s=Y,l=s.child,s.tag===22&&s.memoizedState!==null?iy(i):l!==null?(l.return=s,Y=l):iy(i);for(;o!==null;)Y=o,hS(o),o=o.sibling;Y=i,ys=a,Ze=u}ny(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Y=o):ny(e)}}function ny(e){for(;Y!==null;){var t=Y;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ze||Wa(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ze)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:qt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&$v(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}$v(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&ko(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Ze||t.flags&512&&Up(t)}catch(h){Ce(t,t.return,h)}}if(t===e){Y=null;break}if(n=t.sibling,n!==null){n.return=t.return,Y=n;break}Y=t.return}}function ry(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Y=n;break}Y=t.return}}function iy(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Wa(4,t)}catch(l){Ce(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Ce(t,i,l)}}var o=t.return;try{Up(t)}catch(l){Ce(t,o,l)}break;case 5:var s=t.return;try{Up(t)}catch(l){Ce(t,s,l)}}}catch(l){Ce(t,t.return,l)}if(t===e){Y=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Y=a;break}Y=t.return}}var a4=Math.ceil,ya=Cn.ReactCurrentDispatcher,ng=Cn.ReactCurrentOwner,Tt=Cn.ReactCurrentBatchConfig,ue=0,He=null,Ae=null,Ue=0,gt=0,ni=ar(0),De=0,Oo=null,Tr=0,Ua=0,rg=0,mo=null,at=null,ig=0,xi=1/0,fn=null,xa=!1,Yp=null,Qn=null,xs=!1,Wn=null,wa=0,go=0,Xp=null,Us=-1,Gs=0;function rt(){return ue&6?Ie():Us!==-1?Us:Us=Ie()}function Zn(e){return e.mode&1?ue&2&&Ue!==0?Ue&-Ue:VC.transition!==null?(Gs===0&&(Gs=Q_()),Gs):(e=fe,e!==0||(e=window.event,e=e===void 0?16:i2(e.type)),e):1}function Ht(e,t,n,r){if(50<go)throw go=0,Xp=null,Error(H(185));Wo(e,n,r),(!(ue&2)||e!==He)&&(e===He&&(!(ue&2)&&(Ua|=n),De===4&&$n(e,Ue)),ft(e,r),n===1&&ue===0&&!(t.mode&1)&&(xi=Ie()+500,Ba&&lr()))}function ft(e,t){var n=e.callbackNode;Vj(e,t);var r=ra(e,e===He?Ue:0);if(r===0)n!==null&&hv(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&hv(n),t===1)e.tag===0?HC(oy.bind(null,e)):S2(oy.bind(null,e)),DC(function(){!(ue&6)&&lr()}),n=null;else{switch(Z_(r)){case 1:n=Rm;break;case 4:n=Y_;break;case 16:n=na;break;case 536870912:n=X_;break;default:n=na}n=bS(n,pS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function pS(e,t){if(Us=-1,Gs=0,ue&6)throw Error(H(327));var n=e.callbackNode;if(ui()&&e.callbackNode!==n)return null;var r=ra(e,e===He?Ue:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ba(e,r);else{t=r;var i=ue;ue|=2;var o=gS();(He!==e||Ue!==t)&&(fn=null,xi=Ie()+500,_r(e,t));do try{c4();break}catch(a){mS(e,a)}while(!0);Hm(),ya.current=o,ue=i,Ae!==null?t=0:(He=null,Ue=0,t=De)}if(t!==0){if(t===2&&(i=Sp(e),i!==0&&(r=i,t=Qp(e,i))),t===1)throw n=Oo,_r(e,0),$n(e,r),ft(e,Ie()),n;if(t===6)$n(e,r);else{if(i=e.current.alternate,!(r&30)&&!l4(i)&&(t=ba(e,r),t===2&&(o=Sp(e),o!==0&&(r=o,t=Qp(e,o))),t===1))throw n=Oo,_r(e,0),$n(e,r),ft(e,Ie()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(H(345));case 2:pr(e,at,fn);break;case 3:if($n(e,r),(r&130023424)===r&&(t=ig+500-Ie(),10<t)){if(ra(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){rt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ip(pr.bind(null,e,at,fn),t);break}pr(e,at,fn);break;case 4:if($n(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Bt(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=Ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*a4(r/1960))-r,10<r){e.timeoutHandle=Ip(pr.bind(null,e,at,fn),r);break}pr(e,at,fn);break;case 5:pr(e,at,fn);break;default:throw Error(H(329))}}}return ft(e,Ie()),e.callbackNode===n?pS.bind(null,e):null}function Qp(e,t){var n=mo;return e.current.memoizedState.isDehydrated&&(_r(e,t).flags|=256),e=ba(e,t),e!==2&&(t=at,at=n,t!==null&&Zp(t)),e}function Zp(e){at===null?at=e:at.push.apply(at,e)}function l4(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Wt(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $n(e,t){for(t&=~rg,t&=~Ua,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Bt(t),r=1<<n;e[n]=-1,t&=~r}}function oy(e){if(ue&6)throw Error(H(327));ui();var t=ra(e,0);if(!(t&1))return ft(e,Ie()),null;var n=ba(e,t);if(e.tag!==0&&n===2){var r=Sp(e);r!==0&&(t=r,n=Qp(e,r))}if(n===1)throw n=Oo,_r(e,0),$n(e,t),ft(e,Ie()),n;if(n===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,pr(e,at,fn),ft(e,Ie()),null}function og(e,t){var n=ue;ue|=1;try{return e(t)}finally{ue=n,ue===0&&(xi=Ie()+500,Ba&&lr())}}function Rr(e){Wn!==null&&Wn.tag===0&&!(ue&6)&&ui();var t=ue;ue|=1;var n=Tt.transition,r=fe;try{if(Tt.transition=null,fe=1,e)return e()}finally{fe=r,Tt.transition=n,ue=t,!(ue&6)&&lr()}}function sg(){gt=ni.current,ge(ni)}function _r(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,zC(n)),Ae!==null)for(n=Ae.return;n!==null;){var r=n;switch($m(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&la();break;case 3:vi(),ge(ct),ge(Je),Ym();break;case 5:Km(r);break;case 4:vi();break;case 13:ge(ke);break;case 19:ge(ke);break;case 10:Vm(r.type._context);break;case 22:case 23:sg()}n=n.return}if(He=e,Ae=e=Jn(e.current,null),Ue=gt=t,De=0,Oo=null,rg=Ua=Tr=0,at=mo=null,vr!==null){for(t=0;t<vr.length;t++)if(n=vr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}vr=null}return e}function mS(e,t){do{var n=Ae;try{if(Hm(),Hs.current=va,ga){for(var r=Ee.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ga=!1}if(Cr=0,Be=ze=Ee=null,ho=!1,Po=0,ng.current=null,n===null||n.return===null){De=1,Oo=t,Ae=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=Ue,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=Uv(s);if(p!==null){p.flags&=-257,Gv(p,s,a,o,t),p.mode&1&&Wv(o,u,t),t=p,l=u;var y=t.updateQueue;if(y===null){var v=new Set;v.add(l),t.updateQueue=v}else y.add(l);break e}else{if(!(t&1)){Wv(o,u,t),ag();break e}l=Error(H(426))}}else if(xe&&a.mode&1){var b=Uv(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Gv(b,s,a,o,t),Fm(yi(l,a));break e}}o=l=yi(l,a),De!==4&&(De=2),mo===null?mo=[o]:mo.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var m=Z2(o,l,t);Dv(o,m);break e;case 1:a=l;var g=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Qn===null||!Qn.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var x=J2(o,a,t);Dv(o,x);break e}}o=o.return}while(o!==null)}yS(n)}catch(k){t=k,Ae===n&&n!==null&&(Ae=n=n.return);continue}break}while(!0)}function gS(){var e=ya.current;return ya.current=va,e===null?va:e}function ag(){(De===0||De===3||De===2)&&(De=4),He===null||!(Tr&268435455)&&!(Ua&268435455)||$n(He,Ue)}function ba(e,t){var n=ue;ue|=2;var r=gS();(He!==e||Ue!==t)&&(fn=null,_r(e,t));do try{u4();break}catch(i){mS(e,i)}while(!0);if(Hm(),ue=n,ya.current=r,Ae!==null)throw Error(H(261));return He=null,Ue=0,De}function u4(){for(;Ae!==null;)vS(Ae)}function c4(){for(;Ae!==null&&!Oj();)vS(Ae)}function vS(e){var t=wS(e.alternate,e,gt);e.memoizedProps=e.pendingProps,t===null?yS(e):Ae=t,ng.current=null}function yS(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=r4(n,t),n!==null){n.flags&=32767,Ae=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{De=6,Ae=null;return}}else if(n=n4(n,t,gt),n!==null){Ae=n;return}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);De===0&&(De=5)}function pr(e,t,n){var r=fe,i=Tt.transition;try{Tt.transition=null,fe=1,d4(e,t,n,r)}finally{Tt.transition=i,fe=r}return null}function d4(e,t,n,r){do ui();while(Wn!==null);if(ue&6)throw Error(H(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Wj(e,o),e===He&&(Ae=He=null,Ue=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xs||(xs=!0,bS(na,function(){return ui(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Tt.transition,Tt.transition=null;var s=fe;fe=1;var a=ue;ue|=4,ng.current=null,o4(e,n),fS(n,e),IC(Tp),ia=!!Cp,Tp=Cp=null,e.current=n,s4(n),Lj(),ue=a,fe=s,Tt.transition=o}else e.current=n;if(xs&&(xs=!1,Wn=e,wa=i),o=e.pendingLanes,o===0&&(Qn=null),Dj(n.stateNode),ft(e,Ie()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(xa)throw xa=!1,e=Yp,Yp=null,e;return wa&1&&e.tag!==0&&ui(),o=e.pendingLanes,o&1?e===Xp?go++:(go=0,Xp=e):go=0,lr(),null}function ui(){if(Wn!==null){var e=Z_(wa),t=Tt.transition,n=fe;try{if(Tt.transition=null,fe=16>e?16:e,Wn===null)var r=!1;else{if(e=Wn,Wn=null,wa=0,ue&6)throw Error(H(331));var i=ue;for(ue|=4,Y=e.current;Y!==null;){var o=Y,s=o.child;if(Y.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Y=u;Y!==null;){var c=Y;switch(c.tag){case 0:case 11:case 15:po(8,c,o)}var f=c.child;if(f!==null)f.return=c,Y=f;else for(;Y!==null;){c=Y;var h=c.sibling,p=c.return;if(uS(c),c===u){Y=null;break}if(h!==null){h.return=p,Y=h;break}Y=p}}}var y=o.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}Y=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Y=s;else e:for(;Y!==null;){if(o=Y,o.flags&2048)switch(o.tag){case 0:case 11:case 15:po(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,Y=m;break e}Y=o.return}}var g=e.current;for(Y=g;Y!==null;){s=Y;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Y=w;else e:for(s=g;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Wa(9,a)}}catch(k){Ce(a,a.return,k)}if(a===s){Y=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,Y=x;break e}Y=a.return}}if(ue=i,lr(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(qa,e)}catch{}r=!0}return r}finally{fe=n,Tt.transition=t}}return!1}function sy(e,t,n){t=yi(n,t),t=Z2(e,t,1),e=Xn(e,t,1),t=rt(),e!==null&&(Wo(e,1,t),ft(e,t))}function Ce(e,t,n){if(e.tag===3)sy(e,e,n);else for(;t!==null;){if(t.tag===3){sy(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qn===null||!Qn.has(r))){e=yi(n,e),e=J2(t,e,1),t=Xn(t,e,1),e=rt(),t!==null&&(Wo(t,1,e),ft(t,e));break}}t=t.return}}function f4(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=rt(),e.pingedLanes|=e.suspendedLanes&n,He===e&&(Ue&n)===n&&(De===4||De===3&&(Ue&130023424)===Ue&&500>Ie()-ig?_r(e,0):rg|=n),ft(e,t)}function xS(e,t){t===0&&(e.mode&1?(t=us,us<<=1,!(us&130023424)&&(us=4194304)):t=1);var n=rt();e=Sn(e,t),e!==null&&(Wo(e,t,n),ft(e,n))}function h4(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),xS(e,n)}function p4(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(t),xS(e,n)}var wS;wS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ct.current)lt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return lt=!1,t4(e,t,n);lt=!!(e.flags&131072)}else lt=!1,xe&&t.flags&1048576&&k2(t,da,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var i=pi(t,Je.current);li(t,n),i=Qm(null,t,r,e,i,n);var o=Zm();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,dt(r)?(o=!0,ua(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Um(t),i.updater=Va,t.stateNode=i,i._reactInternals=t,zp(t,r,e,n),t=Fp(null,t,r,!0,o,n)):(t.tag=0,xe&&o&&Dm(t),nt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=g4(r),e=qt(r,e),i){case 0:t=$p(null,t,r,e,n);break e;case 1:t=Xv(null,t,r,e,n);break e;case 11:t=Kv(null,t,r,e,n);break e;case 14:t=Yv(null,t,r,qt(r.type,e),n);break e}throw Error(H(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qt(r,i),$p(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qt(r,i),Xv(e,t,r,i,n);case 3:e:{if(rS(t),e===null)throw Error(H(387));r=t.pendingProps,o=t.memoizedState,i=o.element,R2(e,t),pa(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=yi(Error(H(423)),t),t=Qv(e,t,r,n,i);break e}else if(r!==i){i=yi(Error(H(424)),t),t=Qv(e,t,r,n,i);break e}else for(yt=Yn(t.stateNode.containerInfo.firstChild),xt=t,xe=!0,$t=null,n=C2(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(mi(),r===i){t=kn(e,t,n);break e}nt(e,t,r,n)}t=t.child}return t;case 5:return I2(t),e===null&&Op(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,Rp(r,i)?s=null:o!==null&&Rp(r,o)&&(t.flags|=32),nS(e,t),nt(e,t,s,n),t.child;case 6:return e===null&&Op(t),null;case 13:return iS(e,t,n);case 4:return Gm(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=gi(t,null,r,n):nt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qt(r,i),Kv(e,t,r,i,n);case 7:return nt(e,t,t.pendingProps,n),t.child;case 8:return nt(e,t,t.pendingProps.children,n),t.child;case 12:return nt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,he(fa,r._currentValue),r._currentValue=s,o!==null)if(Wt(o.value,s)){if(o.children===i.children&&!ct.current){t=kn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=xn(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Lp(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(H(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Lp(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}nt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,li(t,n),i=Rt(i),r=r(i),t.flags|=1,nt(e,t,r,n),t.child;case 14:return r=t.type,i=qt(r,t.pendingProps),i=qt(r.type,i),Yv(e,t,r,i,n);case 15:return eS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qt(r,i),Ws(e,t),t.tag=1,dt(r)?(e=!0,ua(t)):e=!1,li(t,n),Q2(t,r,i),zp(t,r,i,n),Fp(null,t,r,!0,e,n);case 19:return oS(e,t,n);case 22:return tS(e,t,n)}throw Error(H(156,t.tag))};function bS(e,t){return K_(e,t)}function m4(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(e,t,n,r){return new m4(e,t,n,r)}function lg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function g4(e){if(typeof e=="function")return lg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===jm)return 11;if(e===Cm)return 14}return 2}function Jn(e,t){var n=e.alternate;return n===null?(n=jt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ks(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")lg(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Ur:return Sr(n.children,i,o,t);case Nm:s=8,i|=8;break;case lp:return e=jt(12,n,t,i|2),e.elementType=lp,e.lanes=o,e;case up:return e=jt(13,n,t,i),e.elementType=up,e.lanes=o,e;case cp:return e=jt(19,n,t,i),e.elementType=cp,e.lanes=o,e;case I_:return Ga(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case T_:s=10;break e;case R_:s=9;break e;case jm:s=11;break e;case Cm:s=14;break e;case On:s=16,r=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=jt(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Sr(e,t,n,r){return e=jt(7,e,r,t),e.lanes=n,e}function Ga(e,t,n,r){return e=jt(22,e,r,t),e.elementType=I_,e.lanes=n,e.stateNode={isHidden:!1},e}function Zl(e,t,n){return e=jt(6,e,null,t),e.lanes=n,e}function Jl(e,t,n){return t=jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function v4(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ml(0),this.expirationTimes=Ml(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ml(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ug(e,t,n,r,i,o,s,a,l){return e=new v4(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=jt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Um(o),e}function y4(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function _S(e){if(!e)return rr;e=e._reactInternals;e:{if(Ar(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(dt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var n=e.type;if(dt(n))return _2(e,n,t)}return t}function SS(e,t,n,r,i,o,s,a,l){return e=ug(n,r,!0,e,i,o,s,a,l),e.context=_S(null),n=e.current,r=rt(),i=Zn(n),o=xn(r,i),o.callback=t??null,Xn(n,o,i),e.current.lanes=i,Wo(e,i,r),ft(e,r),e}function Ka(e,t,n,r){var i=t.current,o=rt(),s=Zn(i);return n=_S(n),t.context===null?t.context=n:t.pendingContext=n,t=xn(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Xn(i,t,s),e!==null&&(Ht(e,i,s,o),Bs(e,i,s)),s}function _a(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ay(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function cg(e,t){ay(e,t),(e=e.alternate)&&ay(e,t)}function x4(){return null}var kS=typeof reportError=="function"?reportError:function(e){console.error(e)};function dg(e){this._internalRoot=e}Ya.prototype.render=dg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));Ka(e,t,null,null)};Ya.prototype.unmount=dg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rr(function(){Ka(null,e,null,null)}),t[_n]=null}};function Ya(e){this._internalRoot=e}Ya.prototype.unstable_scheduleHydration=function(e){if(e){var t=t2();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dn.length&&t!==0&&t<Dn[n].priority;n++);Dn.splice(n,0,e),n===0&&r2(e)}};function fg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ly(){}function w4(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=_a(s);o.call(u)}}var s=SS(t,r,e,0,null,!1,!1,"",ly);return e._reactRootContainer=s,e[_n]=s.current,jo(e.nodeType===8?e.parentNode:e),Rr(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=_a(l);a.call(u)}}var l=ug(e,0,!1,null,null,!1,!1,"",ly);return e._reactRootContainer=l,e[_n]=l.current,jo(e.nodeType===8?e.parentNode:e),Rr(function(){Ka(t,l,n,r)}),l}function Qa(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=_a(s);a.call(l)}}Ka(t,s,e,i)}else s=w4(n,t,e,i,r);return _a(s)}J_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Qi(t.pendingLanes);n!==0&&(Im(t,n|1),ft(t,Ie()),!(ue&6)&&(xi=Ie()+500,lr()))}break;case 13:Rr(function(){var r=Sn(e,1);if(r!==null){var i=rt();Ht(r,e,1,i)}}),cg(e,1)}};Pm=function(e){if(e.tag===13){var t=Sn(e,134217728);if(t!==null){var n=rt();Ht(t,e,134217728,n)}cg(e,134217728)}};e2=function(e){if(e.tag===13){var t=Zn(e),n=Sn(e,t);if(n!==null){var r=rt();Ht(n,e,t,r)}cg(e,t)}};t2=function(){return fe};n2=function(e,t){var n=fe;try{return fe=e,t()}finally{fe=n}};wp=function(e,t,n){switch(t){case"input":if(hp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Fa(r);if(!i)throw Error(H(90));M_(r),hp(r,i)}}}break;case"textarea":O_(e,n);break;case"select":t=n.value,t!=null&&ii(e,!!n.multiple,t,!1)}};B_=og;H_=Rr;var b4={usingClientEntryPoint:!1,Events:[Go,Xr,Fa,$_,F_,og]},Bi={findFiberByHostInstance:gr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_4={bundleType:Bi.bundleType,version:Bi.version,rendererPackageName:Bi.rendererPackageName,rendererConfig:Bi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=U_(e),e===null?null:e.stateNode},findFiberByHostInstance:Bi.findFiberByHostInstance||x4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ws=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ws.isDisabled&&ws.supportsFiber)try{qa=ws.inject(_4),tn=ws}catch{}}_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b4;_t.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fg(t))throw Error(H(200));return y4(e,t,null,n)};_t.createRoot=function(e,t){if(!fg(e))throw Error(H(299));var n=!1,r="",i=kS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ug(e,1,!1,null,null,n,!1,r,i),e[_n]=t.current,jo(e.nodeType===8?e.parentNode:e),new dg(t)};_t.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=U_(t),e=e===null?null:e.stateNode,e};_t.flushSync=function(e){return Rr(e)};_t.hydrate=function(e,t,n){if(!Xa(t))throw Error(H(200));return Qa(null,e,t,!0,n)};_t.hydrateRoot=function(e,t,n){if(!fg(e))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=kS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=SS(t,null,e,1,n??null,i,!1,o,s),e[_n]=t.current,jo(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ya(t)};_t.render=function(e,t,n){if(!Xa(t))throw Error(H(200));return Qa(null,e,t,!1,n)};_t.unmountComponentAtNode=function(e){if(!Xa(e))throw Error(H(40));return e._reactRootContainer?(Rr(function(){Qa(null,null,e,!1,function(){e._reactRootContainer=null,e[_n]=null})}),!0):!1};_t.unstable_batchedUpdates=og;_t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xa(n))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return Qa(e,t,n,!1,r)};_t.version="18.3.1-next-f1338f8080-20240426";function ES(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ES)}catch(e){console.error(e)}}ES(),E_.exports=_t;var S4=E_.exports,uy=S4;sp.createRoot=uy.createRoot,sp.hydrateRoot=uy.hydrateRoot;function pt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=pt(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var NS={exports:{}},jS={},CS={exports:{}},TS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wi=_;function k4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var E4=typeof Object.is=="function"?Object.is:k4,N4=wi.useState,j4=wi.useEffect,C4=wi.useLayoutEffect,T4=wi.useDebugValue;function R4(e,t){var n=t(),r=N4({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return C4(function(){i.value=n,i.getSnapshot=t,eu(i)&&o({inst:i})},[e,n,t]),j4(function(){return eu(i)&&o({inst:i}),e(function(){eu(i)&&o({inst:i})})},[e]),T4(n),n}function eu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!E4(e,n)}catch{return!0}}function I4(e,t){return t()}var P4=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?I4:R4;TS.useSyncExternalStore=wi.useSyncExternalStore!==void 0?wi.useSyncExternalStore:P4;CS.exports=TS;var M4=CS.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Za=_,A4=M4;function O4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var L4=typeof Object.is=="function"?Object.is:O4,q4=A4.useSyncExternalStore,z4=Za.useRef,D4=Za.useEffect,$4=Za.useMemo,F4=Za.useDebugValue;jS.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=z4(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=$4(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&s.hasValue){var y=s.value;if(i(y,p))return f=y}return f=p}if(y=f,L4(c,p))return y;var v=r(p);return i!==void 0&&i(y,v)?(c=p,y):(c=p,f=v)}var u=!1,c,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var a=q4(e,o[0],o[1]);return D4(function(){s.hasValue=!0,s.value=a},[a]),F4(a),a};NS.exports=jS;var B4=NS.exports;const H4=ym(B4),V4={},cy=e=>{let t;const n=new Set,r=(c,f)=>{const h=typeof c=="function"?c(t):c;if(!Object.is(h,t)){const p=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(y=>y(t,p))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(V4?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,l);return l},W4=e=>e?cy(e):cy,{useDebugValue:U4}=F,{useSyncExternalStoreWithSelector:G4}=H4,K4=e=>e;function RS(e,t=K4,n){const r=G4(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return U4(r),r}const dy=(e,t)=>{const n=W4(e),r=(i,o=t)=>RS(n,i,o);return Object.assign(r,n),r},Y4=(e,t)=>e?dy(e,t):dy;function et(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var X4={value:()=>{}};function Ja(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Ys(n)}function Ys(e){this._=e}function Q4(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Ys.prototype=Ja.prototype={constructor:Ys,on:function(e,t){var n=this._,r=Q4(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=Z4(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=fy(n[i],e.name,t);else if(t==null)for(i in n)n[i]=fy(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ys(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function Z4(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function fy(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=X4,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Jp="http://www.w3.org/1999/xhtml";const hy={svg:"http://www.w3.org/2000/svg",xhtml:Jp,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function el(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),hy.hasOwnProperty(t)?{space:hy[t],local:e}:e}function J4(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Jp&&t.documentElement.namespaceURI===Jp?t.createElement(e):t.createElementNS(n,e)}}function eT(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function IS(e){var t=el(e);return(t.local?eT:J4)(t)}function tT(){}function hg(e){return e==null?tT:function(){return this.querySelector(e)}}function nT(e){typeof e!="function"&&(e=hg(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=new Array(s),l,u,c=0;c<s;++c)(l=o[c])&&(u=e.call(l,l.__data__,c,o))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new bt(r,this._parents)}function rT(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function iT(){return[]}function PS(e){return e==null?iT:function(){return this.querySelectorAll(e)}}function oT(e){return function(){return rT(e.apply(this,arguments))}}function sT(e){typeof e=="function"?e=oT(e):e=PS(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&(r.push(e.call(l,l.__data__,u,s)),i.push(l));return new bt(r,i)}function MS(e){return function(){return this.matches(e)}}function AS(e){return function(t){return t.matches(e)}}var aT=Array.prototype.find;function lT(e){return function(){return aT.call(this.children,e)}}function uT(){return this.firstElementChild}function cT(e){return this.select(e==null?uT:lT(typeof e=="function"?e:AS(e)))}var dT=Array.prototype.filter;function fT(){return Array.from(this.children)}function hT(e){return function(){return dT.call(this.children,e)}}function pT(e){return this.selectAll(e==null?fT:hT(typeof e=="function"?e:AS(e)))}function mT(e){typeof e!="function"&&(e=MS(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&a.push(l);return new bt(r,this._parents)}function OS(e){return new Array(e.length)}function gT(){return new bt(this._enter||this._groups.map(OS),this._parents)}function Sa(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Sa.prototype={constructor:Sa,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function vT(e){return function(){return e}}function yT(e,t,n,r,i,o){for(var s=0,a,l=t.length,u=o.length;s<u;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new Sa(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function xT(e,t,n,r,i,o,s){var a,l,u=new Map,c=t.length,f=o.length,h=new Array(c),p;for(a=0;a<c;++a)(l=t[a])&&(h[a]=p=s.call(l,l.__data__,a,t)+"",u.has(p)?i[a]=l:u.set(p,l));for(a=0;a<f;++a)p=s.call(e,o[a],a,o)+"",(l=u.get(p))?(r[a]=l,l.__data__=o[a],u.delete(p)):n[a]=new Sa(e,o[a]);for(a=0;a<c;++a)(l=t[a])&&u.get(h[a])===l&&(i[a]=l)}function wT(e){return e.__data__}function bT(e,t){if(!arguments.length)return Array.from(this,wT);var n=t?xT:yT,r=this._parents,i=this._groups;typeof e!="function"&&(e=vT(e));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),u=0;u<o;++u){var c=r[u],f=i[u],h=f.length,p=_T(e.call(c,c&&c.__data__,u,r)),y=p.length,v=a[u]=new Array(y),b=s[u]=new Array(y),m=l[u]=new Array(h);n(c,f,v,b,m,p,t);for(var g=0,w=0,x,k;g<y;++g)if(x=v[g]){for(g>=w&&(w=g+1);!(k=b[w])&&++w<y;);x._next=k||null}}return s=new bt(s,r),s._enter=a,s._exit=l,s}function _T(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ST(){return new bt(this._exit||this._groups.map(OS),this._parents)}function kT(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function ET(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var u=n[l],c=r[l],f=u.length,h=a[l]=new Array(f),p,y=0;y<f;++y)(p=u[y]||c[y])&&(h[y]=p);for(;l<i;++l)a[l]=n[l];return new bt(a,this._parents)}function NT(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function jT(e){e||(e=CT);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,l=i[o]=new Array(a),u,c=0;c<a;++c)(u=s[c])&&(l[c]=u);l.sort(t)}return new bt(i,this._parents).order()}function CT(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function TT(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function RT(){return Array.from(this)}function IT(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function PT(){let e=0;for(const t of this)++e;return e}function MT(){return!this.node()}function AT(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}function OT(e){return function(){this.removeAttribute(e)}}function LT(e){return function(){this.removeAttributeNS(e.space,e.local)}}function qT(e,t){return function(){this.setAttribute(e,t)}}function zT(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function DT(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function $T(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function FT(e,t){var n=el(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?LT:OT:typeof t=="function"?n.local?$T:DT:n.local?zT:qT)(n,t))}function LS(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function BT(e){return function(){this.style.removeProperty(e)}}function HT(e,t,n){return function(){this.style.setProperty(e,t,n)}}function VT(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function WT(e,t,n){return arguments.length>1?this.each((t==null?BT:typeof t=="function"?VT:HT)(e,t,n??"")):bi(this.node(),e)}function bi(e,t){return e.style.getPropertyValue(t)||LS(e).getComputedStyle(e,null).getPropertyValue(t)}function UT(e){return function(){delete this[e]}}function GT(e,t){return function(){this[e]=t}}function KT(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function YT(e,t){return arguments.length>1?this.each((t==null?UT:typeof t=="function"?KT:GT)(e,t)):this.node()[e]}function qS(e){return e.trim().split(/^|\s+/)}function pg(e){return e.classList||new zS(e)}function zS(e){this._node=e,this._names=qS(e.getAttribute("class")||"")}zS.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function DS(e,t){for(var n=pg(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function $S(e,t){for(var n=pg(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function XT(e){return function(){DS(this,e)}}function QT(e){return function(){$S(this,e)}}function ZT(e,t){return function(){(t.apply(this,arguments)?DS:$S)(this,e)}}function JT(e,t){var n=qS(e+"");if(arguments.length<2){for(var r=pg(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?ZT:t?XT:QT)(n,t))}function e3(){this.textContent=""}function t3(e){return function(){this.textContent=e}}function n3(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function r3(e){return arguments.length?this.each(e==null?e3:(typeof e=="function"?n3:t3)(e)):this.node().textContent}function i3(){this.innerHTML=""}function o3(e){return function(){this.innerHTML=e}}function s3(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function a3(e){return arguments.length?this.each(e==null?i3:(typeof e=="function"?s3:o3)(e)):this.node().innerHTML}function l3(){this.nextSibling&&this.parentNode.appendChild(this)}function u3(){return this.each(l3)}function c3(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function d3(){return this.each(c3)}function f3(e){var t=typeof e=="function"?e:IS(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function h3(){return null}function p3(e,t){var n=typeof e=="function"?e:IS(e),r=t==null?h3:typeof t=="function"?t:hg(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function m3(){var e=this.parentNode;e&&e.removeChild(this)}function g3(){return this.each(m3)}function v3(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function y3(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function x3(e){return this.select(e?y3:v3)}function w3(e){return arguments.length?this.property("__data__",e):this.node().__data__}function b3(e){return function(t){e.call(this,t,this.__data__)}}function _3(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function S3(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function k3(e,t,n){return function(){var r=this.__on,i,o=b3(t);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function E3(e,t,n){var r=_3(e+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(i=0,c=a[l];i<o;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(a=t?k3:S3,i=0;i<o;++i)this.each(a(r[i],t,n));return this}function FS(e,t,n){var r=LS(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function N3(e,t){return function(){return FS(this,e,t)}}function j3(e,t){return function(){return FS(this,e,t.apply(this,arguments))}}function C3(e,t){return this.each((typeof t=="function"?j3:N3)(e,t))}function*T3(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var BS=[null];function bt(e,t){this._groups=e,this._parents=t}function Yo(){return new bt([[document.documentElement]],BS)}function R3(){return this}bt.prototype=Yo.prototype={constructor:bt,select:nT,selectAll:sT,selectChild:cT,selectChildren:pT,filter:mT,data:bT,enter:gT,exit:ST,join:kT,merge:ET,selection:R3,order:NT,sort:jT,call:TT,nodes:RT,node:IT,size:PT,empty:MT,each:AT,attr:FT,style:WT,property:YT,classed:JT,text:r3,html:a3,raise:u3,lower:d3,append:f3,insert:p3,remove:g3,clone:x3,datum:w3,on:E3,dispatch:C3,[Symbol.iterator]:T3};function Nt(e){return typeof e=="string"?new bt([[document.querySelector(e)]],[document.documentElement]):new bt([[e]],BS)}function I3(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Dt(e,t){if(e=I3(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const P3={passive:!1},Lo={capture:!0,passive:!1};function tu(e){e.stopImmediatePropagation()}function ci(e){e.preventDefault(),e.stopImmediatePropagation()}function HS(e){var t=e.document.documentElement,n=Nt(e).on("dragstart.drag",ci,Lo);"onselectstart"in t?n.on("selectstart.drag",ci,Lo):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function VS(e,t){var n=e.document.documentElement,r=Nt(e).on("dragstart.drag",null);t&&(r.on("click.drag",ci,Lo),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const bs=e=>()=>e;function em(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:s,y:a,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}em.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function M3(e){return!e.ctrlKey&&!e.button}function A3(){return this.parentNode}function O3(e,t){return t??{x:e.x,y:e.y}}function L3(){return navigator.maxTouchPoints||"ontouchstart"in this}function q3(){var e=M3,t=A3,n=O3,r=L3,i={},o=Ja("start","drag","end"),s=0,a,l,u,c,f=0;function h(x){x.on("mousedown.drag",p).filter(r).on("touchstart.drag",b).on("touchmove.drag",m,P3).on("touchend.drag touchcancel.drag",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(x,k){if(!(c||!e.call(this,x,k))){var E=w(this,t.call(this,x,k),x,k,"mouse");E&&(Nt(x.view).on("mousemove.drag",y,Lo).on("mouseup.drag",v,Lo),HS(x.view),tu(x),u=!1,a=x.clientX,l=x.clientY,E("start",x))}}function y(x){if(ci(x),!u){var k=x.clientX-a,E=x.clientY-l;u=k*k+E*E>f}i.mouse("drag",x)}function v(x){Nt(x.view).on("mousemove.drag mouseup.drag",null),VS(x.view,u),ci(x),i.mouse("end",x)}function b(x,k){if(e.call(this,x,k)){var E=x.changedTouches,N=t.call(this,x,k),j=E.length,T,A;for(T=0;T<j;++T)(A=w(this,N,x,k,E[T].identifier,E[T]))&&(tu(x),A("start",x,E[T]))}}function m(x){var k=x.changedTouches,E=k.length,N,j;for(N=0;N<E;++N)(j=i[k[N].identifier])&&(ci(x),j("drag",x,k[N]))}function g(x){var k=x.changedTouches,E=k.length,N,j;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),N=0;N<E;++N)(j=i[k[N].identifier])&&(tu(x),j("end",x,k[N]))}function w(x,k,E,N,j,T){var A=o.copy(),M=Dt(T||E,k),$,q,S;if((S=n.call(x,new em("beforestart",{sourceEvent:E,target:h,identifier:j,active:s,x:M[0],y:M[1],dx:0,dy:0,dispatch:A}),N))!=null)return $=S.x-M[0]||0,q=S.y-M[1]||0,function I(R,z,P){var C=M,L;switch(R){case"start":i[j]=I,L=s++;break;case"end":delete i[j],--s;case"drag":M=Dt(P||z,k),L=s;break}A.call(R,x,new em(R,{sourceEvent:z,subject:S,target:h,identifier:j,active:L,x:M[0]+$,y:M[1]+q,dx:M[0]-C[0],dy:M[1]-C[1],dispatch:A}),N)}}return h.filter=function(x){return arguments.length?(e=typeof x=="function"?x:bs(!!x),h):e},h.container=function(x){return arguments.length?(t=typeof x=="function"?x:bs(x),h):t},h.subject=function(x){return arguments.length?(n=typeof x=="function"?x:bs(x),h):n},h.touchable=function(x){return arguments.length?(r=typeof x=="function"?x:bs(!!x),h):r},h.on=function(){var x=o.on.apply(o,arguments);return x===o?h:x},h.clickDistance=function(x){return arguments.length?(f=(x=+x)*x,h):Math.sqrt(f)},h}function mg(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function WS(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Xo(){}var qo=.7,ka=1/qo,di="\\s*([+-]?\\d+)\\s*",zo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",z3=/^#([0-9a-f]{3,8})$/,D3=new RegExp(`^rgb\\(${di},${di},${di}\\)$`),$3=new RegExp(`^rgb\\(${rn},${rn},${rn}\\)$`),F3=new RegExp(`^rgba\\(${di},${di},${di},${zo}\\)$`),B3=new RegExp(`^rgba\\(${rn},${rn},${rn},${zo}\\)$`),H3=new RegExp(`^hsl\\(${zo},${rn},${rn}\\)$`),V3=new RegExp(`^hsla\\(${zo},${rn},${rn},${zo}\\)$`),py={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};mg(Xo,Do,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:my,formatHex:my,formatHex8:W3,formatHsl:U3,formatRgb:gy,toString:gy});function my(){return this.rgb().formatHex()}function W3(){return this.rgb().formatHex8()}function U3(){return US(this).formatHsl()}function gy(){return this.rgb().formatRgb()}function Do(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=z3.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?vy(t):n===3?new ut(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?_s(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?_s(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=D3.exec(e))?new ut(t[1],t[2],t[3],1):(t=$3.exec(e))?new ut(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=F3.exec(e))?_s(t[1],t[2],t[3],t[4]):(t=B3.exec(e))?_s(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=H3.exec(e))?wy(t[1],t[2]/100,t[3]/100,1):(t=V3.exec(e))?wy(t[1],t[2]/100,t[3]/100,t[4]):py.hasOwnProperty(e)?vy(py[e]):e==="transparent"?new ut(NaN,NaN,NaN,0):null}function vy(e){return new ut(e>>16&255,e>>8&255,e&255,1)}function _s(e,t,n,r){return r<=0&&(e=t=n=NaN),new ut(e,t,n,r)}function G3(e){return e instanceof Xo||(e=Do(e)),e?(e=e.rgb(),new ut(e.r,e.g,e.b,e.opacity)):new ut}function tm(e,t,n,r){return arguments.length===1?G3(e):new ut(e,t,n,r??1)}function ut(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}mg(ut,tm,WS(Xo,{brighter(e){return e=e==null?ka:Math.pow(ka,e),new ut(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?qo:Math.pow(qo,e),new ut(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ut(kr(this.r),kr(this.g),kr(this.b),Ea(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yy,formatHex:yy,formatHex8:K3,formatRgb:xy,toString:xy}));function yy(){return`#${xr(this.r)}${xr(this.g)}${xr(this.b)}`}function K3(){return`#${xr(this.r)}${xr(this.g)}${xr(this.b)}${xr((isNaN(this.opacity)?1:this.opacity)*255)}`}function xy(){const e=Ea(this.opacity);return`${e===1?"rgb(":"rgba("}${kr(this.r)}, ${kr(this.g)}, ${kr(this.b)}${e===1?")":`, ${e})`}`}function Ea(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function kr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function xr(e){return e=kr(e),(e<16?"0":"")+e.toString(16)}function wy(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ft(e,t,n,r)}function US(e){if(e instanceof Ft)return new Ft(e.h,e.s,e.l,e.opacity);if(e instanceof Xo||(e=Do(e)),!e)return new Ft;if(e instanceof Ft)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Ft(s,a,l,e.opacity)}function Y3(e,t,n,r){return arguments.length===1?US(e):new Ft(e,t,n,r??1)}function Ft(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}mg(Ft,Y3,WS(Xo,{brighter(e){return e=e==null?ka:Math.pow(ka,e),new Ft(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?qo:Math.pow(qo,e),new Ft(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ut(nu(e>=240?e-240:e+120,i,r),nu(e,i,r),nu(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ft(by(this.h),Ss(this.s),Ss(this.l),Ea(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ea(this.opacity);return`${e===1?"hsl(":"hsla("}${by(this.h)}, ${Ss(this.s)*100}%, ${Ss(this.l)*100}%${e===1?")":`, ${e})`}`}}));function by(e){return e=(e||0)%360,e<0?e+360:e}function Ss(e){return Math.max(0,Math.min(1,e||0))}function nu(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const GS=e=>()=>e;function X3(e,t){return function(n){return e+n*t}}function Q3(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Z3(e){return(e=+e)==1?KS:function(t,n){return n-t?Q3(t,n,e):GS(isNaN(t)?n:t)}}function KS(e,t){var n=t-e;return n?X3(e,n):GS(isNaN(e)?t:e)}const _y=function e(t){var n=Z3(t);function r(i,o){var s=n((i=tm(i)).r,(o=tm(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=KS(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function qn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var nm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ru=new RegExp(nm.source,"g");function J3(e){return function(){return e}}function e5(e){return function(t){return e(t)+""}}function t5(e,t){var n=nm.lastIndex=ru.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(e=e+"",t=t+"";(r=nm.exec(e))&&(i=ru.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:qn(r,i)})),n=ru.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?e5(l[0].x):J3(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}var Sy=180/Math.PI,rm={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function YS(e,t,n,r,i,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Sy,skewX:Math.atan(l)*Sy,scaleX:s,scaleY:a}}var ks;function n5(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?rm:YS(t.a,t.b,t.c,t.d,t.e,t.f)}function r5(e){return e==null||(ks||(ks=document.createElementNS("http://www.w3.org/2000/svg","g")),ks.setAttribute("transform",e),!(e=ks.transform.baseVal.consolidate()))?rm:(e=e.matrix,YS(e.a,e.b,e.c,e.d,e.e,e.f))}function XS(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,f,h,p,y){if(u!==f||c!==h){var v=p.push("translate(",null,t,null,n);y.push({i:v-4,x:qn(u,f)},{i:v-2,x:qn(c,h)})}else(f||h)&&p.push("translate("+f+t+h+n)}function s(u,c,f,h){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:qn(u,c)})):c&&f.push(i(f)+"rotate("+c+r)}function a(u,c,f,h){u!==c?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:qn(u,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(u,c,f,h,p,y){if(u!==f||c!==h){var v=p.push(i(p)+"scale(",null,",",null,")");y.push({i:v-4,x:qn(u,f)},{i:v-2,x:qn(c,h)})}else(f!==1||h!==1)&&p.push(i(p)+"scale("+f+","+h+")")}return function(u,c){var f=[],h=[];return u=e(u),c=e(c),o(u.translateX,u.translateY,c.translateX,c.translateY,f,h),s(u.rotate,c.rotate,f,h),a(u.skewX,c.skewX,f,h),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,h),u=c=null,function(p){for(var y=-1,v=h.length,b;++y<v;)f[(b=h[y]).i]=b.x(p);return f.join("")}}}var i5=XS(n5,"px, ","px)","deg)"),o5=XS(r5,", ",")",")"),s5=1e-12;function ky(e){return((e=Math.exp(e))+1/e)/2}function a5(e){return((e=Math.exp(e))-1/e)/2}function l5(e){return((e=Math.exp(2*e))-1)/(e+1)}const u5=function e(t,n,r){function i(o,s){var a=o[0],l=o[1],u=o[2],c=s[0],f=s[1],h=s[2],p=c-a,y=f-l,v=p*p+y*y,b,m;if(v<s5)m=Math.log(h/u)/t,b=function(N){return[a+N*p,l+N*y,u*Math.exp(t*N*m)]};else{var g=Math.sqrt(v),w=(h*h-u*u+r*v)/(2*u*n*g),x=(h*h-u*u-r*v)/(2*h*n*g),k=Math.log(Math.sqrt(w*w+1)-w),E=Math.log(Math.sqrt(x*x+1)-x);m=(E-k)/t,b=function(N){var j=N*m,T=ky(k),A=u/(n*g)*(T*l5(t*j+k)-a5(k));return[a+A*p,l+A*y,u*T/ky(t*j+k)]}}return b.duration=m*1e3*t/Math.SQRT2,b}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,l=a*a;return e(s,a,l)},i}(Math.SQRT2,2,4);var _i=0,Ji=0,Hi=0,QS=1e3,Na,eo,ja=0,Ir=0,tl=0,$o=typeof performance=="object"&&performance.now?performance:Date,ZS=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function gg(){return Ir||(ZS(c5),Ir=$o.now()+tl)}function c5(){Ir=0}function Ca(){this._call=this._time=this._next=null}Ca.prototype=JS.prototype={constructor:Ca,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?gg():+n)+(t==null?0:+t),!this._next&&eo!==this&&(eo?eo._next=this:Na=this,eo=this),this._call=e,this._time=n,im()},stop:function(){this._call&&(this._call=null,this._time=1/0,im())}};function JS(e,t,n){var r=new Ca;return r.restart(e,t,n),r}function d5(){gg(),++_i;for(var e=Na,t;e;)(t=Ir-e._time)>=0&&e._call.call(void 0,t),e=e._next;--_i}function Ey(){Ir=(ja=$o.now())+tl,_i=Ji=0;try{d5()}finally{_i=0,h5(),Ir=0}}function f5(){var e=$o.now(),t=e-ja;t>QS&&(tl-=t,ja=e)}function h5(){for(var e,t=Na,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Na=n);eo=e,im(r)}function im(e){if(!_i){Ji&&(Ji=clearTimeout(Ji));var t=e-Ir;t>24?(e<1/0&&(Ji=setTimeout(Ey,e-$o.now()-tl)),Hi&&(Hi=clearInterval(Hi))):(Hi||(ja=$o.now(),Hi=setInterval(f5,QS)),_i=1,ZS(Ey))}}function Ny(e,t,n){var r=new Ca;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var p5=Ja("start","end","cancel","interrupt"),m5=[],ek=0,jy=1,om=2,Xs=3,Cy=4,sm=5,Qs=6;function nl(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;g5(e,n,{name:t,index:r,group:i,on:p5,tween:m5,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:ek})}function vg(e,t){var n=Ut(e,t);if(n.state>ek)throw new Error("too late; already scheduled");return n}function on(e,t){var n=Ut(e,t);if(n.state>Xs)throw new Error("too late; already running");return n}function Ut(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function g5(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=JS(o,0,n.time);function o(u){n.state=jy,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var c,f,h,p;if(n.state!==jy)return l();for(c in r)if(p=r[c],p.name===n.name){if(p.state===Xs)return Ny(s);p.state===Cy?(p.state=Qs,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete r[c]):+c<t&&(p.state=Qs,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete r[c])}if(Ny(function(){n.state===Xs&&(n.state=Cy,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=om,n.on.call("start",e,e.__data__,n.index,n.group),n.state===om){for(n.state=Xs,i=new Array(h=n.tween.length),c=0,f=-1;c<h;++c)(p=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=p);i.length=f+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=sm,1),f=-1,h=i.length;++f<h;)i[f].call(e,c);n.state===sm&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Qs,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Zs(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>om&&r.state<sm,r.state=Qs,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function v5(e){return this.each(function(){Zs(this,e)})}function y5(e,t){var n,r;return function(){var i=on(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function x5(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=on(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=a;break}l===u&&i.push(a)}o.tween=i}}function w5(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Ut(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?y5:x5)(n,e,t))}function yg(e,t,n){var r=e._id;return e.each(function(){var i=on(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Ut(i,r).value[t]}}function tk(e,t){var n;return(typeof t=="number"?qn:t instanceof Do?_y:(n=Do(t))?(t=n,_y):t5)(e,t)}function b5(e){return function(){this.removeAttribute(e)}}function _5(e){return function(){this.removeAttributeNS(e.space,e.local)}}function S5(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function k5(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function E5(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function N5(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function j5(e,t){var n=el(e),r=n==="transform"?o5:tk;return this.attrTween(e,typeof t=="function"?(n.local?N5:E5)(n,r,yg(this,"attr."+e,t)):t==null?(n.local?_5:b5)(n):(n.local?k5:S5)(n,r,t))}function C5(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function T5(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function R5(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&T5(e,o)),n}return i._value=t,i}function I5(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&C5(e,o)),n}return i._value=t,i}function P5(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=el(e);return this.tween(n,(r.local?R5:I5)(r,t))}function M5(e,t){return function(){vg(this,e).delay=+t.apply(this,arguments)}}function A5(e,t){return t=+t,function(){vg(this,e).delay=t}}function O5(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?M5:A5)(t,e)):Ut(this.node(),t).delay}function L5(e,t){return function(){on(this,e).duration=+t.apply(this,arguments)}}function q5(e,t){return t=+t,function(){on(this,e).duration=t}}function z5(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?L5:q5)(t,e)):Ut(this.node(),t).duration}function D5(e,t){if(typeof t!="function")throw new Error;return function(){on(this,e).ease=t}}function $5(e){var t=this._id;return arguments.length?this.each(D5(t,e)):Ut(this.node(),t).ease}function F5(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;on(this,e).ease=n}}function B5(e){if(typeof e!="function")throw new Error;return this.each(F5(this._id,e))}function H5(e){typeof e!="function"&&(e=MS(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&a.push(l);return new En(r,this._parents,this._name,this._id)}function V5(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l=t[a],u=n[a],c=l.length,f=s[a]=new Array(c),h,p=0;p<c;++p)(h=l[p]||u[p])&&(f[p]=h);for(;a<r;++a)s[a]=t[a];return new En(s,this._parents,this._name,this._id)}function W5(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function U5(e,t,n){var r,i,o=W5(t)?vg:on;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}function G5(e,t){var n=this._id;return arguments.length<2?Ut(this.node(),n).on.on(e):this.each(U5(n,e,t))}function K5(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Y5(){return this.on("end.remove",K5(this._id))}function X5(e){var t=this._name,n=this._id;typeof e!="function"&&(e=hg(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],l=a.length,u=o[s]=new Array(l),c,f,h=0;h<l;++h)(c=a[h])&&(f=e.call(c,c.__data__,h,a))&&("__data__"in c&&(f.__data__=c.__data__),u[h]=f,nl(u[h],t,n,h,u,Ut(c,n)));return new En(o,this._parents,t,n)}function Q5(e){var t=this._name,n=this._id;typeof e!="function"&&(e=PS(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l=r[a],u=l.length,c,f=0;f<u;++f)if(c=l[f]){for(var h=e.call(c,c.__data__,f,l),p,y=Ut(c,n),v=0,b=h.length;v<b;++v)(p=h[v])&&nl(p,t,n,v,h,y);o.push(h),s.push(c)}return new En(o,s,t,n)}var Z5=Yo.prototype.constructor;function J5(){return new Z5(this._groups,this._parents)}function eR(e,t){var n,r,i;return function(){var o=bi(this,e),s=(this.style.removeProperty(e),bi(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function nk(e){return function(){this.style.removeProperty(e)}}function tR(e,t,n){var r,i=n+"",o;return function(){var s=bi(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function nR(e,t,n){var r,i,o;return function(){var s=bi(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),bi(this,e))),s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a))}}function rR(e,t){var n,r,i,o="style."+t,s="end."+o,a;return function(){var l=on(this,e),u=l.on,c=l.value[o]==null?a||(a=nk(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(s,i=c),l.on=r}}function iR(e,t,n){var r=(e+="")=="transform"?i5:tk;return t==null?this.styleTween(e,eR(e,r)).on("end.style."+e,nk(e)):typeof t=="function"?this.styleTween(e,nR(e,r,yg(this,"style."+e,t))).each(rR(this._id,e)):this.styleTween(e,tR(e,r,t),n).on("end.style."+e,null)}function oR(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function sR(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&oR(e,s,n)),r}return o._value=t,o}function aR(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,sR(e,t,n??""))}function lR(e){return function(){this.textContent=e}}function uR(e){return function(){var t=e(this);this.textContent=t??""}}function cR(e){return this.tween("text",typeof e=="function"?uR(yg(this,"text",e)):lR(e==null?"":e+""))}function dR(e){return function(t){this.textContent=e.call(this,t)}}function fR(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&dR(i)),t}return r._value=e,r}function hR(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,fR(e))}function pR(){for(var e=this._name,t=this._id,n=rk(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)if(l=s[u]){var c=Ut(l,t);nl(l,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new En(r,this._parents,e,n)}function mR(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--i===0&&o()}};n.each(function(){var u=on(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),u.on=t}),i===0&&o()})}var gR=0;function En(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function rk(){return++gR}var cn=Yo.prototype;En.prototype={constructor:En,select:X5,selectAll:Q5,selectChild:cn.selectChild,selectChildren:cn.selectChildren,filter:H5,merge:V5,selection:J5,transition:pR,call:cn.call,nodes:cn.nodes,node:cn.node,size:cn.size,empty:cn.empty,each:cn.each,on:G5,attr:j5,attrTween:P5,style:iR,styleTween:aR,text:cR,textTween:hR,remove:Y5,tween:w5,delay:O5,duration:z5,ease:$5,easeVarying:B5,end:mR,[Symbol.iterator]:cn[Symbol.iterator]};function vR(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var yR={time:null,delay:0,duration:250,ease:vR};function xR(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function wR(e){var t,n;e instanceof En?(t=e._id,e=e._name):(t=rk(),(n=yR).time=gg(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&nl(l,e,t,u,s,n||xR(l,t));return new En(r,this._parents,e,t)}Yo.prototype.interrupt=v5;Yo.prototype.transition=wR;const Es=e=>()=>e;function bR(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function gn(e,t,n){this.k=e,this.x=t,this.y=n}gn.prototype={constructor:gn,scale:function(e){return e===1?this:new gn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new gn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var wn=new gn(1,0,0);gn.prototype;function iu(e){e.stopImmediatePropagation()}function Vi(e){e.preventDefault(),e.stopImmediatePropagation()}function _R(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function SR(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Ty(){return this.__zoom||wn}function kR(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function ER(){return navigator.maxTouchPoints||"ontouchstart"in this}function NR(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function ik(){var e=_R,t=SR,n=NR,r=kR,i=ER,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,l=u5,u=Ja("start","zoom","end"),c,f,h,p=500,y=150,v=0,b=10;function m(S){S.property("__zoom",Ty).on("wheel.zoom",j,{passive:!1}).on("mousedown.zoom",T).on("dblclick.zoom",A).filter(i).on("touchstart.zoom",M).on("touchmove.zoom",$).on("touchend.zoom touchcancel.zoom",q).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(S,I,R,z){var P=S.selection?S.selection():S;P.property("__zoom",Ty),S!==P?k(S,I,R,z):P.interrupt().each(function(){E(this,arguments).event(z).start().zoom(null,typeof I=="function"?I.apply(this,arguments):I).end()})},m.scaleBy=function(S,I,R,z){m.scaleTo(S,function(){var P=this.__zoom.k,C=typeof I=="function"?I.apply(this,arguments):I;return P*C},R,z)},m.scaleTo=function(S,I,R,z){m.transform(S,function(){var P=t.apply(this,arguments),C=this.__zoom,L=R==null?x(P):typeof R=="function"?R.apply(this,arguments):R,O=C.invert(L),D=typeof I=="function"?I.apply(this,arguments):I;return n(w(g(C,D),L,O),P,s)},R,z)},m.translateBy=function(S,I,R,z){m.transform(S,function(){return n(this.__zoom.translate(typeof I=="function"?I.apply(this,arguments):I,typeof R=="function"?R.apply(this,arguments):R),t.apply(this,arguments),s)},null,z)},m.translateTo=function(S,I,R,z,P){m.transform(S,function(){var C=t.apply(this,arguments),L=this.__zoom,O=z==null?x(C):typeof z=="function"?z.apply(this,arguments):z;return n(wn.translate(O[0],O[1]).scale(L.k).translate(typeof I=="function"?-I.apply(this,arguments):-I,typeof R=="function"?-R.apply(this,arguments):-R),C,s)},z,P)};function g(S,I){return I=Math.max(o[0],Math.min(o[1],I)),I===S.k?S:new gn(I,S.x,S.y)}function w(S,I,R){var z=I[0]-R[0]*S.k,P=I[1]-R[1]*S.k;return z===S.x&&P===S.y?S:new gn(S.k,z,P)}function x(S){return[(+S[0][0]+ +S[1][0])/2,(+S[0][1]+ +S[1][1])/2]}function k(S,I,R,z){S.on("start.zoom",function(){E(this,arguments).event(z).start()}).on("interrupt.zoom end.zoom",function(){E(this,arguments).event(z).end()}).tween("zoom",function(){var P=this,C=arguments,L=E(P,C).event(z),O=t.apply(P,C),D=R==null?x(O):typeof R=="function"?R.apply(P,C):R,B=Math.max(O[1][0]-O[0][0],O[1][1]-O[0][1]),V=P.__zoom,K=typeof I=="function"?I.apply(P,C):I,Q=l(V.invert(D).concat(B/V.k),K.invert(D).concat(B/K.k));return function(Z){if(Z===1)Z=K;else{var ae=Q(Z),re=B/ae[2];Z=new gn(re,D[0]-ae[0]*re,D[1]-ae[1]*re)}L.zoom(null,Z)}})}function E(S,I,R){return!R&&S.__zooming||new N(S,I)}function N(S,I){this.that=S,this.args=I,this.active=0,this.sourceEvent=null,this.extent=t.apply(S,I),this.taps=0}N.prototype={event:function(S){return S&&(this.sourceEvent=S),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(S,I){return this.mouse&&S!=="mouse"&&(this.mouse[1]=I.invert(this.mouse[0])),this.touch0&&S!=="touch"&&(this.touch0[1]=I.invert(this.touch0[0])),this.touch1&&S!=="touch"&&(this.touch1[1]=I.invert(this.touch1[0])),this.that.__zoom=I,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(S){var I=Nt(this.that).datum();u.call(S,this.that,new bR(S,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:u}),I)}};function j(S,...I){if(!e.apply(this,arguments))return;var R=E(this,I).event(S),z=this.__zoom,P=Math.max(o[0],Math.min(o[1],z.k*Math.pow(2,r.apply(this,arguments)))),C=Dt(S);if(R.wheel)(R.mouse[0][0]!==C[0]||R.mouse[0][1]!==C[1])&&(R.mouse[1]=z.invert(R.mouse[0]=C)),clearTimeout(R.wheel);else{if(z.k===P)return;R.mouse=[C,z.invert(C)],Zs(this),R.start()}Vi(S),R.wheel=setTimeout(L,y),R.zoom("mouse",n(w(g(z,P),R.mouse[0],R.mouse[1]),R.extent,s));function L(){R.wheel=null,R.end()}}function T(S,...I){if(h||!e.apply(this,arguments))return;var R=S.currentTarget,z=E(this,I,!0).event(S),P=Nt(S.view).on("mousemove.zoom",D,!0).on("mouseup.zoom",B,!0),C=Dt(S,R),L=S.clientX,O=S.clientY;HS(S.view),iu(S),z.mouse=[C,this.__zoom.invert(C)],Zs(this),z.start();function D(V){if(Vi(V),!z.moved){var K=V.clientX-L,Q=V.clientY-O;z.moved=K*K+Q*Q>v}z.event(V).zoom("mouse",n(w(z.that.__zoom,z.mouse[0]=Dt(V,R),z.mouse[1]),z.extent,s))}function B(V){P.on("mousemove.zoom mouseup.zoom",null),VS(V.view,z.moved),Vi(V),z.event(V).end()}}function A(S,...I){if(e.apply(this,arguments)){var R=this.__zoom,z=Dt(S.changedTouches?S.changedTouches[0]:S,this),P=R.invert(z),C=R.k*(S.shiftKey?.5:2),L=n(w(g(R,C),z,P),t.apply(this,I),s);Vi(S),a>0?Nt(this).transition().duration(a).call(k,L,z,S):Nt(this).call(m.transform,L,z,S)}}function M(S,...I){if(e.apply(this,arguments)){var R=S.touches,z=R.length,P=E(this,I,S.changedTouches.length===z).event(S),C,L,O,D;for(iu(S),L=0;L<z;++L)O=R[L],D=Dt(O,this),D=[D,this.__zoom.invert(D),O.identifier],P.touch0?!P.touch1&&P.touch0[2]!==D[2]&&(P.touch1=D,P.taps=0):(P.touch0=D,C=!0,P.taps=1+!!c);c&&(c=clearTimeout(c)),C&&(P.taps<2&&(f=D[0],c=setTimeout(function(){c=null},p)),Zs(this),P.start())}}function $(S,...I){if(this.__zooming){var R=E(this,I).event(S),z=S.changedTouches,P=z.length,C,L,O,D;for(Vi(S),C=0;C<P;++C)L=z[C],O=Dt(L,this),R.touch0&&R.touch0[2]===L.identifier?R.touch0[0]=O:R.touch1&&R.touch1[2]===L.identifier&&(R.touch1[0]=O);if(L=R.that.__zoom,R.touch1){var B=R.touch0[0],V=R.touch0[1],K=R.touch1[0],Q=R.touch1[1],Z=(Z=K[0]-B[0])*Z+(Z=K[1]-B[1])*Z,ae=(ae=Q[0]-V[0])*ae+(ae=Q[1]-V[1])*ae;L=g(L,Math.sqrt(Z/ae)),O=[(B[0]+K[0])/2,(B[1]+K[1])/2],D=[(V[0]+Q[0])/2,(V[1]+Q[1])/2]}else if(R.touch0)O=R.touch0[0],D=R.touch0[1];else return;R.zoom("touch",n(w(L,O,D),R.extent,s))}}function q(S,...I){if(this.__zooming){var R=E(this,I).event(S),z=S.changedTouches,P=z.length,C,L;for(iu(S),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),C=0;C<P;++C)L=z[C],R.touch0&&R.touch0[2]===L.identifier?delete R.touch0:R.touch1&&R.touch1[2]===L.identifier&&delete R.touch1;if(R.touch1&&!R.touch0&&(R.touch0=R.touch1,delete R.touch1),R.touch0)R.touch0[1]=this.__zoom.invert(R.touch0[0]);else if(R.end(),R.taps===2&&(L=Dt(L,this),Math.hypot(f[0]-L[0],f[1]-L[1])<b)){var O=Nt(this).on("dblclick.zoom");O&&O.apply(this,arguments)}}}return m.wheelDelta=function(S){return arguments.length?(r=typeof S=="function"?S:Es(+S),m):r},m.filter=function(S){return arguments.length?(e=typeof S=="function"?S:Es(!!S),m):e},m.touchable=function(S){return arguments.length?(i=typeof S=="function"?S:Es(!!S),m):i},m.extent=function(S){return arguments.length?(t=typeof S=="function"?S:Es([[+S[0][0],+S[0][1]],[+S[1][0],+S[1][1]]]),m):t},m.scaleExtent=function(S){return arguments.length?(o[0]=+S[0],o[1]=+S[1],m):[o[0],o[1]]},m.translateExtent=function(S){return arguments.length?(s[0][0]=+S[0][0],s[1][0]=+S[1][0],s[0][1]=+S[0][1],s[1][1]=+S[1][1],m):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},m.constrain=function(S){return arguments.length?(n=S,m):n},m.duration=function(S){return arguments.length?(a=+S,m):a},m.interpolate=function(S){return arguments.length?(l=S,m):l},m.on=function(){var S=u.on.apply(u,arguments);return S===u?m:S},m.clickDistance=function(S){return arguments.length?(v=(S=+S)*S,m):Math.sqrt(v)},m.tapDistance=function(S){return arguments.length?(b=+S,m):b},m}const rl=_.createContext(null),jR=rl.Provider,Nn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},ok=Nn.error001();function we(e,t){const n=_.useContext(rl);if(n===null)throw new Error(ok);return RS(n,e,t)}const Ve=()=>{const e=_.useContext(rl);if(e===null)throw new Error(ok);return _.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},CR=e=>e.userSelectionActive?"none":"all";function vo({position:e,children:t,className:n,style:r,...i}){const o=we(CR),s=`${e}`.split("-");return F.createElement("div",{className:pt(["react-flow__panel",n,...s]),style:{...r,pointerEvents:o},...i},t)}function TR({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:F.createElement(vo,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},F.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const RR=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:o={},labelBgPadding:s=[2,4],labelBgBorderRadius:a=2,children:l,className:u,...c})=>{const f=_.useRef(null),[h,p]=_.useState({x:0,y:0,width:0,height:0}),y=pt(["react-flow__edge-textwrapper",u]);return _.useEffect(()=>{if(f.current){const v=f.current.getBBox();p({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),typeof n>"u"||!n?null:F.createElement("g",{transform:`translate(${e-h.width/2} ${t-h.height/2})`,className:y,visibility:h.width?"visible":"hidden",...c},i&&F.createElement("rect",{width:h.width+2*s[0],x:-s[0],y:-s[1],height:h.height+2*s[1],className:"react-flow__edge-textbg",style:o,rx:a,ry:a}),F.createElement("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:f,style:r},n),l)};var IR=_.memo(RR);const xg=e=>({width:e.offsetWidth,height:e.offsetHeight}),Si=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),wg=(e={x:0,y:0},t)=>({x:Si(e.x,t[0][0],t[1][0]),y:Si(e.y,t[0][1],t[1][1])}),Ry=(e,t,n)=>e<t?Si(Math.abs(e-t),1,50)/50:e>n?-Si(Math.abs(e-n),1,50)/50:0,sk=(e,t)=>{const n=Ry(e.x,35,t.width-35)*20,r=Ry(e.y,35,t.height-35)*20;return[n,r]},ak=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},lk=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Fo=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),uk=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Iy=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),PR=(e,t)=>uk(lk(Fo(e),Fo(t))),am=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},MR=e=>Ct(e.width)&&Ct(e.height)&&Ct(e.x)&&Ct(e.y),Ct=e=>!isNaN(e)&&isFinite(e),Te=Symbol.for("internals"),ck=["Enter"," ","Escape"],AR=(e,t)=>{},OR=e=>"nativeEvent"in e;function lm(e){var i,o;const t=OR(e)?e.nativeEvent:e,n=((o=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:o[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const dk=e=>"clientX"in e,er=(e,t)=>{var o,s;const n=dk(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,i=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},Ta=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},Qo=({id:e,path:t,labelX:n,labelY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:h,interactionWidth:p=20})=>F.createElement(F.Fragment,null,F.createElement("path",{id:e,style:c,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:h}),p&&F.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}),i&&Ct(n)&&Ct(r)?F.createElement(IR,{x:n,y:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u}):null);Qo.displayName="BaseEdge";function Wi(e,t,n){return n===void 0?n:r=>{const i=t().edges.find(o=>o.id===e);i&&n(r,{...i})}}function fk({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,s=Math.abs(r-t)/2,a=r<t?r+s:r-s;return[o,a,i,s]}function hk({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:s,targetControlY:a}){const l=e*.125+i*.375+s*.375+n*.125,u=t*.125+o*.375+a*.375+r*.125,c=Math.abs(l-e),f=Math.abs(u-t);return[l,u,c,f]}var Pr;(function(e){e.Strict="strict",e.Loose="loose"})(Pr||(Pr={}));var wr;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(wr||(wr={}));var Bo;(function(e){e.Partial="partial",e.Full="full"})(Bo||(Bo={}));var Fn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Fn||(Fn={}));var Ra;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Ra||(Ra={}));var X;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(X||(X={}));function Py({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===X.Left||e===X.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function pk({sourceX:e,sourceY:t,sourcePosition:n=X.Bottom,targetX:r,targetY:i,targetPosition:o=X.Top}){const[s,a]=Py({pos:n,x1:e,y1:t,x2:r,y2:i}),[l,u]=Py({pos:o,x1:r,y1:i,x2:e,y2:t}),[c,f,h,p]=hk({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:s,sourceControlY:a,targetControlX:l,targetControlY:u});return[`M${e},${t} C${s},${a} ${l},${u} ${r},${i}`,c,f,h,p]}const bg=_.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=X.Bottom,targetPosition:o=X.Top,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:y,interactionWidth:v})=>{const[b,m,g]=pk({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:o});return F.createElement(Qo,{path:b,labelX:m,labelY:g,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:y,interactionWidth:v})});bg.displayName="SimpleBezierEdge";const My={[X.Left]:{x:-1,y:0},[X.Right]:{x:1,y:0},[X.Top]:{x:0,y:-1},[X.Bottom]:{x:0,y:1}},LR=({source:e,sourcePosition:t=X.Bottom,target:n})=>t===X.Left||t===X.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Ay=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function qR({source:e,sourcePosition:t=X.Bottom,target:n,targetPosition:r=X.Top,center:i,offset:o}){const s=My[t],a=My[r],l={x:e.x+s.x*o,y:e.y+s.y*o},u={x:n.x+a.x*o,y:n.y+a.y*o},c=LR({source:l,sourcePosition:t,target:u}),f=c.x!==0?"x":"y",h=c[f];let p=[],y,v;const b={x:0,y:0},m={x:0,y:0},[g,w,x,k]=fk({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[f]*a[f]===-1){y=i.x??g,v=i.y??w;const N=[{x:y,y:l.y},{x:y,y:u.y}],j=[{x:l.x,y:v},{x:u.x,y:v}];s[f]===h?p=f==="x"?N:j:p=f==="x"?j:N}else{const N=[{x:l.x,y:u.y}],j=[{x:u.x,y:l.y}];if(f==="x"?p=s.x===h?j:N:p=s.y===h?N:j,t===r){const q=Math.abs(e[f]-n[f]);if(q<=o){const S=Math.min(o-1,o-q);s[f]===h?b[f]=(l[f]>e[f]?-1:1)*S:m[f]=(u[f]>n[f]?-1:1)*S}}if(t!==r){const q=f==="x"?"y":"x",S=s[f]===a[q],I=l[q]>u[q],R=l[q]<u[q];(s[f]===1&&(!S&&I||S&&R)||s[f]!==1&&(!S&&R||S&&I))&&(p=f==="x"?N:j)}const T={x:l.x+b.x,y:l.y+b.y},A={x:u.x+m.x,y:u.y+m.y},M=Math.max(Math.abs(T.x-p[0].x),Math.abs(A.x-p[0].x)),$=Math.max(Math.abs(T.y-p[0].y),Math.abs(A.y-p[0].y));M>=$?(y=(T.x+A.x)/2,v=p[0].y):(y=p[0].x,v=(T.y+A.y)/2)}return[[e,{x:l.x+b.x,y:l.y+b.y},...p,{x:u.x+m.x,y:u.y+m.y},n],y,v,x,k]}function zR(e,t,n,r){const i=Math.min(Ay(e,t)/2,Ay(t,n)/2,r),{x:o,y:s}=t;if(e.x===o&&o===n.x||e.y===s&&s===n.y)return`L${o} ${s}`;if(e.y===s){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${o+i*u},${s}Q ${o},${s} ${o},${s+i*c}`}const a=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${o},${s+i*l}Q ${o},${s} ${o+i*a},${s}`}function um({sourceX:e,sourceY:t,sourcePosition:n=X.Bottom,targetX:r,targetY:i,targetPosition:o=X.Top,borderRadius:s=5,centerX:a,centerY:l,offset:u=20}){const[c,f,h,p,y]=qR({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:a,y:l},offset:u});return[c.reduce((b,m,g)=>{let w="";return g>0&&g<c.length-1?w=zR(c[g-1],m,c[g+1],s):w=`${g===0?"M":"L"}${m.x} ${m.y}`,b+=w,b},""),f,h,p,y]}const il=_.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,sourcePosition:f=X.Bottom,targetPosition:h=X.Top,markerEnd:p,markerStart:y,pathOptions:v,interactionWidth:b})=>{const[m,g,w]=um({sourceX:e,sourceY:t,sourcePosition:f,targetX:n,targetY:r,targetPosition:h,borderRadius:v==null?void 0:v.borderRadius,offset:v==null?void 0:v.offset});return F.createElement(Qo,{path:m,labelX:g,labelY:w,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:p,markerStart:y,interactionWidth:b})});il.displayName="SmoothStepEdge";const _g=_.memo(e=>{var t;return F.createElement(il,{...e,pathOptions:_.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});_g.displayName="StepEdge";function DR({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,o,s,a]=fk({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,o,s,a]}const Sg=_.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:h,interactionWidth:p})=>{const[y,v,b]=DR({sourceX:e,sourceY:t,targetX:n,targetY:r});return F.createElement(Qo,{path:y,labelX:v,labelY:b,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:h,interactionWidth:p})});Sg.displayName="StraightEdge";function Ns(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Oy({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){switch(e){case X.Left:return[t-Ns(t-r,o),n];case X.Right:return[t+Ns(r-t,o),n];case X.Top:return[t,n-Ns(n-i,o)];case X.Bottom:return[t,n+Ns(i-n,o)]}}function mk({sourceX:e,sourceY:t,sourcePosition:n=X.Bottom,targetX:r,targetY:i,targetPosition:o=X.Top,curvature:s=.25}){const[a,l]=Oy({pos:n,x1:e,y1:t,x2:r,y2:i,c:s}),[u,c]=Oy({pos:o,x1:r,y1:i,x2:e,y2:t,c:s}),[f,h,p,y]=hk({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:u,targetControlY:c});return[`M${e},${t} C${a},${l} ${u},${c} ${r},${i}`,f,h,p,y]}const Ia=_.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=X.Bottom,targetPosition:o=X.Top,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:y,pathOptions:v,interactionWidth:b})=>{const[m,g,w]=mk({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:o,curvature:v==null?void 0:v.curvature});return F.createElement(Qo,{path:m,labelX:g,labelY:w,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:y,interactionWidth:b})});Ia.displayName="BezierEdge";const kg=_.createContext(null),$R=kg.Provider;kg.Consumer;const FR=()=>_.useContext(kg),BR=e=>"id"in e&&"source"in e&&"target"in e,HR=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,cm=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,VR=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),WR=(e,t)=>{if(!e.source||!e.target)return t;let n;return BR(e)?n={...e}:n={...e,id:HR(e)},VR(n,t)?t:t.concat(n)},dm=({x:e,y:t},[n,r,i],o,[s,a])=>{const l={x:(e-n)/i,y:(t-r)/i};return o?{x:s*Math.round(l.x/s),y:a*Math.round(l.y/a)}:l},gk=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r}),Er=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],i={x:e.position.x-n,y:e.position.y-r};return{...i,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:i}},ol=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const{x:o,y:s}=Er(i,t).positionAbsolute;return lk(r,Fo({x:o,y:s,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return uk(n)},vk=(e,t,[n,r,i]=[0,0,1],o=!1,s=!1,a=[0,0])=>{const l={x:(t.x-n)/i,y:(t.y-r)/i,width:t.width/i,height:t.height/i},u=[];return e.forEach(c=>{const{width:f,height:h,selectable:p=!0,hidden:y=!1}=c;if(s&&!p||y)return!1;const{positionAbsolute:v}=Er(c,a),b={x:v.x,y:v.y,width:f||0,height:h||0},m=am(l,b),g=typeof f>"u"||typeof h>"u"||f===null||h===null,w=o&&m>0,x=(f||0)*(h||0);(g||w||m>=x||c.dragging)&&u.push(c)}),u},yk=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},xk=(e,t,n,r,i,o=.1)=>{const s=t/(e.width*(1+o)),a=n/(e.height*(1+o)),l=Math.min(s,a),u=Si(l,r,i),c=e.x+e.width/2,f=e.y+e.height/2,h=t/2-c*u,p=n/2-f*u;return{x:h,y:p,zoom:u}},mr=(e,t=0)=>e.transition().duration(t);function Ly(e,t,n,r){return(t[n]||[]).reduce((i,o)=>{var s,a;return`${e.id}-${o.id}-${n}`!==r&&i.push({id:o.id||null,type:n,nodeId:e.id,x:(((s=e.positionAbsolute)==null?void 0:s.x)??0)+o.x+o.width/2,y:(((a=e.positionAbsolute)==null?void 0:a.y)??0)+o.y+o.height/2}),i},[])}function UR(e,t,n,r,i,o){const{x:s,y:a}=er(e),u=t.elementsFromPoint(s,a).find(y=>y.classList.contains("react-flow__handle"));if(u){const y=u.getAttribute("data-nodeid");if(y){const v=Eg(void 0,u),b=u.getAttribute("data-handleid"),m=o({nodeId:y,id:b,type:v});if(m){const g=i.find(w=>w.nodeId===y&&w.type===v&&w.id===b);return{handle:{id:b,type:v,nodeId:y,x:(g==null?void 0:g.x)||n.x,y:(g==null?void 0:g.y)||n.y},validHandleResult:m}}}}let c=[],f=1/0;if(i.forEach(y=>{const v=Math.sqrt((y.x-n.x)**2+(y.y-n.y)**2);if(v<=r){const b=o(y);v<=f&&(v<f?c=[{handle:y,validHandleResult:b}]:v===f&&c.push({handle:y,validHandleResult:b}),f=v)}}),!c.length)return{handle:null,validHandleResult:wk()};if(c.length===1)return c[0];const h=c.some(({validHandleResult:y})=>y.isValid),p=c.some(({handle:y})=>y.type==="target");return c.find(({handle:y,validHandleResult:v})=>p?y.type==="target":h?v.isValid:!0)||c[0]}const GR={source:null,target:null,sourceHandle:null,targetHandle:null},wk=()=>({handleDomNode:null,isValid:!1,connection:GR,endHandle:null});function bk(e,t,n,r,i,o,s){const a=i==="target",l=s.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...wk(),handleDomNode:l};if(l){const c=Eg(void 0,l),f=l.getAttribute("data-nodeid"),h=l.getAttribute("data-handleid"),p=l.classList.contains("connectable"),y=l.classList.contains("connectableend"),v={source:a?f:n,sourceHandle:a?h:r,target:a?n:f,targetHandle:a?r:h};u.connection=v,p&&y&&(t===Pr.Strict?a&&c==="source"||!a&&c==="target":f!==n||h!==r)&&(u.endHandle={nodeId:f,handleId:h,type:c},u.isValid=o(v))}return u}function KR({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((i,o)=>{if(o[Te]){const{handleBounds:s}=o[Te];let a=[],l=[];s&&(a=Ly(o,s,"source",`${t}-${n}-${r}`),l=Ly(o,s,"target",`${t}-${n}-${r}`)),i.push(...a,...l)}return i},[])}function Eg(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function ou(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function YR(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function _k({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:i,getState:o,setState:s,isValidConnection:a,edgeUpdaterType:l,onReconnectEnd:u}){const c=ak(e.target),{connectionMode:f,domNode:h,autoPanOnConnect:p,connectionRadius:y,onConnectStart:v,panBy:b,getNodes:m,cancelConnection:g}=o();let w=0,x;const{x:k,y:E}=er(e),N=c==null?void 0:c.elementFromPoint(k,E),j=Eg(l,N),T=h==null?void 0:h.getBoundingClientRect();if(!T||!j)return;let A,M=er(e,T),$=!1,q=null,S=!1,I=null;const R=KR({nodes:m(),nodeId:n,handleId:t,handleType:j}),z=()=>{if(!p)return;const[L,O]=sk(M,T);b({x:L,y:O}),w=requestAnimationFrame(z)};s({connectionPosition:M,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:j,connectionStartHandle:{nodeId:n,handleId:t,type:j},connectionEndHandle:null}),v==null||v(e,{nodeId:n,handleId:t,handleType:j});function P(L){const{transform:O}=o();M=er(L,T);const{handle:D,validHandleResult:B}=UR(L,c,dm(M,O,!1,[1,1]),y,R,V=>bk(V,f,n,t,i?"target":"source",a,c));if(x=D,$||(z(),$=!0),I=B.handleDomNode,q=B.connection,S=B.isValid,s({connectionPosition:x&&S?gk({x:x.x,y:x.y},O):M,connectionStatus:YR(!!x,S),connectionEndHandle:B.endHandle}),!x&&!S&&!I)return ou(A);q.source!==q.target&&I&&(ou(A),A=I,I.classList.add("connecting","react-flow__handle-connecting"),I.classList.toggle("valid",S),I.classList.toggle("react-flow__handle-valid",S))}function C(L){var O,D;(x||I)&&q&&S&&(r==null||r(q)),(D=(O=o()).onConnectEnd)==null||D.call(O,L),l&&(u==null||u(L)),ou(A),g(),cancelAnimationFrame(w),$=!1,S=!1,q=null,I=null,c.removeEventListener("mousemove",P),c.removeEventListener("mouseup",C),c.removeEventListener("touchmove",P),c.removeEventListener("touchend",C)}c.addEventListener("mousemove",P),c.addEventListener("mouseup",C),c.addEventListener("touchmove",P),c.addEventListener("touchend",C)}const qy=()=>!0,XR=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),QR=(e,t,n)=>r=>{const{connectionStartHandle:i,connectionEndHandle:o,connectionClickStartHandle:s}=r;return{connecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n||(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n}},Sk=_.forwardRef(({type:e="source",position:t=X.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:s,onConnect:a,children:l,className:u,onMouseDown:c,onTouchStart:f,...h},p)=>{var T,A;const y=s||null,v=e==="target",b=Ve(),m=FR(),{connectOnClick:g,noPanClassName:w}=we(XR,et),{connecting:x,clickConnecting:k}=we(QR(m,y,e),et);m||(A=(T=b.getState()).onError)==null||A.call(T,"010",Nn.error010());const E=M=>{const{defaultEdgeOptions:$,onConnect:q,hasDefaultEdges:S}=b.getState(),I={...$,...M};if(S){const{edges:R,setEdges:z}=b.getState();z(WR(I,R))}q==null||q(I),a==null||a(I)},N=M=>{if(!m)return;const $=dk(M);i&&($&&M.button===0||!$)&&_k({event:M,handleId:y,nodeId:m,onConnect:E,isTarget:v,getState:b.getState,setState:b.setState,isValidConnection:n||b.getState().isValidConnection||qy}),$?c==null||c(M):f==null||f(M)},j=M=>{const{onClickConnectStart:$,onClickConnectEnd:q,connectionClickStartHandle:S,connectionMode:I,isValidConnection:R}=b.getState();if(!m||!S&&!i)return;if(!S){$==null||$(M,{nodeId:m,handleId:y,handleType:e}),b.setState({connectionClickStartHandle:{nodeId:m,type:e,handleId:y}});return}const z=ak(M.target),P=n||R||qy,{connection:C,isValid:L}=bk({nodeId:m,id:y,type:e},I,S.nodeId,S.handleId||null,S.type,P,z);L&&E(C),q==null||q(M),b.setState({connectionClickStartHandle:null})};return F.createElement("div",{"data-handleid":y,"data-nodeid":m,"data-handlepos":t,"data-id":`${m}-${y}-${e}`,className:pt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",w,u,{source:!v,target:v,connectable:r,connectablestart:i,connectableend:o,connecting:k,connectionindicator:r&&(i&&!x||o&&x)}]),onMouseDown:N,onTouchStart:N,onClick:g?j:void 0,ref:p,...h},l)});Sk.displayName="Handle";var ir=_.memo(Sk);const kk=({data:e,isConnectable:t,targetPosition:n=X.Top,sourcePosition:r=X.Bottom})=>F.createElement(F.Fragment,null,F.createElement(ir,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,F.createElement(ir,{type:"source",position:r,isConnectable:t}));kk.displayName="DefaultNode";var fm=_.memo(kk);const Ek=({data:e,isConnectable:t,sourcePosition:n=X.Bottom})=>F.createElement(F.Fragment,null,e==null?void 0:e.label,F.createElement(ir,{type:"source",position:n,isConnectable:t}));Ek.displayName="InputNode";var Nk=_.memo(Ek);const jk=({data:e,isConnectable:t,targetPosition:n=X.Top})=>F.createElement(F.Fragment,null,F.createElement(ir,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);jk.displayName="OutputNode";var Ck=_.memo(jk);const Ng=()=>null;Ng.displayName="GroupNode";const ZR=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),js=e=>e.id;function JR(e,t){return et(e.selectedNodes.map(js),t.selectedNodes.map(js))&&et(e.selectedEdges.map(js),t.selectedEdges.map(js))}const Tk=_.memo(({onSelectionChange:e})=>{const t=Ve(),{selectedNodes:n,selectedEdges:r}=we(ZR,JR);return _.useEffect(()=>{const i={nodes:n,edges:r};e==null||e(i),t.getState().onSelectionChange.forEach(o=>o(i))},[n,r,e]),null});Tk.displayName="SelectionListener";const eI=e=>!!e.onSelectionChange;function tI({onSelectionChange:e}){const t=we(eI);return e||t?F.createElement(Tk,{onSelectionChange:e}):null}const nI=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Fr(e,t){_.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function te(e,t,n){_.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const rI=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:i,onConnectStart:o,onConnectEnd:s,onClickConnectStart:a,onClickConnectEnd:l,nodesDraggable:u,nodesConnectable:c,nodesFocusable:f,edgesFocusable:h,edgesUpdatable:p,elevateNodesOnSelect:y,minZoom:v,maxZoom:b,nodeExtent:m,onNodesChange:g,onEdgesChange:w,elementsSelectable:x,connectionMode:k,snapGrid:E,snapToGrid:N,translateExtent:j,connectOnClick:T,defaultEdgeOptions:A,fitView:M,fitViewOptions:$,onNodesDelete:q,onEdgesDelete:S,onNodeDrag:I,onNodeDragStart:R,onNodeDragStop:z,onSelectionDrag:P,onSelectionDragStart:C,onSelectionDragStop:L,noPanClassName:O,nodeOrigin:D,rfId:B,autoPanOnConnect:V,autoPanOnNodeDrag:K,onError:Q,connectionRadius:Z,isValidConnection:ae,nodeDragThreshold:re})=>{const{setNodes:ie,setEdges:Re,setDefaultNodesAndEdges:ve,setMinZoom:Le,setMaxZoom:Me,setTranslateExtent:W,setNodeExtent:oe,reset:G}=we(nI,et),U=Ve();return _.useEffect(()=>{const ce=r==null?void 0:r.map(qe=>({...qe,...A}));return ve(n,ce),()=>{G()}},[]),te("defaultEdgeOptions",A,U.setState),te("connectionMode",k,U.setState),te("onConnect",i,U.setState),te("onConnectStart",o,U.setState),te("onConnectEnd",s,U.setState),te("onClickConnectStart",a,U.setState),te("onClickConnectEnd",l,U.setState),te("nodesDraggable",u,U.setState),te("nodesConnectable",c,U.setState),te("nodesFocusable",f,U.setState),te("edgesFocusable",h,U.setState),te("edgesUpdatable",p,U.setState),te("elementsSelectable",x,U.setState),te("elevateNodesOnSelect",y,U.setState),te("snapToGrid",N,U.setState),te("snapGrid",E,U.setState),te("onNodesChange",g,U.setState),te("onEdgesChange",w,U.setState),te("connectOnClick",T,U.setState),te("fitViewOnInit",M,U.setState),te("fitViewOnInitOptions",$,U.setState),te("onNodesDelete",q,U.setState),te("onEdgesDelete",S,U.setState),te("onNodeDrag",I,U.setState),te("onNodeDragStart",R,U.setState),te("onNodeDragStop",z,U.setState),te("onSelectionDrag",P,U.setState),te("onSelectionDragStart",C,U.setState),te("onSelectionDragStop",L,U.setState),te("noPanClassName",O,U.setState),te("nodeOrigin",D,U.setState),te("rfId",B,U.setState),te("autoPanOnConnect",V,U.setState),te("autoPanOnNodeDrag",K,U.setState),te("onError",Q,U.setState),te("connectionRadius",Z,U.setState),te("isValidConnection",ae,U.setState),te("nodeDragThreshold",re,U.setState),Fr(e,ie),Fr(t,Re),Fr(v,Le),Fr(b,Me),Fr(j,W),Fr(m,oe),null},zy={display:"none"},iI={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Rk="react-flow__node-desc",Ik="react-flow__edge-desc",oI="react-flow__aria-live",sI=e=>e.ariaLiveMessage;function aI({rfId:e}){const t=we(sI);return F.createElement("div",{id:`${oI}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:iI},t)}function lI({rfId:e,disableKeyboardA11y:t}){return F.createElement(F.Fragment,null,F.createElement("div",{id:`${Rk}-${e}`,style:zy},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),F.createElement("div",{id:`${Ik}-${e}`,style:zy},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&F.createElement(aI,{rfId:e}))}var Ho=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=_.useState(!1),i=_.useRef(!1),o=_.useRef(new Set([])),[s,a]=_.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),c=u.reduce((f,h)=>f.concat(...h),[]);return[u,c]}return[[],[]]},[e]);return _.useEffect(()=>{const l=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||l;if(e!==null){const c=p=>{if(i.current=p.ctrlKey||p.metaKey||p.shiftKey,(!i.current||i.current&&!t.actInsideInputWithModifier)&&lm(p))return!1;const v=$y(p.code,a);o.current.add(p[v]),Dy(s,o.current,!1)&&(p.preventDefault(),r(!0))},f=p=>{if((!i.current||i.current&&!t.actInsideInputWithModifier)&&lm(p))return!1;const v=$y(p.code,a);Dy(s,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(p[v]),p.key==="Meta"&&o.current.clear(),i.current=!1},h=()=>{o.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",c),u==null||u.addEventListener("keyup",f),window.addEventListener("blur",h),()=>{u==null||u.removeEventListener("keydown",c),u==null||u.removeEventListener("keyup",f),window.removeEventListener("blur",h)}}},[e,r]),n};function Dy(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function $y(e,t){return t.includes(e)?"code":"key"}function Pk(e,t,n,r){var a,l;const i=e.parentNode||e.parentId;if(!i)return n;const o=t.get(i),s=Er(o,r);return Pk(o,t,{x:(n.x??0)+s.x,y:(n.y??0)+s.y,z:(((a=o[Te])==null?void 0:a.z)??0)>(n.z??0)?((l=o[Te])==null?void 0:l.z)??0:n.z??0},r)}function Mk(e,t,n){e.forEach(r=>{var o;const i=r.parentNode||r.parentId;if(i&&!e.has(i))throw new Error(`Parent node ${i} not found`);if(i||n!=null&&n[r.id]){const{x:s,y:a,z:l}=Pk(r,e,{...r.position,z:((o=r[Te])==null?void 0:o.z)??0},t);r.positionAbsolute={x:s,y:a},r[Te].z=l,n!=null&&n[r.id]&&(r[Te].isParent=!0)}})}function su(e,t,n,r){const i=new Map,o={},s=r?1e3:0;return e.forEach(a=>{var p;const l=(Ct(a.zIndex)?a.zIndex:0)+(a.selected?s:0),u=t.get(a.id),c={...a,positionAbsolute:{x:a.position.x,y:a.position.y}},f=a.parentNode||a.parentId;f&&(o[f]=!0);const h=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==a.type;Object.defineProperty(c,Te,{enumerable:!1,value:{handleBounds:h||(p=u==null?void 0:u[Te])==null?void 0:p.handleBounds,z:l}}),i.set(a.id,c)}),Mk(i,n,o),i}function Ak(e,t={}){const{getNodes:n,width:r,height:i,minZoom:o,maxZoom:s,d3Zoom:a,d3Selection:l,fitViewOnInitDone:u,fitViewOnInit:c,nodeOrigin:f}=e(),h=t.initial&&!u&&c;if(a&&l&&(h||!t.initial)){const y=n().filter(b=>{var g;const m=t.includeHiddenNodes?b.width&&b.height:!b.hidden;return(g=t.nodes)!=null&&g.length?m&&t.nodes.some(w=>w.id===b.id):m}),v=y.every(b=>b.width&&b.height);if(y.length>0&&v){const b=ol(y,f),{x:m,y:g,zoom:w}=xk(b,r,i,t.minZoom??o,t.maxZoom??s,t.padding??.1),x=wn.translate(m,g).scale(w);return typeof t.duration=="number"&&t.duration>0?a.transform(mr(l,t.duration),x):a.transform(l,x),!0}}return!1}function uI(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[Te]:r[Te],selected:n.selected})}),new Map(t)}function cI(e,t){return t.map(n=>{const r=e.find(i=>i.id===n.id);return r&&(n.selected=r.selected),n})}function Cs({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:i,edges:o,onNodesChange:s,onEdgesChange:a,hasDefaultNodes:l,hasDefaultEdges:u}=n();e!=null&&e.length&&(l&&r({nodeInternals:uI(e,i)}),s==null||s(e)),t!=null&&t.length&&(u&&r({edges:cI(t,o)}),a==null||a(t))}const Br=()=>{},dI={zoomIn:Br,zoomOut:Br,zoomTo:Br,getZoom:()=>1,setViewport:Br,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Br,fitBounds:Br,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},fI=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),hI=()=>{const e=Ve(),{d3Zoom:t,d3Selection:n}=we(fI,et);return _.useMemo(()=>n&&t?{zoomIn:i=>t.scaleBy(mr(n,i==null?void 0:i.duration),1.2),zoomOut:i=>t.scaleBy(mr(n,i==null?void 0:i.duration),1/1.2),zoomTo:(i,o)=>t.scaleTo(mr(n,o==null?void 0:o.duration),i),getZoom:()=>e.getState().transform[2],setViewport:(i,o)=>{const[s,a,l]=e.getState().transform,u=wn.translate(i.x??s,i.y??a).scale(i.zoom??l);t.transform(mr(n,o==null?void 0:o.duration),u)},getViewport:()=>{const[i,o,s]=e.getState().transform;return{x:i,y:o,zoom:s}},fitView:i=>Ak(e.getState,i),setCenter:(i,o,s)=>{const{width:a,height:l,maxZoom:u}=e.getState(),c=typeof(s==null?void 0:s.zoom)<"u"?s.zoom:u,f=a/2-i*c,h=l/2-o*c,p=wn.translate(f,h).scale(c);t.transform(mr(n,s==null?void 0:s.duration),p)},fitBounds:(i,o)=>{const{width:s,height:a,minZoom:l,maxZoom:u}=e.getState(),{x:c,y:f,zoom:h}=xk(i,s,a,l,u,(o==null?void 0:o.padding)??.1),p=wn.translate(c,f).scale(h);t.transform(mr(n,o==null?void 0:o.duration),p)},project:i=>{const{transform:o,snapToGrid:s,snapGrid:a}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),dm(i,o,s,a)},screenToFlowPosition:i=>{const{transform:o,snapToGrid:s,snapGrid:a,domNode:l}=e.getState();if(!l)return i;const{x:u,y:c}=l.getBoundingClientRect(),f={x:i.x-u,y:i.y-c};return dm(f,o,s,a)},flowToScreenPosition:i=>{const{transform:o,domNode:s}=e.getState();if(!s)return i;const{x:a,y:l}=s.getBoundingClientRect(),u=gk(i,o);return{x:u.x+a,y:u.y+l}},viewportInitialized:!0}:dI,[t,n])};function jg(){const e=hI(),t=Ve(),n=_.useCallback(()=>t.getState().getNodes().map(v=>({...v})),[]),r=_.useCallback(v=>t.getState().nodeInternals.get(v),[]),i=_.useCallback(()=>{const{edges:v=[]}=t.getState();return v.map(b=>({...b}))},[]),o=_.useCallback(v=>{const{edges:b=[]}=t.getState();return b.find(m=>m.id===v)},[]),s=_.useCallback(v=>{const{getNodes:b,setNodes:m,hasDefaultNodes:g,onNodesChange:w}=t.getState(),x=b(),k=typeof v=="function"?v(x):v;if(g)m(k);else if(w){const E=k.length===0?x.map(N=>({type:"remove",id:N.id})):k.map(N=>({item:N,type:"reset"}));w(E)}},[]),a=_.useCallback(v=>{const{edges:b=[],setEdges:m,hasDefaultEdges:g,onEdgesChange:w}=t.getState(),x=typeof v=="function"?v(b):v;if(g)m(x);else if(w){const k=x.length===0?b.map(E=>({type:"remove",id:E.id})):x.map(E=>({item:E,type:"reset"}));w(k)}},[]),l=_.useCallback(v=>{const b=Array.isArray(v)?v:[v],{getNodes:m,setNodes:g,hasDefaultNodes:w,onNodesChange:x}=t.getState();if(w){const E=[...m(),...b];g(E)}else if(x){const k=b.map(E=>({item:E,type:"add"}));x(k)}},[]),u=_.useCallback(v=>{const b=Array.isArray(v)?v:[v],{edges:m=[],setEdges:g,hasDefaultEdges:w,onEdgesChange:x}=t.getState();if(w)g([...m,...b]);else if(x){const k=b.map(E=>({item:E,type:"add"}));x(k)}},[]),c=_.useCallback(()=>{const{getNodes:v,edges:b=[],transform:m}=t.getState(),[g,w,x]=m;return{nodes:v().map(k=>({...k})),edges:b.map(k=>({...k})),viewport:{x:g,y:w,zoom:x}}},[]),f=_.useCallback(({nodes:v,edges:b})=>{const{nodeInternals:m,getNodes:g,edges:w,hasDefaultNodes:x,hasDefaultEdges:k,onNodesDelete:E,onEdgesDelete:N,onNodesChange:j,onEdgesChange:T}=t.getState(),A=(v||[]).map(I=>I.id),M=(b||[]).map(I=>I.id),$=g().reduce((I,R)=>{const z=R.parentNode||R.parentId,P=!A.includes(R.id)&&z&&I.find(L=>L.id===z);return(typeof R.deletable=="boolean"?R.deletable:!0)&&(A.includes(R.id)||P)&&I.push(R),I},[]),q=w.filter(I=>typeof I.deletable=="boolean"?I.deletable:!0),S=q.filter(I=>M.includes(I.id));if($||S){const I=yk($,q),R=[...S,...I],z=R.reduce((P,C)=>(P.includes(C.id)||P.push(C.id),P),[]);if((k||x)&&(k&&t.setState({edges:w.filter(P=>!z.includes(P.id))}),x&&($.forEach(P=>{m.delete(P.id)}),t.setState({nodeInternals:new Map(m)}))),z.length>0&&(N==null||N(R),T&&T(z.map(P=>({id:P,type:"remove"})))),$.length>0&&(E==null||E($),j)){const P=$.map(C=>({id:C.id,type:"remove"}));j(P)}}},[]),h=_.useCallback(v=>{const b=MR(v),m=b?null:t.getState().nodeInternals.get(v.id);return!b&&!m?[null,null,b]:[b?v:Iy(m),m,b]},[]),p=_.useCallback((v,b=!0,m)=>{const[g,w,x]=h(v);return g?(m||t.getState().getNodes()).filter(k=>{if(!x&&(k.id===w.id||!k.positionAbsolute))return!1;const E=Iy(k),N=am(E,g);return b&&N>0||N>=g.width*g.height}):[]},[]),y=_.useCallback((v,b,m=!0)=>{const[g]=h(v);if(!g)return!1;const w=am(g,b);return m&&w>0||w>=g.width*g.height},[]);return _.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:i,getEdge:o,setNodes:s,setEdges:a,addNodes:l,addEdges:u,toObject:c,deleteElements:f,getIntersectingNodes:p,isNodeIntersecting:y}),[e,n,r,i,o,s,a,l,u,c,f,p,y])}const pI={actInsideInputWithModifier:!1};var mI=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=Ve(),{deleteElements:r}=jg(),i=Ho(e,pI),o=Ho(t);_.useEffect(()=>{if(i){const{edges:s,getNodes:a}=n.getState(),l=a().filter(c=>c.selected),u=s.filter(c=>c.selected);r({nodes:l,edges:u}),n.setState({nodesSelectionActive:!1})}},[i]),_.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])};function gI(e){const t=Ve();_.useEffect(()=>{let n;const r=()=>{var o,s;if(!e.current)return;const i=xg(e.current);(i.height===0||i.width===0)&&((s=(o=t.getState()).onError)==null||s.call(o,"004",Nn.error004())),t.setState({width:i.width||500,height:i.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const Cg={position:"absolute",width:"100%",height:"100%",top:0,left:0},vI=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Ts=e=>({x:e.x,y:e.y,zoom:e.k}),Hr=(e,t)=>e.target.closest(`.${t}`),Fy=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),By=e=>{const t=e.ctrlKey&&Ta()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},yI=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),xI=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:i=!0,zoomOnPinch:o=!0,panOnScroll:s=!1,panOnScrollSpeed:a=.5,panOnScrollMode:l=wr.Free,zoomOnDoubleClick:u=!0,elementsSelectable:c,panOnDrag:f=!0,defaultViewport:h,translateExtent:p,minZoom:y,maxZoom:v,zoomActivationKeyCode:b,preventScrolling:m=!0,children:g,noWheelClassName:w,noPanClassName:x})=>{const k=_.useRef(),E=Ve(),N=_.useRef(!1),j=_.useRef(!1),T=_.useRef(null),A=_.useRef({x:0,y:0,zoom:0}),{d3Zoom:M,d3Selection:$,d3ZoomHandler:q,userSelectionActive:S}=we(yI,et),I=Ho(b),R=_.useRef(0),z=_.useRef(!1),P=_.useRef();return gI(T),_.useEffect(()=>{if(T.current){const C=T.current.getBoundingClientRect(),L=ik().scaleExtent([y,v]).translateExtent(p),O=Nt(T.current).call(L),D=wn.translate(h.x,h.y).scale(Si(h.zoom,y,v)),B=[[0,0],[C.width,C.height]],V=L.constrain()(D,B,p);L.transform(O,V),L.wheelDelta(By),E.setState({d3Zoom:L,d3Selection:O,d3ZoomHandler:O.on("wheel.zoom"),transform:[V.x,V.y,V.k],domNode:T.current.closest(".react-flow")})}},[]),_.useEffect(()=>{$&&M&&(s&&!I&&!S?$.on("wheel.zoom",C=>{if(Hr(C,w))return!1;C.preventDefault(),C.stopImmediatePropagation();const L=$.property("__zoom").k||1;if(C.ctrlKey&&o){const ae=Dt(C),re=By(C),ie=L*Math.pow(2,re);M.scaleTo($,ie,ae,C);return}const O=C.deltaMode===1?20:1;let D=l===wr.Vertical?0:C.deltaX*O,B=l===wr.Horizontal?0:C.deltaY*O;!Ta()&&C.shiftKey&&l!==wr.Vertical&&(D=C.deltaY*O,B=0),M.translateBy($,-(D/L)*a,-(B/L)*a,{internal:!0});const V=Ts($.property("__zoom")),{onViewportChangeStart:K,onViewportChange:Q,onViewportChangeEnd:Z}=E.getState();clearTimeout(P.current),z.current||(z.current=!0,t==null||t(C,V),K==null||K(V)),z.current&&(e==null||e(C,V),Q==null||Q(V),P.current=setTimeout(()=>{n==null||n(C,V),Z==null||Z(V),z.current=!1},150))},{passive:!1}):typeof q<"u"&&$.on("wheel.zoom",function(C,L){if(!m&&C.type==="wheel"&&!C.ctrlKey||Hr(C,w))return null;C.preventDefault(),q.call(this,C,L)},{passive:!1}))},[S,s,l,$,M,q,I,o,m,w,t,e,n]),_.useEffect(()=>{M&&M.on("start",C=>{var D,B;if(!C.sourceEvent||C.sourceEvent.internal)return null;R.current=(D=C.sourceEvent)==null?void 0:D.button;const{onViewportChangeStart:L}=E.getState(),O=Ts(C.transform);N.current=!0,A.current=O,((B=C.sourceEvent)==null?void 0:B.type)==="mousedown"&&E.setState({paneDragging:!0}),L==null||L(O),t==null||t(C.sourceEvent,O)})},[M,t]),_.useEffect(()=>{M&&(S&&!N.current?M.on("zoom",null):S||M.on("zoom",C=>{var O;const{onViewportChange:L}=E.getState();if(E.setState({transform:[C.transform.x,C.transform.y,C.transform.k]}),j.current=!!(r&&Fy(f,R.current??0)),(e||L)&&!((O=C.sourceEvent)!=null&&O.internal)){const D=Ts(C.transform);L==null||L(D),e==null||e(C.sourceEvent,D)}}))},[S,M,e,f,r]),_.useEffect(()=>{M&&M.on("end",C=>{if(!C.sourceEvent||C.sourceEvent.internal)return null;const{onViewportChangeEnd:L}=E.getState();if(N.current=!1,E.setState({paneDragging:!1}),r&&Fy(f,R.current??0)&&!j.current&&r(C.sourceEvent),j.current=!1,(n||L)&&vI(A.current,C.transform)){const O=Ts(C.transform);A.current=O,clearTimeout(k.current),k.current=setTimeout(()=>{L==null||L(O),n==null||n(C.sourceEvent,O)},s?150:0)}})},[M,s,f,n,r]),_.useEffect(()=>{M&&M.filter(C=>{const L=I||i,O=o&&C.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&C.button===1&&C.type==="mousedown"&&(Hr(C,"react-flow__node")||Hr(C,"react-flow__edge")))return!0;if(!f&&!L&&!s&&!u&&!o||S||!u&&C.type==="dblclick"||Hr(C,w)&&C.type==="wheel"||Hr(C,x)&&(C.type!=="wheel"||s&&C.type==="wheel"&&!I)||!o&&C.ctrlKey&&C.type==="wheel"||!L&&!s&&!O&&C.type==="wheel"||!f&&(C.type==="mousedown"||C.type==="touchstart")||Array.isArray(f)&&!f.includes(C.button)&&C.type==="mousedown")return!1;const D=Array.isArray(f)&&f.includes(C.button)||!C.button||C.button<=1;return(!C.ctrlKey||C.type==="wheel")&&D})},[S,M,i,o,s,u,f,c,I]),F.createElement("div",{className:"react-flow__renderer",ref:T,style:Cg},g)},wI=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function bI(){const{userSelectionActive:e,userSelectionRect:t}=we(wI,et);return e&&t?F.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function Hy(e,t){const n=t.parentNode||t.parentId,r=e.find(i=>i.id===n);if(r){const i=t.position.x+t.width-r.width,o=t.position.y+t.height-r.height;if(i>0||o>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,i>0&&(r.style.width+=i),o>0&&(r.style.height+=o),t.position.x<0){const s=Math.abs(t.position.x);r.position.x=r.position.x-s,r.style.width+=s,t.position.x=0}if(t.position.y<0){const s=Math.abs(t.position.y);r.position.y=r.position.y-s,r.style.height+=s,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function Ok(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,i)=>{const o=e.filter(a=>a.id===i.id);if(o.length===0)return r.push(i),r;const s={...i};for(const a of o)if(a)switch(a.type){case"select":{s.selected=a.selected;break}case"position":{typeof a.position<"u"&&(s.position=a.position),typeof a.positionAbsolute<"u"&&(s.positionAbsolute=a.positionAbsolute),typeof a.dragging<"u"&&(s.dragging=a.dragging),s.expandParent&&Hy(r,s);break}case"dimensions":{typeof a.dimensions<"u"&&(s.width=a.dimensions.width,s.height=a.dimensions.height),typeof a.updateStyle<"u"&&(s.style={...s.style||{},...a.dimensions}),typeof a.resizing=="boolean"&&(s.resizing=a.resizing),s.expandParent&&Hy(r,s);break}case"remove":return r}return r.push(s),r},n)}function Lk(e,t){return Ok(e,t)}function _I(e,t){return Ok(e,t)}const zn=(e,t)=>({id:e,type:"select",selected:t});function ri(e,t){return e.reduce((n,r)=>{const i=t.includes(r.id);return!r.selected&&i?(r.selected=!0,n.push(zn(r.id,!0))):r.selected&&!i&&(r.selected=!1,n.push(zn(r.id,!1))),n},[])}const au=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},SI=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),qk=_.memo(({isSelecting:e,selectionMode:t=Bo.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:i,onPaneClick:o,onPaneContextMenu:s,onPaneScroll:a,onPaneMouseEnter:l,onPaneMouseMove:u,onPaneMouseLeave:c,children:f})=>{const h=_.useRef(null),p=Ve(),y=_.useRef(0),v=_.useRef(0),b=_.useRef(),{userSelectionActive:m,elementsSelectable:g,dragging:w}=we(SI,et),x=()=>{p.setState({userSelectionActive:!1,userSelectionRect:null}),y.current=0,v.current=0},k=q=>{o==null||o(q),p.getState().resetSelectedElements(),p.setState({nodesSelectionActive:!1})},E=q=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){q.preventDefault();return}s==null||s(q)},N=a?q=>a(q):void 0,j=q=>{const{resetSelectedElements:S,domNode:I}=p.getState();if(b.current=I==null?void 0:I.getBoundingClientRect(),!g||!e||q.button!==0||q.target!==h.current||!b.current)return;const{x:R,y:z}=er(q,b.current);S(),p.setState({userSelectionRect:{width:0,height:0,startX:R,startY:z,x:R,y:z}}),r==null||r(q)},T=q=>{const{userSelectionRect:S,nodeInternals:I,edges:R,transform:z,onNodesChange:P,onEdgesChange:C,nodeOrigin:L,getNodes:O}=p.getState();if(!e||!b.current||!S)return;p.setState({userSelectionActive:!0,nodesSelectionActive:!1});const D=er(q,b.current),B=S.startX??0,V=S.startY??0,K={...S,x:D.x<B?D.x:B,y:D.y<V?D.y:V,width:Math.abs(D.x-B),height:Math.abs(D.y-V)},Q=O(),Z=vk(I,K,z,t===Bo.Partial,!0,L),ae=yk(Z,R).map(ie=>ie.id),re=Z.map(ie=>ie.id);if(y.current!==re.length){y.current=re.length;const ie=ri(Q,re);ie.length&&(P==null||P(ie))}if(v.current!==ae.length){v.current=ae.length;const ie=ri(R,ae);ie.length&&(C==null||C(ie))}p.setState({userSelectionRect:K})},A=q=>{if(q.button!==0)return;const{userSelectionRect:S}=p.getState();!m&&S&&q.target===h.current&&(k==null||k(q)),p.setState({nodesSelectionActive:y.current>0}),x(),i==null||i(q)},M=q=>{m&&(p.setState({nodesSelectionActive:y.current>0}),i==null||i(q)),x()},$=g&&(e||m);return F.createElement("div",{className:pt(["react-flow__pane",{dragging:w,selection:e}]),onClick:$?void 0:au(k,h),onContextMenu:au(E,h),onWheel:au(N,h),onMouseEnter:$?void 0:l,onMouseDown:$?j:void 0,onMouseMove:$?T:u,onMouseUp:$?A:void 0,onMouseLeave:$?M:c,ref:h,style:Cg},f,F.createElement(bI,null))});qk.displayName="Pane";function zk(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:zk(r,t):!1}function Vy(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function kI(e,t,n,r){return Array.from(e.values()).filter(i=>(i.selected||i.id===r)&&(!i.parentNode||i.parentId||!zk(i,e))&&(i.draggable||t&&typeof i.draggable>"u")).map(i=>{var o,s;return{id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((o=i.positionAbsolute)==null?void 0:o.x)??0),y:n.y-(((s=i.positionAbsolute)==null?void 0:s.y)??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode||i.parentId,parentId:i.parentNode||i.parentId,width:i.width,height:i.height,expandParent:i.expandParent}})}function EI(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function Dk(e,t,n,r,i=[0,0],o){const s=EI(e,e.extent||r);let a=s;const l=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(l&&e.width&&e.height){const f=n.get(l),{x:h,y:p}=Er(f,i).positionAbsolute;a=f&&Ct(h)&&Ct(p)&&Ct(f.width)&&Ct(f.height)?[[h+e.width*i[0],p+e.height*i[1]],[h+f.width-e.width+e.width*i[0],p+f.height-e.height+e.height*i[1]]]:a}else o==null||o("005",Nn.error005()),a=s;else if(e.extent&&l&&e.extent!=="parent"){const f=n.get(l),{x:h,y:p}=Er(f,i).positionAbsolute;a=[[e.extent[0][0]+h,e.extent[0][1]+p],[e.extent[1][0]+h,e.extent[1][1]+p]]}let u={x:0,y:0};if(l){const f=n.get(l);u=Er(f,i).positionAbsolute}const c=a&&a!=="parent"?wg(t,a):t;return{position:{x:c.x-u.x,y:c.y-u.y},positionAbsolute:c}}function lu({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(i=>({...n.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[e?r.find(i=>i.id===e):r[0],r]}const Wy=(e,t,n,r)=>{const i=t.querySelectorAll(e);if(!i||!i.length)return null;const o=Array.from(i),s=t.getBoundingClientRect(),a={x:s.width*r[0],y:s.height*r[1]};return o.map(l=>{const u=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(u.left-s.left-a.x)/n,y:(u.top-s.top-a.y)/n,...xg(l)}})};function Ui(e,t,n){return n===void 0?n:r=>{const i=t().nodeInternals.get(e);i&&n(r,{...i})}}function hm({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:s,nodeInternals:a,onError:l}=t.getState(),u=a.get(e);if(!u){l==null||l("012",Nn.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&s)&&(o({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):i([e])}function NI(){const e=Ve();return _.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:i,snapToGrid:o}=e.getState(),s=n.touches?n.touches[0].clientX:n.clientX,a=n.touches?n.touches[0].clientY:n.clientY,l={x:(s-r[0])/r[2],y:(a-r[1])/r[2]};return{xSnapped:o?i[0]*Math.round(l.x/i[0]):l.x,ySnapped:o?i[1]*Math.round(l.y/i[1]):l.y,...l}},[])}function uu(e){return(t,n,r)=>e==null?void 0:e(t,r)}function $k({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,selectNodesOnDrag:s}){const a=Ve(),[l,u]=_.useState(!1),c=_.useRef([]),f=_.useRef({x:null,y:null}),h=_.useRef(0),p=_.useRef(null),y=_.useRef({x:0,y:0}),v=_.useRef(null),b=_.useRef(!1),m=_.useRef(!1),g=_.useRef(!1),w=NI();return _.useEffect(()=>{if(e!=null&&e.current){const x=Nt(e.current),k=({x:j,y:T})=>{const{nodeInternals:A,onNodeDrag:M,onSelectionDrag:$,updateNodePositions:q,nodeExtent:S,snapGrid:I,snapToGrid:R,nodeOrigin:z,onError:P}=a.getState();f.current={x:j,y:T};let C=!1,L={x:0,y:0,x2:0,y2:0};if(c.current.length>1&&S){const D=ol(c.current,z);L=Fo(D)}if(c.current=c.current.map(D=>{const B={x:j-D.distance.x,y:T-D.distance.y};R&&(B.x=I[0]*Math.round(B.x/I[0]),B.y=I[1]*Math.round(B.y/I[1]));const V=[[S[0][0],S[0][1]],[S[1][0],S[1][1]]];c.current.length>1&&S&&!D.extent&&(V[0][0]=D.positionAbsolute.x-L.x+S[0][0],V[1][0]=D.positionAbsolute.x+(D.width??0)-L.x2+S[1][0],V[0][1]=D.positionAbsolute.y-L.y+S[0][1],V[1][1]=D.positionAbsolute.y+(D.height??0)-L.y2+S[1][1]);const K=Dk(D,B,A,V,z,P);return C=C||D.position.x!==K.position.x||D.position.y!==K.position.y,D.position=K.position,D.positionAbsolute=K.positionAbsolute,D}),!C)return;q(c.current,!0,!0),u(!0);const O=i?M:uu($);if(O&&v.current){const[D,B]=lu({nodeId:i,dragItems:c.current,nodeInternals:A});O(v.current,D,B)}},E=()=>{if(!p.current)return;const[j,T]=sk(y.current,p.current);if(j!==0||T!==0){const{transform:A,panBy:M}=a.getState();f.current.x=(f.current.x??0)-j/A[2],f.current.y=(f.current.y??0)-T/A[2],M({x:j,y:T})&&k(f.current)}h.current=requestAnimationFrame(E)},N=j=>{var z;const{nodeInternals:T,multiSelectionActive:A,nodesDraggable:M,unselectNodesAndEdges:$,onNodeDragStart:q,onSelectionDragStart:S}=a.getState();m.current=!0;const I=i?q:uu(S);(!s||!o)&&!A&&i&&((z=T.get(i))!=null&&z.selected||$()),i&&o&&s&&hm({id:i,store:a,nodeRef:e});const R=w(j);if(f.current=R,c.current=kI(T,M,R,i),I&&c.current){const[P,C]=lu({nodeId:i,dragItems:c.current,nodeInternals:T});I(j.sourceEvent,P,C)}};if(t)x.on(".drag",null);else{const j=q3().on("start",T=>{const{domNode:A,nodeDragThreshold:M}=a.getState();M===0&&N(T),g.current=!1;const $=w(T);f.current=$,p.current=(A==null?void 0:A.getBoundingClientRect())||null,y.current=er(T.sourceEvent,p.current)}).on("drag",T=>{var q,S;const A=w(T),{autoPanOnNodeDrag:M,nodeDragThreshold:$}=a.getState();if(T.sourceEvent.type==="touchmove"&&T.sourceEvent.touches.length>1&&(g.current=!0),!g.current){if(!b.current&&m.current&&M&&(b.current=!0,E()),!m.current){const I=A.xSnapped-(((q=f==null?void 0:f.current)==null?void 0:q.x)??0),R=A.ySnapped-(((S=f==null?void 0:f.current)==null?void 0:S.y)??0);Math.sqrt(I*I+R*R)>$&&N(T)}(f.current.x!==A.xSnapped||f.current.y!==A.ySnapped)&&c.current&&m.current&&(v.current=T.sourceEvent,y.current=er(T.sourceEvent,p.current),k(A))}}).on("end",T=>{if(!(!m.current||g.current)&&(u(!1),b.current=!1,m.current=!1,cancelAnimationFrame(h.current),c.current)){const{updateNodePositions:A,nodeInternals:M,onNodeDragStop:$,onSelectionDragStop:q}=a.getState(),S=i?$:uu(q);if(A(c.current,!1,!1),S){const[I,R]=lu({nodeId:i,dragItems:c.current,nodeInternals:M});S(T.sourceEvent,I,R)}}}).filter(T=>{const A=T.target;return!T.button&&(!n||!Vy(A,`.${n}`,e))&&(!r||Vy(A,r,e))});return x.call(j),()=>{x.on(".drag",null)}}}},[e,t,n,r,o,a,i,s,w]),l}function Fk(){const e=Ve();return _.useCallback(n=>{const{nodeInternals:r,nodeExtent:i,updateNodePositions:o,getNodes:s,snapToGrid:a,snapGrid:l,onError:u,nodesDraggable:c}=e.getState(),f=s().filter(g=>g.selected&&(g.draggable||c&&typeof g.draggable>"u")),h=a?l[0]:5,p=a?l[1]:5,y=n.isShiftPressed?4:1,v=n.x*h*y,b=n.y*p*y,m=f.map(g=>{if(g.positionAbsolute){const w={x:g.positionAbsolute.x+v,y:g.positionAbsolute.y+b};a&&(w.x=l[0]*Math.round(w.x/l[0]),w.y=l[1]*Math.round(w.y/l[1]));const{positionAbsolute:x,position:k}=Dk(g,w,r,i,void 0,u);g.position=k,g.positionAbsolute=x}return g});o(m,!0,!1)},[])}const fi={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Gi=e=>{const t=({id:n,type:r,data:i,xPos:o,yPos:s,xPosOrigin:a,yPosOrigin:l,selected:u,onClick:c,onMouseEnter:f,onMouseMove:h,onMouseLeave:p,onContextMenu:y,onDoubleClick:v,style:b,className:m,isDraggable:g,isSelectable:w,isConnectable:x,isFocusable:k,selectNodesOnDrag:E,sourcePosition:N,targetPosition:j,hidden:T,resizeObserver:A,dragHandle:M,zIndex:$,isParent:q,noDragClassName:S,noPanClassName:I,initialized:R,disableKeyboardA11y:z,ariaLabel:P,rfId:C,hasHandleBounds:L})=>{const O=Ve(),D=_.useRef(null),B=_.useRef(null),V=_.useRef(N),K=_.useRef(j),Q=_.useRef(r),Z=w||g||c||f||h||p,ae=Fk(),re=Ui(n,O.getState,f),ie=Ui(n,O.getState,h),Re=Ui(n,O.getState,p),ve=Ui(n,O.getState,y),Le=Ui(n,O.getState,v),Me=G=>{const{nodeDragThreshold:U}=O.getState();if(w&&(!E||!g||U>0)&&hm({id:n,store:O,nodeRef:D}),c){const ce=O.getState().nodeInternals.get(n);ce&&c(G,{...ce})}},W=G=>{if(!lm(G)&&!z)if(ck.includes(G.key)&&w){const U=G.key==="Escape";hm({id:n,store:O,unselect:U,nodeRef:D})}else g&&u&&Object.prototype.hasOwnProperty.call(fi,G.key)&&(O.setState({ariaLiveMessage:`Moved selected node ${G.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~o}, y: ${~~s}`}),ae({x:fi[G.key].x,y:fi[G.key].y,isShiftPressed:G.shiftKey}))};_.useEffect(()=>()=>{B.current&&(A==null||A.unobserve(B.current),B.current=null)},[]),_.useEffect(()=>{if(D.current&&!T){const G=D.current;(!R||!L||B.current!==G)&&(B.current&&(A==null||A.unobserve(B.current)),A==null||A.observe(G),B.current=G)}},[T,R,L]),_.useEffect(()=>{const G=Q.current!==r,U=V.current!==N,ce=K.current!==j;D.current&&(G||U||ce)&&(G&&(Q.current=r),U&&(V.current=N),ce&&(K.current=j),O.getState().updateNodeDimensions([{id:n,nodeElement:D.current,forceUpdate:!0}]))},[n,r,N,j]);const oe=$k({nodeRef:D,disabled:T||!g,noDragClassName:S,handleSelector:M,nodeId:n,isSelectable:w,selectNodesOnDrag:E});return T?null:F.createElement("div",{className:pt(["react-flow__node",`react-flow__node-${r}`,{[I]:g},m,{selected:u,selectable:w,parent:q,dragging:oe}]),ref:D,style:{zIndex:$,transform:`translate(${a}px,${l}px)`,pointerEvents:Z?"all":"none",visibility:R?"visible":"hidden",...b},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:re,onMouseMove:ie,onMouseLeave:Re,onContextMenu:ve,onClick:Me,onDoubleClick:Le,onKeyDown:k?W:void 0,tabIndex:k?0:void 0,role:k?"button":void 0,"aria-describedby":z?void 0:`${Rk}-${C}`,"aria-label":P},F.createElement($R,{value:n},F.createElement(e,{id:n,data:i,type:r,xPos:o,yPos:s,selected:u,isConnectable:x,sourcePosition:N,targetPosition:j,dragging:oe,dragHandle:M,zIndex:$})))};return t.displayName="NodeWrapper",_.memo(t)};const jI=e=>{const t=e.getNodes().filter(n=>n.selected);return{...ol(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function CI({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Ve(),{width:i,height:o,x:s,y:a,transformString:l,userSelectionActive:u}=we(jI,et),c=Fk(),f=_.useRef(null);if(_.useEffect(()=>{var y;n||(y=f.current)==null||y.focus({preventScroll:!0})},[n]),$k({nodeRef:f}),u||!i||!o)return null;const h=e?y=>{const v=r.getState().getNodes().filter(b=>b.selected);e(y,v)}:void 0,p=y=>{Object.prototype.hasOwnProperty.call(fi,y.key)&&c({x:fi[y.key].x,y:fi[y.key].y,isShiftPressed:y.shiftKey})};return F.createElement("div",{className:pt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l}},F.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:n?void 0:-1,onKeyDown:n?void 0:p,style:{width:i,height:o,top:a,left:s}}))}var TI=_.memo(CI);const RI=e=>e.nodesSelectionActive,Bk=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,deleteKeyCode:a,onMove:l,onMoveStart:u,onMoveEnd:c,selectionKeyCode:f,selectionOnDrag:h,selectionMode:p,onSelectionStart:y,onSelectionEnd:v,multiSelectionKeyCode:b,panActivationKeyCode:m,zoomActivationKeyCode:g,elementsSelectable:w,zoomOnScroll:x,zoomOnPinch:k,panOnScroll:E,panOnScrollSpeed:N,panOnScrollMode:j,zoomOnDoubleClick:T,panOnDrag:A,defaultViewport:M,translateExtent:$,minZoom:q,maxZoom:S,preventScrolling:I,onSelectionContextMenu:R,noWheelClassName:z,noPanClassName:P,disableKeyboardA11y:C})=>{const L=we(RI),O=Ho(f),D=Ho(m),B=D||A,V=D||E,K=O||h&&B!==!0;return mI({deleteKeyCode:a,multiSelectionKeyCode:b}),F.createElement(xI,{onMove:l,onMoveStart:u,onMoveEnd:c,onPaneContextMenu:o,elementsSelectable:w,zoomOnScroll:x,zoomOnPinch:k,panOnScroll:V,panOnScrollSpeed:N,panOnScrollMode:j,zoomOnDoubleClick:T,panOnDrag:!O&&B,defaultViewport:M,translateExtent:$,minZoom:q,maxZoom:S,zoomActivationKeyCode:g,preventScrolling:I,noWheelClassName:z,noPanClassName:P},F.createElement(qk,{onSelectionStart:y,onSelectionEnd:v,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,panOnDrag:B,isSelecting:!!K,selectionMode:p},e,L&&F.createElement(TI,{onSelectionContextMenu:R,noPanClassName:P,disableKeyboardA11y:C})))};Bk.displayName="FlowRenderer";var II=_.memo(Bk);function PI(e){return we(_.useCallback(n=>e?vk(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function MI(e){const t={input:Gi(e.input||Nk),default:Gi(e.default||fm),output:Gi(e.output||Ck),group:Gi(e.group||Ng)},n={},r=Object.keys(e).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,o)=>(i[o]=Gi(e[o]||fm),i),n);return{...t,...r}}const AI=({x:e,y:t,width:n,height:r,origin:i})=>!n||!r?{x:e,y:t}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:e,y:t}:{x:e-n*i[0],y:t-r*i[1]},OI=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),Hk=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,updateNodeDimensions:o,onError:s}=we(OI,et),a=PI(e.onlyRenderVisibleElements),l=_.useRef(),u=_.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const c=new ResizeObserver(f=>{const h=f.map(p=>({id:p.target.getAttribute("data-id"),nodeElement:p.target,forceUpdate:!0}));o(h)});return l.current=c,c},[]);return _.useEffect(()=>()=>{var c;(c=l==null?void 0:l.current)==null||c.disconnect()},[]),F.createElement("div",{className:"react-flow__nodes",style:Cg},a.map(c=>{var k,E,N;let f=c.type||"default";e.nodeTypes[f]||(s==null||s("003",Nn.error003(f)),f="default");const h=e.nodeTypes[f]||e.nodeTypes.default,p=!!(c.draggable||t&&typeof c.draggable>"u"),y=!!(c.selectable||i&&typeof c.selectable>"u"),v=!!(c.connectable||n&&typeof c.connectable>"u"),b=!!(c.focusable||r&&typeof c.focusable>"u"),m=e.nodeExtent?wg(c.positionAbsolute,e.nodeExtent):c.positionAbsolute,g=(m==null?void 0:m.x)??0,w=(m==null?void 0:m.y)??0,x=AI({x:g,y:w,width:c.width??0,height:c.height??0,origin:e.nodeOrigin});return F.createElement(h,{key:c.id,id:c.id,className:c.className,style:c.style,type:f,data:c.data,sourcePosition:c.sourcePosition||X.Bottom,targetPosition:c.targetPosition||X.Top,hidden:c.hidden,xPos:g,yPos:w,xPosOrigin:x.x,yPosOrigin:x.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!c.selected,isDraggable:p,isSelectable:y,isConnectable:v,isFocusable:b,resizeObserver:u,dragHandle:c.dragHandle,zIndex:((k=c[Te])==null?void 0:k.z)??0,isParent:!!((E=c[Te])!=null&&E.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!c.width&&!!c.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:c.ariaLabel,hasHandleBounds:!!((N=c[Te])!=null&&N.handleBounds)})}))};Hk.displayName="NodeRenderer";var LI=_.memo(Hk);const qI=(e,t,n)=>n===X.Left?e-t:n===X.Right?e+t:e,zI=(e,t,n)=>n===X.Top?e-t:n===X.Bottom?e+t:e,Uy="react-flow__edgeupdater",Gy=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:s,type:a})=>F.createElement("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:s,className:pt([Uy,`${Uy}-${a}`]),cx:qI(t,r,e),cy:zI(n,r,e),r,stroke:"transparent",fill:"transparent"}),DI=()=>!0;var Vr=e=>{const t=({id:n,className:r,type:i,data:o,onClick:s,onEdgeDoubleClick:a,selected:l,animated:u,label:c,labelStyle:f,labelShowBg:h,labelBgStyle:p,labelBgPadding:y,labelBgBorderRadius:v,style:b,source:m,target:g,sourceX:w,sourceY:x,targetX:k,targetY:E,sourcePosition:N,targetPosition:j,elementsSelectable:T,hidden:A,sourceHandleId:M,targetHandleId:$,onContextMenu:q,onMouseEnter:S,onMouseMove:I,onMouseLeave:R,reconnectRadius:z,onReconnect:P,onReconnectStart:C,onReconnectEnd:L,markerEnd:O,markerStart:D,rfId:B,ariaLabel:V,isFocusable:K,isReconnectable:Q,pathOptions:Z,interactionWidth:ae,disableKeyboardA11y:re})=>{const ie=_.useRef(null),[Re,ve]=_.useState(!1),[Le,Me]=_.useState(!1),W=Ve(),oe=_.useMemo(()=>`url('#${cm(D,B)}')`,[D,B]),G=_.useMemo(()=>`url('#${cm(O,B)}')`,[O,B]);if(A)return null;const U=$e=>{var Xt;const{edges:st,addSelectedEdges:Ke,unselectNodesAndEdges:tt,multiSelectionActive:cr}=W.getState(),un=st.find(Mi=>Mi.id===n);un&&(T&&(W.setState({nodesSelectionActive:!1}),un.selected&&cr?(tt({nodes:[],edges:[un]}),(Xt=ie.current)==null||Xt.blur()):Ke([n])),s&&s($e,un))},ce=Wi(n,W.getState,a),qe=Wi(n,W.getState,q),_e=Wi(n,W.getState,S),pe=Wi(n,W.getState,I),ye=Wi(n,W.getState,R),je=($e,st)=>{if($e.button!==0)return;const{edges:Ke,isValidConnection:tt}=W.getState(),cr=st?g:m,un=(st?$:M)||null,Xt=st?"target":"source",Mi=tt||DI,El=st,Ai=Ke.find(dr=>dr.id===n);Me(!0),C==null||C($e,Ai,Xt);const Nl=dr=>{Me(!1),L==null||L(dr,Ai,Xt)};_k({event:$e,handleId:un,nodeId:cr,onConnect:dr=>P==null?void 0:P(Ai,dr),isTarget:El,getState:W.getState,setState:W.setState,isValidConnection:Mi,edgeUpdaterType:Xt,onReconnectEnd:Nl})},At=$e=>je($e,!0),an=$e=>je($e,!1),Yt=()=>ve(!0),mt=()=>ve(!1),ln=!T&&!s,In=$e=>{var st;if(!re&&ck.includes($e.key)&&T){const{unselectNodesAndEdges:Ke,addSelectedEdges:tt,edges:cr}=W.getState();$e.key==="Escape"?((st=ie.current)==null||st.blur(),Ke({edges:[cr.find(Xt=>Xt.id===n)]})):tt([n])}};return F.createElement("g",{className:pt(["react-flow__edge",`react-flow__edge-${i}`,r,{selected:l,animated:u,inactive:ln,updating:Re}]),onClick:U,onDoubleClick:ce,onContextMenu:qe,onMouseEnter:_e,onMouseMove:pe,onMouseLeave:ye,onKeyDown:K?In:void 0,tabIndex:K?0:void 0,role:K?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":V===null?void 0:V||`Edge from ${m} to ${g}`,"aria-describedby":K?`${Ik}-${B}`:void 0,ref:ie},!Le&&F.createElement(e,{id:n,source:m,target:g,selected:l,animated:u,label:c,labelStyle:f,labelShowBg:h,labelBgStyle:p,labelBgPadding:y,labelBgBorderRadius:v,data:o,style:b,sourceX:w,sourceY:x,targetX:k,targetY:E,sourcePosition:N,targetPosition:j,sourceHandleId:M,targetHandleId:$,markerStart:oe,markerEnd:G,pathOptions:Z,interactionWidth:ae}),Q&&F.createElement(F.Fragment,null,(Q==="source"||Q===!0)&&F.createElement(Gy,{position:N,centerX:w,centerY:x,radius:z,onMouseDown:At,onMouseEnter:Yt,onMouseOut:mt,type:"source"}),(Q==="target"||Q===!0)&&F.createElement(Gy,{position:j,centerX:k,centerY:E,radius:z,onMouseDown:an,onMouseEnter:Yt,onMouseOut:mt,type:"target"})))};return t.displayName="EdgeWrapper",_.memo(t)};function $I(e){const t={default:Vr(e.default||Ia),straight:Vr(e.bezier||Sg),step:Vr(e.step||_g),smoothstep:Vr(e.step||il),simplebezier:Vr(e.simplebezier||bg)},n={},r=Object.keys(e).filter(i=>!["default","bezier"].includes(i)).reduce((i,o)=>(i[o]=Vr(e[o]||Ia),i),n);return{...t,...r}}function Ky(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,i=((n==null?void 0:n.y)||0)+t.y,o=(n==null?void 0:n.width)||t.width,s=(n==null?void 0:n.height)||t.height;switch(e){case X.Top:return{x:r+o/2,y:i};case X.Right:return{x:r+o,y:i+s/2};case X.Bottom:return{x:r+o/2,y:i+s};case X.Left:return{x:r,y:i+s/2}}}function Yy(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const FI=(e,t,n,r,i,o)=>{const s=Ky(n,e,t),a=Ky(o,r,i);return{sourceX:s.x,sourceY:s.y,targetX:a.x,targetY:a.y}};function BI({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:o,width:s,height:a,transform:l}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+r,t.y+o)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=Fo({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:s/l[2],height:a/l[2]}),f=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),h=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(f*h)>0}function Xy(e){var r,i,o,s,a;const t=((r=e==null?void 0:e[Te])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)<"u"&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.y)<"u";return[{x:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)||0,y:((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const HI=[{level:0,isMaxLevel:!0,edges:[]}];function VI(e,t,n=!1){let r=-1;const i=e.reduce((s,a)=>{var c,f;const l=Ct(a.zIndex);let u=l?a.zIndex:0;if(n){const h=t.get(a.target),p=t.get(a.source),y=a.selected||(h==null?void 0:h.selected)||(p==null?void 0:p.selected),v=Math.max(((c=p==null?void 0:p[Te])==null?void 0:c.z)||0,((f=h==null?void 0:h[Te])==null?void 0:f.z)||0,1e3);u=(l?a.zIndex:0)+(y?v:0)}return s[u]?s[u].push(a):s[u]=[a],r=u>r?u:r,s},{}),o=Object.entries(i).map(([s,a])=>{const l=+s;return{edges:a,level:l,isMaxLevel:l===r}});return o.length===0?HI:o}function WI(e,t,n){const r=we(_.useCallback(i=>e?i.edges.filter(o=>{const s=t.get(o.source),a=t.get(o.target);return(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&BI({sourcePos:s.positionAbsolute||{x:0,y:0},targetPos:a.positionAbsolute||{x:0,y:0},sourceWidth:s.width,sourceHeight:s.height,targetWidth:a.width,targetHeight:a.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[e,t]));return VI(r,t,n)}const UI=({color:e="none",strokeWidth:t=1})=>F.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),GI=({color:e="none",strokeWidth:t=1})=>F.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Qy={[Ra.Arrow]:UI,[Ra.ArrowClosed]:GI};function KI(e){const t=Ve();return _.useMemo(()=>{var i,o;return Object.prototype.hasOwnProperty.call(Qy,e)?Qy[e]:((o=(i=t.getState()).onError)==null||o.call(i,"009",Nn.error009(e)),null)},[e])}const YI=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:s,orient:a="auto-start-reverse"})=>{const l=KI(t);return l?F.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:a,refX:"0",refY:"0"},F.createElement(l,{color:n,strokeWidth:s})):null},XI=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((i,o)=>([o.markerStart,o.markerEnd].forEach(s=>{if(s&&typeof s=="object"){const a=cm(s,t);r.includes(a)||(i.push({id:a,color:s.color||e,...s}),r.push(a))}}),i),[]).sort((i,o)=>i.id.localeCompare(o.id))},Vk=({defaultColor:e,rfId:t})=>{const n=we(_.useCallback(XI({defaultColor:e,rfId:t}),[e,t]),(r,i)=>!(r.length!==i.length||r.some((o,s)=>o.id!==i[s].id)));return F.createElement("defs",null,n.map(r=>F.createElement(YI,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};Vk.displayName="MarkerDefinitions";var QI=_.memo(Vk);const ZI=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),Wk=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:i,noPanClassName:o,onEdgeContextMenu:s,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:c,onEdgeDoubleClick:f,onReconnect:h,onReconnectStart:p,onReconnectEnd:y,reconnectRadius:v,children:b,disableKeyboardA11y:m})=>{const{edgesFocusable:g,edgesUpdatable:w,elementsSelectable:x,width:k,height:E,connectionMode:N,nodeInternals:j,onError:T}=we(ZI,et),A=WI(t,j,n);return k?F.createElement(F.Fragment,null,A.map(({level:M,edges:$,isMaxLevel:q})=>F.createElement("svg",{key:M,style:{zIndex:M},width:k,height:E,className:"react-flow__edges react-flow__container"},q&&F.createElement(QI,{defaultColor:e,rfId:r}),F.createElement("g",null,$.map(S=>{const[I,R,z]=Xy(j.get(S.source)),[P,C,L]=Xy(j.get(S.target));if(!z||!L)return null;let O=S.type||"default";i[O]||(T==null||T("011",Nn.error011(O)),O="default");const D=i[O]||i.default,B=N===Pr.Strict?C.target:(C.target??[]).concat(C.source??[]),V=Yy(R.source,S.sourceHandle),K=Yy(B,S.targetHandle),Q=(V==null?void 0:V.position)||X.Bottom,Z=(K==null?void 0:K.position)||X.Top,ae=!!(S.focusable||g&&typeof S.focusable>"u"),re=S.reconnectable||S.updatable,ie=typeof h<"u"&&(re||w&&typeof re>"u");if(!V||!K)return T==null||T("008",Nn.error008(V,S)),null;const{sourceX:Re,sourceY:ve,targetX:Le,targetY:Me}=FI(I,V,Q,P,K,Z);return F.createElement(D,{key:S.id,id:S.id,className:pt([S.className,o]),type:O,data:S.data,selected:!!S.selected,animated:!!S.animated,hidden:!!S.hidden,label:S.label,labelStyle:S.labelStyle,labelShowBg:S.labelShowBg,labelBgStyle:S.labelBgStyle,labelBgPadding:S.labelBgPadding,labelBgBorderRadius:S.labelBgBorderRadius,style:S.style,source:S.source,target:S.target,sourceHandleId:S.sourceHandle,targetHandleId:S.targetHandle,markerEnd:S.markerEnd,markerStart:S.markerStart,sourceX:Re,sourceY:ve,targetX:Le,targetY:Me,sourcePosition:Q,targetPosition:Z,elementsSelectable:x,onContextMenu:s,onMouseEnter:a,onMouseMove:l,onMouseLeave:u,onClick:c,onEdgeDoubleClick:f,onReconnect:h,onReconnectStart:p,onReconnectEnd:y,reconnectRadius:v,rfId:r,ariaLabel:S.ariaLabel,isFocusable:ae,isReconnectable:ie,pathOptions:"pathOptions"in S?S.pathOptions:void 0,interactionWidth:S.interactionWidth,disableKeyboardA11y:m})})))),b):null};Wk.displayName="EdgeRenderer";var JI=_.memo(Wk);const eP=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function tP({children:e}){const t=we(eP);return F.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function nP(e){const t=jg(),n=_.useRef(!1);_.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const rP={[X.Left]:X.Right,[X.Right]:X.Left,[X.Top]:X.Bottom,[X.Bottom]:X.Top},Uk=({nodeId:e,handleType:t,style:n,type:r=Fn.Bezier,CustomComponent:i,connectionStatus:o})=>{var E,N,j;const{fromNode:s,handleId:a,toX:l,toY:u,connectionMode:c}=we(_.useCallback(T=>({fromNode:T.nodeInternals.get(e),handleId:T.connectionHandleId,toX:(T.connectionPosition.x-T.transform[0])/T.transform[2],toY:(T.connectionPosition.y-T.transform[1])/T.transform[2],connectionMode:T.connectionMode}),[e]),et),f=(E=s==null?void 0:s[Te])==null?void 0:E.handleBounds;let h=f==null?void 0:f[t];if(c===Pr.Loose&&(h=h||(f==null?void 0:f[t==="source"?"target":"source"])),!s||!h)return null;const p=a?h.find(T=>T.id===a):h[0],y=p?p.x+p.width/2:(s.width??0)/2,v=p?p.y+p.height/2:s.height??0,b=(((N=s.positionAbsolute)==null?void 0:N.x)??0)+y,m=(((j=s.positionAbsolute)==null?void 0:j.y)??0)+v,g=p==null?void 0:p.position,w=g?rP[g]:null;if(!g||!w)return null;if(i)return F.createElement(i,{connectionLineType:r,connectionLineStyle:n,fromNode:s,fromHandle:p,fromX:b,fromY:m,toX:l,toY:u,fromPosition:g,toPosition:w,connectionStatus:o});let x="";const k={sourceX:b,sourceY:m,sourcePosition:g,targetX:l,targetY:u,targetPosition:w};return r===Fn.Bezier?[x]=mk(k):r===Fn.Step?[x]=um({...k,borderRadius:0}):r===Fn.SmoothStep?[x]=um(k):r===Fn.SimpleBezier?[x]=pk(k):x=`M${b},${m} ${l},${u}`,F.createElement("path",{d:x,fill:"none",className:"react-flow__connection-path",style:n})};Uk.displayName="ConnectionLine";const iP=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function oP({containerStyle:e,style:t,type:n,component:r}){const{nodeId:i,handleType:o,nodesConnectable:s,width:a,height:l,connectionStatus:u}=we(iP,et);return!(i&&o&&a&&s)?null:F.createElement("svg",{style:e,width:a,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},F.createElement("g",{className:pt(["react-flow__connection",u])},F.createElement(Uk,{nodeId:i,handleType:o,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function Zy(e,t){return _.useRef(null),Ve(),_.useMemo(()=>t(e),[e])}const Gk=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:i,onInit:o,onNodeClick:s,onEdgeClick:a,onNodeDoubleClick:l,onEdgeDoubleClick:u,onNodeMouseEnter:c,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:p,onSelectionContextMenu:y,onSelectionStart:v,onSelectionEnd:b,connectionLineType:m,connectionLineStyle:g,connectionLineComponent:w,connectionLineContainerStyle:x,selectionKeyCode:k,selectionOnDrag:E,selectionMode:N,multiSelectionKeyCode:j,panActivationKeyCode:T,zoomActivationKeyCode:A,deleteKeyCode:M,onlyRenderVisibleElements:$,elementsSelectable:q,selectNodesOnDrag:S,defaultViewport:I,translateExtent:R,minZoom:z,maxZoom:P,preventScrolling:C,defaultMarkerColor:L,zoomOnScroll:O,zoomOnPinch:D,panOnScroll:B,panOnScrollSpeed:V,panOnScrollMode:K,zoomOnDoubleClick:Q,panOnDrag:Z,onPaneClick:ae,onPaneMouseEnter:re,onPaneMouseMove:ie,onPaneMouseLeave:Re,onPaneScroll:ve,onPaneContextMenu:Le,onEdgeContextMenu:Me,onEdgeMouseEnter:W,onEdgeMouseMove:oe,onEdgeMouseLeave:G,onReconnect:U,onReconnectStart:ce,onReconnectEnd:qe,reconnectRadius:_e,noDragClassName:pe,noWheelClassName:ye,noPanClassName:je,elevateEdgesOnSelect:At,disableKeyboardA11y:an,nodeOrigin:Yt,nodeExtent:mt,rfId:ln})=>{const In=Zy(e,MI),$e=Zy(t,$I);return nP(o),F.createElement(II,{onPaneClick:ae,onPaneMouseEnter:re,onPaneMouseMove:ie,onPaneMouseLeave:Re,onPaneContextMenu:Le,onPaneScroll:ve,deleteKeyCode:M,selectionKeyCode:k,selectionOnDrag:E,selectionMode:N,onSelectionStart:v,onSelectionEnd:b,multiSelectionKeyCode:j,panActivationKeyCode:T,zoomActivationKeyCode:A,elementsSelectable:q,onMove:n,onMoveStart:r,onMoveEnd:i,zoomOnScroll:O,zoomOnPinch:D,zoomOnDoubleClick:Q,panOnScroll:B,panOnScrollSpeed:V,panOnScrollMode:K,panOnDrag:Z,defaultViewport:I,translateExtent:R,minZoom:z,maxZoom:P,onSelectionContextMenu:y,preventScrolling:C,noDragClassName:pe,noWheelClassName:ye,noPanClassName:je,disableKeyboardA11y:an},F.createElement(tP,null,F.createElement(JI,{edgeTypes:$e,onEdgeClick:a,onEdgeDoubleClick:u,onlyRenderVisibleElements:$,onEdgeContextMenu:Me,onEdgeMouseEnter:W,onEdgeMouseMove:oe,onEdgeMouseLeave:G,onReconnect:U,onReconnectStart:ce,onReconnectEnd:qe,reconnectRadius:_e,defaultMarkerColor:L,noPanClassName:je,elevateEdgesOnSelect:!!At,disableKeyboardA11y:an,rfId:ln},F.createElement(oP,{style:g,type:m,component:w,containerStyle:x})),F.createElement("div",{className:"react-flow__edgelabel-renderer"}),F.createElement(LI,{nodeTypes:In,onNodeClick:s,onNodeDoubleClick:l,onNodeMouseEnter:c,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:p,selectNodesOnDrag:S,onlyRenderVisibleElements:$,noPanClassName:je,noDragClassName:pe,disableKeyboardA11y:an,nodeOrigin:Yt,nodeExtent:mt,rfId:ln})))};Gk.displayName="GraphView";var sP=_.memo(Gk);const pm=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Mn={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:pm,nodeExtent:pm,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Pr.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:AR,isValidConnection:void 0},aP=()=>Y4((e,t)=>({...Mn,setNodes:n=>{const{nodeInternals:r,nodeOrigin:i,elevateNodesOnSelect:o}=t();e({nodeInternals:su(n,r,i,o)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(i=>({...r,...i}))})},setDefaultNodesAndEdges:(n,r)=>{const i=typeof n<"u",o=typeof r<"u",s=i?su(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:s,edges:o?r:[],hasDefaultNodes:i,hasDefaultEdges:o})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:i,fitViewOnInit:o,fitViewOnInitDone:s,fitViewOnInitOptions:a,domNode:l,nodeOrigin:u}=t(),c=l==null?void 0:l.querySelector(".react-flow__viewport");if(!c)return;const f=window.getComputedStyle(c),{m22:h}=new window.DOMMatrixReadOnly(f.transform),p=n.reduce((v,b)=>{const m=i.get(b.id);if(m!=null&&m.hidden)i.set(m.id,{...m,[Te]:{...m[Te],handleBounds:void 0}});else if(m){const g=xg(b.nodeElement);!!(g.width&&g.height&&(m.width!==g.width||m.height!==g.height||b.forceUpdate))&&(i.set(m.id,{...m,[Te]:{...m[Te],handleBounds:{source:Wy(".source",b.nodeElement,h,u),target:Wy(".target",b.nodeElement,h,u)}},...g}),v.push({id:m.id,type:"dimensions",dimensions:g}))}return v},[]);Mk(i,u);const y=s||o&&!s&&Ak(t,{initial:!0,...a});e({nodeInternals:new Map(i),fitViewOnInitDone:y}),(p==null?void 0:p.length)>0&&(r==null||r(p))},updateNodePositions:(n,r=!0,i=!1)=>{const{triggerNodeChanges:o}=t(),s=n.map(a=>{const l={id:a.id,type:"position",dragging:i};return r&&(l.positionAbsolute=a.positionAbsolute,l.position=a.position),l});o(s)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:i,hasDefaultNodes:o,nodeOrigin:s,getNodes:a,elevateNodesOnSelect:l}=t();if(n!=null&&n.length){if(o){const u=Lk(n,a()),c=su(u,i,s,l);e({nodeInternals:c})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:i,getNodes:o}=t();let s,a=null;r?s=n.map(l=>zn(l,!0)):(s=ri(o(),n),a=ri(i,[])),Cs({changedNodes:s,changedEdges:a,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:i,getNodes:o}=t();let s,a=null;r?s=n.map(l=>zn(l,!0)):(s=ri(i,n),a=ri(o(),[])),Cs({changedNodes:a,changedEdges:s,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:i,getNodes:o}=t(),s=n||o(),a=r||i,l=s.map(c=>(c.selected=!1,zn(c.id,!1))),u=a.map(c=>zn(c.id,!1));Cs({changedNodes:l,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:i}=t();r==null||r.scaleExtent([n,i]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:i}=t();r==null||r.scaleExtent([i,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),o=r().filter(a=>a.selected).map(a=>zn(a.id,!1)),s=n.filter(a=>a.selected).map(a=>zn(a.id,!1));Cs({changedNodes:o,changedEdges:s,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(i=>{i.positionAbsolute=wg(i.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:i,height:o,d3Zoom:s,d3Selection:a,translateExtent:l}=t();if(!s||!a||!n.x&&!n.y)return!1;const u=wn.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),c=[[0,0],[i,o]],f=s==null?void 0:s.constrain()(u,c,l);return s.transform(a,f),r[0]!==f.x||r[1]!==f.y||r[2]!==f.k},cancelConnection:()=>e({connectionNodeId:Mn.connectionNodeId,connectionHandleId:Mn.connectionHandleId,connectionHandleType:Mn.connectionHandleType,connectionStatus:Mn.connectionStatus,connectionStartHandle:Mn.connectionStartHandle,connectionEndHandle:Mn.connectionEndHandle}),reset:()=>e({...Mn})}),Object.is),Tg=({children:e})=>{const t=_.useRef(null);return t.current||(t.current=aP()),F.createElement(jR,{value:t.current},e)};Tg.displayName="ReactFlowProvider";const Kk=({children:e})=>_.useContext(rl)?F.createElement(F.Fragment,null,e):F.createElement(Tg,null,e);Kk.displayName="ReactFlowWrapper";const lP={input:Nk,default:fm,output:Ck,group:Ng},uP={default:Ia,straight:Sg,step:_g,smoothstep:il,simplebezier:bg},cP=[0,0],dP=[15,15],fP={x:0,y:0,zoom:1},hP={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Yk=_.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o=lP,edgeTypes:s=uP,onNodeClick:a,onEdgeClick:l,onInit:u,onMove:c,onMoveStart:f,onMoveEnd:h,onConnect:p,onConnectStart:y,onConnectEnd:v,onClickConnectStart:b,onClickConnectEnd:m,onNodeMouseEnter:g,onNodeMouseMove:w,onNodeMouseLeave:x,onNodeContextMenu:k,onNodeDoubleClick:E,onNodeDragStart:N,onNodeDrag:j,onNodeDragStop:T,onNodesDelete:A,onEdgesDelete:M,onSelectionChange:$,onSelectionDragStart:q,onSelectionDrag:S,onSelectionDragStop:I,onSelectionContextMenu:R,onSelectionStart:z,onSelectionEnd:P,connectionMode:C=Pr.Strict,connectionLineType:L=Fn.Bezier,connectionLineStyle:O,connectionLineComponent:D,connectionLineContainerStyle:B,deleteKeyCode:V="Backspace",selectionKeyCode:K="Shift",selectionOnDrag:Q=!1,selectionMode:Z=Bo.Full,panActivationKeyCode:ae="Space",multiSelectionKeyCode:re=Ta()?"Meta":"Control",zoomActivationKeyCode:ie=Ta()?"Meta":"Control",snapToGrid:Re=!1,snapGrid:ve=dP,onlyRenderVisibleElements:Le=!1,selectNodesOnDrag:Me=!0,nodesDraggable:W,nodesConnectable:oe,nodesFocusable:G,nodeOrigin:U=cP,edgesFocusable:ce,edgesUpdatable:qe,elementsSelectable:_e,defaultViewport:pe=fP,minZoom:ye=.5,maxZoom:je=2,translateExtent:At=pm,preventScrolling:an=!0,nodeExtent:Yt,defaultMarkerColor:mt="#b1b1b7",zoomOnScroll:ln=!0,zoomOnPinch:In=!0,panOnScroll:$e=!1,panOnScrollSpeed:st=.5,panOnScrollMode:Ke=wr.Free,zoomOnDoubleClick:tt=!0,panOnDrag:cr=!0,onPaneClick:un,onPaneMouseEnter:Xt,onPaneMouseMove:Mi,onPaneMouseLeave:El,onPaneScroll:Ai,onPaneContextMenu:Nl,children:Qg,onEdgeContextMenu:dr,onEdgeDoubleClick:xN,onEdgeMouseEnter:wN,onEdgeMouseMove:bN,onEdgeMouseLeave:_N,onEdgeUpdate:SN,onEdgeUpdateStart:kN,onEdgeUpdateEnd:EN,onReconnect:NN,onReconnectStart:jN,onReconnectEnd:CN,reconnectRadius:TN=10,edgeUpdaterRadius:RN=10,onNodesChange:IN,onEdgesChange:PN,noDragClassName:MN="nodrag",noWheelClassName:AN="nowheel",noPanClassName:Zg="nopan",fitView:ON=!1,fitViewOptions:LN,connectOnClick:qN=!0,attributionPosition:zN,proOptions:DN,defaultEdgeOptions:$N,elevateNodesOnSelect:FN=!0,elevateEdgesOnSelect:BN=!1,disableKeyboardA11y:Jg=!1,autoPanOnConnect:HN=!0,autoPanOnNodeDrag:VN=!0,connectionRadius:WN=20,isValidConnection:UN,onError:GN,style:KN,id:ev,nodeDragThreshold:YN,...XN},QN)=>{const jl=ev||"1";return F.createElement("div",{...XN,style:{...KN,...hP},ref:QN,className:pt(["react-flow",i]),"data-testid":"rf__wrapper",id:ev},F.createElement(Kk,null,F.createElement(sP,{onInit:u,onMove:c,onMoveStart:f,onMoveEnd:h,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:g,onNodeMouseMove:w,onNodeMouseLeave:x,onNodeContextMenu:k,onNodeDoubleClick:E,nodeTypes:o,edgeTypes:s,connectionLineType:L,connectionLineStyle:O,connectionLineComponent:D,connectionLineContainerStyle:B,selectionKeyCode:K,selectionOnDrag:Q,selectionMode:Z,deleteKeyCode:V,multiSelectionKeyCode:re,panActivationKeyCode:ae,zoomActivationKeyCode:ie,onlyRenderVisibleElements:Le,selectNodesOnDrag:Me,defaultViewport:pe,translateExtent:At,minZoom:ye,maxZoom:je,preventScrolling:an,zoomOnScroll:ln,zoomOnPinch:In,zoomOnDoubleClick:tt,panOnScroll:$e,panOnScrollSpeed:st,panOnScrollMode:Ke,panOnDrag:cr,onPaneClick:un,onPaneMouseEnter:Xt,onPaneMouseMove:Mi,onPaneMouseLeave:El,onPaneScroll:Ai,onPaneContextMenu:Nl,onSelectionContextMenu:R,onSelectionStart:z,onSelectionEnd:P,onEdgeContextMenu:dr,onEdgeDoubleClick:xN,onEdgeMouseEnter:wN,onEdgeMouseMove:bN,onEdgeMouseLeave:_N,onReconnect:NN??SN,onReconnectStart:jN??kN,onReconnectEnd:CN??EN,reconnectRadius:TN??RN,defaultMarkerColor:mt,noDragClassName:MN,noWheelClassName:AN,noPanClassName:Zg,elevateEdgesOnSelect:BN,rfId:jl,disableKeyboardA11y:Jg,nodeOrigin:U,nodeExtent:Yt}),F.createElement(rI,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:p,onConnectStart:y,onConnectEnd:v,onClickConnectStart:b,onClickConnectEnd:m,nodesDraggable:W,nodesConnectable:oe,nodesFocusable:G,edgesFocusable:ce,edgesUpdatable:qe,elementsSelectable:_e,elevateNodesOnSelect:FN,minZoom:ye,maxZoom:je,nodeExtent:Yt,onNodesChange:IN,onEdgesChange:PN,snapToGrid:Re,snapGrid:ve,connectionMode:C,translateExtent:At,connectOnClick:qN,defaultEdgeOptions:$N,fitView:ON,fitViewOptions:LN,onNodesDelete:A,onEdgesDelete:M,onNodeDragStart:N,onNodeDrag:j,onNodeDragStop:T,onSelectionDrag:S,onSelectionDragStart:q,onSelectionDragStop:I,noPanClassName:Zg,nodeOrigin:U,rfId:jl,autoPanOnConnect:HN,autoPanOnNodeDrag:VN,onError:GN,connectionRadius:WN,isValidConnection:UN,nodeDragThreshold:YN}),F.createElement(tI,{onSelectionChange:$}),Qg,F.createElement(TR,{proOptions:DN,position:zN}),F.createElement(lI,{rfId:jl,disableKeyboardA11y:Jg})))});Yk.displayName="ReactFlow";function Xk(e){return t=>{const[n,r]=_.useState(t),i=_.useCallback(o=>r(s=>e(o,s)),[]);return[n,r,i]}}const pP=Xk(Lk),mP=Xk(_I),Qk=({id:e,x:t,y:n,width:r,height:i,style:o,color:s,strokeColor:a,strokeWidth:l,className:u,borderRadius:c,shapeRendering:f,onClick:h,selected:p})=>{const{background:y,backgroundColor:v}=o||{},b=s||y||v;return F.createElement("rect",{className:pt(["react-flow__minimap-node",{selected:p},u]),x:t,y:n,rx:c,ry:c,width:r,height:i,fill:b,stroke:a,strokeWidth:l,shapeRendering:f,onClick:h?m=>h(m,e):void 0})};Qk.displayName="MiniMapNode";var gP=_.memo(Qk);const vP=e=>e.nodeOrigin,yP=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),cu=e=>e instanceof Function?e:()=>e;function xP({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i=2,nodeComponent:o=gP,onClick:s}){const a=we(yP,et),l=we(vP),u=cu(t),c=cu(e),f=cu(n),h=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return F.createElement(F.Fragment,null,a.map(p=>{const{x:y,y:v}=Er(p,l).positionAbsolute;return F.createElement(o,{key:p.id,x:y,y:v,width:p.width,height:p.height,style:p.style,selected:p.selected,className:f(p),color:u(p),borderRadius:r,strokeColor:c(p),strokeWidth:i,shapeRendering:h,onClick:s,id:p.id})}))}var wP=_.memo(xP);const bP=200,_P=150,SP=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?PR(ol(t,e.nodeOrigin),n):n,rfId:e.rfId}},kP="react-flow__minimap-desc";function Zk({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:i="",nodeBorderRadius:o=5,nodeStrokeWidth:s=2,nodeComponent:a,maskColor:l="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:c=1,position:f="bottom-right",onClick:h,onNodeClick:p,pannable:y=!1,zoomable:v=!1,ariaLabel:b="React Flow mini map",inversePan:m=!1,zoomStep:g=10,offsetScale:w=5}){const x=Ve(),k=_.useRef(null),{boundingRect:E,viewBB:N,rfId:j}=we(SP,et),T=(e==null?void 0:e.width)??bP,A=(e==null?void 0:e.height)??_P,M=E.width/T,$=E.height/A,q=Math.max(M,$),S=q*T,I=q*A,R=w*q,z=E.x-(S-E.width)/2-R,P=E.y-(I-E.height)/2-R,C=S+R*2,L=I+R*2,O=`${kP}-${j}`,D=_.useRef(0);D.current=q,_.useEffect(()=>{if(k.current){const K=Nt(k.current),Q=re=>{const{transform:ie,d3Selection:Re,d3Zoom:ve}=x.getState();if(re.sourceEvent.type!=="wheel"||!Re||!ve)return;const Le=-re.sourceEvent.deltaY*(re.sourceEvent.deltaMode===1?.05:re.sourceEvent.deltaMode?1:.002)*g,Me=ie[2]*Math.pow(2,Le);ve.scaleTo(Re,Me)},Z=re=>{const{transform:ie,d3Selection:Re,d3Zoom:ve,translateExtent:Le,width:Me,height:W}=x.getState();if(re.sourceEvent.type!=="mousemove"||!Re||!ve)return;const oe=D.current*Math.max(1,ie[2])*(m?-1:1),G={x:ie[0]-re.sourceEvent.movementX*oe,y:ie[1]-re.sourceEvent.movementY*oe},U=[[0,0],[Me,W]],ce=wn.translate(G.x,G.y).scale(ie[2]),qe=ve.constrain()(ce,U,Le);ve.transform(Re,qe)},ae=ik().on("zoom",y?Z:null).on("zoom.wheel",v?Q:null);return K.call(ae),()=>{K.on("zoom",null)}}},[y,v,m,g]);const B=h?K=>{const Q=Dt(K);h(K,{x:Q[0],y:Q[1]})}:void 0,V=p?(K,Q)=>{const Z=x.getState().nodeInternals.get(Q);p(K,Z)}:void 0;return F.createElement(vo,{position:f,style:e,className:pt(["react-flow__minimap",t]),"data-testid":"rf__minimap"},F.createElement("svg",{width:T,height:A,viewBox:`${z} ${P} ${C} ${L}`,role:"img","aria-labelledby":O,ref:k,onClick:B},b&&F.createElement("title",{id:O},b),F.createElement(wP,{onClick:V,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:i,nodeStrokeWidth:s,nodeComponent:a}),F.createElement("path",{className:"react-flow__minimap-mask",d:`M${z-R},${P-R}h${C+R*2}v${L+R*2}h${-C-R*2}z
        M${N.x},${N.y}h${N.width}v${N.height}h${-N.width}z`,fill:l,fillRule:"evenodd",stroke:u,strokeWidth:c,pointerEvents:"none"})))}Zk.displayName="MiniMap";var EP=_.memo(Zk);const Rs={active:"#f59e0b",complete:"#10b981",queued:"#64748b"},NP=180,jP=400,CP=260,TP=48;function RP(e){if(!e)return"";try{const t=new Date(e);return t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:t.getFullYear()!==new Date().getFullYear()?"numeric":void 0})}catch{return""}}function IP({projects:e,selectedId:t,onSelectProject:n,onNewProject:r,showArchived:i,onToggleShowArchived:o,userSection:s}){const[a,l]=_.useState(!1),[u,c]=_.useState(CP),[f,h]=_.useState(!1),p=_.useRef(null),y=_.useRef(null);_.useEffect(()=>{y.current&&y.current.scrollIntoView({behavior:"smooth",block:"nearest"})},[t]);const v=_.useMemo(()=>Object.values(e).sort((k,E)=>{const N=(k.name||"").localeCompare(E.name||"");return N!==0?N:(k.projectId||"").localeCompare(E.projectId||"")}),[e]),b=()=>{r()},m=_.useCallback(k=>{k.preventDefault(),h(!0)},[]),g=_.useCallback(k=>{if(!f)return;const E=Math.min(jP,Math.max(NP,k.clientX));c(E)},[f]),w=_.useCallback(()=>{h(!1)},[]);_.useEffect(()=>(f?(document.addEventListener("mousemove",g),document.addEventListener("mouseup",w),document.body.style.cursor="col-resize",document.body.style.userSelect="none"):(document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",w),document.body.style.cursor="",document.body.style.userSelect=""),()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",w),document.body.style.cursor="",document.body.style.userSelect=""}),[f,g,w]);const x=a?TP:u;return d.jsxs("div",{ref:p,className:"h-full flex flex-col relative",style:{width:x,minWidth:x,background:"var(--bg-panel)",borderRight:"1px solid var(--border-panel)",transition:f?"none":"width 0.2s ease"},children:[d.jsxs("div",{className:"p-3 border-b flex items-center justify-between",style:{borderColor:"var(--border-panel)"},children:[!a&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("h2",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:"Projects"}),d.jsx("button",{onClick:o,className:"p-1 rounded hover:bg-white/10 transition-colors",style:{color:i?"#f59e0b":"var(--text-muted)"},title:i?"Hide archived":"Show archived",children:d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M21 8v13H3V8M1 3h22v5H1zM10 12h4"})})})]}),d.jsx("button",{onClick:()=>l(!a),className:"p-1.5 rounded hover:bg-white/10 transition-colors",style:{color:"var(--text-muted)"},title:a?"Expand sidebar":"Collapse sidebar",children:d.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",style:{transform:a?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease"},children:d.jsx("path",{d:"M10 12L6 8L10 4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),!a&&d.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:v.map(k=>{const E=t===k.id;return d.jsxs("div",{ref:E?y:null,onClick:()=>n(k.id),className:"p-3 rounded-lg mb-2 cursor-pointer transition-all",style:{background:E?"var(--state-active-bg)":"transparent",border:E?"1px solid var(--state-active-bg)":"1px solid transparent",boxShadow:E?"0 0 12px rgba(245, 158, 11, 0.3)":"none"},children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 rounded-full flex-shrink-0",style:{background:E?"#ffffff":Rs[k.status]||Rs.queued}}),d.jsx("span",{className:"text-sm font-medium truncate flex-1",style:{color:E?"#ffffff":"var(--text-primary)"},children:k.name}),k.isArchived&&d.jsx("svg",{className:"w-3.5 h-3.5 flex-shrink-0",style:{color:E?"rgba(255,255,255,0.7)":"var(--text-muted)"},viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",title:"Archived",children:d.jsx("path",{d:"M21 8v13H3V8M1 3h22v5H1zM10 12h4"})})]}),d.jsxs("div",{className:"flex items-center justify-between mt-0.5 ml-4",children:[d.jsx("span",{className:"text-[10px] font-mono",style:{color:E?"rgba(255,255,255,0.8)":"var(--text-muted)"},children:k.projectId}),d.jsx("span",{className:"text-[10px]",style:{color:E?"rgba(255,255,255,0.8)":"var(--text-muted)"},children:RP(k.createdAt)})]})]},k.id)})}),a&&d.jsx("div",{className:"flex-1 overflow-y-auto py-2",children:v.map(k=>d.jsx("div",{onClick:()=>n(k.id),className:"flex items-center justify-center py-2 cursor-pointer hover:bg-white/5",title:k.name,children:d.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:Rs[k.status]||Rs.queued,boxShadow:t===k.id?"0 0 0 2px var(--bg-panel), 0 0 0 4px var(--border-node)":"none"}})},k.id))}),!a&&d.jsx("div",{className:"p-3 border-t",style:{borderColor:"var(--border-panel)"},children:d.jsxs("button",{onClick:b,className:"w-full py-2.5 rounded-lg text-sm font-medium flex items-center justify-center gap-2 transition-colors",style:{background:"#10b981",color:"white"},children:[d.jsx("span",{style:{fontSize:18,lineHeight:1},children:"+"}),d.jsx("span",{children:"New Project"})]})}),a&&d.jsx("div",{className:"p-2 border-t flex justify-center",style:{borderColor:"var(--border-panel)"},children:d.jsx("button",{onClick:b,className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:"#10b981",color:"white"},title:"New Project",children:d.jsx("span",{style:{fontSize:18,lineHeight:1},children:"+"})})}),s,!a&&d.jsx("div",{onMouseDown:m,className:"absolute top-0 right-0 w-1 h-full cursor-col-resize hover:bg-emerald-500/50 transition-colors",style:{background:f?"var(--state-active-bg)":"transparent"}})]})}function PP({stations:e}){return e!=null&&e.length?d.jsx("div",{className:"flex items-center gap-0.5 mt-2",children:e.map((t,n)=>{const r=t.state==="complete"?"var(--state-stabilized-bg)":t.state==="active"?"var(--state-active-bg)":"var(--state-queued-bg)",i=t.state==="complete"?"var(--state-stabilized-bg)":"var(--state-queued-bg)",o=t.state==="active"?"var(--state-active-text)":"var(--text-muted)";return d.jsxs(F.Fragment,{children:[n>0&&d.jsx("div",{className:"w-4 h-0.5",style:{background:i}}),d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("div",{className:`w-3 h-3 rounded-full${t.state==="active"?" station-active":""}`,style:{background:r}}),d.jsx("span",{className:"text-[7px] mt-0.5",style:{color:o,fontWeight:t.state==="active"?500:400},children:t.label})]})]},t.id)})}):null}const Jy={light:{stabilized:"#10b981",active:"#6366f1",queued:"#cbd5e1"},industrial:{stabilized:"#10b981",active:"#f59e0b",queued:"#334155"},blueprint:{stabilized:"#ffffff",active:"#fbbf24",queued:"#d4e8f8"}},Jk=(e,t)=>{var n;return((n=Jy[t])==null?void 0:n[e])||Jy.industrial.queued},Lt={EPICS_PER_ROW:3,EPIC_WIDTH:220,EPIC_HEIGHT:70,EPIC_GAP_X:50,EPIC_GAP_Y:100,EPIC_OFFSET_X:80,EPIC_OFFSET_Y:80},yo={GAP:8,WIDTH:280},du=["pgc","asm","draft","qa","done"],Bn=["industrial","light","blueprint"];function MP({questions:e,nodeWidth:t,onSubmit:n,onClose:r,onZoomComplete:i}){const[o,s]=_.useState({}),a=e.filter(l=>l.required).every(l=>o[l.id]);return _.useEffect(()=>{if(i){const l=setTimeout(()=>i(),150);return()=>clearTimeout(l)}},[i]),d.jsxs("div",{className:"absolute top-0 border border-amber-500/50 rounded-lg shadow-2xl tray-slide",style:{left:t+yo.GAP,width:yo.WIDTH,boxShadow:"0 0 30px rgba(0,0,0,0.5)",zIndex:1e3,background:"var(--bg-sidecar)"},children:[d.jsx("div",{className:"absolute border-t-2 border-dashed border-amber-500/60",style:{top:14,right:"100%",width:yo.GAP}}),d.jsx("div",{className:"absolute w-2 h-2 rounded-full bg-amber-500",style:{top:11,right:"100%",marginRight:-4}}),d.jsxs("div",{className:"bg-amber-500/10 border-b border-amber-500/30 px-3 py-2 flex justify-between items-center",children:[d.jsx("span",{className:"text-[9px] font-semibold text-amber-600 uppercase tracking-wide",children:"Operator Input Required"}),d.jsx("button",{onClick:r,style:{color:"var(--text-sidecar-muted)"},className:"hover:opacity-70 text-sm leading-none",children:""})]}),d.jsx("div",{className:"p-3 space-y-3 max-h-64 overflow-y-auto",children:e.map(l=>d.jsxs("div",{children:[d.jsxs("label",{className:"block text-[10px] mb-1",style:{color:"var(--text-sidecar-muted)"},children:[l.text," ",l.required&&d.jsx("span",{className:"text-amber-600",children:"*"})]}),d.jsx("input",{type:"text",className:"w-full rounded px-2 py-1.5 text-xs border",style:{background:"var(--bg-input)",borderColor:"var(--border-input)",color:"var(--text-sidecar)"},value:o[l.id]||"",onChange:u=>s(c=>({...c,[l.id]:u.target.value}))})]},l.id))}),d.jsx("div",{className:"p-3",style:{borderTop:"1px solid var(--border-node)"},children:d.jsx("button",{className:`w-full py-2 rounded text-xs font-medium transition-colors ${a?"bg-amber-500 text-slate-900 hover:bg-amber-400":"subway-button cursor-not-allowed"}`,disabled:!a,onClick:()=>n(o),children:"Submit & Continue"})})]})}function AP({features:e,epicName:t,nodeWidth:n,onClose:r,onZoomComplete:i}){const o=e.length>6,s=o?240:320;return _.useEffect(()=>{if(i){const a=setTimeout(()=>i(),150);return()=>clearTimeout(a)}},[i]),d.jsxs("div",{className:"absolute top-0 border border-indigo-500/50 rounded-lg shadow-2xl tray-slide",style:{left:n+yo.GAP,width:s,boxShadow:"0 0 30px rgba(0,0,0,0.5)",zIndex:1e3,background:"var(--bg-sidecar)"},children:[d.jsx("div",{className:"absolute border-t-2 border-dashed border-indigo-500/60",style:{top:14,right:"100%",width:yo.GAP}}),d.jsx("div",{className:"absolute w-2 h-2 rounded-full bg-indigo-500",style:{top:11,right:"100%",marginRight:-4}}),d.jsxs("div",{className:"bg-indigo-500/10 border-b border-indigo-500/30 px-3 py-2 flex justify-between items-center",children:[d.jsxs("span",{className:"text-[9px] font-semibold uppercase tracking-wide",style:{color:"var(--text-sidecar-muted)"},children:["Features - ",t]}),d.jsx("button",{onClick:r,style:{color:"var(--text-sidecar-muted)"},className:"hover:opacity-70 text-sm leading-none",children:""})]}),d.jsx("div",{className:`p-3 max-h-64 overflow-y-auto ${o?"":"grid grid-cols-2 gap-2"}`,children:e.map(a=>{const l=a.state==="complete"?"var(--state-stabilized-bg)":a.state==="active"?"var(--state-active-bg)":"var(--state-queued-bg)";return d.jsxs("div",{className:`flex items-center gap-2 p-1.5 rounded cursor-pointer hover:opacity-80 ${o?"mb-1":""}`,children:[d.jsx("div",{className:"w-2 h-2 rounded-full flex-shrink-0",style:{background:l}}),d.jsx("span",{className:"text-[10px] truncate",style:{color:"var(--text-sidecar)"},children:a.name})]},a.id)})}),d.jsxs("div",{className:"px-3 py-2 text-[9px]",style:{borderTop:"1px solid var(--border-node)",color:"var(--text-sidecar-muted)"},children:[e.length," features"]})]})}const Rg="/api/v1";class OP extends Error{constructor(t,n,r){super(t),this.name="ApiError",this.status=n,this.data=r}}function LP(){const e=document.cookie.match(/(?:^|;\s*)csrf=([^;]*)/);return e?decodeURIComponent(e[1]):null}async function Se(e,t={}){const n=`${Rg}${e}`,r={headers:{"Content-Type":"application/json",...t.headers},credentials:"same-origin",...t},i=await fetch(n,r);if(!i.ok){const o=await i.json().catch(()=>({}));throw new OP(o.detail||`Request failed: ${i.status}`,i.status,o)}return i.status===204?null:i.json()}const Pe={getMe:()=>fetch("/api/me",{credentials:"same-origin"}).then(e=>{if(e.status===401)return null;if(!e.ok)throw new Error(`Request failed: ${e.status}`);return e.json()}).catch(e=>(console.error("Auth check failed:",e),null)),logout:()=>fetch("/auth/logout",{method:"POST",credentials:"same-origin",headers:{"X-CSRF-Token":LP()||""}}),getProjects:(e={})=>{const t=new URLSearchParams;e.search&&t.set("search",e.search),e.includeArchived&&t.set("include_archived","true");const n=t.toString();return Se(`/projects${n?"?"+n:""}`)},getProject:e=>Se(`/projects/${e}`),getProjectTree:e=>Se(`/projects/${e}/tree`),createProject:e=>Se("/projects",{method:"POST",body:JSON.stringify(e)}),updateProject:(e,t)=>Se(`/projects/${e}`,{method:"PATCH",body:JSON.stringify(t)}),archiveProject:e=>Se(`/projects/${e}/archive`,{method:"POST"}),unarchiveProject:e=>Se(`/projects/${e}/unarchive`,{method:"POST"}),deleteProject:e=>Se(`/projects/${e}`,{method:"DELETE"}),getProductionStatus:e=>Se(`/production/status?project_id=${e}`),startProduction:(e,t=null)=>{const n=new URLSearchParams({project_id:e});return t&&n.set("document_type",t),Se(`/production/start?${n}`,{method:"POST"})},getProjectInterrupts:e=>Se(`/projects/${e}/interrupts`),resolveInterrupt:(e,t)=>Se(`/interrupts/${e}/resolve`,{method:"POST",body:JSON.stringify(t)}),startWorkflow:(e,t,n=null)=>Se("/document-workflows/start",{method:"POST",body:JSON.stringify({project_id:e,document_type:t,initial_context:n})}),submitWorkflowInput:(e,t,n=null)=>Se(`/document-workflows/executions/${e}/input`,{method:"POST",body:JSON.stringify({user_input:t,selected_option_id:n})}),getExecutionStatus:e=>Se(`/document-workflows/executions/${e}`),getPgcAnswers:e=>Se(`/document-workflows/executions/${e}/pgc-answers`),getDocument:(e,t)=>Se(`/projects/${e}/documents/${t}`),getDocumentRenderModel:(e,t)=>Se(`/projects/${e}/documents/${t}/render-model`),startIntake:()=>Se("/intake/start",{method:"POST"}),getIntakeState:e=>Se(`/intake/${e}`),submitIntakeMessage:(e,t)=>Se(`/intake/${e}/message`,{method:"POST",body:JSON.stringify({content:t})}),updateIntakeField:(e,t,n)=>Se(`/intake/${e}/field/${t}`,{method:"PATCH",body:JSON.stringify({value:n})}),initializeIntake:e=>Se(`/intake/${e}/initialize`,{method:"POST"})};function qP(e){const t=`${Rg}/production/events?project_id=${e}`;return new EventSource(t)}function zP(e){const t=`${Rg}/intake/${e}/events`;return new EventSource(t)}function DP(e){return`/auth/login/${e}`}function $P({block:e}){const{data:t}=e,n=t.content||t.value||"";return n?d.jsxs("div",{style:{marginBottom:12},children:[d.jsx("p",{style:{margin:0,fontSize:14,lineHeight:1.6,color:"#374151",whiteSpace:"pre-line"},children:n}),t.detail_ref&&d.jsx("a",{href:"#",style:{fontSize:12,color:"#6366f1",textDecoration:"none",marginTop:4,display:"inline-block"},children:"View details "})]}):null}function e0({block:e}){const{data:t}=e,n=t.items||[],r=t.style||"bullet";if(n.length===0)return null;const i=r==="numbered"?"decimal":"disc";return d.jsxs("div",{style:{marginBottom:12},children:[t.title&&d.jsx("h4",{style:{fontSize:12,fontWeight:600,color:"#6b7280",marginBottom:8,textTransform:"uppercase",letterSpacing:"0.05em"},children:t.title}),d.jsx("ul",{style:{margin:0,paddingLeft:r==="check"?0:20,listStyle:r==="check"?"none":i},children:n.map((o,s)=>d.jsxs("li",{style:{fontSize:14,lineHeight:1.6,color:"#374151",marginBottom:4,display:r==="check"?"flex":"list-item",alignItems:"flex-start",gap:8},children:[r==="check"&&d.jsx("span",{style:{color:"#10b981"},children:""}),typeof o=="string"?o:(o==null?void 0:o.value)||(o==null?void 0:o.text)||(o==null?void 0:o.question)||(o==null?void 0:o.description)||JSON.stringify(o)]},s))})]})}function FP({block:e}){const{data:t}=e,n=t.value||"unknown",r=t.label,o={low:{bg:"#d1fae5",text:"#065f46"},medium:{bg:"#fef3c7",text:"#92400e"},high:{bg:"#fee2e2",text:"#991b1b"},critical:{bg:"#fecaca",text:"#7f1d1d"},none:{bg:"#e5e7eb",text:"#374151"},external:{bg:"#dbeafe",text:"#1e40af"},qualified:{bg:"#d1fae5",text:"#065f46"},not_ready:{bg:"#fef3c7",text:"#92400e"}}[n.toLowerCase()]||{bg:"#f3f4f6",text:"#374151"};return d.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:8,marginBottom:12},children:[r&&d.jsxs("span",{style:{fontSize:12,color:"#6b7280",fontWeight:500},children:[r,":"]}),d.jsx("span",{style:{display:"inline-block",padding:"4px 12px",borderRadius:20,background:o.bg,color:o.text,fontSize:12,fontWeight:500,textTransform:"capitalize"},children:n})]})}function eE({block:e}){const{data:t}=e,{id:n,text:r,blocking:i,why_it_matters:o,priority:s,tags:a,options:l}=t,u={must:{bg:"#fee2e2",text:"#991b1b"},should:{bg:"#fef3c7",text:"#92400e"},could:{bg:"#e5e7eb",text:"#374151"}},c=u[s]||u.should;return d.jsx("div",{style:{padding:"12px 16px",background:i?"#fef2f2":"#f8fafc",borderRadius:8,border:`1px solid ${i?"#fecaca":"#e2e8f0"}`,marginBottom:12},children:d.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:12},children:[d.jsx("span",{style:{fontSize:10,fontFamily:"monospace",color:"#6b7280",background:"#e5e7eb",padding:"2px 6px",borderRadius:4,flexShrink:0},children:n}),d.jsxs("div",{style:{flex:1},children:[d.jsx("p",{style:{margin:0,fontSize:14,fontWeight:500,color:"#111827",marginBottom:6},children:r}),o&&d.jsx("p",{style:{margin:0,fontSize:12,color:"#6b7280",fontStyle:"italic"},children:o}),d.jsxs("div",{style:{display:"flex",gap:6,marginTop:8,flexWrap:"wrap"},children:[i&&d.jsx("span",{style:{fontSize:10,padding:"2px 8px",borderRadius:10,background:"#fee2e2",color:"#991b1b",fontWeight:600},children:"BLOCKING"}),s&&d.jsx("span",{style:{fontSize:10,padding:"2px 8px",borderRadius:10,background:c.bg,color:c.text,textTransform:"uppercase"},children:s}),a==null?void 0:a.map((f,h)=>d.jsx("span",{style:{fontSize:10,padding:"2px 8px",borderRadius:10,background:"#e0e7ff",color:"#3730a3"},children:f},h))]}),l&&l.length>0&&d.jsxs("div",{style:{marginTop:8},children:[d.jsx("span",{style:{fontSize:11,color:"#6b7280"},children:"Options: "}),l.map((f,h)=>d.jsx("span",{style:{fontSize:11,color:"#374151",marginLeft:h>0?8:4},children:f},h))]})]})]})})}function BP({block:e}){const{data:t}=e,n=t.items||[],r=t.total_count||n.length,i=t.blocking_count||n.filter(o=>o.blocking).length;return n.length===0?d.jsx("div",{style:{padding:"16px",background:"#f0fdf4",borderRadius:8,border:"1px solid #bbf7d0",textAlign:"center",color:"#166534",fontSize:14},children:"No open questions"}):d.jsxs("div",{children:[d.jsxs("div",{style:{display:"flex",gap:16,marginBottom:12,padding:"8px 12px",background:"#f8fafc",borderRadius:6,fontSize:12},children:[d.jsxs("span",{style:{color:"#6b7280"},children:[d.jsx("strong",{style:{color:"#374151"},children:r})," questions"]}),i>0&&d.jsxs("span",{style:{color:"#dc2626"},children:[d.jsx("strong",{children:i})," blocking"]})]}),n.map((o,s)=>d.jsx(eE,{block:{type:"schema:OpenQuestionV1",data:o}},o.id||s))]})}function t0({block:e}){const{data:t}=e,n=t.items||[],r=t.title;if(n.length===0)return null;const i={low:{bg:"#d1fae5",text:"#065f46",border:"#a7f3d0"},medium:{bg:"#fef3c7",text:"#92400e",border:"#fde68a"},high:{bg:"#fee2e2",text:"#991b1b",border:"#fecaca"},critical:{bg:"#fecaca",text:"#7f1d1d",border:"#f87171"}};return d.jsxs("div",{style:{marginBottom:12},children:[r&&d.jsx("h4",{style:{fontSize:12,fontWeight:600,color:"#6b7280",marginBottom:8,textTransform:"uppercase",letterSpacing:"0.05em"},children:r}),d.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:n.map((o,s)=>{const a=o.severity||o.likelihood||"medium",l=i[a]||i.medium;return d.jsx("div",{style:{padding:"10px 14px",background:l.bg,borderRadius:6,border:`1px solid ${l.border}`},children:d.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:10},children:[o.id&&d.jsx("span",{style:{fontSize:10,fontFamily:"monospace",color:l.text,background:"rgba(255,255,255,0.5)",padding:"2px 6px",borderRadius:4,flexShrink:0},children:o.id}),d.jsxs("div",{style:{flex:1},children:[d.jsx("p",{style:{margin:0,fontSize:13,color:l.text,fontWeight:500},children:o.description||o.reason||JSON.stringify(o)}),o.impact&&d.jsxs("p",{style:{margin:"4px 0 0",fontSize:12,color:l.text,opacity:.8},children:["Impact: ",o.impact]}),o.mitigation&&d.jsxs("p",{style:{margin:"4px 0 0",fontSize:12,color:l.text,opacity:.8},children:["Mitigation: ",o.mitigation]})]}),d.jsx("span",{style:{fontSize:10,padding:"2px 8px",borderRadius:10,background:"rgba(255,255,255,0.5)",color:l.text,textTransform:"uppercase",fontWeight:600},children:a})]})},o.id||s)})})]})}function HP({block:e}){const{data:t}=e,r=Object.entries({problem_understanding:"Problem Understanding",architectural_intent:"Architectural Intent",scope_pressure_points:"Scope Pressure Points",proposed_system_shape:"Proposed System Shape",overall_intent:"Overall Intent",mvp_definition:"MVP Definition"}).filter(([i])=>t[i]&&typeof t[i]=="string").map(([i,o])=>({title:o,content:t[i]}));return r.length===0?null:d.jsx("div",{style:{marginBottom:12},children:r.map((i,o)=>d.jsxs("div",{style:{marginBottom:o<r.length-1?16:0},children:[d.jsx("h4",{style:{fontSize:12,fontWeight:600,color:"#6b7280",marginBottom:6,textTransform:"uppercase",letterSpacing:"0.05em"},children:i.title}),d.jsx("div",{style:{padding:"12px 16px",background:"#f8fafc",borderRadius:6,borderLeft:"3px solid #6366f1"},children:d.jsx("p",{style:{margin:0,fontSize:14,lineHeight:1.6,color:"#374151",whiteSpace:"pre-line"},children:i.content})})]},o))})}function n0({block:e}){const{data:t}=e,{epic_id:n,title:r,name:i,intent:o,phase:s,mvp_phase:a,risk_level:l,stories:u,detail_ref:c}=t,f=s||a,h=r||i,p={low:{bg:"#d1fae5",text:"#065f46"},medium:{bg:"#fef3c7",text:"#92400e"},high:{bg:"#fee2e2",text:"#991b1b"}},y=p[l]||p.medium,v={mvp:{bg:"#dbeafe",text:"#1e40af"},"later-phase":{bg:"#e5e7eb",text:"#374151"},later:{bg:"#e5e7eb",text:"#374151"}},b=v[f]||v.mvp;return d.jsxs("div",{style:{padding:"14px 16px",background:"#ffffff",borderRadius:8,border:"1px solid #e2e8f0",marginBottom:12,boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",gap:12},children:[d.jsxs("div",{style:{flex:1},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:6},children:[n&&d.jsx("span",{style:{fontSize:10,fontFamily:"monospace",color:"#6366f1",background:"#eef2ff",padding:"2px 6px",borderRadius:4},children:n}),d.jsx("h4",{style:{margin:0,fontSize:14,fontWeight:600,color:"#111827"},children:h})]}),o&&d.jsx("p",{style:{margin:0,fontSize:13,color:"#6b7280",lineHeight:1.5},children:o}),u&&u.length>0&&d.jsxs("div",{style:{marginTop:8,fontSize:12,color:"#6b7280"},children:[u.length," stories"]})]}),d.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4,alignItems:"flex-end"},children:[f&&d.jsx("span",{style:{fontSize:10,padding:"2px 8px",borderRadius:10,background:b.bg,color:b.text,textTransform:"uppercase",fontWeight:500},children:f==="later-phase"?"LATER":f}),l&&d.jsxs("span",{style:{fontSize:10,padding:"2px 8px",borderRadius:10,background:y.bg,color:y.text,textTransform:"uppercase",fontWeight:500},children:[l," risk"]})]})]}),c&&d.jsx("div",{style:{marginTop:10,paddingTop:10,borderTop:"1px solid #f3f4f6"},children:d.jsx("a",{href:"#",style:{fontSize:12,color:"#6366f1",textDecoration:"none"},children:"View epic details "})})]})}function VP({block:e}){const{data:t}=e,{story_id:n,title:r,intent:i,phase:o,risk_level:s,detail_ref:a}=t,u={low:{bg:"#d1fae5",text:"#065f46"},medium:{bg:"#fef3c7",text:"#92400e"},high:{bg:"#fee2e2",text:"#991b1b"}}[s]||null,c={mvp:{bg:"#dbeafe",text:"#1e40af"},later:{bg:"#e5e7eb",text:"#374151"}},f=c[o]||c.mvp;return d.jsx("div",{style:{padding:"10px 14px",background:"#fafafa",borderRadius:6,border:"1px solid #e5e7eb",marginBottom:8},children:d.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",gap:10},children:[d.jsxs("div",{style:{flex:1},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:4},children:[n&&d.jsx("span",{style:{fontSize:10,fontFamily:"monospace",color:"#059669",background:"#ecfdf5",padding:"1px 5px",borderRadius:3},children:n}),d.jsx("span",{style:{fontSize:13,fontWeight:500,color:"#111827"},children:r})]}),i&&d.jsx("p",{style:{margin:0,fontSize:12,color:"#6b7280",lineHeight:1.4},children:i})]}),d.jsxs("div",{style:{display:"flex",gap:4},children:[o&&d.jsx("span",{style:{fontSize:9,padding:"2px 6px",borderRadius:8,background:f.bg,color:f.text,textTransform:"uppercase",fontWeight:500},children:o}),u&&d.jsx("span",{style:{fontSize:9,padding:"2px 6px",borderRadius:8,background:u.bg,color:u.text,textTransform:"uppercase",fontWeight:500},children:s})]})]})})}function WP({block:e}){const{type:t,data:n}=e;return d.jsxs("div",{style:{padding:"12px 16px",background:"#f8fafc",borderRadius:6,border:"1px solid #e2e8f0",marginBottom:12},children:[d.jsx("div",{style:{fontSize:10,color:"#94a3b8",marginBottom:8,fontFamily:"monospace"},children:t}),d.jsx("pre",{style:{fontSize:12,color:"#475569",margin:0,whiteSpace:"pre-wrap",wordBreak:"break-word"},children:JSON.stringify(n,null,2)})]})}function UP({block:e}){const{data:t}=e,n=t.items||[],[r,i]=_.useState({});if(n.length===0)return null;const o=s=>{i(a=>({...a,[s]:!a[s]}))};return d.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:n.map((s,a)=>{const l=r[a],u=s.why_it_matters||s.impact_if_unresolved;return d.jsxs("div",{style:{background:"#fefce8",border:"1px solid #fef08a",borderRadius:6,borderLeft:"3px solid #eab308",overflow:"hidden"},children:[d.jsxs("button",{onClick:()=>u&&o(a),style:{width:"100%",padding:"10px 12px",background:"transparent",border:"none",cursor:u?"pointer":"default",display:"flex",alignItems:"flex-start",justifyContent:"space-between",gap:8,textAlign:"left"},children:[d.jsx("span",{style:{fontSize:13,fontWeight:500,color:"#854d0e",lineHeight:1.4},children:s.question||s.value||s.text||"Unknown"}),u&&d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",stroke:"#a16207",strokeWidth:"2",style:{flexShrink:0,marginTop:2,transform:l?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.15s"},children:d.jsx("path",{d:"M3 5l4 4 4-4"})})]}),l&&u&&d.jsxs("div",{style:{padding:"0 12px 12px",borderTop:"1px solid #fde68a",marginTop:0},children:[s.why_it_matters&&d.jsxs("div",{style:{marginTop:10},children:[d.jsx("div",{style:{fontSize:10,fontWeight:600,color:"#a16207",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:3},children:"Why it matters"}),d.jsx("div",{style:{fontSize:12,color:"#713f12",lineHeight:1.5},children:s.why_it_matters})]}),s.impact_if_unresolved&&d.jsxs("div",{style:{marginTop:10},children:[d.jsx("div",{style:{fontSize:10,fontWeight:600,color:"#a16207",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:3},children:"Impact if unresolved"}),d.jsx("div",{style:{fontSize:12,color:"#713f12",lineHeight:1.5},children:s.impact_if_unresolved})]})]})]},a)})})}function GP({block:e}){const{data:t}=e,{description:n,user_statement:r}=t;return d.jsxs("div",{style:{marginBottom:12},children:[n&&d.jsx("div",{style:{paddingLeft:16,borderLeft:"4px solid #8b5cf6",color:"#374151",marginBottom:16,fontSize:14,lineHeight:1.6},children:n}),r&&d.jsxs("blockquote",{style:{paddingLeft:16,borderLeft:"4px solid #d1d5db",color:"#6b7280",fontStyle:"italic",margin:0,fontSize:13,lineHeight:1.5},children:['"',r,'"']})]})}function KP({block:e}){const{data:t}=e,{category:n,confidence:r,rationale:i}=t;return d.jsxs("div",{style:{marginBottom:12},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:8},children:[d.jsx("span",{style:{padding:"4px 12px",borderRadius:16,fontSize:13,fontWeight:500,background:"#ede9fe",color:"#6d28d9"},children:n}),r&&d.jsxs("span",{style:{fontSize:13,color:"#6b7280"},children:["Confidence: ",r]})]}),i&&d.jsx("p",{style:{margin:0,fontSize:13,color:"#6b7280",lineHeight:1.5},children:i})]})}function YP({block:e}){const{data:t}=e,{explicit:n=[],inferred:r=[]}=t,i=n&&n.length>0,o=r&&r.length>0;return!i&&!o?null:d.jsxs("div",{style:{marginBottom:12},children:[i&&d.jsxs("div",{style:{marginBottom:o?16:0},children:[d.jsx("h4",{style:{fontSize:12,fontWeight:500,color:"#6b7280",marginBottom:8,marginTop:0},children:"Explicit"}),d.jsx("ul",{style:{margin:0,paddingLeft:20,listStyle:"none"},children:n.map((s,a)=>d.jsxs("li",{style:{display:"flex",alignItems:"flex-start",gap:8,marginBottom:6,fontSize:13,color:"#374151"},children:[d.jsx("span",{style:{color:"#f59e0b"},children:""}),d.jsx("span",{children:s})]},a))})]}),o&&d.jsxs("div",{children:[d.jsx("h4",{style:{fontSize:12,fontWeight:500,color:"#6b7280",marginBottom:8,marginTop:0},children:"Inferred"}),d.jsx("ul",{style:{margin:0,paddingLeft:20,listStyle:"none"},children:r.map((s,a)=>d.jsxs("li",{style:{display:"flex",alignItems:"flex-start",gap:8,marginBottom:6,fontSize:13,color:"#374151"},children:[d.jsx("span",{style:{color:"#3b82f6"},children:""}),d.jsx("span",{children:s})]},a))})]})]})}function XP({block:e}){const{data:t}=e,{questions:n=[],missing_context:r=[],assumptions_made:i=[]}=t,o=n&&n.length>0,s=r&&r.length>0,a=i&&i.length>0;return!o&&!s&&!a?null:d.jsxs("div",{style:{marginBottom:12},children:[o&&d.jsxs("div",{style:{marginBottom:s||a?16:0},children:[d.jsx("h4",{style:{fontSize:12,fontWeight:500,color:"#6b7280",marginBottom:8,marginTop:0},children:"Questions"}),d.jsx("ul",{style:{margin:0,paddingLeft:20,listStyle:"none"},children:n.map((l,u)=>d.jsxs("li",{style:{display:"flex",alignItems:"flex-start",gap:8,marginBottom:6,fontSize:13,color:"#374151"},children:[d.jsx("span",{style:{color:"#3b82f6"},children:""}),d.jsx("span",{children:l})]},u))})]}),s&&d.jsxs("div",{style:{marginBottom:a?16:0},children:[d.jsx("h4",{style:{fontSize:12,fontWeight:500,color:"#6b7280",marginBottom:8,marginTop:0},children:"Missing Context"}),d.jsx("ul",{style:{margin:0,paddingLeft:20,listStyle:"none"},children:r.map((l,u)=>d.jsxs("li",{style:{display:"flex",alignItems:"flex-start",gap:8,marginBottom:6,fontSize:13,color:"#374151"},children:[d.jsx("span",{style:{color:"#f59e0b"},children:""}),d.jsx("span",{children:l})]},u))})]}),a&&d.jsxs("div",{children:[d.jsx("h4",{style:{fontSize:12,fontWeight:500,color:"#6b7280",marginBottom:8,marginTop:0},children:"Assumptions"}),d.jsx("ul",{style:{margin:0,paddingLeft:20,listStyle:"none"},children:i.map((l,u)=>d.jsxs("li",{style:{display:"flex",alignItems:"flex-start",gap:8,marginBottom:6,fontSize:13,color:"#374151"},children:[d.jsx("span",{style:{color:"#6b7280"},children:""}),d.jsx("span",{children:l})]},u))})]})]})}function QP({block:e}){const{data:t}=e,{status:n,rationale:r,next_action:i}=t,s={qualified:{bg:"#d1fae5",text:"#065f46"},not_ready:{bg:"#fef3c7",text:"#92400e"},out_of_scope:{bg:"#fee2e2",text:"#991b1b"},redirect:{bg:"#e0e7ff",text:"#3730a3"}}[n]||{bg:"#f3f4f6",text:"#374151"};return d.jsxs("div",{style:{marginBottom:12},children:[n&&d.jsx("div",{style:{marginBottom:12},children:d.jsx("span",{style:{padding:"4px 12px",borderRadius:16,fontSize:13,fontWeight:500,background:s.bg,color:s.text},children:n})}),r&&d.jsx("p",{style:{margin:0,marginBottom:i?12:0,fontSize:13,color:"#6b7280",lineHeight:1.5},children:r}),i&&d.jsx("div",{style:{padding:12,borderRadius:8,background:"#ecfdf5",border:"1px solid #a7f3d0"},children:d.jsxs("span",{style:{fontSize:13,fontWeight:500,color:"#065f46"},children:["Next: ",i]})})]})}const ZP={"schema:ParagraphBlockV1":$P,"schema:StringListBlockV1":e0,"schema:IndicatorBlockV1":FP,"schema:OpenQuestionV1":eE,"schema:OpenQuestionsBlockV1":BP,"schema:RisksBlockV1":t0,"schema:DependenciesBlockV1":t0,"schema:SummaryBlockV1":HP,"schema:EpicSummaryBlockV1":n0,"schema:StorySummaryBlockV1":VP,"schema:EpicStoriesCardBlockV1":n0,"schema:StoriesBlockV1":e0,"schema:UnknownsBlockV1":UP,"schema:IntakeSummaryBlockV1":GP,"schema:IntakeProjectTypeBlockV1":KP,"schema:IntakeConstraintsBlockV1":YP,"schema:IntakeOpenGapsBlockV1":XP,"schema:IntakeOutcomeBlockV1":QP};function JP(e){return ZP[e]||WP}function eM(e,t){const n=JP(e.type);return d.jsx(n,{block:e},e.key||t)}function tE({renderModel:e,variant:t="full",hideHeader:n=!1,onSectionClick:r,className:i=""}){var b;const[o,s]=_.useState(new Set(((b=e==null?void 0:e.sections)==null?void 0:b.map(m=>m.section_id))||[]));if(!e)return d.jsx("div",{style:{padding:20,textAlign:"center",color:"#6b7280"},children:"No render model available"});const{title:a,subtitle:l,sections:u=[],metadata:c}=e;if(c!=null&&c.fallback&&e.raw_content)return d.jsx(nM,{title:a,content:e.raw_content,reason:c.reason});const f=m=>{s(g=>{const w=new Set(g);return w.has(m)?w.delete(m):w.add(m),w})},h=t==="compact"||t==="sidecar",y=t==="sidecar"?u.filter(m=>m.viewer_tab==="overview"||!m.viewer_tab):u,v=(()=>{if(!a)return"Document";const m=a.indexOf(": ");return m>-1?a.slice(m+2):a})();return d.jsxs("div",{className:i,children:[t==="full"&&!n&&d.jsxs("div",{style:{marginBottom:24},children:[d.jsx("h1",{style:{margin:0,fontSize:24,fontWeight:700,color:"#111827"},children:v}),l&&d.jsx("p",{style:{margin:"8px 0 0",fontSize:14,color:"#6b7280"},children:l})]}),d.jsx("div",{style:{display:"flex",flexDirection:"column",gap:h?12:20},children:y.map(m=>d.jsx(tM,{section:m,isExpanded:o.has(m.section_id),onToggle:()=>f(m.section_id),onClick:()=>r==null?void 0:r(m),variant:t},m.section_id))}),y.length===0&&d.jsx("div",{style:{padding:32,textAlign:"center",color:"#9ca3af",background:"#f9fafb",borderRadius:8},children:"No content sections available"})]})}function tM({section:e,isExpanded:t,onToggle:n,onClick:r,variant:i}){const{section_id:o,title:s,description:a,blocks:l=[],sidecar_max_items:u}=e,c=i==="compact"||i==="sidecar",f=i==="sidecar";if(l.length===0)return null;const h=f&&u&&l.length>u?l.slice(0,u):l,p=f&&u&&l.length>u;return d.jsxs("div",{style:{background:"#ffffff",borderRadius:8,border:"1px solid #e5e7eb",overflow:"hidden"},children:[d.jsxs("button",{onClick:n,style:{width:"100%",padding:c?"10px 14px":"14px 18px",background:"#f9fafb",border:"none",borderBottom:t?"1px solid #e5e7eb":"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",textAlign:"left"},children:[d.jsxs("div",{children:[d.jsxs("h3",{style:{margin:0,fontSize:c?13:15,fontWeight:600,color:"#111827"},children:[s,p&&d.jsxs("span",{style:{fontWeight:400,color:"#6b7280",marginLeft:6},children:["(showing ",u," of ",l.length,")"]})]}),a&&!c&&d.jsx("p",{style:{margin:"4px 0 0",fontSize:12,color:"#6b7280"},children:a})]}),d.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{color:"#9ca3af",transform:t?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"},children:d.jsx("path",{d:"M4 6l4 4 4-4"})})]}),t&&d.jsxs("div",{style:{padding:c?12:18},children:[h.map((y,v)=>eM(y,v)),p&&d.jsxs("div",{style:{marginTop:8,padding:"8px 12px",background:"#f3f4f6",borderRadius:4,fontSize:12,color:"#6b7280",textAlign:"center"},children:["+",l.length-u," more in full view"]})]})]})}function nM({title:e,content:t,reason:n}){return d.jsxs("div",{children:[d.jsxs("div",{style:{padding:"12px 16px",background:"#fef3c7",border:"1px solid #fde68a",borderRadius:8,marginBottom:16,fontSize:12,color:"#92400e"},children:["Displaying raw content (reason: ",n||"unknown",")"]}),d.jsx("div",{style:{background:"#f8fafc",borderRadius:8,padding:16,overflow:"auto"},children:d.jsx("pre",{style:{margin:0,fontSize:12,color:"#374151",whiteSpace:"pre-wrap",wordBreak:"break-word",fontFamily:"monospace"},children:JSON.stringify(t,null,2)})})]})}function rM({renderModel:e,projectCode:t,documentName:n,isExpanded:r,onToggleExpand:i,onClose:o,onViewFull:s,nodeWidth:a=280}){const h=r?900:520,p=r?900:600,y=`${t||"DOC"} - ${n||"Document"}`,v=b=>{b.stopPropagation()};return d.jsxs("div",{className:"absolute top-0 tray-slide",style:{left:a+30,width:h,zIndex:1e3,transition:"width 0.2s ease"},onMouseDown:v,onPointerDown:v,children:[d.jsx("div",{className:"absolute",style:{top:40,right:"100%",width:30,height:3,background:"#10b981"}}),d.jsx("div",{className:"absolute rounded-full",style:{top:36,right:"100%",marginRight:26,width:10,height:10,background:"#10b981"}}),d.jsxs("div",{style:{background:"#ffffff",borderRadius:2,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)",minHeight:p,transition:"min-height 0.2s ease",display:"flex",flexDirection:"column"},children:[d.jsx("div",{style:{padding:"24px 32px 16px",borderBottom:"2px solid #10b981",background:"linear-gradient(to bottom, #ffffff, #fafafa)"},children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("div",{style:{fontSize:10,letterSpacing:"0.15em",color:"#10b981",fontWeight:600,marginBottom:4},children:"STABILIZED DOCUMENT"}),d.jsx("h1",{style:{fontSize:20,fontFamily:"Georgia, serif",fontWeight:700,color:"#1a1a1a",margin:0},children:(()=>{const b=(e==null?void 0:e.title)||"DOCUMENT",m=b.indexOf(": ");return(m>-1?b.slice(m+2):b).toUpperCase()})()}),d.jsx("div",{style:{fontSize:11,color:"#666",marginTop:4,fontFamily:"monospace"},children:y})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("button",{onClick:i,title:r?"Contract":"Expand",style:{color:"#666",fontSize:16,lineHeight:1,padding:6,background:"none",border:"1px solid #e5e5e5",borderRadius:4,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:r?d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:d.jsx("path",{d:"M9 1v4h4M5 13v-4H1M9 5L13 1M5 9L1 13"})}):d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:d.jsx("path",{d:"M13 5V1h-4M1 9v4h4M13 1L9 5M1 13l4-4"})})}),d.jsx("button",{onClick:o,title:"Close",style:{color:"#999",fontSize:24,lineHeight:1,padding:4,background:"none",border:"none",cursor:"pointer"},children:""})]})]})}),d.jsx("div",{style:{flex:1,padding:"16px 24px",overflowY:"auto",maxHeight:r?600:400},children:d.jsx(tE,{renderModel:e,variant:"sidecar"})}),d.jsx("div",{style:{padding:"16px 32px 24px",borderTop:"1px solid #e5e5e5",background:"#fafafa"},children:d.jsxs("button",{onClick:s,style:{width:"100%",padding:"10px 16px",background:"#10b981",color:"white",border:"none",borderRadius:4,fontSize:12,fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:8},children:[d.jsx("span",{children:"View Full Document"}),d.jsx("span",{style:{fontSize:14},children:""})]})})]})]})}function iM({document:e,projectId:t,projectCode:n,nodeWidth:r,onClose:i,onZoomComplete:o,onViewFull:s}){const[a,l]=_.useState(null),[u,c]=_.useState(null),[f,h]=_.useState(!0),[p,y]=_.useState(!1);return _.useEffect(()=>{if(o){const v=setTimeout(()=>o(),150);return()=>clearTimeout(v)}},[o]),_.useEffect(()=>{async function v(){var b;if(!t||!e.id){h(!1);return}try{h(!0);try{const g=await Pe.getDocumentRenderModel(t,e.id);if(g&&g.sections&&g.sections.length>0){l(g),c(null);return}if((b=g==null?void 0:g.metadata)!=null&&b.fallback&&g.raw_content){l(null),c(g.raw_content);return}}catch(g){console.log("RenderModel not available, falling back to raw document:",g.message)}const m=await Pe.getDocument(t,e.id);l(null),c((m==null?void 0:m.content)||null)}catch(m){console.error("Failed to fetch document for sidecar:",m)}finally{h(!1)}}v()},[t,e.id]),f?null:a?d.jsx(rM,{renderModel:a,projectCode:n,documentName:e.name,isExpanded:p,onToggleExpand:()=>y(!p),onClose:i,onViewFull:()=>s==null?void 0:s(e.id),nodeWidth:r}):d.jsx(oM,{document:e,projectCode:n,rawContent:u,nodeWidth:r,isExpanded:p,onToggleExpand:()=>y(!p),onClose:i,onViewFull:()=>s==null?void 0:s(e.id)})}function oM({document:e,projectCode:t,rawContent:n,nodeWidth:r,isExpanded:i,onToggleExpand:o,onClose:s,onViewFull:a}){var b;const h=i?900:520,p=i?900:600,y=`${t||"DOC"} - ${e.name||"Document"}`,v=m=>{m.stopPropagation()};return d.jsxs("div",{className:"absolute top-0 tray-slide",style:{left:r+30,width:h,zIndex:1e3,transition:"width 0.2s ease"},onMouseDown:v,onPointerDown:v,children:[d.jsx("div",{className:"absolute",style:{top:40,right:"100%",width:30,height:3,background:"#10b981"}}),d.jsx("div",{className:"absolute rounded-full",style:{top:36,right:"100%",marginRight:26,width:10,height:10,background:"#10b981"}}),d.jsxs("div",{style:{background:"#ffffff",borderRadius:2,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)",minHeight:p,transition:"min-height 0.2s ease",display:"flex",flexDirection:"column"},children:[d.jsx("div",{style:{padding:"24px 32px 16px",borderBottom:"2px solid #10b981",background:"linear-gradient(to bottom, #ffffff, #fafafa)"},children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("div",{style:{fontSize:10,letterSpacing:"0.15em",color:"#10b981",fontWeight:600,marginBottom:4},children:"PRODUCED DOCUMENT"}),d.jsx("h1",{style:{fontSize:20,fontFamily:"Georgia, serif",fontWeight:700,color:"#1a1a1a",margin:0},children:((b=e.name)==null?void 0:b.toUpperCase())||"DOCUMENT"}),d.jsx("div",{style:{fontSize:11,color:"#666",marginTop:4,fontFamily:"monospace"},children:y})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("button",{onClick:o,title:i?"Contract":"Expand",style:{color:"#666",fontSize:16,lineHeight:1,padding:6,background:"none",border:"1px solid #e5e5e5",borderRadius:4,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:i?d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:d.jsx("path",{d:"M9 1v4h4M5 13v-4H1M9 5L13 1M5 9L1 13"})}):d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:d.jsx("path",{d:"M13 5V1h-4M1 9v4h4M13 1L9 5M1 13l4-4"})})}),d.jsx("button",{onClick:s,title:"Close",style:{color:"#999",fontSize:24,lineHeight:1,padding:4,background:"none",border:"none",cursor:"pointer"},children:""})]})]})}),d.jsxs("div",{style:{flex:1,padding:"16px 24px",overflowY:"auto",maxHeight:i?600:400},children:[d.jsx("div",{style:{padding:"12px 16px",background:"#fef3c7",border:"1px solid #fde68a",borderRadius:8,marginBottom:16,fontSize:12,color:"#92400e"},children:"No view definition configured - displaying raw content"}),d.jsx("div",{style:{background:"#f8fafc",borderRadius:8,padding:16,overflow:"auto"},children:d.jsx("pre",{style:{margin:0,fontSize:11,color:"#374151",whiteSpace:"pre-wrap",wordBreak:"break-word",fontFamily:"monospace",lineHeight:1.5},children:JSON.stringify(n,null,2)})})]}),d.jsx("div",{style:{padding:"16px 32px 24px",borderTop:"1px solid #e5e5e5",background:"#fafafa"},children:d.jsxs("button",{onClick:a,style:{width:"100%",padding:"10px 16px",background:"#10b981",color:"white",border:"none",borderRadius:4,fontSize:12,fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:8},children:[d.jsx("span",{children:"View Full Document"}),d.jsx("span",{style:{fontSize:14},children:""})]})})]})]})}const sM={produced:"Produced",in_production:"In Production",ready_for_production:"Ready",requirements_not_met:"Requirements Not Met",awaiting_operator:"Awaiting Operator",halted:"Halted",stabilized:"Produced",active:"In Production",queued:"Ready",blocked:"Requirements Not Met",ready:"Produced",waiting:"Ready"};function aM({data:e}){var x,k,E;const n=(e.level||1)===1,r=e.isExpanded,i=e.expandType,o=((x=e.questions)==null?void 0:x.length)>0,s=((k=e.features)==null?void 0:k.length)>0,a=(E=e.stations)==null?void 0:E.some(N=>N.needs_input),l=e.state||"ready_for_production",u=["produced","stabilized","ready"].includes(l),c=["in_production","active"].includes(l),f=["requirements_not_met","blocked"].includes(l),h=c&&e.stations,p=c?"node-active":"",y=n?"DOCUMENT":"EPIC",v=n?"subway-node-header-doc":"subway-node-header-epic",b=u?"var(--state-produced-bg, var(--state-stabilized-bg))":c?"var(--state-in-production-bg, var(--state-active-bg))":f?"var(--state-requirements-not-met-bg, var(--state-blocked-bg, var(--state-queued-bg)))":"var(--state-ready-bg, var(--state-queued-bg))",m=u?"var(--state-produced-text, var(--state-stabilized-text))":c?"var(--state-in-production-text, var(--state-active-text))":f?"var(--state-requirements-not-met-text, var(--state-blocked-text, var(--state-queued-text)))":"var(--state-ready-text, var(--state-queued-text))",g=c?"var(--state-in-production-bg, var(--state-active-bg))":u?"var(--state-produced-bg, var(--state-stabilized-bg))":"var(--border-node)",w=sM[l]||l;return d.jsxs("div",{className:"relative",children:[d.jsx(ir,{type:"target",position:X.Top,className:"!opacity-0",style:{left:"15%"}}),d.jsxs("div",{className:`subway-node rounded-lg border ${p} overflow-hidden`,style:{width:e.width,minHeight:e.height,borderColor:g},children:[d.jsxs("div",{className:`${v} border-b px-3 py-1.5 flex items-center justify-between`,children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-[8px] font-bold uppercase tracking-wider",style:{color:n?"var(--header-text-doc)":"var(--header-text-epic)"},children:y}),d.jsx("span",{className:"text-[10px] font-medium",style:{color:"var(--text-primary)"},children:e.name})]}),e.intent==="optional"&&d.jsx("span",{className:"subway-button text-[8px] px-1.5 py-0.5 rounded",children:"OPTIONAL"})]}),d.jsxs("div",{className:"p-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"rounded-full flex-shrink-0",style:{width:n?24:18,height:n?24:18,backgroundColor:b}}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-wide",style:{color:m},children:w}),n&&e.desc&&d.jsx("p",{className:"text-[9px] mt-0.5 truncate",style:{color:"var(--text-muted)"},children:e.desc})]})]}),h&&d.jsx(PP,{stations:e.stations}),d.jsxs("div",{className:"mt-2 flex flex-wrap gap-1.5",children:[n&&u&&d.jsx("button",{className:"px-2 py-1 bg-emerald-500/20 rounded text-[9px] hover:bg-emerald-500/30 transition-colors",style:{color:"var(--action-success)"},onClick:N=>{var j;N.stopPropagation(),(j=e.onExpand)==null||j.call(e,e.id,"document")},children:"View Document"}),a&&o&&!r&&d.jsx("button",{className:"px-2 py-1 bg-amber-500/20 rounded text-[9px] hover:bg-amber-500/30 transition-colors amber-pulse",style:{color:"var(--action-warning)"},onClick:N=>{var j;N.stopPropagation(),(j=e.onExpand)==null||j.call(e,e.id,"questions")},children:"Answer Questions"}),!n&&s&&(r&&i==="features"?d.jsxs("span",{className:"text-[9px] text-indigo-400",children:[e.features.length," features expanded"]}):d.jsxs("button",{className:"subway-button px-2 py-1 rounded text-[9px] transition-colors flex items-center gap-1",onClick:N=>{var j;N.stopPropagation(),(j=e.onExpand)==null||j.call(e,e.id,"features")},children:[d.jsx("span",{className:"text-indigo-400",children:e.features.length}),d.jsx("span",{children:"features"}),d.jsx("span",{className:"text-indigo-400",children:""})]}))]})]})]}),r&&i==="questions"&&o&&d.jsx(MP,{questions:e.questions,nodeWidth:e.width,onSubmit:N=>{var j;return(j=e.onSubmitQuestions)==null?void 0:j.call(e,e.id,N)},onClose:()=>{var N;return(N=e.onCollapse)==null?void 0:N.call(e)},onZoomComplete:()=>{var N;return(N=e.onZoomToNode)==null?void 0:N.call(e,e.id)}}),r&&i==="features"&&s&&d.jsx(AP,{features:e.features,epicName:e.name,nodeWidth:e.width,onClose:()=>{var N;return(N=e.onCollapse)==null?void 0:N.call(e)},onZoomComplete:()=>{var N;return(N=e.onZoomToNode)==null?void 0:N.call(e,e.id)}}),r&&i==="document"&&n&&u&&d.jsx(iM,{document:e,projectId:e.projectId,projectCode:e.projectCode,nodeWidth:e.width,onClose:()=>{var N;return(N=e.onCollapse)==null?void 0:N.call(e)},onZoomComplete:()=>{var N;return(N=e.onZoomToNode)==null?void 0:N.call(e,e.id)},onViewFull:N=>{var j;return(j=e.onViewFullDocument)==null?void 0:j.call(e,N)}}),d.jsx(ir,{type:"source",position:X.Bottom,className:"!opacity-0",style:{left:"15%"}})]})}function lM(){return d.jsxs("div",{style:{width:1,height:1,background:"transparent"},children:[d.jsx(ir,{type:"target",position:X.Top,style:{opacity:0}}),d.jsx(ir,{type:"source",position:X.Bottom,style:{opacity:0}})]})}function uM({projectId:e,projectCode:t,docTypeId:n,onClose:r}){const[i,o]=_.useState(null),[s,a]=_.useState(null),[l,u]=_.useState(!0),[c,f]=_.useState(null);return _.useEffect(()=>{async function h(){var p;try{u(!0),f(null);try{const v=await Pe.getDocumentRenderModel(e,n);if(v&&v.sections&&v.sections.length>0){o(v),a(null);return}if((p=v==null?void 0:v.metadata)!=null&&p.fallback&&v.raw_content){o(null),a(v.raw_content);return}}catch(v){console.log("RenderModel not available, falling back to raw document:",v.message)}const y=await Pe.getDocument(e,n);o(null),a((y==null?void 0:y.content)||null)}catch(y){f(y.message),console.error("Failed to fetch document:",y)}finally{u(!1)}}h()},[e,n]),_.useEffect(()=>{const h=p=>{p.key==="Escape"&&r()};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[r]),l?d.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center",style:{background:"rgba(0,0,0,0.8)"},children:d.jsx("div",{style:{color:"white",fontSize:14},children:"Loading..."})}):d.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center",style:{background:"rgba(0,0,0,0.8)"},onClick:h=>h.target===h.currentTarget&&r(),children:d.jsxs("div",{className:"relative w-full max-w-4xl max-h-[90vh] overflow-hidden rounded-lg shadow-2xl",style:{background:"#ffffff"},children:[d.jsxs("div",{className:"sticky top-0 px-6 py-4 border-b flex items-center justify-between",style:{background:"#f8fafc",borderColor:"#e2e8f0"},children:[d.jsx("div",{children:t&&d.jsx("div",{style:{display:"inline-block",padding:"2px 8px",background:"#10b981",color:"white",fontSize:11,fontWeight:600,borderRadius:4,letterSpacing:"0.05em"},children:t})}),d.jsx("button",{onClick:r,className:"p-2 rounded-lg hover:bg-gray-200 transition-colors",children:d.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),d.jsxs("div",{className:"overflow-y-auto p-6",style:{maxHeight:"calc(90vh - 80px)"},children:[c&&d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-red-500",children:c})}),i&&d.jsx(tE,{renderModel:i,variant:"full"}),s&&!i&&d.jsx(cM,{content:s,docTypeId:n}),!i&&!s&&!c&&d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-500",children:"No content available"})})]})]})})}function cM({content:e,docTypeId:t}){if(!e)return d.jsx("p",{className:"text-gray-500",children:"No content available"});const n=e.project_name||e.title||e.name,r=e.description||e.summary||e.preliminary_summary;return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{style:{padding:"12px 16px",background:"#fef3c7",border:"1px solid #fde68a",borderRadius:8,fontSize:13,color:"#92400e"},children:["No view definition configured for ",d.jsx("strong",{children:t})," - displaying raw content"]}),(n||r)&&d.jsxs("div",{style:{padding:16,background:"#f8fafc",borderRadius:8,border:"1px solid #e2e8f0"},children:[n&&d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:n}),r&&d.jsx("p",{className:"text-gray-700 text-sm",children:r})]}),d.jsx("div",{style:{background:"#f8fafc",borderRadius:8,padding:16,overflow:"auto"},children:d.jsx("pre",{style:{margin:0,fontSize:12,color:"#374151",whiteSpace:"pre-wrap",wordBreak:"break-word",fontFamily:"monospace",lineHeight:1.6},children:JSON.stringify(e,null,2)})})]})}function Ig(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var fu,r0;function dM(){if(r0)return fu;r0=1;function e(){this.__data__=[],this.size=0}return fu=e,fu}var hu,i0;function ji(){if(i0)return hu;i0=1;function e(t,n){return t===n||t!==t&&n!==n}return hu=e,hu}var pu,o0;function sl(){if(o0)return pu;o0=1;var e=ji();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return pu=t,pu}var mu,s0;function fM(){if(s0)return mu;s0=1;var e=sl(),t=Array.prototype,n=t.splice;function r(i){var o=this.__data__,s=e(o,i);if(s<0)return!1;var a=o.length-1;return s==a?o.pop():n.call(o,s,1),--this.size,!0}return mu=r,mu}var gu,a0;function hM(){if(a0)return gu;a0=1;var e=sl();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return gu=t,gu}var vu,l0;function pM(){if(l0)return vu;l0=1;var e=sl();function t(n){return e(this.__data__,n)>-1}return vu=t,vu}var yu,u0;function mM(){if(u0)return yu;u0=1;var e=sl();function t(n,r){var i=this.__data__,o=e(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return yu=t,yu}var xu,c0;function al(){if(c0)return xu;c0=1;var e=dM(),t=fM(),n=hM(),r=pM(),i=mM();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,xu=o,xu}var wu,d0;function gM(){if(d0)return wu;d0=1;var e=al();function t(){this.__data__=new e,this.size=0}return wu=t,wu}var bu,f0;function vM(){if(f0)return bu;f0=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return bu=e,bu}var _u,h0;function yM(){if(h0)return _u;h0=1;function e(t){return this.__data__.get(t)}return _u=e,_u}var Su,p0;function xM(){if(p0)return Su;p0=1;function e(t){return this.__data__.has(t)}return Su=e,Su}var ku,m0;function nE(){if(m0)return ku;m0=1;var e=typeof rs=="object"&&rs&&rs.Object===Object&&rs;return ku=e,ku}var Eu,g0;function Gt(){if(g0)return Eu;g0=1;var e=nE(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return Eu=n,Eu}var Nu,v0;function Ci(){if(v0)return Nu;v0=1;var e=Gt(),t=e.Symbol;return Nu=t,Nu}var ju,y0;function wM(){if(y0)return ju;y0=1;var e=Ci(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function o(s){var a=n.call(s,i),l=s[i];try{s[i]=void 0;var u=!0}catch{}var c=r.call(s);return u&&(a?s[i]=l:delete s[i]),c}return ju=o,ju}var Cu,x0;function bM(){if(x0)return Cu;x0=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return Cu=n,Cu}var Tu,w0;function Or(){if(w0)return Tu;w0=1;var e=Ci(),t=wM(),n=bM(),r="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function s(a){return a==null?a===void 0?i:r:o&&o in Object(a)?t(a):n(a)}return Tu=s,Tu}var Ru,b0;function Pt(){if(b0)return Ru;b0=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Ru=e,Ru}var Iu,_0;function Zo(){if(_0)return Iu;_0=1;var e=Or(),t=Pt(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function s(a){if(!t(a))return!1;var l=e(a);return l==r||l==i||l==n||l==o}return Iu=s,Iu}var Pu,S0;function _M(){if(S0)return Pu;S0=1;var e=Gt(),t=e["__core-js_shared__"];return Pu=t,Pu}var Mu,k0;function SM(){if(k0)return Mu;k0=1;var e=_M(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return Mu=n,Mu}var Au,E0;function rE(){if(E0)return Au;E0=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return Au=n,Au}var Ou,N0;function kM(){if(N0)return Ou;N0=1;var e=Zo(),t=SM(),n=Pt(),r=rE(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,s=Function.prototype,a=Object.prototype,l=s.toString,u=a.hasOwnProperty,c=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(h){if(!n(h)||t(h))return!1;var p=e(h)?c:o;return p.test(r(h))}return Ou=f,Ou}var Lu,j0;function EM(){if(j0)return Lu;j0=1;function e(t,n){return t==null?void 0:t[n]}return Lu=e,Lu}var qu,C0;function Lr(){if(C0)return qu;C0=1;var e=kM(),t=EM();function n(r,i){var o=t(r,i);return e(o)?o:void 0}return qu=n,qu}var zu,T0;function Pg(){if(T0)return zu;T0=1;var e=Lr(),t=Gt(),n=e(t,"Map");return zu=n,zu}var Du,R0;function ll(){if(R0)return Du;R0=1;var e=Lr(),t=e(Object,"create");return Du=t,Du}var $u,I0;function NM(){if(I0)return $u;I0=1;var e=ll();function t(){this.__data__=e?e(null):{},this.size=0}return $u=t,$u}var Fu,P0;function jM(){if(P0)return Fu;P0=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return Fu=e,Fu}var Bu,M0;function CM(){if(M0)return Bu;M0=1;var e=ll(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var s=this.__data__;if(e){var a=s[o];return a===t?void 0:a}return r.call(s,o)?s[o]:void 0}return Bu=i,Bu}var Hu,A0;function TM(){if(A0)return Hu;A0=1;var e=ll(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var o=this.__data__;return e?o[i]!==void 0:n.call(o,i)}return Hu=r,Hu}var Vu,O0;function RM(){if(O0)return Vu;O0=1;var e=ll(),t="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=e&&i===void 0?t:i,this}return Vu=n,Vu}var Wu,L0;function IM(){if(L0)return Wu;L0=1;var e=NM(),t=jM(),n=CM(),r=TM(),i=RM();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Wu=o,Wu}var Uu,q0;function PM(){if(q0)return Uu;q0=1;var e=IM(),t=al(),n=Pg();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return Uu=r,Uu}var Gu,z0;function MM(){if(z0)return Gu;z0=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return Gu=e,Gu}var Ku,D0;function ul(){if(D0)return Ku;D0=1;var e=MM();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Ku=t,Ku}var Yu,$0;function AM(){if($0)return Yu;$0=1;var e=ul();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return Yu=t,Yu}var Xu,F0;function OM(){if(F0)return Xu;F0=1;var e=ul();function t(n){return e(this,n).get(n)}return Xu=t,Xu}var Qu,B0;function LM(){if(B0)return Qu;B0=1;var e=ul();function t(n){return e(this,n).has(n)}return Qu=t,Qu}var Zu,H0;function qM(){if(H0)return Zu;H0=1;var e=ul();function t(n,r){var i=e(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return Zu=t,Zu}var Ju,V0;function Mg(){if(V0)return Ju;V0=1;var e=PM(),t=AM(),n=OM(),r=LM(),i=qM();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Ju=o,Ju}var ec,W0;function zM(){if(W0)return ec;W0=1;var e=al(),t=Pg(),n=Mg(),r=200;function i(o,s){var a=this.__data__;if(a instanceof e){var l=a.__data__;if(!t||l.length<r-1)return l.push([o,s]),this.size=++a.size,this;a=this.__data__=new n(l)}return a.set(o,s),this.size=a.size,this}return ec=i,ec}var tc,U0;function cl(){if(U0)return tc;U0=1;var e=al(),t=gM(),n=vM(),r=yM(),i=xM(),o=zM();function s(a){var l=this.__data__=new e(a);this.size=l.size}return s.prototype.clear=t,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=o,tc=s,tc}var nc,G0;function Ag(){if(G0)return nc;G0=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i&&n(t[r],r,t)!==!1;);return t}return nc=e,nc}var rc,K0;function iE(){if(K0)return rc;K0=1;var e=Lr(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return rc=t,rc}var ic,Y0;function dl(){if(Y0)return ic;Y0=1;var e=iE();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return ic=t,ic}var oc,X0;function fl(){if(X0)return oc;X0=1;var e=dl(),t=ji(),n=Object.prototype,r=n.hasOwnProperty;function i(o,s,a){var l=o[s];(!(r.call(o,s)&&t(l,a))||a===void 0&&!(s in o))&&e(o,s,a)}return oc=i,oc}var sc,Q0;function Jo(){if(Q0)return sc;Q0=1;var e=fl(),t=dl();function n(r,i,o,s){var a=!o;o||(o={});for(var l=-1,u=i.length;++l<u;){var c=i[l],f=s?s(o[c],r[c],c,o,r):void 0;f===void 0&&(f=r[c]),a?t(o,c,f):e(o,c,f)}return o}return sc=n,sc}var ac,Z0;function DM(){if(Z0)return ac;Z0=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return ac=e,ac}var lc,J0;function sn(){if(J0)return lc;J0=1;function e(t){return t!=null&&typeof t=="object"}return lc=e,lc}var uc,ex;function $M(){if(ex)return uc;ex=1;var e=Or(),t=sn(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return uc=r,uc}var cc,tx;function es(){if(tx)return cc;tx=1;var e=$M(),t=sn(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=e(function(){return arguments}())?e:function(s){return t(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return cc=o,cc}var dc,nx;function Oe(){if(nx)return dc;nx=1;var e=Array.isArray;return dc=e,dc}var to={exports:{}},fc,rx;function FM(){if(rx)return fc;rx=1;function e(){return!1}return fc=e,fc}to.exports;var ix;function Ti(){return ix||(ix=1,function(e,t){var n=Gt(),r=FM(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;e.exports=u}(to,to.exports)),to.exports}var hc,ox;function hl(){if(ox)return hc;ox=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??e,!!i&&(o=="number"||o!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return hc=n,hc}var pc,sx;function Og(){if(sx)return pc;sx=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return pc=t,pc}var mc,ax;function BM(){if(ax)return mc;ax=1;var e=Or(),t=Og(),n=sn(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",s="[object Date]",a="[object Error]",l="[object Function]",u="[object Map]",c="[object Number]",f="[object Object]",h="[object RegExp]",p="[object Set]",y="[object String]",v="[object WeakMap]",b="[object ArrayBuffer]",m="[object DataView]",g="[object Float32Array]",w="[object Float64Array]",x="[object Int8Array]",k="[object Int16Array]",E="[object Int32Array]",N="[object Uint8Array]",j="[object Uint8ClampedArray]",T="[object Uint16Array]",A="[object Uint32Array]",M={};M[g]=M[w]=M[x]=M[k]=M[E]=M[N]=M[j]=M[T]=M[A]=!0,M[r]=M[i]=M[b]=M[o]=M[m]=M[s]=M[a]=M[l]=M[u]=M[c]=M[f]=M[h]=M[p]=M[y]=M[v]=!1;function $(q){return n(q)&&t(q.length)&&!!M[e(q)]}return mc=$,mc}var gc,lx;function pl(){if(lx)return gc;lx=1;function e(t){return function(n){return t(n)}}return gc=e,gc}var no={exports:{}};no.exports;var ux;function Lg(){return ux||(ux=1,function(e,t){var n=nE(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=a}(no,no.exports)),no.exports}var vc,cx;function ts(){if(cx)return vc;cx=1;var e=BM(),t=pl(),n=Lg(),r=n&&n.isTypedArray,i=r?t(r):e;return vc=i,vc}var yc,dx;function oE(){if(dx)return yc;dx=1;var e=DM(),t=es(),n=Oe(),r=Ti(),i=hl(),o=ts(),s=Object.prototype,a=s.hasOwnProperty;function l(u,c){var f=n(u),h=!f&&t(u),p=!f&&!h&&r(u),y=!f&&!h&&!p&&o(u),v=f||h||p||y,b=v?e(u.length,String):[],m=b.length;for(var g in u)(c||a.call(u,g))&&!(v&&(g=="length"||p&&(g=="offset"||g=="parent")||y&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||i(g,m)))&&b.push(g);return b}return yc=l,yc}var xc,fx;function ml(){if(fx)return xc;fx=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return xc=t,xc}var wc,hx;function sE(){if(hx)return wc;hx=1;function e(t,n){return function(r){return t(n(r))}}return wc=e,wc}var bc,px;function HM(){if(px)return bc;px=1;var e=sE(),t=e(Object.keys,Object);return bc=t,bc}var _c,mx;function qg(){if(mx)return _c;mx=1;var e=ml(),t=HM(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!e(o))return t(o);var s=[];for(var a in Object(o))r.call(o,a)&&a!="constructor"&&s.push(a);return s}return _c=i,_c}var Sc,gx;function Tn(){if(gx)return Sc;gx=1;var e=Zo(),t=Og();function n(r){return r!=null&&t(r.length)&&!e(r)}return Sc=n,Sc}var kc,vx;function ur(){if(vx)return kc;vx=1;var e=oE(),t=qg(),n=Tn();function r(i){return n(i)?e(i):t(i)}return kc=r,kc}var Ec,yx;function VM(){if(yx)return Ec;yx=1;var e=Jo(),t=ur();function n(r,i){return r&&e(i,t(i),r)}return Ec=n,Ec}var Nc,xx;function WM(){if(xx)return Nc;xx=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return Nc=e,Nc}var jc,wx;function UM(){if(wx)return jc;wx=1;var e=Pt(),t=ml(),n=WM(),r=Object.prototype,i=r.hasOwnProperty;function o(s){if(!e(s))return n(s);var a=t(s),l=[];for(var u in s)u=="constructor"&&(a||!i.call(s,u))||l.push(u);return l}return jc=o,jc}var Cc,bx;function qr(){if(bx)return Cc;bx=1;var e=oE(),t=UM(),n=Tn();function r(i){return n(i)?e(i,!0):t(i)}return Cc=r,Cc}var Tc,_x;function GM(){if(_x)return Tc;_x=1;var e=Jo(),t=qr();function n(r,i){return r&&e(i,t(i),r)}return Tc=n,Tc}var ro={exports:{}};ro.exports;var Sx;function aE(){return Sx||(Sx=1,function(e,t){var n=Gt(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var f=u.length,h=a?a(f):new u.constructor(f);return u.copy(h),h}e.exports=l}(ro,ro.exports)),ro.exports}var Rc,kx;function lE(){if(kx)return Rc;kx=1;function e(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}return Rc=e,Rc}var Ic,Ex;function uE(){if(Ex)return Ic;Ex=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=0,s=[];++r<i;){var a=t[r];n(a,r,t)&&(s[o++]=a)}return s}return Ic=e,Ic}var Pc,Nx;function cE(){if(Nx)return Pc;Nx=1;function e(){return[]}return Pc=e,Pc}var Mc,jx;function zg(){if(jx)return Mc;jx=1;var e=uE(),t=cE(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(s){return s==null?[]:(s=Object(s),e(i(s),function(a){return r.call(s,a)}))}:t;return Mc=o,Mc}var Ac,Cx;function KM(){if(Cx)return Ac;Cx=1;var e=Jo(),t=zg();function n(r,i){return e(r,t(r),i)}return Ac=n,Ac}var Oc,Tx;function Dg(){if(Tx)return Oc;Tx=1;function e(t,n){for(var r=-1,i=n.length,o=t.length;++r<i;)t[o+r]=n[r];return t}return Oc=e,Oc}var Lc,Rx;function gl(){if(Rx)return Lc;Rx=1;var e=sE(),t=e(Object.getPrototypeOf,Object);return Lc=t,Lc}var qc,Ix;function dE(){if(Ix)return qc;Ix=1;var e=Dg(),t=gl(),n=zg(),r=cE(),i=Object.getOwnPropertySymbols,o=i?function(s){for(var a=[];s;)e(a,n(s)),s=t(s);return a}:r;return qc=o,qc}var zc,Px;function YM(){if(Px)return zc;Px=1;var e=Jo(),t=dE();function n(r,i){return e(r,t(r),i)}return zc=n,zc}var Dc,Mx;function fE(){if(Mx)return Dc;Mx=1;var e=Dg(),t=Oe();function n(r,i,o){var s=i(r);return t(r)?s:e(s,o(r))}return Dc=n,Dc}var $c,Ax;function hE(){if(Ax)return $c;Ax=1;var e=fE(),t=zg(),n=ur();function r(i){return e(i,n,t)}return $c=r,$c}var Fc,Ox;function XM(){if(Ox)return Fc;Ox=1;var e=fE(),t=dE(),n=qr();function r(i){return e(i,n,t)}return Fc=r,Fc}var Bc,Lx;function QM(){if(Lx)return Bc;Lx=1;var e=Lr(),t=Gt(),n=e(t,"DataView");return Bc=n,Bc}var Hc,qx;function ZM(){if(qx)return Hc;qx=1;var e=Lr(),t=Gt(),n=e(t,"Promise");return Hc=n,Hc}var Vc,zx;function pE(){if(zx)return Vc;zx=1;var e=Lr(),t=Gt(),n=e(t,"Set");return Vc=n,Vc}var Wc,Dx;function JM(){if(Dx)return Wc;Dx=1;var e=Lr(),t=Gt(),n=e(t,"WeakMap");return Wc=n,Wc}var Uc,$x;function Ri(){if($x)return Uc;$x=1;var e=QM(),t=Pg(),n=ZM(),r=pE(),i=JM(),o=Or(),s=rE(),a="[object Map]",l="[object Object]",u="[object Promise]",c="[object Set]",f="[object WeakMap]",h="[object DataView]",p=s(e),y=s(t),v=s(n),b=s(r),m=s(i),g=o;return(e&&g(new e(new ArrayBuffer(1)))!=h||t&&g(new t)!=a||n&&g(n.resolve())!=u||r&&g(new r)!=c||i&&g(new i)!=f)&&(g=function(w){var x=o(w),k=x==l?w.constructor:void 0,E=k?s(k):"";if(E)switch(E){case p:return h;case y:return a;case v:return u;case b:return c;case m:return f}return x}),Uc=g,Uc}var Gc,Fx;function eA(){if(Fx)return Gc;Fx=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var i=r.length,o=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(o.index=r.index,o.input=r.input),o}return Gc=n,Gc}var Kc,Bx;function mE(){if(Bx)return Kc;Bx=1;var e=Gt(),t=e.Uint8Array;return Kc=t,Kc}var Yc,Hx;function $g(){if(Hx)return Yc;Hx=1;var e=mE();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return Yc=t,Yc}var Xc,Vx;function tA(){if(Vx)return Xc;Vx=1;var e=$g();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return Xc=t,Xc}var Qc,Wx;function nA(){if(Wx)return Qc;Wx=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return Qc=t,Qc}var Zc,Ux;function rA(){if(Ux)return Zc;Ux=1;var e=Ci(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return Zc=r,Zc}var Jc,Gx;function gE(){if(Gx)return Jc;Gx=1;var e=$g();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return Jc=t,Jc}var ed,Kx;function iA(){if(Kx)return ed;Kx=1;var e=$g(),t=tA(),n=nA(),r=rA(),i=gE(),o="[object Boolean]",s="[object Date]",a="[object Map]",l="[object Number]",u="[object RegExp]",c="[object Set]",f="[object String]",h="[object Symbol]",p="[object ArrayBuffer]",y="[object DataView]",v="[object Float32Array]",b="[object Float64Array]",m="[object Int8Array]",g="[object Int16Array]",w="[object Int32Array]",x="[object Uint8Array]",k="[object Uint8ClampedArray]",E="[object Uint16Array]",N="[object Uint32Array]";function j(T,A,M){var $=T.constructor;switch(A){case p:return e(T);case o:case s:return new $(+T);case y:return t(T,M);case v:case b:case m:case g:case w:case x:case k:case E:case N:return i(T,M);case a:return new $;case l:case f:return new $(T);case u:return n(T);case c:return new $;case h:return r(T)}}return ed=j,ed}var td,Yx;function vE(){if(Yx)return td;Yx=1;var e=Pt(),t=Object.create,n=function(){function r(){}return function(i){if(!e(i))return{};if(t)return t(i);r.prototype=i;var o=new r;return r.prototype=void 0,o}}();return td=n,td}var nd,Xx;function yE(){if(Xx)return nd;Xx=1;var e=vE(),t=gl(),n=ml();function r(i){return typeof i.constructor=="function"&&!n(i)?e(t(i)):{}}return nd=r,nd}var rd,Qx;function oA(){if(Qx)return rd;Qx=1;var e=Ri(),t=sn(),n="[object Map]";function r(i){return t(i)&&e(i)==n}return rd=r,rd}var id,Zx;function sA(){if(Zx)return id;Zx=1;var e=oA(),t=pl(),n=Lg(),r=n&&n.isMap,i=r?t(r):e;return id=i,id}var od,Jx;function aA(){if(Jx)return od;Jx=1;var e=Ri(),t=sn(),n="[object Set]";function r(i){return t(i)&&e(i)==n}return od=r,od}var sd,e1;function lA(){if(e1)return sd;e1=1;var e=aA(),t=pl(),n=Lg(),r=n&&n.isSet,i=r?t(r):e;return sd=i,sd}var ad,t1;function xE(){if(t1)return ad;t1=1;var e=cl(),t=Ag(),n=fl(),r=VM(),i=GM(),o=aE(),s=lE(),a=KM(),l=YM(),u=hE(),c=XM(),f=Ri(),h=eA(),p=iA(),y=yE(),v=Oe(),b=Ti(),m=sA(),g=Pt(),w=lA(),x=ur(),k=qr(),E=1,N=2,j=4,T="[object Arguments]",A="[object Array]",M="[object Boolean]",$="[object Date]",q="[object Error]",S="[object Function]",I="[object GeneratorFunction]",R="[object Map]",z="[object Number]",P="[object Object]",C="[object RegExp]",L="[object Set]",O="[object String]",D="[object Symbol]",B="[object WeakMap]",V="[object ArrayBuffer]",K="[object DataView]",Q="[object Float32Array]",Z="[object Float64Array]",ae="[object Int8Array]",re="[object Int16Array]",ie="[object Int32Array]",Re="[object Uint8Array]",ve="[object Uint8ClampedArray]",Le="[object Uint16Array]",Me="[object Uint32Array]",W={};W[T]=W[A]=W[V]=W[K]=W[M]=W[$]=W[Q]=W[Z]=W[ae]=W[re]=W[ie]=W[R]=W[z]=W[P]=W[C]=W[L]=W[O]=W[D]=W[Re]=W[ve]=W[Le]=W[Me]=!0,W[q]=W[S]=W[B]=!1;function oe(G,U,ce,qe,_e,pe){var ye,je=U&E,At=U&N,an=U&j;if(ce&&(ye=_e?ce(G,qe,_e,pe):ce(G)),ye!==void 0)return ye;if(!g(G))return G;var Yt=v(G);if(Yt){if(ye=h(G),!je)return s(G,ye)}else{var mt=f(G),ln=mt==S||mt==I;if(b(G))return o(G,je);if(mt==P||mt==T||ln&&!_e){if(ye=At||ln?{}:y(G),!je)return At?l(G,i(ye,G)):a(G,r(ye,G))}else{if(!W[mt])return _e?G:{};ye=p(G,mt,je)}}pe||(pe=new e);var In=pe.get(G);if(In)return In;pe.set(G,ye),w(G)?G.forEach(function(Ke){ye.add(oe(Ke,U,ce,Ke,G,pe))}):m(G)&&G.forEach(function(Ke,tt){ye.set(tt,oe(Ke,U,ce,tt,G,pe))});var $e=an?At?c:u:At?k:x,st=Yt?void 0:$e(G);return t(st||G,function(Ke,tt){st&&(tt=Ke,Ke=G[tt]),n(ye,tt,oe(Ke,U,ce,tt,G,pe))}),ye}return ad=oe,ad}var ld,n1;function uA(){if(n1)return ld;n1=1;var e=xE(),t=4;function n(r){return e(r,t)}return ld=n,ld}var ud,r1;function Fg(){if(r1)return ud;r1=1;function e(t){return function(){return t}}return ud=e,ud}var cd,i1;function cA(){if(i1)return cd;i1=1;function e(t){return function(n,r,i){for(var o=-1,s=Object(n),a=i(n),l=a.length;l--;){var u=a[t?l:++o];if(r(s[u],u,s)===!1)break}return n}}return cd=e,cd}var dd,o1;function Bg(){if(o1)return dd;o1=1;var e=cA(),t=e();return dd=t,dd}var fd,s1;function Hg(){if(s1)return fd;s1=1;var e=Bg(),t=ur();function n(r,i){return r&&e(r,i,t)}return fd=n,fd}var hd,a1;function dA(){if(a1)return hd;a1=1;var e=Tn();function t(n,r){return function(i,o){if(i==null)return i;if(!e(i))return n(i,o);for(var s=i.length,a=r?s:-1,l=Object(i);(r?a--:++a<s)&&o(l[a],a,l)!==!1;);return i}}return hd=t,hd}var pd,l1;function vl(){if(l1)return pd;l1=1;var e=Hg(),t=dA(),n=t(e);return pd=n,pd}var md,u1;function zr(){if(u1)return md;u1=1;function e(t){return t}return md=e,md}var gd,c1;function wE(){if(c1)return gd;c1=1;var e=zr();function t(n){return typeof n=="function"?n:e}return gd=t,gd}var vd,d1;function bE(){if(d1)return vd;d1=1;var e=Ag(),t=vl(),n=wE(),r=Oe();function i(o,s){var a=r(o)?e:t;return a(o,n(s))}return vd=i,vd}var yd,f1;function _E(){return f1||(f1=1,yd=bE()),yd}var xd,h1;function fA(){if(h1)return xd;h1=1;var e=vl();function t(n,r){var i=[];return e(n,function(o,s,a){r(o,s,a)&&i.push(o)}),i}return xd=t,xd}var wd,p1;function hA(){if(p1)return wd;p1=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return wd=t,wd}var bd,m1;function pA(){if(m1)return bd;m1=1;function e(t){return this.__data__.has(t)}return bd=e,bd}var _d,g1;function SE(){if(g1)return _d;g1=1;var e=Mg(),t=hA(),n=pA();function r(i){var o=-1,s=i==null?0:i.length;for(this.__data__=new e;++o<s;)this.add(i[o])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,_d=r,_d}var Sd,v1;function mA(){if(v1)return Sd;v1=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return Sd=e,Sd}var kd,y1;function kE(){if(y1)return kd;y1=1;function e(t,n){return t.has(n)}return kd=e,kd}var Ed,x1;function EE(){if(x1)return Ed;x1=1;var e=SE(),t=mA(),n=kE(),r=1,i=2;function o(s,a,l,u,c,f){var h=l&r,p=s.length,y=a.length;if(p!=y&&!(h&&y>p))return!1;var v=f.get(s),b=f.get(a);if(v&&b)return v==a&&b==s;var m=-1,g=!0,w=l&i?new e:void 0;for(f.set(s,a),f.set(a,s);++m<p;){var x=s[m],k=a[m];if(u)var E=h?u(k,x,m,a,s,f):u(x,k,m,s,a,f);if(E!==void 0){if(E)continue;g=!1;break}if(w){if(!t(a,function(N,j){if(!n(w,j)&&(x===N||c(x,N,l,u,f)))return w.push(j)})){g=!1;break}}else if(!(x===k||c(x,k,l,u,f))){g=!1;break}}return f.delete(s),f.delete(a),g}return Ed=o,Ed}var Nd,w1;function gA(){if(w1)return Nd;w1=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,o){r[++n]=[o,i]}),r}return Nd=e,Nd}var jd,b1;function Vg(){if(b1)return jd;b1=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return jd=e,jd}var Cd,_1;function vA(){if(_1)return Cd;_1=1;var e=Ci(),t=mE(),n=ji(),r=EE(),i=gA(),o=Vg(),s=1,a=2,l="[object Boolean]",u="[object Date]",c="[object Error]",f="[object Map]",h="[object Number]",p="[object RegExp]",y="[object Set]",v="[object String]",b="[object Symbol]",m="[object ArrayBuffer]",g="[object DataView]",w=e?e.prototype:void 0,x=w?w.valueOf:void 0;function k(E,N,j,T,A,M,$){switch(j){case g:if(E.byteLength!=N.byteLength||E.byteOffset!=N.byteOffset)return!1;E=E.buffer,N=N.buffer;case m:return!(E.byteLength!=N.byteLength||!M(new t(E),new t(N)));case l:case u:case h:return n(+E,+N);case c:return E.name==N.name&&E.message==N.message;case p:case v:return E==N+"";case f:var q=i;case y:var S=T&s;if(q||(q=o),E.size!=N.size&&!S)return!1;var I=$.get(E);if(I)return I==N;T|=a,$.set(E,N);var R=r(q(E),q(N),T,A,M,$);return $.delete(E),R;case b:if(x)return x.call(E)==x.call(N)}return!1}return Cd=k,Cd}var Td,S1;function yA(){if(S1)return Td;S1=1;var e=hE(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,s,a,l,u,c){var f=a&t,h=e(o),p=h.length,y=e(s),v=y.length;if(p!=v&&!f)return!1;for(var b=p;b--;){var m=h[b];if(!(f?m in s:r.call(s,m)))return!1}var g=c.get(o),w=c.get(s);if(g&&w)return g==s&&w==o;var x=!0;c.set(o,s),c.set(s,o);for(var k=f;++b<p;){m=h[b];var E=o[m],N=s[m];if(l)var j=f?l(N,E,m,s,o,c):l(E,N,m,o,s,c);if(!(j===void 0?E===N||u(E,N,a,l,c):j)){x=!1;break}k||(k=m=="constructor")}if(x&&!k){var T=o.constructor,A=s.constructor;T!=A&&"constructor"in o&&"constructor"in s&&!(typeof T=="function"&&T instanceof T&&typeof A=="function"&&A instanceof A)&&(x=!1)}return c.delete(o),c.delete(s),x}return Td=i,Td}var Rd,k1;function xA(){if(k1)return Rd;k1=1;var e=cl(),t=EE(),n=vA(),r=yA(),i=Ri(),o=Oe(),s=Ti(),a=ts(),l=1,u="[object Arguments]",c="[object Array]",f="[object Object]",h=Object.prototype,p=h.hasOwnProperty;function y(v,b,m,g,w,x){var k=o(v),E=o(b),N=k?c:i(v),j=E?c:i(b);N=N==u?f:N,j=j==u?f:j;var T=N==f,A=j==f,M=N==j;if(M&&s(v)){if(!s(b))return!1;k=!0,T=!1}if(M&&!T)return x||(x=new e),k||a(v)?t(v,b,m,g,w,x):n(v,b,N,m,g,w,x);if(!(m&l)){var $=T&&p.call(v,"__wrapped__"),q=A&&p.call(b,"__wrapped__");if($||q){var S=$?v.value():v,I=q?b.value():b;return x||(x=new e),w(S,I,m,g,x)}}return M?(x||(x=new e),r(v,b,m,g,w,x)):!1}return Rd=y,Rd}var Id,E1;function NE(){if(E1)return Id;E1=1;var e=xA(),t=sn();function n(r,i,o,s,a){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,o,s,n,a)}return Id=n,Id}var Pd,N1;function wA(){if(N1)return Pd;N1=1;var e=cl(),t=NE(),n=1,r=2;function i(o,s,a,l){var u=a.length,c=u,f=!l;if(o==null)return!c;for(o=Object(o);u--;){var h=a[u];if(f&&h[2]?h[1]!==o[h[0]]:!(h[0]in o))return!1}for(;++u<c;){h=a[u];var p=h[0],y=o[p],v=h[1];if(f&&h[2]){if(y===void 0&&!(p in o))return!1}else{var b=new e;if(l)var m=l(y,v,p,o,s,b);if(!(m===void 0?t(v,y,n|r,l,b):m))return!1}}return!0}return Pd=i,Pd}var Md,j1;function jE(){if(j1)return Md;j1=1;var e=Pt();function t(n){return n===n&&!e(n)}return Md=t,Md}var Ad,C1;function bA(){if(C1)return Ad;C1=1;var e=jE(),t=ur();function n(r){for(var i=t(r),o=i.length;o--;){var s=i[o],a=r[s];i[o]=[s,a,e(a)]}return i}return Ad=n,Ad}var Od,T1;function CE(){if(T1)return Od;T1=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return Od=e,Od}var Ld,R1;function _A(){if(R1)return Ld;R1=1;var e=wA(),t=bA(),n=CE();function r(i){var o=t(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(s){return s===i||e(s,i,o)}}return Ld=r,Ld}var qd,I1;function Ii(){if(I1)return qd;I1=1;var e=Or(),t=sn(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return qd=r,qd}var zd,P1;function Wg(){if(P1)return zd;P1=1;var e=Oe(),t=Ii(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){if(e(o))return!1;var a=typeof o;return a=="number"||a=="symbol"||a=="boolean"||o==null||t(o)?!0:r.test(o)||!n.test(o)||s!=null&&o in Object(s)}return zd=i,zd}var Dd,M1;function SA(){if(M1)return Dd;M1=1;var e=Mg(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var o=function(){var s=arguments,a=i?i.apply(this,s):s[0],l=o.cache;if(l.has(a))return l.get(a);var u=r.apply(this,s);return o.cache=l.set(a,u)||l,u};return o.cache=new(n.Cache||e),o}return n.Cache=e,Dd=n,Dd}var $d,A1;function kA(){if(A1)return $d;A1=1;var e=SA(),t=500;function n(r){var i=e(r,function(s){return o.size===t&&o.clear(),s}),o=i.cache;return i}return $d=n,$d}var Fd,O1;function EA(){if(O1)return Fd;O1=1;var e=kA(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(t,function(s,a,l,u){o.push(l?u.replace(n,"$1"):a||s)}),o});return Fd=r,Fd}var Bd,L1;function yl(){if(L1)return Bd;L1=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=Array(i);++r<i;)o[r]=n(t[r],r,t);return o}return Bd=e,Bd}var Hd,q1;function NA(){if(q1)return Hd;q1=1;var e=Ci(),t=yl(),n=Oe(),r=Ii(),i=e?e.prototype:void 0,o=i?i.toString:void 0;function s(a){if(typeof a=="string")return a;if(n(a))return t(a,s)+"";if(r(a))return o?o.call(a):"";var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}return Hd=s,Hd}var Vd,z1;function TE(){if(z1)return Vd;z1=1;var e=NA();function t(n){return n==null?"":e(n)}return Vd=t,Vd}var Wd,D1;function xl(){if(D1)return Wd;D1=1;var e=Oe(),t=Wg(),n=EA(),r=TE();function i(o,s){return e(o)?o:t(o,s)?[o]:n(r(o))}return Wd=i,Wd}var Ud,$1;function ns(){if($1)return Ud;$1=1;var e=Ii();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Ud=t,Ud}var Gd,F1;function wl(){if(F1)return Gd;F1=1;var e=xl(),t=ns();function n(r,i){i=e(i,r);for(var o=0,s=i.length;r!=null&&o<s;)r=r[t(i[o++])];return o&&o==s?r:void 0}return Gd=n,Gd}var Kd,B1;function jA(){if(B1)return Kd;B1=1;var e=wl();function t(n,r,i){var o=n==null?void 0:e(n,r);return o===void 0?i:o}return Kd=t,Kd}var Yd,H1;function CA(){if(H1)return Yd;H1=1;function e(t,n){return t!=null&&n in Object(t)}return Yd=e,Yd}var Xd,V1;function RE(){if(V1)return Xd;V1=1;var e=xl(),t=es(),n=Oe(),r=hl(),i=Og(),o=ns();function s(a,l,u){l=e(l,a);for(var c=-1,f=l.length,h=!1;++c<f;){var p=o(l[c]);if(!(h=a!=null&&u(a,p)))break;a=a[p]}return h||++c!=f?h:(f=a==null?0:a.length,!!f&&i(f)&&r(p,f)&&(n(a)||t(a)))}return Xd=s,Xd}var Qd,W1;function IE(){if(W1)return Qd;W1=1;var e=CA(),t=RE();function n(r,i){return r!=null&&t(r,i,e)}return Qd=n,Qd}var Zd,U1;function TA(){if(U1)return Zd;U1=1;var e=NE(),t=jA(),n=IE(),r=Wg(),i=jE(),o=CE(),s=ns(),a=1,l=2;function u(c,f){return r(c)&&i(f)?o(s(c),f):function(h){var p=t(h,c);return p===void 0&&p===f?n(h,c):e(f,p,a|l)}}return Zd=u,Zd}var Jd,G1;function PE(){if(G1)return Jd;G1=1;function e(t){return function(n){return n==null?void 0:n[t]}}return Jd=e,Jd}var ef,K1;function RA(){if(K1)return ef;K1=1;var e=wl();function t(n){return function(r){return e(r,n)}}return ef=t,ef}var tf,Y1;function IA(){if(Y1)return tf;Y1=1;var e=PE(),t=RA(),n=Wg(),r=ns();function i(o){return n(o)?e(r(o)):t(o)}return tf=i,tf}var nf,X1;function Rn(){if(X1)return nf;X1=1;var e=_A(),t=TA(),n=zr(),r=Oe(),i=IA();function o(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?t(s[0],s[1]):e(s):i(s)}return nf=o,nf}var rf,Q1;function ME(){if(Q1)return rf;Q1=1;var e=uE(),t=fA(),n=Rn(),r=Oe();function i(o,s){var a=r(o)?e:t;return a(o,n(s,3))}return rf=i,rf}var of,Z1;function PA(){if(Z1)return of;Z1=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,i){return r!=null&&t.call(r,i)}return of=n,of}var sf,J1;function AE(){if(J1)return sf;J1=1;var e=PA(),t=RE();function n(r,i){return r!=null&&t(r,i,e)}return sf=n,sf}var af,ew;function MA(){if(ew)return af;ew=1;var e=qg(),t=Ri(),n=es(),r=Oe(),i=Tn(),o=Ti(),s=ml(),a=ts(),l="[object Map]",u="[object Set]",c=Object.prototype,f=c.hasOwnProperty;function h(p){if(p==null)return!0;if(i(p)&&(r(p)||typeof p=="string"||typeof p.splice=="function"||o(p)||a(p)||n(p)))return!p.length;var y=t(p);if(y==l||y==u)return!p.size;if(s(p))return!e(p).length;for(var v in p)if(f.call(p,v))return!1;return!0}return af=h,af}var lf,tw;function OE(){if(tw)return lf;tw=1;function e(t){return t===void 0}return lf=e,lf}var uf,nw;function LE(){if(nw)return uf;nw=1;var e=vl(),t=Tn();function n(r,i){var o=-1,s=t(r)?Array(r.length):[];return e(r,function(a,l,u){s[++o]=i(a,l,u)}),s}return uf=n,uf}var cf,rw;function qE(){if(rw)return cf;rw=1;var e=yl(),t=Rn(),n=LE(),r=Oe();function i(o,s){var a=r(o)?e:n;return a(o,t(s,3))}return cf=i,cf}var df,iw;function AA(){if(iw)return df;iw=1;function e(t,n,r,i){var o=-1,s=t==null?0:t.length;for(i&&s&&(r=t[++o]);++o<s;)r=n(r,t[o],o,t);return r}return df=e,df}var ff,ow;function OA(){if(ow)return ff;ow=1;function e(t,n,r,i,o){return o(t,function(s,a,l){r=i?(i=!1,s):n(r,s,a,l)}),r}return ff=e,ff}var hf,sw;function zE(){if(sw)return hf;sw=1;var e=AA(),t=vl(),n=Rn(),r=OA(),i=Oe();function o(s,a,l){var u=i(s)?e:r,c=arguments.length<3;return u(s,n(a,4),l,c,t)}return hf=o,hf}var pf,aw;function LA(){if(aw)return pf;aw=1;var e=Or(),t=Oe(),n=sn(),r="[object String]";function i(o){return typeof o=="string"||!t(o)&&n(o)&&e(o)==r}return pf=i,pf}var mf,lw;function qA(){if(lw)return mf;lw=1;var e=PE(),t=e("length");return mf=t,mf}var gf,uw;function zA(){if(uw)return gf;uw=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",s="\\u200d",a=RegExp("["+s+e+i+o+"]");function l(u){return a.test(u)}return gf=l,gf}var vf,cw;function DA(){if(cw)return vf;cw=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",s="["+e+"]",a="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+a+"|"+l+")",c="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",y=u+"?",v="["+o+"]?",b="(?:"+p+"(?:"+[c,f,h].join("|")+")"+v+y+")*",m=v+y+b,g="(?:"+[c+a+"?",a,f,h,s].join("|")+")",w=RegExp(l+"(?="+l+")|"+g+m,"g");function x(k){for(var E=w.lastIndex=0;w.test(k);)++E;return E}return vf=x,vf}var yf,dw;function $A(){if(dw)return yf;dw=1;var e=qA(),t=zA(),n=DA();function r(i){return t(i)?n(i):e(i)}return yf=r,yf}var xf,fw;function FA(){if(fw)return xf;fw=1;var e=qg(),t=Ri(),n=Tn(),r=LA(),i=$A(),o="[object Map]",s="[object Set]";function a(l){if(l==null)return 0;if(n(l))return r(l)?i(l):l.length;var u=t(l);return u==o||u==s?l.size:e(l).length}return xf=a,xf}var wf,hw;function BA(){if(hw)return wf;hw=1;var e=Ag(),t=vE(),n=Hg(),r=Rn(),i=gl(),o=Oe(),s=Ti(),a=Zo(),l=Pt(),u=ts();function c(f,h,p){var y=o(f),v=y||s(f)||u(f);if(h=r(h,4),p==null){var b=f&&f.constructor;v?p=y?new b:[]:l(f)?p=a(b)?t(i(f)):{}:p={}}return(v?e:n)(f,function(m,g,w){return h(p,m,g,w)}),p}return wf=c,wf}var bf,pw;function HA(){if(pw)return bf;pw=1;var e=Ci(),t=es(),n=Oe(),r=e?e.isConcatSpreadable:void 0;function i(o){return n(o)||t(o)||!!(r&&o&&o[r])}return bf=i,bf}var _f,mw;function Ug(){if(mw)return _f;mw=1;var e=Dg(),t=HA();function n(r,i,o,s,a){var l=-1,u=r.length;for(o||(o=t),a||(a=[]);++l<u;){var c=r[l];i>0&&o(c)?i>1?n(c,i-1,o,s,a):e(a,c):s||(a[a.length]=c)}return a}return _f=n,_f}var Sf,gw;function VA(){if(gw)return Sf;gw=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return Sf=e,Sf}var kf,vw;function DE(){if(vw)return kf;vw=1;var e=VA(),t=Math.max;function n(r,i,o){return i=t(i===void 0?r.length-1:i,0),function(){for(var s=arguments,a=-1,l=t(s.length-i,0),u=Array(l);++a<l;)u[a]=s[i+a];a=-1;for(var c=Array(i+1);++a<i;)c[a]=s[a];return c[i]=o(u),e(r,this,c)}}return kf=n,kf}var Ef,yw;function WA(){if(yw)return Ef;yw=1;var e=Fg(),t=iE(),n=zr(),r=t?function(i,o){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:n;return Ef=r,Ef}var Nf,xw;function UA(){if(xw)return Nf;xw=1;var e=800,t=16,n=Date.now;function r(i){var o=0,s=0;return function(){var a=n(),l=t-(a-s);if(s=a,l>0){if(++o>=e)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return Nf=r,Nf}var jf,ww;function $E(){if(ww)return jf;ww=1;var e=WA(),t=UA(),n=t(e);return jf=n,jf}var Cf,bw;function bl(){if(bw)return Cf;bw=1;var e=zr(),t=DE(),n=$E();function r(i,o){return n(t(i,o,e),i+"")}return Cf=r,Cf}var Tf,_w;function FE(){if(_w)return Tf;_w=1;function e(t,n,r,i){for(var o=t.length,s=r+(i?1:-1);i?s--:++s<o;)if(n(t[s],s,t))return s;return-1}return Tf=e,Tf}var Rf,Sw;function GA(){if(Sw)return Rf;Sw=1;function e(t){return t!==t}return Rf=e,Rf}var If,kw;function KA(){if(kw)return If;kw=1;function e(t,n,r){for(var i=r-1,o=t.length;++i<o;)if(t[i]===n)return i;return-1}return If=e,If}var Pf,Ew;function YA(){if(Ew)return Pf;Ew=1;var e=FE(),t=GA(),n=KA();function r(i,o,s){return o===o?n(i,o,s):e(i,t,s)}return Pf=r,Pf}var Mf,Nw;function XA(){if(Nw)return Mf;Nw=1;var e=YA();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return Mf=t,Mf}var Af,jw;function QA(){if(jw)return Af;jw=1;function e(t,n,r){for(var i=-1,o=t==null?0:t.length;++i<o;)if(r(n,t[i]))return!0;return!1}return Af=e,Af}var Of,Cw;function ZA(){if(Cw)return Of;Cw=1;function e(){}return Of=e,Of}var Lf,Tw;function JA(){if(Tw)return Lf;Tw=1;var e=pE(),t=ZA(),n=Vg(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(o){return new e(o)}:t;return Lf=i,Lf}var qf,Rw;function e6(){if(Rw)return qf;Rw=1;var e=SE(),t=XA(),n=QA(),r=kE(),i=JA(),o=Vg(),s=200;function a(l,u,c){var f=-1,h=t,p=l.length,y=!0,v=[],b=v;if(c)y=!1,h=n;else if(p>=s){var m=u?null:i(l);if(m)return o(m);y=!1,h=r,b=new e}else b=u?[]:v;e:for(;++f<p;){var g=l[f],w=u?u(g):g;if(g=c||g!==0?g:0,y&&w===w){for(var x=b.length;x--;)if(b[x]===w)continue e;u&&b.push(w),v.push(g)}else h(b,w,c)||(b!==v&&b.push(w),v.push(g))}return v}return qf=a,qf}var zf,Iw;function BE(){if(Iw)return zf;Iw=1;var e=Tn(),t=sn();function n(r){return t(r)&&e(r)}return zf=n,zf}var Df,Pw;function t6(){if(Pw)return Df;Pw=1;var e=Ug(),t=bl(),n=e6(),r=BE(),i=t(function(o){return n(e(o,1,r,!0))});return Df=i,Df}var $f,Mw;function n6(){if(Mw)return $f;Mw=1;var e=yl();function t(n,r){return e(r,function(i){return n[i]})}return $f=t,$f}var Ff,Aw;function HE(){if(Aw)return Ff;Aw=1;var e=n6(),t=ur();function n(r){return r==null?[]:e(r,t(r))}return Ff=n,Ff}var Bf,Ow;function Mt(){if(Ow)return Bf;Ow=1;var e;if(typeof Ig=="function")try{e={clone:uA(),constant:Fg(),each:_E(),filter:ME(),has:AE(),isArray:Oe(),isEmpty:MA(),isFunction:Zo(),isUndefined:OE(),keys:ur(),map:qE(),reduce:zE(),size:FA(),transform:BA(),union:t6(),values:HE()}}catch{}return e||(e=window._),Bf=e,Bf}var Hf,Lw;function Gg(){if(Lw)return Hf;Lw=1;var e=Mt();Hf=i;var t="\0",n="\0",r="";function i(c){this._isDirected=e.has(c,"directed")?c.directed:!0,this._isMultigraph=e.has(c,"multigraph")?c.multigraph:!1,this._isCompound=e.has(c,"compound")?c.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(c){return this._label=c,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultNodeLabelFn=c,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return e.keys(this._nodes)},i.prototype.sources=function(){var c=this;return e.filter(this.nodes(),function(f){return e.isEmpty(c._in[f])})},i.prototype.sinks=function(){var c=this;return e.filter(this.nodes(),function(f){return e.isEmpty(c._out[f])})},i.prototype.setNodes=function(c,f){var h=arguments,p=this;return e.each(c,function(y){h.length>1?p.setNode(y,f):p.setNode(y)}),this},i.prototype.setNode=function(c,f){return e.has(this._nodes,c)?(arguments.length>1&&(this._nodes[c]=f),this):(this._nodes[c]=arguments.length>1?f:this._defaultNodeLabelFn(c),this._isCompound&&(this._parent[c]=n,this._children[c]={},this._children[n][c]=!0),this._in[c]={},this._preds[c]={},this._out[c]={},this._sucs[c]={},++this._nodeCount,this)},i.prototype.node=function(c){return this._nodes[c]},i.prototype.hasNode=function(c){return e.has(this._nodes,c)},i.prototype.removeNode=function(c){var f=this;if(e.has(this._nodes,c)){var h=function(p){f.removeEdge(f._edgeObjs[p])};delete this._nodes[c],this._isCompound&&(this._removeFromParentsChildList(c),delete this._parent[c],e.each(this.children(c),function(p){f.setParent(p)}),delete this._children[c]),e.each(e.keys(this._in[c]),h),delete this._in[c],delete this._preds[c],e.each(e.keys(this._out[c]),h),delete this._out[c],delete this._sucs[c],--this._nodeCount}return this},i.prototype.setParent=function(c,f){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(f))f=n;else{f+="";for(var h=f;!e.isUndefined(h);h=this.parent(h))if(h===c)throw new Error("Setting "+f+" as parent of "+c+" would create a cycle");this.setNode(f)}return this.setNode(c),this._removeFromParentsChildList(c),this._parent[c]=f,this._children[f][c]=!0,this},i.prototype._removeFromParentsChildList=function(c){delete this._children[this._parent[c]][c]},i.prototype.parent=function(c){if(this._isCompound){var f=this._parent[c];if(f!==n)return f}},i.prototype.children=function(c){if(e.isUndefined(c)&&(c=n),this._isCompound){var f=this._children[c];if(f)return e.keys(f)}else{if(c===n)return this.nodes();if(this.hasNode(c))return[]}},i.prototype.predecessors=function(c){var f=this._preds[c];if(f)return e.keys(f)},i.prototype.successors=function(c){var f=this._sucs[c];if(f)return e.keys(f)},i.prototype.neighbors=function(c){var f=this.predecessors(c);if(f)return e.union(f,this.successors(c))},i.prototype.isLeaf=function(c){var f;return this.isDirected()?f=this.successors(c):f=this.neighbors(c),f.length===0},i.prototype.filterNodes=function(c){var f=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});f.setGraph(this.graph());var h=this;e.each(this._nodes,function(v,b){c(b)&&f.setNode(b,v)}),e.each(this._edgeObjs,function(v){f.hasNode(v.v)&&f.hasNode(v.w)&&f.setEdge(v,h.edge(v))});var p={};function y(v){var b=h.parent(v);return b===void 0||f.hasNode(b)?(p[v]=b,b):b in p?p[b]:y(b)}return this._isCompound&&e.each(f.nodes(),function(v){f.setParent(v,y(v))}),f},i.prototype.setDefaultEdgeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultEdgeLabelFn=c,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return e.values(this._edgeObjs)},i.prototype.setPath=function(c,f){var h=this,p=arguments;return e.reduce(c,function(y,v){return p.length>1?h.setEdge(y,v,f):h.setEdge(y,v),v}),this},i.prototype.setEdge=function(){var c,f,h,p,y=!1,v=arguments[0];typeof v=="object"&&v!==null&&"v"in v?(c=v.v,f=v.w,h=v.name,arguments.length===2&&(p=arguments[1],y=!0)):(c=v,f=arguments[1],h=arguments[3],arguments.length>2&&(p=arguments[2],y=!0)),c=""+c,f=""+f,e.isUndefined(h)||(h=""+h);var b=a(this._isDirected,c,f,h);if(e.has(this._edgeLabels,b))return y&&(this._edgeLabels[b]=p),this;if(!e.isUndefined(h)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(f),this._edgeLabels[b]=y?p:this._defaultEdgeLabelFn(c,f,h);var m=l(this._isDirected,c,f,h);return c=m.v,f=m.w,Object.freeze(m),this._edgeObjs[b]=m,o(this._preds[f],c),o(this._sucs[c],f),this._in[f][b]=m,this._out[c][b]=m,this._edgeCount++,this},i.prototype.edge=function(c,f,h){var p=arguments.length===1?u(this._isDirected,arguments[0]):a(this._isDirected,c,f,h);return this._edgeLabels[p]},i.prototype.hasEdge=function(c,f,h){var p=arguments.length===1?u(this._isDirected,arguments[0]):a(this._isDirected,c,f,h);return e.has(this._edgeLabels,p)},i.prototype.removeEdge=function(c,f,h){var p=arguments.length===1?u(this._isDirected,arguments[0]):a(this._isDirected,c,f,h),y=this._edgeObjs[p];return y&&(c=y.v,f=y.w,delete this._edgeLabels[p],delete this._edgeObjs[p],s(this._preds[f],c),s(this._sucs[c],f),delete this._in[f][p],delete this._out[c][p],this._edgeCount--),this},i.prototype.inEdges=function(c,f){var h=this._in[c];if(h){var p=e.values(h);return f?e.filter(p,function(y){return y.v===f}):p}},i.prototype.outEdges=function(c,f){var h=this._out[c];if(h){var p=e.values(h);return f?e.filter(p,function(y){return y.w===f}):p}},i.prototype.nodeEdges=function(c,f){var h=this.inEdges(c,f);if(h)return h.concat(this.outEdges(c,f))};function o(c,f){c[f]?c[f]++:c[f]=1}function s(c,f){--c[f]||delete c[f]}function a(c,f,h,p){var y=""+f,v=""+h;if(!c&&y>v){var b=y;y=v,v=b}return y+r+v+r+(e.isUndefined(p)?t:p)}function l(c,f,h,p){var y=""+f,v=""+h;if(!c&&y>v){var b=y;y=v,v=b}var m={v:y,w:v};return p&&(m.name=p),m}function u(c,f){return a(c,f.v,f.w,f.name)}return Hf}var Vf,qw;function r6(){return qw||(qw=1,Vf="2.1.8"),Vf}var Wf,zw;function i6(){return zw||(zw=1,Wf={Graph:Gg(),version:r6()}),Wf}var Uf,Dw;function o6(){if(Dw)return Uf;Dw=1;var e=Mt(),t=Gg();Uf={write:n,read:o};function n(s){var a={options:{directed:s.isDirected(),multigraph:s.isMultigraph(),compound:s.isCompound()},nodes:r(s),edges:i(s)};return e.isUndefined(s.graph())||(a.value=e.clone(s.graph())),a}function r(s){return e.map(s.nodes(),function(a){var l=s.node(a),u=s.parent(a),c={v:a};return e.isUndefined(l)||(c.value=l),e.isUndefined(u)||(c.parent=u),c})}function i(s){return e.map(s.edges(),function(a){var l=s.edge(a),u={v:a.v,w:a.w};return e.isUndefined(a.name)||(u.name=a.name),e.isUndefined(l)||(u.value=l),u})}function o(s){var a=new t(s.options).setGraph(s.value);return e.each(s.nodes,function(l){a.setNode(l.v,l.value),l.parent&&a.setParent(l.v,l.parent)}),e.each(s.edges,function(l){a.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),a}return Uf}var Gf,$w;function s6(){if($w)return Gf;$w=1;var e=Mt();Gf=t;function t(n){var r={},i=[],o;function s(a){e.has(r,a)||(r[a]=!0,o.push(a),e.each(n.successors(a),s),e.each(n.predecessors(a),s))}return e.each(n.nodes(),function(a){o=[],s(a),o.length&&i.push(o)}),i}return Gf}var Kf,Fw;function VE(){if(Fw)return Kf;Fw=1;var e=Mt();Kf=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,r){var i=this._keyIndices;if(n=String(n),!e.has(i,n)){var o=this._arr,s=o.length;return i[n]=s,o.push({key:n,priority:r}),this._decrease(s),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)},t.prototype._heapify=function(n){var r=this._arr,i=2*n,o=i+1,s=n;i<r.length&&(s=r[i].priority<r[s].priority?i:s,o<r.length&&(s=r[o].priority<r[s].priority?o:s),s!==n&&(this._swap(n,s),this._heapify(s)))},t.prototype._decrease=function(n){for(var r=this._arr,i=r[n].priority,o;n!==0&&(o=n>>1,!(r[o].priority<i));)this._swap(n,o),n=o},t.prototype._swap=function(n,r){var i=this._arr,o=this._keyIndices,s=i[n],a=i[r];i[n]=a,i[r]=s,o[a.key]=n,o[s.key]=r},Kf}var Yf,Bw;function WE(){if(Bw)return Yf;Bw=1;var e=Mt(),t=VE();Yf=r;var n=e.constant(1);function r(o,s,a,l){return i(o,String(s),a||n,l||function(u){return o.outEdges(u)})}function i(o,s,a,l){var u={},c=new t,f,h,p=function(y){var v=y.v!==f?y.v:y.w,b=u[v],m=a(y),g=h.distance+m;if(m<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+y+" Weight: "+m);g<b.distance&&(b.distance=g,b.predecessor=f,c.decrease(v,g))};for(o.nodes().forEach(function(y){var v=y===s?0:Number.POSITIVE_INFINITY;u[y]={distance:v},c.add(y,v)});c.size()>0&&(f=c.removeMin(),h=u[f],h.distance!==Number.POSITIVE_INFINITY);)l(f).forEach(p);return u}return Yf}var Xf,Hw;function a6(){if(Hw)return Xf;Hw=1;var e=WE(),t=Mt();Xf=n;function n(r,i,o){return t.transform(r.nodes(),function(s,a){s[a]=e(r,a,i,o)},{})}return Xf}var Qf,Vw;function UE(){if(Vw)return Qf;Vw=1;var e=Mt();Qf=t;function t(n){var r=0,i=[],o={},s=[];function a(l){var u=o[l]={onStack:!0,lowlink:r,index:r++};if(i.push(l),n.successors(l).forEach(function(h){e.has(o,h)?o[h].onStack&&(u.lowlink=Math.min(u.lowlink,o[h].index)):(a(h),u.lowlink=Math.min(u.lowlink,o[h].lowlink))}),u.lowlink===u.index){var c=[],f;do f=i.pop(),o[f].onStack=!1,c.push(f);while(l!==f);s.push(c)}}return n.nodes().forEach(function(l){e.has(o,l)||a(l)}),s}return Qf}var Zf,Ww;function l6(){if(Ww)return Zf;Ww=1;var e=Mt(),t=UE();Zf=n;function n(r){return e.filter(t(r),function(i){return i.length>1||i.length===1&&r.hasEdge(i[0],i[0])})}return Zf}var Jf,Uw;function u6(){if(Uw)return Jf;Uw=1;var e=Mt();Jf=n;var t=e.constant(1);function n(i,o,s){return r(i,o||t,s||function(a){return i.outEdges(a)})}function r(i,o,s){var a={},l=i.nodes();return l.forEach(function(u){a[u]={},a[u][u]={distance:0},l.forEach(function(c){u!==c&&(a[u][c]={distance:Number.POSITIVE_INFINITY})}),s(u).forEach(function(c){var f=c.v===u?c.w:c.v,h=o(c);a[u][f]={distance:h,predecessor:u}})}),l.forEach(function(u){var c=a[u];l.forEach(function(f){var h=a[f];l.forEach(function(p){var y=h[u],v=c[p],b=h[p],m=y.distance+v.distance;m<b.distance&&(b.distance=m,b.predecessor=v.predecessor)})})}),a}return Jf}var eh,Gw;function GE(){if(Gw)return eh;Gw=1;var e=Mt();eh=t,t.CycleException=n;function t(r){var i={},o={},s=[];function a(l){if(e.has(o,l))throw new n;e.has(i,l)||(o[l]=!0,i[l]=!0,e.each(r.predecessors(l),a),delete o[l],s.push(l))}if(e.each(r.sinks(),a),e.size(i)!==r.nodeCount())throw new n;return s}function n(){}return n.prototype=new Error,eh}var th,Kw;function c6(){if(Kw)return th;Kw=1;var e=GE();th=t;function t(n){try{e(n)}catch(r){if(r instanceof e.CycleException)return!1;throw r}return!0}return th}var nh,Yw;function KE(){if(Yw)return nh;Yw=1;var e=Mt();nh=t;function t(r,i,o){e.isArray(i)||(i=[i]);var s=(r.isDirected()?r.successors:r.neighbors).bind(r),a=[],l={};return e.each(i,function(u){if(!r.hasNode(u))throw new Error("Graph does not have node: "+u);n(r,u,o==="post",l,s,a)}),a}function n(r,i,o,s,a,l){e.has(s,i)||(s[i]=!0,o||l.push(i),e.each(a(i),function(u){n(r,u,o,s,a,l)}),o&&l.push(i))}return nh}var rh,Xw;function d6(){if(Xw)return rh;Xw=1;var e=KE();rh=t;function t(n,r){return e(n,r,"post")}return rh}var ih,Qw;function f6(){if(Qw)return ih;Qw=1;var e=KE();ih=t;function t(n,r){return e(n,r,"pre")}return ih}var oh,Zw;function h6(){if(Zw)return oh;Zw=1;var e=Mt(),t=Gg(),n=VE();oh=r;function r(i,o){var s=new t,a={},l=new n,u;function c(h){var p=h.v===u?h.w:h.v,y=l.priority(p);if(y!==void 0){var v=o(h);v<y&&(a[p]=u,l.decrease(p,v))}}if(i.nodeCount()===0)return s;e.each(i.nodes(),function(h){l.add(h,Number.POSITIVE_INFINITY),s.setNode(h)}),l.decrease(i.nodes()[0],0);for(var f=!1;l.size()>0;){if(u=l.removeMin(),e.has(a,u))s.setEdge(u,a[u]);else{if(f)throw new Error("Input graph is not connected: "+i);f=!0}i.nodeEdges(u).forEach(c)}return s}return oh}var sh,Jw;function p6(){return Jw||(Jw=1,sh={components:s6(),dijkstra:WE(),dijkstraAll:a6(),findCycles:l6(),floydWarshall:u6(),isAcyclic:c6(),postorder:d6(),preorder:f6(),prim:h6(),tarjan:UE(),topsort:GE()}),sh}var ah,eb;function m6(){if(eb)return ah;eb=1;var e=i6();return ah={Graph:e.Graph,json:o6(),alg:p6(),version:e.version},ah}var Pa;if(typeof Ig=="function")try{Pa=m6()}catch{}Pa||(Pa=window.graphlib);var Kt=Pa,lh,tb;function g6(){if(tb)return lh;tb=1;var e=xE(),t=1,n=4;function r(i){return e(i,t|n)}return lh=r,lh}var uh,nb;function _l(){if(nb)return uh;nb=1;var e=ji(),t=Tn(),n=hl(),r=Pt();function i(o,s,a){if(!r(a))return!1;var l=typeof s;return(l=="number"?t(a)&&n(s,a.length):l=="string"&&s in a)?e(a[s],o):!1}return uh=i,uh}var ch,rb;function v6(){if(rb)return ch;rb=1;var e=bl(),t=ji(),n=_l(),r=qr(),i=Object.prototype,o=i.hasOwnProperty,s=e(function(a,l){a=Object(a);var u=-1,c=l.length,f=c>2?l[2]:void 0;for(f&&n(l[0],l[1],f)&&(c=1);++u<c;)for(var h=l[u],p=r(h),y=-1,v=p.length;++y<v;){var b=p[y],m=a[b];(m===void 0||t(m,i[b])&&!o.call(a,b))&&(a[b]=h[b])}return a});return ch=s,ch}var dh,ib;function y6(){if(ib)return dh;ib=1;var e=Rn(),t=Tn(),n=ur();function r(i){return function(o,s,a){var l=Object(o);if(!t(o)){var u=e(s,3);o=n(o),s=function(f){return u(l[f],f,l)}}var c=i(o,s,a);return c>-1?l[u?o[c]:c]:void 0}}return dh=r,dh}var fh,ob;function x6(){if(ob)return fh;ob=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return fh=t,fh}var hh,sb;function w6(){if(sb)return hh;sb=1;var e=x6(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return hh=n,hh}var ph,ab;function b6(){if(ab)return ph;ab=1;var e=w6(),t=Pt(),n=Ii(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt;function l(u){if(typeof u=="number")return u;if(n(u))return r;if(t(u)){var c=typeof u.valueOf=="function"?u.valueOf():u;u=t(c)?c+"":c}if(typeof u!="string")return u===0?u:+u;u=e(u);var f=o.test(u);return f||s.test(u)?a(u.slice(2),f?2:8):i.test(u)?r:+u}return ph=l,ph}var mh,lb;function YE(){if(lb)return mh;lb=1;var e=b6(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var o=i<0?-1:1;return o*n}return i===i?i:0}return mh=r,mh}var gh,ub;function _6(){if(ub)return gh;ub=1;var e=YE();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return gh=t,gh}var vh,cb;function S6(){if(cb)return vh;cb=1;var e=FE(),t=Rn(),n=_6(),r=Math.max;function i(o,s,a){var l=o==null?0:o.length;if(!l)return-1;var u=a==null?0:n(a);return u<0&&(u=r(l+u,0)),e(o,t(s,3),u)}return vh=i,vh}var yh,db;function k6(){if(db)return yh;db=1;var e=y6(),t=S6(),n=e(t);return yh=n,yh}var xh,fb;function XE(){if(fb)return xh;fb=1;var e=Ug();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return xh=t,xh}var wh,hb;function E6(){if(hb)return wh;hb=1;var e=Bg(),t=wE(),n=qr();function r(i,o){return i==null?i:e(i,t(o),n)}return wh=r,wh}var bh,pb;function N6(){if(pb)return bh;pb=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return bh=e,bh}var _h,mb;function j6(){if(mb)return _h;mb=1;var e=dl(),t=Hg(),n=Rn();function r(i,o){var s={};return o=n(o,3),t(i,function(a,l,u){e(s,l,o(a,l,u))}),s}return _h=r,_h}var Sh,gb;function Kg(){if(gb)return Sh;gb=1;var e=Ii();function t(n,r,i){for(var o=-1,s=n.length;++o<s;){var a=n[o],l=r(a);if(l!=null&&(u===void 0?l===l&&!e(l):i(l,u)))var u=l,c=a}return c}return Sh=t,Sh}var kh,vb;function C6(){if(vb)return kh;vb=1;function e(t,n){return t>n}return kh=e,kh}var Eh,yb;function T6(){if(yb)return Eh;yb=1;var e=Kg(),t=C6(),n=zr();function r(i){return i&&i.length?e(i,n,t):void 0}return Eh=r,Eh}var Nh,xb;function QE(){if(xb)return Nh;xb=1;var e=dl(),t=ji();function n(r,i,o){(o!==void 0&&!t(r[i],o)||o===void 0&&!(i in r))&&e(r,i,o)}return Nh=n,Nh}var jh,wb;function R6(){if(wb)return jh;wb=1;var e=Or(),t=gl(),n=sn(),r="[object Object]",i=Function.prototype,o=Object.prototype,s=i.toString,a=o.hasOwnProperty,l=s.call(Object);function u(c){if(!n(c)||e(c)!=r)return!1;var f=t(c);if(f===null)return!0;var h=a.call(f,"constructor")&&f.constructor;return typeof h=="function"&&h instanceof h&&s.call(h)==l}return jh=u,jh}var Ch,bb;function ZE(){if(bb)return Ch;bb=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return Ch=e,Ch}var Th,_b;function I6(){if(_b)return Th;_b=1;var e=Jo(),t=qr();function n(r){return e(r,t(r))}return Th=n,Th}var Rh,Sb;function P6(){if(Sb)return Rh;Sb=1;var e=QE(),t=aE(),n=gE(),r=lE(),i=yE(),o=es(),s=Oe(),a=BE(),l=Ti(),u=Zo(),c=Pt(),f=R6(),h=ts(),p=ZE(),y=I6();function v(b,m,g,w,x,k,E){var N=p(b,g),j=p(m,g),T=E.get(j);if(T){e(b,g,T);return}var A=k?k(N,j,g+"",b,m,E):void 0,M=A===void 0;if(M){var $=s(j),q=!$&&l(j),S=!$&&!q&&h(j);A=j,$||q||S?s(N)?A=N:a(N)?A=r(N):q?(M=!1,A=t(j,!0)):S?(M=!1,A=n(j,!0)):A=[]:f(j)||o(j)?(A=N,o(N)?A=y(N):(!c(N)||u(N))&&(A=i(j))):M=!1}M&&(E.set(j,A),x(A,j,w,k,E),E.delete(j)),e(b,g,A)}return Rh=v,Rh}var Ih,kb;function M6(){if(kb)return Ih;kb=1;var e=cl(),t=QE(),n=Bg(),r=P6(),i=Pt(),o=qr(),s=ZE();function a(l,u,c,f,h){l!==u&&n(u,function(p,y){if(h||(h=new e),i(p))r(l,u,y,c,a,f,h);else{var v=f?f(s(l,y),p,y+"",l,u,h):void 0;v===void 0&&(v=p),t(l,y,v)}},o)}return Ih=a,Ih}var Ph,Eb;function A6(){if(Eb)return Ph;Eb=1;var e=bl(),t=_l();function n(r){return e(function(i,o){var s=-1,a=o.length,l=a>1?o[a-1]:void 0,u=a>2?o[2]:void 0;for(l=r.length>3&&typeof l=="function"?(a--,l):void 0,u&&t(o[0],o[1],u)&&(l=a<3?void 0:l,a=1),i=Object(i);++s<a;){var c=o[s];c&&r(i,c,s,l)}return i})}return Ph=n,Ph}var Mh,Nb;function O6(){if(Nb)return Mh;Nb=1;var e=M6(),t=A6(),n=t(function(r,i,o){e(r,i,o)});return Mh=n,Mh}var Ah,jb;function JE(){if(jb)return Ah;jb=1;function e(t,n){return t<n}return Ah=e,Ah}var Oh,Cb;function L6(){if(Cb)return Oh;Cb=1;var e=Kg(),t=JE(),n=zr();function r(i){return i&&i.length?e(i,n,t):void 0}return Oh=r,Oh}var Lh,Tb;function q6(){if(Tb)return Lh;Tb=1;var e=Kg(),t=Rn(),n=JE();function r(i,o){return i&&i.length?e(i,t(o,2),n):void 0}return Lh=r,Lh}var qh,Rb;function z6(){if(Rb)return qh;Rb=1;var e=Gt(),t=function(){return e.Date.now()};return qh=t,qh}var zh,Ib;function D6(){if(Ib)return zh;Ib=1;var e=fl(),t=xl(),n=hl(),r=Pt(),i=ns();function o(s,a,l,u){if(!r(s))return s;a=t(a,s);for(var c=-1,f=a.length,h=f-1,p=s;p!=null&&++c<f;){var y=i(a[c]),v=l;if(y==="__proto__"||y==="constructor"||y==="prototype")return s;if(c!=h){var b=p[y];v=u?u(b,y,p):void 0,v===void 0&&(v=r(b)?b:n(a[c+1])?[]:{})}e(p,y,v),p=p[y]}return s}return zh=o,zh}var Dh,Pb;function $6(){if(Pb)return Dh;Pb=1;var e=wl(),t=D6(),n=xl();function r(i,o,s){for(var a=-1,l=o.length,u={};++a<l;){var c=o[a],f=e(i,c);s(f,c)&&t(u,n(c,i),f)}return u}return Dh=r,Dh}var $h,Mb;function F6(){if(Mb)return $h;Mb=1;var e=$6(),t=IE();function n(r,i){return e(r,i,function(o,s){return t(r,s)})}return $h=n,$h}var Fh,Ab;function B6(){if(Ab)return Fh;Ab=1;var e=XE(),t=DE(),n=$E();function r(i){return n(t(i,void 0,e),i+"")}return Fh=r,Fh}var Bh,Ob;function H6(){if(Ob)return Bh;Ob=1;var e=F6(),t=B6(),n=t(function(r,i){return r==null?{}:e(r,i)});return Bh=n,Bh}var Hh,Lb;function V6(){if(Lb)return Hh;Lb=1;var e=Math.ceil,t=Math.max;function n(r,i,o,s){for(var a=-1,l=t(e((i-r)/(o||1)),0),u=Array(l);l--;)u[s?l:++a]=r,r+=o;return u}return Hh=n,Hh}var Vh,qb;function W6(){if(qb)return Vh;qb=1;var e=V6(),t=_l(),n=YE();function r(i){return function(o,s,a){return a&&typeof a!="number"&&t(o,s,a)&&(s=a=void 0),o=n(o),s===void 0?(s=o,o=0):s=n(s),a=a===void 0?o<s?1:-1:n(a),e(o,s,a,i)}}return Vh=r,Vh}var Wh,zb;function U6(){if(zb)return Wh;zb=1;var e=W6(),t=e();return Wh=t,Wh}var Uh,Db;function G6(){if(Db)return Uh;Db=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return Uh=e,Uh}var Gh,$b;function K6(){if($b)return Gh;$b=1;var e=Ii();function t(n,r){if(n!==r){var i=n!==void 0,o=n===null,s=n===n,a=e(n),l=r!==void 0,u=r===null,c=r===r,f=e(r);if(!u&&!f&&!a&&n>r||a&&l&&c&&!u&&!f||o&&l&&c||!i&&c||!s)return 1;if(!o&&!a&&!f&&n<r||f&&i&&s&&!o&&!a||u&&i&&s||!l&&s||!c)return-1}return 0}return Gh=t,Gh}var Kh,Fb;function Y6(){if(Fb)return Kh;Fb=1;var e=K6();function t(n,r,i){for(var o=-1,s=n.criteria,a=r.criteria,l=s.length,u=i.length;++o<l;){var c=e(s[o],a[o]);if(c){if(o>=u)return c;var f=i[o];return c*(f=="desc"?-1:1)}}return n.index-r.index}return Kh=t,Kh}var Yh,Bb;function X6(){if(Bb)return Yh;Bb=1;var e=yl(),t=wl(),n=Rn(),r=LE(),i=G6(),o=pl(),s=Y6(),a=zr(),l=Oe();function u(c,f,h){f.length?f=e(f,function(v){return l(v)?function(b){return t(b,v.length===1?v[0]:v)}:v}):f=[a];var p=-1;f=e(f,o(n));var y=r(c,function(v,b,m){var g=e(f,function(w){return w(v)});return{criteria:g,index:++p,value:v}});return i(y,function(v,b){return s(v,b,h)})}return Yh=u,Yh}var Xh,Hb;function Q6(){if(Hb)return Xh;Hb=1;var e=Ug(),t=X6(),n=bl(),r=_l(),i=n(function(o,s){if(o==null)return[];var a=s.length;return a>1&&r(o,s[0],s[1])?s=[]:a>2&&r(s[0],s[1],s[2])&&(s=[s[0]]),t(o,e(s,1),[])});return Xh=i,Xh}var Qh,Vb;function Z6(){if(Vb)return Qh;Vb=1;var e=TE(),t=0;function n(r){var i=++t;return e(r)+i}return Qh=n,Qh}var Zh,Wb;function J6(){if(Wb)return Zh;Wb=1;function e(t,n,r){for(var i=-1,o=t.length,s=n.length,a={};++i<o;){var l=i<s?n[i]:void 0;r(a,t[i],l)}return a}return Zh=e,Zh}var Jh,Ub;function e8(){if(Ub)return Jh;Ub=1;var e=fl(),t=J6();function n(r,i){return t(r||[],i||[],e)}return Jh=n,Jh}var Ma;if(typeof Ig=="function")try{Ma={cloneDeep:g6(),constant:Fg(),defaults:v6(),each:_E(),filter:ME(),find:k6(),flatten:XE(),forEach:bE(),forIn:E6(),has:AE(),isUndefined:OE(),last:N6(),map:qE(),mapValues:j6(),max:T6(),merge:O6(),min:L6(),minBy:q6(),now:z6(),pick:H6(),range:U6(),reduce:zE(),sortBy:Q6(),uniqueId:Z6(),values:HE(),zipObject:e8()}}catch{}Ma||(Ma=window._);var be=Ma,t8=Sl;function Sl(){var e={};e._next=e._prev=e,this._sentinel=e}Sl.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return eN(t),t};Sl.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&eN(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};Sl.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,n8)),n=n._prev;return"["+e.join(", ")+"]"};function eN(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function n8(e,t){if(e!=="_next"&&e!=="_prev")return t}var vn=be,r8=Kt.Graph,i8=t8,o8=a8,s8=vn.constant(1);function a8(e,t){if(e.nodeCount()<=1)return[];var n=u8(e,t||s8),r=l8(n.graph,n.buckets,n.zeroIdx);return vn.flatten(vn.map(r,function(i){return e.outEdges(i.v,i.w)}),!0)}function l8(e,t,n){for(var r=[],i=t[t.length-1],o=t[0],s;e.nodeCount();){for(;s=o.dequeue();)ep(e,t,n,s);for(;s=i.dequeue();)ep(e,t,n,s);if(e.nodeCount()){for(var a=t.length-2;a>0;--a)if(s=t[a].dequeue(),s){r=r.concat(ep(e,t,n,s,!0));break}}}return r}function ep(e,t,n,r,i){var o=i?[]:void 0;return vn.forEach(e.inEdges(r.v),function(s){var a=e.edge(s),l=e.node(s.v);i&&o.push({v:s.v,w:s.w}),l.out-=a,mm(t,n,l)}),vn.forEach(e.outEdges(r.v),function(s){var a=e.edge(s),l=s.w,u=e.node(l);u.in-=a,mm(t,n,u)}),e.removeNode(r.v),o}function u8(e,t){var n=new r8,r=0,i=0;vn.forEach(e.nodes(),function(a){n.setNode(a,{v:a,in:0,out:0})}),vn.forEach(e.edges(),function(a){var l=n.edge(a.v,a.w)||0,u=t(a),c=l+u;n.setEdge(a.v,a.w,c),i=Math.max(i,n.node(a.v).out+=u),r=Math.max(r,n.node(a.w).in+=u)});var o=vn.range(i+r+3).map(function(){return new i8}),s=r+1;return vn.forEach(n.nodes(),function(a){mm(o,s,n.node(a))}),{graph:n,buckets:o,zeroIdx:s}}function mm(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var br=be,c8=o8,d8={run:f8,undo:p8};function f8(e){var t=e.graph().acyclicer==="greedy"?c8(e,n(e)):h8(e);br.forEach(t,function(r){var i=e.edge(r);e.removeEdge(r),i.forwardName=r.name,i.reversed=!0,e.setEdge(r.w,r.v,i,br.uniqueId("rev"))});function n(r){return function(i){return r.edge(i).weight}}}function h8(e){var t=[],n={},r={};function i(o){br.has(r,o)||(r[o]=!0,n[o]=!0,br.forEach(e.outEdges(o),function(s){br.has(n,s.w)?t.push(s):i(s.w)}),delete n[o])}return br.forEach(e.nodes(),i),t}function p8(e){br.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}var de=be,tN=Kt.Graph,ht={addDummyNode:nN,simplify:m8,asNonCompoundGraph:g8,successorWeights:v8,predecessorWeights:y8,intersectRect:x8,buildLayerMatrix:w8,normalizeRanks:b8,removeEmptyRanks:_8,addBorderNode:S8,maxRank:rN,partition:k8,time:E8,notime:N8};function nN(e,t,n,r){var i;do i=de.uniqueId(r);while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function m8(e){var t=new tN().setGraph(e.graph());return de.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),de.forEach(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),t}function g8(e){var t=new tN({multigraph:e.isMultigraph()}).setGraph(e.graph());return de.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),de.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t}function v8(e){var t=de.map(e.nodes(),function(n){var r={};return de.forEach(e.outEdges(n),function(i){r[i.w]=(r[i.w]||0)+e.edge(i).weight}),r});return de.zipObject(e.nodes(),t)}function y8(e){var t=de.map(e.nodes(),function(n){var r={};return de.forEach(e.inEdges(n),function(i){r[i.v]=(r[i.v]||0)+e.edge(i).weight}),r});return de.zipObject(e.nodes(),t)}function x8(e,t){var n=e.x,r=e.y,i=t.x-n,o=t.y-r,s=e.width/2,a=e.height/2;if(!i&&!o)throw new Error("Not possible to find intersection inside of the rectangle");var l,u;return Math.abs(o)*s>Math.abs(i)*a?(o<0&&(a=-a),l=a*i/o,u=a):(i<0&&(s=-s),l=s,u=s*o/i),{x:n+l,y:r+u}}function w8(e){var t=de.map(de.range(rN(e)+1),function(){return[]});return de.forEach(e.nodes(),function(n){var r=e.node(n),i=r.rank;de.isUndefined(i)||(t[i][r.order]=n)}),t}function b8(e){var t=de.min(de.map(e.nodes(),function(n){return e.node(n).rank}));de.forEach(e.nodes(),function(n){var r=e.node(n);de.has(r,"rank")&&(r.rank-=t)})}function _8(e){var t=de.min(de.map(e.nodes(),function(o){return e.node(o).rank})),n=[];de.forEach(e.nodes(),function(o){var s=e.node(o).rank-t;n[s]||(n[s]=[]),n[s].push(o)});var r=0,i=e.graph().nodeRankFactor;de.forEach(n,function(o,s){de.isUndefined(o)&&s%i!==0?--r:r&&de.forEach(o,function(a){e.node(a).rank+=r})})}function S8(e,t,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),nN(e,"border",i,t)}function rN(e){return de.max(de.map(e.nodes(),function(t){var n=e.node(t).rank;if(!de.isUndefined(n))return n}))}function k8(e,t){var n={lhs:[],rhs:[]};return de.forEach(e,function(r){t(r)?n.lhs.push(r):n.rhs.push(r)}),n}function E8(e,t){var n=de.now();try{return t()}finally{console.log(e+" time: "+(de.now()-n)+"ms")}}function N8(e,t){return t()}var iN=be,j8=ht,C8={run:T8,undo:I8};function T8(e){e.graph().dummyChains=[],iN.forEach(e.edges(),function(t){R8(e,t)})}function R8(e,t){var n=t.v,r=e.node(n).rank,i=t.w,o=e.node(i).rank,s=t.name,a=e.edge(t),l=a.labelRank;if(o!==r+1){e.removeEdge(t);var u,c,f;for(f=0,++r;r<o;++f,++r)a.points=[],c={width:0,height:0,edgeLabel:a,edgeObj:t,rank:r},u=j8.addDummyNode(e,"edge",c,"_d"),r===l&&(c.width=a.width,c.height=a.height,c.dummy="edge-label",c.labelpos=a.labelpos),e.setEdge(n,u,{weight:a.weight},s),f===0&&e.graph().dummyChains.push(u),n=u;e.setEdge(n,i,{weight:a.weight},s)}}function I8(e){iN.forEach(e.graph().dummyChains,function(t){var n=e.node(t),r=n.edgeLabel,i;for(e.setEdge(n.edgeObj,r);n.dummy;)i=e.successors(t)[0],e.removeNode(t),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),t=i,n=e.node(t)})}var Is=be,kl={longestPath:P8,slack:M8};function P8(e){var t={};function n(r){var i=e.node(r);if(Is.has(t,r))return i.rank;t[r]=!0;var o=Is.min(Is.map(e.outEdges(r),function(s){return n(s.w)-e.edge(s).minlen}));return(o===Number.POSITIVE_INFINITY||o===void 0||o===null)&&(o=0),i.rank=o}Is.forEach(e.sources(),n)}function M8(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var Aa=be,A8=Kt.Graph,Oa=kl.slack,oN=O8;function O8(e){var t=new A8({directed:!1}),n=e.nodes()[0],r=e.nodeCount();t.setNode(n,{});for(var i,o;L8(t,e)<r;)i=q8(t,e),o=t.hasNode(i.v)?Oa(e,i):-Oa(e,i),z8(t,e,o);return t}function L8(e,t){function n(r){Aa.forEach(t.nodeEdges(r),function(i){var o=i.v,s=r===o?i.w:o;!e.hasNode(s)&&!Oa(t,i)&&(e.setNode(s,{}),e.setEdge(r,s,{}),n(s))})}return Aa.forEach(e.nodes(),n),e.nodeCount()}function q8(e,t){return Aa.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return Oa(t,n)})}function z8(e,t,n){Aa.forEach(e.nodes(),function(r){t.node(r).rank+=n})}var jn=be,D8=oN,$8=kl.slack,F8=kl.longestPath,B8=Kt.alg.preorder,H8=Kt.alg.postorder,V8=ht.simplify,W8=Dr;Dr.initLowLimValues=Xg;Dr.initCutValues=Yg;Dr.calcCutValue=sN;Dr.leaveEdge=lN;Dr.enterEdge=uN;Dr.exchangeEdges=cN;function Dr(e){e=V8(e),F8(e);var t=D8(e);Xg(t),Yg(t,e);for(var n,r;n=lN(t);)r=uN(t,e,n),cN(t,e,n,r)}function Yg(e,t){var n=H8(e,e.nodes());n=n.slice(0,n.length-1),jn.forEach(n,function(r){U8(e,t,r)})}function U8(e,t,n){var r=e.node(n),i=r.parent;e.edge(n,i).cutvalue=sN(e,t,n)}function sN(e,t,n){var r=e.node(n),i=r.parent,o=!0,s=t.edge(n,i),a=0;return s||(o=!1,s=t.edge(i,n)),a=s.weight,jn.forEach(t.nodeEdges(n),function(l){var u=l.v===n,c=u?l.w:l.v;if(c!==i){var f=u===o,h=t.edge(l).weight;if(a+=f?h:-h,K8(e,n,c)){var p=e.edge(n,c).cutvalue;a+=f?-p:p}}}),a}function Xg(e,t){arguments.length<2&&(t=e.nodes()[0]),aN(e,{},1,t)}function aN(e,t,n,r,i){var o=n,s=e.node(r);return t[r]=!0,jn.forEach(e.neighbors(r),function(a){jn.has(t,a)||(n=aN(e,t,n,a,r))}),s.low=o,s.lim=n++,i?s.parent=i:delete s.parent,n}function lN(e){return jn.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function uN(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var o=e.node(r),s=e.node(i),a=o,l=!1;o.lim>s.lim&&(a=s,l=!0);var u=jn.filter(t.edges(),function(c){return l===Gb(e,e.node(c.v),a)&&l!==Gb(e,e.node(c.w),a)});return jn.minBy(u,function(c){return $8(t,c)})}function cN(e,t,n,r){var i=n.v,o=n.w;e.removeEdge(i,o),e.setEdge(r.v,r.w,{}),Xg(e),Yg(e,t),G8(e,t)}function G8(e,t){var n=jn.find(e.nodes(),function(i){return!t.node(i).parent}),r=B8(e,n);r=r.slice(1),jn.forEach(r,function(i){var o=e.node(i).parent,s=t.edge(i,o),a=!1;s||(s=t.edge(o,i),a=!0),t.node(i).rank=t.node(o).rank+(a?s.minlen:-s.minlen)})}function K8(e,t,n){return e.hasEdge(t,n)}function Gb(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}var Y8=kl,dN=Y8.longestPath,X8=oN,Q8=W8,Z8=J8;function J8(e){switch(e.graph().ranker){case"network-simplex":Kb(e);break;case"tight-tree":tO(e);break;case"longest-path":eO(e);break;default:Kb(e)}}var eO=dN;function tO(e){dN(e),X8(e)}function Kb(e){Q8(e)}var gm=be,nO=rO;function rO(e){var t=oO(e);gm.forEach(e.graph().dummyChains,function(n){for(var r=e.node(n),i=r.edgeObj,o=iO(e,t,i.v,i.w),s=o.path,a=o.lca,l=0,u=s[l],c=!0;n!==i.w;){if(r=e.node(n),c){for(;(u=s[l])!==a&&e.node(u).maxRank<r.rank;)l++;u===a&&(c=!1)}if(!c){for(;l<s.length-1&&e.node(u=s[l+1]).minRank<=r.rank;)l++;u=s[l]}e.setParent(n,u),n=e.successors(n)[0]}})}function iO(e,t,n,r){var i=[],o=[],s=Math.min(t[n].low,t[r].low),a=Math.max(t[n].lim,t[r].lim),l,u;l=n;do l=e.parent(l),i.push(l);while(l&&(t[l].low>s||a>t[l].lim));for(u=l,l=r;(l=e.parent(l))!==u;)o.push(l);return{path:i.concat(o.reverse()),lca:u}}function oO(e){var t={},n=0;function r(i){var o=n;gm.forEach(e.children(i),r),t[i]={low:o,lim:n++}}return gm.forEach(e.children(),r),t}var yn=be,vm=ht,sO={run:aO,cleanup:cO};function aO(e){var t=vm.addDummyNode(e,"root",{},"_root"),n=lO(e),r=yn.max(yn.values(n))-1,i=2*r+1;e.graph().nestingRoot=t,yn.forEach(e.edges(),function(s){e.edge(s).minlen*=i});var o=uO(e)+1;yn.forEach(e.children(),function(s){fN(e,t,i,o,r,n,s)}),e.graph().nodeRankFactor=i}function fN(e,t,n,r,i,o,s){var a=e.children(s);if(!a.length){s!==t&&e.setEdge(t,s,{weight:0,minlen:n});return}var l=vm.addBorderNode(e,"_bt"),u=vm.addBorderNode(e,"_bb"),c=e.node(s);e.setParent(l,s),c.borderTop=l,e.setParent(u,s),c.borderBottom=u,yn.forEach(a,function(f){fN(e,t,n,r,i,o,f);var h=e.node(f),p=h.borderTop?h.borderTop:f,y=h.borderBottom?h.borderBottom:f,v=h.borderTop?r:2*r,b=p!==y?1:i-o[s]+1;e.setEdge(l,p,{weight:v,minlen:b,nestingEdge:!0}),e.setEdge(y,u,{weight:v,minlen:b,nestingEdge:!0})}),e.parent(s)||e.setEdge(t,l,{weight:0,minlen:i+o[s]})}function lO(e){var t={};function n(r,i){var o=e.children(r);o&&o.length&&yn.forEach(o,function(s){n(s,i+1)}),t[r]=i}return yn.forEach(e.children(),function(r){n(r,1)}),t}function uO(e){return yn.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}function cO(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,yn.forEach(e.edges(),function(n){var r=e.edge(n);r.nestingEdge&&e.removeEdge(n)})}var tp=be,dO=ht,fO=hO;function hO(e){function t(n){var r=e.children(n),i=e.node(n);if(r.length&&tp.forEach(r,t),tp.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,s=i.maxRank+1;o<s;++o)Yb(e,"borderLeft","_bl",n,i,o),Yb(e,"borderRight","_br",n,i,o)}}tp.forEach(e.children(),t)}function Yb(e,t,n,r,i,o){var s={width:0,height:0,rank:o,borderType:t},a=i[t][o-1],l=dO.addDummyNode(e,"border",s,n);i[t][o]=l,e.setParent(l,r),a&&e.setEdge(a,l,{weight:1})}var en=be,pO={adjust:mO,undo:gO};function mO(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&hN(e)}function gO(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&vO(e),(t==="lr"||t==="rl")&&(yO(e),hN(e))}function hN(e){en.forEach(e.nodes(),function(t){Xb(e.node(t))}),en.forEach(e.edges(),function(t){Xb(e.edge(t))})}function Xb(e){var t=e.width;e.width=e.height,e.height=t}function vO(e){en.forEach(e.nodes(),function(t){np(e.node(t))}),en.forEach(e.edges(),function(t){var n=e.edge(t);en.forEach(n.points,np),en.has(n,"y")&&np(n)})}function np(e){e.y=-e.y}function yO(e){en.forEach(e.nodes(),function(t){rp(e.node(t))}),en.forEach(e.edges(),function(t){var n=e.edge(t);en.forEach(n.points,rp),en.has(n,"x")&&rp(n)})}function rp(e){var t=e.x;e.x=e.y,e.y=t}var dn=be,xO=wO;function wO(e){var t={},n=dn.filter(e.nodes(),function(a){return!e.children(a).length}),r=dn.max(dn.map(n,function(a){return e.node(a).rank})),i=dn.map(dn.range(r+1),function(){return[]});function o(a){if(!dn.has(t,a)){t[a]=!0;var l=e.node(a);i[l.rank].push(a),dn.forEach(e.successors(a),o)}}var s=dn.sortBy(n,function(a){return e.node(a).rank});return dn.forEach(s,o),i}var An=be,bO=_O;function _O(e,t){for(var n=0,r=1;r<t.length;++r)n+=SO(e,t[r-1],t[r]);return n}function SO(e,t,n){for(var r=An.zipObject(n,An.map(n,function(u,c){return c})),i=An.flatten(An.map(t,function(u){return An.sortBy(An.map(e.outEdges(u),function(c){return{pos:r[c.w],weight:e.edge(c).weight}}),"pos")}),!0),o=1;o<n.length;)o<<=1;var s=2*o-1;o-=1;var a=An.map(new Array(s),function(){return 0}),l=0;return An.forEach(i.forEach(function(u){var c=u.pos+o;a[c]+=u.weight;for(var f=0;c>0;)c%2&&(f+=a[c+1]),c=c-1>>1,a[c]+=u.weight;l+=u.weight*f})),l}var Qb=be,kO=EO;function EO(e,t){return Qb.map(t,function(n){var r=e.inEdges(n);if(r.length){var i=Qb.reduce(r,function(o,s){var a=e.edge(s),l=e.node(s.v);return{sum:o.sum+a.weight*l.order,weight:o.weight+a.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:n}})}var vt=be,NO=jO;function jO(e,t){var n={};vt.forEach(e,function(i,o){var s=n[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:o};vt.isUndefined(i.barycenter)||(s.barycenter=i.barycenter,s.weight=i.weight)}),vt.forEach(t.edges(),function(i){var o=n[i.v],s=n[i.w];!vt.isUndefined(o)&&!vt.isUndefined(s)&&(s.indegree++,o.out.push(n[i.w]))});var r=vt.filter(n,function(i){return!i.indegree});return CO(r)}function CO(e){var t=[];function n(o){return function(s){s.merged||(vt.isUndefined(s.barycenter)||vt.isUndefined(o.barycenter)||s.barycenter>=o.barycenter)&&TO(o,s)}}function r(o){return function(s){s.in.push(o),--s.indegree===0&&e.push(s)}}for(;e.length;){var i=e.pop();t.push(i),vt.forEach(i.in.reverse(),n(i)),vt.forEach(i.out,r(i))}return vt.map(vt.filter(t,function(o){return!o.merged}),function(o){return vt.pick(o,["vs","i","barycenter","weight"])})}function TO(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}var io=be,RO=ht,IO=PO;function PO(e,t){var n=RO.partition(e,function(c){return io.has(c,"barycenter")}),r=n.lhs,i=io.sortBy(n.rhs,function(c){return-c.i}),o=[],s=0,a=0,l=0;r.sort(MO(!!t)),l=Zb(o,i,l),io.forEach(r,function(c){l+=c.vs.length,o.push(c.vs),s+=c.barycenter*c.weight,a+=c.weight,l=Zb(o,i,l)});var u={vs:io.flatten(o,!0)};return a&&(u.barycenter=s/a,u.weight=a),u}function Zb(e,t,n){for(var r;t.length&&(r=io.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}function MO(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}var Hn=be,AO=kO,OO=NO,LO=IO,qO=pN;function pN(e,t,n,r){var i=e.children(t),o=e.node(t),s=o?o.borderLeft:void 0,a=o?o.borderRight:void 0,l={};s&&(i=Hn.filter(i,function(y){return y!==s&&y!==a}));var u=AO(e,i);Hn.forEach(u,function(y){if(e.children(y.v).length){var v=pN(e,y.v,n,r);l[y.v]=v,Hn.has(v,"barycenter")&&DO(y,v)}});var c=OO(u,n);zO(c,l);var f=LO(c,r);if(s&&(f.vs=Hn.flatten([s,f.vs,a],!0),e.predecessors(s).length)){var h=e.node(e.predecessors(s)[0]),p=e.node(e.predecessors(a)[0]);Hn.has(f,"barycenter")||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+h.order+p.order)/(f.weight+2),f.weight+=2}return f}function zO(e,t){Hn.forEach(e,function(n){n.vs=Hn.flatten(n.vs.map(function(r){return t[r]?t[r].vs:r}),!0)})}function DO(e,t){Hn.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var oo=be,$O=Kt.Graph,FO=BO;function BO(e,t,n){var r=HO(e),i=new $O({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(o){return e.node(o)});return oo.forEach(e.nodes(),function(o){var s=e.node(o),a=e.parent(o);(s.rank===t||s.minRank<=t&&t<=s.maxRank)&&(i.setNode(o),i.setParent(o,a||r),oo.forEach(e[n](o),function(l){var u=l.v===o?l.w:l.v,c=i.edge(u,o),f=oo.isUndefined(c)?0:c.weight;i.setEdge(u,o,{weight:e.edge(l).weight+f})}),oo.has(s,"minRank")&&i.setNode(o,{borderLeft:s.borderLeft[t],borderRight:s.borderRight[t]}))}),i}function HO(e){for(var t;e.hasNode(t=oo.uniqueId("_root")););return t}var VO=be,WO=UO;function UO(e,t,n){var r={},i;VO.forEach(n,function(o){for(var s=e.parent(o),a,l;s;){if(a=e.parent(s),a?(l=r[a],r[a]=s):(l=i,i=s),l&&l!==s){t.setEdge(l,s);return}s=a}})}var tr=be,GO=xO,KO=bO,YO=qO,XO=FO,QO=WO,ZO=Kt.Graph,Jb=ht,JO=eL;function eL(e){var t=Jb.maxRank(e),n=e_(e,tr.range(1,t+1),"inEdges"),r=e_(e,tr.range(t-1,-1,-1),"outEdges"),i=GO(e);t_(e,i);for(var o=Number.POSITIVE_INFINITY,s,a=0,l=0;l<4;++a,++l){tL(a%2?n:r,a%4>=2),i=Jb.buildLayerMatrix(e);var u=KO(e,i);u<o&&(l=0,s=tr.cloneDeep(i),o=u)}t_(e,s)}function e_(e,t,n){return tr.map(t,function(r){return XO(e,r,n)})}function tL(e,t){var n=new ZO;tr.forEach(e,function(r){var i=r.graph().root,o=YO(r,i,n,t);tr.forEach(o.vs,function(s,a){r.node(s).order=a}),QO(r,n,o.vs)})}function t_(e,t){tr.forEach(t,function(n){tr.forEach(n,function(r,i){e.node(r).order=i})})}var J=be,nL=Kt.Graph,rL=ht,iL={positionX:mL};function oL(e,t){var n={};function r(i,o){var s=0,a=0,l=i.length,u=J.last(o);return J.forEach(o,function(c,f){var h=aL(e,c),p=h?e.node(h).order:l;(h||c===u)&&(J.forEach(o.slice(a,f+1),function(y){J.forEach(e.predecessors(y),function(v){var b=e.node(v),m=b.order;(m<s||p<m)&&!(b.dummy&&e.node(y).dummy)&&mN(n,v,y)})}),a=f+1,s=p)}),o}return J.reduce(t,r),n}function sL(e,t){var n={};function r(o,s,a,l,u){var c;J.forEach(J.range(s,a),function(f){c=o[f],e.node(c).dummy&&J.forEach(e.predecessors(c),function(h){var p=e.node(h);p.dummy&&(p.order<l||p.order>u)&&mN(n,h,c)})})}function i(o,s){var a=-1,l,u=0;return J.forEach(s,function(c,f){if(e.node(c).dummy==="border"){var h=e.predecessors(c);h.length&&(l=e.node(h[0]).order,r(s,u,f,a,l),u=f,a=l)}r(s,u,s.length,l,o.length)}),s}return J.reduce(t,i),n}function aL(e,t){if(e.node(t).dummy)return J.find(e.predecessors(t),function(n){return e.node(n).dummy})}function mN(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function lL(e,t,n){if(t>n){var r=t;t=n,n=r}return J.has(e[t],n)}function uL(e,t,n,r){var i={},o={},s={};return J.forEach(t,function(a){J.forEach(a,function(l,u){i[l]=l,o[l]=l,s[l]=u})}),J.forEach(t,function(a){var l=-1;J.forEach(a,function(u){var c=r(u);if(c.length){c=J.sortBy(c,function(v){return s[v]});for(var f=(c.length-1)/2,h=Math.floor(f),p=Math.ceil(f);h<=p;++h){var y=c[h];o[u]===u&&l<s[y]&&!lL(n,u,y)&&(o[y]=u,o[u]=i[u]=i[y],l=s[y])}}})}),{root:i,align:o}}function cL(e,t,n,r,i){var o={},s=dL(e,t,n,i),a=i?"borderLeft":"borderRight";function l(f,h){for(var p=s.nodes(),y=p.pop(),v={};y;)v[y]?f(y):(v[y]=!0,p.push(y),p=p.concat(h(y))),y=p.pop()}function u(f){o[f]=s.inEdges(f).reduce(function(h,p){return Math.max(h,o[p.v]+s.edge(p))},0)}function c(f){var h=s.outEdges(f).reduce(function(y,v){return Math.min(y,o[v.w]-s.edge(v))},Number.POSITIVE_INFINITY),p=e.node(f);h!==Number.POSITIVE_INFINITY&&p.borderType!==a&&(o[f]=Math.max(o[f],h))}return l(u,s.predecessors.bind(s)),l(c,s.successors.bind(s)),J.forEach(r,function(f){o[f]=o[n[f]]}),o}function dL(e,t,n,r){var i=new nL,o=e.graph(),s=gL(o.nodesep,o.edgesep,r);return J.forEach(t,function(a){var l;J.forEach(a,function(u){var c=n[u];if(i.setNode(c),l){var f=n[l],h=i.edge(f,c);i.setEdge(f,c,Math.max(s(e,u,l),h||0))}l=u})}),i}function fL(e,t){return J.minBy(J.values(t),function(n){var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return J.forIn(n,function(o,s){var a=vL(e,s)/2;r=Math.max(o+a,r),i=Math.min(o-a,i)}),r-i})}function hL(e,t){var n=J.values(t),r=J.min(n),i=J.max(n);J.forEach(["u","d"],function(o){J.forEach(["l","r"],function(s){var a=o+s,l=e[a],u;if(l!==t){var c=J.values(l);u=s==="l"?r-J.min(c):i-J.max(c),u&&(e[a]=J.mapValues(l,function(f){return f+u}))}})})}function pL(e,t){return J.mapValues(e.ul,function(n,r){if(t)return e[t.toLowerCase()][r];var i=J.sortBy(J.map(e,r));return(i[1]+i[2])/2})}function mL(e){var t=rL.buildLayerMatrix(e),n=J.merge(oL(e,t),sL(e,t)),r={},i;J.forEach(["u","d"],function(s){i=s==="u"?t:J.values(t).reverse(),J.forEach(["l","r"],function(a){a==="r"&&(i=J.map(i,function(f){return J.values(f).reverse()}));var l=(s==="u"?e.predecessors:e.successors).bind(e),u=uL(e,i,n,l),c=cL(e,i,u.root,u.align,a==="r");a==="r"&&(c=J.mapValues(c,function(f){return-f})),r[s+a]=c})});var o=fL(e,r);return hL(r,o),pL(r,e.graph().align)}function gL(e,t,n){return function(r,i,o){var s=r.node(i),a=r.node(o),l=0,u;if(l+=s.width/2,J.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":u=-s.width/2;break;case"r":u=s.width/2;break}if(u&&(l+=n?u:-u),u=0,l+=(s.dummy?t:e)/2,l+=(a.dummy?t:e)/2,l+=a.width/2,J.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":u=a.width/2;break;case"r":u=-a.width/2;break}return u&&(l+=n?u:-u),u=0,l}}function vL(e,t){return e.node(t).width}var so=be,gN=ht,yL=iL.positionX,xL=wL;function wL(e){e=gN.asNonCompoundGraph(e),bL(e),so.forEach(yL(e),function(t,n){e.node(n).x=t})}function bL(e){var t=gN.buildLayerMatrix(e),n=e.graph().ranksep,r=0;so.forEach(t,function(i){var o=so.max(so.map(i,function(s){return e.node(s).height}));so.forEach(i,function(s){e.node(s).y=r+o/2}),r+=o+n})}var ee=be,n_=d8,r_=C8,_L=Z8,SL=ht.normalizeRanks,kL=nO,EL=ht.removeEmptyRanks,i_=sO,NL=fO,o_=pO,jL=JO,CL=xL,or=ht,TL=Kt.Graph,RL=IL;function IL(e,t){var n=t&&t.debugTiming?or.time:or.notime;n("layout",function(){var r=n("  buildLayoutGraph",function(){return BL(e)});n("  runLayout",function(){PL(r,n)}),n("  updateInputGraph",function(){ML(e,r)})})}function PL(e,t){t("    makeSpaceForEdgeLabels",function(){HL(e)}),t("    removeSelfEdges",function(){ZL(e)}),t("    acyclic",function(){n_.run(e)}),t("    nestingGraph.run",function(){i_.run(e)}),t("    rank",function(){_L(or.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){VL(e)}),t("    removeEmptyRanks",function(){EL(e)}),t("    nestingGraph.cleanup",function(){i_.cleanup(e)}),t("    normalizeRanks",function(){SL(e)}),t("    assignRankMinMax",function(){WL(e)}),t("    removeEdgeLabelProxies",function(){UL(e)}),t("    normalize.run",function(){r_.run(e)}),t("    parentDummyChains",function(){kL(e)}),t("    addBorderSegments",function(){NL(e)}),t("    order",function(){jL(e)}),t("    insertSelfEdges",function(){JL(e)}),t("    adjustCoordinateSystem",function(){o_.adjust(e)}),t("    position",function(){CL(e)}),t("    positionSelfEdges",function(){eq(e)}),t("    removeBorderNodes",function(){QL(e)}),t("    normalize.undo",function(){r_.undo(e)}),t("    fixupEdgeLabelCoords",function(){YL(e)}),t("    undoCoordinateSystem",function(){o_.undo(e)}),t("    translateGraph",function(){GL(e)}),t("    assignNodeIntersects",function(){KL(e)}),t("    reversePoints",function(){XL(e)}),t("    acyclic.undo",function(){n_.undo(e)})}function ML(e,t){ee.forEach(e.nodes(),function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))}),ee.forEach(e.edges(),function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,ee.has(i,"x")&&(r.x=i.x,r.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var AL=["nodesep","edgesep","ranksep","marginx","marginy"],OL={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},LL=["acyclicer","ranker","rankdir","align"],qL=["width","height"],zL={width:0,height:0},DL=["minlen","weight","width","height","labeloffset"],$L={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},FL=["labelpos"];function BL(e){var t=new TL({multigraph:!0,compound:!0}),n=op(e.graph());return t.setGraph(ee.merge({},OL,ip(n,AL),ee.pick(n,LL))),ee.forEach(e.nodes(),function(r){var i=op(e.node(r));t.setNode(r,ee.defaults(ip(i,qL),zL)),t.setParent(r,e.parent(r))}),ee.forEach(e.edges(),function(r){var i=op(e.edge(r));t.setEdge(r,ee.merge({},$L,ip(i,DL),ee.pick(i,FL)))}),t}function HL(e){var t=e.graph();t.ranksep/=2,ee.forEach(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function VL(e){ee.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i=e.node(t.w),o={rank:(i.rank-r.rank)/2+r.rank,e:t};or.addDummyNode(e,"edge-proxy",o,"_ep")}})}function WL(e){var t=0;ee.forEach(e.nodes(),function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=ee.max(t,r.maxRank))}),e.graph().maxRank=t}function UL(e){ee.forEach(e.nodes(),function(t){var n=e.node(t);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function GL(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=e.graph(),s=o.marginx||0,a=o.marginy||0;function l(u){var c=u.x,f=u.y,h=u.width,p=u.height;t=Math.min(t,c-h/2),n=Math.max(n,c+h/2),r=Math.min(r,f-p/2),i=Math.max(i,f+p/2)}ee.forEach(e.nodes(),function(u){l(e.node(u))}),ee.forEach(e.edges(),function(u){var c=e.edge(u);ee.has(c,"x")&&l(c)}),t-=s,r-=a,ee.forEach(e.nodes(),function(u){var c=e.node(u);c.x-=t,c.y-=r}),ee.forEach(e.edges(),function(u){var c=e.edge(u);ee.forEach(c.points,function(f){f.x-=t,f.y-=r}),ee.has(c,"x")&&(c.x-=t),ee.has(c,"y")&&(c.y-=r)}),o.width=n-t+s,o.height=i-r+a}function KL(e){ee.forEach(e.edges(),function(t){var n=e.edge(t),r=e.node(t.v),i=e.node(t.w),o,s;n.points?(o=n.points[0],s=n.points[n.points.length-1]):(n.points=[],o=i,s=r),n.points.unshift(or.intersectRect(r,o)),n.points.push(or.intersectRect(i,s))})}function YL(e){ee.forEach(e.edges(),function(t){var n=e.edge(t);if(ee.has(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function XL(e){ee.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}function QL(e){ee.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),o=e.node(ee.last(n.borderLeft)),s=e.node(ee.last(n.borderRight));n.width=Math.abs(s.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}}),ee.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function ZL(e){ee.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function JL(e){var t=or.buildLayerMatrix(e);ee.forEach(t,function(n){var r=0;ee.forEach(n,function(i,o){var s=e.node(i);s.order=o+r,ee.forEach(s.selfEdges,function(a){or.addDummyNode(e,"selfedge",{width:a.label.width,height:a.label.height,rank:s.rank,order:o+ ++r,e:a.e,label:a.label},"_se")}),delete s.selfEdges})})}function eq(e){ee.forEach(e.nodes(),function(t){var n=e.node(t);if(n.dummy==="selfedge"){var r=e.node(n.e.v),i=r.x+r.width/2,o=r.y,s=n.x-i,a=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*s/3,y:o-a},{x:i+5*s/6,y:o-a},{x:i+s,y:o},{x:i+5*s/6,y:o+a},{x:i+2*s/3,y:o+a}],n.label.x=n.x,n.label.y=n.y}})}function ip(e,t){return ee.mapValues(ee.pick(e,t),Number)}function op(e){var t={};return ee.forEach(e,function(n,r){t[r.toLowerCase()]=n}),t}var Ps=be,tq=ht,nq=Kt.Graph,rq={debugOrdering:iq};function iq(e){var t=tq.buildLayerMatrix(e),n=new nq({compound:!0,multigraph:!0}).setGraph({});return Ps.forEach(e.nodes(),function(r){n.setNode(r,{label:r}),n.setParent(r,"layer"+e.node(r).rank)}),Ps.forEach(e.edges(),function(r){n.setEdge(r.v,r.w,{},r.name)}),Ps.forEach(t,function(r,i){var o="layer"+i;n.setNode(o,{rank:"same"}),Ps.reduce(r,function(s,a){return n.setEdge(s,a,{style:"invis"}),a})}),n}var oq="0.8.5",sq={graphlib:Kt,layout:RL,debug:rq,util:{time:ht.time,notime:ht.notime},version:oq};const s_=ym(sq),a_=(e,t)=>{const n=new s_.graphlib.Graph;return n.setGraph({rankdir:"TB",align:"UL",nodesep:20,ranksep:70,marginx:100,marginy:30,ranker:"longest-path"}),n.setDefaultEdgeLabel(()=>({})),e.forEach(r=>{n.setNode(r.id,{width:r.data.width??280,height:r.data.height??90})}),t.forEach(r=>{n.setEdge(r.source,r.target)}),s_.layout(n),{nodes:e.map(r=>{const i=n.node(r.id);return{...r,targetPosition:X.Top,sourcePosition:X.Bottom,position:{x:i.x-(r.data.width??280)/2,y:i.y-(r.data.height??90)/2}}}),edges:t}},l_=(e,t,n)=>{let r=[],i=[],o=null,s=null,a=[];const l=n.theme||"industrial";return e.forEach((u,c)=>{var y,v;if((u.level||1)!==1)return;const f=280;let h=95;u.state==="active"&&u.stations&&(h+=35);const p=t===u.id;if(r.push({id:u.id,type:"documentNode",data:{...u,width:f,height:h,isExpanded:p,...n},draggable:!1,connectable:!1,position:{x:0,y:0},zIndex:p?1e3:0}),o){const b=(y=e[c-1])==null?void 0:y.state;i.push({id:"e-"+o+"-"+u.id,source:o,target:u.id,type:"smoothstep",animated:b==="active",style:{stroke:Jk(b,l),strokeWidth:3}})}((v=u.children)==null?void 0:v.length)>0&&(s=u.id,a=u.children),o=u.id}),{nodes:r,edges:i,epicBacklogId:s,epicChildren:a}},u_=(e,t,n,r,i)=>{const{nodes:o,edges:s}=e;if(!t||!n.length)return{nodes:o,edges:s};const a=o.find(w=>w.id===t);if(!a)return{nodes:o,edges:s};const l=a.position.x,u=a.position.y+(a.data.height||95),c=a.data.state,f=i.theme||"industrial",h=Jk(c,f),p=c==="active",y=Lt.EPIC_HEIGHT+Lt.EPIC_GAP_Y,v=Math.ceil(n.length/Lt.EPICS_PER_ROW),b=l+280*.15,m=50,g={};n.forEach((w,x)=>{const k=Math.floor(x/Lt.EPICS_PER_ROW);g[k]||(g[k]=[]),g[k].push({epic:w,idx:x})});for(let w=0;w<v;w++){const x=g[w]||[];if(x.length===0)continue;const k=u+Lt.EPIC_OFFSET_Y+w*y,E=`junction-row-${w}`;o.push({id:E,type:"waypoint",position:{x:b,y:k-m},draggable:!1,connectable:!1,selectable:!1}),w===0?s.push({id:`e-spine-drop-${w}`,source:t,target:E,type:"straight",animated:p,style:{stroke:h,strokeWidth:2}}):s.push({id:`e-spine-${w-1}-to-${w}`,source:`junction-row-${w-1}`,target:E,type:"straight",animated:p,style:{stroke:h,strokeWidth:2}}),x.forEach(({epic:N,idx:j})=>{const T=j%Lt.EPICS_PER_ROW,A=l+Lt.EPIC_OFFSET_X+T*(Lt.EPIC_WIDTH+Lt.EPIC_GAP_X),M=k,$=r===N.id;o.push({id:N.id,type:"documentNode",data:{...N,width:Lt.EPIC_WIDTH,height:Lt.EPIC_HEIGHT,isExpanded:$,...i},draggable:!1,connectable:!1,position:{x:A,y:M},targetPosition:X.Top,sourcePosition:X.Bottom,zIndex:$?1e3:0}),s.push({id:`e-branch-${N.id}`,source:E,target:N.id,type:"smoothstep",pathOptions:{borderRadius:20},animated:p,style:{stroke:h,strokeWidth:2}})})}return{nodes:o,edges:s}},aq={produced:"produced",in_production:"in_production",ready_for_production:"ready_for_production",requirements_not_met:"requirements_not_met",awaiting_operator:"awaiting_operator",halted:"halted",queued:"ready_for_production",blocked:"requirements_not_met",assembling:"in_production",binding:"in_production",auditing:"in_production",remediating:"in_production",stabilized:"produced"},c_={pgc:"PGC",bind:"BIND",asm:"ASM",aud:"AUD",rem:"REM",done:"DONE"};function lq(e){const t={};for(const n of e.projects)t[n.id]={id:n.id,projectId:n.project_id,name:n.name,description:n.description||"",status:n.status==="active"?"active":n.is_archived?"complete":"queued",icon:n.icon,createdAt:n.created_at,isArchived:n.is_archived||!1};return t}function uq(e,t=[]){const n=[],r=[],i={};for(const o of e.tracks){const s=cq(o,t);if((o.scope||"project")==="project")r.push({...s,mayOwn:o.may_own||[],childDocType:o.child_doc_type});else{const l=o.document_type;i[l]||(i[l]=[]),i[l].push(s)}}for(const o of r)o.childDocType&&i[o.childDocType]&&(o.children=i[o.childDocType].map(s=>({...s,level:2}))),n.push(o);return n}function cq(e,t=[]){const n=aq[e.state]||"ready_for_production",r=e.state==="awaiting_operator",i=t.find(a=>a.document_type===e.document_type);let o=null;(n==="in_production"||r)&&(o=dq(e.stations,e.state,e.station));let s=null;return i&&i.questions&&(s=i.questions.map((a,l)=>({id:a.id||`q${l+1}`,text:a.question||a.text||a,required:a.required!==!1}))),{id:e.document_type,name:e.document_name||fq(e.document_type),desc:e.description||"",state:n,intent:"mandatory",level:1,stations:o,questions:s,interruptId:i==null?void 0:i.id,blockedBy:e.blocked_by||[]}}function dq(e,t,n){if(!e||e.length===0){const r=n||(t==="awaiting_operator"?"pgc":t==="in_production"?"asm":null);return du.map(i=>({id:i,label:c_[i]||i.toUpperCase(),state:r===i?"active":du.indexOf(i)<du.indexOf(r)?"complete":"pending",needs_input:i==="pgc"&&t==="awaiting_operator"}))}return e.map(r=>({id:r.station,label:c_[r.station]||r.station.toUpperCase(),state:r.state||"pending",needs_input:r.needs_input||!1}))}function fq(e){return e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function hq({includeArchived:e=!1}={}){const[t,n]=_.useState({}),[r,i]=_.useState(!0),[o,s]=_.useState(null),a=_.useCallback(async()=>{i(!0),s(null);try{const u=await Pe.getProjects({includeArchived:e}),c=lq(u);n(c)}catch(u){s(u.message),console.error("Failed to fetch projects:",u)}finally{i(!1)}},[e]),l=_.useCallback(async u=>{try{const c=await Pe.createProject({name:u,description:""});return n(f=>({...f,[c.id]:{id:c.id,projectId:c.project_id,name:c.name,description:c.description||"",status:"active",icon:c.icon,createdAt:c.created_at}})),c}catch(c){throw s(c.message),console.error("Failed to create project:",c),c}},[]);return _.useEffect(()=>{a()},[a]),{projects:t,loading:r,error:o,addProject:l,refresh:a}}function pq(e){const[t,n]=_.useState([]),[r,i]=_.useState("idle"),[o,s]=_.useState([]),[a,l]=_.useState(!0),[u,c]=_.useState(null),[f,h]=_.useState(!1),p=_.useRef(null),y=_.useRef(null),v=_.useCallback(async()=>{if(e)try{l(!0),c(null);const[x,k]=await Promise.all([Pe.getProductionStatus(e),Pe.getProjectInterrupts(e).catch(()=>[])]);s(k),i(x.line_state),n(uq(x,k))}catch(x){c(x.message),console.error("Failed to fetch production status:",x)}finally{l(!1)}},[e]),b=_.useCallback(()=>{if(!e)return;p.current&&p.current.close();const x=qP(e);p.current=x,x.addEventListener("connected",()=>{h(!0),c(null),console.log(`SSE connected for project ${e}`)}),x.addEventListener("station_transition",k=>{try{const E=JSON.parse(k.data);console.log("Station transition:",E),v()}catch(E){console.error("Failed to parse station_transition:",E)}}),x.addEventListener("line_stopped",k=>{try{const E=JSON.parse(k.data);console.log("Line stopped:",E),i("stopped"),v()}catch(E){console.error("Failed to parse line_stopped:",E)}}),x.addEventListener("production_complete",k=>{try{const E=JSON.parse(k.data);console.log("Production complete:",E),i("complete"),v()}catch(E){console.error("Failed to parse production_complete:",E)}}),x.addEventListener("interrupt_resolved",k=>{try{const E=JSON.parse(k.data);console.log("Interrupt resolved:",E),v()}catch(E){console.error("Failed to parse interrupt_resolved:",E)}}),x.addEventListener("track_started",k=>{try{const E=JSON.parse(k.data);console.log("Track started:",E),i("active"),v()}catch(E){console.error("Failed to parse track_started:",E)}}),x.onerror=k=>{console.error("SSE error:",k),h(!1),c("Connection lost"),x.close(),y.current=setTimeout(()=>{console.log("Attempting SSE reconnect..."),b()},3e3)}},[e,v]),m=_.useCallback(()=>{y.current&&clearTimeout(y.current),p.current&&(p.current.close(),p.current=null),h(!1)},[]),g=_.useCallback(async(x,k)=>{try{await Pe.resolveInterrupt(x,{answers:k}),await v()}catch(E){throw console.error("Failed to resolve interrupt:",E),E}},[v]),w=_.useCallback(async(x=null)=>{try{await Pe.startProduction(e,x),i("active"),await v()}catch(k){throw console.error("Failed to start production:",k),k}},[e,v]);return _.useEffect(()=>(v(),b(),()=>m()),[v,b,m]),{data:t,lineState:r,interrupts:o,loading:a,error:u,connected:f,refresh:v,resolveInterrupt:g,startProduction:w}}const d_="combine-theme";function vN(e="industrial"){const[t,n]=_.useState(()=>{if(typeof window>"u")return e;const o=localStorage.getItem(d_);return o&&Bn.includes(o)?o:e});_.useEffect(()=>{localStorage.setItem(d_,t)},[t]);const r=_.useCallback(o=>{Bn.includes(o)&&n(o)},[]),i=_.useCallback(()=>{n(o=>{const s=Bn.indexOf(o);return Bn[(s+1)%Bn.length]})},[]);return{theme:t,setTheme:r,cycleTheme:i}}function mq(){const[e,t]=_.useState(null),[n,r]=_.useState("idle"),[i,o]=_.useState([]),[s,a]=_.useState(null),[l,u]=_.useState(null),[c,f]=_.useState({}),[h,p]=_.useState(0),[y,v]=_.useState([]),[b,m]=_.useState(!1),[g,w]=_.useState(null),[x,k]=_.useState(null),[E,N]=_.useState(null),[j,T]=_.useState(!1),[A,M]=_.useState(!1),$=_.useRef(null),q=_.useRef(!0);_.useEffect(()=>(q.current=!0,()=>{q.current=!1,$.current&&$.current.close()}),[]);const S=_.useCallback(O=>{q.current&&(r(O.phase),o(O.messages||[]),a(O.pending_prompt),u(O.pending_choices),f(O.interpretation||{}),p(O.confidence||0),v(O.missing_fields||[]),m(O.can_initialize||!1),w(O.gate_outcome),k(O.project))},[]),I=_.useCallback(async()=>{N(null),T(!0);try{const O=await Pe.startIntake();if(!q.current)return;t(O.execution_id),r(O.phase||"describe"),a(O.pending_prompt),o([]),f({}),k(null),w(null)}catch(O){if(!q.current)return;N(O.message||"Failed to start intake")}finally{q.current&&T(!1)}},[]),R=_.useCallback(async O=>{if(!e||!O.trim())return;N(null),M(!0);const D={role:"user",content:O};o(B=>[...B,D]);try{const B=await Pe.submitIntakeMessage(e,O);if(!q.current)return;S(B)}catch(B){if(!q.current)return;o(V=>V.filter(K=>K!==D)),N(B.message||"Failed to submit message")}finally{q.current&&M(!1)}},[e,S]),z=_.useCallback(async(O,D)=>{if(e){N(null),f(B=>({...B,[O]:{value:D,source:"user",locked:!0}}));try{const B=await Pe.updateIntakeField(e,O,D);if(!q.current)return;S(B)}catch(B){if(!q.current)return;N(B.message||"Failed to update field");const V=await Pe.getIntakeState(e);q.current&&S(V)}}},[e,S]),P=_.useCallback(async()=>{if(!(!e||!b)){N(null),T(!0);try{const O=await Pe.initializeIntake(e);if(!q.current)return;S(O),O.phase==="generating"&&C()}catch(O){if(!q.current)return;N(O.message||"Failed to initialize project"),T(!1)}}},[e,b,S]),C=_.useCallback(()=>{$.current&&$.current.close();const O=zP(e);$.current=O,O.addEventListener("started",D=>{if(!q.current)return;const B=JSON.parse(D.data);console.log("Intake started:",B)}),O.addEventListener("progress",D=>{if(!q.current)return;const B=JSON.parse(D.data);console.log("Intake progress:",B.current_node)}),O.addEventListener("complete",async D=>{if(!q.current)return;const B=JSON.parse(D.data);console.log("Intake complete:",B),O.close(),$.current=null,r("complete"),w(B.gate_outcome),k(B.project),T(!1)}),O.addEventListener("error",D=>{if(q.current&&O.readyState!==EventSource.CLOSED){try{const B=JSON.parse(D.data);N(B.message||"Generation failed")}catch{N("Connection lost during generation")}O.close(),$.current=null,T(!1)}}),O.onerror=()=>{q.current&&O.readyState===EventSource.CLOSED&&($.current=null,T(!1))}},[e]),L=_.useCallback(()=>{$.current&&($.current.close(),$.current=null),t(null),r("idle"),o([]),a(null),u(null),f({}),p(0),v([]),m(!1),w(null),k(null),N(null),T(!1),M(!1)},[]);return{executionId:e,phase:n,messages:i,pendingPrompt:s,pendingChoices:l,interpretation:c,confidence:h,missingFields:y,canInitialize:b,gateOutcome:g,project:x,error:E,loading:j,submitting:A,startIntake:I,submitMessage:R,updateField:z,lockAndGenerate:P,reset:L}}const yN=_.createContext(null);function gq({children:e}){const[t,n]=_.useState(null),[r,i]=_.useState(!0),[o,s]=_.useState(null);_.useEffect(()=>{a()},[]);const a=_.useCallback(async()=>{i(!0),s(null);try{const f=await Pe.getMe();f&&f.user?n(f.user):n(null)}catch(f){console.error("Auth check failed:",f),s(f.message),n(null)}finally{i(!1)}},[]),l=_.useCallback(f=>{window.location.href=DP(f)},[]),u=_.useCallback(async()=>{try{await Pe.logout(),n(null),window.location.href="/"}catch(f){console.error("Logout failed:",f),n(null)}},[]),c={user:t,loading:r,error:o,isAuthenticated:!!t,isAdmin:(t==null?void 0:t.is_admin)||!1,login:l,logout:u,checkAuth:a};return d.jsx(yN.Provider,{value:c,children:e})}function Pi(){const e=_.useContext(yN);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}const vq="/api/v1/admin";class yq extends Error{constructor(t,n,r){super(t),this.name="AdminApiError",this.status=n,this.data=r,this.errorCode=r==null?void 0:r.error_code}}function xq(){const e=document.cookie.match(/(?:^|;\s*)csrf=([^;]*)/);return e?decodeURIComponent(e[1]):null}async function Qe(e,t={}){var o;const n=`${vq}${e}`,r={headers:{"Content-Type":"application/json",...t.headers},credentials:"same-origin",...t};if(t.method&&t.method!=="GET"){const s=xq();s&&(r.headers["X-CSRF-Token"]=s)}const i=await fetch(n,r);if(!i.ok){const s=await i.json().catch(()=>({})),a=((o=s.detail)==null?void 0:o.message)||s.detail||`Request failed: ${i.status}`;throw new yq(a,i.status,s.detail||s)}return i.status===204?null:i.json()}const Vt={getCurrentWorkspace:async()=>{try{return await Qe("/workspaces/current")}catch(e){if(e.status===404&&e.errorCode==="NO_WORKSPACE")return null;throw e}},createWorkspace:()=>Qe("/workspaces",{method:"POST"}),getWorkspaceState:e=>Qe(`/workspaces/${e}/state`),closeWorkspace:(e,t=!1)=>Qe(`/workspaces/${e}?force=${t}`,{method:"DELETE"}),getArtifact:(e,t)=>Qe(`/workspaces/${e}/artifacts/${t}`),writeArtifact:(e,t,n)=>Qe(`/workspaces/${e}/artifacts/${t}`,{method:"PUT",body:JSON.stringify({content:n})}),getPreview:(e,t,n="execution")=>Qe(`/workspaces/${e}/preview/${t}?mode=${n}`),commit:(e,t)=>Qe(`/workspaces/${e}/commit`,{method:"POST",body:JSON.stringify({message:t})}),discard:e=>Qe(`/workspaces/${e}/discard`,{method:"POST"}),getDocumentTypes:()=>Qe("/workbench/document-types"),getDocumentType:(e,t=null)=>{const n=t?`?version=${t}`:"";return Qe(`/workbench/document-types/${e}${n}`)},getDocumentTypeVersions:e=>Qe(`/workbench/document-types/${e}/versions`),getRoles:()=>Qe("/workbench/roles"),getRole:(e,t=null)=>{const n=t?`?version=${t}`:"";return Qe(`/workbench/roles/${e}${n}`)},getActiveReleases:()=>Qe("/workbench/active-releases"),invalidateCache:()=>Qe("/workbench/cache/invalidate",{method:"POST"})};function wq(){const[e,t]=_.useState(null),[n,r]=_.useState(null),[i,o]=_.useState(!0),[s,a]=_.useState(null),l=_.useCallback(async()=>{o(!0),a(null);try{let c=await Vt.getCurrentWorkspace();c||(c=await Vt.createWorkspace()),t(c.workspace_id),r(c.branch)}catch(c){a(c.message),console.error("Failed to initialize workspace:",c)}finally{o(!1)}},[]),u=_.useCallback(async(c=!1)=>{if(e)try{await Vt.closeWorkspace(e,c),t(null),r(null)}catch(f){throw f}},[e]);return _.useEffect(()=>{l()},[l]),{workspaceId:e,branch:n,loading:i,error:s,closeWorkspace:u,reinitialize:l}}function bq(e,t=1e4){var c,f;const[n,r]=_.useState(null),[i,o]=_.useState(!0),[s,a]=_.useState(null),l=_.useRef(null),u=_.useCallback(async()=>{if(!e){r(null),o(!1);return}try{const h=await Vt.getWorkspaceState(e);r(h),a(null)}catch(h){a(h.message),console.error("Failed to fetch workspace state:",h)}finally{o(!1)}},[e]);return _.useEffect(()=>{e&&(o(!0),u())},[e,u]),_.useEffect(()=>{if(!(!e||!t))return l.current=setInterval(u,t),()=>{l.current&&clearInterval(l.current)}},[e,t,u]),{state:n,loading:i,error:s,refresh:u,isDirty:(n==null?void 0:n.is_dirty)??!1,modifiedArtifacts:(n==null?void 0:n.modified_artifacts)??[],tier1Passed:((c=n==null?void 0:n.tier1)==null?void 0:c.passed)??!0,tier1Results:((f=n==null?void 0:n.tier1)==null?void 0:f.results)??[],expiresAt:n!=null&&n.expires_at?new Date(n.expires_at):null}}function _q(){const[e,t]=_.useState([]),[n,r]=_.useState(!0),[i,o]=_.useState(null),s=_.useCallback(async()=>{r(!0),o(null);try{const a=await Vt.getDocumentTypes();t(a.document_types||[])}catch(a){o(a.message),console.error("Failed to fetch document types:",a)}finally{r(!1)}},[]);return _.useEffect(()=>{s()},[s]),{documentTypes:e,loading:n,error:i,refresh:s}}function Sq(e,t,{debounceMs:n=500,onSave:r}={}){const[i,o]=_.useState(""),[s,a]=_.useState(""),[l,u]=_.useState(!0),[c,f]=_.useState(null),[h,p]=_.useState(!1),[y,v]=_.useState(null),b=_.useRef(null),m=_.useRef(null),g=_.useCallback(async()=>{if(!e||!t){o(""),a(""),u(!1);return}u(!0),f(null);try{const j=await Vt.getArtifact(e,t);o(j.content),a(j.content)}catch(j){f(j.message),console.error("Failed to load artifact:",j)}finally{u(!1)}},[e,t]),w=_.useCallback(async j=>{if(!(!e||!t)){p(!0),f(null);try{const T=await Vt.writeArtifact(e,t,j);v(T),a(j),r&&r(T)}catch(T){f(T.message),console.error("Failed to save artifact:",T)}finally{p(!1)}}},[e,t,r]),x=_.useCallback(j=>{m.current=j,b.current&&clearTimeout(b.current),b.current=setTimeout(()=>{m.current!==null&&(w(m.current),m.current=null)},n)},[w,n]),k=_.useCallback(j=>{o(j),j!==s&&x(j)},[s,x]),E=_.useCallback(()=>{b.current&&clearTimeout(b.current),m.current=null,o(s)},[s]),N=_.useCallback(()=>{b.current&&clearTimeout(b.current),i!==s&&w(i)},[i,s,w]);return _.useEffect(()=>(g(),()=>{b.current&&clearTimeout(b.current)}),[g]),{content:i,originalContent:s,loading:l,error:c,saving:h,lastSaveResult:y,isDirty:i!==s,updateContent:k,reset:E,saveNow:N,reload:g}}const kq={documentNode:aM,waypoint:lM},Eq={industrial:"Industrial",light:"Light",blueprint:"Blueprint"};function Nq({projectId:e,projectCode:t,projectName:n,isArchived:r,autoExpandNodeId:i,theme:o,onThemeChange:s,onProjectUpdate:a,onProjectArchive:l,onProjectUnarchive:u,onProjectDelete:c}){const{data:f,lineState:h,loading:p,error:y,connected:v,resolveInterrupt:b}=pq(e),[m,g]=_.useState([]),[w,x]=_.useState(null),[k,E]=_.useState(null),[N,j]=_.useState(null),[T,A]=_.useState(!1),[M,$]=_.useState(""),[q,S]=_.useState(!1),[I,R]=_.useState(!1),z=jg();_.useEffect(()=>{f.length>0&&g(f)},[f]),_.useEffect(()=>{i&&m.length>0&&setTimeout(()=>{x(i),E("questions")},300)},[i,m.length]),_.useEffect(()=>{x(null),E(null)},[e]);const P=_.useCallback(()=>{const W=Bn.indexOf(o);s(Bn[(W+1)%Bn.length])},[o,s]),C=_.useCallback(()=>{$(n||""),A(!0)},[n]),L=_.useCallback(async()=>{if(!M.trim()||M===n){A(!1);return}R(!0);try{await a(e,{name:M.trim()}),A(!1)}catch(W){console.error("Failed to update name:",W)}finally{R(!1)}},[M,n,e,a]),O=_.useCallback(()=>{A(!1),$("")},[]),D=_.useCallback(async()=>{R(!0);try{r?await u(e):await l(e)}catch(W){console.error("Failed to toggle archive:",W)}finally{R(!1)}},[e,r,l,u]),B=_.useCallback(async()=>{R(!0);try{await c(e),S(!1)}catch(W){console.error("Failed to delete:",W)}finally{R(!1)}},[e,c]),V=_.useCallback(W=>{const oe=z.getNode(W);if(oe){const U=window.innerWidth,ce=-oe.position.x*.9+U/2-400,qe=-oe.position.y*.9+120;z.setViewport({x:ce,y:qe,zoom:.9},{duration:800})}},[z]),K=_.useMemo(()=>({onExpand:(W,oe)=>{x(W),E(oe)},onCollapse:()=>{x(null),E(null),setTimeout(()=>z.fitView({padding:.2,duration:300}),50)},onViewFullDocument:W=>{j(W)},onSubmitQuestions:async(W,oe)=>{console.log("Submitted:",W,oe);const G=m.find(U=>U.id===W);if(G!=null&&G.interruptId)try{await b(G.interruptId,oe)}catch(U){console.error("Failed to submit answers:",U)}x(null),E(null),g(U=>{const ce=qe=>qe.map(_e=>_e.id===W&&_e.stations?{..._e,stations:_e.stations.map(pe=>pe.id==="pgc"?{...pe,state:"complete",needs_input:!1}:pe.id==="asm"?{...pe,state:"active"}:pe)}:_e.children?{..._e,children:ce(_e.children)}:_e);return ce(U)})}}),[z,m,b]),{layoutNodes:Q,layoutEdges:Z}=_.useMemo(()=>{if(m.length===0)return{layoutNodes:[],layoutEdges:[]};const W={...K,expandType:k,theme:o,onZoomToNode:V,projectId:e,projectCode:t},{nodes:oe,edges:G,epicBacklogId:U,epicChildren:ce}=l_(m,w,W),qe=a_(oe,G),{nodes:_e,edges:pe}=u_(qe,U,ce,w,W);return{layoutNodes:_e.map(je=>({...je,data:{...je.data,expandType:je.id===w?k:null}})),layoutEdges:pe}},[m,w,k,K,o,V,e,t]),[ae,re,ie]=pP(Q),[Re,ve,Le]=mP(Z);_.useEffect(()=>{if(m.length===0)return;const W={...K,expandType:k,theme:o,onZoomToNode:V,projectId:e,projectCode:t},{nodes:oe,edges:G,epicBacklogId:U,epicChildren:ce}=l_(m,w,W),qe=a_(oe,G),{nodes:_e,edges:pe}=u_(qe,U,ce,w,W),ye=_e.map(je=>({...je,data:{...je.data,expandType:je.id===w?k:null}}));re(ye),ve(pe)},[m,w,k,K,re,ve,o,V,e,t]);const Me=_.useCallback((W,oe)=>{},[]);return p&&m.length===0?d.jsx("div",{className:"flex items-center justify-center h-full",style:{background:"var(--bg-canvas)"},children:d.jsxs("div",{className:"text-center",children:[d.jsx("img",{src:"/logo-light.png",alt:"The Combine",className:"h-12 mx-auto mb-4 animate-pulse"}),d.jsx("p",{style:{color:"var(--text-muted)"},children:"Loading production line..."})]})}):y&&m.length===0?d.jsx("div",{className:"flex items-center justify-center h-full",style:{background:"var(--bg-canvas)"},children:d.jsx("div",{className:"text-center p-6 rounded-lg",style:{background:"var(--bg-panel)"},children:d.jsx("p",{className:"text-red-500 mb-4",children:y})})}):d.jsxs("div",{className:"w-full h-full",children:[d.jsxs(Yk,{nodes:ae,edges:Re,onNodesChange:ie,onEdgesChange:Le,onNodeClick:Me,nodeTypes:kq,nodesDraggable:!1,nodesConnectable:!1,edgesUpdatable:!1,edgesFocusable:!1,elementsSelectable:!1,fitView:!0,fitViewOptions:{padding:.2},minZoom:.3,maxZoom:1.5,style:{background:"var(--bg-canvas)"},proOptions:{hideAttribution:!0},defaultEdgeOptions:{type:"smoothstep"},children:[d.jsx(vo,{position:"top-left",children:d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"subway-panel backdrop-blur rounded-lg px-4 py-3 border",children:d.jsxs("div",{className:"flex items-center justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:"Production Line"}),d.jsxs("p",{className:"text-xs",style:{color:"var(--text-muted)"},children:[h==="active"&&d.jsx("span",{className:"text-amber-500",children:" Active"}),h==="stopped"&&d.jsx("span",{className:"text-red-500",children:" Stopped"}),h==="complete"&&d.jsx("span",{className:"text-emerald-500",children:" Complete"}),h==="idle"&&d.jsx("span",{children:" Idle"}),!v&&d.jsx("span",{className:"ml-2 text-red-400",children:"(Disconnected)"})]})]}),d.jsx("button",{onClick:P,className:"subway-button px-3 py-1.5 rounded-md text-xs font-medium transition-colors",children:Eq[o]})]})}),d.jsx("div",{className:"subway-panel backdrop-blur rounded-lg px-4 py-3 border",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0",style:{background:"var(--state-active-bg)"},children:d.jsx("svg",{className:"w-5 h-5 text-white",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("p",{className:"text-xs font-mono",style:{color:"var(--text-muted)"},children:t||"No Project"}),T?d.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d.jsx("input",{type:"text",value:M,onChange:W=>$(W.target.value),onKeyDown:W=>{W.key==="Enter"&&L(),W.key==="Escape"&&O()},className:"flex-1 px-2 py-1 text-sm rounded border bg-transparent",style:{color:"var(--text-primary)",borderColor:"var(--border-panel)"},autoFocus:!0,disabled:I}),d.jsx("button",{onClick:L,disabled:I,className:"p-1 rounded hover:bg-white/10",title:"Save",children:d.jsx("svg",{className:"w-4 h-4 text-emerald-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M5 13l4 4L19 7"})})}),d.jsx("button",{onClick:O,disabled:I,className:"p-1 rounded hover:bg-white/10",title:"Cancel",children:d.jsx("svg",{className:"w-4 h-4",style:{color:"var(--text-muted)"},viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}):d.jsx("p",{className:"text-sm font-semibold truncate",style:{color:"var(--text-primary)"},children:n||"Untitled Project"})]}),!T&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("button",{onClick:C,className:"p-1.5 rounded hover:bg-white/10 transition-colors",style:{color:"var(--text-muted)"},title:"Edit name",children:d.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"}),d.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),d.jsx("button",{onClick:D,disabled:I,className:"p-1.5 rounded hover:bg-white/10 transition-colors",style:{color:r?"#f59e0b":"var(--text-muted)"},title:r?"Unarchive project":"Archive project",children:d.jsxs("svg",{className:"w-4 h-4 relative",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M21 8v13H3V8M1 3h22v5H1zM10 12h4"}),r&&d.jsx("path",{d:"M4 20L20 4",strokeWidth:"2.5",stroke:"currentColor"})]})}),d.jsx("button",{onClick:()=>S(!0),disabled:I||!r,className:`p-1.5 rounded transition-colors ${r?"hover:bg-red-500/20":""}`,style:{color:"var(--text-muted)",opacity:r?1:.3,cursor:r?"pointer":"not-allowed"},title:r?"Delete project":"Archive project first to delete",children:d.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"})})})]})]})})]})}),d.jsx(EP,{position:"top-right",nodeColor:W=>{var G;const oe=(G=W.data)==null?void 0:G.state;return["produced","stabilized","ready"].includes(oe)?"#10b981":["in_production","active"].includes(oe)?"#f59e0b":["requirements_not_met","blocked"].includes(oe)?"#ef4444":"#475569"},maskColor:"rgba(11, 17, 32, 0.85)",style:{background:"var(--bg-panel)",border:"1px solid var(--border-panel)",borderRadius:8},pannable:!0,zoomable:!0}),d.jsx(vo,{position:"bottom-left",children:d.jsxs("div",{className:"subway-panel flex gap-4 text-[10px] backdrop-blur px-4 py-2.5 rounded-lg border",children:[d.jsx("span",{style:{color:"var(--text-muted)"},className:"font-medium",children:"STATE:"}),d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:"var(--state-stabilized-bg)"}}),d.jsx("span",{style:{color:"var(--text-muted)"},children:"Produced"})]}),d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:"var(--state-active-bg)"}}),d.jsx("span",{style:{color:"var(--text-muted)"},children:"In Production"})]}),d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:"var(--state-queued-bg)"}}),d.jsx("span",{style:{color:"var(--text-muted)"},children:"Ready"})]})]})}),d.jsx(vo,{position:"bottom-right",children:d.jsx("div",{className:"subway-panel text-[10px] px-2 py-1 rounded",style:{color:"var(--text-muted)"},children:"Scroll to zoom | Drag to pan"})})]}),N&&d.jsx(uM,{projectId:e,projectCode:t,docTypeId:N,onClose:()=>j(null)}),q&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:d.jsxs("div",{className:"rounded-lg p-6 max-w-sm mx-4",style:{background:"var(--bg-panel)",border:"1px solid var(--border-panel)"},children:[d.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:"var(--text-primary)"},children:"Delete Project?"}),d.jsxs("p",{className:"text-sm mb-4",style:{color:"var(--text-muted)"},children:["This will permanently delete ",d.jsx("strong",{children:n})," and all its documents. This action cannot be undone."]}),d.jsxs("div",{className:"flex gap-3 justify-end",children:[d.jsx("button",{onClick:()=>S(!1),disabled:I,className:"px-4 py-2 rounded text-sm font-medium transition-colors",style:{color:"var(--text-muted)"},children:"Cancel"}),d.jsx("button",{onClick:B,disabled:I,className:"px-4 py-2 rounded text-sm font-medium bg-red-500 text-white hover:bg-red-600 transition-colors",children:I?"Deleting...":"Delete"})]})]})})]})}function Ms({messages:e,pendingPrompt:t}){const n=_.useRef(null);return _.useEffect(()=>{var r;(r=n.current)==null||r.scrollIntoView({behavior:"smooth"})},[e,t]),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[e.map((r,i)=>d.jsx("div",{className:`flex ${r.role==="user"?"justify-end":"justify-start"}`,children:d.jsx("div",{className:`max-w-[85%] rounded-lg px-3 py-2 text-sm ${r.role==="user"?"bg-emerald-500/20 text-emerald-100 rounded-br-sm":"bg-violet-500/20 text-violet-100 rounded-bl-sm"}`,children:r.content})},i)),t&&d.jsx("div",{className:"flex justify-start",children:d.jsx("div",{className:"max-w-[85%] rounded-lg px-3 py-2 text-sm bg-violet-500/20 text-violet-100 rounded-bl-sm",children:t})}),d.jsx("div",{ref:n})]})}function jq({onSubmit:e,disabled:t,placeholder:n}){const[r,i]=_.useState(""),o=_.useRef(null);_.useEffect(()=>{var l;t||(l=o.current)==null||l.focus()},[t]);const s=l=>{l.key==="Enter"&&!l.shiftKey&&(l.preventDefault(),r.trim()&&!t&&(e(r.trim()),i("")))},a=()=>{r.trim()&&!t&&(e(r.trim()),i(""))};return d.jsxs("div",{className:"p-3 border-t",style:{borderColor:"var(--border-panel)"},children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx("textarea",{ref:o,value:r,onChange:l=>i(l.target.value),onKeyDown:s,disabled:t,placeholder:n||"Type your message...",rows:2,className:"flex-1 rounded-lg px-3 py-2 text-sm resize-none",style:{background:"var(--bg-input)",border:"1px solid var(--border-input)",color:"var(--text-primary)"}}),d.jsx("button",{onClick:a,disabled:t||!r.trim(),className:`px-4 rounded-lg font-medium text-sm transition-colors ${t||!r.trim()?"bg-slate-600 text-slate-400 cursor-not-allowed":"bg-violet-500 text-white hover:bg-violet-400"}`,children:"Send"})]}),d.jsx("p",{className:"text-[10px] mt-1",style:{color:"var(--text-muted)"},children:"Press Enter to send, Shift+Enter for newline"})]})}const Cq={project_name:"Project Name",problem_statement:"Problem Statement",project_type:"Project Type"},Tq=["project_name","problem_statement","project_type"];function Rq({interpretation:e,missingFields:t,canInitialize:n,onUpdateField:r,onInitialize:i,loading:o}){const[s,a]=_.useState(null),[l,u]=_.useState(""),c=(p,y)=>{a(p),u(y)},f=async()=>{s&&l.trim()&&(await r(s,l.trim()),a(null),u(""))},h=()=>{a(null),u("")};return d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide",style:{color:"var(--text-muted)"},children:"Review & Lock"}),t.length>0&&d.jsxs("span",{className:"text-[10px] px-2 py-0.5 rounded bg-amber-500/20 text-amber-400",children:[t.length," missing"]})]}),Tq.map(p=>{const y=e[p];if(!y)return null;const v=y.locked,b=t.includes(p),m=s===p;return d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("label",{className:"text-[10px] font-medium",style:{color:"var(--text-muted)"},children:[Cq[p]||p,b&&d.jsx("span",{className:"text-amber-400 ml-1",children:"*"})]}),v&&d.jsx("span",{className:"text-[9px] px-1.5 py-0.5 rounded bg-emerald-500/20 text-emerald-400",children:"locked"})]}),m?d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:l,onChange:g=>u(g.target.value),onKeyDown:g=>{g.key==="Enter"&&f(),g.key==="Escape"&&h()},autoFocus:!0,className:"flex-1 rounded px-2 py-1.5 text-xs",style:{background:"var(--bg-input)",border:"1px solid var(--border-input)",color:"var(--text-primary)"}}),d.jsx("button",{onClick:f,className:"px-2 py-1 rounded text-xs bg-emerald-500 text-white",children:"Save"}),d.jsx("button",{onClick:h,className:"px-2 py-1 rounded text-xs",style:{background:"var(--bg-button)",color:"var(--text-muted)"},children:"Cancel"})]}):d.jsx("div",{onClick:()=>!v&&c(p,y.value),className:`rounded px-2 py-1.5 text-xs ${v?"cursor-default":"cursor-pointer hover:bg-white/5"} ${b?"border border-amber-500/50":""}`,style:{background:"var(--bg-input)",color:y.value?"var(--text-primary)":"var(--text-muted)"},children:y.value||"Click to edit..."})]},p)}),d.jsx("button",{onClick:i,disabled:!n||o,className:`w-full py-2.5 rounded-lg text-sm font-medium transition-colors ${n&&!o?"bg-violet-500 text-white hover:bg-violet-400":"bg-slate-600 text-slate-400 cursor-not-allowed"}`,children:o?"Initializing...":"Lock & Initialize Project"}),!n&&d.jsx("p",{className:"text-[10px] text-center",style:{color:"var(--text-muted)"},children:"Fill all required fields to continue"})]})}function Iq(){return d.jsxs("div",{className:"flex flex-col items-center justify-center py-8 px-4",children:[d.jsxs("div",{className:"relative w-16 h-16 mb-4",children:[d.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-violet-500/20"}),d.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-t-violet-500 border-r-transparent border-b-transparent border-l-transparent animate-spin"}),d.jsx("div",{className:"absolute inset-3 rounded-full bg-violet-500/20 animate-pulse"})]}),d.jsx("h3",{className:"text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Generating Project"}),d.jsx("p",{className:"text-xs text-center max-w-[200px]",style:{color:"var(--text-muted)"},children:"Creating intake document and running quality checks..."}),d.jsxs("div",{className:"flex gap-1 mt-4",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-violet-500 animate-bounce",style:{animationDelay:"0ms"}}),d.jsx("div",{className:"w-2 h-2 rounded-full bg-violet-500 animate-bounce",style:{animationDelay:"150ms"}}),d.jsx("div",{className:"w-2 h-2 rounded-full bg-violet-500 animate-bounce",style:{animationDelay:"300ms"}})]})]})}const f_={qualified:{icon:"check",iconBg:"bg-emerald-500/20",iconColor:"text-emerald-400",title:"Project Created",description:"Your project is ready for PM Discovery."},not_ready:{icon:"warning",iconBg:"bg-amber-500/20",iconColor:"text-amber-400",title:"Not Ready",description:"Additional information is needed before proceeding."},out_of_scope:{icon:"x",iconBg:"bg-slate-500/20",iconColor:"text-slate-400",title:"Out of Scope",description:"This request is outside the scope of The Combine."},redirect:{icon:"arrow",iconBg:"bg-blue-500/20",iconColor:"text-blue-400",title:"Redirected",description:"This request has been redirected to a different engagement type."},blocked:{icon:"warning",iconBg:"bg-amber-500/20",iconColor:"text-amber-400",title:"Blocked",description:"The workflow could not complete due to validation issues."}};function Pq({type:e,className:t}){switch(e){case"check":return d.jsx("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("polyline",{points:"20 6 9 17 4 12"})});case"warning":return d.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M12 9v4M12 17h.01"}),d.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"})]});case"x":return d.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]});case"arrow":return d.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),d.jsx("polyline",{points:"12 5 19 12 12 19"})]});default:return null}}function Mq({gateOutcome:e,project:t,onViewProject:n,onClose:r}){const i=f_[e]||f_.blocked,o=e==="qualified";return d.jsxs("div",{className:"p-6 text-center",children:[d.jsx("div",{className:`w-16 h-16 rounded-full ${i.iconBg} flex items-center justify-center mx-auto mb-4`,children:d.jsx(Pq,{type:i.icon,className:`w-8 h-8 ${i.iconColor}`})}),d.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:"var(--text-primary)"},children:i.title}),d.jsx("p",{className:"text-sm mb-4",style:{color:"var(--text-muted)"},children:i.description}),o&&t&&d.jsxs("div",{className:"rounded-lg p-3 mb-4",style:{background:"var(--bg-input)"},children:[d.jsx("p",{className:"text-xs font-mono mb-1",style:{color:"var(--text-muted)"},children:t.project_id}),d.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:t.name})]}),d.jsxs("div",{className:"flex gap-2 justify-center",children:[o&&t&&d.jsx("button",{onClick:n,className:"px-4 py-2 rounded-lg text-sm font-medium bg-emerald-500 text-white hover:bg-emerald-400 transition-colors",children:"View Project"}),d.jsx("button",{onClick:r,className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors",style:{background:"var(--bg-button)",color:"var(--text-muted)"},children:"Close"})]})]})}function Aq({onClose:e,onComplete:t}){const{phase:n,messages:r,pendingPrompt:i,interpretation:o,missingFields:s,canInitialize:a,gateOutcome:l,project:u,error:c,loading:f,submitting:h,startIntake:p,submitMessage:y,updateField:v,lockAndGenerate:b,reset:m}=mq();_.useEffect(()=>(p(),()=>m()),[]);const g=()=>{m(),e()},w=()=>{u&&t&&t(u),g()},x=()=>{const E=[{id:"describe",label:"Describe"},{id:"review",label:"Review"},{id:"generating",label:"Generate"},{id:"complete",label:"Done"}],N=E.findIndex(j=>j.id===n);return d.jsx("div",{className:"flex items-center gap-1 text-[10px]",children:E.map((j,T)=>d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:`px-2 py-0.5 rounded ${T===N?"bg-violet-500/30 text-violet-300":T<N?"text-emerald-400":"text-slate-500"}`,children:j.label}),T<E.length-1&&d.jsx("span",{className:"mx-1 text-slate-600",children:"/"})]},j.id))})},k=()=>{if(f&&n==="idle")return d.jsx("div",{className:"flex-1 flex items-center justify-center",children:d.jsx("div",{className:"w-8 h-8 border-2 border-t-violet-500 border-r-transparent border-b-transparent border-l-transparent rounded-full animate-spin"})});switch(n){case"describe":return d.jsxs(d.Fragment,{children:[d.jsx(Ms,{messages:r,pendingPrompt:i}),d.jsx(jq,{onSubmit:y,disabled:h,placeholder:"Describe what you want to build..."})]});case"review":return d.jsxs(d.Fragment,{children:[d.jsx(Ms,{messages:r}),d.jsx("div",{className:"border-t",style:{borderColor:"var(--border-panel)"},children:d.jsx(Rq,{interpretation:o,missingFields:s,canInitialize:a,onUpdateField:v,onInitialize:b,loading:f})})]});case"generating":return d.jsxs(d.Fragment,{children:[d.jsx(Ms,{messages:r}),d.jsx(Iq,{})]});case"complete":return d.jsxs(d.Fragment,{children:[d.jsx(Ms,{messages:r}),d.jsx(Mq,{gateOutcome:l,project:u,onViewProject:w,onClose:g})]});default:return null}};return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0, 0, 0, 0.6)"},children:d.jsxs("div",{className:"flex flex-col w-full max-w-lg h-[80vh] rounded-xl shadow-2xl tray-slide",style:{background:"var(--bg-panel)",border:"1px solid var(--border-panel)"},children:[d.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b",style:{borderColor:"var(--border-panel)"},children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-8 h-8 rounded-lg bg-violet-500/20 flex items-center justify-center",children:d.jsx("svg",{className:"w-4 h-4 text-violet-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"})})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:"New Project"}),x()]})]}),d.jsx("button",{onClick:g,className:"p-2 rounded-lg hover:bg-white/10 transition-colors",style:{color:"var(--text-muted)"},children:d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),c&&d.jsx("div",{className:"px-4 py-2 bg-red-500/20 text-red-300 text-sm",children:c}),k()]})})}function Oq({onClose:e}){const{user:t,logout:n}=Pi(),[r,i]=_.useState(null),[o,s]=_.useState([]),[a,l]=_.useState(!1),[u,c]=_.useState(null);_.useEffect(()=>{r==="linked"&&f()},[r]);const f=async()=>{try{l(!0);const x=await fetch("/auth/accounts",{credentials:"include"});if(x.ok){const k=await x.json();s(k.identities||[])}}catch(x){console.error("Failed to load accounts:",x)}finally{l(!1)}},h=x=>{window.location.href=`/auth/accounts/link/${x}`},p=async x=>{var k;if(o.length<=1){c({type:"error",text:"Cannot unlink your only account"});return}if(confirm(`Unlink your ${x} account?`))try{const E=(k=document.cookie.split("; ").find(j=>j.startsWith("csrf=")||j.startsWith("__Host-csrf=")))==null?void 0:k.split("=")[1],N=await fetch(`/auth/accounts/${x}`,{method:"DELETE",credentials:"include",headers:{"X-CSRF-Token":E||""}});if(N.ok)c({type:"success",text:"Account unlinked"}),await f();else{const j=await N.json();throw new Error(j.detail||"Failed to unlink")}}catch(E){c({type:"error",text:E.message})}},y=async()=>{await n(),e()},v=x=>{i(r===x?null:x),c(null)},b={google:d.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:[d.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),d.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),d.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),d.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),microsoft:d.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 23 23",children:[d.jsx("path",{fill:"#f35325",d:"M1 1h10v10H1z"}),d.jsx("path",{fill:"#81bc06",d:"M12 1h10v10H12z"}),d.jsx("path",{fill:"#05a6f0",d:"M1 12h10v10H1z"}),d.jsx("path",{fill:"#ffba08",d:"M12 12h10v10H12z"})]})},m=[{id:"account",label:"Account",icon:"user",future:!1},{id:"linked",label:"Linked Accounts",icon:"link",future:!1},{id:"team",label:"Team / Org",icon:"users",future:!0},{id:"billing",label:"Billing",icon:"credit-card",future:!0},{id:"preferences",label:"Preferences",icon:"settings",future:!0}],g=x=>{const k={user:d.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),d.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),link:d.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),d.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]}),users:d.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),d.jsx("circle",{cx:"9",cy:"7",r:"4"}),d.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),d.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),"credit-card":d.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),d.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),settings:d.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("circle",{cx:"12",cy:"12",r:"3"}),d.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]})};return k[x]||k.user},w=x=>{switch(x){case"account":return d.jsxs("div",{className:"px-4 py-3 space-y-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs uppercase tracking-wide",style:{color:"var(--text-muted)"},children:"Email"}),d.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-primary)"},children:(t==null?void 0:t.email)||"-"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs uppercase tracking-wide",style:{color:"var(--text-muted)"},children:"Member since"}),d.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-primary)"},children:t!=null&&t.user_created_at?new Date(t.user_created_at).toLocaleDateString("en-US",{month:"long",year:"numeric"}):"-"})]})]});case"linked":return d.jsxs("div",{className:"px-4 py-3",children:[u&&d.jsx("div",{className:`mb-3 px-3 py-2 rounded text-xs ${u.type==="error"?"bg-red-500/20 text-red-300":"bg-emerald-500/20 text-emerald-300"}`,children:u.text}),a?d.jsx("div",{className:"flex items-center justify-center py-4",children:d.jsx("div",{className:"w-5 h-5 border-2 border-t-blue-500 border-r-transparent border-b-transparent border-l-transparent rounded-full animate-spin"})}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"space-y-2 mb-4",children:o.map(k=>d.jsxs("div",{className:"flex items-center justify-between p-2 rounded",style:{background:"var(--bg-canvas)",border:"1px solid var(--border-panel)"},children:[d.jsxs("div",{className:"flex items-center gap-2",children:[b[k.provider_id],d.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)"},children:k.provider_email})]}),d.jsx("button",{onClick:()=>p(k.provider_id),disabled:o.length<=1,className:`text-xs px-2 py-1 rounded ${o.length<=1?"text-slate-600 cursor-not-allowed":"text-red-400 hover:bg-red-500/20"}`,children:"Unlink"})]},k.provider_id))}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"text-xs uppercase tracking-wide mb-2",style:{color:"var(--text-muted)"},children:"Link another"}),d.jsxs("button",{onClick:()=>h("google"),className:"w-full flex items-center gap-2 p-2 rounded text-xs hover:bg-white/5",style:{background:"var(--bg-canvas)",border:"1px solid var(--border-panel)",color:"var(--text-primary)"},children:[b.google,"Google"]}),d.jsxs("button",{onClick:()=>h("microsoft"),className:"w-full flex items-center gap-2 p-2 rounded text-xs hover:bg-white/5",style:{background:"var(--bg-canvas)",border:"1px solid var(--border-panel)",color:"var(--text-primary)"},children:[b.microsoft,"Microsoft"]})]})]})]});default:return d.jsx("div",{className:"px-4 py-3 text-xs",style:{color:"var(--text-muted)"},children:"Coming soon"})}};return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"fixed inset-0 z-40",style:{background:"rgba(0, 0, 0, 0.3)"},onClick:e}),d.jsxs("div",{className:"fixed top-12 bottom-0 z-50 w-72 flex flex-col shadow-2xl",style:{left:"240px",background:"var(--bg-panel)",borderRight:"1px solid var(--border-panel)"},children:[d.jsxs("div",{className:"px-4 py-4 border-b",style:{borderColor:"var(--border-panel)"},children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t!=null&&t.avatar_url?d.jsx("img",{src:t.avatar_url,alt:t.name,className:"w-10 h-10 rounded-full"}):d.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{background:"var(--bg-canvas)"},children:d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{color:"var(--text-muted)"},children:[d.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),d.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),d.jsxs("div",{className:"flex-1 overflow-hidden",children:[d.jsx("div",{className:"text-sm font-medium truncate",style:{color:"var(--text-primary)"},children:(t==null?void 0:t.name)||"User"}),d.jsx("div",{className:"text-xs truncate",style:{color:"var(--text-muted)"},children:(t==null?void 0:t.email)||""})]}),d.jsx("button",{onClick:e,className:"p-1.5 rounded hover:bg-white/10 transition-colors",style:{color:"var(--text-muted)"},children:d.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),d.jsx("div",{className:"text-xs px-2 py-1 rounded inline-block",style:{background:"var(--bg-canvas)",color:"var(--text-muted)"},children:"Plan: Individual"})]}),d.jsx("div",{className:"flex-1 overflow-y-auto",children:m.map(x=>d.jsxs("div",{style:{borderBottom:"1px solid var(--border-panel)"},children:[d.jsxs("button",{onClick:()=>!x.future&&v(x.id),className:`w-full flex items-center gap-3 px-4 py-3 transition-colors ${x.future?"cursor-not-allowed opacity-50":"hover:bg-white/5"}`,style:{color:"var(--text-primary)"},disabled:x.future,children:[d.jsx("span",{style:{color:"var(--text-muted)"},children:g(x.icon)}),d.jsx("span",{className:"flex-1 text-sm text-left",children:x.label}),x.future?d.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded",style:{background:"var(--bg-canvas)",color:"var(--text-muted)"},children:"Soon"}):d.jsx("svg",{className:"w-4 h-4 transition-transform",style:{color:"var(--text-muted)",transform:r===x.id?"rotate(90deg)":"rotate(0deg)"},viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("polyline",{points:"9 18 15 12 9 6"})})]}),r===x.id&&!x.future&&d.jsx("div",{style:{background:"var(--bg-canvas)",borderTop:"1px solid var(--border-panel)"},children:w(x.id)})]},x.id))}),d.jsx("div",{className:"p-4 border-t",style:{borderColor:"var(--border-panel)"},children:d.jsxs("button",{onClick:y,className:"w-full flex items-center justify-center gap-2 px-4 py-2 rounded text-sm transition-colors hover:bg-white/5",style:{color:"var(--text-muted)"},children:[d.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),d.jsx("polyline",{points:"16 17 21 12 16 7"}),d.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"Sign Out"]})})]})]})}const le={bg:"#0f172a",bgElevated:"#1e293b",border:"#334155",textPrimary:"#f8fafc",textSecondary:"#94a3b8",textMuted:"#64748b",textSubtle:"#475569",accent:"#3b82f6",accentHover:"#2563eb"};function Lq(){return d.jsx("header",{className:"h-16 flex items-center justify-center border-b",style:{background:le.bg,borderColor:le.border},children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:"/logo-dark.png",alt:"The Combine",className:"h-8"}),d.jsxs("div",{children:[d.jsx("span",{className:"text-sm font-bold tracking-[0.2em]",style:{color:le.textPrimary},children:"THE COMBINE"}),d.jsx("span",{className:"text-xs tracking-wide ml-4",style:{color:le.textMuted},children:"Industrial AI for Knowledge Work"})]})]})})}function qq(){return d.jsxs("section",{className:"text-center max-w-2xl mx-auto",children:[d.jsx("h1",{className:"text-3xl font-semibold mb-6 leading-tight",style:{color:le.textPrimary},children:"Turn complex intent into governed, repeatable artifacts."}),d.jsx("p",{className:"text-lg leading-relaxed mb-6",style:{color:le.textSecondary},children:"The Combine applies manufacturing discipline to AI knowledge work. Every output is traceable. Every decision is auditable. Production over prompting."}),d.jsxs("a",{href:"/learn",className:"text-sm transition-colors inline-flex items-center gap-1",style:{color:le.textMuted},onMouseOver:e=>e.currentTarget.style.color=le.textSecondary,onMouseOut:e=>e.currentTarget.style.color=le.textMuted,children:["Learn how The Combine works",d.jsx("span",{"aria-hidden":"true",children:""})]})]})}function zq(){const e=[{icon:d.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:d.jsx("path",{d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z",strokeLinecap:"round",strokeLinejoin:"round"})}),title:"Express Intent",description:"Describe what you need"},{icon:d.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:d.jsx("path",{d:"M19.5 12c0-1.232-.046-2.453-.138-3.662a4.006 4.006 0 00-3.7-3.7 48.678 48.678 0 00-7.324 0 4.006 4.006 0 00-3.7 3.7c-.017.22-.032.441-.046.662M19.5 12l3-3m-3 3l-3-3m-12 3c0 1.232.046 2.453.138 3.662a4.006 4.006 0 003.7 3.7 48.656 48.656 0 007.324 0 4.006 4.006 0 003.7-3.7c.017-.22.032-.441.046-.662M4.5 12l3 3m-3-3l-3 3",strokeLinecap:"round",strokeLinejoin:"round"})}),title:"Line Assembles",description:"Stations configure"},{icon:d.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:d.jsx("path",{d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z",strokeLinecap:"round",strokeLinejoin:"round"})}),title:"Gates Enforce",description:"Validation required"},{icon:d.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:d.jsx("path",{d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z",strokeLinecap:"round",strokeLinejoin:"round"})}),title:"Artifacts Stabilize",description:"Versioned, ready"}];return d.jsx("section",{className:"max-w-4xl mx-auto",children:d.jsx("div",{className:"flex items-start justify-between gap-4",children:e.map((t,n)=>d.jsxs("div",{className:"flex-1 text-center group",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-10 h-10 rounded-full mb-3",style:{background:le.bgElevated,border:`1px solid ${le.border}`,color:le.textMuted},children:t.icon}),d.jsx("h3",{className:"text-sm font-medium mb-1",style:{color:le.textPrimary},children:t.title}),d.jsx("p",{className:"text-xs",style:{color:le.textMuted},children:t.description}),n<e.length-1&&d.jsx("div",{className:"absolute top-5 -right-2 hidden md:block",style:{color:le.border}})]},n))})})}function Dq(){const e=["Auditable outputs","Traceable decisions","Validated delivery","Human accountability"];return d.jsx("section",{className:"text-center",children:d.jsx("div",{className:"flex flex-wrap justify-center gap-x-6 gap-y-2",children:e.map((t,n)=>d.jsx("span",{className:"text-xs",style:{color:le.textMuted},children:t},n))})})}function $q({onLogin:e}){return d.jsxs("section",{className:"text-center",children:[d.jsx("p",{className:"text-sm font-medium mb-4",style:{color:le.textSecondary},children:"Ready?"}),d.jsxs("div",{className:"inline-flex flex-col gap-3",children:[d.jsxs("button",{onClick:()=>e("google"),className:"w-64 flex items-center justify-center gap-3 px-4 py-3 rounded font-medium transition-colors",style:{background:le.accent,color:"#ffffff"},onMouseOver:t=>t.currentTarget.style.background=le.accentHover,onMouseOut:t=>t.currentTarget.style.background=le.accent,children:[d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[d.jsx("path",{fill:"#ffffff",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),d.jsx("path",{fill:"#ffffff",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),d.jsx("path",{fill:"#ffffff",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),d.jsx("path",{fill:"#ffffff",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),d.jsxs("button",{onClick:()=>e("microsoft"),className:"w-64 flex items-center justify-center gap-3 px-4 py-3 rounded font-medium transition-colors",style:{background:le.bg,border:`1px solid ${le.border}`,color:le.textPrimary},onMouseOver:t=>t.currentTarget.style.background=le.bgElevated,onMouseOut:t=>t.currentTarget.style.background=le.bg,children:[d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 23 23",children:[d.jsx("path",{fill:"#f35325",d:"M1 1h10v10H1z"}),d.jsx("path",{fill:"#81bc06",d:"M12 1h10v10H12z"}),d.jsx("path",{fill:"#05a6f0",d:"M1 12h10v10H1z"}),d.jsx("path",{fill:"#ffba08",d:"M12 12h10v10H12z"})]}),"Continue with Microsoft"]})]})]})}function Fq(){return d.jsxs("footer",{className:"py-6 flex items-center justify-center gap-6",children:[d.jsx("a",{href:"/terms",className:"text-xs transition-colors",style:{color:le.textSubtle},onMouseOver:e=>e.currentTarget.style.color=le.textMuted,onMouseOut:e=>e.currentTarget.style.color=le.textSubtle,children:"Terms"}),d.jsx("a",{href:"/privacy",className:"text-xs transition-colors",style:{color:le.textSubtle},onMouseOver:e=>e.currentTarget.style.color=le.textMuted,onMouseOut:e=>e.currentTarget.style.color=le.textSubtle,children:"Privacy"}),d.jsx("span",{className:"text-xs",style:{color:le.border},children:" 2026 The Combine"})]})}function Bq(){const{login:e}=Pi();return d.jsxs("div",{className:"min-h-screen flex flex-col",style:{background:le.bg},children:[d.jsx(Lq,{}),d.jsx("main",{className:"flex-1 flex flex-col justify-center px-8 py-12",children:d.jsxs("div",{className:"space-y-12",children:[d.jsx(qq,{}),d.jsx(zq,{}),d.jsx(Dq,{}),d.jsx($q,{onLogin:e})]})}),d.jsx(Fq,{})]})}const se={bg:"#0f172a",bgElevated:"#1e293b",border:"#334155",textPrimary:"#f8fafc",textSecondary:"#94a3b8",textMuted:"#64748b",textSubtle:"#475569",accent:"#3b82f6",accentHover:"#2563eb"};function Hq(){return d.jsxs("header",{className:"h-16 flex items-center justify-between px-6 border-b",style:{background:se.bg,borderColor:se.border},children:[d.jsxs("a",{href:"/",className:"flex items-center gap-3 transition-colors",style:{color:se.textMuted},onMouseOver:e=>e.currentTarget.style.color=se.textSecondary,onMouseOut:e=>e.currentTarget.style.color=se.textMuted,children:[d.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M19 12H5M12 19l-7-7 7-7",strokeLinecap:"round",strokeLinejoin:"round"})}),d.jsx("span",{className:"text-sm",children:"Back"})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:"/logo-dark.png",alt:"The Combine",className:"h-6"}),d.jsx("span",{className:"text-sm font-bold tracking-[0.15em]",style:{color:se.textPrimary},children:"THE COMBINE"})]}),d.jsx("div",{className:"w-16"})," "]})}function fr({title:e,children:t}){return d.jsxs("section",{className:"mb-16",children:[e&&d.jsx("h2",{className:"text-xl font-semibold mb-6",style:{color:se.textPrimary},children:e}),t]})}function Fe({children:e,className:t=""}){return d.jsx("p",{className:`text-base leading-relaxed mb-4 ${t}`,style:{color:se.textSecondary},children:e})}function Ki({children:e}){return d.jsx("p",{className:"text-base leading-relaxed mb-4 pl-4",style:{color:se.textPrimary,borderLeft:`2px solid ${se.border}`},children:e})}function As({items:e}){return d.jsx("ul",{className:"space-y-2 mb-4",children:e.map((t,n)=>d.jsxs("li",{className:"text-base flex items-start gap-3",style:{color:se.textSecondary},children:[d.jsx("span",{style:{color:se.textMuted},children:"-"}),t]},n))})}function Os({number:e,title:t,children:n}){return d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex items-baseline gap-3 mb-2",children:[d.jsxs("span",{className:"text-sm font-mono",style:{color:se.textMuted},children:[e,"."]}),d.jsx("h3",{className:"text-base font-medium",style:{color:se.textPrimary},children:t})]}),d.jsx("div",{className:"pl-7",children:d.jsx(Fe,{children:n})})]})}function Ls({title:e,children:t}){return d.jsxs("div",{className:"mb-6",children:[d.jsx("h3",{className:"text-base font-medium mb-2",style:{color:se.textPrimary},children:e}),d.jsx(Fe,{className:"mb-0",children:t})]})}function Vq({onLogin:e}){return d.jsxs("section",{className:"text-center py-12 rounded-lg",style:{background:se.bgElevated,border:`1px solid ${se.border}`},children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",style:{color:se.textPrimary},children:"When You're Ready"}),d.jsx(Fe,{className:"max-w-md mx-auto mb-2",children:"You don't need to prepare anything."}),d.jsx(Fe,{className:"max-w-md mx-auto mb-2",children:"You don't need to know the workflow in advance."}),d.jsx(Fe,{className:"max-w-md mx-auto mb-8",children:"You start by stating intent  the system handles the rest."}),d.jsxs("div",{className:"inline-flex flex-col gap-3",children:[d.jsxs("button",{onClick:()=>e("google"),className:"w-64 flex items-center justify-center gap-3 px-4 py-3 rounded font-medium transition-colors",style:{background:se.accent,color:"#ffffff"},onMouseOver:t=>t.currentTarget.style.background=se.accentHover,onMouseOut:t=>t.currentTarget.style.background=se.accent,children:[d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[d.jsx("path",{fill:"#ffffff",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),d.jsx("path",{fill:"#ffffff",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),d.jsx("path",{fill:"#ffffff",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),d.jsx("path",{fill:"#ffffff",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),d.jsxs("button",{onClick:()=>e("microsoft"),className:"w-64 flex items-center justify-center gap-3 px-4 py-3 rounded font-medium transition-colors",style:{background:se.bg,border:`1px solid ${se.border}`,color:se.textPrimary},onMouseOver:t=>t.currentTarget.style.background=se.bgElevated,onMouseOut:t=>t.currentTarget.style.background=se.bg,children:[d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 23 23",children:[d.jsx("path",{fill:"#f35325",d:"M1 1h10v10H1z"}),d.jsx("path",{fill:"#81bc06",d:"M12 1h10v10H12z"}),d.jsx("path",{fill:"#05a6f0",d:"M1 12h10v10H1z"}),d.jsx("path",{fill:"#ffba08",d:"M12 12h10v10H12z"})]}),"Continue with Microsoft"]})]})]})}function Wq(){return d.jsxs("footer",{className:"py-8 text-center",children:[d.jsx("p",{className:"text-sm mb-6",style:{color:se.textMuted},children:"The Combine does not replace human judgment. It makes it visible."}),d.jsxs("div",{className:"flex items-center justify-center gap-6",children:[d.jsx("a",{href:"/terms",className:"text-xs transition-colors",style:{color:se.textSubtle},onMouseOver:e=>e.currentTarget.style.color=se.textMuted,onMouseOut:e=>e.currentTarget.style.color=se.textSubtle,children:"Terms"}),d.jsx("a",{href:"/privacy",className:"text-xs transition-colors",style:{color:se.textSubtle},onMouseOver:e=>e.currentTarget.style.color=se.textMuted,onMouseOut:e=>e.currentTarget.style.color=se.textSubtle,children:"Privacy"}),d.jsx("span",{className:"text-xs",style:{color:se.border},children:" 2026 The Combine"})]})]})}function Uq(){const{login:e}=Pi();return d.jsxs("div",{className:"min-h-screen flex flex-col",style:{background:se.bg},children:[d.jsx(Hq,{}),d.jsx("main",{className:"flex-1 px-6 py-12",children:d.jsxs("article",{className:"max-w-2xl mx-auto",children:[d.jsx("h1",{className:"text-3xl font-semibold mb-12 text-center",style:{color:se.textPrimary},children:"Learn More"}),d.jsxs(fr,{title:"What The Combine Is",children:[d.jsx(Fe,{children:"The Combine is an AI-assisted production system for knowledge work."}),d.jsx(Fe,{children:"It applies manufacturing discipline to work that is normally informal, fragile, and difficult to audit  system design, architecture, requirements, analysis, and planning."}),d.jsx(Ki,{children:"Instead of prompts and chat history, The Combine produces governed artifacts."}),d.jsx(Ki,{children:"Instead of experimentation without memory, it runs repeatable production lines."})]}),d.jsxs(fr,{title:"Why It Exists",children:[d.jsx(Fe,{children:"Most AI tools optimize for speed and creativity. That works well for drafts and exploration."}),d.jsx(Fe,{children:"It breaks down when the work must be:"}),d.jsx(As,{items:["Auditable","Traceable","Reviewed","Approved","Reused","Defended"]}),d.jsx(Fe,{children:"The Combine exists for situations where quality, accountability, and repeatability matter more than cleverness."})]}),d.jsxs(fr,{title:'Why "The Combine"',children:[d.jsx(Fe,{children:"The Combine takes its name from the combine harvester  one of the most important industrial inventions of the 20th century."}),d.jsx(Fe,{children:"Before the combine, harvesting was fragmented, manual, and inconsistent. Separate steps. Separate tools. High variability. Heavy dependence on individual skill."}),d.jsx(Fe,{children:"The combine harvester changed that by integrating many steps into a single, governed production line  increasing consistency, traceability, and scale without removing human oversight."}),d.jsx(Fe,{children:"The Combine applies the same philosophy to AI-driven knowledge work."}),d.jsx(Fe,{children:"Instead of scattered prompts, fragile documents, and unrepeatable decisions, it assembles intent through a structured line:"}),d.jsx(As,{items:["Inputs are clarified","Work moves through defined stations","Quality gates enforce discipline","Outputs stabilize into reusable artifacts"]}),d.jsx(Fe,{children:"This is not automation for speed. It is industrialization for reliability."}),d.jsx(Ki,{children:"As with the original combine, the breakthrough is not intelligence, but integration."})]}),d.jsxs(fr,{title:"How It Works",children:[d.jsx(Os,{number:1,title:"You express intent",children:"You describe what you want to build. The system listens, asks clarifying questions, and confirms scope and constraints."}),d.jsx(Os,{number:2,title:"A production line is assembled",children:"Based on your intent, The Combine configures a sequence of specialized stations  each responsible for producing a specific artifact."}),d.jsx(Os,{number:3,title:"Quality gates enforce discipline",children:"Artifacts move forward only when they meet defined criteria. Nothing proceeds without validation."}),d.jsx(Os,{number:4,title:"Outputs stabilize",children:"Approved artifacts are versioned, bound, and ready for use  not just today, but later."})]}),d.jsxs(fr,{title:"What Makes It Different",children:[d.jsx(Ls,{title:"Production over prompting",children:"Work progresses through defined stages, not conversations."}),d.jsx(Ls,{title:"Human accountability remains central",children:"AI assists, but humans approve. Nothing ships without oversight."}),d.jsx(Ls,{title:"Every decision is traceable",children:"Why something exists, who approved it, and what assumptions were made are always visible."}),d.jsx(Ls,{title:"Designed for real-world constraints",children:"Compliance, audits, handoffs, and change management are first-class concerns."})]}),d.jsxs(fr,{title:"What The Combine Is Not",children:[d.jsx(As,{items:["A chat interface","A creative writing tool","An autonomous agent that acts without approval","A system that hides its reasoning or decisions"]}),d.jsx(Fe,{children:"If you want improvisation, there are better tools."}),d.jsx(Ki,{children:"If you need defensible outcomes, this is what The Combine is built for."})]}),d.jsxs(fr,{title:"Who It's For",children:[d.jsx(Fe,{children:"The Combine is designed for people responsible for outcomes, including:"}),d.jsx(As,{items:["Architects and technical leaders","Product and delivery leaders","Compliance-conscious teams","Organizations that need repeatable, explainable AI support"]}),d.jsx(Ki,{children:`If the phrase "nothing ships without validation" resonates, you're in the right place.`})]}),d.jsx(Vq,{onLogin:e})]})}),d.jsx(Wq,{})]})}function Gq({documentTypes:e=[],loading:t=!1,selectedDocType:n=null,onSelect:r}){const i=e.reduce((a,l)=>{const u=l.category||"other";return a[u]||(a[u]=[]),a[u].push(l),a},{}),o=["intake","architecture","planning","other"],s=Object.keys(i).sort((a,l)=>{const u=o.indexOf(a),c=o.indexOf(l);return u===-1&&c===-1?a.localeCompare(l):u===-1?1:c===-1?-1:u-c});return d.jsxs("div",{className:"w-60 flex flex-col border-r h-full",style:{borderColor:"var(--border-panel)",background:"var(--bg-panel)"},children:[d.jsx("div",{className:"px-4 py-3 border-b",style:{borderColor:"var(--border-panel)"},children:d.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wide",style:{color:"var(--text-muted)"},children:"Document Types"})}),d.jsx("div",{className:"flex-1 overflow-y-auto",children:t?d.jsx("div",{className:"p-4 text-sm",style:{color:"var(--text-muted)"},children:"Loading..."}):e.length===0?d.jsx("div",{className:"p-4 text-sm",style:{color:"var(--text-muted)"},children:"No document types found"}):s.map(a=>d.jsxs("div",{className:"py-2",children:[d.jsx("div",{className:"px-4 py-1 text-xs font-medium uppercase tracking-wider",style:{color:"var(--text-muted)"},children:a}),i[a].map(l=>d.jsxs("button",{onClick:()=>r==null?void 0:r(l),className:"w-full px-4 py-2 text-left text-sm hover:opacity-80 transition-opacity",style:{background:(n==null?void 0:n.doc_type_id)===l.doc_type_id?"var(--bg-selected)":"transparent",color:(n==null?void 0:n.doc_type_id)===l.doc_type_id?"var(--text-primary)":"var(--text-secondary)",borderLeft:(n==null?void 0:n.doc_type_id)===l.doc_type_id?"2px solid var(--action-primary)":"2px solid transparent"},children:[d.jsx("div",{className:"font-medium truncate",children:l.display_name}),d.jsxs("div",{className:"text-xs truncate",style:{color:"var(--text-muted)"},children:["v",l.active_version,l.authority_level&&`  ${l.authority_level}`]})]},l.doc_type_id))]},a))})]})}function Kq({content:e,onChange:t,loading:n=!1,saving:r=!1,isDirty:i=!1,error:o=null,readOnly:s=!1,placeholder:a="Enter prompt content..."}){return d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsxs("div",{className:"flex items-center justify-between px-3 py-2 text-xs border-b",style:{borderColor:"var(--border-panel)",background:"var(--bg-panel)"},children:[d.jsxs("div",{className:"flex items-center gap-2",children:[s&&d.jsx("span",{className:"px-2 py-0.5 rounded",style:{background:"var(--border-panel)",color:"var(--text-muted)"},children:"Read-only"}),!s&&i&&d.jsx("span",{style:{color:"var(--text-muted)"},children:"Modified"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[n&&d.jsx("span",{style:{color:"var(--text-muted)"},children:"Loading..."}),r&&d.jsx("span",{style:{color:"var(--state-active-text)"},children:"Saving..."}),!r&&!n&&i&&d.jsx("span",{style:{color:"var(--action-success)"},children:"Saved"}),o&&d.jsxs("span",{style:{color:"var(--state-error-text)"},children:["Error: ",o]})]})]}),d.jsx("div",{className:"flex-1 relative",children:n?d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{background:"var(--bg-canvas)"},children:d.jsx("span",{style:{color:"var(--text-muted)"},children:"Loading content..."})}):d.jsx("textarea",{value:e,onChange:l=>t==null?void 0:t(l.target.value),placeholder:a,readOnly:s,className:"w-full h-full p-4 resize-none font-mono text-sm",style:{background:"var(--bg-canvas)",color:"var(--text-primary)",border:"none",outline:"none"},spellCheck:!1})})]})}function Yq({workspaceId:e,artifactId:t}){const[n,r]=_.useState(null),[i,o]=_.useState(!0),[s,a]=_.useState(null);return _.useEffect(()=>{if(!e||!t){r(null),o(!1);return}(async()=>{o(!0),a(null);try{const u=await Vt.getPreview(e,t);r(u)}catch(u){a(u.message),console.error("Failed to load preview:",u)}finally{o(!1)}})()},[e,t]),d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsxs("div",{className:"px-3 py-2 text-xs border-b",style:{borderColor:"var(--border-panel)",background:"var(--bg-panel)"},children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Resolved Prompt (for execution)"}),d.jsx("span",{className:"px-2 py-0.5 rounded",style:{background:"var(--border-panel)",color:"var(--text-muted)"},children:"Read-only"})]}),(n==null?void 0:n.provenance)&&d.jsxs("div",{className:"space-y-1 font-mono",style:{color:"var(--text-muted)"},children:[n.provenance.role&&d.jsxs("div",{children:["Role: ",n.provenance.role]}),n.provenance.schema&&d.jsxs("div",{children:["Schema: ",n.provenance.schema]}),n.provenance.package&&d.jsxs("div",{children:["Package: ",n.provenance.package]})]})]}),d.jsx("div",{className:"flex-1 relative overflow-auto",children:i?d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{background:"var(--bg-canvas)"},children:d.jsx("span",{style:{color:"var(--text-muted)"},children:"Loading preview..."})}):s?d.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4",style:{background:"var(--bg-canvas)"},children:d.jsxs("div",{className:"text-center p-4 rounded",style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid var(--state-error-bg)"},children:[d.jsx("div",{className:"font-medium mb-2",style:{color:"var(--state-error-text)"},children:"Preview Failed"}),d.jsx("div",{className:"text-sm",style:{color:"var(--text-muted)"},children:s})]})}):d.jsx("pre",{className:"p-4 font-mono text-sm whitespace-pre-wrap",style:{background:"var(--bg-canvas)",color:"var(--text-primary)",margin:0},children:(n==null?void 0:n.resolved_prompt)||"No preview available"})})]})}function Xq({workspaceId:e,docType:t,onArtifactSave:n}){var m;const[r,i]=_.useState("task_prompt"),[o,s]=_.useState("source"),a=_.useMemo(()=>t?`doctype:${t.doc_type_id}:${t.active_version}:${r}`:null,[t,r]),{content:l,loading:u,error:c,saving:f,isDirty:h,updateContent:p,lastSaveResult:y}=Sq(e,a,{onSave:g=>{n==null||n(a,g)}}),v=[{id:"task_prompt",label:"Task Prompt"},{id:"qa_prompt",label:"QA Prompt"},{id:"reflection_prompt",label:"Reflection"},{id:"pgc_context",label:"PGC Context"}],b=_.useMemo(()=>t!=null&&t.artifacts?v.filter(g=>t.artifacts[g.id]!=null):v,[t==null?void 0:t.artifacts]);return F.useEffect(()=>{b.length>0&&!b.find(g=>g.id===r)&&i(b[0].id)},[b,r]),t?d.jsxs("div",{className:"flex-1 flex flex-col h-full",style:{background:"var(--bg-canvas)"},children:[d.jsx("div",{className:"px-4 py-3 border-b",style:{borderColor:"var(--border-panel)",background:"var(--bg-panel)"},children:d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{children:[d.jsx("h2",{className:"text-base font-semibold",style:{color:"var(--text-primary)"},children:t.display_name}),d.jsxs("div",{className:"text-xs mt-0.5",style:{color:"var(--text-muted)"},children:["v",t.active_version,t.authority_level&&` - ${t.authority_level}`]})]})})}),d.jsx("div",{className:"flex border-b",style:{borderColor:"var(--border-panel)",background:"var(--bg-panel)"},children:b.map(g=>d.jsx("button",{onClick:()=>{i(g.id),s("source")},className:"px-4 py-2 text-sm transition-colors",style:{color:r===g.id?"var(--text-primary)":"var(--text-muted)",background:r===g.id?"var(--bg-canvas)":"transparent",borderBottom:r===g.id?"2px solid var(--action-primary)":"2px solid transparent"},children:g.label},g.id))}),d.jsxs("div",{className:"flex gap-1 px-3 py-2 border-b",style:{borderColor:"var(--border-panel)",background:"var(--bg-panel-alt, var(--bg-panel))"},children:[d.jsx("button",{onClick:()=>s("source"),className:"px-3 py-1 text-xs rounded transition-colors",style:{background:o==="source"?"var(--bg-selected)":"transparent",color:o==="source"?"var(--text-primary)":"var(--text-muted)"},children:"Source"}),d.jsx("button",{onClick:()=>s("resolved"),className:"px-3 py-1 text-xs rounded transition-colors",style:{background:o==="resolved"?"var(--bg-selected)":"transparent",color:o==="resolved"?"var(--text-primary)":"var(--text-muted)"},children:"Resolved"})]}),d.jsx("div",{className:"flex-1 overflow-hidden",children:o==="source"?d.jsx(Kq,{content:l,onChange:p,loading:u,saving:f,isDirty:h,error:c,placeholder:`Enter ${((m=b.find(g=>g.id===r))==null?void 0:m.label)||"prompt"} content...`}):d.jsx(Yq,{workspaceId:e,artifactId:a})}),(y==null?void 0:y.tier1)&&!y.tier1.passed&&d.jsx("div",{className:"px-4 py-2 border-t",style:{borderColor:"var(--border-panel)",background:"rgba(239, 68, 68, 0.1)"},children:d.jsx("div",{className:"text-xs",style:{color:"var(--state-error-text)"},children:"Validation issues found - see status panel for details"})})]}):d.jsx("div",{className:"flex-1 flex items-center justify-center",style:{background:"var(--bg-canvas)"},children:d.jsxs("div",{className:"text-center p-8",style:{color:"var(--text-muted)"},children:[d.jsx("div",{className:"text-lg mb-2",children:"No Document Type Selected"}),d.jsx("div",{className:"text-sm",children:"Select a document type from the browser to edit its prompts."})]})})}function h_({results:e,compact:t=!1}){if(!e||e.length===0)return null;const n=e.filter(i=>i.status==="fail"),r=e.filter(i=>i.status==="pass");return t?d.jsx("div",{className:"flex items-center gap-2",children:n.length>0?d.jsxs("span",{className:"text-xs px-2 py-0.5 rounded",style:{background:"var(--state-error-bg)",color:"var(--state-error-text)"},children:[n.length," error",n.length!==1?"s":""]}):d.jsx("span",{className:"text-xs px-2 py-0.5 rounded",style:{background:"var(--state-success-bg)",color:"var(--state-success-text)"},children:"Valid"})}):d.jsxs("div",{className:"space-y-2",children:[n.map((i,o)=>d.jsxs("div",{className:"text-xs p-2 rounded border",style:{background:"rgba(239, 68, 68, 0.1)",borderColor:"var(--state-error-bg)",color:"var(--text-primary)"},children:[d.jsxs("div",{className:"flex items-center gap-2 font-medium",children:[d.jsx("span",{className:"text-red-400",children:"FAIL"}),d.jsx("span",{className:"font-mono",children:i.rule_id})]}),i.message&&d.jsx("div",{className:"mt-1 opacity-80",children:i.message}),i.artifact_id&&d.jsx("div",{className:"mt-1 font-mono text-xs opacity-60",children:i.artifact_id})]},o)),r.length>0&&n.length>0&&d.jsxs("div",{className:"text-xs p-2 rounded",style:{background:"rgba(34, 197, 94, 0.1)",color:"var(--text-muted)"},children:[r.length," rule",r.length!==1?"s":""," passed"]})]})}function Qq({onCommit:e,onCancel:t,loading:n=!1}){const[r,i]=_.useState(""),o=s=>{s.preventDefault(),r.trim()&&!n&&e(r.trim())};return d.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{background:"rgba(0, 0, 0, 0.7)"},children:d.jsxs("div",{className:"w-full max-w-md p-6 rounded-lg shadow-xl",style:{background:"var(--bg-panel)",border:"1px solid var(--border-panel)"},children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--text-primary)"},children:"Commit Changes"}),d.jsxs("form",{onSubmit:o,children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm mb-2",style:{color:"var(--text-muted)"},children:"Commit Message"}),d.jsx("textarea",{value:r,onChange:s=>i(s.target.value),placeholder:"Describe your changes...",className:"w-full p-3 rounded text-sm font-mono resize-none",style:{background:"var(--bg-input)",border:"1px solid var(--border-panel)",color:"var(--text-primary)",minHeight:"100px"},autoFocus:!0,disabled:n})]}),d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:t,disabled:n,className:"px-4 py-2 rounded text-sm",style:{background:"transparent",border:"1px solid var(--border-panel)",color:"var(--text-muted)"},children:"Cancel"}),d.jsx("button",{type:"submit",disabled:!r.trim()||n,className:"px-4 py-2 rounded text-sm font-medium",style:{background:r.trim()&&!n?"var(--action-success)":"var(--border-panel)",color:r.trim()&&!n?"#000":"var(--text-muted)",cursor:r.trim()&&!n?"pointer":"not-allowed"},children:n?"Committing...":"Commit"})]})]})]})})}function Zq({workspaceId:e,state:t,loading:n,onCommit:r,onDiscard:i,onClose:o,onRefresh:s}){var T,A;const[a,l]=_.useState(!1),[u,c]=_.useState(!1),[f,h]=_.useState(!1),[p,y]=_.useState(null),v=(t==null?void 0:t.is_dirty)??!1,b=(t==null?void 0:t.modified_artifacts)??[],m=((T=t==null?void 0:t.tier1)==null?void 0:T.passed)??!0,g=((A=t==null?void 0:t.tier1)==null?void 0:A.results)??[],w=(t==null?void 0:t.branch)??"",x=t!=null&&t.expires_at?new Date(t.expires_at):null,k=async M=>{c(!0),y(null);try{const $=await Vt.commit(e,M);l(!1),r==null||r($),s==null||s()}catch($){y($.message)}finally{c(!1)}},E=async()=>{if(confirm("Discard all uncommitted changes? This cannot be undone.")){h(!0);try{await Vt.discard(e),i==null||i(),s==null||s()}catch(M){console.error("Discard failed:",M),alert("Failed to discard changes: "+M.message)}finally{h(!1)}}},N=async()=>{if(v){alert("Cannot close workspace with uncommitted changes. Commit or discard first.");return}if(confirm("Close this workspace? You can open a new one later."))try{await Vt.closeWorkspace(e),o==null||o()}catch(M){console.error("Close failed:",M),alert("Failed to close workspace: "+M.message)}},j=M=>{if(!M)return null;const q=M-new Date;if(q<=0)return"Expired";const S=Math.floor(q/(1e3*60*60)),I=Math.floor(q%(1e3*60*60)/(1e3*60));return S>0?`${S}h ${I}m remaining`:`${I}m remaining`};return d.jsxs("div",{className:"w-80 flex flex-col border-l h-full",style:{borderColor:"var(--border-panel)",background:"var(--bg-panel)"},children:[d.jsx("div",{className:"px-4 py-3 border-b",style:{borderColor:"var(--border-panel)"},children:d.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wide",style:{color:"var(--text-muted)"},children:"Workspace Status"})}),n?d.jsx("div",{className:"p-4 text-sm",style:{color:"var(--text-muted)"},children:"Loading..."}):d.jsxs("div",{className:"flex-1 overflow-y-auto",children:[d.jsxs("div",{className:"px-4 py-3 border-b",style:{borderColor:"var(--border-panel)"},children:[d.jsx("div",{className:"text-xs mb-1",style:{color:"var(--text-muted)"},children:"Branch"}),d.jsx("div",{className:"text-sm font-mono truncate",style:{color:"var(--text-primary)"},title:w,children:w||"-"}),x&&d.jsx("div",{className:"text-xs mt-2",style:{color:"var(--text-muted)"},children:j(x)})]}),d.jsxs("div",{className:"px-4 py-3 border-b",style:{borderColor:"var(--border-panel)"},children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:"Status"}),d.jsx("div",{className:"text-xs px-2 py-0.5 rounded",style:{background:v?"var(--state-warning-bg, rgba(245, 158, 11, 0.2))":"var(--state-success-bg)",color:v?"var(--state-warning-text, #f59e0b)":"var(--state-success-text)"},children:v?"Modified":"Clean"})]}),b.length>0&&d.jsxs("div",{className:"mt-2",children:[d.jsxs("div",{className:"text-xs mb-1",style:{color:"var(--text-muted)"},children:["Changed (",b.length,")"]}),d.jsx("div",{className:"space-y-1",children:b.map(M=>d.jsx("div",{className:"text-xs font-mono truncate",style:{color:"var(--text-secondary)"},title:M,children:M.split(":").slice(-1)[0]},M))})]})]}),d.jsxs("div",{className:"px-4 py-3 border-b",style:{borderColor:"var(--border-panel)"},children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:"Tier 1 Validation"}),d.jsx(h_,{results:g,compact:!0})]}),g.length>0&&!m&&d.jsx("div",{className:"mt-3",children:d.jsx(h_,{results:g})})]})]}),d.jsxs("div",{className:"px-4 py-3 border-t space-y-2",style:{borderColor:"var(--border-panel)"},children:[d.jsx("button",{onClick:()=>l(!0),disabled:!v||!m||n,className:"w-full px-4 py-2 rounded text-sm font-medium transition-opacity",style:{background:v&&m?"var(--action-success)":"var(--border-panel)",color:v&&m?"#000":"var(--text-muted)",cursor:v&&m&&!n?"pointer":"not-allowed",opacity:n?.5:1},children:"Commit Changes"}),!m&&v&&d.jsx("div",{className:"text-xs text-center",style:{color:"var(--state-error-text)"},children:"Fix validation errors to commit"}),v&&d.jsx("button",{onClick:E,disabled:f||n,className:"w-full px-4 py-2 rounded text-sm transition-opacity",style:{background:"transparent",border:"1px solid var(--border-panel)",color:"var(--text-muted)",opacity:f||n?.5:1},children:f?"Discarding...":"Discard Changes"}),!v&&d.jsx("button",{onClick:N,disabled:n,className:"w-full px-4 py-2 rounded text-sm transition-opacity",style:{background:"transparent",border:"1px solid var(--border-panel)",color:"var(--text-muted)",opacity:n?.5:1},children:"Close Workspace"})]}),a&&d.jsx(Qq,{onCommit:k,onCancel:()=>{l(!1),y(null)},loading:u}),p&&d.jsx("div",{className:"absolute bottom-4 left-4 right-4 p-3 rounded text-sm",style:{background:"rgba(239, 68, 68, 0.9)",color:"#fff"},children:p})]})}function Jq(){const{isAdmin:e,loading:t}=Pi(),[n,r]=_.useState(null),{workspaceId:i,loading:o,error:s,reinitialize:a}=wq(),{state:l,loading:u,refresh:c}=bq(i),{documentTypes:f,loading:h}=_q(),p=_.useCallback((m,g)=>{c()},[c]),y=_.useCallback(m=>{console.log("Committed:",m.commit_hash)},[]),v=_.useCallback(()=>{r(null)},[]),b=_.useCallback(()=>{a(),r(null)},[a]);return t?d.jsx("div",{className:"flex items-center justify-center h-screen",style:{background:"var(--bg-canvas)"},children:d.jsx("span",{style:{color:"var(--text-muted)"},children:"Loading..."})}):e?o?d.jsx("div",{className:"flex items-center justify-center h-screen",style:{background:"var(--bg-canvas)"},children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-lg mb-2",style:{color:"var(--text-primary)"},children:"Initializing Workspace"}),d.jsx("div",{style:{color:"var(--text-muted)"},children:"Setting up your editing environment..."})]})}):s?d.jsx("div",{className:"flex items-center justify-center h-screen",style:{background:"var(--bg-canvas)"},children:d.jsxs("div",{className:"text-center p-8 rounded-lg max-w-md",style:{background:"var(--bg-panel)",border:"1px solid var(--border-panel)"},children:[d.jsx("div",{className:"text-lg font-semibold mb-2",style:{color:"var(--state-error-text)"},children:"Workspace Error"}),d.jsx("div",{className:"mb-4",style:{color:"var(--text-muted)"},children:s}),d.jsx("button",{onClick:a,className:"px-4 py-2 rounded text-sm",style:{background:"var(--action-primary)",color:"#000"},children:"Retry"})]})}):d.jsxs("div",{className:"flex h-screen overflow-hidden",style:{background:"var(--bg-canvas)"},children:[d.jsx(Gq,{documentTypes:f,loading:h,selectedDocType:n,onSelect:r}),d.jsx(Xq,{workspaceId:i,docType:n,onArtifactSave:p}),d.jsx(Zq,{workspaceId:i,state:l,loading:u,onCommit:y,onDiscard:v,onClose:b,onRefresh:c})]}):d.jsx("div",{className:"flex items-center justify-center h-screen",style:{background:"var(--bg-canvas)"},children:d.jsxs("div",{className:"text-center p-8 rounded-lg",style:{background:"var(--bg-panel)",border:"1px solid var(--border-panel)"},children:[d.jsx("div",{className:"text-lg font-semibold mb-2",style:{color:"var(--state-error-text)"},children:"Access Denied"}),d.jsx("div",{style:{color:"var(--text-muted)"},children:"Admin access required for the Workbench."})]})})}function ez({user:e,onClick:t}){return d.jsx("div",{className:"p-3 border-t",style:{borderColor:"var(--border-panel)"},children:d.jsxs("button",{onClick:t,className:"flex items-center gap-3 w-full p-2 rounded-lg hover:bg-white/10 transition-colors",style:{color:"var(--text-primary)"},children:[e!=null&&e.avatar_url?d.jsx("img",{src:e.avatar_url,alt:e.name,className:"w-8 h-8 rounded-full"}):d.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",style:{background:"var(--bg-canvas)"},children:d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),d.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),d.jsxs("div",{className:"flex-1 text-left overflow-hidden",children:[d.jsx("div",{className:"text-sm font-medium truncate",children:(e==null?void 0:e.name)||"User"}),d.jsx("div",{className:"text-xs truncate",style:{color:"var(--text-muted)"},children:(e==null?void 0:e.email)||""})]})]})})}function tz(){var M,$,q;const{user:e}=Pi(),[t,n]=_.useState(!1),{projects:r,loading:i,error:o,refresh:s}=hq({includeArchived:t}),[a,l]=_.useState(null),[u,c]=_.useState(null),[f,h]=_.useState(!1),[p,y]=_.useState(!1),{theme:v,setTheme:b}=vN(),m=Object.keys(r),g=a&&r[a]?a:m[0]||null;_.useEffect(()=>{if(g&&r[g]){const S=r[g];document.title=`${S.projectId} - The Combine`}else document.title="The Combine"},[g,r]);const w=S=>{l(S),c(null)},x=()=>{h(!0)},k=async S=>{await s(),S&&S.id&&(l(S.id),c("concierge_intake")),h(!1)},E=()=>{h(!1)},N=async(S,I)=>{try{await Pe.updateProject(S,I),await s()}catch(R){throw console.error("Failed to update project:",R),R}},j=async S=>{try{if(await Pe.archiveProject(S),!t){const I=Object.values(r).sort((P,C)=>{const L=(P.name||"").localeCompare(C.name||"");return L!==0?L:(P.projectId||"").localeCompare(C.projectId||"")}),R=I.findIndex(P=>P.id===S),z=I[R+1]||I[R-1]||null;l((z==null?void 0:z.id)||null)}await s()}catch(I){throw console.error("Failed to archive project:",I),I}},T=async S=>{try{await Pe.unarchiveProject(S),await s()}catch(I){throw console.error("Failed to unarchive project:",I),I}},A=async S=>{try{await Pe.deleteProject(S);const I=Object.values(r).sort((P,C)=>{const L=(P.name||"").localeCompare(C.name||"");return L!==0?L:(P.projectId||"").localeCompare(C.projectId||"")}),R=I.findIndex(P=>P.id===S),z=I[R+1]||I[R-1]||null;l((z==null?void 0:z.id)||null),await s()}catch(I){throw console.error("Failed to delete project:",I),I}};return i?d.jsx("div",{className:`flex h-screen items-center justify-center theme-${v}`,style:{background:"var(--bg-canvas)"},children:d.jsxs("div",{className:"text-center",children:[d.jsx("img",{src:"/logo-light.png",alt:"The Combine",className:"h-16 mx-auto mb-4 animate-pulse"}),d.jsx("p",{style:{color:"var(--text-muted)"},children:"Loading projects..."})]})}):o?d.jsx("div",{className:`flex h-screen items-center justify-center theme-${v}`,style:{background:"var(--bg-canvas)"},children:d.jsxs("div",{className:"text-center p-6 rounded-lg",style:{background:"var(--bg-panel)"},children:[d.jsxs("p",{className:"text-red-500 mb-4",children:["Failed to load projects: ",o]}),d.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-emerald-500 text-white rounded hover:bg-emerald-600",children:"Retry"})]})}):d.jsxs("div",{className:`flex flex-col h-screen theme-${v}`,children:[d.jsxs("header",{className:"h-12 flex items-center justify-between px-4 border-b flex-shrink-0",style:{background:"var(--bg-panel)",borderColor:"var(--border-panel)"},children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:"/logo-256.png",alt:"The Combine",className:"h-7 w-7"}),d.jsx("span",{className:"text-sm font-bold tracking-wide",style:{color:"var(--text-primary)"},children:"THE COMBINE"})]}),d.jsx("button",{className:"p-2 rounded hover:bg-white/10 transition-colors",style:{color:"var(--text-muted)"},title:"Help",children:d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),d.jsx("path",{d:"M12 17h.01"})]})})]}),d.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[d.jsx(IP,{projects:r,selectedId:g,onSelectProject:w,onNewProject:x,showArchived:t,onToggleShowArchived:()=>n(S=>!S),userSection:d.jsx(ez,{user:e,onClick:()=>y(!0)})}),d.jsx("div",{className:"flex-1",children:g?d.jsx(Tg,{children:d.jsx(Nq,{projectId:g,projectCode:(M=r[g])==null?void 0:M.projectId,projectName:($=r[g])==null?void 0:$.name,isArchived:(q=r[g])==null?void 0:q.isArchived,autoExpandNodeId:u,theme:v,onThemeChange:b,onProjectUpdate:N,onProjectArchive:j,onProjectUnarchive:T,onProjectDelete:A})},g):d.jsx("div",{className:"flex items-center justify-center h-full",style:{background:"var(--bg-canvas)"},children:d.jsx("div",{className:"text-center",children:d.jsx("p",{style:{color:"var(--text-muted)"},children:"No projects yet. Create one to get started."})})})}),f&&d.jsx(Aq,{onClose:E,onComplete:k}),p&&d.jsx(Oq,{onClose:()=>y(!1)})]})]})}function nz(){const{isAuthenticated:e,loading:t}=Pi(),{theme:n}=vN(),[r,i]=_.useState(window.location.pathname);return _.useEffect(()=>{const o=()=>i(window.location.pathname);return window.addEventListener("popstate",o),()=>window.removeEventListener("popstate",o)},[]),t?d.jsx("div",{className:`flex h-screen items-center justify-center theme-${n}`,style:{background:"var(--bg-canvas)"},children:d.jsxs("div",{className:"text-center",children:[d.jsx("img",{src:"/logo-light.png",alt:"The Combine",className:"h-16 mx-auto mb-4 animate-pulse"}),d.jsx("p",{style:{color:"var(--text-muted)"},children:"Loading..."})]})}):e?r==="/admin/workbench"?d.jsx(Jq,{}):d.jsx(tz,{}):r==="/learn"?d.jsx(Uq,{}):d.jsx(Bq,{})}function rz(){return d.jsx(gq,{children:d.jsx(nz,{})})}sp.createRoot(document.getElementById("root")).render(d.jsx(F.StrictMode,{children:d.jsx(rz,{})}));
//# sourceMappingURL=index-cF3itLi2.js.map
