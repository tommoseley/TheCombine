(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Zo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sb={exports:{}},ja={},ab={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Do=Symbol.for("react.element"),UN=Symbol.for("react.portal"),WN=Symbol.for("react.fragment"),GN=Symbol.for("react.strict_mode"),KN=Symbol.for("react.profiler"),YN=Symbol.for("react.provider"),XN=Symbol.for("react.context"),QN=Symbol.for("react.forward_ref"),ZN=Symbol.for("react.suspense"),JN=Symbol.for("react.memo"),eC=Symbol.for("react.lazy"),Kg=Symbol.iterator;function tC(e){return e===null||typeof e!="object"?null:(e=Kg&&e[Kg]||e["@@iterator"],typeof e=="function"?e:null)}var lb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ub=Object.assign,cb={};function _i(e,t,n){this.props=e,this.context=t,this.refs=cb,this.updater=n||lb}_i.prototype.isReactComponent={};_i.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_i.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function fb(){}fb.prototype=_i.prototype;function fm(e,t,n){this.props=e,this.context=t,this.refs=cb,this.updater=n||lb}var dm=fm.prototype=new fb;dm.constructor=fm;ub(dm,_i.prototype);dm.isPureReactComponent=!0;var Yg=Array.isArray,db=Object.prototype.hasOwnProperty,hm={current:null},hb={key:!0,ref:!0,__self:!0,__source:!0};function pb(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)db.call(t,r)&&!hb.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Do,type:e,key:o,ref:s,props:i,_owner:hm.current}}function nC(e,t){return{$$typeof:Do,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function pm(e){return typeof e=="object"&&e!==null&&e.$$typeof===Do}function rC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Xg=/\/+/g;function wl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?rC(""+e.key):t.toString(36)}function Ts(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Do:case UN:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+wl(s,0):r,Yg(i)?(n="",e!=null&&(n=e.replace(Xg,"$&/")+"/"),Ts(i,t,n,"",function(u){return u})):i!=null&&(pm(i)&&(i=nC(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Xg,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",Yg(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+wl(o,a);s+=Ts(o,t,n,l,i)}else if(l=tC(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+wl(o,a++),s+=Ts(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Jo(e,t,n){if(e==null)return e;var r=[],i=0;return Ts(e,r,"","",function(o){return t.call(n,o,i++)}),r}function iC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var nt={current:null},Rs={transition:null},oC={ReactCurrentDispatcher:nt,ReactCurrentBatchConfig:Rs,ReactCurrentOwner:hm};function mb(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:Jo,forEach:function(e,t,n){Jo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Jo(e,function(){t++}),t},toArray:function(e){return Jo(e,function(t){return t})||[]},only:function(e){if(!pm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Component=_i;ne.Fragment=WN;ne.Profiler=KN;ne.PureComponent=fm;ne.StrictMode=GN;ne.Suspense=ZN;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oC;ne.act=mb;ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ub({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=hm.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)db.call(t,l)&&!hb.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Do,type:e.type,key:i,ref:o,props:r,_owner:s}};ne.createContext=function(e){return e={$$typeof:XN,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:YN,_context:e},e.Consumer=e};ne.createElement=pb;ne.createFactory=function(e){var t=pb.bind(null,e);return t.type=e,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:QN,render:e}};ne.isValidElement=pm;ne.lazy=function(e){return{$$typeof:eC,_payload:{_status:-1,_result:e},_init:iC}};ne.memo=function(e,t){return{$$typeof:JN,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=Rs.transition;Rs.transition={};try{e()}finally{Rs.transition=t}};ne.unstable_act=mb;ne.useCallback=function(e,t){return nt.current.useCallback(e,t)};ne.useContext=function(e){return nt.current.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e){return nt.current.useDeferredValue(e)};ne.useEffect=function(e,t){return nt.current.useEffect(e,t)};ne.useId=function(){return nt.current.useId()};ne.useImperativeHandle=function(e,t,n){return nt.current.useImperativeHandle(e,t,n)};ne.useInsertionEffect=function(e,t){return nt.current.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return nt.current.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return nt.current.useMemo(e,t)};ne.useReducer=function(e,t,n){return nt.current.useReducer(e,t,n)};ne.useRef=function(e){return nt.current.useRef(e)};ne.useState=function(e){return nt.current.useState(e)};ne.useSyncExternalStore=function(e,t,n){return nt.current.useSyncExternalStore(e,t,n)};ne.useTransition=function(){return nt.current.useTransition()};ne.version="18.3.1";ab.exports=ne;var E=ab.exports;const $=cm(E);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sC=E,aC=Symbol.for("react.element"),lC=Symbol.for("react.fragment"),uC=Object.prototype.hasOwnProperty,cC=sC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fC={key:!0,ref:!0,__self:!0,__source:!0};function gb(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)uC.call(t,r)&&!fC.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:aC,type:e,key:o,ref:s,props:i,_owner:cC.current}}ja.Fragment=lC;ja.jsx=gb;ja.jsxs=gb;sb.exports=ja;var d=sb.exports,Zh={},vb={exports:{}},wt={},yb={exports:{}},xb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,C){var O=I.length;I.push(C);e:for(;0<O;){var A=O-1>>>1,D=I[A];if(0<i(D,C))I[A]=C,I[O]=D,O=A;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var C=I[0],O=I.pop();if(O!==C){I[0]=O;e:for(var A=0,D=I.length,B=D>>>1;A<B;){var V=2*(A+1)-1,K=I[V],Q=V+1,Z=I[Q];if(0>i(K,O))Q<D&&0>i(Z,K)?(I[A]=Z,I[Q]=O,A=Q):(I[A]=K,I[V]=O,A=V);else if(Q<D&&0>i(Z,O))I[A]=Z,I[Q]=O,A=Q;else break e}}return C}function i(I,C){var O=I.sortIndex-C.sortIndex;return O!==0?O:I.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,h=3,p=!1,y=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(I){for(var C=n(u);C!==null;){if(C.callback===null)r(u);else if(C.startTime<=I)r(u),C.sortIndex=C.expirationTime,t(l,C);else break;C=n(u)}}function w(I){if(v=!1,x(I),!y)if(n(l)!==null)y=!0,T(S);else{var C=n(u);C!==null&&z(w,C.startTime-I)}}function S(I,C){y=!1,v&&(v=!1,m(j),j=-1),p=!0;var O=h;try{for(x(C),f=n(l);f!==null&&(!(f.expirationTime>C)||I&&!q());){var A=f.callback;if(typeof A=="function"){f.callback=null,h=f.priorityLevel;var D=A(f.expirationTime<=C);C=e.unstable_now(),typeof D=="function"?f.callback=D:f===n(l)&&r(l),x(C)}else r(l);f=n(l)}if(f!==null)var B=!0;else{var V=n(u);V!==null&&z(w,V.startTime-C),B=!1}return B}finally{f=null,h=O,p=!1}}var k=!1,N=null,j=-1,R=5,M=-1;function q(){return!(e.unstable_now()-M<R)}function F(){if(N!==null){var I=e.unstable_now();M=I;var C=!0;try{C=N(!0,I)}finally{C?L():(k=!1,N=null)}}else k=!1}var L;if(typeof g=="function")L=function(){g(F)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,P=b.port2;b.port1.onmessage=F,L=function(){P.postMessage(null)}}else L=function(){_(F,0)};function T(I){N=I,k||(k=!0,L())}function z(I,C){j=_(function(){I(e.unstable_now())},C)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,T(S))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(I){switch(h){case 1:case 2:case 3:var C=3;break;default:C=h}var O=h;h=C;try{return I()}finally{h=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,C){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var O=h;h=I;try{return C()}finally{h=O}},e.unstable_scheduleCallback=function(I,C,O){var A=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?A+O:A):O=A,I){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=O+D,I={id:c++,callback:C,priorityLevel:I,startTime:O,expirationTime:D,sortIndex:-1},O>A?(I.sortIndex=O,t(u,I),n(l)===null&&I===n(u)&&(v?(m(j),j=-1):v=!0,z(w,O-A))):(I.sortIndex=D,t(l,I),y||p||(y=!0,T(S))),I},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(I){var C=h;return function(){var O=h;h=C;try{return I.apply(this,arguments)}finally{h=O}}}})(xb);yb.exports=xb;var dC=yb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hC=E,yt=dC;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wb=new Set,po={};function Rr(e,t){ci(e,t),ci(e+"Capture",t)}function ci(e,t){for(po[e]=t,e=0;e<t.length;e++)wb.add(t[e])}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jh=Object.prototype.hasOwnProperty,pC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qg={},Zg={};function mC(e){return Jh.call(Zg,e)?!0:Jh.call(Qg,e)?!1:pC.test(e)?Zg[e]=!0:(Qg[e]=!0,!1)}function gC(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function vC(e,t,n,r){if(t===null||typeof t>"u"||gC(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function rt(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ue[e]=new rt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ue[t]=new rt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ue[e]=new rt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ue[e]=new rt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ue[e]=new rt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ue[e]=new rt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ue[e]=new rt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ue[e]=new rt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ue[e]=new rt(e,5,!1,e.toLowerCase(),null,!1,!1)});var mm=/[\-:]([a-z])/g;function gm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mm,gm);Ue[t]=new rt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mm,gm);Ue[t]=new rt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mm,gm);Ue[t]=new rt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ue[e]=new rt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ue.xlinkHref=new rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ue[e]=new rt(e,1,!1,e.toLowerCase(),null,!0,!0)});function vm(e,t,n,r){var i=Ue.hasOwnProperty(t)?Ue[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(vC(t,n,i,r)&&(n=null),r||i===null?mC(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Nn=hC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,es=Symbol.for("react.element"),Br=Symbol.for("react.portal"),Hr=Symbol.for("react.fragment"),ym=Symbol.for("react.strict_mode"),ep=Symbol.for("react.profiler"),_b=Symbol.for("react.provider"),bb=Symbol.for("react.context"),xm=Symbol.for("react.forward_ref"),tp=Symbol.for("react.suspense"),np=Symbol.for("react.suspense_list"),wm=Symbol.for("react.memo"),An=Symbol.for("react.lazy"),Sb=Symbol.for("react.offscreen"),Jg=Symbol.iterator;function Ii(e){return e===null||typeof e!="object"?null:(e=Jg&&e[Jg]||e["@@iterator"],typeof e=="function"?e:null)}var ke=Object.assign,_l;function Vi(e){if(_l===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_l=t&&t[1]||""}return`
`+_l+e}var bl=!1;function Sl(e,t){if(!e||bl)return"";bl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{bl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Vi(e):""}function yC(e){switch(e.tag){case 5:return Vi(e.type);case 16:return Vi("Lazy");case 13:return Vi("Suspense");case 19:return Vi("SuspenseList");case 0:case 2:case 15:return e=Sl(e.type,!1),e;case 11:return e=Sl(e.type.render,!1),e;case 1:return e=Sl(e.type,!0),e;default:return""}}function rp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Hr:return"Fragment";case Br:return"Portal";case ep:return"Profiler";case ym:return"StrictMode";case tp:return"Suspense";case np:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case bb:return(e.displayName||"Context")+".Consumer";case _b:return(e._context.displayName||"Context")+".Provider";case xm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case wm:return t=e.displayName||null,t!==null?t:rp(e.type)||"Memo";case An:t=e._payload,e=e._init;try{return rp(e(t))}catch{}}return null}function xC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rp(t);case 8:return t===ym?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function er(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Eb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function wC(e){var t=Eb(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ts(e){e._valueTracker||(e._valueTracker=wC(e))}function kb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Eb(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Us(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ip(e,t){var n=t.checked;return ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ev(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=er(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Nb(e,t){t=t.checked,t!=null&&vm(e,"checked",t,!1)}function op(e,t){Nb(e,t);var n=er(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?sp(e,t.type,n):t.hasOwnProperty("defaultValue")&&sp(e,t.type,er(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function tv(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function sp(e,t,n){(t!=="number"||Us(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ui=Array.isArray;function ti(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+er(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ap(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function nv(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(H(92));if(Ui(n)){if(1<n.length)throw Error(H(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:er(n)}}function Cb(e,t){var n=er(t.value),r=er(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function rv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function jb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?jb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ns,Tb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ns=ns||document.createElement("div"),ns.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ns.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function mo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var no={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_C=["Webkit","ms","Moz","O"];Object.keys(no).forEach(function(e){_C.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),no[t]=no[e]})});function Rb(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||no.hasOwnProperty(e)&&no[e]?(""+t).trim():t+"px"}function Ib(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Rb(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var bC=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function up(e,t){if(t){if(bC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function cp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fp=null;function _m(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var dp=null,ni=null,ri=null;function iv(e){if(e=Bo(e)){if(typeof dp!="function")throw Error(H(280));var t=e.stateNode;t&&(t=Aa(t),dp(e.stateNode,e.type,t))}}function Pb(e){ni?ri?ri.push(e):ri=[e]:ni=e}function Ab(){if(ni){var e=ni,t=ri;if(ri=ni=null,iv(e),t)for(e=0;e<t.length;e++)iv(t[e])}}function Mb(e,t){return e(t)}function qb(){}var El=!1;function Ob(e,t,n){if(El)return e(t,n);El=!0;try{return Mb(e,t,n)}finally{El=!1,(ni!==null||ri!==null)&&(qb(),Ab())}}function go(e,t){var n=e.stateNode;if(n===null)return null;var r=Aa(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(H(231,t,typeof n));return n}var hp=!1;if(xn)try{var Pi={};Object.defineProperty(Pi,"passive",{get:function(){hp=!0}}),window.addEventListener("test",Pi,Pi),window.removeEventListener("test",Pi,Pi)}catch{hp=!1}function SC(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var ro=!1,Ws=null,Gs=!1,pp=null,EC={onError:function(e){ro=!0,Ws=e}};function kC(e,t,n,r,i,o,s,a,l){ro=!1,Ws=null,SC.apply(EC,arguments)}function NC(e,t,n,r,i,o,s,a,l){if(kC.apply(this,arguments),ro){if(ro){var u=Ws;ro=!1,Ws=null}else throw Error(H(198));Gs||(Gs=!0,pp=u)}}function Ir(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Lb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ov(e){if(Ir(e)!==e)throw Error(H(188))}function CC(e){var t=e.alternate;if(!t){if(t=Ir(e),t===null)throw Error(H(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ov(i),e;if(o===r)return ov(i),t;o=o.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?e:t}function zb(e){return e=CC(e),e!==null?Db(e):null}function Db(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Db(e);if(t!==null)return t;e=e.sibling}return null}var Fb=yt.unstable_scheduleCallback,sv=yt.unstable_cancelCallback,jC=yt.unstable_shouldYield,TC=yt.unstable_requestPaint,Re=yt.unstable_now,RC=yt.unstable_getCurrentPriorityLevel,bm=yt.unstable_ImmediatePriority,$b=yt.unstable_UserBlockingPriority,Ks=yt.unstable_NormalPriority,IC=yt.unstable_LowPriority,Bb=yt.unstable_IdlePriority,Ta=null,en=null;function PC(e){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Ta,e,void 0,(e.current.flags&128)===128)}catch{}}var Ft=Math.clz32?Math.clz32:qC,AC=Math.log,MC=Math.LN2;function qC(e){return e>>>=0,e===0?32:31-(AC(e)/MC|0)|0}var rs=64,is=4194304;function Wi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ys(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Wi(a):(o&=s,o!==0&&(r=Wi(o)))}else s=n&~i,s!==0?r=Wi(s):o!==0&&(r=Wi(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ft(t),i=1<<n,r|=e[n],t&=~i;return r}function OC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function LC(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Ft(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=OC(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function mp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Hb(){var e=rs;return rs<<=1,!(rs&4194240)&&(rs=64),e}function kl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Fo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ft(t),e[t]=n}function zC(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ft(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Sm(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ft(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var fe=0;function Vb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ub,Em,Wb,Gb,Kb,gp=!1,os=[],Vn=null,Un=null,Wn=null,vo=new Map,yo=new Map,Ln=[],DC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function av(e,t){switch(e){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":vo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yo.delete(t.pointerId)}}function Ai(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Bo(t),t!==null&&Em(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function FC(e,t,n,r,i){switch(t){case"focusin":return Vn=Ai(Vn,e,t,n,r,i),!0;case"dragenter":return Un=Ai(Un,e,t,n,r,i),!0;case"mouseover":return Wn=Ai(Wn,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return vo.set(o,Ai(vo.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,yo.set(o,Ai(yo.get(o)||null,e,t,n,r,i)),!0}return!1}function Yb(e){var t=hr(e.target);if(t!==null){var n=Ir(t);if(n!==null){if(t=n.tag,t===13){if(t=Lb(n),t!==null){e.blockedOn=t,Kb(e.priority,function(){Wb(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Is(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=vp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);fp=r,n.target.dispatchEvent(r),fp=null}else return t=Bo(n),t!==null&&Em(t),e.blockedOn=n,!1;t.shift()}return!0}function lv(e,t,n){Is(e)&&n.delete(t)}function $C(){gp=!1,Vn!==null&&Is(Vn)&&(Vn=null),Un!==null&&Is(Un)&&(Un=null),Wn!==null&&Is(Wn)&&(Wn=null),vo.forEach(lv),yo.forEach(lv)}function Mi(e,t){e.blockedOn===t&&(e.blockedOn=null,gp||(gp=!0,yt.unstable_scheduleCallback(yt.unstable_NormalPriority,$C)))}function xo(e){function t(i){return Mi(i,e)}if(0<os.length){Mi(os[0],e);for(var n=1;n<os.length;n++){var r=os[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Vn!==null&&Mi(Vn,e),Un!==null&&Mi(Un,e),Wn!==null&&Mi(Wn,e),vo.forEach(t),yo.forEach(t),n=0;n<Ln.length;n++)r=Ln[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ln.length&&(n=Ln[0],n.blockedOn===null);)Yb(n),n.blockedOn===null&&Ln.shift()}var ii=Nn.ReactCurrentBatchConfig,Xs=!0;function BC(e,t,n,r){var i=fe,o=ii.transition;ii.transition=null;try{fe=1,km(e,t,n,r)}finally{fe=i,ii.transition=o}}function HC(e,t,n,r){var i=fe,o=ii.transition;ii.transition=null;try{fe=4,km(e,t,n,r)}finally{fe=i,ii.transition=o}}function km(e,t,n,r){if(Xs){var i=vp(e,t,n,r);if(i===null)ql(e,t,r,Qs,n),av(e,r);else if(FC(i,e,t,n,r))r.stopPropagation();else if(av(e,r),t&4&&-1<DC.indexOf(e)){for(;i!==null;){var o=Bo(i);if(o!==null&&Ub(o),o=vp(e,t,n,r),o===null&&ql(e,t,r,Qs,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else ql(e,t,r,null,n)}}var Qs=null;function vp(e,t,n,r){if(Qs=null,e=_m(r),e=hr(e),e!==null)if(t=Ir(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Lb(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qs=e,null}function Xb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(RC()){case bm:return 1;case $b:return 4;case Ks:case IC:return 16;case Bb:return 536870912;default:return 16}default:return 16}}var Bn=null,Nm=null,Ps=null;function Qb(){if(Ps)return Ps;var e,t=Nm,n=t.length,r,i="value"in Bn?Bn.value:Bn.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return Ps=i.slice(e,1<r?1-r:void 0)}function As(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ss(){return!0}function uv(){return!1}function _t(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ss:uv,this.isPropagationStopped=uv,this}return ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),t}var bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cm=_t(bi),$o=ke({},bi,{view:0,detail:0}),VC=_t($o),Nl,Cl,qi,Ra=ke({},$o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qi&&(qi&&e.type==="mousemove"?(Nl=e.screenX-qi.screenX,Cl=e.screenY-qi.screenY):Cl=Nl=0,qi=e),Nl)},movementY:function(e){return"movementY"in e?e.movementY:Cl}}),cv=_t(Ra),UC=ke({},Ra,{dataTransfer:0}),WC=_t(UC),GC=ke({},$o,{relatedTarget:0}),jl=_t(GC),KC=ke({},bi,{animationName:0,elapsedTime:0,pseudoElement:0}),YC=_t(KC),XC=ke({},bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),QC=_t(XC),ZC=ke({},bi,{data:0}),fv=_t(ZC),JC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ej={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=tj[e])?!!t[e]:!1}function jm(){return nj}var rj=ke({},$o,{key:function(e){if(e.key){var t=JC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=As(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ej[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jm,charCode:function(e){return e.type==="keypress"?As(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?As(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ij=_t(rj),oj=ke({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dv=_t(oj),sj=ke({},$o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jm}),aj=_t(sj),lj=ke({},bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),uj=_t(lj),cj=ke({},Ra,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fj=_t(cj),dj=[9,13,27,32],Tm=xn&&"CompositionEvent"in window,io=null;xn&&"documentMode"in document&&(io=document.documentMode);var hj=xn&&"TextEvent"in window&&!io,Zb=xn&&(!Tm||io&&8<io&&11>=io),hv=" ",pv=!1;function Jb(e,t){switch(e){case"keyup":return dj.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vr=!1;function pj(e,t){switch(e){case"compositionend":return eS(t);case"keypress":return t.which!==32?null:(pv=!0,hv);case"textInput":return e=t.data,e===hv&&pv?null:e;default:return null}}function mj(e,t){if(Vr)return e==="compositionend"||!Tm&&Jb(e,t)?(e=Qb(),Ps=Nm=Bn=null,Vr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Zb&&t.locale!=="ko"?null:t.data;default:return null}}var gj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gj[e.type]:t==="textarea"}function tS(e,t,n,r){Pb(r),t=Zs(t,"onChange"),0<t.length&&(n=new Cm("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var oo=null,wo=null;function vj(e){dS(e,0)}function Ia(e){var t=Gr(e);if(kb(t))return e}function yj(e,t){if(e==="change")return t}var nS=!1;if(xn){var Tl;if(xn){var Rl="oninput"in document;if(!Rl){var gv=document.createElement("div");gv.setAttribute("oninput","return;"),Rl=typeof gv.oninput=="function"}Tl=Rl}else Tl=!1;nS=Tl&&(!document.documentMode||9<document.documentMode)}function vv(){oo&&(oo.detachEvent("onpropertychange",rS),wo=oo=null)}function rS(e){if(e.propertyName==="value"&&Ia(wo)){var t=[];tS(t,wo,e,_m(e)),Ob(vj,t)}}function xj(e,t,n){e==="focusin"?(vv(),oo=t,wo=n,oo.attachEvent("onpropertychange",rS)):e==="focusout"&&vv()}function wj(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ia(wo)}function _j(e,t){if(e==="click")return Ia(t)}function bj(e,t){if(e==="input"||e==="change")return Ia(t)}function Sj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bt=typeof Object.is=="function"?Object.is:Sj;function _o(e,t){if(Bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Jh.call(t,i)||!Bt(e[i],t[i]))return!1}return!0}function yv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xv(e,t){var n=yv(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yv(n)}}function iS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?iS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function oS(){for(var e=window,t=Us();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Us(e.document)}return t}function Rm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ej(e){var t=oS(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&iS(n.ownerDocument.documentElement,n)){if(r!==null&&Rm(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=xv(n,o);var s=xv(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kj=xn&&"documentMode"in document&&11>=document.documentMode,Ur=null,yp=null,so=null,xp=!1;function wv(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xp||Ur==null||Ur!==Us(r)||(r=Ur,"selectionStart"in r&&Rm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),so&&_o(so,r)||(so=r,r=Zs(yp,"onSelect"),0<r.length&&(t=new Cm("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ur)))}function as(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Wr={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionend:as("Transition","TransitionEnd")},Il={},sS={};xn&&(sS=document.createElement("div").style,"AnimationEvent"in window||(delete Wr.animationend.animation,delete Wr.animationiteration.animation,delete Wr.animationstart.animation),"TransitionEvent"in window||delete Wr.transitionend.transition);function Pa(e){if(Il[e])return Il[e];if(!Wr[e])return e;var t=Wr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in sS)return Il[e]=t[n];return e}var aS=Pa("animationend"),lS=Pa("animationiteration"),uS=Pa("animationstart"),cS=Pa("transitionend"),fS=new Map,_v="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ir(e,t){fS.set(e,t),Rr(t,[e])}for(var Pl=0;Pl<_v.length;Pl++){var Al=_v[Pl],Nj=Al.toLowerCase(),Cj=Al[0].toUpperCase()+Al.slice(1);ir(Nj,"on"+Cj)}ir(aS,"onAnimationEnd");ir(lS,"onAnimationIteration");ir(uS,"onAnimationStart");ir("dblclick","onDoubleClick");ir("focusin","onFocus");ir("focusout","onBlur");ir(cS,"onTransitionEnd");ci("onMouseEnter",["mouseout","mouseover"]);ci("onMouseLeave",["mouseout","mouseover"]);ci("onPointerEnter",["pointerout","pointerover"]);ci("onPointerLeave",["pointerout","pointerover"]);Rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gi));function bv(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,NC(r,t,void 0,e),e.currentTarget=null}function dS(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;bv(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;bv(i,a,u),o=l}}}if(Gs)throw e=pp,Gs=!1,pp=null,e}function me(e,t){var n=t[Ep];n===void 0&&(n=t[Ep]=new Set);var r=e+"__bubble";n.has(r)||(hS(t,e,2,!1),n.add(r))}function Ml(e,t,n){var r=0;t&&(r|=4),hS(n,e,r,t)}var ls="_reactListening"+Math.random().toString(36).slice(2);function bo(e){if(!e[ls]){e[ls]=!0,wb.forEach(function(n){n!=="selectionchange"&&(jj.has(n)||Ml(n,!1,e),Ml(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ls]||(t[ls]=!0,Ml("selectionchange",!1,t))}}function hS(e,t,n,r){switch(Xb(t)){case 1:var i=BC;break;case 4:i=HC;break;default:i=km}n=i.bind(null,t,n,e),i=void 0,!hp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ql(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=hr(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}Ob(function(){var u=o,c=_m(n),f=[];e:{var h=fS.get(e);if(h!==void 0){var p=Cm,y=e;switch(e){case"keypress":if(As(n)===0)break e;case"keydown":case"keyup":p=ij;break;case"focusin":y="focus",p=jl;break;case"focusout":y="blur",p=jl;break;case"beforeblur":case"afterblur":p=jl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=cv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=WC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=aj;break;case aS:case lS:case uS:p=YC;break;case cS:p=uj;break;case"scroll":p=VC;break;case"wheel":p=fj;break;case"copy":case"cut":case"paste":p=QC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=dv}var v=(t&4)!==0,_=!v&&e==="scroll",m=v?h!==null?h+"Capture":null:h;v=[];for(var g=u,x;g!==null;){x=g;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,m!==null&&(w=go(g,m),w!=null&&v.push(So(g,w,x)))),_)break;g=g.return}0<v.length&&(h=new p(h,y,null,n,c),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==fp&&(y=n.relatedTarget||n.fromElement)&&(hr(y)||y[wn]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?hr(y):null,y!==null&&(_=Ir(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(v=cv,w="onMouseLeave",m="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=dv,w="onPointerLeave",m="onPointerEnter",g="pointer"),_=p==null?h:Gr(p),x=y==null?h:Gr(y),h=new v(w,g+"leave",p,n,c),h.target=_,h.relatedTarget=x,w=null,hr(c)===u&&(v=new v(m,g+"enter",y,n,c),v.target=x,v.relatedTarget=_,w=v),_=w,p&&y)t:{for(v=p,m=y,g=0,x=v;x;x=Lr(x))g++;for(x=0,w=m;w;w=Lr(w))x++;for(;0<g-x;)v=Lr(v),g--;for(;0<x-g;)m=Lr(m),x--;for(;g--;){if(v===m||m!==null&&v===m.alternate)break t;v=Lr(v),m=Lr(m)}v=null}else v=null;p!==null&&Sv(f,h,p,v,!1),y!==null&&_!==null&&Sv(f,_,y,v,!0)}}e:{if(h=u?Gr(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=yj;else if(mv(h))if(nS)S=bj;else{S=wj;var k=xj}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=_j);if(S&&(S=S(e,u))){tS(f,S,n,c);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&sp(h,"number",h.value)}switch(k=u?Gr(u):window,e){case"focusin":(mv(k)||k.contentEditable==="true")&&(Ur=k,yp=u,so=null);break;case"focusout":so=yp=Ur=null;break;case"mousedown":xp=!0;break;case"contextmenu":case"mouseup":case"dragend":xp=!1,wv(f,n,c);break;case"selectionchange":if(kj)break;case"keydown":case"keyup":wv(f,n,c)}var N;if(Tm)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Vr?Jb(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(Zb&&n.locale!=="ko"&&(Vr||j!=="onCompositionStart"?j==="onCompositionEnd"&&Vr&&(N=Qb()):(Bn=c,Nm="value"in Bn?Bn.value:Bn.textContent,Vr=!0)),k=Zs(u,j),0<k.length&&(j=new fv(j,e,null,n,c),f.push({event:j,listeners:k}),N?j.data=N:(N=eS(n),N!==null&&(j.data=N)))),(N=hj?pj(e,n):mj(e,n))&&(u=Zs(u,"onBeforeInput"),0<u.length&&(c=new fv("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=N))}dS(f,t)})}function So(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zs(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=go(e,n),o!=null&&r.unshift(So(e,o,i)),o=go(e,t),o!=null&&r.push(So(e,o,i))),e=e.return}return r}function Lr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Sv(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=go(n,o),l!=null&&s.unshift(So(n,l,a))):i||(l=go(n,o),l!=null&&s.push(So(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Tj=/\r\n?/g,Rj=/\u0000|\uFFFD/g;function Ev(e){return(typeof e=="string"?e:""+e).replace(Tj,`
`).replace(Rj,"")}function us(e,t,n){if(t=Ev(t),Ev(e)!==t&&n)throw Error(H(425))}function Js(){}var wp=null,_p=null;function bp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Sp=typeof setTimeout=="function"?setTimeout:void 0,Ij=typeof clearTimeout=="function"?clearTimeout:void 0,kv=typeof Promise=="function"?Promise:void 0,Pj=typeof queueMicrotask=="function"?queueMicrotask:typeof kv<"u"?function(e){return kv.resolve(null).then(e).catch(Aj)}:Sp;function Aj(e){setTimeout(function(){throw e})}function Ol(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),xo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);xo(t)}function Gn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Nv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Si=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Si,Eo="__reactProps$"+Si,wn="__reactContainer$"+Si,Ep="__reactEvents$"+Si,Mj="__reactListeners$"+Si,qj="__reactHandles$"+Si;function hr(e){var t=e[Zt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[wn]||n[Zt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Nv(e);e!==null;){if(n=e[Zt])return n;e=Nv(e)}return t}e=n,n=e.parentNode}return null}function Bo(e){return e=e[Zt]||e[wn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function Aa(e){return e[Eo]||null}var kp=[],Kr=-1;function or(e){return{current:e}}function ge(e){0>Kr||(e.current=kp[Kr],kp[Kr]=null,Kr--)}function pe(e,t){Kr++,kp[Kr]=e.current,e.current=t}var tr={},Xe=or(tr),lt=or(!1),Sr=tr;function fi(e,t){var n=e.type.contextTypes;if(!n)return tr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ut(e){return e=e.childContextTypes,e!=null}function ea(){ge(lt),ge(Xe)}function Cv(e,t,n){if(Xe.current!==tr)throw Error(H(168));pe(Xe,t),pe(lt,n)}function pS(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(H(108,xC(e)||"Unknown",i));return ke({},n,r)}function ta(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tr,Sr=Xe.current,pe(Xe,e),pe(lt,lt.current),!0}function jv(e,t,n){var r=e.stateNode;if(!r)throw Error(H(169));n?(e=pS(e,t,Sr),r.__reactInternalMemoizedMergedChildContext=e,ge(lt),ge(Xe),pe(Xe,e)):ge(lt),pe(lt,n)}var fn=null,Ma=!1,Ll=!1;function mS(e){fn===null?fn=[e]:fn.push(e)}function Oj(e){Ma=!0,mS(e)}function sr(){if(!Ll&&fn!==null){Ll=!0;var e=0,t=fe;try{var n=fn;for(fe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}fn=null,Ma=!1}catch(i){throw fn!==null&&(fn=fn.slice(e+1)),Fb(bm,sr),i}finally{fe=t,Ll=!1}}return null}var Yr=[],Xr=0,na=null,ra=0,St=[],Et=0,Er=null,dn=1,hn="";function cr(e,t){Yr[Xr++]=ra,Yr[Xr++]=na,na=e,ra=t}function gS(e,t,n){St[Et++]=dn,St[Et++]=hn,St[Et++]=Er,Er=e;var r=dn;e=hn;var i=32-Ft(r)-1;r&=~(1<<i),n+=1;var o=32-Ft(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,dn=1<<32-Ft(t)+i|n<<i|r,hn=o+e}else dn=1<<o|n<<i|r,hn=e}function Im(e){e.return!==null&&(cr(e,1),gS(e,1,0))}function Pm(e){for(;e===na;)na=Yr[--Xr],Yr[Xr]=null,ra=Yr[--Xr],Yr[Xr]=null;for(;e===Er;)Er=St[--Et],St[Et]=null,hn=St[--Et],St[Et]=null,dn=St[--Et],St[Et]=null}var vt=null,gt=null,xe=!1,zt=null;function vS(e,t){var n=Nt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Tv(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vt=e,gt=Gn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vt=e,gt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Er!==null?{id:dn,overflow:hn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Nt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,vt=e,gt=null,!0):!1;default:return!1}}function Np(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Cp(e){if(xe){var t=gt;if(t){var n=t;if(!Tv(e,t)){if(Np(e))throw Error(H(418));t=Gn(n.nextSibling);var r=vt;t&&Tv(e,t)?vS(r,n):(e.flags=e.flags&-4097|2,xe=!1,vt=e)}}else{if(Np(e))throw Error(H(418));e.flags=e.flags&-4097|2,xe=!1,vt=e}}}function Rv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vt=e}function cs(e){if(e!==vt)return!1;if(!xe)return Rv(e),xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!bp(e.type,e.memoizedProps)),t&&(t=gt)){if(Np(e))throw yS(),Error(H(418));for(;t;)vS(e,t),t=Gn(t.nextSibling)}if(Rv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){gt=Gn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}gt=null}}else gt=vt?Gn(e.stateNode.nextSibling):null;return!0}function yS(){for(var e=gt;e;)e=Gn(e.nextSibling)}function di(){gt=vt=null,xe=!1}function Am(e){zt===null?zt=[e]:zt.push(e)}var Lj=Nn.ReactCurrentBatchConfig;function Oi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,e))}return e}function fs(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Iv(e){var t=e._init;return t(e._payload)}function xS(e){function t(m,g){if(e){var x=m.deletions;x===null?(m.deletions=[g],m.flags|=16):x.push(g)}}function n(m,g){if(!e)return null;for(;g!==null;)t(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function i(m,g){return m=Qn(m,g),m.index=0,m.sibling=null,m}function o(m,g,x){return m.index=x,e?(x=m.alternate,x!==null?(x=x.index,x<g?(m.flags|=2,g):x):(m.flags|=2,g)):(m.flags|=1048576,g)}function s(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,g,x,w){return g===null||g.tag!==6?(g=Vl(x,m.mode,w),g.return=m,g):(g=i(g,x),g.return=m,g)}function l(m,g,x,w){var S=x.type;return S===Hr?c(m,g,x.props.children,w,x.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===An&&Iv(S)===g.type)?(w=i(g,x.props),w.ref=Oi(m,g,x),w.return=m,w):(w=Fs(x.type,x.key,x.props,null,m.mode,w),w.ref=Oi(m,g,x),w.return=m,w)}function u(m,g,x,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=Ul(x,m.mode,w),g.return=m,g):(g=i(g,x.children||[]),g.return=m,g)}function c(m,g,x,w,S){return g===null||g.tag!==7?(g=wr(x,m.mode,w,S),g.return=m,g):(g=i(g,x),g.return=m,g)}function f(m,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Vl(""+g,m.mode,x),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case es:return x=Fs(g.type,g.key,g.props,null,m.mode,x),x.ref=Oi(m,null,g),x.return=m,x;case Br:return g=Ul(g,m.mode,x),g.return=m,g;case An:var w=g._init;return f(m,w(g._payload),x)}if(Ui(g)||Ii(g))return g=wr(g,m.mode,x,null),g.return=m,g;fs(m,g)}return null}function h(m,g,x,w){var S=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:a(m,g,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case es:return x.key===S?l(m,g,x,w):null;case Br:return x.key===S?u(m,g,x,w):null;case An:return S=x._init,h(m,g,S(x._payload),w)}if(Ui(x)||Ii(x))return S!==null?null:c(m,g,x,w,null);fs(m,x)}return null}function p(m,g,x,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(x)||null,a(g,m,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case es:return m=m.get(w.key===null?x:w.key)||null,l(g,m,w,S);case Br:return m=m.get(w.key===null?x:w.key)||null,u(g,m,w,S);case An:var k=w._init;return p(m,g,x,k(w._payload),S)}if(Ui(w)||Ii(w))return m=m.get(x)||null,c(g,m,w,S,null);fs(g,w)}return null}function y(m,g,x,w){for(var S=null,k=null,N=g,j=g=0,R=null;N!==null&&j<x.length;j++){N.index>j?(R=N,N=null):R=N.sibling;var M=h(m,N,x[j],w);if(M===null){N===null&&(N=R);break}e&&N&&M.alternate===null&&t(m,N),g=o(M,g,j),k===null?S=M:k.sibling=M,k=M,N=R}if(j===x.length)return n(m,N),xe&&cr(m,j),S;if(N===null){for(;j<x.length;j++)N=f(m,x[j],w),N!==null&&(g=o(N,g,j),k===null?S=N:k.sibling=N,k=N);return xe&&cr(m,j),S}for(N=r(m,N);j<x.length;j++)R=p(N,m,j,x[j],w),R!==null&&(e&&R.alternate!==null&&N.delete(R.key===null?j:R.key),g=o(R,g,j),k===null?S=R:k.sibling=R,k=R);return e&&N.forEach(function(q){return t(m,q)}),xe&&cr(m,j),S}function v(m,g,x,w){var S=Ii(x);if(typeof S!="function")throw Error(H(150));if(x=S.call(x),x==null)throw Error(H(151));for(var k=S=null,N=g,j=g=0,R=null,M=x.next();N!==null&&!M.done;j++,M=x.next()){N.index>j?(R=N,N=null):R=N.sibling;var q=h(m,N,M.value,w);if(q===null){N===null&&(N=R);break}e&&N&&q.alternate===null&&t(m,N),g=o(q,g,j),k===null?S=q:k.sibling=q,k=q,N=R}if(M.done)return n(m,N),xe&&cr(m,j),S;if(N===null){for(;!M.done;j++,M=x.next())M=f(m,M.value,w),M!==null&&(g=o(M,g,j),k===null?S=M:k.sibling=M,k=M);return xe&&cr(m,j),S}for(N=r(m,N);!M.done;j++,M=x.next())M=p(N,m,j,M.value,w),M!==null&&(e&&M.alternate!==null&&N.delete(M.key===null?j:M.key),g=o(M,g,j),k===null?S=M:k.sibling=M,k=M);return e&&N.forEach(function(F){return t(m,F)}),xe&&cr(m,j),S}function _(m,g,x,w){if(typeof x=="object"&&x!==null&&x.type===Hr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case es:e:{for(var S=x.key,k=g;k!==null;){if(k.key===S){if(S=x.type,S===Hr){if(k.tag===7){n(m,k.sibling),g=i(k,x.props.children),g.return=m,m=g;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===An&&Iv(S)===k.type){n(m,k.sibling),g=i(k,x.props),g.ref=Oi(m,k,x),g.return=m,m=g;break e}n(m,k);break}else t(m,k);k=k.sibling}x.type===Hr?(g=wr(x.props.children,m.mode,w,x.key),g.return=m,m=g):(w=Fs(x.type,x.key,x.props,null,m.mode,w),w.ref=Oi(m,g,x),w.return=m,m=w)}return s(m);case Br:e:{for(k=x.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){n(m,g.sibling),g=i(g,x.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else t(m,g);g=g.sibling}g=Ul(x,m.mode,w),g.return=m,m=g}return s(m);case An:return k=x._init,_(m,g,k(x._payload),w)}if(Ui(x))return y(m,g,x,w);if(Ii(x))return v(m,g,x,w);fs(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(n(m,g.sibling),g=i(g,x),g.return=m,m=g):(n(m,g),g=Vl(x,m.mode,w),g.return=m,m=g),s(m)):n(m,g)}return _}var hi=xS(!0),wS=xS(!1),ia=or(null),oa=null,Qr=null,Mm=null;function qm(){Mm=Qr=oa=null}function Om(e){var t=ia.current;ge(ia),e._currentValue=t}function jp(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function oi(e,t){oa=e,Mm=Qr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(st=!0),e.firstContext=null)}function Tt(e){var t=e._currentValue;if(Mm!==e)if(e={context:e,memoizedValue:t,next:null},Qr===null){if(oa===null)throw Error(H(308));Qr=e,oa.dependencies={lanes:0,firstContext:e}}else Qr=Qr.next=e;return t}var pr=null;function Lm(e){pr===null?pr=[e]:pr.push(e)}function _S(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Lm(t)):(n.next=i.next,i.next=n),t.interleaved=n,_n(e,r)}function _n(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Mn=!1;function zm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Kn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,_n(e,n)}return i=r.interleaved,i===null?(t.next=t,Lm(r)):(t.next=i.next,i.next=t),r.interleaved=t,_n(e,n)}function Ms(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Sm(e,n)}}function Pv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function sa(e,t,n,r){var i=e.updateQueue;Mn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var h=a.lane,p=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,v=a;switch(h=t,p=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){f=y.call(p,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,h=typeof y=="function"?y.call(p,f,h):y,h==null)break e;f=ke({},f,h);break e;case 2:Mn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Nr|=s,e.lanes=s,e.memoizedState=f}}function Av(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var Ho={},tn=or(Ho),ko=or(Ho),No=or(Ho);function mr(e){if(e===Ho)throw Error(H(174));return e}function Dm(e,t){switch(pe(No,t),pe(ko,e),pe(tn,Ho),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:lp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=lp(t,e)}ge(tn),pe(tn,t)}function pi(){ge(tn),ge(ko),ge(No)}function SS(e){mr(No.current);var t=mr(tn.current),n=lp(t,e.type);t!==n&&(pe(ko,e),pe(tn,n))}function Fm(e){ko.current===e&&(ge(tn),ge(ko))}var Se=or(0);function aa(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zl=[];function $m(){for(var e=0;e<zl.length;e++)zl[e]._workInProgressVersionPrimary=null;zl.length=0}var qs=Nn.ReactCurrentDispatcher,Dl=Nn.ReactCurrentBatchConfig,kr=0,Ee=null,Oe=null,De=null,la=!1,ao=!1,Co=0,zj=0;function Ge(){throw Error(H(321))}function Bm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Bt(e[n],t[n]))return!1;return!0}function Hm(e,t,n,r,i,o){if(kr=o,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qs.current=e===null||e.memoizedState===null?Bj:Hj,e=n(r,i),ao){o=0;do{if(ao=!1,Co=0,25<=o)throw Error(H(301));o+=1,De=Oe=null,t.updateQueue=null,qs.current=Vj,e=n(r,i)}while(ao)}if(qs.current=ua,t=Oe!==null&&Oe.next!==null,kr=0,De=Oe=Ee=null,la=!1,t)throw Error(H(300));return e}function Vm(){var e=Co!==0;return Co=0,e}function Yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?Ee.memoizedState=De=e:De=De.next=e,De}function Rt(){if(Oe===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=Oe.next;var t=De===null?Ee.memoizedState:De.next;if(t!==null)De=t,Oe=e;else{if(e===null)throw Error(H(310));Oe=e,e={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},De===null?Ee.memoizedState=De=e:De=De.next=e}return De}function jo(e,t){return typeof t=="function"?t(e):t}function Fl(e){var t=Rt(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=Oe,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((kr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,Ee.lanes|=c,Nr|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Bt(r,t.memoizedState)||(st=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Ee.lanes|=o,Nr|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function $l(e){var t=Rt(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Bt(o,t.memoizedState)||(st=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ES(){}function kS(e,t){var n=Ee,r=Rt(),i=t(),o=!Bt(r.memoizedState,i);if(o&&(r.memoizedState=i,st=!0),r=r.queue,Um(jS.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||De!==null&&De.memoizedState.tag&1){if(n.flags|=2048,To(9,CS.bind(null,n,r,i,t),void 0,null),Fe===null)throw Error(H(349));kr&30||NS(n,t,i)}return i}function NS(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function CS(e,t,n,r){t.value=n,t.getSnapshot=r,TS(t)&&RS(e)}function jS(e,t,n){return n(function(){TS(t)&&RS(e)})}function TS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Bt(e,n)}catch{return!0}}function RS(e){var t=_n(e,1);t!==null&&$t(t,e,1,-1)}function Mv(e){var t=Yt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:e},t.queue=e,e=e.dispatch=$j.bind(null,Ee,e),[t.memoizedState,e]}function To(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function IS(){return Rt().memoizedState}function Os(e,t,n,r){var i=Yt();Ee.flags|=e,i.memoizedState=To(1|t,n,void 0,r===void 0?null:r)}function qa(e,t,n,r){var i=Rt();r=r===void 0?null:r;var o=void 0;if(Oe!==null){var s=Oe.memoizedState;if(o=s.destroy,r!==null&&Bm(r,s.deps)){i.memoizedState=To(t,n,o,r);return}}Ee.flags|=e,i.memoizedState=To(1|t,n,o,r)}function qv(e,t){return Os(8390656,8,e,t)}function Um(e,t){return qa(2048,8,e,t)}function PS(e,t){return qa(4,2,e,t)}function AS(e,t){return qa(4,4,e,t)}function MS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qS(e,t,n){return n=n!=null?n.concat([e]):null,qa(4,4,MS.bind(null,t,e),n)}function Wm(){}function OS(e,t){var n=Rt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Bm(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function LS(e,t){var n=Rt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Bm(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function zS(e,t,n){return kr&21?(Bt(n,t)||(n=Hb(),Ee.lanes|=n,Nr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,st=!0),e.memoizedState=n)}function Dj(e,t){var n=fe;fe=n!==0&&4>n?n:4,e(!0);var r=Dl.transition;Dl.transition={};try{e(!1),t()}finally{fe=n,Dl.transition=r}}function DS(){return Rt().memoizedState}function Fj(e,t,n){var r=Xn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},FS(e))$S(t,n);else if(n=_S(e,t,n,r),n!==null){var i=tt();$t(n,e,r,i),BS(n,t,r)}}function $j(e,t,n){var r=Xn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(FS(e))$S(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Bt(a,s)){var l=t.interleaved;l===null?(i.next=i,Lm(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=_S(e,t,i,r),n!==null&&(i=tt(),$t(n,e,r,i),BS(n,t,r))}}function FS(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function $S(e,t){ao=la=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function BS(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Sm(e,n)}}var ua={readContext:Tt,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},Bj={readContext:Tt,useCallback:function(e,t){return Yt().memoizedState=[e,t===void 0?null:t],e},useContext:Tt,useEffect:qv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Os(4194308,4,MS.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Os(4194308,4,e,t)},useInsertionEffect:function(e,t){return Os(4,2,e,t)},useMemo:function(e,t){var n=Yt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Yt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Fj.bind(null,Ee,e),[r.memoizedState,e]},useRef:function(e){var t=Yt();return e={current:e},t.memoizedState=e},useState:Mv,useDebugValue:Wm,useDeferredValue:function(e){return Yt().memoizedState=e},useTransition:function(){var e=Mv(!1),t=e[0];return e=Dj.bind(null,e[1]),Yt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ee,i=Yt();if(xe){if(n===void 0)throw Error(H(407));n=n()}else{if(n=t(),Fe===null)throw Error(H(349));kr&30||NS(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qv(jS.bind(null,r,o,e),[e]),r.flags|=2048,To(9,CS.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Yt(),t=Fe.identifierPrefix;if(xe){var n=hn,r=dn;n=(r&~(1<<32-Ft(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Co++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=zj++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Hj={readContext:Tt,useCallback:OS,useContext:Tt,useEffect:Um,useImperativeHandle:qS,useInsertionEffect:PS,useLayoutEffect:AS,useMemo:LS,useReducer:Fl,useRef:IS,useState:function(){return Fl(jo)},useDebugValue:Wm,useDeferredValue:function(e){var t=Rt();return zS(t,Oe.memoizedState,e)},useTransition:function(){var e=Fl(jo)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:ES,useSyncExternalStore:kS,useId:DS,unstable_isNewReconciler:!1},Vj={readContext:Tt,useCallback:OS,useContext:Tt,useEffect:Um,useImperativeHandle:qS,useInsertionEffect:PS,useLayoutEffect:AS,useMemo:LS,useReducer:$l,useRef:IS,useState:function(){return $l(jo)},useDebugValue:Wm,useDeferredValue:function(e){var t=Rt();return Oe===null?t.memoizedState=e:zS(t,Oe.memoizedState,e)},useTransition:function(){var e=$l(jo)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:ES,useSyncExternalStore:kS,useId:DS,unstable_isNewReconciler:!1};function qt(e,t){if(e&&e.defaultProps){t=ke({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Tp(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ke({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Oa={isMounted:function(e){return(e=e._reactInternals)?Ir(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tt(),i=Xn(e),o=vn(r,i);o.payload=t,n!=null&&(o.callback=n),t=Kn(e,o,i),t!==null&&($t(t,e,i,r),Ms(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tt(),i=Xn(e),o=vn(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Kn(e,o,i),t!==null&&($t(t,e,i,r),Ms(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tt(),r=Xn(e),i=vn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Kn(e,i,r),t!==null&&($t(t,e,r,n),Ms(t,e,r))}};function Ov(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!_o(n,r)||!_o(i,o):!0}function HS(e,t,n){var r=!1,i=tr,o=t.contextType;return typeof o=="object"&&o!==null?o=Tt(o):(i=ut(t)?Sr:Xe.current,r=t.contextTypes,o=(r=r!=null)?fi(e,i):tr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Oa,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Lv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Oa.enqueueReplaceState(t,t.state,null)}function Rp(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},zm(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Tt(o):(o=ut(t)?Sr:Xe.current,i.context=fi(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Tp(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Oa.enqueueReplaceState(i,i.state,null),sa(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function mi(e,t){try{var n="",r=t;do n+=yC(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Bl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ip(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Uj=typeof WeakMap=="function"?WeakMap:Map;function VS(e,t,n){n=vn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){fa||(fa=!0,$p=r),Ip(e,t)},n}function US(e,t,n){n=vn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Ip(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Ip(e,t),typeof r!="function"&&(Yn===null?Yn=new Set([this]):Yn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function zv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Uj;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=oT.bind(null,e,t,n),t.then(e,e))}function Dv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Fv(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=vn(-1,1),t.tag=2,Kn(n,t,1))),n.lanes|=1),e)}var Wj=Nn.ReactCurrentOwner,st=!1;function et(e,t,n,r){t.child=e===null?wS(t,null,n,r):hi(t,e.child,n,r)}function $v(e,t,n,r,i){n=n.render;var o=t.ref;return oi(t,i),r=Hm(e,t,n,r,o,i),n=Vm(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,bn(e,t,i)):(xe&&n&&Im(t),t.flags|=1,et(e,t,r,i),t.child)}function Bv(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!eg(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,WS(e,t,o,r,i)):(e=Fs(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:_o,n(s,r)&&e.ref===t.ref)return bn(e,t,i)}return t.flags|=1,e=Qn(o,r),e.ref=t.ref,e.return=t,t.child=e}function WS(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(_o(o,r)&&e.ref===t.ref)if(st=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(st=!0);else return t.lanes=e.lanes,bn(e,t,i)}return Pp(e,t,n,r,i)}function GS(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(Jr,pt),pt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,pe(Jr,pt),pt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,pe(Jr,pt),pt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,pe(Jr,pt),pt|=r;return et(e,t,i,n),t.child}function KS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Pp(e,t,n,r,i){var o=ut(n)?Sr:Xe.current;return o=fi(t,o),oi(t,i),n=Hm(e,t,n,r,o,i),r=Vm(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,bn(e,t,i)):(xe&&r&&Im(t),t.flags|=1,et(e,t,n,i),t.child)}function Hv(e,t,n,r,i){if(ut(n)){var o=!0;ta(t)}else o=!1;if(oi(t,i),t.stateNode===null)Ls(e,t),HS(t,n,r),Rp(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Tt(u):(u=ut(n)?Sr:Xe.current,u=fi(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Lv(t,s,r,u),Mn=!1;var h=t.memoizedState;s.state=h,sa(t,r,s,i),l=t.memoizedState,a!==r||h!==l||lt.current||Mn?(typeof c=="function"&&(Tp(t,n,c,r),l=t.memoizedState),(a=Mn||Ov(t,n,a,r,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,bS(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:qt(t.type,a),s.props=u,f=t.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Tt(l):(l=ut(n)?Sr:Xe.current,l=fi(t,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&Lv(t,s,r,l),Mn=!1,h=t.memoizedState,s.state=h,sa(t,r,s,i);var y=t.memoizedState;a!==f||h!==y||lt.current||Mn?(typeof p=="function"&&(Tp(t,n,p,r),y=t.memoizedState),(u=Mn||Ov(t,n,u,r,h,y,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),s.props=r,s.state=y,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ap(e,t,n,r,o,i)}function Ap(e,t,n,r,i,o){KS(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&jv(t,n,!1),bn(e,t,o);r=t.stateNode,Wj.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=hi(t,e.child,null,o),t.child=hi(t,null,a,o)):et(e,t,a,o),t.memoizedState=r.state,i&&jv(t,n,!0),t.child}function YS(e){var t=e.stateNode;t.pendingContext?Cv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Cv(e,t.context,!1),Dm(e,t.containerInfo)}function Vv(e,t,n,r,i){return di(),Am(i),t.flags|=256,et(e,t,n,r),t.child}var Mp={dehydrated:null,treeContext:null,retryLane:0};function qp(e){return{baseLanes:e,cachePool:null,transitions:null}}function XS(e,t,n){var r=t.pendingProps,i=Se.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),pe(Se,i&1),e===null)return Cp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Da(s,r,0,null),e=wr(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=qp(n),t.memoizedState=Mp,e):Gm(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Gj(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Qn(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Qn(a,o):(o=wr(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?qp(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Mp,r}return o=e.child,e=o.sibling,r=Qn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Gm(e,t){return t=Da({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ds(e,t,n,r){return r!==null&&Am(r),hi(t,e.child,null,n),e=Gm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Gj(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=Bl(Error(H(422))),ds(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Da({mode:"visible",children:r.children},i,0,null),o=wr(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&hi(t,e.child,null,s),t.child.memoizedState=qp(s),t.memoizedState=Mp,o);if(!(t.mode&1))return ds(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(H(419)),r=Bl(o,r,void 0),ds(e,t,s,r)}if(a=(s&e.childLanes)!==0,st||a){if(r=Fe,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,_n(e,i),$t(r,e,i,-1))}return Jm(),r=Bl(Error(H(421))),ds(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=sT.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,gt=Gn(i.nextSibling),vt=t,xe=!0,zt=null,e!==null&&(St[Et++]=dn,St[Et++]=hn,St[Et++]=Er,dn=e.id,hn=e.overflow,Er=t),t=Gm(t,r.children),t.flags|=4096,t)}function Uv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),jp(e.return,t,n)}function Hl(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function QS(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(et(e,t,r.children,n),r=Se.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Uv(e,n,t);else if(e.tag===19)Uv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(pe(Se,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&aa(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Hl(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&aa(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Hl(t,!0,n,null,o);break;case"together":Hl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ls(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Nr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,n=Qn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Qn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Kj(e,t,n){switch(t.tag){case 3:YS(t),di();break;case 5:SS(t);break;case 1:ut(t.type)&&ta(t);break;case 4:Dm(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;pe(ia,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(pe(Se,Se.current&1),t.flags|=128,null):n&t.child.childLanes?XS(e,t,n):(pe(Se,Se.current&1),e=bn(e,t,n),e!==null?e.sibling:null);pe(Se,Se.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return QS(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),pe(Se,Se.current),r)break;return null;case 22:case 23:return t.lanes=0,GS(e,t,n)}return bn(e,t,n)}var ZS,Op,JS,eE;ZS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Op=function(){};JS=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,mr(tn.current);var o=null;switch(n){case"input":i=ip(e,i),r=ip(e,r),o=[];break;case"select":i=ke({},i,{value:void 0}),r=ke({},r,{value:void 0}),o=[];break;case"textarea":i=ap(e,i),r=ap(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Js)}up(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(po.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(po.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&me("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};eE=function(e,t,n,r){n!==r&&(t.flags|=4)};function Li(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Yj(e,t,n){var r=t.pendingProps;switch(Pm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return ut(t.type)&&ea(),Ke(t),null;case 3:return r=t.stateNode,pi(),ge(lt),ge(Xe),$m(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(cs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,zt!==null&&(Vp(zt),zt=null))),Op(e,t),Ke(t),null;case 5:Fm(t);var i=mr(No.current);if(n=t.type,e!==null&&t.stateNode!=null)JS(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(H(166));return Ke(t),null}if(e=mr(tn.current),cs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Zt]=t,r[Eo]=o,e=(t.mode&1)!==0,n){case"dialog":me("cancel",r),me("close",r);break;case"iframe":case"object":case"embed":me("load",r);break;case"video":case"audio":for(i=0;i<Gi.length;i++)me(Gi[i],r);break;case"source":me("error",r);break;case"img":case"image":case"link":me("error",r),me("load",r);break;case"details":me("toggle",r);break;case"input":ev(r,o),me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},me("invalid",r);break;case"textarea":nv(r,o),me("invalid",r)}up(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&us(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&us(r.textContent,a,e),i=["children",""+a]):po.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&me("scroll",r)}switch(n){case"input":ts(r),tv(r,o,!0);break;case"textarea":ts(r),rv(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Js)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=jb(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Zt]=t,e[Eo]=r,ZS(e,t,!1,!1),t.stateNode=e;e:{switch(s=cp(n,r),n){case"dialog":me("cancel",e),me("close",e),i=r;break;case"iframe":case"object":case"embed":me("load",e),i=r;break;case"video":case"audio":for(i=0;i<Gi.length;i++)me(Gi[i],e);i=r;break;case"source":me("error",e),i=r;break;case"img":case"image":case"link":me("error",e),me("load",e),i=r;break;case"details":me("toggle",e),i=r;break;case"input":ev(e,r),i=ip(e,r),me("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ke({},r,{value:void 0}),me("invalid",e);break;case"textarea":nv(e,r),i=ap(e,r),me("invalid",e);break;default:i=r}up(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Ib(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Tb(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&mo(e,l):typeof l=="number"&&mo(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(po.hasOwnProperty(o)?l!=null&&o==="onScroll"&&me("scroll",e):l!=null&&vm(e,o,l,s))}switch(n){case"input":ts(e),tv(e,r,!1);break;case"textarea":ts(e),rv(e);break;case"option":r.value!=null&&e.setAttribute("value",""+er(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?ti(e,!!r.multiple,o,!1):r.defaultValue!=null&&ti(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Js)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ke(t),null;case 6:if(e&&t.stateNode!=null)eE(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(H(166));if(n=mr(No.current),mr(tn.current),cs(t)){if(r=t.stateNode,n=t.memoizedProps,r[Zt]=t,(o=r.nodeValue!==n)&&(e=vt,e!==null))switch(e.tag){case 3:us(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&us(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zt]=t,t.stateNode=r}return Ke(t),null;case 13:if(ge(Se),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xe&&gt!==null&&t.mode&1&&!(t.flags&128))yS(),di(),t.flags|=98560,o=!1;else if(o=cs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(H(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(H(317));o[Zt]=t}else di(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ke(t),o=!1}else zt!==null&&(Vp(zt),zt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Se.current&1?Le===0&&(Le=3):Jm())),t.updateQueue!==null&&(t.flags|=4),Ke(t),null);case 4:return pi(),Op(e,t),e===null&&bo(t.stateNode.containerInfo),Ke(t),null;case 10:return Om(t.type._context),Ke(t),null;case 17:return ut(t.type)&&ea(),Ke(t),null;case 19:if(ge(Se),o=t.memoizedState,o===null)return Ke(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Li(o,!1);else{if(Le!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=aa(e),s!==null){for(t.flags|=128,Li(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return pe(Se,Se.current&1|2),t.child}e=e.sibling}o.tail!==null&&Re()>gi&&(t.flags|=128,r=!0,Li(o,!1),t.lanes=4194304)}else{if(!r)if(e=aa(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Li(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!xe)return Ke(t),null}else 2*Re()-o.renderingStartTime>gi&&n!==1073741824&&(t.flags|=128,r=!0,Li(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Re(),t.sibling=null,n=Se.current,pe(Se,r?n&1|2:n&1),t):(Ke(t),null);case 22:case 23:return Zm(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?pt&1073741824&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function Xj(e,t){switch(Pm(t),t.tag){case 1:return ut(t.type)&&ea(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pi(),ge(lt),ge(Xe),$m(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Fm(t),null;case 13:if(ge(Se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));di()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ge(Se),null;case 4:return pi(),null;case 10:return Om(t.type._context),null;case 22:case 23:return Zm(),null;case 24:return null;default:return null}}var hs=!1,Ye=!1,Qj=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Zr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ne(e,t,r)}else n.current=null}function Lp(e,t,n){try{n()}catch(r){Ne(e,t,r)}}var Wv=!1;function Zj(e,t){if(wp=Xs,e=oS(),Rm(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=e,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===i&&(a=s),h===o&&++c===r&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(_p={focusedElem:e,selectionRange:n},Xs=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,_=y.memoizedState,m=t.stateNode,g=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:qt(t.type,v),_);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(w){Ne(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return y=Wv,Wv=!1,y}function lo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Lp(t,n,o)}i=i.next}while(i!==r)}}function La(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function zp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function tE(e){var t=e.alternate;t!==null&&(e.alternate=null,tE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zt],delete t[Eo],delete t[Ep],delete t[Mj],delete t[qj])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function nE(e){return e.tag===5||e.tag===3||e.tag===4}function Gv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Dp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Js));else if(r!==4&&(e=e.child,e!==null))for(Dp(e,t,n),e=e.sibling;e!==null;)Dp(e,t,n),e=e.sibling}function Fp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Fp(e,t,n),e=e.sibling;e!==null;)Fp(e,t,n),e=e.sibling}var He=null,Ot=!1;function Rn(e,t,n){for(n=n.child;n!==null;)rE(e,t,n),n=n.sibling}function rE(e,t,n){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Ta,n)}catch{}switch(n.tag){case 5:Ye||Zr(n,t);case 6:var r=He,i=Ot;He=null,Rn(e,t,n),He=r,Ot=i,He!==null&&(Ot?(e=He,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):He.removeChild(n.stateNode));break;case 18:He!==null&&(Ot?(e=He,n=n.stateNode,e.nodeType===8?Ol(e.parentNode,n):e.nodeType===1&&Ol(e,n),xo(e)):Ol(He,n.stateNode));break;case 4:r=He,i=Ot,He=n.stateNode.containerInfo,Ot=!0,Rn(e,t,n),He=r,Ot=i;break;case 0:case 11:case 14:case 15:if(!Ye&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Lp(n,t,s),i=i.next}while(i!==r)}Rn(e,t,n);break;case 1:if(!Ye&&(Zr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ne(n,t,a)}Rn(e,t,n);break;case 21:Rn(e,t,n);break;case 22:n.mode&1?(Ye=(r=Ye)||n.memoizedState!==null,Rn(e,t,n),Ye=r):Rn(e,t,n);break;default:Rn(e,t,n)}}function Kv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Qj),t.forEach(function(r){var i=aT.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function At(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:He=a.stateNode,Ot=!1;break e;case 3:He=a.stateNode.containerInfo,Ot=!0;break e;case 4:He=a.stateNode.containerInfo,Ot=!0;break e}a=a.return}if(He===null)throw Error(H(160));rE(o,s,i),He=null,Ot=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ne(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)iE(t,e),t=t.sibling}function iE(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(At(t,e),Kt(e),r&4){try{lo(3,e,e.return),La(3,e)}catch(v){Ne(e,e.return,v)}try{lo(5,e,e.return)}catch(v){Ne(e,e.return,v)}}break;case 1:At(t,e),Kt(e),r&512&&n!==null&&Zr(n,n.return);break;case 5:if(At(t,e),Kt(e),r&512&&n!==null&&Zr(n,n.return),e.flags&32){var i=e.stateNode;try{mo(i,"")}catch(v){Ne(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Nb(i,o),cp(a,s);var u=cp(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?Ib(i,f):c==="dangerouslySetInnerHTML"?Tb(i,f):c==="children"?mo(i,f):vm(i,c,f,u)}switch(a){case"input":op(i,o);break;case"textarea":Cb(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?ti(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?ti(i,!!o.multiple,o.defaultValue,!0):ti(i,!!o.multiple,o.multiple?[]:"",!1))}i[Eo]=o}catch(v){Ne(e,e.return,v)}}break;case 6:if(At(t,e),Kt(e),r&4){if(e.stateNode===null)throw Error(H(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(v){Ne(e,e.return,v)}}break;case 3:if(At(t,e),Kt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xo(t.containerInfo)}catch(v){Ne(e,e.return,v)}break;case 4:At(t,e),Kt(e);break;case 13:At(t,e),Kt(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Xm=Re())),r&4&&Kv(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Ye=(u=Ye)||c,At(t,e),Ye=u):At(t,e),Kt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(Y=e,c=e.child;c!==null;){for(f=Y=c;Y!==null;){switch(h=Y,p=h.child,h.tag){case 0:case 11:case 14:case 15:lo(4,h,h.return);break;case 1:Zr(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(v){Ne(r,n,v)}}break;case 5:Zr(h,h.return);break;case 22:if(h.memoizedState!==null){Xv(f);continue}}p!==null?(p.return=h,Y=p):Xv(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Rb("display",s))}catch(v){Ne(e,e.return,v)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Ne(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:At(t,e),Kt(e),r&4&&Kv(e);break;case 21:break;default:At(t,e),Kt(e)}}function Kt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(nE(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(mo(i,""),r.flags&=-33);var o=Gv(e);Fp(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Gv(e);Dp(e,a,s);break;default:throw Error(H(161))}}catch(l){Ne(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Jj(e,t,n){Y=e,oE(e)}function oE(e,t,n){for(var r=(e.mode&1)!==0;Y!==null;){var i=Y,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||hs;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ye;a=hs;var u=Ye;if(hs=s,(Ye=l)&&!u)for(Y=i;Y!==null;)s=Y,l=s.child,s.tag===22&&s.memoizedState!==null?Qv(i):l!==null?(l.return=s,Y=l):Qv(i);for(;o!==null;)Y=o,oE(o),o=o.sibling;Y=i,hs=a,Ye=u}Yv(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Y=o):Yv(e)}}function Yv(e){for(;Y!==null;){var t=Y;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ye||La(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ye)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:qt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Av(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Av(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&xo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Ye||t.flags&512&&zp(t)}catch(h){Ne(t,t.return,h)}}if(t===e){Y=null;break}if(n=t.sibling,n!==null){n.return=t.return,Y=n;break}Y=t.return}}function Xv(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Y=n;break}Y=t.return}}function Qv(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{La(4,t)}catch(l){Ne(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Ne(t,i,l)}}var o=t.return;try{zp(t)}catch(l){Ne(t,o,l)}break;case 5:var s=t.return;try{zp(t)}catch(l){Ne(t,s,l)}}}catch(l){Ne(t,t.return,l)}if(t===e){Y=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Y=a;break}Y=t.return}}var eT=Math.ceil,ca=Nn.ReactCurrentDispatcher,Km=Nn.ReactCurrentOwner,jt=Nn.ReactCurrentBatchConfig,ue=0,Fe=null,Pe=null,Ve=0,pt=0,Jr=or(0),Le=0,Ro=null,Nr=0,za=0,Ym=0,uo=null,ot=null,Xm=0,gi=1/0,cn=null,fa=!1,$p=null,Yn=null,ps=!1,Hn=null,da=0,co=0,Bp=null,zs=-1,Ds=0;function tt(){return ue&6?Re():zs!==-1?zs:zs=Re()}function Xn(e){return e.mode&1?ue&2&&Ve!==0?Ve&-Ve:Lj.transition!==null?(Ds===0&&(Ds=Hb()),Ds):(e=fe,e!==0||(e=window.event,e=e===void 0?16:Xb(e.type)),e):1}function $t(e,t,n,r){if(50<co)throw co=0,Bp=null,Error(H(185));Fo(e,n,r),(!(ue&2)||e!==Fe)&&(e===Fe&&(!(ue&2)&&(za|=n),Le===4&&zn(e,Ve)),ct(e,r),n===1&&ue===0&&!(t.mode&1)&&(gi=Re()+500,Ma&&sr()))}function ct(e,t){var n=e.callbackNode;LC(e,t);var r=Ys(e,e===Fe?Ve:0);if(r===0)n!==null&&sv(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&sv(n),t===1)e.tag===0?Oj(Zv.bind(null,e)):mS(Zv.bind(null,e)),Pj(function(){!(ue&6)&&sr()}),n=null;else{switch(Vb(r)){case 1:n=bm;break;case 4:n=$b;break;case 16:n=Ks;break;case 536870912:n=Bb;break;default:n=Ks}n=hE(n,sE.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sE(e,t){if(zs=-1,Ds=0,ue&6)throw Error(H(327));var n=e.callbackNode;if(si()&&e.callbackNode!==n)return null;var r=Ys(e,e===Fe?Ve:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ha(e,r);else{t=r;var i=ue;ue|=2;var o=lE();(Fe!==e||Ve!==t)&&(cn=null,gi=Re()+500,xr(e,t));do try{rT();break}catch(a){aE(e,a)}while(!0);qm(),ca.current=o,ue=i,Pe!==null?t=0:(Fe=null,Ve=0,t=Le)}if(t!==0){if(t===2&&(i=mp(e),i!==0&&(r=i,t=Hp(e,i))),t===1)throw n=Ro,xr(e,0),zn(e,r),ct(e,Re()),n;if(t===6)zn(e,r);else{if(i=e.current.alternate,!(r&30)&&!tT(i)&&(t=ha(e,r),t===2&&(o=mp(e),o!==0&&(r=o,t=Hp(e,o))),t===1))throw n=Ro,xr(e,0),zn(e,r),ct(e,Re()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(H(345));case 2:fr(e,ot,cn);break;case 3:if(zn(e,r),(r&130023424)===r&&(t=Xm+500-Re(),10<t)){if(Ys(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){tt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Sp(fr.bind(null,e,ot,cn),t);break}fr(e,ot,cn);break;case 4:if(zn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Ft(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=Re()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*eT(r/1960))-r,10<r){e.timeoutHandle=Sp(fr.bind(null,e,ot,cn),r);break}fr(e,ot,cn);break;case 5:fr(e,ot,cn);break;default:throw Error(H(329))}}}return ct(e,Re()),e.callbackNode===n?sE.bind(null,e):null}function Hp(e,t){var n=uo;return e.current.memoizedState.isDehydrated&&(xr(e,t).flags|=256),e=ha(e,t),e!==2&&(t=ot,ot=n,t!==null&&Vp(t)),e}function Vp(e){ot===null?ot=e:ot.push.apply(ot,e)}function tT(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Bt(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zn(e,t){for(t&=~Ym,t&=~za,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ft(t),r=1<<n;e[n]=-1,t&=~r}}function Zv(e){if(ue&6)throw Error(H(327));si();var t=Ys(e,0);if(!(t&1))return ct(e,Re()),null;var n=ha(e,t);if(e.tag!==0&&n===2){var r=mp(e);r!==0&&(t=r,n=Hp(e,r))}if(n===1)throw n=Ro,xr(e,0),zn(e,t),ct(e,Re()),n;if(n===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fr(e,ot,cn),ct(e,Re()),null}function Qm(e,t){var n=ue;ue|=1;try{return e(t)}finally{ue=n,ue===0&&(gi=Re()+500,Ma&&sr())}}function Cr(e){Hn!==null&&Hn.tag===0&&!(ue&6)&&si();var t=ue;ue|=1;var n=jt.transition,r=fe;try{if(jt.transition=null,fe=1,e)return e()}finally{fe=r,jt.transition=n,ue=t,!(ue&6)&&sr()}}function Zm(){pt=Jr.current,ge(Jr)}function xr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Ij(n)),Pe!==null)for(n=Pe.return;n!==null;){var r=n;switch(Pm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ea();break;case 3:pi(),ge(lt),ge(Xe),$m();break;case 5:Fm(r);break;case 4:pi();break;case 13:ge(Se);break;case 19:ge(Se);break;case 10:Om(r.type._context);break;case 22:case 23:Zm()}n=n.return}if(Fe=e,Pe=e=Qn(e.current,null),Ve=pt=t,Le=0,Ro=null,Ym=za=Nr=0,ot=uo=null,pr!==null){for(t=0;t<pr.length;t++)if(n=pr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}pr=null}return e}function aE(e,t){do{var n=Pe;try{if(qm(),qs.current=ua,la){for(var r=Ee.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}la=!1}if(kr=0,De=Oe=Ee=null,ao=!1,Co=0,Km.current=null,n===null||n.return===null){Le=1,Ro=t,Pe=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=Ve,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=Dv(s);if(p!==null){p.flags&=-257,Fv(p,s,a,o,t),p.mode&1&&zv(o,u,t),t=p,l=u;var y=t.updateQueue;if(y===null){var v=new Set;v.add(l),t.updateQueue=v}else y.add(l);break e}else{if(!(t&1)){zv(o,u,t),Jm();break e}l=Error(H(426))}}else if(xe&&a.mode&1){var _=Dv(s);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Fv(_,s,a,o,t),Am(mi(l,a));break e}}o=l=mi(l,a),Le!==4&&(Le=2),uo===null?uo=[o]:uo.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var m=VS(o,l,t);Pv(o,m);break e;case 1:a=l;var g=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Yn===null||!Yn.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t;var w=US(o,a,t);Pv(o,w);break e}}o=o.return}while(o!==null)}cE(n)}catch(S){t=S,Pe===n&&n!==null&&(Pe=n=n.return);continue}break}while(!0)}function lE(){var e=ca.current;return ca.current=ua,e===null?ua:e}function Jm(){(Le===0||Le===3||Le===2)&&(Le=4),Fe===null||!(Nr&268435455)&&!(za&268435455)||zn(Fe,Ve)}function ha(e,t){var n=ue;ue|=2;var r=lE();(Fe!==e||Ve!==t)&&(cn=null,xr(e,t));do try{nT();break}catch(i){aE(e,i)}while(!0);if(qm(),ue=n,ca.current=r,Pe!==null)throw Error(H(261));return Fe=null,Ve=0,Le}function nT(){for(;Pe!==null;)uE(Pe)}function rT(){for(;Pe!==null&&!jC();)uE(Pe)}function uE(e){var t=dE(e.alternate,e,pt);e.memoizedProps=e.pendingProps,t===null?cE(e):Pe=t,Km.current=null}function cE(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Xj(n,t),n!==null){n.flags&=32767,Pe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Le=6,Pe=null;return}}else if(n=Yj(n,t,pt),n!==null){Pe=n;return}if(t=t.sibling,t!==null){Pe=t;return}Pe=t=e}while(t!==null);Le===0&&(Le=5)}function fr(e,t,n){var r=fe,i=jt.transition;try{jt.transition=null,fe=1,iT(e,t,n,r)}finally{jt.transition=i,fe=r}return null}function iT(e,t,n,r){do si();while(Hn!==null);if(ue&6)throw Error(H(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(zC(e,o),e===Fe&&(Pe=Fe=null,Ve=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ps||(ps=!0,hE(Ks,function(){return si(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=jt.transition,jt.transition=null;var s=fe;fe=1;var a=ue;ue|=4,Km.current=null,Zj(e,n),iE(n,e),Ej(_p),Xs=!!wp,_p=wp=null,e.current=n,Jj(n),TC(),ue=a,fe=s,jt.transition=o}else e.current=n;if(ps&&(ps=!1,Hn=e,da=i),o=e.pendingLanes,o===0&&(Yn=null),PC(n.stateNode),ct(e,Re()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(fa)throw fa=!1,e=$p,$p=null,e;return da&1&&e.tag!==0&&si(),o=e.pendingLanes,o&1?e===Bp?co++:(co=0,Bp=e):co=0,sr(),null}function si(){if(Hn!==null){var e=Vb(da),t=jt.transition,n=fe;try{if(jt.transition=null,fe=16>e?16:e,Hn===null)var r=!1;else{if(e=Hn,Hn=null,da=0,ue&6)throw Error(H(331));var i=ue;for(ue|=4,Y=e.current;Y!==null;){var o=Y,s=o.child;if(Y.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Y=u;Y!==null;){var c=Y;switch(c.tag){case 0:case 11:case 15:lo(8,c,o)}var f=c.child;if(f!==null)f.return=c,Y=f;else for(;Y!==null;){c=Y;var h=c.sibling,p=c.return;if(tE(c),c===u){Y=null;break}if(h!==null){h.return=p,Y=h;break}Y=p}}}var y=o.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}Y=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Y=s;else e:for(;Y!==null;){if(o=Y,o.flags&2048)switch(o.tag){case 0:case 11:case 15:lo(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,Y=m;break e}Y=o.return}}var g=e.current;for(Y=g;Y!==null;){s=Y;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,Y=x;else e:for(s=g;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:La(9,a)}}catch(S){Ne(a,a.return,S)}if(a===s){Y=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,Y=w;break e}Y=a.return}}if(ue=i,sr(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Ta,e)}catch{}r=!0}return r}finally{fe=n,jt.transition=t}}return!1}function Jv(e,t,n){t=mi(n,t),t=VS(e,t,1),e=Kn(e,t,1),t=tt(),e!==null&&(Fo(e,1,t),ct(e,t))}function Ne(e,t,n){if(e.tag===3)Jv(e,e,n);else for(;t!==null;){if(t.tag===3){Jv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yn===null||!Yn.has(r))){e=mi(n,e),e=US(t,e,1),t=Kn(t,e,1),e=tt(),t!==null&&(Fo(t,1,e),ct(t,e));break}}t=t.return}}function oT(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=tt(),e.pingedLanes|=e.suspendedLanes&n,Fe===e&&(Ve&n)===n&&(Le===4||Le===3&&(Ve&130023424)===Ve&&500>Re()-Xm?xr(e,0):Ym|=n),ct(e,t)}function fE(e,t){t===0&&(e.mode&1?(t=is,is<<=1,!(is&130023424)&&(is=4194304)):t=1);var n=tt();e=_n(e,t),e!==null&&(Fo(e,t,n),ct(e,n))}function sT(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),fE(e,n)}function aT(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(t),fE(e,n)}var dE;dE=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||lt.current)st=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return st=!1,Kj(e,t,n);st=!!(e.flags&131072)}else st=!1,xe&&t.flags&1048576&&gS(t,ra,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ls(e,t),e=t.pendingProps;var i=fi(t,Xe.current);oi(t,n),i=Hm(null,t,r,e,i,n);var o=Vm();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ut(r)?(o=!0,ta(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,zm(t),i.updater=Oa,t.stateNode=i,i._reactInternals=t,Rp(t,r,e,n),t=Ap(null,t,r,!0,o,n)):(t.tag=0,xe&&o&&Im(t),et(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ls(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=uT(r),e=qt(r,e),i){case 0:t=Pp(null,t,r,e,n);break e;case 1:t=Hv(null,t,r,e,n);break e;case 11:t=$v(null,t,r,e,n);break e;case 14:t=Bv(null,t,r,qt(r.type,e),n);break e}throw Error(H(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qt(r,i),Pp(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qt(r,i),Hv(e,t,r,i,n);case 3:e:{if(YS(t),e===null)throw Error(H(387));r=t.pendingProps,o=t.memoizedState,i=o.element,bS(e,t),sa(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=mi(Error(H(423)),t),t=Vv(e,t,r,n,i);break e}else if(r!==i){i=mi(Error(H(424)),t),t=Vv(e,t,r,n,i);break e}else for(gt=Gn(t.stateNode.containerInfo.firstChild),vt=t,xe=!0,zt=null,n=wS(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(di(),r===i){t=bn(e,t,n);break e}et(e,t,r,n)}t=t.child}return t;case 5:return SS(t),e===null&&Cp(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,bp(r,i)?s=null:o!==null&&bp(r,o)&&(t.flags|=32),KS(e,t),et(e,t,s,n),t.child;case 6:return e===null&&Cp(t),null;case 13:return XS(e,t,n);case 4:return Dm(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=hi(t,null,r,n):et(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qt(r,i),$v(e,t,r,i,n);case 7:return et(e,t,t.pendingProps,n),t.child;case 8:return et(e,t,t.pendingProps.children,n),t.child;case 12:return et(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,pe(ia,r._currentValue),r._currentValue=s,o!==null)if(Bt(o.value,s)){if(o.children===i.children&&!lt.current){t=bn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=vn(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),jp(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(H(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),jp(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}et(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,oi(t,n),i=Tt(i),r=r(i),t.flags|=1,et(e,t,r,n),t.child;case 14:return r=t.type,i=qt(r,t.pendingProps),i=qt(r.type,i),Bv(e,t,r,i,n);case 15:return WS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qt(r,i),Ls(e,t),t.tag=1,ut(r)?(e=!0,ta(t)):e=!1,oi(t,n),HS(t,r,i),Rp(t,r,i,n),Ap(null,t,r,!0,e,n);case 19:return QS(e,t,n);case 22:return GS(e,t,n)}throw Error(H(156,t.tag))};function hE(e,t){return Fb(e,t)}function lT(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,n,r){return new lT(e,t,n,r)}function eg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function uT(e){if(typeof e=="function")return eg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xm)return 11;if(e===wm)return 14}return 2}function Qn(e,t){var n=e.alternate;return n===null?(n=Nt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fs(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")eg(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Hr:return wr(n.children,i,o,t);case ym:s=8,i|=8;break;case ep:return e=Nt(12,n,t,i|2),e.elementType=ep,e.lanes=o,e;case tp:return e=Nt(13,n,t,i),e.elementType=tp,e.lanes=o,e;case np:return e=Nt(19,n,t,i),e.elementType=np,e.lanes=o,e;case Sb:return Da(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _b:s=10;break e;case bb:s=9;break e;case xm:s=11;break e;case wm:s=14;break e;case An:s=16,r=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=Nt(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function wr(e,t,n,r){return e=Nt(7,e,r,t),e.lanes=n,e}function Da(e,t,n,r){return e=Nt(22,e,r,t),e.elementType=Sb,e.lanes=n,e.stateNode={isHidden:!1},e}function Vl(e,t,n){return e=Nt(6,e,null,t),e.lanes=n,e}function Ul(e,t,n){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function cT(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kl(0),this.expirationTimes=kl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function tg(e,t,n,r,i,o,s,a,l){return e=new cT(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Nt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zm(o),e}function fT(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Br,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function pE(e){if(!e)return tr;e=e._reactInternals;e:{if(Ir(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ut(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var n=e.type;if(ut(n))return pS(e,n,t)}return t}function mE(e,t,n,r,i,o,s,a,l){return e=tg(n,r,!0,e,i,o,s,a,l),e.context=pE(null),n=e.current,r=tt(),i=Xn(n),o=vn(r,i),o.callback=t??null,Kn(n,o,i),e.current.lanes=i,Fo(e,i,r),ct(e,r),e}function Fa(e,t,n,r){var i=t.current,o=tt(),s=Xn(i);return n=pE(n),t.context===null?t.context=n:t.pendingContext=n,t=vn(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Kn(i,t,s),e!==null&&($t(e,i,s,o),Ms(e,i,s)),s}function pa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ey(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ng(e,t){ey(e,t),(e=e.alternate)&&ey(e,t)}function dT(){return null}var gE=typeof reportError=="function"?reportError:function(e){console.error(e)};function rg(e){this._internalRoot=e}$a.prototype.render=rg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));Fa(e,t,null,null)};$a.prototype.unmount=rg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cr(function(){Fa(null,e,null,null)}),t[wn]=null}};function $a(e){this._internalRoot=e}$a.prototype.unstable_scheduleHydration=function(e){if(e){var t=Gb();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ln.length&&t!==0&&t<Ln[n].priority;n++);Ln.splice(n,0,e),n===0&&Yb(e)}};function ig(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ba(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ty(){}function hT(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=pa(s);o.call(u)}}var s=mE(t,r,e,0,null,!1,!1,"",ty);return e._reactRootContainer=s,e[wn]=s.current,bo(e.nodeType===8?e.parentNode:e),Cr(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=pa(l);a.call(u)}}var l=tg(e,0,!1,null,null,!1,!1,"",ty);return e._reactRootContainer=l,e[wn]=l.current,bo(e.nodeType===8?e.parentNode:e),Cr(function(){Fa(t,l,n,r)}),l}function Ha(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=pa(s);a.call(l)}}Fa(t,s,e,i)}else s=hT(n,t,e,i,r);return pa(s)}Ub=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Wi(t.pendingLanes);n!==0&&(Sm(t,n|1),ct(t,Re()),!(ue&6)&&(gi=Re()+500,sr()))}break;case 13:Cr(function(){var r=_n(e,1);if(r!==null){var i=tt();$t(r,e,1,i)}}),ng(e,1)}};Em=function(e){if(e.tag===13){var t=_n(e,134217728);if(t!==null){var n=tt();$t(t,e,134217728,n)}ng(e,134217728)}};Wb=function(e){if(e.tag===13){var t=Xn(e),n=_n(e,t);if(n!==null){var r=tt();$t(n,e,t,r)}ng(e,t)}};Gb=function(){return fe};Kb=function(e,t){var n=fe;try{return fe=e,t()}finally{fe=n}};dp=function(e,t,n){switch(t){case"input":if(op(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Aa(r);if(!i)throw Error(H(90));kb(r),op(r,i)}}}break;case"textarea":Cb(e,n);break;case"select":t=n.value,t!=null&&ti(e,!!n.multiple,t,!1)}};Mb=Qm;qb=Cr;var pT={usingClientEntryPoint:!1,Events:[Bo,Gr,Aa,Pb,Ab,Qm]},zi={findFiberByHostInstance:hr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mT={bundleType:zi.bundleType,version:zi.version,rendererPackageName:zi.rendererPackageName,rendererConfig:zi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=zb(e),e===null?null:e.stateNode},findFiberByHostInstance:zi.findFiberByHostInstance||dT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ms=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ms.isDisabled&&ms.supportsFiber)try{Ta=ms.inject(mT),en=ms}catch{}}wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pT;wt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ig(t))throw Error(H(200));return fT(e,t,null,n)};wt.createRoot=function(e,t){if(!ig(e))throw Error(H(299));var n=!1,r="",i=gE;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=tg(e,1,!1,null,null,n,!1,r,i),e[wn]=t.current,bo(e.nodeType===8?e.parentNode:e),new rg(t)};wt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=zb(t),e=e===null?null:e.stateNode,e};wt.flushSync=function(e){return Cr(e)};wt.hydrate=function(e,t,n){if(!Ba(t))throw Error(H(200));return Ha(null,e,t,!0,n)};wt.hydrateRoot=function(e,t,n){if(!ig(e))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=gE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=mE(t,null,e,1,n??null,i,!1,o,s),e[wn]=t.current,bo(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $a(t)};wt.render=function(e,t,n){if(!Ba(t))throw Error(H(200));return Ha(null,e,t,!1,n)};wt.unmountComponentAtNode=function(e){if(!Ba(e))throw Error(H(40));return e._reactRootContainer?(Cr(function(){Ha(null,null,e,!1,function(){e._reactRootContainer=null,e[wn]=null})}),!0):!1};wt.unstable_batchedUpdates=Qm;wt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ba(n))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return Ha(e,t,n,!1,r)};wt.version="18.3.1-next-f1338f8080-20240426";function vE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vE)}catch(e){console.error(e)}}vE(),vb.exports=wt;var gT=vb.exports,ny=gT;Zh.createRoot=ny.createRoot,Zh.hydrateRoot=ny.hydrateRoot;function dt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=dt(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var yE={exports:{}},xE={},wE={exports:{}},_E={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vi=E;function vT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yT=typeof Object.is=="function"?Object.is:vT,xT=vi.useState,wT=vi.useEffect,_T=vi.useLayoutEffect,bT=vi.useDebugValue;function ST(e,t){var n=t(),r=xT({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return _T(function(){i.value=n,i.getSnapshot=t,Wl(i)&&o({inst:i})},[e,n,t]),wT(function(){return Wl(i)&&o({inst:i}),e(function(){Wl(i)&&o({inst:i})})},[e]),bT(n),n}function Wl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yT(e,n)}catch{return!0}}function ET(e,t){return t()}var kT=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ET:ST;_E.useSyncExternalStore=vi.useSyncExternalStore!==void 0?vi.useSyncExternalStore:kT;wE.exports=_E;var NT=wE.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Va=E,CT=NT;function jT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var TT=typeof Object.is=="function"?Object.is:jT,RT=CT.useSyncExternalStore,IT=Va.useRef,PT=Va.useEffect,AT=Va.useMemo,MT=Va.useDebugValue;xE.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=IT(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=AT(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&s.hasValue){var y=s.value;if(i(y,p))return f=y}return f=p}if(y=f,TT(c,p))return y;var v=r(p);return i!==void 0&&i(y,v)?(c=p,y):(c=p,f=v)}var u=!1,c,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var a=RT(e,o[0],o[1]);return PT(function(){s.hasValue=!0,s.value=a},[a]),MT(a),a};yE.exports=xE;var qT=yE.exports;const OT=cm(qT),LT={},ry=e=>{let t;const n=new Set,r=(c,f)=>{const h=typeof c=="function"?c(t):c;if(!Object.is(h,t)){const p=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(y=>y(t,p))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(LT?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,l);return l},zT=e=>e?ry(e):ry,{useDebugValue:DT}=$,{useSyncExternalStoreWithSelector:FT}=OT,$T=e=>e;function bE(e,t=$T,n){const r=FT(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return DT(r),r}const iy=(e,t)=>{const n=zT(e),r=(i,o=t)=>bE(n,i,o);return Object.assign(r,n),r},BT=(e,t)=>e?iy(e,t):iy;function Qe(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var HT={value:()=>{}};function Ua(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new $s(n)}function $s(e){this._=e}function VT(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}$s.prototype=Ua.prototype={constructor:$s,on:function(e,t){var n=this._,r=VT(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=UT(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=oy(n[i],e.name,t);else if(t==null)for(i in n)n[i]=oy(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new $s(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function UT(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function oy(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=HT,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Up="http://www.w3.org/1999/xhtml";const sy={svg:"http://www.w3.org/2000/svg",xhtml:Up,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Wa(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),sy.hasOwnProperty(t)?{space:sy[t],local:e}:e}function WT(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Up&&t.documentElement.namespaceURI===Up?t.createElement(e):t.createElementNS(n,e)}}function GT(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function SE(e){var t=Wa(e);return(t.local?GT:WT)(t)}function KT(){}function og(e){return e==null?KT:function(){return this.querySelector(e)}}function YT(e){typeof e!="function"&&(e=og(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=new Array(s),l,u,c=0;c<s;++c)(l=o[c])&&(u=e.call(l,l.__data__,c,o))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new xt(r,this._parents)}function XT(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function QT(){return[]}function EE(e){return e==null?QT:function(){return this.querySelectorAll(e)}}function ZT(e){return function(){return XT(e.apply(this,arguments))}}function JT(e){typeof e=="function"?e=ZT(e):e=EE(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&(r.push(e.call(l,l.__data__,u,s)),i.push(l));return new xt(r,i)}function kE(e){return function(){return this.matches(e)}}function NE(e){return function(t){return t.matches(e)}}var eR=Array.prototype.find;function tR(e){return function(){return eR.call(this.children,e)}}function nR(){return this.firstElementChild}function rR(e){return this.select(e==null?nR:tR(typeof e=="function"?e:NE(e)))}var iR=Array.prototype.filter;function oR(){return Array.from(this.children)}function sR(e){return function(){return iR.call(this.children,e)}}function aR(e){return this.selectAll(e==null?oR:sR(typeof e=="function"?e:NE(e)))}function lR(e){typeof e!="function"&&(e=kE(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&a.push(l);return new xt(r,this._parents)}function CE(e){return new Array(e.length)}function uR(){return new xt(this._enter||this._groups.map(CE),this._parents)}function ma(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ma.prototype={constructor:ma,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function cR(e){return function(){return e}}function fR(e,t,n,r,i,o){for(var s=0,a,l=t.length,u=o.length;s<u;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new ma(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function dR(e,t,n,r,i,o,s){var a,l,u=new Map,c=t.length,f=o.length,h=new Array(c),p;for(a=0;a<c;++a)(l=t[a])&&(h[a]=p=s.call(l,l.__data__,a,t)+"",u.has(p)?i[a]=l:u.set(p,l));for(a=0;a<f;++a)p=s.call(e,o[a],a,o)+"",(l=u.get(p))?(r[a]=l,l.__data__=o[a],u.delete(p)):n[a]=new ma(e,o[a]);for(a=0;a<c;++a)(l=t[a])&&u.get(h[a])===l&&(i[a]=l)}function hR(e){return e.__data__}function pR(e,t){if(!arguments.length)return Array.from(this,hR);var n=t?dR:fR,r=this._parents,i=this._groups;typeof e!="function"&&(e=cR(e));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),u=0;u<o;++u){var c=r[u],f=i[u],h=f.length,p=mR(e.call(c,c&&c.__data__,u,r)),y=p.length,v=a[u]=new Array(y),_=s[u]=new Array(y),m=l[u]=new Array(h);n(c,f,v,_,m,p,t);for(var g=0,x=0,w,S;g<y;++g)if(w=v[g]){for(g>=x&&(x=g+1);!(S=_[x])&&++x<y;);w._next=S||null}}return s=new xt(s,r),s._enter=a,s._exit=l,s}function mR(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function gR(){return new xt(this._exit||this._groups.map(CE),this._parents)}function vR(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function yR(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var u=n[l],c=r[l],f=u.length,h=a[l]=new Array(f),p,y=0;y<f;++y)(p=u[y]||c[y])&&(h[y]=p);for(;l<i;++l)a[l]=n[l];return new xt(a,this._parents)}function xR(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function wR(e){e||(e=_R);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,l=i[o]=new Array(a),u,c=0;c<a;++c)(u=s[c])&&(l[c]=u);l.sort(t)}return new xt(i,this._parents).order()}function _R(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function bR(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function SR(){return Array.from(this)}function ER(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function kR(){let e=0;for(const t of this)++e;return e}function NR(){return!this.node()}function CR(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}function jR(e){return function(){this.removeAttribute(e)}}function TR(e){return function(){this.removeAttributeNS(e.space,e.local)}}function RR(e,t){return function(){this.setAttribute(e,t)}}function IR(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function PR(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function AR(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function MR(e,t){var n=Wa(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?TR:jR:typeof t=="function"?n.local?AR:PR:n.local?IR:RR)(n,t))}function jE(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function qR(e){return function(){this.style.removeProperty(e)}}function OR(e,t,n){return function(){this.style.setProperty(e,t,n)}}function LR(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function zR(e,t,n){return arguments.length>1?this.each((t==null?qR:typeof t=="function"?LR:OR)(e,t,n??"")):yi(this.node(),e)}function yi(e,t){return e.style.getPropertyValue(t)||jE(e).getComputedStyle(e,null).getPropertyValue(t)}function DR(e){return function(){delete this[e]}}function FR(e,t){return function(){this[e]=t}}function $R(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function BR(e,t){return arguments.length>1?this.each((t==null?DR:typeof t=="function"?$R:FR)(e,t)):this.node()[e]}function TE(e){return e.trim().split(/^|\s+/)}function sg(e){return e.classList||new RE(e)}function RE(e){this._node=e,this._names=TE(e.getAttribute("class")||"")}RE.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function IE(e,t){for(var n=sg(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function PE(e,t){for(var n=sg(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function HR(e){return function(){IE(this,e)}}function VR(e){return function(){PE(this,e)}}function UR(e,t){return function(){(t.apply(this,arguments)?IE:PE)(this,e)}}function WR(e,t){var n=TE(e+"");if(arguments.length<2){for(var r=sg(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?UR:t?HR:VR)(n,t))}function GR(){this.textContent=""}function KR(e){return function(){this.textContent=e}}function YR(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function XR(e){return arguments.length?this.each(e==null?GR:(typeof e=="function"?YR:KR)(e)):this.node().textContent}function QR(){this.innerHTML=""}function ZR(e){return function(){this.innerHTML=e}}function JR(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function eI(e){return arguments.length?this.each(e==null?QR:(typeof e=="function"?JR:ZR)(e)):this.node().innerHTML}function tI(){this.nextSibling&&this.parentNode.appendChild(this)}function nI(){return this.each(tI)}function rI(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function iI(){return this.each(rI)}function oI(e){var t=typeof e=="function"?e:SE(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function sI(){return null}function aI(e,t){var n=typeof e=="function"?e:SE(e),r=t==null?sI:typeof t=="function"?t:og(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function lI(){var e=this.parentNode;e&&e.removeChild(this)}function uI(){return this.each(lI)}function cI(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function fI(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function dI(e){return this.select(e?fI:cI)}function hI(e){return arguments.length?this.property("__data__",e):this.node().__data__}function pI(e){return function(t){e.call(this,t,this.__data__)}}function mI(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function gI(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function vI(e,t,n){return function(){var r=this.__on,i,o=pI(t);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function yI(e,t,n){var r=mI(e+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(i=0,c=a[l];i<o;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(a=t?vI:gI,i=0;i<o;++i)this.each(a(r[i],t,n));return this}function AE(e,t,n){var r=jE(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function xI(e,t){return function(){return AE(this,e,t)}}function wI(e,t){return function(){return AE(this,e,t.apply(this,arguments))}}function _I(e,t){return this.each((typeof t=="function"?wI:xI)(e,t))}function*bI(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var ME=[null];function xt(e,t){this._groups=e,this._parents=t}function Vo(){return new xt([[document.documentElement]],ME)}function SI(){return this}xt.prototype=Vo.prototype={constructor:xt,select:YT,selectAll:JT,selectChild:rR,selectChildren:aR,filter:lR,data:pR,enter:uR,exit:gR,join:vR,merge:yR,selection:SI,order:xR,sort:wR,call:bR,nodes:SR,node:ER,size:kR,empty:NR,each:CR,attr:MR,style:zR,property:BR,classed:WR,text:XR,html:eI,raise:nI,lower:iI,append:oI,insert:aI,remove:uI,clone:dI,datum:hI,on:yI,dispatch:_I,[Symbol.iterator]:bI};function kt(e){return typeof e=="string"?new xt([[document.querySelector(e)]],[document.documentElement]):new xt([[e]],ME)}function EI(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Lt(e,t){if(e=EI(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const kI={passive:!1},Io={capture:!0,passive:!1};function Gl(e){e.stopImmediatePropagation()}function ai(e){e.preventDefault(),e.stopImmediatePropagation()}function qE(e){var t=e.document.documentElement,n=kt(e).on("dragstart.drag",ai,Io);"onselectstart"in t?n.on("selectstart.drag",ai,Io):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function OE(e,t){var n=e.document.documentElement,r=kt(e).on("dragstart.drag",null);t&&(r.on("click.drag",ai,Io),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const gs=e=>()=>e;function Wp(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:s,y:a,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}Wp.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function NI(e){return!e.ctrlKey&&!e.button}function CI(){return this.parentNode}function jI(e,t){return t??{x:e.x,y:e.y}}function TI(){return navigator.maxTouchPoints||"ontouchstart"in this}function RI(){var e=NI,t=CI,n=jI,r=TI,i={},o=Ua("start","drag","end"),s=0,a,l,u,c,f=0;function h(w){w.on("mousedown.drag",p).filter(r).on("touchstart.drag",_).on("touchmove.drag",m,kI).on("touchend.drag touchcancel.drag",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(w,S){if(!(c||!e.call(this,w,S))){var k=x(this,t.call(this,w,S),w,S,"mouse");k&&(kt(w.view).on("mousemove.drag",y,Io).on("mouseup.drag",v,Io),qE(w.view),Gl(w),u=!1,a=w.clientX,l=w.clientY,k("start",w))}}function y(w){if(ai(w),!u){var S=w.clientX-a,k=w.clientY-l;u=S*S+k*k>f}i.mouse("drag",w)}function v(w){kt(w.view).on("mousemove.drag mouseup.drag",null),OE(w.view,u),ai(w),i.mouse("end",w)}function _(w,S){if(e.call(this,w,S)){var k=w.changedTouches,N=t.call(this,w,S),j=k.length,R,M;for(R=0;R<j;++R)(M=x(this,N,w,S,k[R].identifier,k[R]))&&(Gl(w),M("start",w,k[R]))}}function m(w){var S=w.changedTouches,k=S.length,N,j;for(N=0;N<k;++N)(j=i[S[N].identifier])&&(ai(w),j("drag",w,S[N]))}function g(w){var S=w.changedTouches,k=S.length,N,j;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),N=0;N<k;++N)(j=i[S[N].identifier])&&(Gl(w),j("end",w,S[N]))}function x(w,S,k,N,j,R){var M=o.copy(),q=Lt(R||k,S),F,L,b;if((b=n.call(w,new Wp("beforestart",{sourceEvent:k,target:h,identifier:j,active:s,x:q[0],y:q[1],dx:0,dy:0,dispatch:M}),N))!=null)return F=b.x-q[0]||0,L=b.y-q[1]||0,function P(T,z,I){var C=q,O;switch(T){case"start":i[j]=P,O=s++;break;case"end":delete i[j],--s;case"drag":q=Lt(I||z,S),O=s;break}M.call(T,w,new Wp(T,{sourceEvent:z,subject:b,target:h,identifier:j,active:O,x:q[0]+F,y:q[1]+L,dx:q[0]-C[0],dy:q[1]-C[1],dispatch:M}),N)}}return h.filter=function(w){return arguments.length?(e=typeof w=="function"?w:gs(!!w),h):e},h.container=function(w){return arguments.length?(t=typeof w=="function"?w:gs(w),h):t},h.subject=function(w){return arguments.length?(n=typeof w=="function"?w:gs(w),h):n},h.touchable=function(w){return arguments.length?(r=typeof w=="function"?w:gs(!!w),h):r},h.on=function(){var w=o.on.apply(o,arguments);return w===o?h:w},h.clickDistance=function(w){return arguments.length?(f=(w=+w)*w,h):Math.sqrt(f)},h}function ag(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function LE(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Uo(){}var Po=.7,ga=1/Po,li="\\s*([+-]?\\d+)\\s*",Ao="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",nn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",II=/^#([0-9a-f]{3,8})$/,PI=new RegExp(`^rgb\\(${li},${li},${li}\\)$`),AI=new RegExp(`^rgb\\(${nn},${nn},${nn}\\)$`),MI=new RegExp(`^rgba\\(${li},${li},${li},${Ao}\\)$`),qI=new RegExp(`^rgba\\(${nn},${nn},${nn},${Ao}\\)$`),OI=new RegExp(`^hsl\\(${Ao},${nn},${nn}\\)$`),LI=new RegExp(`^hsla\\(${Ao},${nn},${nn},${Ao}\\)$`),ay={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ag(Uo,Mo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ly,formatHex:ly,formatHex8:zI,formatHsl:DI,formatRgb:uy,toString:uy});function ly(){return this.rgb().formatHex()}function zI(){return this.rgb().formatHex8()}function DI(){return zE(this).formatHsl()}function uy(){return this.rgb().formatRgb()}function Mo(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=II.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?cy(t):n===3?new at(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?vs(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?vs(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=PI.exec(e))?new at(t[1],t[2],t[3],1):(t=AI.exec(e))?new at(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=MI.exec(e))?vs(t[1],t[2],t[3],t[4]):(t=qI.exec(e))?vs(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=OI.exec(e))?hy(t[1],t[2]/100,t[3]/100,1):(t=LI.exec(e))?hy(t[1],t[2]/100,t[3]/100,t[4]):ay.hasOwnProperty(e)?cy(ay[e]):e==="transparent"?new at(NaN,NaN,NaN,0):null}function cy(e){return new at(e>>16&255,e>>8&255,e&255,1)}function vs(e,t,n,r){return r<=0&&(e=t=n=NaN),new at(e,t,n,r)}function FI(e){return e instanceof Uo||(e=Mo(e)),e?(e=e.rgb(),new at(e.r,e.g,e.b,e.opacity)):new at}function Gp(e,t,n,r){return arguments.length===1?FI(e):new at(e,t,n,r??1)}function at(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ag(at,Gp,LE(Uo,{brighter(e){return e=e==null?ga:Math.pow(ga,e),new at(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Po:Math.pow(Po,e),new at(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new at(_r(this.r),_r(this.g),_r(this.b),va(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fy,formatHex:fy,formatHex8:$I,formatRgb:dy,toString:dy}));function fy(){return`#${gr(this.r)}${gr(this.g)}${gr(this.b)}`}function $I(){return`#${gr(this.r)}${gr(this.g)}${gr(this.b)}${gr((isNaN(this.opacity)?1:this.opacity)*255)}`}function dy(){const e=va(this.opacity);return`${e===1?"rgb(":"rgba("}${_r(this.r)}, ${_r(this.g)}, ${_r(this.b)}${e===1?")":`, ${e})`}`}function va(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function _r(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function gr(e){return e=_r(e),(e<16?"0":"")+e.toString(16)}function hy(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Dt(e,t,n,r)}function zE(e){if(e instanceof Dt)return new Dt(e.h,e.s,e.l,e.opacity);if(e instanceof Uo||(e=Mo(e)),!e)return new Dt;if(e instanceof Dt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Dt(s,a,l,e.opacity)}function BI(e,t,n,r){return arguments.length===1?zE(e):new Dt(e,t,n,r??1)}function Dt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ag(Dt,BI,LE(Uo,{brighter(e){return e=e==null?ga:Math.pow(ga,e),new Dt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Po:Math.pow(Po,e),new Dt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new at(Kl(e>=240?e-240:e+120,i,r),Kl(e,i,r),Kl(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Dt(py(this.h),ys(this.s),ys(this.l),va(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=va(this.opacity);return`${e===1?"hsl(":"hsla("}${py(this.h)}, ${ys(this.s)*100}%, ${ys(this.l)*100}%${e===1?")":`, ${e})`}`}}));function py(e){return e=(e||0)%360,e<0?e+360:e}function ys(e){return Math.max(0,Math.min(1,e||0))}function Kl(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const DE=e=>()=>e;function HI(e,t){return function(n){return e+n*t}}function VI(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function UI(e){return(e=+e)==1?FE:function(t,n){return n-t?VI(t,n,e):DE(isNaN(t)?n:t)}}function FE(e,t){var n=t-e;return n?HI(e,n):DE(isNaN(e)?t:e)}const my=function e(t){var n=UI(t);function r(i,o){var s=n((i=Gp(i)).r,(o=Gp(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=FE(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function qn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Kp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yl=new RegExp(Kp.source,"g");function WI(e){return function(){return e}}function GI(e){return function(t){return e(t)+""}}function KI(e,t){var n=Kp.lastIndex=Yl.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(e=e+"",t=t+"";(r=Kp.exec(e))&&(i=Yl.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:qn(r,i)})),n=Yl.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?GI(l[0].x):WI(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}var gy=180/Math.PI,Yp={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function $E(e,t,n,r,i,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*gy,skewX:Math.atan(l)*gy,scaleX:s,scaleY:a}}var xs;function YI(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Yp:$E(t.a,t.b,t.c,t.d,t.e,t.f)}function XI(e){return e==null||(xs||(xs=document.createElementNS("http://www.w3.org/2000/svg","g")),xs.setAttribute("transform",e),!(e=xs.transform.baseVal.consolidate()))?Yp:(e=e.matrix,$E(e.a,e.b,e.c,e.d,e.e,e.f))}function BE(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,f,h,p,y){if(u!==f||c!==h){var v=p.push("translate(",null,t,null,n);y.push({i:v-4,x:qn(u,f)},{i:v-2,x:qn(c,h)})}else(f||h)&&p.push("translate("+f+t+h+n)}function s(u,c,f,h){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:qn(u,c)})):c&&f.push(i(f)+"rotate("+c+r)}function a(u,c,f,h){u!==c?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:qn(u,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(u,c,f,h,p,y){if(u!==f||c!==h){var v=p.push(i(p)+"scale(",null,",",null,")");y.push({i:v-4,x:qn(u,f)},{i:v-2,x:qn(c,h)})}else(f!==1||h!==1)&&p.push(i(p)+"scale("+f+","+h+")")}return function(u,c){var f=[],h=[];return u=e(u),c=e(c),o(u.translateX,u.translateY,c.translateX,c.translateY,f,h),s(u.rotate,c.rotate,f,h),a(u.skewX,c.skewX,f,h),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,h),u=c=null,function(p){for(var y=-1,v=h.length,_;++y<v;)f[(_=h[y]).i]=_.x(p);return f.join("")}}}var QI=BE(YI,"px, ","px)","deg)"),ZI=BE(XI,", ",")",")"),JI=1e-12;function vy(e){return((e=Math.exp(e))+1/e)/2}function eP(e){return((e=Math.exp(e))-1/e)/2}function tP(e){return((e=Math.exp(2*e))-1)/(e+1)}const nP=function e(t,n,r){function i(o,s){var a=o[0],l=o[1],u=o[2],c=s[0],f=s[1],h=s[2],p=c-a,y=f-l,v=p*p+y*y,_,m;if(v<JI)m=Math.log(h/u)/t,_=function(N){return[a+N*p,l+N*y,u*Math.exp(t*N*m)]};else{var g=Math.sqrt(v),x=(h*h-u*u+r*v)/(2*u*n*g),w=(h*h-u*u-r*v)/(2*h*n*g),S=Math.log(Math.sqrt(x*x+1)-x),k=Math.log(Math.sqrt(w*w+1)-w);m=(k-S)/t,_=function(N){var j=N*m,R=vy(S),M=u/(n*g)*(R*tP(t*j+S)-eP(S));return[a+M*p,l+M*y,u*R/vy(t*j+S)]}}return _.duration=m*1e3*t/Math.SQRT2,_}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,l=a*a;return e(s,a,l)},i}(Math.SQRT2,2,4);var xi=0,Ki=0,Di=0,HE=1e3,ya,Yi,xa=0,jr=0,Ga=0,qo=typeof performance=="object"&&performance.now?performance:Date,VE=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function lg(){return jr||(VE(rP),jr=qo.now()+Ga)}function rP(){jr=0}function wa(){this._call=this._time=this._next=null}wa.prototype=UE.prototype={constructor:wa,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?lg():+n)+(t==null?0:+t),!this._next&&Yi!==this&&(Yi?Yi._next=this:ya=this,Yi=this),this._call=e,this._time=n,Xp()},stop:function(){this._call&&(this._call=null,this._time=1/0,Xp())}};function UE(e,t,n){var r=new wa;return r.restart(e,t,n),r}function iP(){lg(),++xi;for(var e=ya,t;e;)(t=jr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--xi}function yy(){jr=(xa=qo.now())+Ga,xi=Ki=0;try{iP()}finally{xi=0,sP(),jr=0}}function oP(){var e=qo.now(),t=e-xa;t>HE&&(Ga-=t,xa=e)}function sP(){for(var e,t=ya,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:ya=n);Yi=e,Xp(r)}function Xp(e){if(!xi){Ki&&(Ki=clearTimeout(Ki));var t=e-jr;t>24?(e<1/0&&(Ki=setTimeout(yy,e-qo.now()-Ga)),Di&&(Di=clearInterval(Di))):(Di||(xa=qo.now(),Di=setInterval(oP,HE)),xi=1,VE(yy))}}function xy(e,t,n){var r=new wa;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var aP=Ua("start","end","cancel","interrupt"),lP=[],WE=0,wy=1,Qp=2,Bs=3,_y=4,Zp=5,Hs=6;function Ka(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;uP(e,n,{name:t,index:r,group:i,on:aP,tween:lP,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:WE})}function ug(e,t){var n=Ht(e,t);if(n.state>WE)throw new Error("too late; already scheduled");return n}function rn(e,t){var n=Ht(e,t);if(n.state>Bs)throw new Error("too late; already running");return n}function Ht(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function uP(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=UE(o,0,n.time);function o(u){n.state=wy,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var c,f,h,p;if(n.state!==wy)return l();for(c in r)if(p=r[c],p.name===n.name){if(p.state===Bs)return xy(s);p.state===_y?(p.state=Hs,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete r[c]):+c<t&&(p.state=Hs,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete r[c])}if(xy(function(){n.state===Bs&&(n.state=_y,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Qp,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Qp){for(n.state=Bs,i=new Array(h=n.tween.length),c=0,f=-1;c<h;++c)(p=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=p);i.length=f+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=Zp,1),f=-1,h=i.length;++f<h;)i[f].call(e,c);n.state===Zp&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Hs,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Vs(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>Qp&&r.state<Zp,r.state=Hs,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function cP(e){return this.each(function(){Vs(this,e)})}function fP(e,t){var n,r;return function(){var i=rn(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function dP(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=rn(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=a;break}l===u&&i.push(a)}o.tween=i}}function hP(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Ht(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?fP:dP)(n,e,t))}function cg(e,t,n){var r=e._id;return e.each(function(){var i=rn(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Ht(i,r).value[t]}}function GE(e,t){var n;return(typeof t=="number"?qn:t instanceof Mo?my:(n=Mo(t))?(t=n,my):KI)(e,t)}function pP(e){return function(){this.removeAttribute(e)}}function mP(e){return function(){this.removeAttributeNS(e.space,e.local)}}function gP(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function vP(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function yP(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function xP(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function wP(e,t){var n=Wa(e),r=n==="transform"?ZI:GE;return this.attrTween(e,typeof t=="function"?(n.local?xP:yP)(n,r,cg(this,"attr."+e,t)):t==null?(n.local?mP:pP)(n):(n.local?vP:gP)(n,r,t))}function _P(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function bP(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function SP(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&bP(e,o)),n}return i._value=t,i}function EP(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&_P(e,o)),n}return i._value=t,i}function kP(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Wa(e);return this.tween(n,(r.local?SP:EP)(r,t))}function NP(e,t){return function(){ug(this,e).delay=+t.apply(this,arguments)}}function CP(e,t){return t=+t,function(){ug(this,e).delay=t}}function jP(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?NP:CP)(t,e)):Ht(this.node(),t).delay}function TP(e,t){return function(){rn(this,e).duration=+t.apply(this,arguments)}}function RP(e,t){return t=+t,function(){rn(this,e).duration=t}}function IP(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?TP:RP)(t,e)):Ht(this.node(),t).duration}function PP(e,t){if(typeof t!="function")throw new Error;return function(){rn(this,e).ease=t}}function AP(e){var t=this._id;return arguments.length?this.each(PP(t,e)):Ht(this.node(),t).ease}function MP(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;rn(this,e).ease=n}}function qP(e){if(typeof e!="function")throw new Error;return this.each(MP(this._id,e))}function OP(e){typeof e!="function"&&(e=kE(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&a.push(l);return new Sn(r,this._parents,this._name,this._id)}function LP(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l=t[a],u=n[a],c=l.length,f=s[a]=new Array(c),h,p=0;p<c;++p)(h=l[p]||u[p])&&(f[p]=h);for(;a<r;++a)s[a]=t[a];return new Sn(s,this._parents,this._name,this._id)}function zP(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function DP(e,t,n){var r,i,o=zP(t)?ug:rn;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}function FP(e,t){var n=this._id;return arguments.length<2?Ht(this.node(),n).on.on(e):this.each(DP(n,e,t))}function $P(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function BP(){return this.on("end.remove",$P(this._id))}function HP(e){var t=this._name,n=this._id;typeof e!="function"&&(e=og(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],l=a.length,u=o[s]=new Array(l),c,f,h=0;h<l;++h)(c=a[h])&&(f=e.call(c,c.__data__,h,a))&&("__data__"in c&&(f.__data__=c.__data__),u[h]=f,Ka(u[h],t,n,h,u,Ht(c,n)));return new Sn(o,this._parents,t,n)}function VP(e){var t=this._name,n=this._id;typeof e!="function"&&(e=EE(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l=r[a],u=l.length,c,f=0;f<u;++f)if(c=l[f]){for(var h=e.call(c,c.__data__,f,l),p,y=Ht(c,n),v=0,_=h.length;v<_;++v)(p=h[v])&&Ka(p,t,n,v,h,y);o.push(h),s.push(c)}return new Sn(o,s,t,n)}var UP=Vo.prototype.constructor;function WP(){return new UP(this._groups,this._parents)}function GP(e,t){var n,r,i;return function(){var o=yi(this,e),s=(this.style.removeProperty(e),yi(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function KE(e){return function(){this.style.removeProperty(e)}}function KP(e,t,n){var r,i=n+"",o;return function(){var s=yi(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function YP(e,t,n){var r,i,o;return function(){var s=yi(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),yi(this,e))),s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a))}}function XP(e,t){var n,r,i,o="style."+t,s="end."+o,a;return function(){var l=rn(this,e),u=l.on,c=l.value[o]==null?a||(a=KE(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(s,i=c),l.on=r}}function QP(e,t,n){var r=(e+="")=="transform"?QI:GE;return t==null?this.styleTween(e,GP(e,r)).on("end.style."+e,KE(e)):typeof t=="function"?this.styleTween(e,YP(e,r,cg(this,"style."+e,t))).each(XP(this._id,e)):this.styleTween(e,KP(e,r,t),n).on("end.style."+e,null)}function ZP(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function JP(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&ZP(e,s,n)),r}return o._value=t,o}function eA(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,JP(e,t,n??""))}function tA(e){return function(){this.textContent=e}}function nA(e){return function(){var t=e(this);this.textContent=t??""}}function rA(e){return this.tween("text",typeof e=="function"?nA(cg(this,"text",e)):tA(e==null?"":e+""))}function iA(e){return function(t){this.textContent=e.call(this,t)}}function oA(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&iA(i)),t}return r._value=e,r}function sA(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,oA(e))}function aA(){for(var e=this._name,t=this._id,n=YE(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)if(l=s[u]){var c=Ht(l,t);Ka(l,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Sn(r,this._parents,e,n)}function lA(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--i===0&&o()}};n.each(function(){var u=rn(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),u.on=t}),i===0&&o()})}var uA=0;function Sn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function YE(){return++uA}var ln=Vo.prototype;Sn.prototype={constructor:Sn,select:HP,selectAll:VP,selectChild:ln.selectChild,selectChildren:ln.selectChildren,filter:OP,merge:LP,selection:WP,transition:aA,call:ln.call,nodes:ln.nodes,node:ln.node,size:ln.size,empty:ln.empty,each:ln.each,on:FP,attr:wP,attrTween:kP,style:QP,styleTween:eA,text:rA,textTween:sA,remove:BP,tween:hP,delay:jP,duration:IP,ease:AP,easeVarying:qP,end:lA,[Symbol.iterator]:ln[Symbol.iterator]};function cA(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var fA={time:null,delay:0,duration:250,ease:cA};function dA(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function hA(e){var t,n;e instanceof Sn?(t=e._id,e=e._name):(t=YE(),(n=fA).time=lg(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&Ka(l,e,t,u,s,n||dA(l,t));return new Sn(r,this._parents,e,t)}Vo.prototype.interrupt=cP;Vo.prototype.transition=hA;const ws=e=>()=>e;function pA(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function pn(e,t,n){this.k=e,this.x=t,this.y=n}pn.prototype={constructor:pn,scale:function(e){return e===1?this:new pn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new pn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var yn=new pn(1,0,0);pn.prototype;function Xl(e){e.stopImmediatePropagation()}function Fi(e){e.preventDefault(),e.stopImmediatePropagation()}function mA(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function gA(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function by(){return this.__zoom||yn}function vA(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function yA(){return navigator.maxTouchPoints||"ontouchstart"in this}function xA(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function XE(){var e=mA,t=gA,n=xA,r=vA,i=yA,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,l=nP,u=Ua("start","zoom","end"),c,f,h,p=500,y=150,v=0,_=10;function m(b){b.property("__zoom",by).on("wheel.zoom",j,{passive:!1}).on("mousedown.zoom",R).on("dblclick.zoom",M).filter(i).on("touchstart.zoom",q).on("touchmove.zoom",F).on("touchend.zoom touchcancel.zoom",L).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(b,P,T,z){var I=b.selection?b.selection():b;I.property("__zoom",by),b!==I?S(b,P,T,z):I.interrupt().each(function(){k(this,arguments).event(z).start().zoom(null,typeof P=="function"?P.apply(this,arguments):P).end()})},m.scaleBy=function(b,P,T,z){m.scaleTo(b,function(){var I=this.__zoom.k,C=typeof P=="function"?P.apply(this,arguments):P;return I*C},T,z)},m.scaleTo=function(b,P,T,z){m.transform(b,function(){var I=t.apply(this,arguments),C=this.__zoom,O=T==null?w(I):typeof T=="function"?T.apply(this,arguments):T,A=C.invert(O),D=typeof P=="function"?P.apply(this,arguments):P;return n(x(g(C,D),O,A),I,s)},T,z)},m.translateBy=function(b,P,T,z){m.transform(b,function(){return n(this.__zoom.translate(typeof P=="function"?P.apply(this,arguments):P,typeof T=="function"?T.apply(this,arguments):T),t.apply(this,arguments),s)},null,z)},m.translateTo=function(b,P,T,z,I){m.transform(b,function(){var C=t.apply(this,arguments),O=this.__zoom,A=z==null?w(C):typeof z=="function"?z.apply(this,arguments):z;return n(yn.translate(A[0],A[1]).scale(O.k).translate(typeof P=="function"?-P.apply(this,arguments):-P,typeof T=="function"?-T.apply(this,arguments):-T),C,s)},z,I)};function g(b,P){return P=Math.max(o[0],Math.min(o[1],P)),P===b.k?b:new pn(P,b.x,b.y)}function x(b,P,T){var z=P[0]-T[0]*b.k,I=P[1]-T[1]*b.k;return z===b.x&&I===b.y?b:new pn(b.k,z,I)}function w(b){return[(+b[0][0]+ +b[1][0])/2,(+b[0][1]+ +b[1][1])/2]}function S(b,P,T,z){b.on("start.zoom",function(){k(this,arguments).event(z).start()}).on("interrupt.zoom end.zoom",function(){k(this,arguments).event(z).end()}).tween("zoom",function(){var I=this,C=arguments,O=k(I,C).event(z),A=t.apply(I,C),D=T==null?w(A):typeof T=="function"?T.apply(I,C):T,B=Math.max(A[1][0]-A[0][0],A[1][1]-A[0][1]),V=I.__zoom,K=typeof P=="function"?P.apply(I,C):P,Q=l(V.invert(D).concat(B/V.k),K.invert(D).concat(B/K.k));return function(Z){if(Z===1)Z=K;else{var ae=Q(Z),re=B/ae[2];Z=new pn(re,D[0]-ae[0]*re,D[1]-ae[1]*re)}O.zoom(null,Z)}})}function k(b,P,T){return!T&&b.__zooming||new N(b,P)}function N(b,P){this.that=b,this.args=P,this.active=0,this.sourceEvent=null,this.extent=t.apply(b,P),this.taps=0}N.prototype={event:function(b){return b&&(this.sourceEvent=b),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(b,P){return this.mouse&&b!=="mouse"&&(this.mouse[1]=P.invert(this.mouse[0])),this.touch0&&b!=="touch"&&(this.touch0[1]=P.invert(this.touch0[0])),this.touch1&&b!=="touch"&&(this.touch1[1]=P.invert(this.touch1[0])),this.that.__zoom=P,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(b){var P=kt(this.that).datum();u.call(b,this.that,new pA(b,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:u}),P)}};function j(b,...P){if(!e.apply(this,arguments))return;var T=k(this,P).event(b),z=this.__zoom,I=Math.max(o[0],Math.min(o[1],z.k*Math.pow(2,r.apply(this,arguments)))),C=Lt(b);if(T.wheel)(T.mouse[0][0]!==C[0]||T.mouse[0][1]!==C[1])&&(T.mouse[1]=z.invert(T.mouse[0]=C)),clearTimeout(T.wheel);else{if(z.k===I)return;T.mouse=[C,z.invert(C)],Vs(this),T.start()}Fi(b),T.wheel=setTimeout(O,y),T.zoom("mouse",n(x(g(z,I),T.mouse[0],T.mouse[1]),T.extent,s));function O(){T.wheel=null,T.end()}}function R(b,...P){if(h||!e.apply(this,arguments))return;var T=b.currentTarget,z=k(this,P,!0).event(b),I=kt(b.view).on("mousemove.zoom",D,!0).on("mouseup.zoom",B,!0),C=Lt(b,T),O=b.clientX,A=b.clientY;qE(b.view),Xl(b),z.mouse=[C,this.__zoom.invert(C)],Vs(this),z.start();function D(V){if(Fi(V),!z.moved){var K=V.clientX-O,Q=V.clientY-A;z.moved=K*K+Q*Q>v}z.event(V).zoom("mouse",n(x(z.that.__zoom,z.mouse[0]=Lt(V,T),z.mouse[1]),z.extent,s))}function B(V){I.on("mousemove.zoom mouseup.zoom",null),OE(V.view,z.moved),Fi(V),z.event(V).end()}}function M(b,...P){if(e.apply(this,arguments)){var T=this.__zoom,z=Lt(b.changedTouches?b.changedTouches[0]:b,this),I=T.invert(z),C=T.k*(b.shiftKey?.5:2),O=n(x(g(T,C),z,I),t.apply(this,P),s);Fi(b),a>0?kt(this).transition().duration(a).call(S,O,z,b):kt(this).call(m.transform,O,z,b)}}function q(b,...P){if(e.apply(this,arguments)){var T=b.touches,z=T.length,I=k(this,P,b.changedTouches.length===z).event(b),C,O,A,D;for(Xl(b),O=0;O<z;++O)A=T[O],D=Lt(A,this),D=[D,this.__zoom.invert(D),A.identifier],I.touch0?!I.touch1&&I.touch0[2]!==D[2]&&(I.touch1=D,I.taps=0):(I.touch0=D,C=!0,I.taps=1+!!c);c&&(c=clearTimeout(c)),C&&(I.taps<2&&(f=D[0],c=setTimeout(function(){c=null},p)),Vs(this),I.start())}}function F(b,...P){if(this.__zooming){var T=k(this,P).event(b),z=b.changedTouches,I=z.length,C,O,A,D;for(Fi(b),C=0;C<I;++C)O=z[C],A=Lt(O,this),T.touch0&&T.touch0[2]===O.identifier?T.touch0[0]=A:T.touch1&&T.touch1[2]===O.identifier&&(T.touch1[0]=A);if(O=T.that.__zoom,T.touch1){var B=T.touch0[0],V=T.touch0[1],K=T.touch1[0],Q=T.touch1[1],Z=(Z=K[0]-B[0])*Z+(Z=K[1]-B[1])*Z,ae=(ae=Q[0]-V[0])*ae+(ae=Q[1]-V[1])*ae;O=g(O,Math.sqrt(Z/ae)),A=[(B[0]+K[0])/2,(B[1]+K[1])/2],D=[(V[0]+Q[0])/2,(V[1]+Q[1])/2]}else if(T.touch0)A=T.touch0[0],D=T.touch0[1];else return;T.zoom("touch",n(x(O,A,D),T.extent,s))}}function L(b,...P){if(this.__zooming){var T=k(this,P).event(b),z=b.changedTouches,I=z.length,C,O;for(Xl(b),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),C=0;C<I;++C)O=z[C],T.touch0&&T.touch0[2]===O.identifier?delete T.touch0:T.touch1&&T.touch1[2]===O.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(O=Lt(O,this),Math.hypot(f[0]-O[0],f[1]-O[1])<_)){var A=kt(this).on("dblclick.zoom");A&&A.apply(this,arguments)}}}return m.wheelDelta=function(b){return arguments.length?(r=typeof b=="function"?b:ws(+b),m):r},m.filter=function(b){return arguments.length?(e=typeof b=="function"?b:ws(!!b),m):e},m.touchable=function(b){return arguments.length?(i=typeof b=="function"?b:ws(!!b),m):i},m.extent=function(b){return arguments.length?(t=typeof b=="function"?b:ws([[+b[0][0],+b[0][1]],[+b[1][0],+b[1][1]]]),m):t},m.scaleExtent=function(b){return arguments.length?(o[0]=+b[0],o[1]=+b[1],m):[o[0],o[1]]},m.translateExtent=function(b){return arguments.length?(s[0][0]=+b[0][0],s[1][0]=+b[1][0],s[0][1]=+b[0][1],s[1][1]=+b[1][1],m):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},m.constrain=function(b){return arguments.length?(n=b,m):n},m.duration=function(b){return arguments.length?(a=+b,m):a},m.interpolate=function(b){return arguments.length?(l=b,m):l},m.on=function(){var b=u.on.apply(u,arguments);return b===u?m:b},m.clickDistance=function(b){return arguments.length?(v=(b=+b)*b,m):Math.sqrt(v)},m.tapDistance=function(b){return arguments.length?(_=+b,m):_},m}const Ya=E.createContext(null),wA=Ya.Provider,En={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},QE=En.error001();function we(e,t){const n=E.useContext(Ya);if(n===null)throw new Error(QE);return bE(n,e,t)}const $e=()=>{const e=E.useContext(Ya);if(e===null)throw new Error(QE);return E.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},_A=e=>e.userSelectionActive?"none":"all";function fo({position:e,children:t,className:n,style:r,...i}){const o=we(_A),s=`${e}`.split("-");return $.createElement("div",{className:dt(["react-flow__panel",n,...s]),style:{...r,pointerEvents:o},...i},t)}function bA({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:$.createElement(fo,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},$.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const SA=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:o={},labelBgPadding:s=[2,4],labelBgBorderRadius:a=2,children:l,className:u,...c})=>{const f=E.useRef(null),[h,p]=E.useState({x:0,y:0,width:0,height:0}),y=dt(["react-flow__edge-textwrapper",u]);return E.useEffect(()=>{if(f.current){const v=f.current.getBBox();p({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),typeof n>"u"||!n?null:$.createElement("g",{transform:`translate(${e-h.width/2} ${t-h.height/2})`,className:y,visibility:h.width?"visible":"hidden",...c},i&&$.createElement("rect",{width:h.width+2*s[0],x:-s[0],y:-s[1],height:h.height+2*s[1],className:"react-flow__edge-textbg",style:o,rx:a,ry:a}),$.createElement("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:f,style:r},n),l)};var EA=E.memo(SA);const fg=e=>({width:e.offsetWidth,height:e.offsetHeight}),wi=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),dg=(e={x:0,y:0},t)=>({x:wi(e.x,t[0][0],t[1][0]),y:wi(e.y,t[0][1],t[1][1])}),Sy=(e,t,n)=>e<t?wi(Math.abs(e-t),1,50)/50:e>n?-wi(Math.abs(e-n),1,50)/50:0,ZE=(e,t)=>{const n=Sy(e.x,35,t.width-35)*20,r=Sy(e.y,35,t.height-35)*20;return[n,r]},JE=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},e2=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Oo=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),t2=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Ey=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),kA=(e,t)=>t2(e2(Oo(e),Oo(t))),Jp=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},NA=e=>Ct(e.width)&&Ct(e.height)&&Ct(e.x)&&Ct(e.y),Ct=e=>!isNaN(e)&&isFinite(e),Ce=Symbol.for("internals"),n2=["Enter"," ","Escape"],CA=(e,t)=>{},jA=e=>"nativeEvent"in e;function em(e){var i,o;const t=jA(e)?e.nativeEvent:e,n=((o=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:o[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const r2=e=>"clientX"in e,Zn=(e,t)=>{var o,s;const n=r2(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,i=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},_a=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},Wo=({id:e,path:t,labelX:n,labelY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:h,interactionWidth:p=20})=>$.createElement($.Fragment,null,$.createElement("path",{id:e,style:c,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:h}),p&&$.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}),i&&Ct(n)&&Ct(r)?$.createElement(EA,{x:n,y:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u}):null);Wo.displayName="BaseEdge";function $i(e,t,n){return n===void 0?n:r=>{const i=t().edges.find(o=>o.id===e);i&&n(r,{...i})}}function i2({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,s=Math.abs(r-t)/2,a=r<t?r+s:r-s;return[o,a,i,s]}function o2({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:s,targetControlY:a}){const l=e*.125+i*.375+s*.375+n*.125,u=t*.125+o*.375+a*.375+r*.125,c=Math.abs(l-e),f=Math.abs(u-t);return[l,u,c,f]}var Tr;(function(e){e.Strict="strict",e.Loose="loose"})(Tr||(Tr={}));var vr;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(vr||(vr={}));var Lo;(function(e){e.Partial="partial",e.Full="full"})(Lo||(Lo={}));var Dn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Dn||(Dn={}));var ba;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(ba||(ba={}));var X;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(X||(X={}));function ky({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===X.Left||e===X.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function s2({sourceX:e,sourceY:t,sourcePosition:n=X.Bottom,targetX:r,targetY:i,targetPosition:o=X.Top}){const[s,a]=ky({pos:n,x1:e,y1:t,x2:r,y2:i}),[l,u]=ky({pos:o,x1:r,y1:i,x2:e,y2:t}),[c,f,h,p]=o2({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:s,sourceControlY:a,targetControlX:l,targetControlY:u});return[`M${e},${t} C${s},${a} ${l},${u} ${r},${i}`,c,f,h,p]}const hg=E.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=X.Bottom,targetPosition:o=X.Top,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:y,interactionWidth:v})=>{const[_,m,g]=s2({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:o});return $.createElement(Wo,{path:_,labelX:m,labelY:g,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:y,interactionWidth:v})});hg.displayName="SimpleBezierEdge";const Ny={[X.Left]:{x:-1,y:0},[X.Right]:{x:1,y:0},[X.Top]:{x:0,y:-1},[X.Bottom]:{x:0,y:1}},TA=({source:e,sourcePosition:t=X.Bottom,target:n})=>t===X.Left||t===X.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Cy=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function RA({source:e,sourcePosition:t=X.Bottom,target:n,targetPosition:r=X.Top,center:i,offset:o}){const s=Ny[t],a=Ny[r],l={x:e.x+s.x*o,y:e.y+s.y*o},u={x:n.x+a.x*o,y:n.y+a.y*o},c=TA({source:l,sourcePosition:t,target:u}),f=c.x!==0?"x":"y",h=c[f];let p=[],y,v;const _={x:0,y:0},m={x:0,y:0},[g,x,w,S]=i2({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[f]*a[f]===-1){y=i.x??g,v=i.y??x;const N=[{x:y,y:l.y},{x:y,y:u.y}],j=[{x:l.x,y:v},{x:u.x,y:v}];s[f]===h?p=f==="x"?N:j:p=f==="x"?j:N}else{const N=[{x:l.x,y:u.y}],j=[{x:u.x,y:l.y}];if(f==="x"?p=s.x===h?j:N:p=s.y===h?N:j,t===r){const L=Math.abs(e[f]-n[f]);if(L<=o){const b=Math.min(o-1,o-L);s[f]===h?_[f]=(l[f]>e[f]?-1:1)*b:m[f]=(u[f]>n[f]?-1:1)*b}}if(t!==r){const L=f==="x"?"y":"x",b=s[f]===a[L],P=l[L]>u[L],T=l[L]<u[L];(s[f]===1&&(!b&&P||b&&T)||s[f]!==1&&(!b&&T||b&&P))&&(p=f==="x"?N:j)}const R={x:l.x+_.x,y:l.y+_.y},M={x:u.x+m.x,y:u.y+m.y},q=Math.max(Math.abs(R.x-p[0].x),Math.abs(M.x-p[0].x)),F=Math.max(Math.abs(R.y-p[0].y),Math.abs(M.y-p[0].y));q>=F?(y=(R.x+M.x)/2,v=p[0].y):(y=p[0].x,v=(R.y+M.y)/2)}return[[e,{x:l.x+_.x,y:l.y+_.y},...p,{x:u.x+m.x,y:u.y+m.y},n],y,v,w,S]}function IA(e,t,n,r){const i=Math.min(Cy(e,t)/2,Cy(t,n)/2,r),{x:o,y:s}=t;if(e.x===o&&o===n.x||e.y===s&&s===n.y)return`L${o} ${s}`;if(e.y===s){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${o+i*u},${s}Q ${o},${s} ${o},${s+i*c}`}const a=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${o},${s+i*l}Q ${o},${s} ${o+i*a},${s}`}function tm({sourceX:e,sourceY:t,sourcePosition:n=X.Bottom,targetX:r,targetY:i,targetPosition:o=X.Top,borderRadius:s=5,centerX:a,centerY:l,offset:u=20}){const[c,f,h,p,y]=RA({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:a,y:l},offset:u});return[c.reduce((_,m,g)=>{let x="";return g>0&&g<c.length-1?x=IA(c[g-1],m,c[g+1],s):x=`${g===0?"M":"L"}${m.x} ${m.y}`,_+=x,_},""),f,h,p,y]}const Xa=E.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,sourcePosition:f=X.Bottom,targetPosition:h=X.Top,markerEnd:p,markerStart:y,pathOptions:v,interactionWidth:_})=>{const[m,g,x]=tm({sourceX:e,sourceY:t,sourcePosition:f,targetX:n,targetY:r,targetPosition:h,borderRadius:v==null?void 0:v.borderRadius,offset:v==null?void 0:v.offset});return $.createElement(Wo,{path:m,labelX:g,labelY:x,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:p,markerStart:y,interactionWidth:_})});Xa.displayName="SmoothStepEdge";const pg=E.memo(e=>{var t;return $.createElement(Xa,{...e,pathOptions:E.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});pg.displayName="StepEdge";function PA({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,o,s,a]=i2({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,o,s,a]}const mg=E.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:h,interactionWidth:p})=>{const[y,v,_]=PA({sourceX:e,sourceY:t,targetX:n,targetY:r});return $.createElement(Wo,{path:y,labelX:v,labelY:_,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:h,interactionWidth:p})});mg.displayName="StraightEdge";function _s(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function jy({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){switch(e){case X.Left:return[t-_s(t-r,o),n];case X.Right:return[t+_s(r-t,o),n];case X.Top:return[t,n-_s(n-i,o)];case X.Bottom:return[t,n+_s(i-n,o)]}}function a2({sourceX:e,sourceY:t,sourcePosition:n=X.Bottom,targetX:r,targetY:i,targetPosition:o=X.Top,curvature:s=.25}){const[a,l]=jy({pos:n,x1:e,y1:t,x2:r,y2:i,c:s}),[u,c]=jy({pos:o,x1:r,y1:i,x2:e,y2:t,c:s}),[f,h,p,y]=o2({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:u,targetControlY:c});return[`M${e},${t} C${a},${l} ${u},${c} ${r},${i}`,f,h,p,y]}const Sa=E.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=X.Bottom,targetPosition:o=X.Top,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:y,pathOptions:v,interactionWidth:_})=>{const[m,g,x]=a2({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:o,curvature:v==null?void 0:v.curvature});return $.createElement(Wo,{path:m,labelX:g,labelY:x,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:y,interactionWidth:_})});Sa.displayName="BezierEdge";const gg=E.createContext(null),AA=gg.Provider;gg.Consumer;const MA=()=>E.useContext(gg),qA=e=>"id"in e&&"source"in e&&"target"in e,OA=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,nm=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,LA=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),zA=(e,t)=>{if(!e.source||!e.target)return t;let n;return qA(e)?n={...e}:n={...e,id:OA(e)},LA(n,t)?t:t.concat(n)},rm=({x:e,y:t},[n,r,i],o,[s,a])=>{const l={x:(e-n)/i,y:(t-r)/i};return o?{x:s*Math.round(l.x/s),y:a*Math.round(l.y/a)}:l},l2=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r}),br=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],i={x:e.position.x-n,y:e.position.y-r};return{...i,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:i}},Qa=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const{x:o,y:s}=br(i,t).positionAbsolute;return e2(r,Oo({x:o,y:s,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return t2(n)},u2=(e,t,[n,r,i]=[0,0,1],o=!1,s=!1,a=[0,0])=>{const l={x:(t.x-n)/i,y:(t.y-r)/i,width:t.width/i,height:t.height/i},u=[];return e.forEach(c=>{const{width:f,height:h,selectable:p=!0,hidden:y=!1}=c;if(s&&!p||y)return!1;const{positionAbsolute:v}=br(c,a),_={x:v.x,y:v.y,width:f||0,height:h||0},m=Jp(l,_),g=typeof f>"u"||typeof h>"u"||f===null||h===null,x=o&&m>0,w=(f||0)*(h||0);(g||x||m>=w||c.dragging)&&u.push(c)}),u},c2=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},f2=(e,t,n,r,i,o=.1)=>{const s=t/(e.width*(1+o)),a=n/(e.height*(1+o)),l=Math.min(s,a),u=wi(l,r,i),c=e.x+e.width/2,f=e.y+e.height/2,h=t/2-c*u,p=n/2-f*u;return{x:h,y:p,zoom:u}},dr=(e,t=0)=>e.transition().duration(t);function Ty(e,t,n,r){return(t[n]||[]).reduce((i,o)=>{var s,a;return`${e.id}-${o.id}-${n}`!==r&&i.push({id:o.id||null,type:n,nodeId:e.id,x:(((s=e.positionAbsolute)==null?void 0:s.x)??0)+o.x+o.width/2,y:(((a=e.positionAbsolute)==null?void 0:a.y)??0)+o.y+o.height/2}),i},[])}function DA(e,t,n,r,i,o){const{x:s,y:a}=Zn(e),u=t.elementsFromPoint(s,a).find(y=>y.classList.contains("react-flow__handle"));if(u){const y=u.getAttribute("data-nodeid");if(y){const v=vg(void 0,u),_=u.getAttribute("data-handleid"),m=o({nodeId:y,id:_,type:v});if(m){const g=i.find(x=>x.nodeId===y&&x.type===v&&x.id===_);return{handle:{id:_,type:v,nodeId:y,x:(g==null?void 0:g.x)||n.x,y:(g==null?void 0:g.y)||n.y},validHandleResult:m}}}}let c=[],f=1/0;if(i.forEach(y=>{const v=Math.sqrt((y.x-n.x)**2+(y.y-n.y)**2);if(v<=r){const _=o(y);v<=f&&(v<f?c=[{handle:y,validHandleResult:_}]:v===f&&c.push({handle:y,validHandleResult:_}),f=v)}}),!c.length)return{handle:null,validHandleResult:d2()};if(c.length===1)return c[0];const h=c.some(({validHandleResult:y})=>y.isValid),p=c.some(({handle:y})=>y.type==="target");return c.find(({handle:y,validHandleResult:v})=>p?y.type==="target":h?v.isValid:!0)||c[0]}const FA={source:null,target:null,sourceHandle:null,targetHandle:null},d2=()=>({handleDomNode:null,isValid:!1,connection:FA,endHandle:null});function h2(e,t,n,r,i,o,s){const a=i==="target",l=s.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...d2(),handleDomNode:l};if(l){const c=vg(void 0,l),f=l.getAttribute("data-nodeid"),h=l.getAttribute("data-handleid"),p=l.classList.contains("connectable"),y=l.classList.contains("connectableend"),v={source:a?f:n,sourceHandle:a?h:r,target:a?n:f,targetHandle:a?r:h};u.connection=v,p&&y&&(t===Tr.Strict?a&&c==="source"||!a&&c==="target":f!==n||h!==r)&&(u.endHandle={nodeId:f,handleId:h,type:c},u.isValid=o(v))}return u}function $A({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((i,o)=>{if(o[Ce]){const{handleBounds:s}=o[Ce];let a=[],l=[];s&&(a=Ty(o,s,"source",`${t}-${n}-${r}`),l=Ty(o,s,"target",`${t}-${n}-${r}`)),i.push(...a,...l)}return i},[])}function vg(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Ql(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function BA(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function p2({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:i,getState:o,setState:s,isValidConnection:a,edgeUpdaterType:l,onReconnectEnd:u}){const c=JE(e.target),{connectionMode:f,domNode:h,autoPanOnConnect:p,connectionRadius:y,onConnectStart:v,panBy:_,getNodes:m,cancelConnection:g}=o();let x=0,w;const{x:S,y:k}=Zn(e),N=c==null?void 0:c.elementFromPoint(S,k),j=vg(l,N),R=h==null?void 0:h.getBoundingClientRect();if(!R||!j)return;let M,q=Zn(e,R),F=!1,L=null,b=!1,P=null;const T=$A({nodes:m(),nodeId:n,handleId:t,handleType:j}),z=()=>{if(!p)return;const[O,A]=ZE(q,R);_({x:O,y:A}),x=requestAnimationFrame(z)};s({connectionPosition:q,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:j,connectionStartHandle:{nodeId:n,handleId:t,type:j},connectionEndHandle:null}),v==null||v(e,{nodeId:n,handleId:t,handleType:j});function I(O){const{transform:A}=o();q=Zn(O,R);const{handle:D,validHandleResult:B}=DA(O,c,rm(q,A,!1,[1,1]),y,T,V=>h2(V,f,n,t,i?"target":"source",a,c));if(w=D,F||(z(),F=!0),P=B.handleDomNode,L=B.connection,b=B.isValid,s({connectionPosition:w&&b?l2({x:w.x,y:w.y},A):q,connectionStatus:BA(!!w,b),connectionEndHandle:B.endHandle}),!w&&!b&&!P)return Ql(M);L.source!==L.target&&P&&(Ql(M),M=P,P.classList.add("connecting","react-flow__handle-connecting"),P.classList.toggle("valid",b),P.classList.toggle("react-flow__handle-valid",b))}function C(O){var A,D;(w||P)&&L&&b&&(r==null||r(L)),(D=(A=o()).onConnectEnd)==null||D.call(A,O),l&&(u==null||u(O)),Ql(M),g(),cancelAnimationFrame(x),F=!1,b=!1,L=null,P=null,c.removeEventListener("mousemove",I),c.removeEventListener("mouseup",C),c.removeEventListener("touchmove",I),c.removeEventListener("touchend",C)}c.addEventListener("mousemove",I),c.addEventListener("mouseup",C),c.addEventListener("touchmove",I),c.addEventListener("touchend",C)}const Ry=()=>!0,HA=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),VA=(e,t,n)=>r=>{const{connectionStartHandle:i,connectionEndHandle:o,connectionClickStartHandle:s}=r;return{connecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n||(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n}},m2=E.forwardRef(({type:e="source",position:t=X.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:s,onConnect:a,children:l,className:u,onMouseDown:c,onTouchStart:f,...h},p)=>{var R,M;const y=s||null,v=e==="target",_=$e(),m=MA(),{connectOnClick:g,noPanClassName:x}=we(HA,Qe),{connecting:w,clickConnecting:S}=we(VA(m,y,e),Qe);m||(M=(R=_.getState()).onError)==null||M.call(R,"010",En.error010());const k=q=>{const{defaultEdgeOptions:F,onConnect:L,hasDefaultEdges:b}=_.getState(),P={...F,...q};if(b){const{edges:T,setEdges:z}=_.getState();z(zA(P,T))}L==null||L(P),a==null||a(P)},N=q=>{if(!m)return;const F=r2(q);i&&(F&&q.button===0||!F)&&p2({event:q,handleId:y,nodeId:m,onConnect:k,isTarget:v,getState:_.getState,setState:_.setState,isValidConnection:n||_.getState().isValidConnection||Ry}),F?c==null||c(q):f==null||f(q)},j=q=>{const{onClickConnectStart:F,onClickConnectEnd:L,connectionClickStartHandle:b,connectionMode:P,isValidConnection:T}=_.getState();if(!m||!b&&!i)return;if(!b){F==null||F(q,{nodeId:m,handleId:y,handleType:e}),_.setState({connectionClickStartHandle:{nodeId:m,type:e,handleId:y}});return}const z=JE(q.target),I=n||T||Ry,{connection:C,isValid:O}=h2({nodeId:m,id:y,type:e},P,b.nodeId,b.handleId||null,b.type,I,z);O&&k(C),L==null||L(q),_.setState({connectionClickStartHandle:null})};return $.createElement("div",{"data-handleid":y,"data-nodeid":m,"data-handlepos":t,"data-id":`${m}-${y}-${e}`,className:dt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",x,u,{source:!v,target:v,connectable:r,connectablestart:i,connectableend:o,connecting:S,connectionindicator:r&&(i&&!w||o&&w)}]),onMouseDown:N,onTouchStart:N,onClick:g?j:void 0,ref:p,...h},l)});m2.displayName="Handle";var nr=E.memo(m2);const g2=({data:e,isConnectable:t,targetPosition:n=X.Top,sourcePosition:r=X.Bottom})=>$.createElement($.Fragment,null,$.createElement(nr,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,$.createElement(nr,{type:"source",position:r,isConnectable:t}));g2.displayName="DefaultNode";var im=E.memo(g2);const v2=({data:e,isConnectable:t,sourcePosition:n=X.Bottom})=>$.createElement($.Fragment,null,e==null?void 0:e.label,$.createElement(nr,{type:"source",position:n,isConnectable:t}));v2.displayName="InputNode";var y2=E.memo(v2);const x2=({data:e,isConnectable:t,targetPosition:n=X.Top})=>$.createElement($.Fragment,null,$.createElement(nr,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);x2.displayName="OutputNode";var w2=E.memo(x2);const yg=()=>null;yg.displayName="GroupNode";const UA=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),bs=e=>e.id;function WA(e,t){return Qe(e.selectedNodes.map(bs),t.selectedNodes.map(bs))&&Qe(e.selectedEdges.map(bs),t.selectedEdges.map(bs))}const _2=E.memo(({onSelectionChange:e})=>{const t=$e(),{selectedNodes:n,selectedEdges:r}=we(UA,WA);return E.useEffect(()=>{const i={nodes:n,edges:r};e==null||e(i),t.getState().onSelectionChange.forEach(o=>o(i))},[n,r,e]),null});_2.displayName="SelectionListener";const GA=e=>!!e.onSelectionChange;function KA({onSelectionChange:e}){const t=we(GA);return e||t?$.createElement(_2,{onSelectionChange:e}):null}const YA=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function zr(e,t){E.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function te(e,t,n){E.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const XA=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:i,onConnectStart:o,onConnectEnd:s,onClickConnectStart:a,onClickConnectEnd:l,nodesDraggable:u,nodesConnectable:c,nodesFocusable:f,edgesFocusable:h,edgesUpdatable:p,elevateNodesOnSelect:y,minZoom:v,maxZoom:_,nodeExtent:m,onNodesChange:g,onEdgesChange:x,elementsSelectable:w,connectionMode:S,snapGrid:k,snapToGrid:N,translateExtent:j,connectOnClick:R,defaultEdgeOptions:M,fitView:q,fitViewOptions:F,onNodesDelete:L,onEdgesDelete:b,onNodeDrag:P,onNodeDragStart:T,onNodeDragStop:z,onSelectionDrag:I,onSelectionDragStart:C,onSelectionDragStop:O,noPanClassName:A,nodeOrigin:D,rfId:B,autoPanOnConnect:V,autoPanOnNodeDrag:K,onError:Q,connectionRadius:Z,isValidConnection:ae,nodeDragThreshold:re})=>{const{setNodes:ie,setEdges:je,setDefaultNodesAndEdges:ve,setMinZoom:qe,setMaxZoom:Ie,setTranslateExtent:U,setNodeExtent:oe,reset:W}=we(YA,Qe),G=$e();return E.useEffect(()=>{const se=r==null?void 0:r.map(Te=>({...Te,...M}));return ve(n,se),()=>{W()}},[]),te("defaultEdgeOptions",M,G.setState),te("connectionMode",S,G.setState),te("onConnect",i,G.setState),te("onConnectStart",o,G.setState),te("onConnectEnd",s,G.setState),te("onClickConnectStart",a,G.setState),te("onClickConnectEnd",l,G.setState),te("nodesDraggable",u,G.setState),te("nodesConnectable",c,G.setState),te("nodesFocusable",f,G.setState),te("edgesFocusable",h,G.setState),te("edgesUpdatable",p,G.setState),te("elementsSelectable",w,G.setState),te("elevateNodesOnSelect",y,G.setState),te("snapToGrid",N,G.setState),te("snapGrid",k,G.setState),te("onNodesChange",g,G.setState),te("onEdgesChange",x,G.setState),te("connectOnClick",R,G.setState),te("fitViewOnInit",q,G.setState),te("fitViewOnInitOptions",F,G.setState),te("onNodesDelete",L,G.setState),te("onEdgesDelete",b,G.setState),te("onNodeDrag",P,G.setState),te("onNodeDragStart",T,G.setState),te("onNodeDragStop",z,G.setState),te("onSelectionDrag",I,G.setState),te("onSelectionDragStart",C,G.setState),te("onSelectionDragStop",O,G.setState),te("noPanClassName",A,G.setState),te("nodeOrigin",D,G.setState),te("rfId",B,G.setState),te("autoPanOnConnect",V,G.setState),te("autoPanOnNodeDrag",K,G.setState),te("onError",Q,G.setState),te("connectionRadius",Z,G.setState),te("isValidConnection",ae,G.setState),te("nodeDragThreshold",re,G.setState),zr(e,ie),zr(t,je),zr(v,qe),zr(_,Ie),zr(j,U),zr(m,oe),null},Iy={display:"none"},QA={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},b2="react-flow__node-desc",S2="react-flow__edge-desc",ZA="react-flow__aria-live",JA=e=>e.ariaLiveMessage;function e4({rfId:e}){const t=we(JA);return $.createElement("div",{id:`${ZA}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:QA},t)}function t4({rfId:e,disableKeyboardA11y:t}){return $.createElement($.Fragment,null,$.createElement("div",{id:`${b2}-${e}`,style:Iy},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),$.createElement("div",{id:`${S2}-${e}`,style:Iy},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&$.createElement(e4,{rfId:e}))}var zo=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=E.useState(!1),i=E.useRef(!1),o=E.useRef(new Set([])),[s,a]=E.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),c=u.reduce((f,h)=>f.concat(...h),[]);return[u,c]}return[[],[]]},[e]);return E.useEffect(()=>{const l=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||l;if(e!==null){const c=p=>{if(i.current=p.ctrlKey||p.metaKey||p.shiftKey,(!i.current||i.current&&!t.actInsideInputWithModifier)&&em(p))return!1;const v=Ay(p.code,a);o.current.add(p[v]),Py(s,o.current,!1)&&(p.preventDefault(),r(!0))},f=p=>{if((!i.current||i.current&&!t.actInsideInputWithModifier)&&em(p))return!1;const v=Ay(p.code,a);Py(s,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(p[v]),p.key==="Meta"&&o.current.clear(),i.current=!1},h=()=>{o.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",c),u==null||u.addEventListener("keyup",f),window.addEventListener("blur",h),()=>{u==null||u.removeEventListener("keydown",c),u==null||u.removeEventListener("keyup",f),window.removeEventListener("blur",h)}}},[e,r]),n};function Py(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function Ay(e,t){return t.includes(e)?"code":"key"}function E2(e,t,n,r){var a,l;const i=e.parentNode||e.parentId;if(!i)return n;const o=t.get(i),s=br(o,r);return E2(o,t,{x:(n.x??0)+s.x,y:(n.y??0)+s.y,z:(((a=o[Ce])==null?void 0:a.z)??0)>(n.z??0)?((l=o[Ce])==null?void 0:l.z)??0:n.z??0},r)}function k2(e,t,n){e.forEach(r=>{var o;const i=r.parentNode||r.parentId;if(i&&!e.has(i))throw new Error(`Parent node ${i} not found`);if(i||n!=null&&n[r.id]){const{x:s,y:a,z:l}=E2(r,e,{...r.position,z:((o=r[Ce])==null?void 0:o.z)??0},t);r.positionAbsolute={x:s,y:a},r[Ce].z=l,n!=null&&n[r.id]&&(r[Ce].isParent=!0)}})}function Zl(e,t,n,r){const i=new Map,o={},s=r?1e3:0;return e.forEach(a=>{var p;const l=(Ct(a.zIndex)?a.zIndex:0)+(a.selected?s:0),u=t.get(a.id),c={...a,positionAbsolute:{x:a.position.x,y:a.position.y}},f=a.parentNode||a.parentId;f&&(o[f]=!0);const h=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==a.type;Object.defineProperty(c,Ce,{enumerable:!1,value:{handleBounds:h||(p=u==null?void 0:u[Ce])==null?void 0:p.handleBounds,z:l}}),i.set(a.id,c)}),k2(i,n,o),i}function N2(e,t={}){const{getNodes:n,width:r,height:i,minZoom:o,maxZoom:s,d3Zoom:a,d3Selection:l,fitViewOnInitDone:u,fitViewOnInit:c,nodeOrigin:f}=e(),h=t.initial&&!u&&c;if(a&&l&&(h||!t.initial)){const y=n().filter(_=>{var g;const m=t.includeHiddenNodes?_.width&&_.height:!_.hidden;return(g=t.nodes)!=null&&g.length?m&&t.nodes.some(x=>x.id===_.id):m}),v=y.every(_=>_.width&&_.height);if(y.length>0&&v){const _=Qa(y,f),{x:m,y:g,zoom:x}=f2(_,r,i,t.minZoom??o,t.maxZoom??s,t.padding??.1),w=yn.translate(m,g).scale(x);return typeof t.duration=="number"&&t.duration>0?a.transform(dr(l,t.duration),w):a.transform(l,w),!0}}return!1}function n4(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[Ce]:r[Ce],selected:n.selected})}),new Map(t)}function r4(e,t){return t.map(n=>{const r=e.find(i=>i.id===n.id);return r&&(n.selected=r.selected),n})}function Ss({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:i,edges:o,onNodesChange:s,onEdgesChange:a,hasDefaultNodes:l,hasDefaultEdges:u}=n();e!=null&&e.length&&(l&&r({nodeInternals:n4(e,i)}),s==null||s(e)),t!=null&&t.length&&(u&&r({edges:r4(t,o)}),a==null||a(t))}const Dr=()=>{},i4={zoomIn:Dr,zoomOut:Dr,zoomTo:Dr,getZoom:()=>1,setViewport:Dr,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Dr,fitBounds:Dr,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},o4=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),s4=()=>{const e=$e(),{d3Zoom:t,d3Selection:n}=we(o4,Qe);return E.useMemo(()=>n&&t?{zoomIn:i=>t.scaleBy(dr(n,i==null?void 0:i.duration),1.2),zoomOut:i=>t.scaleBy(dr(n,i==null?void 0:i.duration),1/1.2),zoomTo:(i,o)=>t.scaleTo(dr(n,o==null?void 0:o.duration),i),getZoom:()=>e.getState().transform[2],setViewport:(i,o)=>{const[s,a,l]=e.getState().transform,u=yn.translate(i.x??s,i.y??a).scale(i.zoom??l);t.transform(dr(n,o==null?void 0:o.duration),u)},getViewport:()=>{const[i,o,s]=e.getState().transform;return{x:i,y:o,zoom:s}},fitView:i=>N2(e.getState,i),setCenter:(i,o,s)=>{const{width:a,height:l,maxZoom:u}=e.getState(),c=typeof(s==null?void 0:s.zoom)<"u"?s.zoom:u,f=a/2-i*c,h=l/2-o*c,p=yn.translate(f,h).scale(c);t.transform(dr(n,s==null?void 0:s.duration),p)},fitBounds:(i,o)=>{const{width:s,height:a,minZoom:l,maxZoom:u}=e.getState(),{x:c,y:f,zoom:h}=f2(i,s,a,l,u,(o==null?void 0:o.padding)??.1),p=yn.translate(c,f).scale(h);t.transform(dr(n,o==null?void 0:o.duration),p)},project:i=>{const{transform:o,snapToGrid:s,snapGrid:a}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),rm(i,o,s,a)},screenToFlowPosition:i=>{const{transform:o,snapToGrid:s,snapGrid:a,domNode:l}=e.getState();if(!l)return i;const{x:u,y:c}=l.getBoundingClientRect(),f={x:i.x-u,y:i.y-c};return rm(f,o,s,a)},flowToScreenPosition:i=>{const{transform:o,domNode:s}=e.getState();if(!s)return i;const{x:a,y:l}=s.getBoundingClientRect(),u=l2(i,o);return{x:u.x+a,y:u.y+l}},viewportInitialized:!0}:i4,[t,n])};function xg(){const e=s4(),t=$e(),n=E.useCallback(()=>t.getState().getNodes().map(v=>({...v})),[]),r=E.useCallback(v=>t.getState().nodeInternals.get(v),[]),i=E.useCallback(()=>{const{edges:v=[]}=t.getState();return v.map(_=>({..._}))},[]),o=E.useCallback(v=>{const{edges:_=[]}=t.getState();return _.find(m=>m.id===v)},[]),s=E.useCallback(v=>{const{getNodes:_,setNodes:m,hasDefaultNodes:g,onNodesChange:x}=t.getState(),w=_(),S=typeof v=="function"?v(w):v;if(g)m(S);else if(x){const k=S.length===0?w.map(N=>({type:"remove",id:N.id})):S.map(N=>({item:N,type:"reset"}));x(k)}},[]),a=E.useCallback(v=>{const{edges:_=[],setEdges:m,hasDefaultEdges:g,onEdgesChange:x}=t.getState(),w=typeof v=="function"?v(_):v;if(g)m(w);else if(x){const S=w.length===0?_.map(k=>({type:"remove",id:k.id})):w.map(k=>({item:k,type:"reset"}));x(S)}},[]),l=E.useCallback(v=>{const _=Array.isArray(v)?v:[v],{getNodes:m,setNodes:g,hasDefaultNodes:x,onNodesChange:w}=t.getState();if(x){const k=[...m(),..._];g(k)}else if(w){const S=_.map(k=>({item:k,type:"add"}));w(S)}},[]),u=E.useCallback(v=>{const _=Array.isArray(v)?v:[v],{edges:m=[],setEdges:g,hasDefaultEdges:x,onEdgesChange:w}=t.getState();if(x)g([...m,..._]);else if(w){const S=_.map(k=>({item:k,type:"add"}));w(S)}},[]),c=E.useCallback(()=>{const{getNodes:v,edges:_=[],transform:m}=t.getState(),[g,x,w]=m;return{nodes:v().map(S=>({...S})),edges:_.map(S=>({...S})),viewport:{x:g,y:x,zoom:w}}},[]),f=E.useCallback(({nodes:v,edges:_})=>{const{nodeInternals:m,getNodes:g,edges:x,hasDefaultNodes:w,hasDefaultEdges:S,onNodesDelete:k,onEdgesDelete:N,onNodesChange:j,onEdgesChange:R}=t.getState(),M=(v||[]).map(P=>P.id),q=(_||[]).map(P=>P.id),F=g().reduce((P,T)=>{const z=T.parentNode||T.parentId,I=!M.includes(T.id)&&z&&P.find(O=>O.id===z);return(typeof T.deletable=="boolean"?T.deletable:!0)&&(M.includes(T.id)||I)&&P.push(T),P},[]),L=x.filter(P=>typeof P.deletable=="boolean"?P.deletable:!0),b=L.filter(P=>q.includes(P.id));if(F||b){const P=c2(F,L),T=[...b,...P],z=T.reduce((I,C)=>(I.includes(C.id)||I.push(C.id),I),[]);if((S||w)&&(S&&t.setState({edges:x.filter(I=>!z.includes(I.id))}),w&&(F.forEach(I=>{m.delete(I.id)}),t.setState({nodeInternals:new Map(m)}))),z.length>0&&(N==null||N(T),R&&R(z.map(I=>({id:I,type:"remove"})))),F.length>0&&(k==null||k(F),j)){const I=F.map(C=>({id:C.id,type:"remove"}));j(I)}}},[]),h=E.useCallback(v=>{const _=NA(v),m=_?null:t.getState().nodeInternals.get(v.id);return!_&&!m?[null,null,_]:[_?v:Ey(m),m,_]},[]),p=E.useCallback((v,_=!0,m)=>{const[g,x,w]=h(v);return g?(m||t.getState().getNodes()).filter(S=>{if(!w&&(S.id===x.id||!S.positionAbsolute))return!1;const k=Ey(S),N=Jp(k,g);return _&&N>0||N>=g.width*g.height}):[]},[]),y=E.useCallback((v,_,m=!0)=>{const[g]=h(v);if(!g)return!1;const x=Jp(g,_);return m&&x>0||x>=g.width*g.height},[]);return E.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:i,getEdge:o,setNodes:s,setEdges:a,addNodes:l,addEdges:u,toObject:c,deleteElements:f,getIntersectingNodes:p,isNodeIntersecting:y}),[e,n,r,i,o,s,a,l,u,c,f,p,y])}const a4={actInsideInputWithModifier:!1};var l4=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=$e(),{deleteElements:r}=xg(),i=zo(e,a4),o=zo(t);E.useEffect(()=>{if(i){const{edges:s,getNodes:a}=n.getState(),l=a().filter(c=>c.selected),u=s.filter(c=>c.selected);r({nodes:l,edges:u}),n.setState({nodesSelectionActive:!1})}},[i]),E.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])};function u4(e){const t=$e();E.useEffect(()=>{let n;const r=()=>{var o,s;if(!e.current)return;const i=fg(e.current);(i.height===0||i.width===0)&&((s=(o=t.getState()).onError)==null||s.call(o,"004",En.error004())),t.setState({width:i.width||500,height:i.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const wg={position:"absolute",width:"100%",height:"100%",top:0,left:0},c4=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Es=e=>({x:e.x,y:e.y,zoom:e.k}),Fr=(e,t)=>e.target.closest(`.${t}`),My=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),qy=e=>{const t=e.ctrlKey&&_a()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},f4=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),d4=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:i=!0,zoomOnPinch:o=!0,panOnScroll:s=!1,panOnScrollSpeed:a=.5,panOnScrollMode:l=vr.Free,zoomOnDoubleClick:u=!0,elementsSelectable:c,panOnDrag:f=!0,defaultViewport:h,translateExtent:p,minZoom:y,maxZoom:v,zoomActivationKeyCode:_,preventScrolling:m=!0,children:g,noWheelClassName:x,noPanClassName:w})=>{const S=E.useRef(),k=$e(),N=E.useRef(!1),j=E.useRef(!1),R=E.useRef(null),M=E.useRef({x:0,y:0,zoom:0}),{d3Zoom:q,d3Selection:F,d3ZoomHandler:L,userSelectionActive:b}=we(f4,Qe),P=zo(_),T=E.useRef(0),z=E.useRef(!1),I=E.useRef();return u4(R),E.useEffect(()=>{if(R.current){const C=R.current.getBoundingClientRect(),O=XE().scaleExtent([y,v]).translateExtent(p),A=kt(R.current).call(O),D=yn.translate(h.x,h.y).scale(wi(h.zoom,y,v)),B=[[0,0],[C.width,C.height]],V=O.constrain()(D,B,p);O.transform(A,V),O.wheelDelta(qy),k.setState({d3Zoom:O,d3Selection:A,d3ZoomHandler:A.on("wheel.zoom"),transform:[V.x,V.y,V.k],domNode:R.current.closest(".react-flow")})}},[]),E.useEffect(()=>{F&&q&&(s&&!P&&!b?F.on("wheel.zoom",C=>{if(Fr(C,x))return!1;C.preventDefault(),C.stopImmediatePropagation();const O=F.property("__zoom").k||1;if(C.ctrlKey&&o){const ae=Lt(C),re=qy(C),ie=O*Math.pow(2,re);q.scaleTo(F,ie,ae,C);return}const A=C.deltaMode===1?20:1;let D=l===vr.Vertical?0:C.deltaX*A,B=l===vr.Horizontal?0:C.deltaY*A;!_a()&&C.shiftKey&&l!==vr.Vertical&&(D=C.deltaY*A,B=0),q.translateBy(F,-(D/O)*a,-(B/O)*a,{internal:!0});const V=Es(F.property("__zoom")),{onViewportChangeStart:K,onViewportChange:Q,onViewportChangeEnd:Z}=k.getState();clearTimeout(I.current),z.current||(z.current=!0,t==null||t(C,V),K==null||K(V)),z.current&&(e==null||e(C,V),Q==null||Q(V),I.current=setTimeout(()=>{n==null||n(C,V),Z==null||Z(V),z.current=!1},150))},{passive:!1}):typeof L<"u"&&F.on("wheel.zoom",function(C,O){if(!m&&C.type==="wheel"&&!C.ctrlKey||Fr(C,x))return null;C.preventDefault(),L.call(this,C,O)},{passive:!1}))},[b,s,l,F,q,L,P,o,m,x,t,e,n]),E.useEffect(()=>{q&&q.on("start",C=>{var D,B;if(!C.sourceEvent||C.sourceEvent.internal)return null;T.current=(D=C.sourceEvent)==null?void 0:D.button;const{onViewportChangeStart:O}=k.getState(),A=Es(C.transform);N.current=!0,M.current=A,((B=C.sourceEvent)==null?void 0:B.type)==="mousedown"&&k.setState({paneDragging:!0}),O==null||O(A),t==null||t(C.sourceEvent,A)})},[q,t]),E.useEffect(()=>{q&&(b&&!N.current?q.on("zoom",null):b||q.on("zoom",C=>{var A;const{onViewportChange:O}=k.getState();if(k.setState({transform:[C.transform.x,C.transform.y,C.transform.k]}),j.current=!!(r&&My(f,T.current??0)),(e||O)&&!((A=C.sourceEvent)!=null&&A.internal)){const D=Es(C.transform);O==null||O(D),e==null||e(C.sourceEvent,D)}}))},[b,q,e,f,r]),E.useEffect(()=>{q&&q.on("end",C=>{if(!C.sourceEvent||C.sourceEvent.internal)return null;const{onViewportChangeEnd:O}=k.getState();if(N.current=!1,k.setState({paneDragging:!1}),r&&My(f,T.current??0)&&!j.current&&r(C.sourceEvent),j.current=!1,(n||O)&&c4(M.current,C.transform)){const A=Es(C.transform);M.current=A,clearTimeout(S.current),S.current=setTimeout(()=>{O==null||O(A),n==null||n(C.sourceEvent,A)},s?150:0)}})},[q,s,f,n,r]),E.useEffect(()=>{q&&q.filter(C=>{const O=P||i,A=o&&C.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&C.button===1&&C.type==="mousedown"&&(Fr(C,"react-flow__node")||Fr(C,"react-flow__edge")))return!0;if(!f&&!O&&!s&&!u&&!o||b||!u&&C.type==="dblclick"||Fr(C,x)&&C.type==="wheel"||Fr(C,w)&&(C.type!=="wheel"||s&&C.type==="wheel"&&!P)||!o&&C.ctrlKey&&C.type==="wheel"||!O&&!s&&!A&&C.type==="wheel"||!f&&(C.type==="mousedown"||C.type==="touchstart")||Array.isArray(f)&&!f.includes(C.button)&&C.type==="mousedown")return!1;const D=Array.isArray(f)&&f.includes(C.button)||!C.button||C.button<=1;return(!C.ctrlKey||C.type==="wheel")&&D})},[b,q,i,o,s,u,f,c,P]),$.createElement("div",{className:"react-flow__renderer",ref:R,style:wg},g)},h4=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function p4(){const{userSelectionActive:e,userSelectionRect:t}=we(h4,Qe);return e&&t?$.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function Oy(e,t){const n=t.parentNode||t.parentId,r=e.find(i=>i.id===n);if(r){const i=t.position.x+t.width-r.width,o=t.position.y+t.height-r.height;if(i>0||o>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,i>0&&(r.style.width+=i),o>0&&(r.style.height+=o),t.position.x<0){const s=Math.abs(t.position.x);r.position.x=r.position.x-s,r.style.width+=s,t.position.x=0}if(t.position.y<0){const s=Math.abs(t.position.y);r.position.y=r.position.y-s,r.style.height+=s,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function C2(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,i)=>{const o=e.filter(a=>a.id===i.id);if(o.length===0)return r.push(i),r;const s={...i};for(const a of o)if(a)switch(a.type){case"select":{s.selected=a.selected;break}case"position":{typeof a.position<"u"&&(s.position=a.position),typeof a.positionAbsolute<"u"&&(s.positionAbsolute=a.positionAbsolute),typeof a.dragging<"u"&&(s.dragging=a.dragging),s.expandParent&&Oy(r,s);break}case"dimensions":{typeof a.dimensions<"u"&&(s.width=a.dimensions.width,s.height=a.dimensions.height),typeof a.updateStyle<"u"&&(s.style={...s.style||{},...a.dimensions}),typeof a.resizing=="boolean"&&(s.resizing=a.resizing),s.expandParent&&Oy(r,s);break}case"remove":return r}return r.push(s),r},n)}function j2(e,t){return C2(e,t)}function m4(e,t){return C2(e,t)}const On=(e,t)=>({id:e,type:"select",selected:t});function ei(e,t){return e.reduce((n,r)=>{const i=t.includes(r.id);return!r.selected&&i?(r.selected=!0,n.push(On(r.id,!0))):r.selected&&!i&&(r.selected=!1,n.push(On(r.id,!1))),n},[])}const Jl=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},g4=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),T2=E.memo(({isSelecting:e,selectionMode:t=Lo.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:i,onPaneClick:o,onPaneContextMenu:s,onPaneScroll:a,onPaneMouseEnter:l,onPaneMouseMove:u,onPaneMouseLeave:c,children:f})=>{const h=E.useRef(null),p=$e(),y=E.useRef(0),v=E.useRef(0),_=E.useRef(),{userSelectionActive:m,elementsSelectable:g,dragging:x}=we(g4,Qe),w=()=>{p.setState({userSelectionActive:!1,userSelectionRect:null}),y.current=0,v.current=0},S=L=>{o==null||o(L),p.getState().resetSelectedElements(),p.setState({nodesSelectionActive:!1})},k=L=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){L.preventDefault();return}s==null||s(L)},N=a?L=>a(L):void 0,j=L=>{const{resetSelectedElements:b,domNode:P}=p.getState();if(_.current=P==null?void 0:P.getBoundingClientRect(),!g||!e||L.button!==0||L.target!==h.current||!_.current)return;const{x:T,y:z}=Zn(L,_.current);b(),p.setState({userSelectionRect:{width:0,height:0,startX:T,startY:z,x:T,y:z}}),r==null||r(L)},R=L=>{const{userSelectionRect:b,nodeInternals:P,edges:T,transform:z,onNodesChange:I,onEdgesChange:C,nodeOrigin:O,getNodes:A}=p.getState();if(!e||!_.current||!b)return;p.setState({userSelectionActive:!0,nodesSelectionActive:!1});const D=Zn(L,_.current),B=b.startX??0,V=b.startY??0,K={...b,x:D.x<B?D.x:B,y:D.y<V?D.y:V,width:Math.abs(D.x-B),height:Math.abs(D.y-V)},Q=A(),Z=u2(P,K,z,t===Lo.Partial,!0,O),ae=c2(Z,T).map(ie=>ie.id),re=Z.map(ie=>ie.id);if(y.current!==re.length){y.current=re.length;const ie=ei(Q,re);ie.length&&(I==null||I(ie))}if(v.current!==ae.length){v.current=ae.length;const ie=ei(T,ae);ie.length&&(C==null||C(ie))}p.setState({userSelectionRect:K})},M=L=>{if(L.button!==0)return;const{userSelectionRect:b}=p.getState();!m&&b&&L.target===h.current&&(S==null||S(L)),p.setState({nodesSelectionActive:y.current>0}),w(),i==null||i(L)},q=L=>{m&&(p.setState({nodesSelectionActive:y.current>0}),i==null||i(L)),w()},F=g&&(e||m);return $.createElement("div",{className:dt(["react-flow__pane",{dragging:x,selection:e}]),onClick:F?void 0:Jl(S,h),onContextMenu:Jl(k,h),onWheel:Jl(N,h),onMouseEnter:F?void 0:l,onMouseDown:F?j:void 0,onMouseMove:F?R:u,onMouseUp:F?M:void 0,onMouseLeave:F?q:c,ref:h,style:wg},f,$.createElement(p4,null))});T2.displayName="Pane";function R2(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:R2(r,t):!1}function Ly(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function v4(e,t,n,r){return Array.from(e.values()).filter(i=>(i.selected||i.id===r)&&(!i.parentNode||i.parentId||!R2(i,e))&&(i.draggable||t&&typeof i.draggable>"u")).map(i=>{var o,s;return{id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((o=i.positionAbsolute)==null?void 0:o.x)??0),y:n.y-(((s=i.positionAbsolute)==null?void 0:s.y)??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode||i.parentId,parentId:i.parentNode||i.parentId,width:i.width,height:i.height,expandParent:i.expandParent}})}function y4(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function I2(e,t,n,r,i=[0,0],o){const s=y4(e,e.extent||r);let a=s;const l=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(l&&e.width&&e.height){const f=n.get(l),{x:h,y:p}=br(f,i).positionAbsolute;a=f&&Ct(h)&&Ct(p)&&Ct(f.width)&&Ct(f.height)?[[h+e.width*i[0],p+e.height*i[1]],[h+f.width-e.width+e.width*i[0],p+f.height-e.height+e.height*i[1]]]:a}else o==null||o("005",En.error005()),a=s;else if(e.extent&&l&&e.extent!=="parent"){const f=n.get(l),{x:h,y:p}=br(f,i).positionAbsolute;a=[[e.extent[0][0]+h,e.extent[0][1]+p],[e.extent[1][0]+h,e.extent[1][1]+p]]}let u={x:0,y:0};if(l){const f=n.get(l);u=br(f,i).positionAbsolute}const c=a&&a!=="parent"?dg(t,a):t;return{position:{x:c.x-u.x,y:c.y-u.y},positionAbsolute:c}}function eu({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(i=>({...n.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[e?r.find(i=>i.id===e):r[0],r]}const zy=(e,t,n,r)=>{const i=t.querySelectorAll(e);if(!i||!i.length)return null;const o=Array.from(i),s=t.getBoundingClientRect(),a={x:s.width*r[0],y:s.height*r[1]};return o.map(l=>{const u=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(u.left-s.left-a.x)/n,y:(u.top-s.top-a.y)/n,...fg(l)}})};function Bi(e,t,n){return n===void 0?n:r=>{const i=t().nodeInternals.get(e);i&&n(r,{...i})}}function om({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:s,nodeInternals:a,onError:l}=t.getState(),u=a.get(e);if(!u){l==null||l("012",En.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&s)&&(o({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):i([e])}function x4(){const e=$e();return E.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:i,snapToGrid:o}=e.getState(),s=n.touches?n.touches[0].clientX:n.clientX,a=n.touches?n.touches[0].clientY:n.clientY,l={x:(s-r[0])/r[2],y:(a-r[1])/r[2]};return{xSnapped:o?i[0]*Math.round(l.x/i[0]):l.x,ySnapped:o?i[1]*Math.round(l.y/i[1]):l.y,...l}},[])}function tu(e){return(t,n,r)=>e==null?void 0:e(t,r)}function P2({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,selectNodesOnDrag:s}){const a=$e(),[l,u]=E.useState(!1),c=E.useRef([]),f=E.useRef({x:null,y:null}),h=E.useRef(0),p=E.useRef(null),y=E.useRef({x:0,y:0}),v=E.useRef(null),_=E.useRef(!1),m=E.useRef(!1),g=E.useRef(!1),x=x4();return E.useEffect(()=>{if(e!=null&&e.current){const w=kt(e.current),S=({x:j,y:R})=>{const{nodeInternals:M,onNodeDrag:q,onSelectionDrag:F,updateNodePositions:L,nodeExtent:b,snapGrid:P,snapToGrid:T,nodeOrigin:z,onError:I}=a.getState();f.current={x:j,y:R};let C=!1,O={x:0,y:0,x2:0,y2:0};if(c.current.length>1&&b){const D=Qa(c.current,z);O=Oo(D)}if(c.current=c.current.map(D=>{const B={x:j-D.distance.x,y:R-D.distance.y};T&&(B.x=P[0]*Math.round(B.x/P[0]),B.y=P[1]*Math.round(B.y/P[1]));const V=[[b[0][0],b[0][1]],[b[1][0],b[1][1]]];c.current.length>1&&b&&!D.extent&&(V[0][0]=D.positionAbsolute.x-O.x+b[0][0],V[1][0]=D.positionAbsolute.x+(D.width??0)-O.x2+b[1][0],V[0][1]=D.positionAbsolute.y-O.y+b[0][1],V[1][1]=D.positionAbsolute.y+(D.height??0)-O.y2+b[1][1]);const K=I2(D,B,M,V,z,I);return C=C||D.position.x!==K.position.x||D.position.y!==K.position.y,D.position=K.position,D.positionAbsolute=K.positionAbsolute,D}),!C)return;L(c.current,!0,!0),u(!0);const A=i?q:tu(F);if(A&&v.current){const[D,B]=eu({nodeId:i,dragItems:c.current,nodeInternals:M});A(v.current,D,B)}},k=()=>{if(!p.current)return;const[j,R]=ZE(y.current,p.current);if(j!==0||R!==0){const{transform:M,panBy:q}=a.getState();f.current.x=(f.current.x??0)-j/M[2],f.current.y=(f.current.y??0)-R/M[2],q({x:j,y:R})&&S(f.current)}h.current=requestAnimationFrame(k)},N=j=>{var z;const{nodeInternals:R,multiSelectionActive:M,nodesDraggable:q,unselectNodesAndEdges:F,onNodeDragStart:L,onSelectionDragStart:b}=a.getState();m.current=!0;const P=i?L:tu(b);(!s||!o)&&!M&&i&&((z=R.get(i))!=null&&z.selected||F()),i&&o&&s&&om({id:i,store:a,nodeRef:e});const T=x(j);if(f.current=T,c.current=v4(R,q,T,i),P&&c.current){const[I,C]=eu({nodeId:i,dragItems:c.current,nodeInternals:R});P(j.sourceEvent,I,C)}};if(t)w.on(".drag",null);else{const j=RI().on("start",R=>{const{domNode:M,nodeDragThreshold:q}=a.getState();q===0&&N(R),g.current=!1;const F=x(R);f.current=F,p.current=(M==null?void 0:M.getBoundingClientRect())||null,y.current=Zn(R.sourceEvent,p.current)}).on("drag",R=>{var L,b;const M=x(R),{autoPanOnNodeDrag:q,nodeDragThreshold:F}=a.getState();if(R.sourceEvent.type==="touchmove"&&R.sourceEvent.touches.length>1&&(g.current=!0),!g.current){if(!_.current&&m.current&&q&&(_.current=!0,k()),!m.current){const P=M.xSnapped-(((L=f==null?void 0:f.current)==null?void 0:L.x)??0),T=M.ySnapped-(((b=f==null?void 0:f.current)==null?void 0:b.y)??0);Math.sqrt(P*P+T*T)>F&&N(R)}(f.current.x!==M.xSnapped||f.current.y!==M.ySnapped)&&c.current&&m.current&&(v.current=R.sourceEvent,y.current=Zn(R.sourceEvent,p.current),S(M))}}).on("end",R=>{if(!(!m.current||g.current)&&(u(!1),_.current=!1,m.current=!1,cancelAnimationFrame(h.current),c.current)){const{updateNodePositions:M,nodeInternals:q,onNodeDragStop:F,onSelectionDragStop:L}=a.getState(),b=i?F:tu(L);if(M(c.current,!1,!1),b){const[P,T]=eu({nodeId:i,dragItems:c.current,nodeInternals:q});b(R.sourceEvent,P,T)}}}).filter(R=>{const M=R.target;return!R.button&&(!n||!Ly(M,`.${n}`,e))&&(!r||Ly(M,r,e))});return w.call(j),()=>{w.on(".drag",null)}}}},[e,t,n,r,o,a,i,s,x]),l}function A2(){const e=$e();return E.useCallback(n=>{const{nodeInternals:r,nodeExtent:i,updateNodePositions:o,getNodes:s,snapToGrid:a,snapGrid:l,onError:u,nodesDraggable:c}=e.getState(),f=s().filter(g=>g.selected&&(g.draggable||c&&typeof g.draggable>"u")),h=a?l[0]:5,p=a?l[1]:5,y=n.isShiftPressed?4:1,v=n.x*h*y,_=n.y*p*y,m=f.map(g=>{if(g.positionAbsolute){const x={x:g.positionAbsolute.x+v,y:g.positionAbsolute.y+_};a&&(x.x=l[0]*Math.round(x.x/l[0]),x.y=l[1]*Math.round(x.y/l[1]));const{positionAbsolute:w,position:S}=I2(g,x,r,i,void 0,u);g.position=S,g.positionAbsolute=w}return g});o(m,!0,!1)},[])}const ui={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Hi=e=>{const t=({id:n,type:r,data:i,xPos:o,yPos:s,xPosOrigin:a,yPosOrigin:l,selected:u,onClick:c,onMouseEnter:f,onMouseMove:h,onMouseLeave:p,onContextMenu:y,onDoubleClick:v,style:_,className:m,isDraggable:g,isSelectable:x,isConnectable:w,isFocusable:S,selectNodesOnDrag:k,sourcePosition:N,targetPosition:j,hidden:R,resizeObserver:M,dragHandle:q,zIndex:F,isParent:L,noDragClassName:b,noPanClassName:P,initialized:T,disableKeyboardA11y:z,ariaLabel:I,rfId:C,hasHandleBounds:O})=>{const A=$e(),D=E.useRef(null),B=E.useRef(null),V=E.useRef(N),K=E.useRef(j),Q=E.useRef(r),Z=x||g||c||f||h||p,ae=A2(),re=Bi(n,A.getState,f),ie=Bi(n,A.getState,h),je=Bi(n,A.getState,p),ve=Bi(n,A.getState,y),qe=Bi(n,A.getState,v),Ie=W=>{const{nodeDragThreshold:G}=A.getState();if(x&&(!k||!g||G>0)&&om({id:n,store:A,nodeRef:D}),c){const se=A.getState().nodeInternals.get(n);se&&c(W,{...se})}},U=W=>{if(!em(W)&&!z)if(n2.includes(W.key)&&x){const G=W.key==="Escape";om({id:n,store:A,unselect:G,nodeRef:D})}else g&&u&&Object.prototype.hasOwnProperty.call(ui,W.key)&&(A.setState({ariaLiveMessage:`Moved selected node ${W.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~o}, y: ${~~s}`}),ae({x:ui[W.key].x,y:ui[W.key].y,isShiftPressed:W.shiftKey}))};E.useEffect(()=>()=>{B.current&&(M==null||M.unobserve(B.current),B.current=null)},[]),E.useEffect(()=>{if(D.current&&!R){const W=D.current;(!T||!O||B.current!==W)&&(B.current&&(M==null||M.unobserve(B.current)),M==null||M.observe(W),B.current=W)}},[R,T,O]),E.useEffect(()=>{const W=Q.current!==r,G=V.current!==N,se=K.current!==j;D.current&&(W||G||se)&&(W&&(Q.current=r),G&&(V.current=N),se&&(K.current=j),A.getState().updateNodeDimensions([{id:n,nodeElement:D.current,forceUpdate:!0}]))},[n,r,N,j]);const oe=P2({nodeRef:D,disabled:R||!g,noDragClassName:b,handleSelector:q,nodeId:n,isSelectable:x,selectNodesOnDrag:k});return R?null:$.createElement("div",{className:dt(["react-flow__node",`react-flow__node-${r}`,{[P]:g},m,{selected:u,selectable:x,parent:L,dragging:oe}]),ref:D,style:{zIndex:F,transform:`translate(${a}px,${l}px)`,pointerEvents:Z?"all":"none",visibility:T?"visible":"hidden",..._},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:re,onMouseMove:ie,onMouseLeave:je,onContextMenu:ve,onClick:Ie,onDoubleClick:qe,onKeyDown:S?U:void 0,tabIndex:S?0:void 0,role:S?"button":void 0,"aria-describedby":z?void 0:`${b2}-${C}`,"aria-label":I},$.createElement(AA,{value:n},$.createElement(e,{id:n,data:i,type:r,xPos:o,yPos:s,selected:u,isConnectable:w,sourcePosition:N,targetPosition:j,dragging:oe,dragHandle:q,zIndex:F})))};return t.displayName="NodeWrapper",E.memo(t)};const w4=e=>{const t=e.getNodes().filter(n=>n.selected);return{...Qa(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function _4({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=$e(),{width:i,height:o,x:s,y:a,transformString:l,userSelectionActive:u}=we(w4,Qe),c=A2(),f=E.useRef(null);if(E.useEffect(()=>{var y;n||(y=f.current)==null||y.focus({preventScroll:!0})},[n]),P2({nodeRef:f}),u||!i||!o)return null;const h=e?y=>{const v=r.getState().getNodes().filter(_=>_.selected);e(y,v)}:void 0,p=y=>{Object.prototype.hasOwnProperty.call(ui,y.key)&&c({x:ui[y.key].x,y:ui[y.key].y,isShiftPressed:y.shiftKey})};return $.createElement("div",{className:dt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l}},$.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:n?void 0:-1,onKeyDown:n?void 0:p,style:{width:i,height:o,top:a,left:s}}))}var b4=E.memo(_4);const S4=e=>e.nodesSelectionActive,M2=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,deleteKeyCode:a,onMove:l,onMoveStart:u,onMoveEnd:c,selectionKeyCode:f,selectionOnDrag:h,selectionMode:p,onSelectionStart:y,onSelectionEnd:v,multiSelectionKeyCode:_,panActivationKeyCode:m,zoomActivationKeyCode:g,elementsSelectable:x,zoomOnScroll:w,zoomOnPinch:S,panOnScroll:k,panOnScrollSpeed:N,panOnScrollMode:j,zoomOnDoubleClick:R,panOnDrag:M,defaultViewport:q,translateExtent:F,minZoom:L,maxZoom:b,preventScrolling:P,onSelectionContextMenu:T,noWheelClassName:z,noPanClassName:I,disableKeyboardA11y:C})=>{const O=we(S4),A=zo(f),D=zo(m),B=D||M,V=D||k,K=A||h&&B!==!0;return l4({deleteKeyCode:a,multiSelectionKeyCode:_}),$.createElement(d4,{onMove:l,onMoveStart:u,onMoveEnd:c,onPaneContextMenu:o,elementsSelectable:x,zoomOnScroll:w,zoomOnPinch:S,panOnScroll:V,panOnScrollSpeed:N,panOnScrollMode:j,zoomOnDoubleClick:R,panOnDrag:!A&&B,defaultViewport:q,translateExtent:F,minZoom:L,maxZoom:b,zoomActivationKeyCode:g,preventScrolling:P,noWheelClassName:z,noPanClassName:I},$.createElement(T2,{onSelectionStart:y,onSelectionEnd:v,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,panOnDrag:B,isSelecting:!!K,selectionMode:p},e,O&&$.createElement(b4,{onSelectionContextMenu:T,noPanClassName:I,disableKeyboardA11y:C})))};M2.displayName="FlowRenderer";var E4=E.memo(M2);function k4(e){return we(E.useCallback(n=>e?u2(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function N4(e){const t={input:Hi(e.input||y2),default:Hi(e.default||im),output:Hi(e.output||w2),group:Hi(e.group||yg)},n={},r=Object.keys(e).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,o)=>(i[o]=Hi(e[o]||im),i),n);return{...t,...r}}const C4=({x:e,y:t,width:n,height:r,origin:i})=>!n||!r?{x:e,y:t}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:e,y:t}:{x:e-n*i[0],y:t-r*i[1]},j4=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),q2=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,updateNodeDimensions:o,onError:s}=we(j4,Qe),a=k4(e.onlyRenderVisibleElements),l=E.useRef(),u=E.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const c=new ResizeObserver(f=>{const h=f.map(p=>({id:p.target.getAttribute("data-id"),nodeElement:p.target,forceUpdate:!0}));o(h)});return l.current=c,c},[]);return E.useEffect(()=>()=>{var c;(c=l==null?void 0:l.current)==null||c.disconnect()},[]),$.createElement("div",{className:"react-flow__nodes",style:wg},a.map(c=>{var S,k,N;let f=c.type||"default";e.nodeTypes[f]||(s==null||s("003",En.error003(f)),f="default");const h=e.nodeTypes[f]||e.nodeTypes.default,p=!!(c.draggable||t&&typeof c.draggable>"u"),y=!!(c.selectable||i&&typeof c.selectable>"u"),v=!!(c.connectable||n&&typeof c.connectable>"u"),_=!!(c.focusable||r&&typeof c.focusable>"u"),m=e.nodeExtent?dg(c.positionAbsolute,e.nodeExtent):c.positionAbsolute,g=(m==null?void 0:m.x)??0,x=(m==null?void 0:m.y)??0,w=C4({x:g,y:x,width:c.width??0,height:c.height??0,origin:e.nodeOrigin});return $.createElement(h,{key:c.id,id:c.id,className:c.className,style:c.style,type:f,data:c.data,sourcePosition:c.sourcePosition||X.Bottom,targetPosition:c.targetPosition||X.Top,hidden:c.hidden,xPos:g,yPos:x,xPosOrigin:w.x,yPosOrigin:w.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!c.selected,isDraggable:p,isSelectable:y,isConnectable:v,isFocusable:_,resizeObserver:u,dragHandle:c.dragHandle,zIndex:((S=c[Ce])==null?void 0:S.z)??0,isParent:!!((k=c[Ce])!=null&&k.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!c.width&&!!c.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:c.ariaLabel,hasHandleBounds:!!((N=c[Ce])!=null&&N.handleBounds)})}))};q2.displayName="NodeRenderer";var T4=E.memo(q2);const R4=(e,t,n)=>n===X.Left?e-t:n===X.Right?e+t:e,I4=(e,t,n)=>n===X.Top?e-t:n===X.Bottom?e+t:e,Dy="react-flow__edgeupdater",Fy=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:s,type:a})=>$.createElement("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:s,className:dt([Dy,`${Dy}-${a}`]),cx:R4(t,r,e),cy:I4(n,r,e),r,stroke:"transparent",fill:"transparent"}),P4=()=>!0;var $r=e=>{const t=({id:n,className:r,type:i,data:o,onClick:s,onEdgeDoubleClick:a,selected:l,animated:u,label:c,labelStyle:f,labelShowBg:h,labelBgStyle:p,labelBgPadding:y,labelBgBorderRadius:v,style:_,source:m,target:g,sourceX:x,sourceY:w,targetX:S,targetY:k,sourcePosition:N,targetPosition:j,elementsSelectable:R,hidden:M,sourceHandleId:q,targetHandleId:F,onContextMenu:L,onMouseEnter:b,onMouseMove:P,onMouseLeave:T,reconnectRadius:z,onReconnect:I,onReconnectStart:C,onReconnectEnd:O,markerEnd:A,markerStart:D,rfId:B,ariaLabel:V,isFocusable:K,isReconnectable:Q,pathOptions:Z,interactionWidth:ae,disableKeyboardA11y:re})=>{const ie=E.useRef(null),[je,ve]=E.useState(!1),[qe,Ie]=E.useState(!1),U=$e(),oe=E.useMemo(()=>`url('#${nm(D,B)}')`,[D,B]),W=E.useMemo(()=>`url('#${nm(A,B)}')`,[A,B]);if(M)return null;const G=ze=>{var Gt;const{edges:it,addSelectedEdges:We,unselectNodesAndEdges:Ze,multiSelectionActive:lr}=U.getState(),an=it.find(Ti=>Ti.id===n);an&&(R&&(U.setState({nodesSelectionActive:!1}),an.selected&&lr?(Ze({nodes:[],edges:[an]}),(Gt=ie.current)==null||Gt.blur()):We([n])),s&&s(ze,an))},se=$i(n,U.getState,a),Te=$i(n,U.getState,L),le=$i(n,U.getState,b),de=$i(n,U.getState,P),he=$i(n,U.getState,T),ye=(ze,it)=>{if(ze.button!==0)return;const{edges:We,isValidConnection:Ze}=U.getState(),lr=it?g:m,an=(it?F:q)||null,Gt=it?"target":"source",Ti=Ze||P4,vl=it,Ri=We.find(ur=>ur.id===n);Ie(!0),C==null||C(ze,Ri,Gt);const yl=ur=>{Ie(!1),O==null||O(ur,Ri,Gt)};p2({event:ze,handleId:an,nodeId:lr,onConnect:ur=>I==null?void 0:I(Ri,ur),isTarget:vl,getState:U.getState,setState:U.setState,isValidConnection:Ti,edgeUpdaterType:Gt,onReconnectEnd:yl})},Be=ze=>ye(ze,!0),bt=ze=>ye(ze,!1),Wt=()=>ve(!0),ht=()=>ve(!1),sn=!R&&!s,Tn=ze=>{var it;if(!re&&n2.includes(ze.key)&&R){const{unselectNodesAndEdges:We,addSelectedEdges:Ze,edges:lr}=U.getState();ze.key==="Escape"?((it=ie.current)==null||it.blur(),We({edges:[lr.find(Gt=>Gt.id===n)]})):Ze([n])}};return $.createElement("g",{className:dt(["react-flow__edge",`react-flow__edge-${i}`,r,{selected:l,animated:u,inactive:sn,updating:je}]),onClick:G,onDoubleClick:se,onContextMenu:Te,onMouseEnter:le,onMouseMove:de,onMouseLeave:he,onKeyDown:K?Tn:void 0,tabIndex:K?0:void 0,role:K?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":V===null?void 0:V||`Edge from ${m} to ${g}`,"aria-describedby":K?`${S2}-${B}`:void 0,ref:ie},!qe&&$.createElement(e,{id:n,source:m,target:g,selected:l,animated:u,label:c,labelStyle:f,labelShowBg:h,labelBgStyle:p,labelBgPadding:y,labelBgBorderRadius:v,data:o,style:_,sourceX:x,sourceY:w,targetX:S,targetY:k,sourcePosition:N,targetPosition:j,sourceHandleId:q,targetHandleId:F,markerStart:oe,markerEnd:W,pathOptions:Z,interactionWidth:ae}),Q&&$.createElement($.Fragment,null,(Q==="source"||Q===!0)&&$.createElement(Fy,{position:N,centerX:x,centerY:w,radius:z,onMouseDown:Be,onMouseEnter:Wt,onMouseOut:ht,type:"source"}),(Q==="target"||Q===!0)&&$.createElement(Fy,{position:j,centerX:S,centerY:k,radius:z,onMouseDown:bt,onMouseEnter:Wt,onMouseOut:ht,type:"target"})))};return t.displayName="EdgeWrapper",E.memo(t)};function A4(e){const t={default:$r(e.default||Sa),straight:$r(e.bezier||mg),step:$r(e.step||pg),smoothstep:$r(e.step||Xa),simplebezier:$r(e.simplebezier||hg)},n={},r=Object.keys(e).filter(i=>!["default","bezier"].includes(i)).reduce((i,o)=>(i[o]=$r(e[o]||Sa),i),n);return{...t,...r}}function $y(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,i=((n==null?void 0:n.y)||0)+t.y,o=(n==null?void 0:n.width)||t.width,s=(n==null?void 0:n.height)||t.height;switch(e){case X.Top:return{x:r+o/2,y:i};case X.Right:return{x:r+o,y:i+s/2};case X.Bottom:return{x:r+o/2,y:i+s};case X.Left:return{x:r,y:i+s/2}}}function By(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const M4=(e,t,n,r,i,o)=>{const s=$y(n,e,t),a=$y(o,r,i);return{sourceX:s.x,sourceY:s.y,targetX:a.x,targetY:a.y}};function q4({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:o,width:s,height:a,transform:l}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+r,t.y+o)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=Oo({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:s/l[2],height:a/l[2]}),f=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),h=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(f*h)>0}function Hy(e){var r,i,o,s,a;const t=((r=e==null?void 0:e[Ce])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)<"u"&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.y)<"u";return[{x:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)||0,y:((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const O4=[{level:0,isMaxLevel:!0,edges:[]}];function L4(e,t,n=!1){let r=-1;const i=e.reduce((s,a)=>{var c,f;const l=Ct(a.zIndex);let u=l?a.zIndex:0;if(n){const h=t.get(a.target),p=t.get(a.source),y=a.selected||(h==null?void 0:h.selected)||(p==null?void 0:p.selected),v=Math.max(((c=p==null?void 0:p[Ce])==null?void 0:c.z)||0,((f=h==null?void 0:h[Ce])==null?void 0:f.z)||0,1e3);u=(l?a.zIndex:0)+(y?v:0)}return s[u]?s[u].push(a):s[u]=[a],r=u>r?u:r,s},{}),o=Object.entries(i).map(([s,a])=>{const l=+s;return{edges:a,level:l,isMaxLevel:l===r}});return o.length===0?O4:o}function z4(e,t,n){const r=we(E.useCallback(i=>e?i.edges.filter(o=>{const s=t.get(o.source),a=t.get(o.target);return(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&q4({sourcePos:s.positionAbsolute||{x:0,y:0},targetPos:a.positionAbsolute||{x:0,y:0},sourceWidth:s.width,sourceHeight:s.height,targetWidth:a.width,targetHeight:a.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[e,t]));return L4(r,t,n)}const D4=({color:e="none",strokeWidth:t=1})=>$.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),F4=({color:e="none",strokeWidth:t=1})=>$.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Vy={[ba.Arrow]:D4,[ba.ArrowClosed]:F4};function $4(e){const t=$e();return E.useMemo(()=>{var i,o;return Object.prototype.hasOwnProperty.call(Vy,e)?Vy[e]:((o=(i=t.getState()).onError)==null||o.call(i,"009",En.error009(e)),null)},[e])}const B4=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:s,orient:a="auto-start-reverse"})=>{const l=$4(t);return l?$.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:a,refX:"0",refY:"0"},$.createElement(l,{color:n,strokeWidth:s})):null},H4=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((i,o)=>([o.markerStart,o.markerEnd].forEach(s=>{if(s&&typeof s=="object"){const a=nm(s,t);r.includes(a)||(i.push({id:a,color:s.color||e,...s}),r.push(a))}}),i),[]).sort((i,o)=>i.id.localeCompare(o.id))},O2=({defaultColor:e,rfId:t})=>{const n=we(E.useCallback(H4({defaultColor:e,rfId:t}),[e,t]),(r,i)=>!(r.length!==i.length||r.some((o,s)=>o.id!==i[s].id)));return $.createElement("defs",null,n.map(r=>$.createElement(B4,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};O2.displayName="MarkerDefinitions";var V4=E.memo(O2);const U4=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),L2=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:i,noPanClassName:o,onEdgeContextMenu:s,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:c,onEdgeDoubleClick:f,onReconnect:h,onReconnectStart:p,onReconnectEnd:y,reconnectRadius:v,children:_,disableKeyboardA11y:m})=>{const{edgesFocusable:g,edgesUpdatable:x,elementsSelectable:w,width:S,height:k,connectionMode:N,nodeInternals:j,onError:R}=we(U4,Qe),M=z4(t,j,n);return S?$.createElement($.Fragment,null,M.map(({level:q,edges:F,isMaxLevel:L})=>$.createElement("svg",{key:q,style:{zIndex:q},width:S,height:k,className:"react-flow__edges react-flow__container"},L&&$.createElement(V4,{defaultColor:e,rfId:r}),$.createElement("g",null,F.map(b=>{const[P,T,z]=Hy(j.get(b.source)),[I,C,O]=Hy(j.get(b.target));if(!z||!O)return null;let A=b.type||"default";i[A]||(R==null||R("011",En.error011(A)),A="default");const D=i[A]||i.default,B=N===Tr.Strict?C.target:(C.target??[]).concat(C.source??[]),V=By(T.source,b.sourceHandle),K=By(B,b.targetHandle),Q=(V==null?void 0:V.position)||X.Bottom,Z=(K==null?void 0:K.position)||X.Top,ae=!!(b.focusable||g&&typeof b.focusable>"u"),re=b.reconnectable||b.updatable,ie=typeof h<"u"&&(re||x&&typeof re>"u");if(!V||!K)return R==null||R("008",En.error008(V,b)),null;const{sourceX:je,sourceY:ve,targetX:qe,targetY:Ie}=M4(P,V,Q,I,K,Z);return $.createElement(D,{key:b.id,id:b.id,className:dt([b.className,o]),type:A,data:b.data,selected:!!b.selected,animated:!!b.animated,hidden:!!b.hidden,label:b.label,labelStyle:b.labelStyle,labelShowBg:b.labelShowBg,labelBgStyle:b.labelBgStyle,labelBgPadding:b.labelBgPadding,labelBgBorderRadius:b.labelBgBorderRadius,style:b.style,source:b.source,target:b.target,sourceHandleId:b.sourceHandle,targetHandleId:b.targetHandle,markerEnd:b.markerEnd,markerStart:b.markerStart,sourceX:je,sourceY:ve,targetX:qe,targetY:Ie,sourcePosition:Q,targetPosition:Z,elementsSelectable:w,onContextMenu:s,onMouseEnter:a,onMouseMove:l,onMouseLeave:u,onClick:c,onEdgeDoubleClick:f,onReconnect:h,onReconnectStart:p,onReconnectEnd:y,reconnectRadius:v,rfId:r,ariaLabel:b.ariaLabel,isFocusable:ae,isReconnectable:ie,pathOptions:"pathOptions"in b?b.pathOptions:void 0,interactionWidth:b.interactionWidth,disableKeyboardA11y:m})})))),_):null};L2.displayName="EdgeRenderer";var W4=E.memo(L2);const G4=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function K4({children:e}){const t=we(G4);return $.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function Y4(e){const t=xg(),n=E.useRef(!1);E.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const X4={[X.Left]:X.Right,[X.Right]:X.Left,[X.Top]:X.Bottom,[X.Bottom]:X.Top},z2=({nodeId:e,handleType:t,style:n,type:r=Dn.Bezier,CustomComponent:i,connectionStatus:o})=>{var k,N,j;const{fromNode:s,handleId:a,toX:l,toY:u,connectionMode:c}=we(E.useCallback(R=>({fromNode:R.nodeInternals.get(e),handleId:R.connectionHandleId,toX:(R.connectionPosition.x-R.transform[0])/R.transform[2],toY:(R.connectionPosition.y-R.transform[1])/R.transform[2],connectionMode:R.connectionMode}),[e]),Qe),f=(k=s==null?void 0:s[Ce])==null?void 0:k.handleBounds;let h=f==null?void 0:f[t];if(c===Tr.Loose&&(h=h||(f==null?void 0:f[t==="source"?"target":"source"])),!s||!h)return null;const p=a?h.find(R=>R.id===a):h[0],y=p?p.x+p.width/2:(s.width??0)/2,v=p?p.y+p.height/2:s.height??0,_=(((N=s.positionAbsolute)==null?void 0:N.x)??0)+y,m=(((j=s.positionAbsolute)==null?void 0:j.y)??0)+v,g=p==null?void 0:p.position,x=g?X4[g]:null;if(!g||!x)return null;if(i)return $.createElement(i,{connectionLineType:r,connectionLineStyle:n,fromNode:s,fromHandle:p,fromX:_,fromY:m,toX:l,toY:u,fromPosition:g,toPosition:x,connectionStatus:o});let w="";const S={sourceX:_,sourceY:m,sourcePosition:g,targetX:l,targetY:u,targetPosition:x};return r===Dn.Bezier?[w]=a2(S):r===Dn.Step?[w]=tm({...S,borderRadius:0}):r===Dn.SmoothStep?[w]=tm(S):r===Dn.SimpleBezier?[w]=s2(S):w=`M${_},${m} ${l},${u}`,$.createElement("path",{d:w,fill:"none",className:"react-flow__connection-path",style:n})};z2.displayName="ConnectionLine";const Q4=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function Z4({containerStyle:e,style:t,type:n,component:r}){const{nodeId:i,handleType:o,nodesConnectable:s,width:a,height:l,connectionStatus:u}=we(Q4,Qe);return!(i&&o&&a&&s)?null:$.createElement("svg",{style:e,width:a,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},$.createElement("g",{className:dt(["react-flow__connection",u])},$.createElement(z2,{nodeId:i,handleType:o,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function Uy(e,t){return E.useRef(null),$e(),E.useMemo(()=>t(e),[e])}const D2=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:i,onInit:o,onNodeClick:s,onEdgeClick:a,onNodeDoubleClick:l,onEdgeDoubleClick:u,onNodeMouseEnter:c,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:p,onSelectionContextMenu:y,onSelectionStart:v,onSelectionEnd:_,connectionLineType:m,connectionLineStyle:g,connectionLineComponent:x,connectionLineContainerStyle:w,selectionKeyCode:S,selectionOnDrag:k,selectionMode:N,multiSelectionKeyCode:j,panActivationKeyCode:R,zoomActivationKeyCode:M,deleteKeyCode:q,onlyRenderVisibleElements:F,elementsSelectable:L,selectNodesOnDrag:b,defaultViewport:P,translateExtent:T,minZoom:z,maxZoom:I,preventScrolling:C,defaultMarkerColor:O,zoomOnScroll:A,zoomOnPinch:D,panOnScroll:B,panOnScrollSpeed:V,panOnScrollMode:K,zoomOnDoubleClick:Q,panOnDrag:Z,onPaneClick:ae,onPaneMouseEnter:re,onPaneMouseMove:ie,onPaneMouseLeave:je,onPaneScroll:ve,onPaneContextMenu:qe,onEdgeContextMenu:Ie,onEdgeMouseEnter:U,onEdgeMouseMove:oe,onEdgeMouseLeave:W,onReconnect:G,onReconnectStart:se,onReconnectEnd:Te,reconnectRadius:le,noDragClassName:de,noWheelClassName:he,noPanClassName:ye,elevateEdgesOnSelect:Be,disableKeyboardA11y:bt,nodeOrigin:Wt,nodeExtent:ht,rfId:sn})=>{const Tn=Uy(e,N4),ze=Uy(t,A4);return Y4(o),$.createElement(E4,{onPaneClick:ae,onPaneMouseEnter:re,onPaneMouseMove:ie,onPaneMouseLeave:je,onPaneContextMenu:qe,onPaneScroll:ve,deleteKeyCode:q,selectionKeyCode:S,selectionOnDrag:k,selectionMode:N,onSelectionStart:v,onSelectionEnd:_,multiSelectionKeyCode:j,panActivationKeyCode:R,zoomActivationKeyCode:M,elementsSelectable:L,onMove:n,onMoveStart:r,onMoveEnd:i,zoomOnScroll:A,zoomOnPinch:D,zoomOnDoubleClick:Q,panOnScroll:B,panOnScrollSpeed:V,panOnScrollMode:K,panOnDrag:Z,defaultViewport:P,translateExtent:T,minZoom:z,maxZoom:I,onSelectionContextMenu:y,preventScrolling:C,noDragClassName:de,noWheelClassName:he,noPanClassName:ye,disableKeyboardA11y:bt},$.createElement(K4,null,$.createElement(W4,{edgeTypes:ze,onEdgeClick:a,onEdgeDoubleClick:u,onlyRenderVisibleElements:F,onEdgeContextMenu:Ie,onEdgeMouseEnter:U,onEdgeMouseMove:oe,onEdgeMouseLeave:W,onReconnect:G,onReconnectStart:se,onReconnectEnd:Te,reconnectRadius:le,defaultMarkerColor:O,noPanClassName:ye,elevateEdgesOnSelect:!!Be,disableKeyboardA11y:bt,rfId:sn},$.createElement(Z4,{style:g,type:m,component:x,containerStyle:w})),$.createElement("div",{className:"react-flow__edgelabel-renderer"}),$.createElement(T4,{nodeTypes:Tn,onNodeClick:s,onNodeDoubleClick:l,onNodeMouseEnter:c,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:p,selectNodesOnDrag:b,onlyRenderVisibleElements:F,noPanClassName:ye,noDragClassName:de,disableKeyboardA11y:bt,nodeOrigin:Wt,nodeExtent:ht,rfId:sn})))};D2.displayName="GraphView";var J4=E.memo(D2);const sm=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],In={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:sm,nodeExtent:sm,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Tr.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:CA,isValidConnection:void 0},e3=()=>BT((e,t)=>({...In,setNodes:n=>{const{nodeInternals:r,nodeOrigin:i,elevateNodesOnSelect:o}=t();e({nodeInternals:Zl(n,r,i,o)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(i=>({...r,...i}))})},setDefaultNodesAndEdges:(n,r)=>{const i=typeof n<"u",o=typeof r<"u",s=i?Zl(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:s,edges:o?r:[],hasDefaultNodes:i,hasDefaultEdges:o})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:i,fitViewOnInit:o,fitViewOnInitDone:s,fitViewOnInitOptions:a,domNode:l,nodeOrigin:u}=t(),c=l==null?void 0:l.querySelector(".react-flow__viewport");if(!c)return;const f=window.getComputedStyle(c),{m22:h}=new window.DOMMatrixReadOnly(f.transform),p=n.reduce((v,_)=>{const m=i.get(_.id);if(m!=null&&m.hidden)i.set(m.id,{...m,[Ce]:{...m[Ce],handleBounds:void 0}});else if(m){const g=fg(_.nodeElement);!!(g.width&&g.height&&(m.width!==g.width||m.height!==g.height||_.forceUpdate))&&(i.set(m.id,{...m,[Ce]:{...m[Ce],handleBounds:{source:zy(".source",_.nodeElement,h,u),target:zy(".target",_.nodeElement,h,u)}},...g}),v.push({id:m.id,type:"dimensions",dimensions:g}))}return v},[]);k2(i,u);const y=s||o&&!s&&N2(t,{initial:!0,...a});e({nodeInternals:new Map(i),fitViewOnInitDone:y}),(p==null?void 0:p.length)>0&&(r==null||r(p))},updateNodePositions:(n,r=!0,i=!1)=>{const{triggerNodeChanges:o}=t(),s=n.map(a=>{const l={id:a.id,type:"position",dragging:i};return r&&(l.positionAbsolute=a.positionAbsolute,l.position=a.position),l});o(s)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:i,hasDefaultNodes:o,nodeOrigin:s,getNodes:a,elevateNodesOnSelect:l}=t();if(n!=null&&n.length){if(o){const u=j2(n,a()),c=Zl(u,i,s,l);e({nodeInternals:c})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:i,getNodes:o}=t();let s,a=null;r?s=n.map(l=>On(l,!0)):(s=ei(o(),n),a=ei(i,[])),Ss({changedNodes:s,changedEdges:a,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:i,getNodes:o}=t();let s,a=null;r?s=n.map(l=>On(l,!0)):(s=ei(i,n),a=ei(o(),[])),Ss({changedNodes:a,changedEdges:s,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:i,getNodes:o}=t(),s=n||o(),a=r||i,l=s.map(c=>(c.selected=!1,On(c.id,!1))),u=a.map(c=>On(c.id,!1));Ss({changedNodes:l,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:i}=t();r==null||r.scaleExtent([n,i]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:i}=t();r==null||r.scaleExtent([i,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),o=r().filter(a=>a.selected).map(a=>On(a.id,!1)),s=n.filter(a=>a.selected).map(a=>On(a.id,!1));Ss({changedNodes:o,changedEdges:s,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(i=>{i.positionAbsolute=dg(i.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:i,height:o,d3Zoom:s,d3Selection:a,translateExtent:l}=t();if(!s||!a||!n.x&&!n.y)return!1;const u=yn.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),c=[[0,0],[i,o]],f=s==null?void 0:s.constrain()(u,c,l);return s.transform(a,f),r[0]!==f.x||r[1]!==f.y||r[2]!==f.k},cancelConnection:()=>e({connectionNodeId:In.connectionNodeId,connectionHandleId:In.connectionHandleId,connectionHandleType:In.connectionHandleType,connectionStatus:In.connectionStatus,connectionStartHandle:In.connectionStartHandle,connectionEndHandle:In.connectionEndHandle}),reset:()=>e({...In})}),Object.is),_g=({children:e})=>{const t=E.useRef(null);return t.current||(t.current=e3()),$.createElement(wA,{value:t.current},e)};_g.displayName="ReactFlowProvider";const F2=({children:e})=>E.useContext(Ya)?$.createElement($.Fragment,null,e):$.createElement(_g,null,e);F2.displayName="ReactFlowWrapper";const t3={input:y2,default:im,output:w2,group:yg},n3={default:Sa,straight:mg,step:pg,smoothstep:Xa,simplebezier:hg},r3=[0,0],i3=[15,15],o3={x:0,y:0,zoom:1},s3={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},$2=E.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o=t3,edgeTypes:s=n3,onNodeClick:a,onEdgeClick:l,onInit:u,onMove:c,onMoveStart:f,onMoveEnd:h,onConnect:p,onConnectStart:y,onConnectEnd:v,onClickConnectStart:_,onClickConnectEnd:m,onNodeMouseEnter:g,onNodeMouseMove:x,onNodeMouseLeave:w,onNodeContextMenu:S,onNodeDoubleClick:k,onNodeDragStart:N,onNodeDrag:j,onNodeDragStop:R,onNodesDelete:M,onEdgesDelete:q,onSelectionChange:F,onSelectionDragStart:L,onSelectionDrag:b,onSelectionDragStop:P,onSelectionContextMenu:T,onSelectionStart:z,onSelectionEnd:I,connectionMode:C=Tr.Strict,connectionLineType:O=Dn.Bezier,connectionLineStyle:A,connectionLineComponent:D,connectionLineContainerStyle:B,deleteKeyCode:V="Backspace",selectionKeyCode:K="Shift",selectionOnDrag:Q=!1,selectionMode:Z=Lo.Full,panActivationKeyCode:ae="Space",multiSelectionKeyCode:re=_a()?"Meta":"Control",zoomActivationKeyCode:ie=_a()?"Meta":"Control",snapToGrid:je=!1,snapGrid:ve=i3,onlyRenderVisibleElements:qe=!1,selectNodesOnDrag:Ie=!0,nodesDraggable:U,nodesConnectable:oe,nodesFocusable:W,nodeOrigin:G=r3,edgesFocusable:se,edgesUpdatable:Te,elementsSelectable:le,defaultViewport:de=o3,minZoom:he=.5,maxZoom:ye=2,translateExtent:Be=sm,preventScrolling:bt=!0,nodeExtent:Wt,defaultMarkerColor:ht="#b1b1b7",zoomOnScroll:sn=!0,zoomOnPinch:Tn=!0,panOnScroll:ze=!1,panOnScrollSpeed:it=.5,panOnScrollMode:We=vr.Free,zoomOnDoubleClick:Ze=!0,panOnDrag:lr=!0,onPaneClick:an,onPaneMouseEnter:Gt,onPaneMouseMove:Ti,onPaneMouseLeave:vl,onPaneScroll:Ri,onPaneContextMenu:yl,children:Vg,onEdgeContextMenu:ur,onEdgeDoubleClick:dN,onEdgeMouseEnter:hN,onEdgeMouseMove:pN,onEdgeMouseLeave:mN,onEdgeUpdate:gN,onEdgeUpdateStart:vN,onEdgeUpdateEnd:yN,onReconnect:xN,onReconnectStart:wN,onReconnectEnd:_N,reconnectRadius:bN=10,edgeUpdaterRadius:SN=10,onNodesChange:EN,onEdgesChange:kN,noDragClassName:NN="nodrag",noWheelClassName:CN="nowheel",noPanClassName:Ug="nopan",fitView:jN=!1,fitViewOptions:TN,connectOnClick:RN=!0,attributionPosition:IN,proOptions:PN,defaultEdgeOptions:AN,elevateNodesOnSelect:MN=!0,elevateEdgesOnSelect:qN=!1,disableKeyboardA11y:Wg=!1,autoPanOnConnect:ON=!0,autoPanOnNodeDrag:LN=!0,connectionRadius:zN=20,isValidConnection:DN,onError:FN,style:$N,id:Gg,nodeDragThreshold:BN,...HN},VN)=>{const xl=Gg||"1";return $.createElement("div",{...HN,style:{...$N,...s3},ref:VN,className:dt(["react-flow",i]),"data-testid":"rf__wrapper",id:Gg},$.createElement(F2,null,$.createElement(J4,{onInit:u,onMove:c,onMoveStart:f,onMoveEnd:h,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:g,onNodeMouseMove:x,onNodeMouseLeave:w,onNodeContextMenu:S,onNodeDoubleClick:k,nodeTypes:o,edgeTypes:s,connectionLineType:O,connectionLineStyle:A,connectionLineComponent:D,connectionLineContainerStyle:B,selectionKeyCode:K,selectionOnDrag:Q,selectionMode:Z,deleteKeyCode:V,multiSelectionKeyCode:re,panActivationKeyCode:ae,zoomActivationKeyCode:ie,onlyRenderVisibleElements:qe,selectNodesOnDrag:Ie,defaultViewport:de,translateExtent:Be,minZoom:he,maxZoom:ye,preventScrolling:bt,zoomOnScroll:sn,zoomOnPinch:Tn,zoomOnDoubleClick:Ze,panOnScroll:ze,panOnScrollSpeed:it,panOnScrollMode:We,panOnDrag:lr,onPaneClick:an,onPaneMouseEnter:Gt,onPaneMouseMove:Ti,onPaneMouseLeave:vl,onPaneScroll:Ri,onPaneContextMenu:yl,onSelectionContextMenu:T,onSelectionStart:z,onSelectionEnd:I,onEdgeContextMenu:ur,onEdgeDoubleClick:dN,onEdgeMouseEnter:hN,onEdgeMouseMove:pN,onEdgeMouseLeave:mN,onReconnect:xN??gN,onReconnectStart:wN??vN,onReconnectEnd:_N??yN,reconnectRadius:bN??SN,defaultMarkerColor:ht,noDragClassName:NN,noWheelClassName:CN,noPanClassName:Ug,elevateEdgesOnSelect:qN,rfId:xl,disableKeyboardA11y:Wg,nodeOrigin:G,nodeExtent:Wt}),$.createElement(XA,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:p,onConnectStart:y,onConnectEnd:v,onClickConnectStart:_,onClickConnectEnd:m,nodesDraggable:U,nodesConnectable:oe,nodesFocusable:W,edgesFocusable:se,edgesUpdatable:Te,elementsSelectable:le,elevateNodesOnSelect:MN,minZoom:he,maxZoom:ye,nodeExtent:Wt,onNodesChange:EN,onEdgesChange:kN,snapToGrid:je,snapGrid:ve,connectionMode:C,translateExtent:Be,connectOnClick:RN,defaultEdgeOptions:AN,fitView:jN,fitViewOptions:TN,onNodesDelete:M,onEdgesDelete:q,onNodeDragStart:N,onNodeDrag:j,onNodeDragStop:R,onSelectionDrag:b,onSelectionDragStart:L,onSelectionDragStop:P,noPanClassName:Ug,nodeOrigin:G,rfId:xl,autoPanOnConnect:ON,autoPanOnNodeDrag:LN,onError:FN,connectionRadius:zN,isValidConnection:DN,nodeDragThreshold:BN}),$.createElement(KA,{onSelectionChange:F}),Vg,$.createElement(bA,{proOptions:PN,position:IN}),$.createElement(t4,{rfId:xl,disableKeyboardA11y:Wg})))});$2.displayName="ReactFlow";function B2(e){return t=>{const[n,r]=E.useState(t),i=E.useCallback(o=>r(s=>e(o,s)),[]);return[n,r,i]}}const a3=B2(j2),l3=B2(m4),H2=({id:e,x:t,y:n,width:r,height:i,style:o,color:s,strokeColor:a,strokeWidth:l,className:u,borderRadius:c,shapeRendering:f,onClick:h,selected:p})=>{const{background:y,backgroundColor:v}=o||{},_=s||y||v;return $.createElement("rect",{className:dt(["react-flow__minimap-node",{selected:p},u]),x:t,y:n,rx:c,ry:c,width:r,height:i,fill:_,stroke:a,strokeWidth:l,shapeRendering:f,onClick:h?m=>h(m,e):void 0})};H2.displayName="MiniMapNode";var u3=E.memo(H2);const c3=e=>e.nodeOrigin,f3=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),nu=e=>e instanceof Function?e:()=>e;function d3({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i=2,nodeComponent:o=u3,onClick:s}){const a=we(f3,Qe),l=we(c3),u=nu(t),c=nu(e),f=nu(n),h=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return $.createElement($.Fragment,null,a.map(p=>{const{x:y,y:v}=br(p,l).positionAbsolute;return $.createElement(o,{key:p.id,x:y,y:v,width:p.width,height:p.height,style:p.style,selected:p.selected,className:f(p),color:u(p),borderRadius:r,strokeColor:c(p),strokeWidth:i,shapeRendering:h,onClick:s,id:p.id})}))}var h3=E.memo(d3);const p3=200,m3=150,g3=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?kA(Qa(t,e.nodeOrigin),n):n,rfId:e.rfId}},v3="react-flow__minimap-desc";function V2({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:i="",nodeBorderRadius:o=5,nodeStrokeWidth:s=2,nodeComponent:a,maskColor:l="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:c=1,position:f="bottom-right",onClick:h,onNodeClick:p,pannable:y=!1,zoomable:v=!1,ariaLabel:_="React Flow mini map",inversePan:m=!1,zoomStep:g=10,offsetScale:x=5}){const w=$e(),S=E.useRef(null),{boundingRect:k,viewBB:N,rfId:j}=we(g3,Qe),R=(e==null?void 0:e.width)??p3,M=(e==null?void 0:e.height)??m3,q=k.width/R,F=k.height/M,L=Math.max(q,F),b=L*R,P=L*M,T=x*L,z=k.x-(b-k.width)/2-T,I=k.y-(P-k.height)/2-T,C=b+T*2,O=P+T*2,A=`${v3}-${j}`,D=E.useRef(0);D.current=L,E.useEffect(()=>{if(S.current){const K=kt(S.current),Q=re=>{const{transform:ie,d3Selection:je,d3Zoom:ve}=w.getState();if(re.sourceEvent.type!=="wheel"||!je||!ve)return;const qe=-re.sourceEvent.deltaY*(re.sourceEvent.deltaMode===1?.05:re.sourceEvent.deltaMode?1:.002)*g,Ie=ie[2]*Math.pow(2,qe);ve.scaleTo(je,Ie)},Z=re=>{const{transform:ie,d3Selection:je,d3Zoom:ve,translateExtent:qe,width:Ie,height:U}=w.getState();if(re.sourceEvent.type!=="mousemove"||!je||!ve)return;const oe=D.current*Math.max(1,ie[2])*(m?-1:1),W={x:ie[0]-re.sourceEvent.movementX*oe,y:ie[1]-re.sourceEvent.movementY*oe},G=[[0,0],[Ie,U]],se=yn.translate(W.x,W.y).scale(ie[2]),Te=ve.constrain()(se,G,qe);ve.transform(je,Te)},ae=XE().on("zoom",y?Z:null).on("zoom.wheel",v?Q:null);return K.call(ae),()=>{K.on("zoom",null)}}},[y,v,m,g]);const B=h?K=>{const Q=Lt(K);h(K,{x:Q[0],y:Q[1]})}:void 0,V=p?(K,Q)=>{const Z=w.getState().nodeInternals.get(Q);p(K,Z)}:void 0;return $.createElement(fo,{position:f,style:e,className:dt(["react-flow__minimap",t]),"data-testid":"rf__minimap"},$.createElement("svg",{width:R,height:M,viewBox:`${z} ${I} ${C} ${O}`,role:"img","aria-labelledby":A,ref:S,onClick:B},_&&$.createElement("title",{id:A},_),$.createElement(h3,{onClick:V,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:i,nodeStrokeWidth:s,nodeComponent:a}),$.createElement("path",{className:"react-flow__minimap-mask",d:`M${z-T},${I-T}h${C+T*2}v${O+T*2}h${-C-T*2}z
        M${N.x},${N.y}h${N.width}v${N.height}h${-N.width}z`,fill:l,fillRule:"evenodd",stroke:u,strokeWidth:c,pointerEvents:"none"})))}V2.displayName="MiniMap";var y3=E.memo(V2);const ks={active:"#f59e0b",complete:"#10b981",queued:"#64748b"},x3=180,w3=400,_3=260,b3=48;function S3(e){if(!e)return"";try{const t=new Date(e);return t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:t.getFullYear()!==new Date().getFullYear()?"numeric":void 0})}catch{return""}}function E3({projects:e,selectedId:t,onSelectProject:n,onNewProject:r,showArchived:i,onToggleShowArchived:o}){const[s,a]=E.useState(!1),[l,u]=E.useState(_3),[c,f]=E.useState(!1),h=E.useRef(null),p=E.useRef(null);E.useEffect(()=>{p.current&&p.current.scrollIntoView({behavior:"smooth",block:"nearest"})},[t]);const y=E.useMemo(()=>Object.values(e).sort((w,S)=>{const k=(w.name||"").localeCompare(S.name||"");return k!==0?k:(w.projectId||"").localeCompare(S.projectId||"")}),[e]),v=()=>{r()},_=E.useCallback(w=>{w.preventDefault(),f(!0)},[]),m=E.useCallback(w=>{if(!c)return;const S=Math.min(w3,Math.max(x3,w.clientX));u(S)},[c]),g=E.useCallback(()=>{f(!1)},[]);E.useEffect(()=>(c?(document.addEventListener("mousemove",m),document.addEventListener("mouseup",g),document.body.style.cursor="col-resize",document.body.style.userSelect="none"):(document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",g),document.body.style.cursor="",document.body.style.userSelect=""),()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",g),document.body.style.cursor="",document.body.style.userSelect=""}),[c,m,g]);const x=s?b3:l;return d.jsxs("div",{ref:h,className:"h-full flex flex-col relative",style:{width:x,minWidth:x,background:"var(--bg-panel)",borderRight:"1px solid var(--border-panel)",transition:c?"none":"width 0.2s ease"},children:[d.jsxs("div",{className:"p-3 border-b flex items-center justify-between",style:{borderColor:"var(--border-panel)"},children:[!s&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("h2",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:"Projects"}),d.jsx("button",{onClick:o,className:"p-1 rounded hover:bg-white/10 transition-colors",style:{color:i?"#f59e0b":"var(--text-muted)"},title:i?"Hide archived":"Show archived",children:d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M21 8v13H3V8M1 3h22v5H1zM10 12h4"})})})]}),d.jsx("button",{onClick:()=>a(!s),className:"p-1.5 rounded hover:bg-white/10 transition-colors",style:{color:"var(--text-muted)"},title:s?"Expand sidebar":"Collapse sidebar",children:d.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",style:{transform:s?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease"},children:d.jsx("path",{d:"M10 12L6 8L10 4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),!s&&d.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:y.map(w=>{const S=t===w.id;return d.jsxs("div",{ref:S?p:null,onClick:()=>n(w.id),className:"p-3 rounded-lg mb-2 cursor-pointer transition-all",style:{background:S?"var(--state-active-bg)":"transparent",border:S?"1px solid var(--state-active-bg)":"1px solid transparent",boxShadow:S?"0 0 12px rgba(245, 158, 11, 0.3)":"none"},children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 rounded-full flex-shrink-0",style:{background:S?"#ffffff":ks[w.status]||ks.queued}}),d.jsx("span",{className:"text-sm font-medium truncate flex-1",style:{color:S?"#ffffff":"var(--text-primary)"},children:w.name}),w.isArchived&&d.jsx("svg",{className:"w-3.5 h-3.5 flex-shrink-0",style:{color:S?"rgba(255,255,255,0.7)":"var(--text-muted)"},viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",title:"Archived",children:d.jsx("path",{d:"M21 8v13H3V8M1 3h22v5H1zM10 12h4"})})]}),d.jsxs("div",{className:"flex items-center justify-between mt-0.5 ml-4",children:[d.jsx("span",{className:"text-[10px] font-mono",style:{color:S?"rgba(255,255,255,0.8)":"var(--text-muted)"},children:w.projectId}),d.jsx("span",{className:"text-[10px]",style:{color:S?"rgba(255,255,255,0.8)":"var(--text-muted)"},children:S3(w.createdAt)})]})]},w.id)})}),s&&d.jsx("div",{className:"flex-1 overflow-y-auto py-2",children:y.map(w=>d.jsx("div",{onClick:()=>n(w.id),className:"flex items-center justify-center py-2 cursor-pointer hover:bg-white/5",title:w.name,children:d.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:ks[w.status]||ks.queued,boxShadow:t===w.id?"0 0 0 2px var(--bg-panel), 0 0 0 4px var(--border-node)":"none"}})},w.id))}),!s&&d.jsx("div",{className:"p-3 border-t",style:{borderColor:"var(--border-panel)"},children:d.jsxs("button",{onClick:v,className:"w-full py-2.5 rounded-lg text-sm font-medium flex items-center justify-center gap-2 transition-colors",style:{background:"#10b981",color:"white"},children:[d.jsx("span",{style:{fontSize:18,lineHeight:1},children:"+"}),d.jsx("span",{children:"New Project"})]})}),s&&d.jsx("div",{className:"p-2 border-t flex justify-center",style:{borderColor:"var(--border-panel)"},children:d.jsx("button",{onClick:v,className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:"#10b981",color:"white"},title:"New Project",children:d.jsx("span",{style:{fontSize:18,lineHeight:1},children:"+"})})}),!s&&d.jsx("div",{onMouseDown:_,className:"absolute top-0 right-0 w-1 h-full cursor-col-resize hover:bg-emerald-500/50 transition-colors",style:{background:c?"var(--state-active-bg)":"transparent"}})]})}function k3({stations:e}){return e!=null&&e.length?d.jsx("div",{className:"flex items-center gap-0.5 mt-2",children:e.map((t,n)=>{const r=t.state==="complete"?"var(--state-stabilized-bg)":t.state==="active"?"var(--state-active-bg)":"var(--state-queued-bg)",i=t.state==="complete"?"var(--state-stabilized-bg)":"var(--state-queued-bg)",o=t.state==="active"?"var(--state-active-text)":"var(--text-muted)";return d.jsxs($.Fragment,{children:[n>0&&d.jsx("div",{className:"w-4 h-0.5",style:{background:i}}),d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("div",{className:`w-3 h-3 rounded-full${t.state==="active"?" station-active":""}`,style:{background:r}}),d.jsx("span",{className:"text-[7px] mt-0.5",style:{color:o,fontWeight:t.state==="active"?500:400},children:t.label})]})]},t.id)})}):null}const Wy={light:{stabilized:"#10b981",active:"#6366f1",queued:"#cbd5e1"},industrial:{stabilized:"#10b981",active:"#f59e0b",queued:"#334155"},blueprint:{stabilized:"#ffffff",active:"#fbbf24",queued:"#d4e8f8"}},U2=(e,t)=>{var n;return((n=Wy[t])==null?void 0:n[e])||Wy.industrial.queued},Mt={EPICS_PER_ROW:3,EPIC_WIDTH:220,EPIC_HEIGHT:70,EPIC_GAP_X:50,EPIC_GAP_Y:100,EPIC_OFFSET_X:80,EPIC_OFFSET_Y:80},ho={GAP:8,WIDTH:280},ru=["pgc","asm","draft","qa","done"],Fn=["industrial","light","blueprint"];function N3({questions:e,nodeWidth:t,onSubmit:n,onClose:r,onZoomComplete:i}){const[o,s]=E.useState({}),a=e.filter(l=>l.required).every(l=>o[l.id]);return E.useEffect(()=>{if(i){const l=setTimeout(()=>i(),150);return()=>clearTimeout(l)}},[i]),d.jsxs("div",{className:"absolute top-0 border border-amber-500/50 rounded-lg shadow-2xl tray-slide",style:{left:t+ho.GAP,width:ho.WIDTH,boxShadow:"0 0 30px rgba(0,0,0,0.5)",zIndex:1e3,background:"var(--bg-sidecar)"},children:[d.jsx("div",{className:"absolute border-t-2 border-dashed border-amber-500/60",style:{top:14,right:"100%",width:ho.GAP}}),d.jsx("div",{className:"absolute w-2 h-2 rounded-full bg-amber-500",style:{top:11,right:"100%",marginRight:-4}}),d.jsxs("div",{className:"bg-amber-500/10 border-b border-amber-500/30 px-3 py-2 flex justify-between items-center",children:[d.jsx("span",{className:"text-[9px] font-semibold text-amber-600 uppercase tracking-wide",children:"Operator Input Required"}),d.jsx("button",{onClick:r,style:{color:"var(--text-sidecar-muted)"},className:"hover:opacity-70 text-sm leading-none",children:""})]}),d.jsx("div",{className:"p-3 space-y-3 max-h-64 overflow-y-auto",children:e.map(l=>d.jsxs("div",{children:[d.jsxs("label",{className:"block text-[10px] mb-1",style:{color:"var(--text-sidecar-muted)"},children:[l.text," ",l.required&&d.jsx("span",{className:"text-amber-600",children:"*"})]}),d.jsx("input",{type:"text",className:"w-full rounded px-2 py-1.5 text-xs border",style:{background:"var(--bg-input)",borderColor:"var(--border-input)",color:"var(--text-sidecar)"},value:o[l.id]||"",onChange:u=>s(c=>({...c,[l.id]:u.target.value}))})]},l.id))}),d.jsx("div",{className:"p-3",style:{borderTop:"1px solid var(--border-node)"},children:d.jsx("button",{className:`w-full py-2 rounded text-xs font-medium transition-colors ${a?"bg-amber-500 text-slate-900 hover:bg-amber-400":"subway-button cursor-not-allowed"}`,disabled:!a,onClick:()=>n(o),children:"Submit & Continue"})})]})}function C3({features:e,epicName:t,nodeWidth:n,onClose:r,onZoomComplete:i}){const o=e.length>6,s=o?240:320;return E.useEffect(()=>{if(i){const a=setTimeout(()=>i(),150);return()=>clearTimeout(a)}},[i]),d.jsxs("div",{className:"absolute top-0 border border-indigo-500/50 rounded-lg shadow-2xl tray-slide",style:{left:n+ho.GAP,width:s,boxShadow:"0 0 30px rgba(0,0,0,0.5)",zIndex:1e3,background:"var(--bg-sidecar)"},children:[d.jsx("div",{className:"absolute border-t-2 border-dashed border-indigo-500/60",style:{top:14,right:"100%",width:ho.GAP}}),d.jsx("div",{className:"absolute w-2 h-2 rounded-full bg-indigo-500",style:{top:11,right:"100%",marginRight:-4}}),d.jsxs("div",{className:"bg-indigo-500/10 border-b border-indigo-500/30 px-3 py-2 flex justify-between items-center",children:[d.jsxs("span",{className:"text-[9px] font-semibold uppercase tracking-wide",style:{color:"var(--text-sidecar-muted)"},children:["Features - ",t]}),d.jsx("button",{onClick:r,style:{color:"var(--text-sidecar-muted)"},className:"hover:opacity-70 text-sm leading-none",children:""})]}),d.jsx("div",{className:`p-3 max-h-64 overflow-y-auto ${o?"":"grid grid-cols-2 gap-2"}`,children:e.map(a=>{const l=a.state==="complete"?"var(--state-stabilized-bg)":a.state==="active"?"var(--state-active-bg)":"var(--state-queued-bg)";return d.jsxs("div",{className:`flex items-center gap-2 p-1.5 rounded cursor-pointer hover:opacity-80 ${o?"mb-1":""}`,children:[d.jsx("div",{className:"w-2 h-2 rounded-full flex-shrink-0",style:{background:l}}),d.jsx("span",{className:"text-[10px] truncate",style:{color:"var(--text-sidecar)"},children:a.name})]},a.id)})}),d.jsxs("div",{className:"px-3 py-2 text-[9px]",style:{borderTop:"1px solid var(--border-node)",color:"var(--text-sidecar-muted)"},children:[e.length," features"]})]})}const bg="/api/v1";class j3 extends Error{constructor(t,n,r){super(t),this.name="ApiError",this.status=n,this.data=r}}function T3(){const e=document.cookie.match(/(?:^|;\s*)csrf=([^;]*)/);return e?decodeURIComponent(e[1]):null}async function be(e,t={}){const n=`${bg}${e}`,r={headers:{"Content-Type":"application/json",...t.headers},credentials:"same-origin",...t},i=await fetch(n,r);if(!i.ok){const o=await i.json().catch(()=>({}));throw new j3(o.detail||`Request failed: ${i.status}`,i.status,o)}return i.status===204?null:i.json()}const Ae={getMe:()=>fetch("/api/me",{credentials:"same-origin"}).then(e=>{if(e.status===401)return null;if(!e.ok)throw new Error(`Request failed: ${e.status}`);return e.json()}).catch(e=>(console.error("Auth check failed:",e),null)),logout:()=>fetch("/auth/logout",{method:"POST",credentials:"same-origin",headers:{"X-CSRF-Token":T3()||""}}),getProjects:(e={})=>{const t=new URLSearchParams;e.search&&t.set("search",e.search),e.includeArchived&&t.set("include_archived","true");const n=t.toString();return be(`/projects${n?"?"+n:""}`)},getProject:e=>be(`/projects/${e}`),getProjectTree:e=>be(`/projects/${e}/tree`),createProject:e=>be("/projects",{method:"POST",body:JSON.stringify(e)}),updateProject:(e,t)=>be(`/projects/${e}`,{method:"PATCH",body:JSON.stringify(t)}),archiveProject:e=>be(`/projects/${e}/archive`,{method:"POST"}),unarchiveProject:e=>be(`/projects/${e}/unarchive`,{method:"POST"}),deleteProject:e=>be(`/projects/${e}`,{method:"DELETE"}),getProductionStatus:e=>be(`/production/status?project_id=${e}`),startProduction:(e,t=null)=>{const n=new URLSearchParams({project_id:e});return t&&n.set("document_type",t),be(`/production/start?${n}`,{method:"POST"})},getProjectInterrupts:e=>be(`/projects/${e}/interrupts`),resolveInterrupt:(e,t)=>be(`/interrupts/${e}/resolve`,{method:"POST",body:JSON.stringify(t)}),startWorkflow:(e,t,n=null)=>be("/document-workflows/start",{method:"POST",body:JSON.stringify({project_id:e,document_type:t,initial_context:n})}),submitWorkflowInput:(e,t,n=null)=>be(`/document-workflows/executions/${e}/input`,{method:"POST",body:JSON.stringify({user_input:t,selected_option_id:n})}),getExecutionStatus:e=>be(`/document-workflows/executions/${e}`),getPgcAnswers:e=>be(`/document-workflows/executions/${e}/pgc-answers`),getDocument:(e,t)=>be(`/projects/${e}/documents/${t}`),getDocumentRenderModel:(e,t)=>be(`/projects/${e}/documents/${t}/render-model`),startIntake:()=>be("/intake/start",{method:"POST"}),getIntakeState:e=>be(`/intake/${e}`),submitIntakeMessage:(e,t)=>be(`/intake/${e}/message`,{method:"POST",body:JSON.stringify({content:t})}),updateIntakeField:(e,t,n)=>be(`/intake/${e}/field/${t}`,{method:"PATCH",body:JSON.stringify({value:n})}),initializeIntake:e=>be(`/intake/${e}/initialize`,{method:"POST"})};function R3(e){const t=`${bg}/production/events?project_id=${e}`;return new EventSource(t)}function I3(e){const t=`${bg}/intake/${e}/events`;return new EventSource(t)}function P3(e){return`/auth/login/${e}`}const A3=520,M3=900,q3=600,O3=900;function L3({document:e,projectId:t,projectCode:n,nodeWidth:r,onClose:i,onZoomComplete:o,onViewFull:s}){const[a,l]=E.useState(!1),u=a?M3:A3,c=a?O3:q3,[f,h]=E.useState(null),[p,y]=E.useState(!0);if(E.useEffect(()=>{if(o){const _=setTimeout(()=>o(),150);return()=>clearTimeout(_)}},[o]),E.useEffect(()=>{async function _(){if(!t||!e.id){y(!1);return}try{y(!0);const m=await Ae.getDocument(t,e.id);h((m==null?void 0:m.content)||null)}catch(m){console.error("Failed to fetch document for sidecar:",m)}finally{y(!1)}}_()},[t,e.id]),p)return null;const v=z3(e,f,n);return d.jsxs("div",{className:"absolute top-0 tray-slide",style:{left:r+30,width:u,zIndex:1e3,transition:"width 0.2s ease"},children:[d.jsx("div",{className:"absolute",style:{top:40,right:"100%",width:30,height:3,background:"#10b981"}}),d.jsx("div",{className:"absolute rounded-full",style:{top:36,right:"100%",marginRight:26,width:10,height:10,background:"#10b981"}}),d.jsxs("div",{style:{background:"#ffffff",borderRadius:2,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)",minHeight:c,transition:"min-height 0.2s ease"},children:[d.jsx("div",{style:{padding:"24px 32px 16px",borderBottom:"2px solid #10b981",background:"linear-gradient(to bottom, #ffffff, #fafafa)"},children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("div",{style:{fontSize:10,letterSpacing:"0.15em",color:"#10b981",fontWeight:600,marginBottom:4},children:"STABILIZED DOCUMENT"}),d.jsx("h1",{style:{fontSize:20,fontFamily:"Georgia, serif",fontWeight:700,color:"#1a1a1a",margin:0},children:v.title}),d.jsx("div",{style:{fontSize:11,color:"#666",marginTop:4,fontFamily:"monospace"},children:v.serial})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("button",{onClick:()=>l(!a),title:a?"Contract":"Expand",style:{color:"#666",fontSize:16,lineHeight:1,padding:6,background:"none",border:"1px solid #e5e5e5",borderRadius:4,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:a?d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:d.jsx("path",{d:"M9 1v4h4M5 13v-4H1M9 5L13 1M5 9L1 13"})}):d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:d.jsx("path",{d:"M13 5V1h-4M1 9v4h4M13 1L9 5M1 13l4-4"})})}),d.jsx("button",{onClick:i,title:"Close",style:{color:"#999",fontSize:24,lineHeight:1,padding:4,background:"none",border:"none",cursor:"pointer"},children:""})]})]})}),d.jsx("div",{style:{padding:"24px 32px",maxHeight:a?600:400,overflowY:"auto",fontFamily:"Georgia, serif",fontSize:13,lineHeight:1.7,color:"#333"},children:v.sections.map((_,m)=>d.jsxs("div",{style:{marginBottom:20},children:[_.isIntro&&d.jsx("div",{style:{padding:"12px 16px",borderLeft:"4px solid #10b981",background:"#f0fdf4",fontSize:14,color:"#166534"},children:_.content}),_.heading&&d.jsxs(d.Fragment,{children:[d.jsx("h3",{style:{fontSize:11,fontWeight:600,textTransform:"uppercase",letterSpacing:"0.08em",color:"#666",marginBottom:8,fontFamily:"system-ui, sans-serif"},children:_.heading}),_.badge&&d.jsx("span",{style:{display:"inline-block",padding:"4px 12px",borderRadius:20,background:"#ede9fe",color:"#5b21b6",fontSize:12,fontWeight:500,marginBottom:8},children:_.badge}),_.status&&d.jsx("span",{style:{display:"inline-block",padding:"4px 12px",borderRadius:20,background:_.status==="qualified"?"#d1fae5":"#fef3c7",color:_.status==="qualified"?"#065f46":"#92400e",fontSize:12,fontWeight:500,marginBottom:8},children:_.status}),_.content&&d.jsx("p",{style:{margin:0,whiteSpace:"pre-line"},children:_.content}),_.quote&&d.jsxs("blockquote",{style:{margin:"8px 0 0 0",padding:"8px 12px",borderLeft:"3px solid #d1d5db",color:"#6b7280",fontStyle:"italic",fontSize:12},children:['"',_.quote,'"']}),_.nextAction&&d.jsxs("div",{style:{marginTop:8,padding:"8px 12px",borderRadius:6,background:"#ecfdf5",border:"1px solid #a7f3d0",fontSize:12,color:"#065f46"},children:[d.jsx("strong",{children:"Next:"})," ",_.nextAction]})]})]},m))}),d.jsxs("div",{style:{padding:"16px 32px 24px",borderTop:"1px solid #e5e5e5",background:"#fafafa"},children:[d.jsxs("div",{className:"flex justify-between items-end",children:[d.jsxs("div",{children:[d.jsx("div",{style:{fontSize:10,color:"#999",marginBottom:4},children:"APPROVED BY"}),d.jsx("div",{style:{fontFamily:"cursive",fontSize:16,color:"#333",borderBottom:"1px solid #333",paddingBottom:2,display:"inline-block"},children:v.approved}),d.jsx("div",{style:{fontSize:10,color:"#666",marginTop:4},children:v.date})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{style:{fontSize:10,color:"#10b981",fontWeight:600},children:"VERIFIED"}),d.jsx("div",{style:{width:20,height:20,borderRadius:"50%",background:"#10b981",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:12},children:""})]})]}),d.jsxs("button",{onClick:()=>s==null?void 0:s(e.id),style:{marginTop:16,width:"100%",padding:"10px 16px",background:"#10b981",color:"white",border:"none",borderRadius:4,fontSize:12,fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:8},children:[d.jsx("span",{children:"View Full Document"}),d.jsx("span",{style:{fontSize:14},children:""})]})]})]})]})}function z3(e,t,n){var s,a,l;const r=((s=e.name)==null?void 0:s.toUpperCase())||"DOCUMENT",i=(n||e.id)+" - "+(e.name||"Document"),o=[];if(t){const u=((a=t.summary)==null?void 0:a.description)||t.captured_intent||t.conversation_summary;u&&o.push({heading:null,content:u,isIntro:!0});const c=t.project_name,f=((l=t.summary)==null?void 0:l.user_statement)||t.conversation_summary;(c||f)&&o.push({heading:"Project Summary",content:c,quote:f});const h=t.project_type;if(h){const y=typeof h=="string"?h:h.category,v=h.rationale;o.push({heading:"Project Type",badge:y,content:v})}const p=t.outcome||{status:t.gate_outcome,rationale:t.routing_rationale,next_action:t.ready_for};(p.status||p.next_action)&&o.push({heading:"Intake Outcome",status:p.status,content:p.rationale,nextAction:p.next_action})}else o.push({heading:null,content:e.desc||"Loading document content...",isIntro:!0});return{title:r,serial:i,sections:o,approved:"System",date:"January 2026"}}function D3({data:e}){var v,_,m;const n=(e.level||1)===1,r=e.isExpanded,i=e.expandType,o=((v=e.questions)==null?void 0:v.length)>0,s=((_=e.features)==null?void 0:_.length)>0,a=(m=e.stations)==null?void 0:m.some(g=>g.needs_input),l=e.state==="active"&&e.stations,u=e.state==="active"?"node-active":"",c=n?"DOCUMENT":"EPIC",f=n?"subway-node-header-doc":"subway-node-header-epic",h=e.state==="stabilized"?"var(--state-stabilized-bg)":e.state==="active"?"var(--state-active-bg)":"var(--state-queued-bg)",p=e.state==="stabilized"?"var(--state-stabilized-text)":e.state==="active"?"var(--state-active-text)":"var(--state-queued-text)",y=e.state==="active"?"var(--state-active-bg)":e.state==="stabilized"?"var(--state-stabilized-bg)":"var(--border-node)";return d.jsxs("div",{className:"relative",children:[d.jsx(nr,{type:"target",position:X.Top,className:"!opacity-0",style:{left:"15%"}}),d.jsxs("div",{className:`subway-node rounded-lg border ${u} overflow-hidden`,style:{width:e.width,minHeight:e.height,borderColor:y},children:[d.jsxs("div",{className:`${f} border-b px-3 py-1.5 flex items-center justify-between`,children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-[8px] font-bold uppercase tracking-wider",style:{color:n?"var(--header-text-doc)":"var(--header-text-epic)"},children:c}),d.jsx("span",{className:"text-[10px] font-medium",style:{color:"var(--text-primary)"},children:e.name})]}),e.intent==="optional"&&d.jsx("span",{className:"subway-button text-[8px] px-1.5 py-0.5 rounded",children:"OPTIONAL"})]}),d.jsxs("div",{className:"p-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"rounded-full flex-shrink-0",style:{width:n?24:18,height:n?24:18,backgroundColor:h}}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-wide",style:{color:p},children:e.state}),n&&e.desc&&d.jsx("p",{className:"text-[9px] mt-0.5 truncate",style:{color:"var(--text-muted)"},children:e.desc})]})]}),l&&d.jsx(k3,{stations:e.stations}),d.jsxs("div",{className:"mt-2 flex flex-wrap gap-1.5",children:[n&&e.state==="stabilized"&&d.jsx("button",{className:"px-2 py-1 bg-emerald-500/20 rounded text-[9px] hover:bg-emerald-500/30 transition-colors",style:{color:"var(--action-success)"},onClick:g=>{var x;g.stopPropagation(),(x=e.onExpand)==null||x.call(e,e.id,"document")},children:"View Document"}),a&&o&&!r&&d.jsx("button",{className:"px-2 py-1 bg-amber-500/20 rounded text-[9px] hover:bg-amber-500/30 transition-colors amber-pulse",style:{color:"var(--action-warning)"},onClick:g=>{var x;g.stopPropagation(),(x=e.onExpand)==null||x.call(e,e.id,"questions")},children:"Answer Questions"}),!n&&s&&(r&&i==="features"?d.jsxs("span",{className:"text-[9px] text-indigo-400",children:[e.features.length," features expanded"]}):d.jsxs("button",{className:"subway-button px-2 py-1 rounded text-[9px] transition-colors flex items-center gap-1",onClick:g=>{var x;g.stopPropagation(),(x=e.onExpand)==null||x.call(e,e.id,"features")},children:[d.jsx("span",{className:"text-indigo-400",children:e.features.length}),d.jsx("span",{children:"features"}),d.jsx("span",{className:"text-indigo-400",children:""})]}))]})]})]}),r&&i==="questions"&&o&&d.jsx(N3,{questions:e.questions,nodeWidth:e.width,onSubmit:g=>{var x;return(x=e.onSubmitQuestions)==null?void 0:x.call(e,e.id,g)},onClose:()=>{var g;return(g=e.onCollapse)==null?void 0:g.call(e)},onZoomComplete:()=>{var g;return(g=e.onZoomToNode)==null?void 0:g.call(e,e.id)}}),r&&i==="features"&&s&&d.jsx(C3,{features:e.features,epicName:e.name,nodeWidth:e.width,onClose:()=>{var g;return(g=e.onCollapse)==null?void 0:g.call(e)},onZoomComplete:()=>{var g;return(g=e.onZoomToNode)==null?void 0:g.call(e,e.id)}}),r&&i==="document"&&n&&e.state==="stabilized"&&d.jsx(L3,{document:e,projectId:e.projectId,projectCode:e.projectCode,nodeWidth:e.width,onClose:()=>{var g;return(g=e.onCollapse)==null?void 0:g.call(e)},onZoomComplete:()=>{var g;return(g=e.onZoomToNode)==null?void 0:g.call(e,e.id)},onViewFull:g=>{var x;return(x=e.onViewFullDocument)==null?void 0:x.call(e,g)}}),d.jsx(nr,{type:"source",position:X.Bottom,className:"!opacity-0",style:{left:"15%"}})]})}function F3(){return d.jsxs("div",{style:{width:1,height:1,background:"transparent"},children:[d.jsx(nr,{type:"target",position:X.Top,style:{opacity:0}}),d.jsx(nr,{type:"source",position:X.Bottom,style:{opacity:0}})]})}function $3({block:e}){const{data:t}=e,n=t.content||t.value||"";return n?d.jsxs("div",{style:{marginBottom:12},children:[d.jsx("p",{style:{margin:0,fontSize:14,lineHeight:1.6,color:"#374151",whiteSpace:"pre-line"},children:n}),t.detail_ref&&d.jsx("a",{href:"#",style:{fontSize:12,color:"#6366f1",textDecoration:"none",marginTop:4,display:"inline-block"},children:"View details "})]}):null}function Gy({block:e}){const{data:t}=e,n=t.items||[],r=t.style||"bullet";if(n.length===0)return null;const i=r==="numbered"?"decimal":"disc";return d.jsxs("div",{style:{marginBottom:12},children:[t.title&&d.jsx("h4",{style:{fontSize:12,fontWeight:600,color:"#6b7280",marginBottom:8,textTransform:"uppercase",letterSpacing:"0.05em"},children:t.title}),d.jsx("ul",{style:{margin:0,paddingLeft:r==="check"?0:20,listStyle:r==="check"?"none":i},children:n.map((o,s)=>d.jsxs("li",{style:{fontSize:14,lineHeight:1.6,color:"#374151",marginBottom:4,display:r==="check"?"flex":"list-item",alignItems:"flex-start",gap:8},children:[r==="check"&&d.jsx("span",{style:{color:"#10b981"},children:""}),typeof o=="string"?o:JSON.stringify(o)]},s))})]})}function B3({block:e}){const{data:t}=e,n=t.value||"unknown",r=t.label,o={low:{bg:"#d1fae5",text:"#065f46"},medium:{bg:"#fef3c7",text:"#92400e"},high:{bg:"#fee2e2",text:"#991b1b"},critical:{bg:"#fecaca",text:"#7f1d1d"},none:{bg:"#e5e7eb",text:"#374151"},external:{bg:"#dbeafe",text:"#1e40af"},qualified:{bg:"#d1fae5",text:"#065f46"},not_ready:{bg:"#fef3c7",text:"#92400e"}}[n.toLowerCase()]||{bg:"#f3f4f6",text:"#374151"};return d.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:8,marginBottom:12},children:[r&&d.jsxs("span",{style:{fontSize:12,color:"#6b7280",fontWeight:500},children:[r,":"]}),d.jsx("span",{style:{display:"inline-block",padding:"4px 12px",borderRadius:20,background:o.bg,color:o.text,fontSize:12,fontWeight:500,textTransform:"capitalize"},children:n})]})}function W2({block:e}){const{data:t}=e,{id:n,text:r,blocking:i,why_it_matters:o,priority:s,tags:a,options:l}=t,u={must:{bg:"#fee2e2",text:"#991b1b"},should:{bg:"#fef3c7",text:"#92400e"},could:{bg:"#e5e7eb",text:"#374151"}},c=u[s]||u.should;return d.jsx("div",{style:{padding:"12px 16px",background:i?"#fef2f2":"#f8fafc",borderRadius:8,border:`1px solid ${i?"#fecaca":"#e2e8f0"}`,marginBottom:12},children:d.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:12},children:[d.jsx("span",{style:{fontSize:10,fontFamily:"monospace",color:"#6b7280",background:"#e5e7eb",padding:"2px 6px",borderRadius:4,flexShrink:0},children:n}),d.jsxs("div",{style:{flex:1},children:[d.jsx("p",{style:{margin:0,fontSize:14,fontWeight:500,color:"#111827",marginBottom:6},children:r}),o&&d.jsx("p",{style:{margin:0,fontSize:12,color:"#6b7280",fontStyle:"italic"},children:o}),d.jsxs("div",{style:{display:"flex",gap:6,marginTop:8,flexWrap:"wrap"},children:[i&&d.jsx("span",{style:{fontSize:10,padding:"2px 8px",borderRadius:10,background:"#fee2e2",color:"#991b1b",fontWeight:600},children:"BLOCKING"}),s&&d.jsx("span",{style:{fontSize:10,padding:"2px 8px",borderRadius:10,background:c.bg,color:c.text,textTransform:"uppercase"},children:s}),a==null?void 0:a.map((f,h)=>d.jsx("span",{style:{fontSize:10,padding:"2px 8px",borderRadius:10,background:"#e0e7ff",color:"#3730a3"},children:f},h))]}),l&&l.length>0&&d.jsxs("div",{style:{marginTop:8},children:[d.jsx("span",{style:{fontSize:11,color:"#6b7280"},children:"Options: "}),l.map((f,h)=>d.jsx("span",{style:{fontSize:11,color:"#374151",marginLeft:h>0?8:4},children:f},h))]})]})]})})}function H3({block:e}){const{data:t}=e,n=t.items||[],r=t.total_count||n.length,i=t.blocking_count||n.filter(o=>o.blocking).length;return n.length===0?d.jsx("div",{style:{padding:"16px",background:"#f0fdf4",borderRadius:8,border:"1px solid #bbf7d0",textAlign:"center",color:"#166534",fontSize:14},children:"No open questions"}):d.jsxs("div",{children:[d.jsxs("div",{style:{display:"flex",gap:16,marginBottom:12,padding:"8px 12px",background:"#f8fafc",borderRadius:6,fontSize:12},children:[d.jsxs("span",{style:{color:"#6b7280"},children:[d.jsx("strong",{style:{color:"#374151"},children:r})," questions"]}),i>0&&d.jsxs("span",{style:{color:"#dc2626"},children:[d.jsx("strong",{children:i})," blocking"]})]}),n.map((o,s)=>d.jsx(W2,{block:{type:"schema:OpenQuestionV1",data:o}},o.id||s))]})}function Ky({block:e}){const{data:t}=e,n=t.items||[],r=t.title;if(n.length===0)return null;const i={low:{bg:"#d1fae5",text:"#065f46",border:"#a7f3d0"},medium:{bg:"#fef3c7",text:"#92400e",border:"#fde68a"},high:{bg:"#fee2e2",text:"#991b1b",border:"#fecaca"},critical:{bg:"#fecaca",text:"#7f1d1d",border:"#f87171"}};return d.jsxs("div",{style:{marginBottom:12},children:[r&&d.jsx("h4",{style:{fontSize:12,fontWeight:600,color:"#6b7280",marginBottom:8,textTransform:"uppercase",letterSpacing:"0.05em"},children:r}),d.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:n.map((o,s)=>{const a=o.severity||o.likelihood||"medium",l=i[a]||i.medium;return d.jsx("div",{style:{padding:"10px 14px",background:l.bg,borderRadius:6,border:`1px solid ${l.border}`},children:d.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:10},children:[o.id&&d.jsx("span",{style:{fontSize:10,fontFamily:"monospace",color:l.text,background:"rgba(255,255,255,0.5)",padding:"2px 6px",borderRadius:4,flexShrink:0},children:o.id}),d.jsxs("div",{style:{flex:1},children:[d.jsx("p",{style:{margin:0,fontSize:13,color:l.text,fontWeight:500},children:o.description||o.reason||JSON.stringify(o)}),o.impact&&d.jsxs("p",{style:{margin:"4px 0 0",fontSize:12,color:l.text,opacity:.8},children:["Impact: ",o.impact]}),o.mitigation&&d.jsxs("p",{style:{margin:"4px 0 0",fontSize:12,color:l.text,opacity:.8},children:["Mitigation: ",o.mitigation]})]}),d.jsx("span",{style:{fontSize:10,padding:"2px 8px",borderRadius:10,background:"rgba(255,255,255,0.5)",color:l.text,textTransform:"uppercase",fontWeight:600},children:a})]})},o.id||s)})})]})}function V3({block:e}){const{data:t}=e,{problem_understanding:n,architectural_intent:r,scope_pressure_points:i}=t,o=[{title:"Problem Understanding",content:n},{title:"Architectural Intent",content:r},{title:"Scope Pressure Points",content:i}].filter(s=>s.content);return o.length===0?null:d.jsx("div",{style:{marginBottom:12},children:o.map((s,a)=>d.jsxs("div",{style:{marginBottom:a<o.length-1?16:0},children:[d.jsx("h4",{style:{fontSize:12,fontWeight:600,color:"#6b7280",marginBottom:6,textTransform:"uppercase",letterSpacing:"0.05em"},children:s.title}),d.jsx("div",{style:{padding:"12px 16px",background:"#f8fafc",borderRadius:6,borderLeft:"3px solid #6366f1"},children:d.jsx("p",{style:{margin:0,fontSize:14,lineHeight:1.6,color:"#374151",whiteSpace:"pre-line"},children:s.content})})]},a))})}function Yy({block:e}){const{data:t}=e,{epic_id:n,title:r,name:i,intent:o,phase:s,risk_level:a,stories:l,detail_ref:u}=t,c=r||i,f={low:{bg:"#d1fae5",text:"#065f46"},medium:{bg:"#fef3c7",text:"#92400e"},high:{bg:"#fee2e2",text:"#991b1b"}},h=f[a]||f.medium,p={mvp:{bg:"#dbeafe",text:"#1e40af"},later:{bg:"#e5e7eb",text:"#374151"}},y=p[s]||p.mvp;return d.jsxs("div",{style:{padding:"14px 16px",background:"#ffffff",borderRadius:8,border:"1px solid #e2e8f0",marginBottom:12,boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",gap:12},children:[d.jsxs("div",{style:{flex:1},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:6},children:[n&&d.jsx("span",{style:{fontSize:10,fontFamily:"monospace",color:"#6366f1",background:"#eef2ff",padding:"2px 6px",borderRadius:4},children:n}),d.jsx("h4",{style:{margin:0,fontSize:14,fontWeight:600,color:"#111827"},children:c})]}),o&&d.jsx("p",{style:{margin:0,fontSize:13,color:"#6b7280",lineHeight:1.5},children:o}),l&&l.length>0&&d.jsxs("div",{style:{marginTop:8,fontSize:12,color:"#6b7280"},children:[l.length," stories"]})]}),d.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4,alignItems:"flex-end"},children:[s&&d.jsx("span",{style:{fontSize:10,padding:"2px 8px",borderRadius:10,background:y.bg,color:y.text,textTransform:"uppercase",fontWeight:500},children:s}),a&&d.jsxs("span",{style:{fontSize:10,padding:"2px 8px",borderRadius:10,background:h.bg,color:h.text,textTransform:"uppercase",fontWeight:500},children:[a," risk"]})]})]}),u&&d.jsx("div",{style:{marginTop:10,paddingTop:10,borderTop:"1px solid #f3f4f6"},children:d.jsx("a",{href:"#",style:{fontSize:12,color:"#6366f1",textDecoration:"none"},children:"View epic details "})})]})}function U3({block:e}){const{data:t}=e,{story_id:n,title:r,intent:i,phase:o,risk_level:s,detail_ref:a}=t,u={low:{bg:"#d1fae5",text:"#065f46"},medium:{bg:"#fef3c7",text:"#92400e"},high:{bg:"#fee2e2",text:"#991b1b"}}[s]||null,c={mvp:{bg:"#dbeafe",text:"#1e40af"},later:{bg:"#e5e7eb",text:"#374151"}},f=c[o]||c.mvp;return d.jsx("div",{style:{padding:"10px 14px",background:"#fafafa",borderRadius:6,border:"1px solid #e5e7eb",marginBottom:8},children:d.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",gap:10},children:[d.jsxs("div",{style:{flex:1},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:4},children:[n&&d.jsx("span",{style:{fontSize:10,fontFamily:"monospace",color:"#059669",background:"#ecfdf5",padding:"1px 5px",borderRadius:3},children:n}),d.jsx("span",{style:{fontSize:13,fontWeight:500,color:"#111827"},children:r})]}),i&&d.jsx("p",{style:{margin:0,fontSize:12,color:"#6b7280",lineHeight:1.4},children:i})]}),d.jsxs("div",{style:{display:"flex",gap:4},children:[o&&d.jsx("span",{style:{fontSize:9,padding:"2px 6px",borderRadius:8,background:f.bg,color:f.text,textTransform:"uppercase",fontWeight:500},children:o}),u&&d.jsx("span",{style:{fontSize:9,padding:"2px 6px",borderRadius:8,background:u.bg,color:u.text,textTransform:"uppercase",fontWeight:500},children:s})]})]})})}function W3({block:e}){const{type:t,data:n}=e;return d.jsxs("div",{style:{padding:"12px 16px",background:"#f8fafc",borderRadius:6,border:"1px solid #e2e8f0",marginBottom:12},children:[d.jsx("div",{style:{fontSize:10,color:"#94a3b8",marginBottom:8,fontFamily:"monospace"},children:t}),d.jsx("pre",{style:{fontSize:12,color:"#475569",margin:0,whiteSpace:"pre-wrap",wordBreak:"break-word"},children:JSON.stringify(n,null,2)})]})}function G3({block:e}){const{data:t}=e,{description:n,user_statement:r}=t;return d.jsxs("div",{style:{marginBottom:12},children:[n&&d.jsx("div",{style:{paddingLeft:16,borderLeft:"4px solid #8b5cf6",color:"#374151",marginBottom:16,fontSize:14,lineHeight:1.6},children:n}),r&&d.jsxs("blockquote",{style:{paddingLeft:16,borderLeft:"4px solid #d1d5db",color:"#6b7280",fontStyle:"italic",margin:0,fontSize:13,lineHeight:1.5},children:['"',r,'"']})]})}function K3({block:e}){const{data:t}=e,{category:n,confidence:r,rationale:i}=t;return d.jsxs("div",{style:{marginBottom:12},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:8},children:[d.jsx("span",{style:{padding:"4px 12px",borderRadius:16,fontSize:13,fontWeight:500,background:"#ede9fe",color:"#6d28d9"},children:n}),r&&d.jsxs("span",{style:{fontSize:13,color:"#6b7280"},children:["Confidence: ",r]})]}),i&&d.jsx("p",{style:{margin:0,fontSize:13,color:"#6b7280",lineHeight:1.5},children:i})]})}function Y3({block:e}){const{data:t}=e,{explicit:n=[],inferred:r=[]}=t,i=n&&n.length>0,o=r&&r.length>0;return!i&&!o?null:d.jsxs("div",{style:{marginBottom:12},children:[i&&d.jsxs("div",{style:{marginBottom:o?16:0},children:[d.jsx("h4",{style:{fontSize:12,fontWeight:500,color:"#6b7280",marginBottom:8,marginTop:0},children:"Explicit"}),d.jsx("ul",{style:{margin:0,paddingLeft:20,listStyle:"none"},children:n.map((s,a)=>d.jsxs("li",{style:{display:"flex",alignItems:"flex-start",gap:8,marginBottom:6,fontSize:13,color:"#374151"},children:[d.jsx("span",{style:{color:"#f59e0b"},children:""}),d.jsx("span",{children:s})]},a))})]}),o&&d.jsxs("div",{children:[d.jsx("h4",{style:{fontSize:12,fontWeight:500,color:"#6b7280",marginBottom:8,marginTop:0},children:"Inferred"}),d.jsx("ul",{style:{margin:0,paddingLeft:20,listStyle:"none"},children:r.map((s,a)=>d.jsxs("li",{style:{display:"flex",alignItems:"flex-start",gap:8,marginBottom:6,fontSize:13,color:"#374151"},children:[d.jsx("span",{style:{color:"#3b82f6"},children:""}),d.jsx("span",{children:s})]},a))})]})]})}function X3({block:e}){const{data:t}=e,{questions:n=[],missing_context:r=[],assumptions_made:i=[]}=t,o=n&&n.length>0,s=r&&r.length>0,a=i&&i.length>0;return!o&&!s&&!a?null:d.jsxs("div",{style:{marginBottom:12},children:[o&&d.jsxs("div",{style:{marginBottom:s||a?16:0},children:[d.jsx("h4",{style:{fontSize:12,fontWeight:500,color:"#6b7280",marginBottom:8,marginTop:0},children:"Questions"}),d.jsx("ul",{style:{margin:0,paddingLeft:20,listStyle:"none"},children:n.map((l,u)=>d.jsxs("li",{style:{display:"flex",alignItems:"flex-start",gap:8,marginBottom:6,fontSize:13,color:"#374151"},children:[d.jsx("span",{style:{color:"#3b82f6"},children:""}),d.jsx("span",{children:l})]},u))})]}),s&&d.jsxs("div",{style:{marginBottom:a?16:0},children:[d.jsx("h4",{style:{fontSize:12,fontWeight:500,color:"#6b7280",marginBottom:8,marginTop:0},children:"Missing Context"}),d.jsx("ul",{style:{margin:0,paddingLeft:20,listStyle:"none"},children:r.map((l,u)=>d.jsxs("li",{style:{display:"flex",alignItems:"flex-start",gap:8,marginBottom:6,fontSize:13,color:"#374151"},children:[d.jsx("span",{style:{color:"#f59e0b"},children:""}),d.jsx("span",{children:l})]},u))})]}),a&&d.jsxs("div",{children:[d.jsx("h4",{style:{fontSize:12,fontWeight:500,color:"#6b7280",marginBottom:8,marginTop:0},children:"Assumptions"}),d.jsx("ul",{style:{margin:0,paddingLeft:20,listStyle:"none"},children:i.map((l,u)=>d.jsxs("li",{style:{display:"flex",alignItems:"flex-start",gap:8,marginBottom:6,fontSize:13,color:"#374151"},children:[d.jsx("span",{style:{color:"#6b7280"},children:""}),d.jsx("span",{children:l})]},u))})]})]})}function Q3({block:e}){const{data:t}=e,{status:n,rationale:r,next_action:i}=t,s={qualified:{bg:"#d1fae5",text:"#065f46"},not_ready:{bg:"#fef3c7",text:"#92400e"},out_of_scope:{bg:"#fee2e2",text:"#991b1b"},redirect:{bg:"#e0e7ff",text:"#3730a3"}}[n]||{bg:"#f3f4f6",text:"#374151"};return d.jsxs("div",{style:{marginBottom:12},children:[n&&d.jsx("div",{style:{marginBottom:12},children:d.jsx("span",{style:{padding:"4px 12px",borderRadius:16,fontSize:13,fontWeight:500,background:s.bg,color:s.text},children:n})}),r&&d.jsx("p",{style:{margin:0,marginBottom:i?12:0,fontSize:13,color:"#6b7280",lineHeight:1.5},children:r}),i&&d.jsx("div",{style:{padding:12,borderRadius:8,background:"#ecfdf5",border:"1px solid #a7f3d0"},children:d.jsxs("span",{style:{fontSize:13,fontWeight:500,color:"#065f46"},children:["Next: ",i]})})]})}const Z3={"schema:ParagraphBlockV1":$3,"schema:StringListBlockV1":Gy,"schema:IndicatorBlockV1":B3,"schema:OpenQuestionV1":W2,"schema:OpenQuestionsBlockV1":H3,"schema:RisksBlockV1":Ky,"schema:DependenciesBlockV1":Ky,"schema:SummaryBlockV1":V3,"schema:EpicSummaryBlockV1":Yy,"schema:StorySummaryBlockV1":U3,"schema:EpicStoriesCardBlockV1":Yy,"schema:StoriesBlockV1":Gy,"schema:IntakeSummaryBlockV1":G3,"schema:IntakeProjectTypeBlockV1":K3,"schema:IntakeConstraintsBlockV1":Y3,"schema:IntakeOpenGapsBlockV1":X3,"schema:IntakeOutcomeBlockV1":Q3};function J3(e){return Z3[e]||W3}function eM(e,t){const n=J3(e.type);return d.jsx(n,{block:e},e.key||t)}function tM({renderModel:e,variant:t="full",onSectionClick:n,className:r=""}){var h;const[i,o]=E.useState(new Set(((h=e==null?void 0:e.sections)==null?void 0:h.map(p=>p.section_id))||[]));if(!e)return d.jsx("div",{style:{padding:20,textAlign:"center",color:"#6b7280"},children:"No render model available"});const{title:s,subtitle:a,sections:l=[],metadata:u}=e;if(u!=null&&u.fallback&&e.raw_content)return d.jsx(rM,{title:s,content:e.raw_content,reason:u.reason});const c=p=>{o(y=>{const v=new Set(y);return v.has(p)?v.delete(p):v.add(p),v})},f=t==="compact"||t==="sidecar";return d.jsxs("div",{className:r,children:[t==="full"&&d.jsxs("div",{style:{marginBottom:24},children:[d.jsx("h1",{style:{margin:0,fontSize:24,fontWeight:700,color:"#111827"},children:s}),a&&d.jsx("p",{style:{margin:"8px 0 0",fontSize:14,color:"#6b7280"},children:a})]}),d.jsx("div",{style:{display:"flex",flexDirection:"column",gap:f?12:20},children:l.map(p=>d.jsx(nM,{section:p,isExpanded:i.has(p.section_id),onToggle:()=>c(p.section_id),onClick:()=>n==null?void 0:n(p),variant:t},p.section_id))}),l.length===0&&d.jsx("div",{style:{padding:32,textAlign:"center",color:"#9ca3af",background:"#f9fafb",borderRadius:8},children:"No content sections available"})]})}function nM({section:e,isExpanded:t,onToggle:n,onClick:r,variant:i}){const{section_id:o,title:s,description:a,blocks:l=[]}=e,u=i==="compact"||i==="sidecar";return l.length===0?null:d.jsxs("div",{style:{background:"#ffffff",borderRadius:8,border:"1px solid #e5e7eb",overflow:"hidden"},children:[d.jsxs("button",{onClick:n,style:{width:"100%",padding:u?"10px 14px":"14px 18px",background:"#f9fafb",border:"none",borderBottom:t?"1px solid #e5e7eb":"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",textAlign:"left"},children:[d.jsxs("div",{children:[d.jsx("h3",{style:{margin:0,fontSize:u?13:15,fontWeight:600,color:"#111827"},children:s}),a&&!u&&d.jsx("p",{style:{margin:"4px 0 0",fontSize:12,color:"#6b7280"},children:a})]}),d.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{color:"#9ca3af",transform:t?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"},children:d.jsx("path",{d:"M4 6l4 4 4-4"})})]}),t&&d.jsx("div",{style:{padding:u?12:18},children:l.map((c,f)=>eM(c,f))})]})}function rM({title:e,content:t,reason:n}){return d.jsxs("div",{children:[d.jsxs("div",{style:{padding:"12px 16px",background:"#fef3c7",border:"1px solid #fde68a",borderRadius:8,marginBottom:16,fontSize:12,color:"#92400e"},children:["Displaying raw content (reason: ",n||"unknown",")"]}),d.jsx("div",{style:{background:"#f8fafc",borderRadius:8,padding:16,overflow:"auto"},children:d.jsx("pre",{style:{margin:0,fontSize:12,color:"#374151",whiteSpace:"pre-wrap",wordBreak:"break-word",fontFamily:"monospace"},children:JSON.stringify(t,null,2)})})]})}function iM({projectId:e,docTypeId:t,onClose:n}){const[r,i]=E.useState(null),[o,s]=E.useState(null),[a,l]=E.useState(!0),[u,c]=E.useState(null);return E.useEffect(()=>{async function f(){var h;try{l(!0),c(null);try{const y=await Ae.getDocumentRenderModel(e,t);if(y&&y.sections&&y.sections.length>0){s(y),i(null);return}if((h=y==null?void 0:y.metadata)!=null&&h.fallback){s(y),i(null);return}}catch(y){console.log("RenderModel not available, falling back to raw document:",y.message)}const p=await Ae.getDocument(e,t);i(p),s(null)}catch(p){c(p.message),console.error("Failed to fetch document:",p)}finally{l(!1)}}f()},[e,t]),E.useEffect(()=>{const f=h=>{h.key==="Escape"&&n()};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[n]),a?null:d.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center",style:{background:"rgba(0,0,0,0.8)"},onClick:f=>f.target===f.currentTarget&&n(),children:d.jsxs("div",{className:"relative w-full max-w-4xl max-h-[90vh] overflow-hidden rounded-lg shadow-2xl",style:{background:"#ffffff"},children:[d.jsxs("div",{className:"sticky top-0 px-6 py-4 border-b flex items-center justify-between",style:{background:"#f8fafc",borderColor:"#e2e8f0"},children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900",children:(o==null?void 0:o.title)||(r==null?void 0:r.title)||lM(t)}),((r==null?void 0:r.updated_at)||(o==null?void 0:o.subtitle))&&d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:(o==null?void 0:o.subtitle)||`Last updated: ${uM(r==null?void 0:r.updated_at)}`})]}),d.jsx("button",{onClick:n,className:"p-2 rounded-lg hover:bg-gray-200 transition-colors",children:d.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),d.jsxs("div",{className:"overflow-y-auto p-6",style:{maxHeight:"calc(90vh - 80px)"},children:[u&&d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-red-500",children:u})}),o&&d.jsx(tM,{renderModel:o,variant:"full"}),r&&!o&&d.jsx(oM,{docTypeId:t,content:r.content})]})]})})}function oM({docTypeId:e,content:t}){if(!t)return d.jsx("p",{className:"text-gray-500",children:"No content available"});switch(e){case"concierge_intake":return d.jsx(sM,{content:t});case"project_discovery":return d.jsx(aM,{content:t});default:return d.jsx(G2,{content:t})}}function sM({content:e}){var l,u;const t=e.project_name,n=((l=e.summary)==null?void 0:l.description)||e.captured_intent||"",r=((u=e.summary)==null?void 0:u.user_statement)||e.conversation_summary||"",i=e.project_type,o=e.constraints,s=e.open_gaps||{questions:e.known_unknowns||[]},a=e.outcome||{status:e.gate_outcome,rationale:e.routing_rationale,next_action:e.ready_for};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs(Xt,{title:"Project Summary",icon:"clipboard",children:[t&&d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t}),n&&d.jsx("div",{className:"pl-4 border-l-4 border-violet-500 text-gray-700 mb-4",children:n}),r&&d.jsxs("blockquote",{className:"pl-4 border-l-4 border-gray-300 text-gray-500 italic",children:['"',r,'"']})]}),i&&d.jsxs(Xt,{title:"Project Type",icon:"tag",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-violet-100 text-violet-800",children:typeof i=="string"?i:i.category}),i.confidence&&d.jsxs("span",{className:"text-sm text-gray-500",children:["Confidence: ",i.confidence]})]}),i.rationale&&d.jsx("p",{className:"text-gray-600",children:i.rationale})]}),o&&(Je(o.explicit)||Je(o.inferred)||Je(o))&&d.jsxs(Xt,{title:"Constraints",icon:"lock",children:[Array.isArray(o)&&o.length>0&&d.jsx(Qt,{items:o,icon:"lock",color:"amber"}),!Array.isArray(o)&&d.jsxs(d.Fragment,{children:[Je(o.explicit)&&d.jsxs("div",{className:"mb-3",children:[d.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Explicit"}),d.jsx(Qt,{items:o.explicit,icon:"lock",color:"amber"})]}),Je(o.inferred)&&d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Inferred"}),d.jsx(Qt,{items:o.inferred,icon:"lightbulb",color:"blue"})]})]})]}),s&&(Je(s.questions)||Je(s.missing_context)||Je(s.assumptions_made))&&d.jsxs(Xt,{title:"Open Gaps",icon:"help-circle",children:[Je(s.questions)&&d.jsxs("div",{className:"mb-3",children:[d.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Questions"}),d.jsx(Qt,{items:s.questions,icon:"help",color:"blue"})]}),Je(s.missing_context)&&d.jsxs("div",{className:"mb-3",children:[d.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Missing Context"}),d.jsx(Qt,{items:s.missing_context,icon:"alert",color:"amber"})]}),Je(s.assumptions_made)&&d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Assumptions"}),d.jsx(Qt,{items:s.assumptions_made,icon:"lightbulb",color:"gray"})]})]}),a&&(a.status||a.rationale)&&d.jsxs(Xt,{title:"Intake Outcome",icon:"flag",children:[a.status&&d.jsx("div",{className:"mb-3",children:d.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${a.status==="qualified"?"bg-emerald-100 text-emerald-800":a.status==="not_ready"?"bg-amber-100 text-amber-800":"bg-gray-100 text-gray-800"}`,children:a.status})}),a.rationale&&d.jsx("p",{className:"text-gray-600 mb-3",children:a.rationale}),a.next_action&&d.jsx("div",{className:"p-3 rounded-lg bg-emerald-50 border border-emerald-200",children:d.jsxs("span",{className:"text-sm font-medium text-emerald-800",children:["Next: ",a.next_action]})})]}),e.metadata&&d.jsx(Xt,{title:"Metadata",icon:"info",collapsed:!0,children:d.jsxs("dl",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.metadata.conversation_turn_count&&d.jsxs(d.Fragment,{children:[d.jsx("dt",{className:"text-gray-500",children:"Conversation Turns"}),d.jsx("dd",{className:"text-gray-900",children:e.metadata.conversation_turn_count})]}),e.metadata.workflow_id&&d.jsxs(d.Fragment,{children:[d.jsx("dt",{className:"text-gray-500",children:"Workflow"}),d.jsx("dd",{className:"text-gray-900 font-mono text-xs",children:e.metadata.workflow_id})]})]})})]})}function aM({content:e}){var t;return d.jsxs("div",{className:"space-y-6",children:[e.project_name&&d.jsxs(Xt,{title:"Project",icon:"compass",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.project_name}),((t=e.summary)==null?void 0:t.description)&&d.jsx("p",{className:"text-gray-600 mt-2",children:e.summary.description})]}),e.goals&&Je(e.goals)&&d.jsx(Xt,{title:"Goals",icon:"target",children:d.jsx(Qt,{items:e.goals,color:"emerald"})}),e.stakeholders&&Je(e.stakeholders)&&d.jsx(Xt,{title:"Stakeholders",icon:"users",children:d.jsx(Qt,{items:e.stakeholders,color:"blue"})}),e.scope&&d.jsxs(Xt,{title:"Scope",icon:"box",children:[e.scope.in_scope&&Je(e.scope.in_scope)&&d.jsxs("div",{className:"mb-3",children:[d.jsx("h4",{className:"text-sm font-medium text-emerald-600 mb-2",children:"In Scope"}),d.jsx(Qt,{items:e.scope.in_scope,color:"emerald"})]}),e.scope.out_of_scope&&Je(e.scope.out_of_scope)&&d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Out of Scope"}),d.jsx(Qt,{items:e.scope.out_of_scope,color:"gray"})]})]}),!e.project_name&&!e.goals&&d.jsx(G2,{content:e})]})}function G2({content:e}){return d.jsx("div",{className:"bg-gray-50 rounded-lg p-4 overflow-x-auto",children:d.jsx("pre",{className:"text-sm text-gray-800 whitespace-pre-wrap font-mono",children:JSON.stringify(e,null,2)})})}function Xt({title:e,icon:t,collapsed:n=!1,children:r}){const[i,o]=E.useState(!n);return d.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[d.jsxs("button",{onClick:()=>o(!i),className:"w-full px-4 py-3 flex items-center justify-between bg-gray-50 hover:bg-gray-100 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-gray-400",children:K2(t)}),d.jsx("span",{className:"font-medium text-gray-900",children:e})]}),d.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",className:`text-gray-400 transition-transform ${i?"rotate-180":""}`,children:d.jsx("path",{d:"M6 8l4 4 4-4",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),i&&d.jsx("div",{className:"px-4 py-4 bg-white",children:r})]})}function Qt({items:e,icon:t,color:n="gray"}){if(!e||e.length===0)return null;const r={gray:"text-gray-600",blue:"text-blue-600",emerald:"text-emerald-600",amber:"text-amber-600",violet:"text-violet-600"};return d.jsx("ul",{className:"space-y-2",children:e.map((i,o)=>d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:`mt-0.5 ${r[n]}`,children:K2(t||"dot")}),d.jsx("span",{className:"text-gray-700",children:typeof i=="string"?i:JSON.stringify(i)})]},o))})}function Je(e){return Array.isArray(e)&&e.length>0}function lM(e){return e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function uM(e){return e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):""}function K2(e){return{clipboard:"",tag:"",lock:"",lightbulb:"","help-circle":"",help:"",alert:"",flag:"",info:"",compass:"",target:"",users:"",box:"",dot:""}[e]||""}function Sg(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var iu,Xy;function cM(){if(Xy)return iu;Xy=1;function e(){this.__data__=[],this.size=0}return iu=e,iu}var ou,Qy;function Ei(){if(Qy)return ou;Qy=1;function e(t,n){return t===n||t!==t&&n!==n}return ou=e,ou}var su,Zy;function Za(){if(Zy)return su;Zy=1;var e=Ei();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return su=t,su}var au,Jy;function fM(){if(Jy)return au;Jy=1;var e=Za(),t=Array.prototype,n=t.splice;function r(i){var o=this.__data__,s=e(o,i);if(s<0)return!1;var a=o.length-1;return s==a?o.pop():n.call(o,s,1),--this.size,!0}return au=r,au}var lu,e0;function dM(){if(e0)return lu;e0=1;var e=Za();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return lu=t,lu}var uu,t0;function hM(){if(t0)return uu;t0=1;var e=Za();function t(n){return e(this.__data__,n)>-1}return uu=t,uu}var cu,n0;function pM(){if(n0)return cu;n0=1;var e=Za();function t(n,r){var i=this.__data__,o=e(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return cu=t,cu}var fu,r0;function Ja(){if(r0)return fu;r0=1;var e=cM(),t=fM(),n=dM(),r=hM(),i=pM();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,fu=o,fu}var du,i0;function mM(){if(i0)return du;i0=1;var e=Ja();function t(){this.__data__=new e,this.size=0}return du=t,du}var hu,o0;function gM(){if(o0)return hu;o0=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return hu=e,hu}var pu,s0;function vM(){if(s0)return pu;s0=1;function e(t){return this.__data__.get(t)}return pu=e,pu}var mu,a0;function yM(){if(a0)return mu;a0=1;function e(t){return this.__data__.has(t)}return mu=e,mu}var gu,l0;function Y2(){if(l0)return gu;l0=1;var e=typeof Zo=="object"&&Zo&&Zo.Object===Object&&Zo;return gu=e,gu}var vu,u0;function Vt(){if(u0)return vu;u0=1;var e=Y2(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return vu=n,vu}var yu,c0;function ki(){if(c0)return yu;c0=1;var e=Vt(),t=e.Symbol;return yu=t,yu}var xu,f0;function xM(){if(f0)return xu;f0=1;var e=ki(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function o(s){var a=n.call(s,i),l=s[i];try{s[i]=void 0;var u=!0}catch{}var c=r.call(s);return u&&(a?s[i]=l:delete s[i]),c}return xu=o,xu}var wu,d0;function wM(){if(d0)return wu;d0=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return wu=n,wu}var _u,h0;function Pr(){if(h0)return _u;h0=1;var e=ki(),t=xM(),n=wM(),r="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function s(a){return a==null?a===void 0?i:r:o&&o in Object(a)?t(a):n(a)}return _u=s,_u}var bu,p0;function It(){if(p0)return bu;p0=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return bu=e,bu}var Su,m0;function Go(){if(m0)return Su;m0=1;var e=Pr(),t=It(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function s(a){if(!t(a))return!1;var l=e(a);return l==r||l==i||l==n||l==o}return Su=s,Su}var Eu,g0;function _M(){if(g0)return Eu;g0=1;var e=Vt(),t=e["__core-js_shared__"];return Eu=t,Eu}var ku,v0;function bM(){if(v0)return ku;v0=1;var e=_M(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return ku=n,ku}var Nu,y0;function X2(){if(y0)return Nu;y0=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return Nu=n,Nu}var Cu,x0;function SM(){if(x0)return Cu;x0=1;var e=Go(),t=bM(),n=It(),r=X2(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,s=Function.prototype,a=Object.prototype,l=s.toString,u=a.hasOwnProperty,c=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(h){if(!n(h)||t(h))return!1;var p=e(h)?c:o;return p.test(r(h))}return Cu=f,Cu}var ju,w0;function EM(){if(w0)return ju;w0=1;function e(t,n){return t==null?void 0:t[n]}return ju=e,ju}var Tu,_0;function Ar(){if(_0)return Tu;_0=1;var e=SM(),t=EM();function n(r,i){var o=t(r,i);return e(o)?o:void 0}return Tu=n,Tu}var Ru,b0;function Eg(){if(b0)return Ru;b0=1;var e=Ar(),t=Vt(),n=e(t,"Map");return Ru=n,Ru}var Iu,S0;function el(){if(S0)return Iu;S0=1;var e=Ar(),t=e(Object,"create");return Iu=t,Iu}var Pu,E0;function kM(){if(E0)return Pu;E0=1;var e=el();function t(){this.__data__=e?e(null):{},this.size=0}return Pu=t,Pu}var Au,k0;function NM(){if(k0)return Au;k0=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return Au=e,Au}var Mu,N0;function CM(){if(N0)return Mu;N0=1;var e=el(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var s=this.__data__;if(e){var a=s[o];return a===t?void 0:a}return r.call(s,o)?s[o]:void 0}return Mu=i,Mu}var qu,C0;function jM(){if(C0)return qu;C0=1;var e=el(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var o=this.__data__;return e?o[i]!==void 0:n.call(o,i)}return qu=r,qu}var Ou,j0;function TM(){if(j0)return Ou;j0=1;var e=el(),t="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=e&&i===void 0?t:i,this}return Ou=n,Ou}var Lu,T0;function RM(){if(T0)return Lu;T0=1;var e=kM(),t=NM(),n=CM(),r=jM(),i=TM();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Lu=o,Lu}var zu,R0;function IM(){if(R0)return zu;R0=1;var e=RM(),t=Ja(),n=Eg();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return zu=r,zu}var Du,I0;function PM(){if(I0)return Du;I0=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return Du=e,Du}var Fu,P0;function tl(){if(P0)return Fu;P0=1;var e=PM();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Fu=t,Fu}var $u,A0;function AM(){if(A0)return $u;A0=1;var e=tl();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return $u=t,$u}var Bu,M0;function MM(){if(M0)return Bu;M0=1;var e=tl();function t(n){return e(this,n).get(n)}return Bu=t,Bu}var Hu,q0;function qM(){if(q0)return Hu;q0=1;var e=tl();function t(n){return e(this,n).has(n)}return Hu=t,Hu}var Vu,O0;function OM(){if(O0)return Vu;O0=1;var e=tl();function t(n,r){var i=e(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return Vu=t,Vu}var Uu,L0;function kg(){if(L0)return Uu;L0=1;var e=IM(),t=AM(),n=MM(),r=qM(),i=OM();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Uu=o,Uu}var Wu,z0;function LM(){if(z0)return Wu;z0=1;var e=Ja(),t=Eg(),n=kg(),r=200;function i(o,s){var a=this.__data__;if(a instanceof e){var l=a.__data__;if(!t||l.length<r-1)return l.push([o,s]),this.size=++a.size,this;a=this.__data__=new n(l)}return a.set(o,s),this.size=a.size,this}return Wu=i,Wu}var Gu,D0;function nl(){if(D0)return Gu;D0=1;var e=Ja(),t=mM(),n=gM(),r=vM(),i=yM(),o=LM();function s(a){var l=this.__data__=new e(a);this.size=l.size}return s.prototype.clear=t,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=o,Gu=s,Gu}var Ku,F0;function Ng(){if(F0)return Ku;F0=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i&&n(t[r],r,t)!==!1;);return t}return Ku=e,Ku}var Yu,$0;function Q2(){if($0)return Yu;$0=1;var e=Ar(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return Yu=t,Yu}var Xu,B0;function rl(){if(B0)return Xu;B0=1;var e=Q2();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return Xu=t,Xu}var Qu,H0;function il(){if(H0)return Qu;H0=1;var e=rl(),t=Ei(),n=Object.prototype,r=n.hasOwnProperty;function i(o,s,a){var l=o[s];(!(r.call(o,s)&&t(l,a))||a===void 0&&!(s in o))&&e(o,s,a)}return Qu=i,Qu}var Zu,V0;function Ko(){if(V0)return Zu;V0=1;var e=il(),t=rl();function n(r,i,o,s){var a=!o;o||(o={});for(var l=-1,u=i.length;++l<u;){var c=i[l],f=s?s(o[c],r[c],c,o,r):void 0;f===void 0&&(f=r[c]),a?t(o,c,f):e(o,c,f)}return o}return Zu=n,Zu}var Ju,U0;function zM(){if(U0)return Ju;U0=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return Ju=e,Ju}var ec,W0;function on(){if(W0)return ec;W0=1;function e(t){return t!=null&&typeof t=="object"}return ec=e,ec}var tc,G0;function DM(){if(G0)return tc;G0=1;var e=Pr(),t=on(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return tc=r,tc}var nc,K0;function Yo(){if(K0)return nc;K0=1;var e=DM(),t=on(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=e(function(){return arguments}())?e:function(s){return t(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return nc=o,nc}var rc,Y0;function Me(){if(Y0)return rc;Y0=1;var e=Array.isArray;return rc=e,rc}var Xi={exports:{}},ic,X0;function FM(){if(X0)return ic;X0=1;function e(){return!1}return ic=e,ic}Xi.exports;var Q0;function Ni(){return Q0||(Q0=1,function(e,t){var n=Vt(),r=FM(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;e.exports=u}(Xi,Xi.exports)),Xi.exports}var oc,Z0;function ol(){if(Z0)return oc;Z0=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??e,!!i&&(o=="number"||o!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return oc=n,oc}var sc,J0;function Cg(){if(J0)return sc;J0=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return sc=t,sc}var ac,ex;function $M(){if(ex)return ac;ex=1;var e=Pr(),t=Cg(),n=on(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",s="[object Date]",a="[object Error]",l="[object Function]",u="[object Map]",c="[object Number]",f="[object Object]",h="[object RegExp]",p="[object Set]",y="[object String]",v="[object WeakMap]",_="[object ArrayBuffer]",m="[object DataView]",g="[object Float32Array]",x="[object Float64Array]",w="[object Int8Array]",S="[object Int16Array]",k="[object Int32Array]",N="[object Uint8Array]",j="[object Uint8ClampedArray]",R="[object Uint16Array]",M="[object Uint32Array]",q={};q[g]=q[x]=q[w]=q[S]=q[k]=q[N]=q[j]=q[R]=q[M]=!0,q[r]=q[i]=q[_]=q[o]=q[m]=q[s]=q[a]=q[l]=q[u]=q[c]=q[f]=q[h]=q[p]=q[y]=q[v]=!1;function F(L){return n(L)&&t(L.length)&&!!q[e(L)]}return ac=F,ac}var lc,tx;function sl(){if(tx)return lc;tx=1;function e(t){return function(n){return t(n)}}return lc=e,lc}var Qi={exports:{}};Qi.exports;var nx;function jg(){return nx||(nx=1,function(e,t){var n=Y2(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=a}(Qi,Qi.exports)),Qi.exports}var uc,rx;function Xo(){if(rx)return uc;rx=1;var e=$M(),t=sl(),n=jg(),r=n&&n.isTypedArray,i=r?t(r):e;return uc=i,uc}var cc,ix;function Z2(){if(ix)return cc;ix=1;var e=zM(),t=Yo(),n=Me(),r=Ni(),i=ol(),o=Xo(),s=Object.prototype,a=s.hasOwnProperty;function l(u,c){var f=n(u),h=!f&&t(u),p=!f&&!h&&r(u),y=!f&&!h&&!p&&o(u),v=f||h||p||y,_=v?e(u.length,String):[],m=_.length;for(var g in u)(c||a.call(u,g))&&!(v&&(g=="length"||p&&(g=="offset"||g=="parent")||y&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||i(g,m)))&&_.push(g);return _}return cc=l,cc}var fc,ox;function al(){if(ox)return fc;ox=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return fc=t,fc}var dc,sx;function J2(){if(sx)return dc;sx=1;function e(t,n){return function(r){return t(n(r))}}return dc=e,dc}var hc,ax;function BM(){if(ax)return hc;ax=1;var e=J2(),t=e(Object.keys,Object);return hc=t,hc}var pc,lx;function Tg(){if(lx)return pc;lx=1;var e=al(),t=BM(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!e(o))return t(o);var s=[];for(var a in Object(o))r.call(o,a)&&a!="constructor"&&s.push(a);return s}return pc=i,pc}var mc,ux;function Cn(){if(ux)return mc;ux=1;var e=Go(),t=Cg();function n(r){return r!=null&&t(r.length)&&!e(r)}return mc=n,mc}var gc,cx;function ar(){if(cx)return gc;cx=1;var e=Z2(),t=Tg(),n=Cn();function r(i){return n(i)?e(i):t(i)}return gc=r,gc}var vc,fx;function HM(){if(fx)return vc;fx=1;var e=Ko(),t=ar();function n(r,i){return r&&e(i,t(i),r)}return vc=n,vc}var yc,dx;function VM(){if(dx)return yc;dx=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return yc=e,yc}var xc,hx;function UM(){if(hx)return xc;hx=1;var e=It(),t=al(),n=VM(),r=Object.prototype,i=r.hasOwnProperty;function o(s){if(!e(s))return n(s);var a=t(s),l=[];for(var u in s)u=="constructor"&&(a||!i.call(s,u))||l.push(u);return l}return xc=o,xc}var wc,px;function Mr(){if(px)return wc;px=1;var e=Z2(),t=UM(),n=Cn();function r(i){return n(i)?e(i,!0):t(i)}return wc=r,wc}var _c,mx;function WM(){if(mx)return _c;mx=1;var e=Ko(),t=Mr();function n(r,i){return r&&e(i,t(i),r)}return _c=n,_c}var Zi={exports:{}};Zi.exports;var gx;function ek(){return gx||(gx=1,function(e,t){var n=Vt(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var f=u.length,h=a?a(f):new u.constructor(f);return u.copy(h),h}e.exports=l}(Zi,Zi.exports)),Zi.exports}var bc,vx;function tk(){if(vx)return bc;vx=1;function e(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}return bc=e,bc}var Sc,yx;function nk(){if(yx)return Sc;yx=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=0,s=[];++r<i;){var a=t[r];n(a,r,t)&&(s[o++]=a)}return s}return Sc=e,Sc}var Ec,xx;function rk(){if(xx)return Ec;xx=1;function e(){return[]}return Ec=e,Ec}var kc,wx;function Rg(){if(wx)return kc;wx=1;var e=nk(),t=rk(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(s){return s==null?[]:(s=Object(s),e(i(s),function(a){return r.call(s,a)}))}:t;return kc=o,kc}var Nc,_x;function GM(){if(_x)return Nc;_x=1;var e=Ko(),t=Rg();function n(r,i){return e(r,t(r),i)}return Nc=n,Nc}var Cc,bx;function Ig(){if(bx)return Cc;bx=1;function e(t,n){for(var r=-1,i=n.length,o=t.length;++r<i;)t[o+r]=n[r];return t}return Cc=e,Cc}var jc,Sx;function ll(){if(Sx)return jc;Sx=1;var e=J2(),t=e(Object.getPrototypeOf,Object);return jc=t,jc}var Tc,Ex;function ik(){if(Ex)return Tc;Ex=1;var e=Ig(),t=ll(),n=Rg(),r=rk(),i=Object.getOwnPropertySymbols,o=i?function(s){for(var a=[];s;)e(a,n(s)),s=t(s);return a}:r;return Tc=o,Tc}var Rc,kx;function KM(){if(kx)return Rc;kx=1;var e=Ko(),t=ik();function n(r,i){return e(r,t(r),i)}return Rc=n,Rc}var Ic,Nx;function ok(){if(Nx)return Ic;Nx=1;var e=Ig(),t=Me();function n(r,i,o){var s=i(r);return t(r)?s:e(s,o(r))}return Ic=n,Ic}var Pc,Cx;function sk(){if(Cx)return Pc;Cx=1;var e=ok(),t=Rg(),n=ar();function r(i){return e(i,n,t)}return Pc=r,Pc}var Ac,jx;function YM(){if(jx)return Ac;jx=1;var e=ok(),t=ik(),n=Mr();function r(i){return e(i,n,t)}return Ac=r,Ac}var Mc,Tx;function XM(){if(Tx)return Mc;Tx=1;var e=Ar(),t=Vt(),n=e(t,"DataView");return Mc=n,Mc}var qc,Rx;function QM(){if(Rx)return qc;Rx=1;var e=Ar(),t=Vt(),n=e(t,"Promise");return qc=n,qc}var Oc,Ix;function ak(){if(Ix)return Oc;Ix=1;var e=Ar(),t=Vt(),n=e(t,"Set");return Oc=n,Oc}var Lc,Px;function ZM(){if(Px)return Lc;Px=1;var e=Ar(),t=Vt(),n=e(t,"WeakMap");return Lc=n,Lc}var zc,Ax;function Ci(){if(Ax)return zc;Ax=1;var e=XM(),t=Eg(),n=QM(),r=ak(),i=ZM(),o=Pr(),s=X2(),a="[object Map]",l="[object Object]",u="[object Promise]",c="[object Set]",f="[object WeakMap]",h="[object DataView]",p=s(e),y=s(t),v=s(n),_=s(r),m=s(i),g=o;return(e&&g(new e(new ArrayBuffer(1)))!=h||t&&g(new t)!=a||n&&g(n.resolve())!=u||r&&g(new r)!=c||i&&g(new i)!=f)&&(g=function(x){var w=o(x),S=w==l?x.constructor:void 0,k=S?s(S):"";if(k)switch(k){case p:return h;case y:return a;case v:return u;case _:return c;case m:return f}return w}),zc=g,zc}var Dc,Mx;function JM(){if(Mx)return Dc;Mx=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var i=r.length,o=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(o.index=r.index,o.input=r.input),o}return Dc=n,Dc}var Fc,qx;function lk(){if(qx)return Fc;qx=1;var e=Vt(),t=e.Uint8Array;return Fc=t,Fc}var $c,Ox;function Pg(){if(Ox)return $c;Ox=1;var e=lk();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return $c=t,$c}var Bc,Lx;function e5(){if(Lx)return Bc;Lx=1;var e=Pg();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return Bc=t,Bc}var Hc,zx;function t5(){if(zx)return Hc;zx=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return Hc=t,Hc}var Vc,Dx;function n5(){if(Dx)return Vc;Dx=1;var e=ki(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return Vc=r,Vc}var Uc,Fx;function uk(){if(Fx)return Uc;Fx=1;var e=Pg();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return Uc=t,Uc}var Wc,$x;function r5(){if($x)return Wc;$x=1;var e=Pg(),t=e5(),n=t5(),r=n5(),i=uk(),o="[object Boolean]",s="[object Date]",a="[object Map]",l="[object Number]",u="[object RegExp]",c="[object Set]",f="[object String]",h="[object Symbol]",p="[object ArrayBuffer]",y="[object DataView]",v="[object Float32Array]",_="[object Float64Array]",m="[object Int8Array]",g="[object Int16Array]",x="[object Int32Array]",w="[object Uint8Array]",S="[object Uint8ClampedArray]",k="[object Uint16Array]",N="[object Uint32Array]";function j(R,M,q){var F=R.constructor;switch(M){case p:return e(R);case o:case s:return new F(+R);case y:return t(R,q);case v:case _:case m:case g:case x:case w:case S:case k:case N:return i(R,q);case a:return new F;case l:case f:return new F(R);case u:return n(R);case c:return new F;case h:return r(R)}}return Wc=j,Wc}var Gc,Bx;function ck(){if(Bx)return Gc;Bx=1;var e=It(),t=Object.create,n=function(){function r(){}return function(i){if(!e(i))return{};if(t)return t(i);r.prototype=i;var o=new r;return r.prototype=void 0,o}}();return Gc=n,Gc}var Kc,Hx;function fk(){if(Hx)return Kc;Hx=1;var e=ck(),t=ll(),n=al();function r(i){return typeof i.constructor=="function"&&!n(i)?e(t(i)):{}}return Kc=r,Kc}var Yc,Vx;function i5(){if(Vx)return Yc;Vx=1;var e=Ci(),t=on(),n="[object Map]";function r(i){return t(i)&&e(i)==n}return Yc=r,Yc}var Xc,Ux;function o5(){if(Ux)return Xc;Ux=1;var e=i5(),t=sl(),n=jg(),r=n&&n.isMap,i=r?t(r):e;return Xc=i,Xc}var Qc,Wx;function s5(){if(Wx)return Qc;Wx=1;var e=Ci(),t=on(),n="[object Set]";function r(i){return t(i)&&e(i)==n}return Qc=r,Qc}var Zc,Gx;function a5(){if(Gx)return Zc;Gx=1;var e=s5(),t=sl(),n=jg(),r=n&&n.isSet,i=r?t(r):e;return Zc=i,Zc}var Jc,Kx;function dk(){if(Kx)return Jc;Kx=1;var e=nl(),t=Ng(),n=il(),r=HM(),i=WM(),o=ek(),s=tk(),a=GM(),l=KM(),u=sk(),c=YM(),f=Ci(),h=JM(),p=r5(),y=fk(),v=Me(),_=Ni(),m=o5(),g=It(),x=a5(),w=ar(),S=Mr(),k=1,N=2,j=4,R="[object Arguments]",M="[object Array]",q="[object Boolean]",F="[object Date]",L="[object Error]",b="[object Function]",P="[object GeneratorFunction]",T="[object Map]",z="[object Number]",I="[object Object]",C="[object RegExp]",O="[object Set]",A="[object String]",D="[object Symbol]",B="[object WeakMap]",V="[object ArrayBuffer]",K="[object DataView]",Q="[object Float32Array]",Z="[object Float64Array]",ae="[object Int8Array]",re="[object Int16Array]",ie="[object Int32Array]",je="[object Uint8Array]",ve="[object Uint8ClampedArray]",qe="[object Uint16Array]",Ie="[object Uint32Array]",U={};U[R]=U[M]=U[V]=U[K]=U[q]=U[F]=U[Q]=U[Z]=U[ae]=U[re]=U[ie]=U[T]=U[z]=U[I]=U[C]=U[O]=U[A]=U[D]=U[je]=U[ve]=U[qe]=U[Ie]=!0,U[L]=U[b]=U[B]=!1;function oe(W,G,se,Te,le,de){var he,ye=G&k,Be=G&N,bt=G&j;if(se&&(he=le?se(W,Te,le,de):se(W)),he!==void 0)return he;if(!g(W))return W;var Wt=v(W);if(Wt){if(he=h(W),!ye)return s(W,he)}else{var ht=f(W),sn=ht==b||ht==P;if(_(W))return o(W,ye);if(ht==I||ht==R||sn&&!le){if(he=Be||sn?{}:y(W),!ye)return Be?l(W,i(he,W)):a(W,r(he,W))}else{if(!U[ht])return le?W:{};he=p(W,ht,ye)}}de||(de=new e);var Tn=de.get(W);if(Tn)return Tn;de.set(W,he),x(W)?W.forEach(function(We){he.add(oe(We,G,se,We,W,de))}):m(W)&&W.forEach(function(We,Ze){he.set(Ze,oe(We,G,se,Ze,W,de))});var ze=bt?Be?c:u:Be?S:w,it=Wt?void 0:ze(W);return t(it||W,function(We,Ze){it&&(Ze=We,We=W[Ze]),n(he,Ze,oe(We,G,se,Ze,W,de))}),he}return Jc=oe,Jc}var ef,Yx;function l5(){if(Yx)return ef;Yx=1;var e=dk(),t=4;function n(r){return e(r,t)}return ef=n,ef}var tf,Xx;function Ag(){if(Xx)return tf;Xx=1;function e(t){return function(){return t}}return tf=e,tf}var nf,Qx;function u5(){if(Qx)return nf;Qx=1;function e(t){return function(n,r,i){for(var o=-1,s=Object(n),a=i(n),l=a.length;l--;){var u=a[t?l:++o];if(r(s[u],u,s)===!1)break}return n}}return nf=e,nf}var rf,Zx;function Mg(){if(Zx)return rf;Zx=1;var e=u5(),t=e();return rf=t,rf}var of,Jx;function qg(){if(Jx)return of;Jx=1;var e=Mg(),t=ar();function n(r,i){return r&&e(r,i,t)}return of=n,of}var sf,e1;function c5(){if(e1)return sf;e1=1;var e=Cn();function t(n,r){return function(i,o){if(i==null)return i;if(!e(i))return n(i,o);for(var s=i.length,a=r?s:-1,l=Object(i);(r?a--:++a<s)&&o(l[a],a,l)!==!1;);return i}}return sf=t,sf}var af,t1;function ul(){if(t1)return af;t1=1;var e=qg(),t=c5(),n=t(e);return af=n,af}var lf,n1;function qr(){if(n1)return lf;n1=1;function e(t){return t}return lf=e,lf}var uf,r1;function hk(){if(r1)return uf;r1=1;var e=qr();function t(n){return typeof n=="function"?n:e}return uf=t,uf}var cf,i1;function pk(){if(i1)return cf;i1=1;var e=Ng(),t=ul(),n=hk(),r=Me();function i(o,s){var a=r(o)?e:t;return a(o,n(s))}return cf=i,cf}var ff,o1;function mk(){return o1||(o1=1,ff=pk()),ff}var df,s1;function f5(){if(s1)return df;s1=1;var e=ul();function t(n,r){var i=[];return e(n,function(o,s,a){r(o,s,a)&&i.push(o)}),i}return df=t,df}var hf,a1;function d5(){if(a1)return hf;a1=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return hf=t,hf}var pf,l1;function h5(){if(l1)return pf;l1=1;function e(t){return this.__data__.has(t)}return pf=e,pf}var mf,u1;function gk(){if(u1)return mf;u1=1;var e=kg(),t=d5(),n=h5();function r(i){var o=-1,s=i==null?0:i.length;for(this.__data__=new e;++o<s;)this.add(i[o])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,mf=r,mf}var gf,c1;function p5(){if(c1)return gf;c1=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return gf=e,gf}var vf,f1;function vk(){if(f1)return vf;f1=1;function e(t,n){return t.has(n)}return vf=e,vf}var yf,d1;function yk(){if(d1)return yf;d1=1;var e=gk(),t=p5(),n=vk(),r=1,i=2;function o(s,a,l,u,c,f){var h=l&r,p=s.length,y=a.length;if(p!=y&&!(h&&y>p))return!1;var v=f.get(s),_=f.get(a);if(v&&_)return v==a&&_==s;var m=-1,g=!0,x=l&i?new e:void 0;for(f.set(s,a),f.set(a,s);++m<p;){var w=s[m],S=a[m];if(u)var k=h?u(S,w,m,a,s,f):u(w,S,m,s,a,f);if(k!==void 0){if(k)continue;g=!1;break}if(x){if(!t(a,function(N,j){if(!n(x,j)&&(w===N||c(w,N,l,u,f)))return x.push(j)})){g=!1;break}}else if(!(w===S||c(w,S,l,u,f))){g=!1;break}}return f.delete(s),f.delete(a),g}return yf=o,yf}var xf,h1;function m5(){if(h1)return xf;h1=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,o){r[++n]=[o,i]}),r}return xf=e,xf}var wf,p1;function Og(){if(p1)return wf;p1=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return wf=e,wf}var _f,m1;function g5(){if(m1)return _f;m1=1;var e=ki(),t=lk(),n=Ei(),r=yk(),i=m5(),o=Og(),s=1,a=2,l="[object Boolean]",u="[object Date]",c="[object Error]",f="[object Map]",h="[object Number]",p="[object RegExp]",y="[object Set]",v="[object String]",_="[object Symbol]",m="[object ArrayBuffer]",g="[object DataView]",x=e?e.prototype:void 0,w=x?x.valueOf:void 0;function S(k,N,j,R,M,q,F){switch(j){case g:if(k.byteLength!=N.byteLength||k.byteOffset!=N.byteOffset)return!1;k=k.buffer,N=N.buffer;case m:return!(k.byteLength!=N.byteLength||!q(new t(k),new t(N)));case l:case u:case h:return n(+k,+N);case c:return k.name==N.name&&k.message==N.message;case p:case v:return k==N+"";case f:var L=i;case y:var b=R&s;if(L||(L=o),k.size!=N.size&&!b)return!1;var P=F.get(k);if(P)return P==N;R|=a,F.set(k,N);var T=r(L(k),L(N),R,M,q,F);return F.delete(k),T;case _:if(w)return w.call(k)==w.call(N)}return!1}return _f=S,_f}var bf,g1;function v5(){if(g1)return bf;g1=1;var e=sk(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,s,a,l,u,c){var f=a&t,h=e(o),p=h.length,y=e(s),v=y.length;if(p!=v&&!f)return!1;for(var _=p;_--;){var m=h[_];if(!(f?m in s:r.call(s,m)))return!1}var g=c.get(o),x=c.get(s);if(g&&x)return g==s&&x==o;var w=!0;c.set(o,s),c.set(s,o);for(var S=f;++_<p;){m=h[_];var k=o[m],N=s[m];if(l)var j=f?l(N,k,m,s,o,c):l(k,N,m,o,s,c);if(!(j===void 0?k===N||u(k,N,a,l,c):j)){w=!1;break}S||(S=m=="constructor")}if(w&&!S){var R=o.constructor,M=s.constructor;R!=M&&"constructor"in o&&"constructor"in s&&!(typeof R=="function"&&R instanceof R&&typeof M=="function"&&M instanceof M)&&(w=!1)}return c.delete(o),c.delete(s),w}return bf=i,bf}var Sf,v1;function y5(){if(v1)return Sf;v1=1;var e=nl(),t=yk(),n=g5(),r=v5(),i=Ci(),o=Me(),s=Ni(),a=Xo(),l=1,u="[object Arguments]",c="[object Array]",f="[object Object]",h=Object.prototype,p=h.hasOwnProperty;function y(v,_,m,g,x,w){var S=o(v),k=o(_),N=S?c:i(v),j=k?c:i(_);N=N==u?f:N,j=j==u?f:j;var R=N==f,M=j==f,q=N==j;if(q&&s(v)){if(!s(_))return!1;S=!0,R=!1}if(q&&!R)return w||(w=new e),S||a(v)?t(v,_,m,g,x,w):n(v,_,N,m,g,x,w);if(!(m&l)){var F=R&&p.call(v,"__wrapped__"),L=M&&p.call(_,"__wrapped__");if(F||L){var b=F?v.value():v,P=L?_.value():_;return w||(w=new e),x(b,P,m,g,w)}}return q?(w||(w=new e),r(v,_,m,g,x,w)):!1}return Sf=y,Sf}var Ef,y1;function xk(){if(y1)return Ef;y1=1;var e=y5(),t=on();function n(r,i,o,s,a){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,o,s,n,a)}return Ef=n,Ef}var kf,x1;function x5(){if(x1)return kf;x1=1;var e=nl(),t=xk(),n=1,r=2;function i(o,s,a,l){var u=a.length,c=u,f=!l;if(o==null)return!c;for(o=Object(o);u--;){var h=a[u];if(f&&h[2]?h[1]!==o[h[0]]:!(h[0]in o))return!1}for(;++u<c;){h=a[u];var p=h[0],y=o[p],v=h[1];if(f&&h[2]){if(y===void 0&&!(p in o))return!1}else{var _=new e;if(l)var m=l(y,v,p,o,s,_);if(!(m===void 0?t(v,y,n|r,l,_):m))return!1}}return!0}return kf=i,kf}var Nf,w1;function wk(){if(w1)return Nf;w1=1;var e=It();function t(n){return n===n&&!e(n)}return Nf=t,Nf}var Cf,_1;function w5(){if(_1)return Cf;_1=1;var e=wk(),t=ar();function n(r){for(var i=t(r),o=i.length;o--;){var s=i[o],a=r[s];i[o]=[s,a,e(a)]}return i}return Cf=n,Cf}var jf,b1;function _k(){if(b1)return jf;b1=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return jf=e,jf}var Tf,S1;function _5(){if(S1)return Tf;S1=1;var e=x5(),t=w5(),n=_k();function r(i){var o=t(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(s){return s===i||e(s,i,o)}}return Tf=r,Tf}var Rf,E1;function ji(){if(E1)return Rf;E1=1;var e=Pr(),t=on(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return Rf=r,Rf}var If,k1;function Lg(){if(k1)return If;k1=1;var e=Me(),t=ji(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){if(e(o))return!1;var a=typeof o;return a=="number"||a=="symbol"||a=="boolean"||o==null||t(o)?!0:r.test(o)||!n.test(o)||s!=null&&o in Object(s)}return If=i,If}var Pf,N1;function b5(){if(N1)return Pf;N1=1;var e=kg(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var o=function(){var s=arguments,a=i?i.apply(this,s):s[0],l=o.cache;if(l.has(a))return l.get(a);var u=r.apply(this,s);return o.cache=l.set(a,u)||l,u};return o.cache=new(n.Cache||e),o}return n.Cache=e,Pf=n,Pf}var Af,C1;function S5(){if(C1)return Af;C1=1;var e=b5(),t=500;function n(r){var i=e(r,function(s){return o.size===t&&o.clear(),s}),o=i.cache;return i}return Af=n,Af}var Mf,j1;function E5(){if(j1)return Mf;j1=1;var e=S5(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(t,function(s,a,l,u){o.push(l?u.replace(n,"$1"):a||s)}),o});return Mf=r,Mf}var qf,T1;function cl(){if(T1)return qf;T1=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=Array(i);++r<i;)o[r]=n(t[r],r,t);return o}return qf=e,qf}var Of,R1;function k5(){if(R1)return Of;R1=1;var e=ki(),t=cl(),n=Me(),r=ji(),i=e?e.prototype:void 0,o=i?i.toString:void 0;function s(a){if(typeof a=="string")return a;if(n(a))return t(a,s)+"";if(r(a))return o?o.call(a):"";var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}return Of=s,Of}var Lf,I1;function bk(){if(I1)return Lf;I1=1;var e=k5();function t(n){return n==null?"":e(n)}return Lf=t,Lf}var zf,P1;function fl(){if(P1)return zf;P1=1;var e=Me(),t=Lg(),n=E5(),r=bk();function i(o,s){return e(o)?o:t(o,s)?[o]:n(r(o))}return zf=i,zf}var Df,A1;function Qo(){if(A1)return Df;A1=1;var e=ji();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Df=t,Df}var Ff,M1;function dl(){if(M1)return Ff;M1=1;var e=fl(),t=Qo();function n(r,i){i=e(i,r);for(var o=0,s=i.length;r!=null&&o<s;)r=r[t(i[o++])];return o&&o==s?r:void 0}return Ff=n,Ff}var $f,q1;function N5(){if(q1)return $f;q1=1;var e=dl();function t(n,r,i){var o=n==null?void 0:e(n,r);return o===void 0?i:o}return $f=t,$f}var Bf,O1;function C5(){if(O1)return Bf;O1=1;function e(t,n){return t!=null&&n in Object(t)}return Bf=e,Bf}var Hf,L1;function Sk(){if(L1)return Hf;L1=1;var e=fl(),t=Yo(),n=Me(),r=ol(),i=Cg(),o=Qo();function s(a,l,u){l=e(l,a);for(var c=-1,f=l.length,h=!1;++c<f;){var p=o(l[c]);if(!(h=a!=null&&u(a,p)))break;a=a[p]}return h||++c!=f?h:(f=a==null?0:a.length,!!f&&i(f)&&r(p,f)&&(n(a)||t(a)))}return Hf=s,Hf}var Vf,z1;function Ek(){if(z1)return Vf;z1=1;var e=C5(),t=Sk();function n(r,i){return r!=null&&t(r,i,e)}return Vf=n,Vf}var Uf,D1;function j5(){if(D1)return Uf;D1=1;var e=xk(),t=N5(),n=Ek(),r=Lg(),i=wk(),o=_k(),s=Qo(),a=1,l=2;function u(c,f){return r(c)&&i(f)?o(s(c),f):function(h){var p=t(h,c);return p===void 0&&p===f?n(h,c):e(f,p,a|l)}}return Uf=u,Uf}var Wf,F1;function kk(){if(F1)return Wf;F1=1;function e(t){return function(n){return n==null?void 0:n[t]}}return Wf=e,Wf}var Gf,$1;function T5(){if($1)return Gf;$1=1;var e=dl();function t(n){return function(r){return e(r,n)}}return Gf=t,Gf}var Kf,B1;function R5(){if(B1)return Kf;B1=1;var e=kk(),t=T5(),n=Lg(),r=Qo();function i(o){return n(o)?e(r(o)):t(o)}return Kf=i,Kf}var Yf,H1;function jn(){if(H1)return Yf;H1=1;var e=_5(),t=j5(),n=qr(),r=Me(),i=R5();function o(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?t(s[0],s[1]):e(s):i(s)}return Yf=o,Yf}var Xf,V1;function Nk(){if(V1)return Xf;V1=1;var e=nk(),t=f5(),n=jn(),r=Me();function i(o,s){var a=r(o)?e:t;return a(o,n(s,3))}return Xf=i,Xf}var Qf,U1;function I5(){if(U1)return Qf;U1=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,i){return r!=null&&t.call(r,i)}return Qf=n,Qf}var Zf,W1;function Ck(){if(W1)return Zf;W1=1;var e=I5(),t=Sk();function n(r,i){return r!=null&&t(r,i,e)}return Zf=n,Zf}var Jf,G1;function P5(){if(G1)return Jf;G1=1;var e=Tg(),t=Ci(),n=Yo(),r=Me(),i=Cn(),o=Ni(),s=al(),a=Xo(),l="[object Map]",u="[object Set]",c=Object.prototype,f=c.hasOwnProperty;function h(p){if(p==null)return!0;if(i(p)&&(r(p)||typeof p=="string"||typeof p.splice=="function"||o(p)||a(p)||n(p)))return!p.length;var y=t(p);if(y==l||y==u)return!p.size;if(s(p))return!e(p).length;for(var v in p)if(f.call(p,v))return!1;return!0}return Jf=h,Jf}var ed,K1;function jk(){if(K1)return ed;K1=1;function e(t){return t===void 0}return ed=e,ed}var td,Y1;function Tk(){if(Y1)return td;Y1=1;var e=ul(),t=Cn();function n(r,i){var o=-1,s=t(r)?Array(r.length):[];return e(r,function(a,l,u){s[++o]=i(a,l,u)}),s}return td=n,td}var nd,X1;function Rk(){if(X1)return nd;X1=1;var e=cl(),t=jn(),n=Tk(),r=Me();function i(o,s){var a=r(o)?e:n;return a(o,t(s,3))}return nd=i,nd}var rd,Q1;function A5(){if(Q1)return rd;Q1=1;function e(t,n,r,i){var o=-1,s=t==null?0:t.length;for(i&&s&&(r=t[++o]);++o<s;)r=n(r,t[o],o,t);return r}return rd=e,rd}var id,Z1;function M5(){if(Z1)return id;Z1=1;function e(t,n,r,i,o){return o(t,function(s,a,l){r=i?(i=!1,s):n(r,s,a,l)}),r}return id=e,id}var od,J1;function Ik(){if(J1)return od;J1=1;var e=A5(),t=ul(),n=jn(),r=M5(),i=Me();function o(s,a,l){var u=i(s)?e:r,c=arguments.length<3;return u(s,n(a,4),l,c,t)}return od=o,od}var sd,ew;function q5(){if(ew)return sd;ew=1;var e=Pr(),t=Me(),n=on(),r="[object String]";function i(o){return typeof o=="string"||!t(o)&&n(o)&&e(o)==r}return sd=i,sd}var ad,tw;function O5(){if(tw)return ad;tw=1;var e=kk(),t=e("length");return ad=t,ad}var ld,nw;function L5(){if(nw)return ld;nw=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",s="\\u200d",a=RegExp("["+s+e+i+o+"]");function l(u){return a.test(u)}return ld=l,ld}var ud,rw;function z5(){if(rw)return ud;rw=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",s="["+e+"]",a="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+a+"|"+l+")",c="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",y=u+"?",v="["+o+"]?",_="(?:"+p+"(?:"+[c,f,h].join("|")+")"+v+y+")*",m=v+y+_,g="(?:"+[c+a+"?",a,f,h,s].join("|")+")",x=RegExp(l+"(?="+l+")|"+g+m,"g");function w(S){for(var k=x.lastIndex=0;x.test(S);)++k;return k}return ud=w,ud}var cd,iw;function D5(){if(iw)return cd;iw=1;var e=O5(),t=L5(),n=z5();function r(i){return t(i)?n(i):e(i)}return cd=r,cd}var fd,ow;function F5(){if(ow)return fd;ow=1;var e=Tg(),t=Ci(),n=Cn(),r=q5(),i=D5(),o="[object Map]",s="[object Set]";function a(l){if(l==null)return 0;if(n(l))return r(l)?i(l):l.length;var u=t(l);return u==o||u==s?l.size:e(l).length}return fd=a,fd}var dd,sw;function $5(){if(sw)return dd;sw=1;var e=Ng(),t=ck(),n=qg(),r=jn(),i=ll(),o=Me(),s=Ni(),a=Go(),l=It(),u=Xo();function c(f,h,p){var y=o(f),v=y||s(f)||u(f);if(h=r(h,4),p==null){var _=f&&f.constructor;v?p=y?new _:[]:l(f)?p=a(_)?t(i(f)):{}:p={}}return(v?e:n)(f,function(m,g,x){return h(p,m,g,x)}),p}return dd=c,dd}var hd,aw;function B5(){if(aw)return hd;aw=1;var e=ki(),t=Yo(),n=Me(),r=e?e.isConcatSpreadable:void 0;function i(o){return n(o)||t(o)||!!(r&&o&&o[r])}return hd=i,hd}var pd,lw;function zg(){if(lw)return pd;lw=1;var e=Ig(),t=B5();function n(r,i,o,s,a){var l=-1,u=r.length;for(o||(o=t),a||(a=[]);++l<u;){var c=r[l];i>0&&o(c)?i>1?n(c,i-1,o,s,a):e(a,c):s||(a[a.length]=c)}return a}return pd=n,pd}var md,uw;function H5(){if(uw)return md;uw=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return md=e,md}var gd,cw;function Pk(){if(cw)return gd;cw=1;var e=H5(),t=Math.max;function n(r,i,o){return i=t(i===void 0?r.length-1:i,0),function(){for(var s=arguments,a=-1,l=t(s.length-i,0),u=Array(l);++a<l;)u[a]=s[i+a];a=-1;for(var c=Array(i+1);++a<i;)c[a]=s[a];return c[i]=o(u),e(r,this,c)}}return gd=n,gd}var vd,fw;function V5(){if(fw)return vd;fw=1;var e=Ag(),t=Q2(),n=qr(),r=t?function(i,o){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:n;return vd=r,vd}var yd,dw;function U5(){if(dw)return yd;dw=1;var e=800,t=16,n=Date.now;function r(i){var o=0,s=0;return function(){var a=n(),l=t-(a-s);if(s=a,l>0){if(++o>=e)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return yd=r,yd}var xd,hw;function Ak(){if(hw)return xd;hw=1;var e=V5(),t=U5(),n=t(e);return xd=n,xd}var wd,pw;function hl(){if(pw)return wd;pw=1;var e=qr(),t=Pk(),n=Ak();function r(i,o){return n(t(i,o,e),i+"")}return wd=r,wd}var _d,mw;function Mk(){if(mw)return _d;mw=1;function e(t,n,r,i){for(var o=t.length,s=r+(i?1:-1);i?s--:++s<o;)if(n(t[s],s,t))return s;return-1}return _d=e,_d}var bd,gw;function W5(){if(gw)return bd;gw=1;function e(t){return t!==t}return bd=e,bd}var Sd,vw;function G5(){if(vw)return Sd;vw=1;function e(t,n,r){for(var i=r-1,o=t.length;++i<o;)if(t[i]===n)return i;return-1}return Sd=e,Sd}var Ed,yw;function K5(){if(yw)return Ed;yw=1;var e=Mk(),t=W5(),n=G5();function r(i,o,s){return o===o?n(i,o,s):e(i,t,s)}return Ed=r,Ed}var kd,xw;function Y5(){if(xw)return kd;xw=1;var e=K5();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return kd=t,kd}var Nd,ww;function X5(){if(ww)return Nd;ww=1;function e(t,n,r){for(var i=-1,o=t==null?0:t.length;++i<o;)if(r(n,t[i]))return!0;return!1}return Nd=e,Nd}var Cd,_w;function Q5(){if(_w)return Cd;_w=1;function e(){}return Cd=e,Cd}var jd,bw;function Z5(){if(bw)return jd;bw=1;var e=ak(),t=Q5(),n=Og(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(o){return new e(o)}:t;return jd=i,jd}var Td,Sw;function J5(){if(Sw)return Td;Sw=1;var e=gk(),t=Y5(),n=X5(),r=vk(),i=Z5(),o=Og(),s=200;function a(l,u,c){var f=-1,h=t,p=l.length,y=!0,v=[],_=v;if(c)y=!1,h=n;else if(p>=s){var m=u?null:i(l);if(m)return o(m);y=!1,h=r,_=new e}else _=u?[]:v;e:for(;++f<p;){var g=l[f],x=u?u(g):g;if(g=c||g!==0?g:0,y&&x===x){for(var w=_.length;w--;)if(_[w]===x)continue e;u&&_.push(x),v.push(g)}else h(_,x,c)||(_!==v&&_.push(x),v.push(g))}return v}return Td=a,Td}var Rd,Ew;function qk(){if(Ew)return Rd;Ew=1;var e=Cn(),t=on();function n(r){return t(r)&&e(r)}return Rd=n,Rd}var Id,kw;function eq(){if(kw)return Id;kw=1;var e=zg(),t=hl(),n=J5(),r=qk(),i=t(function(o){return n(e(o,1,r,!0))});return Id=i,Id}var Pd,Nw;function tq(){if(Nw)return Pd;Nw=1;var e=cl();function t(n,r){return e(r,function(i){return n[i]})}return Pd=t,Pd}var Ad,Cw;function Ok(){if(Cw)return Ad;Cw=1;var e=tq(),t=ar();function n(r){return r==null?[]:e(r,t(r))}return Ad=n,Ad}var Md,jw;function Pt(){if(jw)return Md;jw=1;var e;if(typeof Sg=="function")try{e={clone:l5(),constant:Ag(),each:mk(),filter:Nk(),has:Ck(),isArray:Me(),isEmpty:P5(),isFunction:Go(),isUndefined:jk(),keys:ar(),map:Rk(),reduce:Ik(),size:F5(),transform:$5(),union:eq(),values:Ok()}}catch{}return e||(e=window._),Md=e,Md}var qd,Tw;function Dg(){if(Tw)return qd;Tw=1;var e=Pt();qd=i;var t="\0",n="\0",r="";function i(c){this._isDirected=e.has(c,"directed")?c.directed:!0,this._isMultigraph=e.has(c,"multigraph")?c.multigraph:!1,this._isCompound=e.has(c,"compound")?c.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(c){return this._label=c,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultNodeLabelFn=c,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return e.keys(this._nodes)},i.prototype.sources=function(){var c=this;return e.filter(this.nodes(),function(f){return e.isEmpty(c._in[f])})},i.prototype.sinks=function(){var c=this;return e.filter(this.nodes(),function(f){return e.isEmpty(c._out[f])})},i.prototype.setNodes=function(c,f){var h=arguments,p=this;return e.each(c,function(y){h.length>1?p.setNode(y,f):p.setNode(y)}),this},i.prototype.setNode=function(c,f){return e.has(this._nodes,c)?(arguments.length>1&&(this._nodes[c]=f),this):(this._nodes[c]=arguments.length>1?f:this._defaultNodeLabelFn(c),this._isCompound&&(this._parent[c]=n,this._children[c]={},this._children[n][c]=!0),this._in[c]={},this._preds[c]={},this._out[c]={},this._sucs[c]={},++this._nodeCount,this)},i.prototype.node=function(c){return this._nodes[c]},i.prototype.hasNode=function(c){return e.has(this._nodes,c)},i.prototype.removeNode=function(c){var f=this;if(e.has(this._nodes,c)){var h=function(p){f.removeEdge(f._edgeObjs[p])};delete this._nodes[c],this._isCompound&&(this._removeFromParentsChildList(c),delete this._parent[c],e.each(this.children(c),function(p){f.setParent(p)}),delete this._children[c]),e.each(e.keys(this._in[c]),h),delete this._in[c],delete this._preds[c],e.each(e.keys(this._out[c]),h),delete this._out[c],delete this._sucs[c],--this._nodeCount}return this},i.prototype.setParent=function(c,f){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(f))f=n;else{f+="";for(var h=f;!e.isUndefined(h);h=this.parent(h))if(h===c)throw new Error("Setting "+f+" as parent of "+c+" would create a cycle");this.setNode(f)}return this.setNode(c),this._removeFromParentsChildList(c),this._parent[c]=f,this._children[f][c]=!0,this},i.prototype._removeFromParentsChildList=function(c){delete this._children[this._parent[c]][c]},i.prototype.parent=function(c){if(this._isCompound){var f=this._parent[c];if(f!==n)return f}},i.prototype.children=function(c){if(e.isUndefined(c)&&(c=n),this._isCompound){var f=this._children[c];if(f)return e.keys(f)}else{if(c===n)return this.nodes();if(this.hasNode(c))return[]}},i.prototype.predecessors=function(c){var f=this._preds[c];if(f)return e.keys(f)},i.prototype.successors=function(c){var f=this._sucs[c];if(f)return e.keys(f)},i.prototype.neighbors=function(c){var f=this.predecessors(c);if(f)return e.union(f,this.successors(c))},i.prototype.isLeaf=function(c){var f;return this.isDirected()?f=this.successors(c):f=this.neighbors(c),f.length===0},i.prototype.filterNodes=function(c){var f=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});f.setGraph(this.graph());var h=this;e.each(this._nodes,function(v,_){c(_)&&f.setNode(_,v)}),e.each(this._edgeObjs,function(v){f.hasNode(v.v)&&f.hasNode(v.w)&&f.setEdge(v,h.edge(v))});var p={};function y(v){var _=h.parent(v);return _===void 0||f.hasNode(_)?(p[v]=_,_):_ in p?p[_]:y(_)}return this._isCompound&&e.each(f.nodes(),function(v){f.setParent(v,y(v))}),f},i.prototype.setDefaultEdgeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultEdgeLabelFn=c,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return e.values(this._edgeObjs)},i.prototype.setPath=function(c,f){var h=this,p=arguments;return e.reduce(c,function(y,v){return p.length>1?h.setEdge(y,v,f):h.setEdge(y,v),v}),this},i.prototype.setEdge=function(){var c,f,h,p,y=!1,v=arguments[0];typeof v=="object"&&v!==null&&"v"in v?(c=v.v,f=v.w,h=v.name,arguments.length===2&&(p=arguments[1],y=!0)):(c=v,f=arguments[1],h=arguments[3],arguments.length>2&&(p=arguments[2],y=!0)),c=""+c,f=""+f,e.isUndefined(h)||(h=""+h);var _=a(this._isDirected,c,f,h);if(e.has(this._edgeLabels,_))return y&&(this._edgeLabels[_]=p),this;if(!e.isUndefined(h)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(f),this._edgeLabels[_]=y?p:this._defaultEdgeLabelFn(c,f,h);var m=l(this._isDirected,c,f,h);return c=m.v,f=m.w,Object.freeze(m),this._edgeObjs[_]=m,o(this._preds[f],c),o(this._sucs[c],f),this._in[f][_]=m,this._out[c][_]=m,this._edgeCount++,this},i.prototype.edge=function(c,f,h){var p=arguments.length===1?u(this._isDirected,arguments[0]):a(this._isDirected,c,f,h);return this._edgeLabels[p]},i.prototype.hasEdge=function(c,f,h){var p=arguments.length===1?u(this._isDirected,arguments[0]):a(this._isDirected,c,f,h);return e.has(this._edgeLabels,p)},i.prototype.removeEdge=function(c,f,h){var p=arguments.length===1?u(this._isDirected,arguments[0]):a(this._isDirected,c,f,h),y=this._edgeObjs[p];return y&&(c=y.v,f=y.w,delete this._edgeLabels[p],delete this._edgeObjs[p],s(this._preds[f],c),s(this._sucs[c],f),delete this._in[f][p],delete this._out[c][p],this._edgeCount--),this},i.prototype.inEdges=function(c,f){var h=this._in[c];if(h){var p=e.values(h);return f?e.filter(p,function(y){return y.v===f}):p}},i.prototype.outEdges=function(c,f){var h=this._out[c];if(h){var p=e.values(h);return f?e.filter(p,function(y){return y.w===f}):p}},i.prototype.nodeEdges=function(c,f){var h=this.inEdges(c,f);if(h)return h.concat(this.outEdges(c,f))};function o(c,f){c[f]?c[f]++:c[f]=1}function s(c,f){--c[f]||delete c[f]}function a(c,f,h,p){var y=""+f,v=""+h;if(!c&&y>v){var _=y;y=v,v=_}return y+r+v+r+(e.isUndefined(p)?t:p)}function l(c,f,h,p){var y=""+f,v=""+h;if(!c&&y>v){var _=y;y=v,v=_}var m={v:y,w:v};return p&&(m.name=p),m}function u(c,f){return a(c,f.v,f.w,f.name)}return qd}var Od,Rw;function nq(){return Rw||(Rw=1,Od="2.1.8"),Od}var Ld,Iw;function rq(){return Iw||(Iw=1,Ld={Graph:Dg(),version:nq()}),Ld}var zd,Pw;function iq(){if(Pw)return zd;Pw=1;var e=Pt(),t=Dg();zd={write:n,read:o};function n(s){var a={options:{directed:s.isDirected(),multigraph:s.isMultigraph(),compound:s.isCompound()},nodes:r(s),edges:i(s)};return e.isUndefined(s.graph())||(a.value=e.clone(s.graph())),a}function r(s){return e.map(s.nodes(),function(a){var l=s.node(a),u=s.parent(a),c={v:a};return e.isUndefined(l)||(c.value=l),e.isUndefined(u)||(c.parent=u),c})}function i(s){return e.map(s.edges(),function(a){var l=s.edge(a),u={v:a.v,w:a.w};return e.isUndefined(a.name)||(u.name=a.name),e.isUndefined(l)||(u.value=l),u})}function o(s){var a=new t(s.options).setGraph(s.value);return e.each(s.nodes,function(l){a.setNode(l.v,l.value),l.parent&&a.setParent(l.v,l.parent)}),e.each(s.edges,function(l){a.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),a}return zd}var Dd,Aw;function oq(){if(Aw)return Dd;Aw=1;var e=Pt();Dd=t;function t(n){var r={},i=[],o;function s(a){e.has(r,a)||(r[a]=!0,o.push(a),e.each(n.successors(a),s),e.each(n.predecessors(a),s))}return e.each(n.nodes(),function(a){o=[],s(a),o.length&&i.push(o)}),i}return Dd}var Fd,Mw;function Lk(){if(Mw)return Fd;Mw=1;var e=Pt();Fd=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,r){var i=this._keyIndices;if(n=String(n),!e.has(i,n)){var o=this._arr,s=o.length;return i[n]=s,o.push({key:n,priority:r}),this._decrease(s),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)},t.prototype._heapify=function(n){var r=this._arr,i=2*n,o=i+1,s=n;i<r.length&&(s=r[i].priority<r[s].priority?i:s,o<r.length&&(s=r[o].priority<r[s].priority?o:s),s!==n&&(this._swap(n,s),this._heapify(s)))},t.prototype._decrease=function(n){for(var r=this._arr,i=r[n].priority,o;n!==0&&(o=n>>1,!(r[o].priority<i));)this._swap(n,o),n=o},t.prototype._swap=function(n,r){var i=this._arr,o=this._keyIndices,s=i[n],a=i[r];i[n]=a,i[r]=s,o[a.key]=n,o[s.key]=r},Fd}var $d,qw;function zk(){if(qw)return $d;qw=1;var e=Pt(),t=Lk();$d=r;var n=e.constant(1);function r(o,s,a,l){return i(o,String(s),a||n,l||function(u){return o.outEdges(u)})}function i(o,s,a,l){var u={},c=new t,f,h,p=function(y){var v=y.v!==f?y.v:y.w,_=u[v],m=a(y),g=h.distance+m;if(m<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+y+" Weight: "+m);g<_.distance&&(_.distance=g,_.predecessor=f,c.decrease(v,g))};for(o.nodes().forEach(function(y){var v=y===s?0:Number.POSITIVE_INFINITY;u[y]={distance:v},c.add(y,v)});c.size()>0&&(f=c.removeMin(),h=u[f],h.distance!==Number.POSITIVE_INFINITY);)l(f).forEach(p);return u}return $d}var Bd,Ow;function sq(){if(Ow)return Bd;Ow=1;var e=zk(),t=Pt();Bd=n;function n(r,i,o){return t.transform(r.nodes(),function(s,a){s[a]=e(r,a,i,o)},{})}return Bd}var Hd,Lw;function Dk(){if(Lw)return Hd;Lw=1;var e=Pt();Hd=t;function t(n){var r=0,i=[],o={},s=[];function a(l){var u=o[l]={onStack:!0,lowlink:r,index:r++};if(i.push(l),n.successors(l).forEach(function(h){e.has(o,h)?o[h].onStack&&(u.lowlink=Math.min(u.lowlink,o[h].index)):(a(h),u.lowlink=Math.min(u.lowlink,o[h].lowlink))}),u.lowlink===u.index){var c=[],f;do f=i.pop(),o[f].onStack=!1,c.push(f);while(l!==f);s.push(c)}}return n.nodes().forEach(function(l){e.has(o,l)||a(l)}),s}return Hd}var Vd,zw;function aq(){if(zw)return Vd;zw=1;var e=Pt(),t=Dk();Vd=n;function n(r){return e.filter(t(r),function(i){return i.length>1||i.length===1&&r.hasEdge(i[0],i[0])})}return Vd}var Ud,Dw;function lq(){if(Dw)return Ud;Dw=1;var e=Pt();Ud=n;var t=e.constant(1);function n(i,o,s){return r(i,o||t,s||function(a){return i.outEdges(a)})}function r(i,o,s){var a={},l=i.nodes();return l.forEach(function(u){a[u]={},a[u][u]={distance:0},l.forEach(function(c){u!==c&&(a[u][c]={distance:Number.POSITIVE_INFINITY})}),s(u).forEach(function(c){var f=c.v===u?c.w:c.v,h=o(c);a[u][f]={distance:h,predecessor:u}})}),l.forEach(function(u){var c=a[u];l.forEach(function(f){var h=a[f];l.forEach(function(p){var y=h[u],v=c[p],_=h[p],m=y.distance+v.distance;m<_.distance&&(_.distance=m,_.predecessor=v.predecessor)})})}),a}return Ud}var Wd,Fw;function Fk(){if(Fw)return Wd;Fw=1;var e=Pt();Wd=t,t.CycleException=n;function t(r){var i={},o={},s=[];function a(l){if(e.has(o,l))throw new n;e.has(i,l)||(o[l]=!0,i[l]=!0,e.each(r.predecessors(l),a),delete o[l],s.push(l))}if(e.each(r.sinks(),a),e.size(i)!==r.nodeCount())throw new n;return s}function n(){}return n.prototype=new Error,Wd}var Gd,$w;function uq(){if($w)return Gd;$w=1;var e=Fk();Gd=t;function t(n){try{e(n)}catch(r){if(r instanceof e.CycleException)return!1;throw r}return!0}return Gd}var Kd,Bw;function $k(){if(Bw)return Kd;Bw=1;var e=Pt();Kd=t;function t(r,i,o){e.isArray(i)||(i=[i]);var s=(r.isDirected()?r.successors:r.neighbors).bind(r),a=[],l={};return e.each(i,function(u){if(!r.hasNode(u))throw new Error("Graph does not have node: "+u);n(r,u,o==="post",l,s,a)}),a}function n(r,i,o,s,a,l){e.has(s,i)||(s[i]=!0,o||l.push(i),e.each(a(i),function(u){n(r,u,o,s,a,l)}),o&&l.push(i))}return Kd}var Yd,Hw;function cq(){if(Hw)return Yd;Hw=1;var e=$k();Yd=t;function t(n,r){return e(n,r,"post")}return Yd}var Xd,Vw;function fq(){if(Vw)return Xd;Vw=1;var e=$k();Xd=t;function t(n,r){return e(n,r,"pre")}return Xd}var Qd,Uw;function dq(){if(Uw)return Qd;Uw=1;var e=Pt(),t=Dg(),n=Lk();Qd=r;function r(i,o){var s=new t,a={},l=new n,u;function c(h){var p=h.v===u?h.w:h.v,y=l.priority(p);if(y!==void 0){var v=o(h);v<y&&(a[p]=u,l.decrease(p,v))}}if(i.nodeCount()===0)return s;e.each(i.nodes(),function(h){l.add(h,Number.POSITIVE_INFINITY),s.setNode(h)}),l.decrease(i.nodes()[0],0);for(var f=!1;l.size()>0;){if(u=l.removeMin(),e.has(a,u))s.setEdge(u,a[u]);else{if(f)throw new Error("Input graph is not connected: "+i);f=!0}i.nodeEdges(u).forEach(c)}return s}return Qd}var Zd,Ww;function hq(){return Ww||(Ww=1,Zd={components:oq(),dijkstra:zk(),dijkstraAll:sq(),findCycles:aq(),floydWarshall:lq(),isAcyclic:uq(),postorder:cq(),preorder:fq(),prim:dq(),tarjan:Dk(),topsort:Fk()}),Zd}var Jd,Gw;function pq(){if(Gw)return Jd;Gw=1;var e=rq();return Jd={Graph:e.Graph,json:iq(),alg:hq(),version:e.version},Jd}var Ea;if(typeof Sg=="function")try{Ea=pq()}catch{}Ea||(Ea=window.graphlib);var Ut=Ea,eh,Kw;function mq(){if(Kw)return eh;Kw=1;var e=dk(),t=1,n=4;function r(i){return e(i,t|n)}return eh=r,eh}var th,Yw;function pl(){if(Yw)return th;Yw=1;var e=Ei(),t=Cn(),n=ol(),r=It();function i(o,s,a){if(!r(a))return!1;var l=typeof s;return(l=="number"?t(a)&&n(s,a.length):l=="string"&&s in a)?e(a[s],o):!1}return th=i,th}var nh,Xw;function gq(){if(Xw)return nh;Xw=1;var e=hl(),t=Ei(),n=pl(),r=Mr(),i=Object.prototype,o=i.hasOwnProperty,s=e(function(a,l){a=Object(a);var u=-1,c=l.length,f=c>2?l[2]:void 0;for(f&&n(l[0],l[1],f)&&(c=1);++u<c;)for(var h=l[u],p=r(h),y=-1,v=p.length;++y<v;){var _=p[y],m=a[_];(m===void 0||t(m,i[_])&&!o.call(a,_))&&(a[_]=h[_])}return a});return nh=s,nh}var rh,Qw;function vq(){if(Qw)return rh;Qw=1;var e=jn(),t=Cn(),n=ar();function r(i){return function(o,s,a){var l=Object(o);if(!t(o)){var u=e(s,3);o=n(o),s=function(f){return u(l[f],f,l)}}var c=i(o,s,a);return c>-1?l[u?o[c]:c]:void 0}}return rh=r,rh}var ih,Zw;function yq(){if(Zw)return ih;Zw=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return ih=t,ih}var oh,Jw;function xq(){if(Jw)return oh;Jw=1;var e=yq(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return oh=n,oh}var sh,e_;function wq(){if(e_)return sh;e_=1;var e=xq(),t=It(),n=ji(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt;function l(u){if(typeof u=="number")return u;if(n(u))return r;if(t(u)){var c=typeof u.valueOf=="function"?u.valueOf():u;u=t(c)?c+"":c}if(typeof u!="string")return u===0?u:+u;u=e(u);var f=o.test(u);return f||s.test(u)?a(u.slice(2),f?2:8):i.test(u)?r:+u}return sh=l,sh}var ah,t_;function Bk(){if(t_)return ah;t_=1;var e=wq(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var o=i<0?-1:1;return o*n}return i===i?i:0}return ah=r,ah}var lh,n_;function _q(){if(n_)return lh;n_=1;var e=Bk();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return lh=t,lh}var uh,r_;function bq(){if(r_)return uh;r_=1;var e=Mk(),t=jn(),n=_q(),r=Math.max;function i(o,s,a){var l=o==null?0:o.length;if(!l)return-1;var u=a==null?0:n(a);return u<0&&(u=r(l+u,0)),e(o,t(s,3),u)}return uh=i,uh}var ch,i_;function Sq(){if(i_)return ch;i_=1;var e=vq(),t=bq(),n=e(t);return ch=n,ch}var fh,o_;function Hk(){if(o_)return fh;o_=1;var e=zg();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return fh=t,fh}var dh,s_;function Eq(){if(s_)return dh;s_=1;var e=Mg(),t=hk(),n=Mr();function r(i,o){return i==null?i:e(i,t(o),n)}return dh=r,dh}var hh,a_;function kq(){if(a_)return hh;a_=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return hh=e,hh}var ph,l_;function Nq(){if(l_)return ph;l_=1;var e=rl(),t=qg(),n=jn();function r(i,o){var s={};return o=n(o,3),t(i,function(a,l,u){e(s,l,o(a,l,u))}),s}return ph=r,ph}var mh,u_;function Fg(){if(u_)return mh;u_=1;var e=ji();function t(n,r,i){for(var o=-1,s=n.length;++o<s;){var a=n[o],l=r(a);if(l!=null&&(u===void 0?l===l&&!e(l):i(l,u)))var u=l,c=a}return c}return mh=t,mh}var gh,c_;function Cq(){if(c_)return gh;c_=1;function e(t,n){return t>n}return gh=e,gh}var vh,f_;function jq(){if(f_)return vh;f_=1;var e=Fg(),t=Cq(),n=qr();function r(i){return i&&i.length?e(i,n,t):void 0}return vh=r,vh}var yh,d_;function Vk(){if(d_)return yh;d_=1;var e=rl(),t=Ei();function n(r,i,o){(o!==void 0&&!t(r[i],o)||o===void 0&&!(i in r))&&e(r,i,o)}return yh=n,yh}var xh,h_;function Tq(){if(h_)return xh;h_=1;var e=Pr(),t=ll(),n=on(),r="[object Object]",i=Function.prototype,o=Object.prototype,s=i.toString,a=o.hasOwnProperty,l=s.call(Object);function u(c){if(!n(c)||e(c)!=r)return!1;var f=t(c);if(f===null)return!0;var h=a.call(f,"constructor")&&f.constructor;return typeof h=="function"&&h instanceof h&&s.call(h)==l}return xh=u,xh}var wh,p_;function Uk(){if(p_)return wh;p_=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return wh=e,wh}var _h,m_;function Rq(){if(m_)return _h;m_=1;var e=Ko(),t=Mr();function n(r){return e(r,t(r))}return _h=n,_h}var bh,g_;function Iq(){if(g_)return bh;g_=1;var e=Vk(),t=ek(),n=uk(),r=tk(),i=fk(),o=Yo(),s=Me(),a=qk(),l=Ni(),u=Go(),c=It(),f=Tq(),h=Xo(),p=Uk(),y=Rq();function v(_,m,g,x,w,S,k){var N=p(_,g),j=p(m,g),R=k.get(j);if(R){e(_,g,R);return}var M=S?S(N,j,g+"",_,m,k):void 0,q=M===void 0;if(q){var F=s(j),L=!F&&l(j),b=!F&&!L&&h(j);M=j,F||L||b?s(N)?M=N:a(N)?M=r(N):L?(q=!1,M=t(j,!0)):b?(q=!1,M=n(j,!0)):M=[]:f(j)||o(j)?(M=N,o(N)?M=y(N):(!c(N)||u(N))&&(M=i(j))):q=!1}q&&(k.set(j,M),w(M,j,x,S,k),k.delete(j)),e(_,g,M)}return bh=v,bh}var Sh,v_;function Pq(){if(v_)return Sh;v_=1;var e=nl(),t=Vk(),n=Mg(),r=Iq(),i=It(),o=Mr(),s=Uk();function a(l,u,c,f,h){l!==u&&n(u,function(p,y){if(h||(h=new e),i(p))r(l,u,y,c,a,f,h);else{var v=f?f(s(l,y),p,y+"",l,u,h):void 0;v===void 0&&(v=p),t(l,y,v)}},o)}return Sh=a,Sh}var Eh,y_;function Aq(){if(y_)return Eh;y_=1;var e=hl(),t=pl();function n(r){return e(function(i,o){var s=-1,a=o.length,l=a>1?o[a-1]:void 0,u=a>2?o[2]:void 0;for(l=r.length>3&&typeof l=="function"?(a--,l):void 0,u&&t(o[0],o[1],u)&&(l=a<3?void 0:l,a=1),i=Object(i);++s<a;){var c=o[s];c&&r(i,c,s,l)}return i})}return Eh=n,Eh}var kh,x_;function Mq(){if(x_)return kh;x_=1;var e=Pq(),t=Aq(),n=t(function(r,i,o){e(r,i,o)});return kh=n,kh}var Nh,w_;function Wk(){if(w_)return Nh;w_=1;function e(t,n){return t<n}return Nh=e,Nh}var Ch,__;function qq(){if(__)return Ch;__=1;var e=Fg(),t=Wk(),n=qr();function r(i){return i&&i.length?e(i,n,t):void 0}return Ch=r,Ch}var jh,b_;function Oq(){if(b_)return jh;b_=1;var e=Fg(),t=jn(),n=Wk();function r(i,o){return i&&i.length?e(i,t(o,2),n):void 0}return jh=r,jh}var Th,S_;function Lq(){if(S_)return Th;S_=1;var e=Vt(),t=function(){return e.Date.now()};return Th=t,Th}var Rh,E_;function zq(){if(E_)return Rh;E_=1;var e=il(),t=fl(),n=ol(),r=It(),i=Qo();function o(s,a,l,u){if(!r(s))return s;a=t(a,s);for(var c=-1,f=a.length,h=f-1,p=s;p!=null&&++c<f;){var y=i(a[c]),v=l;if(y==="__proto__"||y==="constructor"||y==="prototype")return s;if(c!=h){var _=p[y];v=u?u(_,y,p):void 0,v===void 0&&(v=r(_)?_:n(a[c+1])?[]:{})}e(p,y,v),p=p[y]}return s}return Rh=o,Rh}var Ih,k_;function Dq(){if(k_)return Ih;k_=1;var e=dl(),t=zq(),n=fl();function r(i,o,s){for(var a=-1,l=o.length,u={};++a<l;){var c=o[a],f=e(i,c);s(f,c)&&t(u,n(c,i),f)}return u}return Ih=r,Ih}var Ph,N_;function Fq(){if(N_)return Ph;N_=1;var e=Dq(),t=Ek();function n(r,i){return e(r,i,function(o,s){return t(r,s)})}return Ph=n,Ph}var Ah,C_;function $q(){if(C_)return Ah;C_=1;var e=Hk(),t=Pk(),n=Ak();function r(i){return n(t(i,void 0,e),i+"")}return Ah=r,Ah}var Mh,j_;function Bq(){if(j_)return Mh;j_=1;var e=Fq(),t=$q(),n=t(function(r,i){return r==null?{}:e(r,i)});return Mh=n,Mh}var qh,T_;function Hq(){if(T_)return qh;T_=1;var e=Math.ceil,t=Math.max;function n(r,i,o,s){for(var a=-1,l=t(e((i-r)/(o||1)),0),u=Array(l);l--;)u[s?l:++a]=r,r+=o;return u}return qh=n,qh}var Oh,R_;function Vq(){if(R_)return Oh;R_=1;var e=Hq(),t=pl(),n=Bk();function r(i){return function(o,s,a){return a&&typeof a!="number"&&t(o,s,a)&&(s=a=void 0),o=n(o),s===void 0?(s=o,o=0):s=n(s),a=a===void 0?o<s?1:-1:n(a),e(o,s,a,i)}}return Oh=r,Oh}var Lh,I_;function Uq(){if(I_)return Lh;I_=1;var e=Vq(),t=e();return Lh=t,Lh}var zh,P_;function Wq(){if(P_)return zh;P_=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return zh=e,zh}var Dh,A_;function Gq(){if(A_)return Dh;A_=1;var e=ji();function t(n,r){if(n!==r){var i=n!==void 0,o=n===null,s=n===n,a=e(n),l=r!==void 0,u=r===null,c=r===r,f=e(r);if(!u&&!f&&!a&&n>r||a&&l&&c&&!u&&!f||o&&l&&c||!i&&c||!s)return 1;if(!o&&!a&&!f&&n<r||f&&i&&s&&!o&&!a||u&&i&&s||!l&&s||!c)return-1}return 0}return Dh=t,Dh}var Fh,M_;function Kq(){if(M_)return Fh;M_=1;var e=Gq();function t(n,r,i){for(var o=-1,s=n.criteria,a=r.criteria,l=s.length,u=i.length;++o<l;){var c=e(s[o],a[o]);if(c){if(o>=u)return c;var f=i[o];return c*(f=="desc"?-1:1)}}return n.index-r.index}return Fh=t,Fh}var $h,q_;function Yq(){if(q_)return $h;q_=1;var e=cl(),t=dl(),n=jn(),r=Tk(),i=Wq(),o=sl(),s=Kq(),a=qr(),l=Me();function u(c,f,h){f.length?f=e(f,function(v){return l(v)?function(_){return t(_,v.length===1?v[0]:v)}:v}):f=[a];var p=-1;f=e(f,o(n));var y=r(c,function(v,_,m){var g=e(f,function(x){return x(v)});return{criteria:g,index:++p,value:v}});return i(y,function(v,_){return s(v,_,h)})}return $h=u,$h}var Bh,O_;function Xq(){if(O_)return Bh;O_=1;var e=zg(),t=Yq(),n=hl(),r=pl(),i=n(function(o,s){if(o==null)return[];var a=s.length;return a>1&&r(o,s[0],s[1])?s=[]:a>2&&r(s[0],s[1],s[2])&&(s=[s[0]]),t(o,e(s,1),[])});return Bh=i,Bh}var Hh,L_;function Qq(){if(L_)return Hh;L_=1;var e=bk(),t=0;function n(r){var i=++t;return e(r)+i}return Hh=n,Hh}var Vh,z_;function Zq(){if(z_)return Vh;z_=1;function e(t,n,r){for(var i=-1,o=t.length,s=n.length,a={};++i<o;){var l=i<s?n[i]:void 0;r(a,t[i],l)}return a}return Vh=e,Vh}var Uh,D_;function Jq(){if(D_)return Uh;D_=1;var e=il(),t=Zq();function n(r,i){return t(r||[],i||[],e)}return Uh=n,Uh}var ka;if(typeof Sg=="function")try{ka={cloneDeep:mq(),constant:Ag(),defaults:gq(),each:mk(),filter:Nk(),find:Sq(),flatten:Hk(),forEach:pk(),forIn:Eq(),has:Ck(),isUndefined:jk(),last:kq(),map:Rk(),mapValues:Nq(),max:jq(),merge:Mq(),min:qq(),minBy:Oq(),now:Lq(),pick:Bq(),range:Uq(),reduce:Ik(),sortBy:Xq(),uniqueId:Qq(),values:Ok(),zipObject:Jq()}}catch{}ka||(ka=window._);var _e=ka,eO=ml;function ml(){var e={};e._next=e._prev=e,this._sentinel=e}ml.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return Gk(t),t};ml.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&Gk(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};ml.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,tO)),n=n._prev;return"["+e.join(", ")+"]"};function Gk(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function tO(e,t){if(e!=="_next"&&e!=="_prev")return t}var mn=_e,nO=Ut.Graph,rO=eO,iO=sO,oO=mn.constant(1);function sO(e,t){if(e.nodeCount()<=1)return[];var n=lO(e,t||oO),r=aO(n.graph,n.buckets,n.zeroIdx);return mn.flatten(mn.map(r,function(i){return e.outEdges(i.v,i.w)}),!0)}function aO(e,t,n){for(var r=[],i=t[t.length-1],o=t[0],s;e.nodeCount();){for(;s=o.dequeue();)Wh(e,t,n,s);for(;s=i.dequeue();)Wh(e,t,n,s);if(e.nodeCount()){for(var a=t.length-2;a>0;--a)if(s=t[a].dequeue(),s){r=r.concat(Wh(e,t,n,s,!0));break}}}return r}function Wh(e,t,n,r,i){var o=i?[]:void 0;return mn.forEach(e.inEdges(r.v),function(s){var a=e.edge(s),l=e.node(s.v);i&&o.push({v:s.v,w:s.w}),l.out-=a,am(t,n,l)}),mn.forEach(e.outEdges(r.v),function(s){var a=e.edge(s),l=s.w,u=e.node(l);u.in-=a,am(t,n,u)}),e.removeNode(r.v),o}function lO(e,t){var n=new nO,r=0,i=0;mn.forEach(e.nodes(),function(a){n.setNode(a,{v:a,in:0,out:0})}),mn.forEach(e.edges(),function(a){var l=n.edge(a.v,a.w)||0,u=t(a),c=l+u;n.setEdge(a.v,a.w,c),i=Math.max(i,n.node(a.v).out+=u),r=Math.max(r,n.node(a.w).in+=u)});var o=mn.range(i+r+3).map(function(){return new rO}),s=r+1;return mn.forEach(n.nodes(),function(a){am(o,s,n.node(a))}),{graph:n,buckets:o,zeroIdx:s}}function am(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var yr=_e,uO=iO,cO={run:fO,undo:hO};function fO(e){var t=e.graph().acyclicer==="greedy"?uO(e,n(e)):dO(e);yr.forEach(t,function(r){var i=e.edge(r);e.removeEdge(r),i.forwardName=r.name,i.reversed=!0,e.setEdge(r.w,r.v,i,yr.uniqueId("rev"))});function n(r){return function(i){return r.edge(i).weight}}}function dO(e){var t=[],n={},r={};function i(o){yr.has(r,o)||(r[o]=!0,n[o]=!0,yr.forEach(e.outEdges(o),function(s){yr.has(n,s.w)?t.push(s):i(s.w)}),delete n[o])}return yr.forEach(e.nodes(),i),t}function hO(e){yr.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}var ce=_e,Kk=Ut.Graph,ft={addDummyNode:Yk,simplify:pO,asNonCompoundGraph:mO,successorWeights:gO,predecessorWeights:vO,intersectRect:yO,buildLayerMatrix:xO,normalizeRanks:wO,removeEmptyRanks:_O,addBorderNode:bO,maxRank:Xk,partition:SO,time:EO,notime:kO};function Yk(e,t,n,r){var i;do i=ce.uniqueId(r);while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function pO(e){var t=new Kk().setGraph(e.graph());return ce.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),ce.forEach(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),t}function mO(e){var t=new Kk({multigraph:e.isMultigraph()}).setGraph(e.graph());return ce.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),ce.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t}function gO(e){var t=ce.map(e.nodes(),function(n){var r={};return ce.forEach(e.outEdges(n),function(i){r[i.w]=(r[i.w]||0)+e.edge(i).weight}),r});return ce.zipObject(e.nodes(),t)}function vO(e){var t=ce.map(e.nodes(),function(n){var r={};return ce.forEach(e.inEdges(n),function(i){r[i.v]=(r[i.v]||0)+e.edge(i).weight}),r});return ce.zipObject(e.nodes(),t)}function yO(e,t){var n=e.x,r=e.y,i=t.x-n,o=t.y-r,s=e.width/2,a=e.height/2;if(!i&&!o)throw new Error("Not possible to find intersection inside of the rectangle");var l,u;return Math.abs(o)*s>Math.abs(i)*a?(o<0&&(a=-a),l=a*i/o,u=a):(i<0&&(s=-s),l=s,u=s*o/i),{x:n+l,y:r+u}}function xO(e){var t=ce.map(ce.range(Xk(e)+1),function(){return[]});return ce.forEach(e.nodes(),function(n){var r=e.node(n),i=r.rank;ce.isUndefined(i)||(t[i][r.order]=n)}),t}function wO(e){var t=ce.min(ce.map(e.nodes(),function(n){return e.node(n).rank}));ce.forEach(e.nodes(),function(n){var r=e.node(n);ce.has(r,"rank")&&(r.rank-=t)})}function _O(e){var t=ce.min(ce.map(e.nodes(),function(o){return e.node(o).rank})),n=[];ce.forEach(e.nodes(),function(o){var s=e.node(o).rank-t;n[s]||(n[s]=[]),n[s].push(o)});var r=0,i=e.graph().nodeRankFactor;ce.forEach(n,function(o,s){ce.isUndefined(o)&&s%i!==0?--r:r&&ce.forEach(o,function(a){e.node(a).rank+=r})})}function bO(e,t,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),Yk(e,"border",i,t)}function Xk(e){return ce.max(ce.map(e.nodes(),function(t){var n=e.node(t).rank;if(!ce.isUndefined(n))return n}))}function SO(e,t){var n={lhs:[],rhs:[]};return ce.forEach(e,function(r){t(r)?n.lhs.push(r):n.rhs.push(r)}),n}function EO(e,t){var n=ce.now();try{return t()}finally{console.log(e+" time: "+(ce.now()-n)+"ms")}}function kO(e,t){return t()}var Qk=_e,NO=ft,CO={run:jO,undo:RO};function jO(e){e.graph().dummyChains=[],Qk.forEach(e.edges(),function(t){TO(e,t)})}function TO(e,t){var n=t.v,r=e.node(n).rank,i=t.w,o=e.node(i).rank,s=t.name,a=e.edge(t),l=a.labelRank;if(o!==r+1){e.removeEdge(t);var u,c,f;for(f=0,++r;r<o;++f,++r)a.points=[],c={width:0,height:0,edgeLabel:a,edgeObj:t,rank:r},u=NO.addDummyNode(e,"edge",c,"_d"),r===l&&(c.width=a.width,c.height=a.height,c.dummy="edge-label",c.labelpos=a.labelpos),e.setEdge(n,u,{weight:a.weight},s),f===0&&e.graph().dummyChains.push(u),n=u;e.setEdge(n,i,{weight:a.weight},s)}}function RO(e){Qk.forEach(e.graph().dummyChains,function(t){var n=e.node(t),r=n.edgeLabel,i;for(e.setEdge(n.edgeObj,r);n.dummy;)i=e.successors(t)[0],e.removeNode(t),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),t=i,n=e.node(t)})}var Ns=_e,gl={longestPath:IO,slack:PO};function IO(e){var t={};function n(r){var i=e.node(r);if(Ns.has(t,r))return i.rank;t[r]=!0;var o=Ns.min(Ns.map(e.outEdges(r),function(s){return n(s.w)-e.edge(s).minlen}));return(o===Number.POSITIVE_INFINITY||o===void 0||o===null)&&(o=0),i.rank=o}Ns.forEach(e.sources(),n)}function PO(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var Na=_e,AO=Ut.Graph,Ca=gl.slack,Zk=MO;function MO(e){var t=new AO({directed:!1}),n=e.nodes()[0],r=e.nodeCount();t.setNode(n,{});for(var i,o;qO(t,e)<r;)i=OO(t,e),o=t.hasNode(i.v)?Ca(e,i):-Ca(e,i),LO(t,e,o);return t}function qO(e,t){function n(r){Na.forEach(t.nodeEdges(r),function(i){var o=i.v,s=r===o?i.w:o;!e.hasNode(s)&&!Ca(t,i)&&(e.setNode(s,{}),e.setEdge(r,s,{}),n(s))})}return Na.forEach(e.nodes(),n),e.nodeCount()}function OO(e,t){return Na.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return Ca(t,n)})}function LO(e,t,n){Na.forEach(e.nodes(),function(r){t.node(r).rank+=n})}var kn=_e,zO=Zk,DO=gl.slack,FO=gl.longestPath,$O=Ut.alg.preorder,BO=Ut.alg.postorder,HO=ft.simplify,VO=Or;Or.initLowLimValues=Bg;Or.initCutValues=$g;Or.calcCutValue=Jk;Or.leaveEdge=tN;Or.enterEdge=nN;Or.exchangeEdges=rN;function Or(e){e=HO(e),FO(e);var t=zO(e);Bg(t),$g(t,e);for(var n,r;n=tN(t);)r=nN(t,e,n),rN(t,e,n,r)}function $g(e,t){var n=BO(e,e.nodes());n=n.slice(0,n.length-1),kn.forEach(n,function(r){UO(e,t,r)})}function UO(e,t,n){var r=e.node(n),i=r.parent;e.edge(n,i).cutvalue=Jk(e,t,n)}function Jk(e,t,n){var r=e.node(n),i=r.parent,o=!0,s=t.edge(n,i),a=0;return s||(o=!1,s=t.edge(i,n)),a=s.weight,kn.forEach(t.nodeEdges(n),function(l){var u=l.v===n,c=u?l.w:l.v;if(c!==i){var f=u===o,h=t.edge(l).weight;if(a+=f?h:-h,GO(e,n,c)){var p=e.edge(n,c).cutvalue;a+=f?-p:p}}}),a}function Bg(e,t){arguments.length<2&&(t=e.nodes()[0]),eN(e,{},1,t)}function eN(e,t,n,r,i){var o=n,s=e.node(r);return t[r]=!0,kn.forEach(e.neighbors(r),function(a){kn.has(t,a)||(n=eN(e,t,n,a,r))}),s.low=o,s.lim=n++,i?s.parent=i:delete s.parent,n}function tN(e){return kn.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function nN(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var o=e.node(r),s=e.node(i),a=o,l=!1;o.lim>s.lim&&(a=s,l=!0);var u=kn.filter(t.edges(),function(c){return l===F_(e,e.node(c.v),a)&&l!==F_(e,e.node(c.w),a)});return kn.minBy(u,function(c){return DO(t,c)})}function rN(e,t,n,r){var i=n.v,o=n.w;e.removeEdge(i,o),e.setEdge(r.v,r.w,{}),Bg(e),$g(e,t),WO(e,t)}function WO(e,t){var n=kn.find(e.nodes(),function(i){return!t.node(i).parent}),r=$O(e,n);r=r.slice(1),kn.forEach(r,function(i){var o=e.node(i).parent,s=t.edge(i,o),a=!1;s||(s=t.edge(o,i),a=!0),t.node(i).rank=t.node(o).rank+(a?s.minlen:-s.minlen)})}function GO(e,t,n){return e.hasEdge(t,n)}function F_(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}var KO=gl,iN=KO.longestPath,YO=Zk,XO=VO,QO=ZO;function ZO(e){switch(e.graph().ranker){case"network-simplex":$_(e);break;case"tight-tree":eL(e);break;case"longest-path":JO(e);break;default:$_(e)}}var JO=iN;function eL(e){iN(e),YO(e)}function $_(e){XO(e)}var lm=_e,tL=nL;function nL(e){var t=iL(e);lm.forEach(e.graph().dummyChains,function(n){for(var r=e.node(n),i=r.edgeObj,o=rL(e,t,i.v,i.w),s=o.path,a=o.lca,l=0,u=s[l],c=!0;n!==i.w;){if(r=e.node(n),c){for(;(u=s[l])!==a&&e.node(u).maxRank<r.rank;)l++;u===a&&(c=!1)}if(!c){for(;l<s.length-1&&e.node(u=s[l+1]).minRank<=r.rank;)l++;u=s[l]}e.setParent(n,u),n=e.successors(n)[0]}})}function rL(e,t,n,r){var i=[],o=[],s=Math.min(t[n].low,t[r].low),a=Math.max(t[n].lim,t[r].lim),l,u;l=n;do l=e.parent(l),i.push(l);while(l&&(t[l].low>s||a>t[l].lim));for(u=l,l=r;(l=e.parent(l))!==u;)o.push(l);return{path:i.concat(o.reverse()),lca:u}}function iL(e){var t={},n=0;function r(i){var o=n;lm.forEach(e.children(i),r),t[i]={low:o,lim:n++}}return lm.forEach(e.children(),r),t}var gn=_e,um=ft,oL={run:sL,cleanup:uL};function sL(e){var t=um.addDummyNode(e,"root",{},"_root"),n=aL(e),r=gn.max(gn.values(n))-1,i=2*r+1;e.graph().nestingRoot=t,gn.forEach(e.edges(),function(s){e.edge(s).minlen*=i});var o=lL(e)+1;gn.forEach(e.children(),function(s){oN(e,t,i,o,r,n,s)}),e.graph().nodeRankFactor=i}function oN(e,t,n,r,i,o,s){var a=e.children(s);if(!a.length){s!==t&&e.setEdge(t,s,{weight:0,minlen:n});return}var l=um.addBorderNode(e,"_bt"),u=um.addBorderNode(e,"_bb"),c=e.node(s);e.setParent(l,s),c.borderTop=l,e.setParent(u,s),c.borderBottom=u,gn.forEach(a,function(f){oN(e,t,n,r,i,o,f);var h=e.node(f),p=h.borderTop?h.borderTop:f,y=h.borderBottom?h.borderBottom:f,v=h.borderTop?r:2*r,_=p!==y?1:i-o[s]+1;e.setEdge(l,p,{weight:v,minlen:_,nestingEdge:!0}),e.setEdge(y,u,{weight:v,minlen:_,nestingEdge:!0})}),e.parent(s)||e.setEdge(t,l,{weight:0,minlen:i+o[s]})}function aL(e){var t={};function n(r,i){var o=e.children(r);o&&o.length&&gn.forEach(o,function(s){n(s,i+1)}),t[r]=i}return gn.forEach(e.children(),function(r){n(r,1)}),t}function lL(e){return gn.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}function uL(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,gn.forEach(e.edges(),function(n){var r=e.edge(n);r.nestingEdge&&e.removeEdge(n)})}var Gh=_e,cL=ft,fL=dL;function dL(e){function t(n){var r=e.children(n),i=e.node(n);if(r.length&&Gh.forEach(r,t),Gh.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,s=i.maxRank+1;o<s;++o)B_(e,"borderLeft","_bl",n,i,o),B_(e,"borderRight","_br",n,i,o)}}Gh.forEach(e.children(),t)}function B_(e,t,n,r,i,o){var s={width:0,height:0,rank:o,borderType:t},a=i[t][o-1],l=cL.addDummyNode(e,"border",s,n);i[t][o]=l,e.setParent(l,r),a&&e.setEdge(a,l,{weight:1})}var Jt=_e,hL={adjust:pL,undo:mL};function pL(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&sN(e)}function mL(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&gL(e),(t==="lr"||t==="rl")&&(vL(e),sN(e))}function sN(e){Jt.forEach(e.nodes(),function(t){H_(e.node(t))}),Jt.forEach(e.edges(),function(t){H_(e.edge(t))})}function H_(e){var t=e.width;e.width=e.height,e.height=t}function gL(e){Jt.forEach(e.nodes(),function(t){Kh(e.node(t))}),Jt.forEach(e.edges(),function(t){var n=e.edge(t);Jt.forEach(n.points,Kh),Jt.has(n,"y")&&Kh(n)})}function Kh(e){e.y=-e.y}function vL(e){Jt.forEach(e.nodes(),function(t){Yh(e.node(t))}),Jt.forEach(e.edges(),function(t){var n=e.edge(t);Jt.forEach(n.points,Yh),Jt.has(n,"x")&&Yh(n)})}function Yh(e){var t=e.x;e.x=e.y,e.y=t}var un=_e,yL=xL;function xL(e){var t={},n=un.filter(e.nodes(),function(a){return!e.children(a).length}),r=un.max(un.map(n,function(a){return e.node(a).rank})),i=un.map(un.range(r+1),function(){return[]});function o(a){if(!un.has(t,a)){t[a]=!0;var l=e.node(a);i[l.rank].push(a),un.forEach(e.successors(a),o)}}var s=un.sortBy(n,function(a){return e.node(a).rank});return un.forEach(s,o),i}var Pn=_e,wL=_L;function _L(e,t){for(var n=0,r=1;r<t.length;++r)n+=bL(e,t[r-1],t[r]);return n}function bL(e,t,n){for(var r=Pn.zipObject(n,Pn.map(n,function(u,c){return c})),i=Pn.flatten(Pn.map(t,function(u){return Pn.sortBy(Pn.map(e.outEdges(u),function(c){return{pos:r[c.w],weight:e.edge(c).weight}}),"pos")}),!0),o=1;o<n.length;)o<<=1;var s=2*o-1;o-=1;var a=Pn.map(new Array(s),function(){return 0}),l=0;return Pn.forEach(i.forEach(function(u){var c=u.pos+o;a[c]+=u.weight;for(var f=0;c>0;)c%2&&(f+=a[c+1]),c=c-1>>1,a[c]+=u.weight;l+=u.weight*f})),l}var V_=_e,SL=EL;function EL(e,t){return V_.map(t,function(n){var r=e.inEdges(n);if(r.length){var i=V_.reduce(r,function(o,s){var a=e.edge(s),l=e.node(s.v);return{sum:o.sum+a.weight*l.order,weight:o.weight+a.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:n}})}var mt=_e,kL=NL;function NL(e,t){var n={};mt.forEach(e,function(i,o){var s=n[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:o};mt.isUndefined(i.barycenter)||(s.barycenter=i.barycenter,s.weight=i.weight)}),mt.forEach(t.edges(),function(i){var o=n[i.v],s=n[i.w];!mt.isUndefined(o)&&!mt.isUndefined(s)&&(s.indegree++,o.out.push(n[i.w]))});var r=mt.filter(n,function(i){return!i.indegree});return CL(r)}function CL(e){var t=[];function n(o){return function(s){s.merged||(mt.isUndefined(s.barycenter)||mt.isUndefined(o.barycenter)||s.barycenter>=o.barycenter)&&jL(o,s)}}function r(o){return function(s){s.in.push(o),--s.indegree===0&&e.push(s)}}for(;e.length;){var i=e.pop();t.push(i),mt.forEach(i.in.reverse(),n(i)),mt.forEach(i.out,r(i))}return mt.map(mt.filter(t,function(o){return!o.merged}),function(o){return mt.pick(o,["vs","i","barycenter","weight"])})}function jL(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}var Ji=_e,TL=ft,RL=IL;function IL(e,t){var n=TL.partition(e,function(c){return Ji.has(c,"barycenter")}),r=n.lhs,i=Ji.sortBy(n.rhs,function(c){return-c.i}),o=[],s=0,a=0,l=0;r.sort(PL(!!t)),l=U_(o,i,l),Ji.forEach(r,function(c){l+=c.vs.length,o.push(c.vs),s+=c.barycenter*c.weight,a+=c.weight,l=U_(o,i,l)});var u={vs:Ji.flatten(o,!0)};return a&&(u.barycenter=s/a,u.weight=a),u}function U_(e,t,n){for(var r;t.length&&(r=Ji.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}function PL(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}var $n=_e,AL=SL,ML=kL,qL=RL,OL=aN;function aN(e,t,n,r){var i=e.children(t),o=e.node(t),s=o?o.borderLeft:void 0,a=o?o.borderRight:void 0,l={};s&&(i=$n.filter(i,function(y){return y!==s&&y!==a}));var u=AL(e,i);$n.forEach(u,function(y){if(e.children(y.v).length){var v=aN(e,y.v,n,r);l[y.v]=v,$n.has(v,"barycenter")&&zL(y,v)}});var c=ML(u,n);LL(c,l);var f=qL(c,r);if(s&&(f.vs=$n.flatten([s,f.vs,a],!0),e.predecessors(s).length)){var h=e.node(e.predecessors(s)[0]),p=e.node(e.predecessors(a)[0]);$n.has(f,"barycenter")||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+h.order+p.order)/(f.weight+2),f.weight+=2}return f}function LL(e,t){$n.forEach(e,function(n){n.vs=$n.flatten(n.vs.map(function(r){return t[r]?t[r].vs:r}),!0)})}function zL(e,t){$n.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var eo=_e,DL=Ut.Graph,FL=$L;function $L(e,t,n){var r=BL(e),i=new DL({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(o){return e.node(o)});return eo.forEach(e.nodes(),function(o){var s=e.node(o),a=e.parent(o);(s.rank===t||s.minRank<=t&&t<=s.maxRank)&&(i.setNode(o),i.setParent(o,a||r),eo.forEach(e[n](o),function(l){var u=l.v===o?l.w:l.v,c=i.edge(u,o),f=eo.isUndefined(c)?0:c.weight;i.setEdge(u,o,{weight:e.edge(l).weight+f})}),eo.has(s,"minRank")&&i.setNode(o,{borderLeft:s.borderLeft[t],borderRight:s.borderRight[t]}))}),i}function BL(e){for(var t;e.hasNode(t=eo.uniqueId("_root")););return t}var HL=_e,VL=UL;function UL(e,t,n){var r={},i;HL.forEach(n,function(o){for(var s=e.parent(o),a,l;s;){if(a=e.parent(s),a?(l=r[a],r[a]=s):(l=i,i=s),l&&l!==s){t.setEdge(l,s);return}s=a}})}var Jn=_e,WL=yL,GL=wL,KL=OL,YL=FL,XL=VL,QL=Ut.Graph,W_=ft,ZL=JL;function JL(e){var t=W_.maxRank(e),n=G_(e,Jn.range(1,t+1),"inEdges"),r=G_(e,Jn.range(t-1,-1,-1),"outEdges"),i=WL(e);K_(e,i);for(var o=Number.POSITIVE_INFINITY,s,a=0,l=0;l<4;++a,++l){ez(a%2?n:r,a%4>=2),i=W_.buildLayerMatrix(e);var u=GL(e,i);u<o&&(l=0,s=Jn.cloneDeep(i),o=u)}K_(e,s)}function G_(e,t,n){return Jn.map(t,function(r){return YL(e,r,n)})}function ez(e,t){var n=new QL;Jn.forEach(e,function(r){var i=r.graph().root,o=KL(r,i,n,t);Jn.forEach(o.vs,function(s,a){r.node(s).order=a}),XL(r,n,o.vs)})}function K_(e,t){Jn.forEach(t,function(n){Jn.forEach(n,function(r,i){e.node(r).order=i})})}var J=_e,tz=Ut.Graph,nz=ft,rz={positionX:pz};function iz(e,t){var n={};function r(i,o){var s=0,a=0,l=i.length,u=J.last(o);return J.forEach(o,function(c,f){var h=sz(e,c),p=h?e.node(h).order:l;(h||c===u)&&(J.forEach(o.slice(a,f+1),function(y){J.forEach(e.predecessors(y),function(v){var _=e.node(v),m=_.order;(m<s||p<m)&&!(_.dummy&&e.node(y).dummy)&&lN(n,v,y)})}),a=f+1,s=p)}),o}return J.reduce(t,r),n}function oz(e,t){var n={};function r(o,s,a,l,u){var c;J.forEach(J.range(s,a),function(f){c=o[f],e.node(c).dummy&&J.forEach(e.predecessors(c),function(h){var p=e.node(h);p.dummy&&(p.order<l||p.order>u)&&lN(n,h,c)})})}function i(o,s){var a=-1,l,u=0;return J.forEach(s,function(c,f){if(e.node(c).dummy==="border"){var h=e.predecessors(c);h.length&&(l=e.node(h[0]).order,r(s,u,f,a,l),u=f,a=l)}r(s,u,s.length,l,o.length)}),s}return J.reduce(t,i),n}function sz(e,t){if(e.node(t).dummy)return J.find(e.predecessors(t),function(n){return e.node(n).dummy})}function lN(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function az(e,t,n){if(t>n){var r=t;t=n,n=r}return J.has(e[t],n)}function lz(e,t,n,r){var i={},o={},s={};return J.forEach(t,function(a){J.forEach(a,function(l,u){i[l]=l,o[l]=l,s[l]=u})}),J.forEach(t,function(a){var l=-1;J.forEach(a,function(u){var c=r(u);if(c.length){c=J.sortBy(c,function(v){return s[v]});for(var f=(c.length-1)/2,h=Math.floor(f),p=Math.ceil(f);h<=p;++h){var y=c[h];o[u]===u&&l<s[y]&&!az(n,u,y)&&(o[y]=u,o[u]=i[u]=i[y],l=s[y])}}})}),{root:i,align:o}}function uz(e,t,n,r,i){var o={},s=cz(e,t,n,i),a=i?"borderLeft":"borderRight";function l(f,h){for(var p=s.nodes(),y=p.pop(),v={};y;)v[y]?f(y):(v[y]=!0,p.push(y),p=p.concat(h(y))),y=p.pop()}function u(f){o[f]=s.inEdges(f).reduce(function(h,p){return Math.max(h,o[p.v]+s.edge(p))},0)}function c(f){var h=s.outEdges(f).reduce(function(y,v){return Math.min(y,o[v.w]-s.edge(v))},Number.POSITIVE_INFINITY),p=e.node(f);h!==Number.POSITIVE_INFINITY&&p.borderType!==a&&(o[f]=Math.max(o[f],h))}return l(u,s.predecessors.bind(s)),l(c,s.successors.bind(s)),J.forEach(r,function(f){o[f]=o[n[f]]}),o}function cz(e,t,n,r){var i=new tz,o=e.graph(),s=mz(o.nodesep,o.edgesep,r);return J.forEach(t,function(a){var l;J.forEach(a,function(u){var c=n[u];if(i.setNode(c),l){var f=n[l],h=i.edge(f,c);i.setEdge(f,c,Math.max(s(e,u,l),h||0))}l=u})}),i}function fz(e,t){return J.minBy(J.values(t),function(n){var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return J.forIn(n,function(o,s){var a=gz(e,s)/2;r=Math.max(o+a,r),i=Math.min(o-a,i)}),r-i})}function dz(e,t){var n=J.values(t),r=J.min(n),i=J.max(n);J.forEach(["u","d"],function(o){J.forEach(["l","r"],function(s){var a=o+s,l=e[a],u;if(l!==t){var c=J.values(l);u=s==="l"?r-J.min(c):i-J.max(c),u&&(e[a]=J.mapValues(l,function(f){return f+u}))}})})}function hz(e,t){return J.mapValues(e.ul,function(n,r){if(t)return e[t.toLowerCase()][r];var i=J.sortBy(J.map(e,r));return(i[1]+i[2])/2})}function pz(e){var t=nz.buildLayerMatrix(e),n=J.merge(iz(e,t),oz(e,t)),r={},i;J.forEach(["u","d"],function(s){i=s==="u"?t:J.values(t).reverse(),J.forEach(["l","r"],function(a){a==="r"&&(i=J.map(i,function(f){return J.values(f).reverse()}));var l=(s==="u"?e.predecessors:e.successors).bind(e),u=lz(e,i,n,l),c=uz(e,i,u.root,u.align,a==="r");a==="r"&&(c=J.mapValues(c,function(f){return-f})),r[s+a]=c})});var o=fz(e,r);return dz(r,o),hz(r,e.graph().align)}function mz(e,t,n){return function(r,i,o){var s=r.node(i),a=r.node(o),l=0,u;if(l+=s.width/2,J.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":u=-s.width/2;break;case"r":u=s.width/2;break}if(u&&(l+=n?u:-u),u=0,l+=(s.dummy?t:e)/2,l+=(a.dummy?t:e)/2,l+=a.width/2,J.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":u=a.width/2;break;case"r":u=-a.width/2;break}return u&&(l+=n?u:-u),u=0,l}}function gz(e,t){return e.node(t).width}var to=_e,uN=ft,vz=rz.positionX,yz=xz;function xz(e){e=uN.asNonCompoundGraph(e),wz(e),to.forEach(vz(e),function(t,n){e.node(n).x=t})}function wz(e){var t=uN.buildLayerMatrix(e),n=e.graph().ranksep,r=0;to.forEach(t,function(i){var o=to.max(to.map(i,function(s){return e.node(s).height}));to.forEach(i,function(s){e.node(s).y=r+o/2}),r+=o+n})}var ee=_e,Y_=cO,X_=CO,_z=QO,bz=ft.normalizeRanks,Sz=tL,Ez=ft.removeEmptyRanks,Q_=oL,kz=fL,Z_=hL,Nz=ZL,Cz=yz,rr=ft,jz=Ut.Graph,Tz=Rz;function Rz(e,t){var n=t&&t.debugTiming?rr.time:rr.notime;n("layout",function(){var r=n("  buildLayoutGraph",function(){return $z(e)});n("  runLayout",function(){Iz(r,n)}),n("  updateInputGraph",function(){Pz(e,r)})})}function Iz(e,t){t("    makeSpaceForEdgeLabels",function(){Bz(e)}),t("    removeSelfEdges",function(){Qz(e)}),t("    acyclic",function(){Y_.run(e)}),t("    nestingGraph.run",function(){Q_.run(e)}),t("    rank",function(){_z(rr.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){Hz(e)}),t("    removeEmptyRanks",function(){Ez(e)}),t("    nestingGraph.cleanup",function(){Q_.cleanup(e)}),t("    normalizeRanks",function(){bz(e)}),t("    assignRankMinMax",function(){Vz(e)}),t("    removeEdgeLabelProxies",function(){Uz(e)}),t("    normalize.run",function(){X_.run(e)}),t("    parentDummyChains",function(){Sz(e)}),t("    addBorderSegments",function(){kz(e)}),t("    order",function(){Nz(e)}),t("    insertSelfEdges",function(){Zz(e)}),t("    adjustCoordinateSystem",function(){Z_.adjust(e)}),t("    position",function(){Cz(e)}),t("    positionSelfEdges",function(){Jz(e)}),t("    removeBorderNodes",function(){Xz(e)}),t("    normalize.undo",function(){X_.undo(e)}),t("    fixupEdgeLabelCoords",function(){Kz(e)}),t("    undoCoordinateSystem",function(){Z_.undo(e)}),t("    translateGraph",function(){Wz(e)}),t("    assignNodeIntersects",function(){Gz(e)}),t("    reversePoints",function(){Yz(e)}),t("    acyclic.undo",function(){Y_.undo(e)})}function Pz(e,t){ee.forEach(e.nodes(),function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))}),ee.forEach(e.edges(),function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,ee.has(i,"x")&&(r.x=i.x,r.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var Az=["nodesep","edgesep","ranksep","marginx","marginy"],Mz={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},qz=["acyclicer","ranker","rankdir","align"],Oz=["width","height"],Lz={width:0,height:0},zz=["minlen","weight","width","height","labeloffset"],Dz={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Fz=["labelpos"];function $z(e){var t=new jz({multigraph:!0,compound:!0}),n=Qh(e.graph());return t.setGraph(ee.merge({},Mz,Xh(n,Az),ee.pick(n,qz))),ee.forEach(e.nodes(),function(r){var i=Qh(e.node(r));t.setNode(r,ee.defaults(Xh(i,Oz),Lz)),t.setParent(r,e.parent(r))}),ee.forEach(e.edges(),function(r){var i=Qh(e.edge(r));t.setEdge(r,ee.merge({},Dz,Xh(i,zz),ee.pick(i,Fz)))}),t}function Bz(e){var t=e.graph();t.ranksep/=2,ee.forEach(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function Hz(e){ee.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i=e.node(t.w),o={rank:(i.rank-r.rank)/2+r.rank,e:t};rr.addDummyNode(e,"edge-proxy",o,"_ep")}})}function Vz(e){var t=0;ee.forEach(e.nodes(),function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=ee.max(t,r.maxRank))}),e.graph().maxRank=t}function Uz(e){ee.forEach(e.nodes(),function(t){var n=e.node(t);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function Wz(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=e.graph(),s=o.marginx||0,a=o.marginy||0;function l(u){var c=u.x,f=u.y,h=u.width,p=u.height;t=Math.min(t,c-h/2),n=Math.max(n,c+h/2),r=Math.min(r,f-p/2),i=Math.max(i,f+p/2)}ee.forEach(e.nodes(),function(u){l(e.node(u))}),ee.forEach(e.edges(),function(u){var c=e.edge(u);ee.has(c,"x")&&l(c)}),t-=s,r-=a,ee.forEach(e.nodes(),function(u){var c=e.node(u);c.x-=t,c.y-=r}),ee.forEach(e.edges(),function(u){var c=e.edge(u);ee.forEach(c.points,function(f){f.x-=t,f.y-=r}),ee.has(c,"x")&&(c.x-=t),ee.has(c,"y")&&(c.y-=r)}),o.width=n-t+s,o.height=i-r+a}function Gz(e){ee.forEach(e.edges(),function(t){var n=e.edge(t),r=e.node(t.v),i=e.node(t.w),o,s;n.points?(o=n.points[0],s=n.points[n.points.length-1]):(n.points=[],o=i,s=r),n.points.unshift(rr.intersectRect(r,o)),n.points.push(rr.intersectRect(i,s))})}function Kz(e){ee.forEach(e.edges(),function(t){var n=e.edge(t);if(ee.has(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function Yz(e){ee.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}function Xz(e){ee.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),o=e.node(ee.last(n.borderLeft)),s=e.node(ee.last(n.borderRight));n.width=Math.abs(s.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}}),ee.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function Qz(e){ee.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function Zz(e){var t=rr.buildLayerMatrix(e);ee.forEach(t,function(n){var r=0;ee.forEach(n,function(i,o){var s=e.node(i);s.order=o+r,ee.forEach(s.selfEdges,function(a){rr.addDummyNode(e,"selfedge",{width:a.label.width,height:a.label.height,rank:s.rank,order:o+ ++r,e:a.e,label:a.label},"_se")}),delete s.selfEdges})})}function Jz(e){ee.forEach(e.nodes(),function(t){var n=e.node(t);if(n.dummy==="selfedge"){var r=e.node(n.e.v),i=r.x+r.width/2,o=r.y,s=n.x-i,a=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*s/3,y:o-a},{x:i+5*s/6,y:o-a},{x:i+s,y:o},{x:i+5*s/6,y:o+a},{x:i+2*s/3,y:o+a}],n.label.x=n.x,n.label.y=n.y}})}function Xh(e,t){return ee.mapValues(ee.pick(e,t),Number)}function Qh(e){var t={};return ee.forEach(e,function(n,r){t[r.toLowerCase()]=n}),t}var Cs=_e,e8=ft,t8=Ut.Graph,n8={debugOrdering:r8};function r8(e){var t=e8.buildLayerMatrix(e),n=new t8({compound:!0,multigraph:!0}).setGraph({});return Cs.forEach(e.nodes(),function(r){n.setNode(r,{label:r}),n.setParent(r,"layer"+e.node(r).rank)}),Cs.forEach(e.edges(),function(r){n.setEdge(r.v,r.w,{},r.name)}),Cs.forEach(t,function(r,i){var o="layer"+i;n.setNode(o,{rank:"same"}),Cs.reduce(r,function(s,a){return n.setEdge(s,a,{style:"invis"}),a})}),n}var i8="0.8.5",o8={graphlib:Ut,layout:Tz,debug:n8,util:{time:ft.time,notime:ft.notime},version:i8};const J_=cm(o8),eb=(e,t)=>{const n=new J_.graphlib.Graph;return n.setGraph({rankdir:"TB",align:"UL",nodesep:20,ranksep:70,marginx:100,marginy:30,ranker:"longest-path"}),n.setDefaultEdgeLabel(()=>({})),e.forEach(r=>{n.setNode(r.id,{width:r.data.width??280,height:r.data.height??90})}),t.forEach(r=>{n.setEdge(r.source,r.target)}),J_.layout(n),{nodes:e.map(r=>{const i=n.node(r.id);return{...r,targetPosition:X.Top,sourcePosition:X.Bottom,position:{x:i.x-(r.data.width??280)/2,y:i.y-(r.data.height??90)/2}}}),edges:t}},tb=(e,t,n)=>{let r=[],i=[],o=null,s=null,a=[];const l=n.theme||"industrial";return e.forEach((u,c)=>{var y,v;if((u.level||1)!==1)return;const f=280;let h=95;u.state==="active"&&u.stations&&(h+=35);const p=t===u.id;if(r.push({id:u.id,type:"documentNode",data:{...u,width:f,height:h,isExpanded:p,...n},draggable:!1,connectable:!1,position:{x:0,y:0},zIndex:p?1e3:0}),o){const _=(y=e[c-1])==null?void 0:y.state;i.push({id:"e-"+o+"-"+u.id,source:o,target:u.id,type:"smoothstep",animated:_==="active",style:{stroke:U2(_,l),strokeWidth:3}})}((v=u.children)==null?void 0:v.length)>0&&(s=u.id,a=u.children),o=u.id}),{nodes:r,edges:i,epicBacklogId:s,epicChildren:a}},nb=(e,t,n,r,i)=>{const{nodes:o,edges:s}=e;if(!t||!n.length)return{nodes:o,edges:s};const a=o.find(x=>x.id===t);if(!a)return{nodes:o,edges:s};const l=a.position.x,u=a.position.y+(a.data.height||95),c=a.data.state,f=i.theme||"industrial",h=U2(c,f),p=c==="active",y=Mt.EPIC_HEIGHT+Mt.EPIC_GAP_Y,v=Math.ceil(n.length/Mt.EPICS_PER_ROW),_=l+280*.15,m=50,g={};n.forEach((x,w)=>{const S=Math.floor(w/Mt.EPICS_PER_ROW);g[S]||(g[S]=[]),g[S].push({epic:x,idx:w})});for(let x=0;x<v;x++){const w=g[x]||[];if(w.length===0)continue;const S=u+Mt.EPIC_OFFSET_Y+x*y,k=`junction-row-${x}`;o.push({id:k,type:"waypoint",position:{x:_,y:S-m},draggable:!1,connectable:!1,selectable:!1}),x===0?s.push({id:`e-spine-drop-${x}`,source:t,target:k,type:"straight",animated:p,style:{stroke:h,strokeWidth:2}}):s.push({id:`e-spine-${x-1}-to-${x}`,source:`junction-row-${x-1}`,target:k,type:"straight",animated:p,style:{stroke:h,strokeWidth:2}}),w.forEach(({epic:N,idx:j})=>{const R=j%Mt.EPICS_PER_ROW,M=l+Mt.EPIC_OFFSET_X+R*(Mt.EPIC_WIDTH+Mt.EPIC_GAP_X),q=S,F=r===N.id;o.push({id:N.id,type:"documentNode",data:{...N,width:Mt.EPIC_WIDTH,height:Mt.EPIC_HEIGHT,isExpanded:F,...i},draggable:!1,connectable:!1,position:{x:M,y:q},targetPosition:X.Top,sourcePosition:X.Bottom,zIndex:F?1e3:0}),s.push({id:`e-branch-${N.id}`,source:k,target:N.id,type:"smoothstep",pathOptions:{borderRadius:20},animated:p,style:{stroke:h,strokeWidth:2}})})}return{nodes:o,edges:s}},s8={queued:"queued",blocked:"queued",assembling:"active",binding:"active",auditing:"active",remediating:"active",awaiting_operator:"active",stabilized:"stabilized",halted:"queued"},rb={pgc:"PGC",bind:"BIND",asm:"ASM",aud:"AUD",rem:"REM",done:"DONE"};function a8(e){const t={};for(const n of e.projects)t[n.id]={id:n.id,projectId:n.project_id,name:n.name,description:n.description||"",status:n.status==="active"?"active":n.is_archived?"complete":"queued",icon:n.icon,createdAt:n.created_at,isArchived:n.is_archived||!1};return t}function l8(e,t=[]){const n=[],r=[],i=[];for(const o of e.tracks){const s=u8(o,t);o.scope==="epic"?i.push(s):r.push(s)}for(const o of r)o.id==="epic_backlog"&&i.length>0&&(o.children=i.map(s=>({...s,level:2}))),n.push(o);return n}function u8(e,t=[]){const n=s8[e.state]||"queued",r=e.state==="awaiting_operator",i=t.find(a=>a.document_type===e.document_type);let o=null;(n==="active"||r)&&(o=c8(e.stations,e.state));let s=null;return i&&i.questions&&(s=i.questions.map((a,l)=>({id:a.id||`q${l+1}`,text:a.question||a.text||a,required:a.required!==!1}))),{id:e.document_type,name:e.document_name||f8(e.document_type),desc:e.description||"",state:n,intent:"mandatory",level:1,stations:o,questions:s,interruptId:i==null?void 0:i.id,blockedBy:e.blocked_by||[]}}function c8(e,t){if(!e||e.length===0){const n=t==="awaiting_operator"?"pgc":t==="assembling"?"asm":t==="binding"?"pgc":t==="auditing"?"aud":null;return ru.map(r=>({id:r,label:rb[r]||r.toUpperCase(),state:n===r?"active":ru.indexOf(r)<ru.indexOf(n)?"complete":"pending",needs_input:r==="pgc"&&t==="awaiting_operator"}))}return e.map(n=>({id:n.station,label:rb[n.station]||n.station.toUpperCase(),state:n.state||"pending",needs_input:n.needs_input||!1}))}function f8(e){return e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function d8({includeArchived:e=!1}={}){const[t,n]=E.useState({}),[r,i]=E.useState(!0),[o,s]=E.useState(null),a=E.useCallback(async()=>{i(!0),s(null);try{const u=await Ae.getProjects({includeArchived:e}),c=a8(u);n(c)}catch(u){s(u.message),console.error("Failed to fetch projects:",u)}finally{i(!1)}},[e]),l=E.useCallback(async u=>{try{const c=await Ae.createProject({name:u,description:""});return n(f=>({...f,[c.id]:{id:c.id,projectId:c.project_id,name:c.name,description:c.description||"",status:"active",icon:c.icon,createdAt:c.created_at}})),c}catch(c){throw s(c.message),console.error("Failed to create project:",c),c}},[]);return E.useEffect(()=>{a()},[a]),{projects:t,loading:r,error:o,addProject:l,refresh:a}}function h8(e){const[t,n]=E.useState([]),[r,i]=E.useState("idle"),[o,s]=E.useState([]),[a,l]=E.useState(!0),[u,c]=E.useState(null),[f,h]=E.useState(!1),p=E.useRef(null),y=E.useRef(null),v=E.useCallback(async()=>{if(e)try{l(!0),c(null);const[w,S]=await Promise.all([Ae.getProductionStatus(e),Ae.getProjectInterrupts(e).catch(()=>[])]);s(S),i(w.line_state),n(l8(w,S))}catch(w){c(w.message),console.error("Failed to fetch production status:",w)}finally{l(!1)}},[e]),_=E.useCallback(()=>{if(!e)return;p.current&&p.current.close();const w=R3(e);p.current=w,w.addEventListener("connected",()=>{h(!0),c(null),console.log(`SSE connected for project ${e}`)}),w.addEventListener("station_transition",S=>{try{const k=JSON.parse(S.data);console.log("Station transition:",k),v()}catch(k){console.error("Failed to parse station_transition:",k)}}),w.addEventListener("line_stopped",S=>{try{const k=JSON.parse(S.data);console.log("Line stopped:",k),i("stopped"),v()}catch(k){console.error("Failed to parse line_stopped:",k)}}),w.addEventListener("production_complete",S=>{try{const k=JSON.parse(S.data);console.log("Production complete:",k),i("complete"),v()}catch(k){console.error("Failed to parse production_complete:",k)}}),w.addEventListener("interrupt_resolved",S=>{try{const k=JSON.parse(S.data);console.log("Interrupt resolved:",k),v()}catch(k){console.error("Failed to parse interrupt_resolved:",k)}}),w.addEventListener("track_started",S=>{try{const k=JSON.parse(S.data);console.log("Track started:",k),i("active"),v()}catch(k){console.error("Failed to parse track_started:",k)}}),w.onerror=S=>{console.error("SSE error:",S),h(!1),c("Connection lost"),w.close(),y.current=setTimeout(()=>{console.log("Attempting SSE reconnect..."),_()},3e3)}},[e,v]),m=E.useCallback(()=>{y.current&&clearTimeout(y.current),p.current&&(p.current.close(),p.current=null),h(!1)},[]),g=E.useCallback(async(w,S)=>{try{await Ae.resolveInterrupt(w,{answers:S}),await v()}catch(k){throw console.error("Failed to resolve interrupt:",k),k}},[v]),x=E.useCallback(async(w=null)=>{try{await Ae.startProduction(e,w),i("active"),await v()}catch(S){throw console.error("Failed to start production:",S),S}},[e,v]);return E.useEffect(()=>(v(),_(),()=>m()),[v,_,m]),{data:t,lineState:r,interrupts:o,loading:a,error:u,connected:f,refresh:v,resolveInterrupt:g,startProduction:x}}const ib="combine-theme";function cN(e="industrial"){const[t,n]=E.useState(()=>{if(typeof window>"u")return e;const o=localStorage.getItem(ib);return o&&Fn.includes(o)?o:e});E.useEffect(()=>{localStorage.setItem(ib,t)},[t]);const r=E.useCallback(o=>{Fn.includes(o)&&n(o)},[]),i=E.useCallback(()=>{n(o=>{const s=Fn.indexOf(o);return Fn[(s+1)%Fn.length]})},[]);return{theme:t,setTheme:r,cycleTheme:i}}function p8(){const[e,t]=E.useState(null),[n,r]=E.useState("idle"),[i,o]=E.useState([]),[s,a]=E.useState(null),[l,u]=E.useState(null),[c,f]=E.useState({}),[h,p]=E.useState(0),[y,v]=E.useState([]),[_,m]=E.useState(!1),[g,x]=E.useState(null),[w,S]=E.useState(null),[k,N]=E.useState(null),[j,R]=E.useState(!1),[M,q]=E.useState(!1),F=E.useRef(null),L=E.useRef(!0);E.useEffect(()=>(L.current=!0,()=>{L.current=!1,F.current&&F.current.close()}),[]);const b=E.useCallback(A=>{L.current&&(r(A.phase),o(A.messages||[]),a(A.pending_prompt),u(A.pending_choices),f(A.interpretation||{}),p(A.confidence||0),v(A.missing_fields||[]),m(A.can_initialize||!1),x(A.gate_outcome),S(A.project))},[]),P=E.useCallback(async()=>{N(null),R(!0);try{const A=await Ae.startIntake();if(!L.current)return;t(A.execution_id),r(A.phase||"describe"),a(A.pending_prompt),o([]),f({}),S(null),x(null)}catch(A){if(!L.current)return;N(A.message||"Failed to start intake")}finally{L.current&&R(!1)}},[]),T=E.useCallback(async A=>{if(!e||!A.trim())return;N(null),q(!0);const D={role:"user",content:A};o(B=>[...B,D]);try{const B=await Ae.submitIntakeMessage(e,A);if(!L.current)return;b(B)}catch(B){if(!L.current)return;o(V=>V.filter(K=>K!==D)),N(B.message||"Failed to submit message")}finally{L.current&&q(!1)}},[e,b]),z=E.useCallback(async(A,D)=>{if(e){N(null),f(B=>({...B,[A]:{value:D,source:"user",locked:!0}}));try{const B=await Ae.updateIntakeField(e,A,D);if(!L.current)return;b(B)}catch(B){if(!L.current)return;N(B.message||"Failed to update field");const V=await Ae.getIntakeState(e);L.current&&b(V)}}},[e,b]),I=E.useCallback(async()=>{if(!(!e||!_)){N(null),R(!0);try{const A=await Ae.initializeIntake(e);if(!L.current)return;b(A),A.phase==="generating"&&C()}catch(A){if(!L.current)return;N(A.message||"Failed to initialize project"),R(!1)}}},[e,_,b]),C=E.useCallback(()=>{F.current&&F.current.close();const A=I3(e);F.current=A,A.addEventListener("started",D=>{if(!L.current)return;const B=JSON.parse(D.data);console.log("Intake started:",B)}),A.addEventListener("progress",D=>{if(!L.current)return;const B=JSON.parse(D.data);console.log("Intake progress:",B.current_node)}),A.addEventListener("complete",async D=>{if(!L.current)return;const B=JSON.parse(D.data);console.log("Intake complete:",B),A.close(),F.current=null,r("complete"),x(B.gate_outcome),S(B.project),R(!1)}),A.addEventListener("error",D=>{if(L.current&&A.readyState!==EventSource.CLOSED){try{const B=JSON.parse(D.data);N(B.message||"Generation failed")}catch{N("Connection lost during generation")}A.close(),F.current=null,R(!1)}}),A.onerror=()=>{L.current&&A.readyState===EventSource.CLOSED&&(F.current=null,R(!1))}},[e]),O=E.useCallback(()=>{F.current&&(F.current.close(),F.current=null),t(null),r("idle"),o([]),a(null),u(null),f({}),p(0),v([]),m(!1),x(null),S(null),N(null),R(!1),q(!1)},[]);return{executionId:e,phase:n,messages:i,pendingPrompt:s,pendingChoices:l,interpretation:c,confidence:h,missingFields:y,canInitialize:_,gateOutcome:g,project:w,error:k,loading:j,submitting:M,startIntake:P,submitMessage:T,updateField:z,lockAndGenerate:I,reset:O}}const fN=E.createContext(null);function m8({children:e}){const[t,n]=E.useState(null),[r,i]=E.useState(!0),[o,s]=E.useState(null);E.useEffect(()=>{a()},[]);const a=E.useCallback(async()=>{i(!0),s(null);try{const f=await Ae.getMe();f&&f.user?n(f.user):n(null)}catch(f){console.error("Auth check failed:",f),s(f.message),n(null)}finally{i(!1)}},[]),l=E.useCallback(f=>{window.location.href=P3(f)},[]),u=E.useCallback(async()=>{try{await Ae.logout(),n(null),window.location.href="/"}catch(f){console.error("Logout failed:",f),n(null)}},[]),c={user:t,loading:r,error:o,isAuthenticated:!!t,isAdmin:(t==null?void 0:t.is_admin)||!1,login:l,logout:u,checkAuth:a};return d.jsx(fN.Provider,{value:c,children:e})}function Hg(){const e=E.useContext(fN);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}const g8={documentNode:D3,waypoint:F3},v8={industrial:"Industrial",light:"Light",blueprint:"Blueprint"};function y8({projectId:e,projectCode:t,projectName:n,isArchived:r,autoExpandNodeId:i,theme:o,onThemeChange:s,onProjectUpdate:a,onProjectArchive:l,onProjectUnarchive:u,onProjectDelete:c}){const{data:f,lineState:h,loading:p,error:y,connected:v,resolveInterrupt:_}=h8(e),[m,g]=E.useState([]),[x,w]=E.useState(null),[S,k]=E.useState(null),[N,j]=E.useState(null),[R,M]=E.useState(!1),[q,F]=E.useState(""),[L,b]=E.useState(!1),[P,T]=E.useState(!1),z=xg();E.useEffect(()=>{f.length>0&&g(f)},[f]),E.useEffect(()=>{i&&m.length>0&&setTimeout(()=>{w(i),k("questions")},300)},[i,m.length]),E.useEffect(()=>{w(null),k(null)},[e]);const I=E.useCallback(()=>{const U=Fn.indexOf(o);s(Fn[(U+1)%Fn.length])},[o,s]),C=E.useCallback(()=>{F(n||""),M(!0)},[n]),O=E.useCallback(async()=>{if(!q.trim()||q===n){M(!1);return}T(!0);try{await a(e,{name:q.trim()}),M(!1)}catch(U){console.error("Failed to update name:",U)}finally{T(!1)}},[q,n,e,a]),A=E.useCallback(()=>{M(!1),F("")},[]),D=E.useCallback(async()=>{T(!0);try{r?await u(e):await l(e)}catch(U){console.error("Failed to toggle archive:",U)}finally{T(!1)}},[e,r,l,u]),B=E.useCallback(async()=>{T(!0);try{await c(e),b(!1)}catch(U){console.error("Failed to delete:",U)}finally{T(!1)}},[e,c]),V=E.useCallback(U=>{const oe=z.getNode(U);if(oe){const G=window.innerWidth,se=-oe.position.x*.9+G/2-400,Te=-oe.position.y*.9+120;z.setViewport({x:se,y:Te,zoom:.9},{duration:800})}},[z]),K=E.useMemo(()=>({onExpand:(U,oe)=>{w(U),k(oe)},onCollapse:()=>{w(null),k(null),setTimeout(()=>z.fitView({padding:.2,duration:300}),50)},onViewFullDocument:U=>{j(U)},onSubmitQuestions:async(U,oe)=>{console.log("Submitted:",U,oe);const W=m.find(G=>G.id===U);if(W!=null&&W.interruptId)try{await _(W.interruptId,oe)}catch(G){console.error("Failed to submit answers:",G)}w(null),k(null),g(G=>{const se=Te=>Te.map(le=>le.id===U&&le.stations?{...le,stations:le.stations.map(de=>de.id==="pgc"?{...de,state:"complete",needs_input:!1}:de.id==="asm"?{...de,state:"active"}:de)}:le.children?{...le,children:se(le.children)}:le);return se(G)})}}),[z,m,_]),{layoutNodes:Q,layoutEdges:Z}=E.useMemo(()=>{if(m.length===0)return{layoutNodes:[],layoutEdges:[]};const U={...K,expandType:S,theme:o,onZoomToNode:V,projectId:e,projectCode:t},{nodes:oe,edges:W,epicBacklogId:G,epicChildren:se}=tb(m,x,U),Te=eb(oe,W),{nodes:le,edges:de}=nb(Te,G,se,x,U);return{layoutNodes:le.map(ye=>({...ye,data:{...ye.data,expandType:ye.id===x?S:null}})),layoutEdges:de}},[m,x,S,K,o,V,e,t]),[ae,re,ie]=a3(Q),[je,ve,qe]=l3(Z);E.useEffect(()=>{if(m.length===0)return;const U={...K,expandType:S,theme:o,onZoomToNode:V,projectId:e,projectCode:t},{nodes:oe,edges:W,epicBacklogId:G,epicChildren:se}=tb(m,x,U),Te=eb(oe,W),{nodes:le,edges:de}=nb(Te,G,se,x,U),he=le.map(ye=>({...ye,data:{...ye.data,expandType:ye.id===x?S:null}}));re(he),ve(de)},[m,x,S,K,re,ve,o,V,e,t]);const Ie=E.useCallback((U,oe)=>{if(x)return;const W=["queued","active","stabilized"];g(G=>{const se=Te=>Te.map(le=>{var de;if(le.id===oe.id){const he=W[(W.indexOf(le.state)+1)%W.length],ye=(de=le.stations)==null?void 0:de.map(Be=>{var bt;return he==="stabilized"?{...Be,state:"complete",needs_input:!1}:he==="active"?Be.id==="pgc"?{...Be,state:"active",needs_input:!!((bt=le.questions)!=null&&bt.length)}:{...Be,state:"pending"}:{...Be,state:"pending",needs_input:!1}});return{...le,state:he,stations:ye}}return le.children?{...le,children:se(le.children)}:le});return se(G)})},[x]);return p&&m.length===0?d.jsx("div",{className:"flex items-center justify-center h-full",style:{background:"var(--bg-canvas)"},children:d.jsxs("div",{className:"text-center",children:[d.jsx("img",{src:"/logo-light.png",alt:"The Combine",className:"h-12 mx-auto mb-4 animate-pulse"}),d.jsx("p",{style:{color:"var(--text-muted)"},children:"Loading production line..."})]})}):y&&m.length===0?d.jsx("div",{className:"flex items-center justify-center h-full",style:{background:"var(--bg-canvas)"},children:d.jsx("div",{className:"text-center p-6 rounded-lg",style:{background:"var(--bg-panel)"},children:d.jsx("p",{className:"text-red-500 mb-4",children:y})})}):d.jsxs("div",{className:"w-full h-full",children:[d.jsxs($2,{nodes:ae,edges:je,onNodesChange:ie,onEdgesChange:qe,onNodeClick:Ie,nodeTypes:g8,nodesDraggable:!1,nodesConnectable:!1,edgesUpdatable:!1,edgesFocusable:!1,elementsSelectable:!1,fitView:!0,fitViewOptions:{padding:.2},minZoom:.3,maxZoom:1.5,style:{background:"var(--bg-canvas)"},proOptions:{hideAttribution:!0},defaultEdgeOptions:{type:"smoothstep"},children:[d.jsx(fo,{position:"top-left",children:d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"subway-panel backdrop-blur rounded-lg px-4 py-3 border",children:d.jsxs("div",{className:"flex items-center justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:"Production Line"}),d.jsxs("p",{className:"text-xs",style:{color:"var(--text-muted)"},children:[h==="active"&&d.jsx("span",{className:"text-amber-500",children:" Active"}),h==="stopped"&&d.jsx("span",{className:"text-red-500",children:" Stopped"}),h==="complete"&&d.jsx("span",{className:"text-emerald-500",children:" Complete"}),h==="idle"&&d.jsx("span",{children:" Idle"}),!v&&d.jsx("span",{className:"ml-2 text-red-400",children:"(Disconnected)"})]})]}),d.jsx("button",{onClick:I,className:"subway-button px-3 py-1.5 rounded-md text-xs font-medium transition-colors",children:v8[o]})]})}),d.jsx("div",{className:"subway-panel backdrop-blur rounded-lg px-4 py-3 border",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0",style:{background:"var(--state-active-bg)"},children:d.jsx("svg",{className:"w-5 h-5 text-white",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("p",{className:"text-xs font-mono",style:{color:"var(--text-muted)"},children:t||"No Project"}),R?d.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d.jsx("input",{type:"text",value:q,onChange:U=>F(U.target.value),onKeyDown:U=>{U.key==="Enter"&&O(),U.key==="Escape"&&A()},className:"flex-1 px-2 py-1 text-sm rounded border bg-transparent",style:{color:"var(--text-primary)",borderColor:"var(--border-panel)"},autoFocus:!0,disabled:P}),d.jsx("button",{onClick:O,disabled:P,className:"p-1 rounded hover:bg-white/10",title:"Save",children:d.jsx("svg",{className:"w-4 h-4 text-emerald-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M5 13l4 4L19 7"})})}),d.jsx("button",{onClick:A,disabled:P,className:"p-1 rounded hover:bg-white/10",title:"Cancel",children:d.jsx("svg",{className:"w-4 h-4",style:{color:"var(--text-muted)"},viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}):d.jsx("p",{className:"text-sm font-semibold truncate",style:{color:"var(--text-primary)"},children:n||"Untitled Project"})]}),!R&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("button",{onClick:C,className:"p-1.5 rounded hover:bg-white/10 transition-colors",style:{color:"var(--text-muted)"},title:"Edit name",children:d.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"}),d.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),d.jsx("button",{onClick:D,disabled:P,className:"p-1.5 rounded hover:bg-white/10 transition-colors",style:{color:r?"#f59e0b":"var(--text-muted)"},title:r?"Unarchive project":"Archive project",children:d.jsxs("svg",{className:"w-4 h-4 relative",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M21 8v13H3V8M1 3h22v5H1zM10 12h4"}),r&&d.jsx("path",{d:"M4 20L20 4",strokeWidth:"2.5",stroke:"currentColor"})]})}),d.jsx("button",{onClick:()=>b(!0),disabled:P||!r,className:`p-1.5 rounded transition-colors ${r?"hover:bg-red-500/20":""}`,style:{color:"var(--text-muted)",opacity:r?1:.3,cursor:r?"pointer":"not-allowed"},title:r?"Delete project":"Archive project first to delete",children:d.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"})})})]})]})})]})}),d.jsx(y3,{position:"top-right",nodeColor:U=>{var oe,W;return((oe=U.data)==null?void 0:oe.state)==="stabilized"?"#10b981":((W=U.data)==null?void 0:W.state)==="active"?"#f59e0b":"#475569"},maskColor:"rgba(11, 17, 32, 0.85)",style:{background:"var(--bg-panel)",border:"1px solid var(--border-panel)",borderRadius:8},pannable:!0,zoomable:!0}),d.jsx(fo,{position:"bottom-left",children:d.jsxs("div",{className:"subway-panel flex gap-4 text-[10px] backdrop-blur px-4 py-2.5 rounded-lg border",children:[d.jsx("span",{style:{color:"var(--text-muted)"},className:"font-medium",children:"STATE:"}),d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:"var(--state-stabilized-bg)"}}),d.jsx("span",{style:{color:"var(--text-muted)"},children:"Stabilized"})]}),d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:"var(--state-active-bg)"}}),d.jsx("span",{style:{color:"var(--text-muted)"},children:"Active"})]}),d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:"var(--state-queued-bg)"}}),d.jsx("span",{style:{color:"var(--text-muted)"},children:"Queued"})]})]})}),d.jsx(fo,{position:"bottom-right",children:d.jsx("div",{className:"subway-panel text-[10px] px-2 py-1 rounded",style:{color:"var(--text-muted)"},children:"Scroll to zoom | Drag to pan"})})]}),N&&d.jsx(iM,{projectId:e,docTypeId:N,onClose:()=>j(null)}),L&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:d.jsxs("div",{className:"rounded-lg p-6 max-w-sm mx-4",style:{background:"var(--bg-panel)",border:"1px solid var(--border-panel)"},children:[d.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:"var(--text-primary)"},children:"Delete Project?"}),d.jsxs("p",{className:"text-sm mb-4",style:{color:"var(--text-muted)"},children:["This will permanently delete ",d.jsx("strong",{children:n})," and all its documents. This action cannot be undone."]}),d.jsxs("div",{className:"flex gap-3 justify-end",children:[d.jsx("button",{onClick:()=>b(!1),disabled:P,className:"px-4 py-2 rounded text-sm font-medium transition-colors",style:{color:"var(--text-muted)"},children:"Cancel"}),d.jsx("button",{onClick:B,disabled:P,className:"px-4 py-2 rounded text-sm font-medium bg-red-500 text-white hover:bg-red-600 transition-colors",children:P?"Deleting...":"Delete"})]})]})})]})}function js({messages:e,pendingPrompt:t}){const n=E.useRef(null);return E.useEffect(()=>{var r;(r=n.current)==null||r.scrollIntoView({behavior:"smooth"})},[e,t]),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[e.map((r,i)=>d.jsx("div",{className:`flex ${r.role==="user"?"justify-end":"justify-start"}`,children:d.jsx("div",{className:`max-w-[85%] rounded-lg px-3 py-2 text-sm ${r.role==="user"?"bg-emerald-500/20 text-emerald-100 rounded-br-sm":"bg-violet-500/20 text-violet-100 rounded-bl-sm"}`,children:r.content})},i)),t&&d.jsx("div",{className:"flex justify-start",children:d.jsx("div",{className:"max-w-[85%] rounded-lg px-3 py-2 text-sm bg-violet-500/20 text-violet-100 rounded-bl-sm",children:t})}),d.jsx("div",{ref:n})]})}function x8({onSubmit:e,disabled:t,placeholder:n}){const[r,i]=E.useState(""),o=E.useRef(null);E.useEffect(()=>{var l;t||(l=o.current)==null||l.focus()},[t]);const s=l=>{l.key==="Enter"&&!l.shiftKey&&(l.preventDefault(),r.trim()&&!t&&(e(r.trim()),i("")))},a=()=>{r.trim()&&!t&&(e(r.trim()),i(""))};return d.jsxs("div",{className:"p-3 border-t",style:{borderColor:"var(--border-panel)"},children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx("textarea",{ref:o,value:r,onChange:l=>i(l.target.value),onKeyDown:s,disabled:t,placeholder:n||"Type your message...",rows:2,className:"flex-1 rounded-lg px-3 py-2 text-sm resize-none",style:{background:"var(--bg-input)",border:"1px solid var(--border-input)",color:"var(--text-primary)"}}),d.jsx("button",{onClick:a,disabled:t||!r.trim(),className:`px-4 rounded-lg font-medium text-sm transition-colors ${t||!r.trim()?"bg-slate-600 text-slate-400 cursor-not-allowed":"bg-violet-500 text-white hover:bg-violet-400"}`,children:"Send"})]}),d.jsx("p",{className:"text-[10px] mt-1",style:{color:"var(--text-muted)"},children:"Press Enter to send, Shift+Enter for newline"})]})}const w8={project_name:"Project Name",problem_statement:"Problem Statement",project_type:"Project Type"},_8=["project_name","problem_statement","project_type"];function b8({interpretation:e,missingFields:t,canInitialize:n,onUpdateField:r,onInitialize:i,loading:o}){const[s,a]=E.useState(null),[l,u]=E.useState(""),c=(p,y)=>{a(p),u(y)},f=async()=>{s&&l.trim()&&(await r(s,l.trim()),a(null),u(""))},h=()=>{a(null),u("")};return d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide",style:{color:"var(--text-muted)"},children:"Review & Lock"}),t.length>0&&d.jsxs("span",{className:"text-[10px] px-2 py-0.5 rounded bg-amber-500/20 text-amber-400",children:[t.length," missing"]})]}),_8.map(p=>{const y=e[p];if(!y)return null;const v=y.locked,_=t.includes(p),m=s===p;return d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("label",{className:"text-[10px] font-medium",style:{color:"var(--text-muted)"},children:[w8[p]||p,_&&d.jsx("span",{className:"text-amber-400 ml-1",children:"*"})]}),v&&d.jsx("span",{className:"text-[9px] px-1.5 py-0.5 rounded bg-emerald-500/20 text-emerald-400",children:"locked"})]}),m?d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:l,onChange:g=>u(g.target.value),onKeyDown:g=>{g.key==="Enter"&&f(),g.key==="Escape"&&h()},autoFocus:!0,className:"flex-1 rounded px-2 py-1.5 text-xs",style:{background:"var(--bg-input)",border:"1px solid var(--border-input)",color:"var(--text-primary)"}}),d.jsx("button",{onClick:f,className:"px-2 py-1 rounded text-xs bg-emerald-500 text-white",children:"Save"}),d.jsx("button",{onClick:h,className:"px-2 py-1 rounded text-xs",style:{background:"var(--bg-button)",color:"var(--text-muted)"},children:"Cancel"})]}):d.jsx("div",{onClick:()=>!v&&c(p,y.value),className:`rounded px-2 py-1.5 text-xs ${v?"cursor-default":"cursor-pointer hover:bg-white/5"} ${_?"border border-amber-500/50":""}`,style:{background:"var(--bg-input)",color:y.value?"var(--text-primary)":"var(--text-muted)"},children:y.value||"Click to edit..."})]},p)}),d.jsx("button",{onClick:i,disabled:!n||o,className:`w-full py-2.5 rounded-lg text-sm font-medium transition-colors ${n&&!o?"bg-violet-500 text-white hover:bg-violet-400":"bg-slate-600 text-slate-400 cursor-not-allowed"}`,children:o?"Initializing...":"Lock & Initialize Project"}),!n&&d.jsx("p",{className:"text-[10px] text-center",style:{color:"var(--text-muted)"},children:"Fill all required fields to continue"})]})}function S8(){return d.jsxs("div",{className:"flex flex-col items-center justify-center py-8 px-4",children:[d.jsxs("div",{className:"relative w-16 h-16 mb-4",children:[d.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-violet-500/20"}),d.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-t-violet-500 border-r-transparent border-b-transparent border-l-transparent animate-spin"}),d.jsx("div",{className:"absolute inset-3 rounded-full bg-violet-500/20 animate-pulse"})]}),d.jsx("h3",{className:"text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Generating Project"}),d.jsx("p",{className:"text-xs text-center max-w-[200px]",style:{color:"var(--text-muted)"},children:"Creating intake document and running quality checks..."}),d.jsxs("div",{className:"flex gap-1 mt-4",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-violet-500 animate-bounce",style:{animationDelay:"0ms"}}),d.jsx("div",{className:"w-2 h-2 rounded-full bg-violet-500 animate-bounce",style:{animationDelay:"150ms"}}),d.jsx("div",{className:"w-2 h-2 rounded-full bg-violet-500 animate-bounce",style:{animationDelay:"300ms"}})]})]})}const ob={qualified:{icon:"check",iconBg:"bg-emerald-500/20",iconColor:"text-emerald-400",title:"Project Created",description:"Your project is ready for PM Discovery."},not_ready:{icon:"warning",iconBg:"bg-amber-500/20",iconColor:"text-amber-400",title:"Not Ready",description:"Additional information is needed before proceeding."},out_of_scope:{icon:"x",iconBg:"bg-slate-500/20",iconColor:"text-slate-400",title:"Out of Scope",description:"This request is outside the scope of The Combine."},redirect:{icon:"arrow",iconBg:"bg-blue-500/20",iconColor:"text-blue-400",title:"Redirected",description:"This request has been redirected to a different engagement type."},blocked:{icon:"warning",iconBg:"bg-amber-500/20",iconColor:"text-amber-400",title:"Blocked",description:"The workflow could not complete due to validation issues."}};function E8({type:e,className:t}){switch(e){case"check":return d.jsx("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("polyline",{points:"20 6 9 17 4 12"})});case"warning":return d.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M12 9v4M12 17h.01"}),d.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"})]});case"x":return d.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]});case"arrow":return d.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),d.jsx("polyline",{points:"12 5 19 12 12 19"})]});default:return null}}function k8({gateOutcome:e,project:t,onViewProject:n,onClose:r}){const i=ob[e]||ob.blocked,o=e==="qualified";return d.jsxs("div",{className:"p-6 text-center",children:[d.jsx("div",{className:`w-16 h-16 rounded-full ${i.iconBg} flex items-center justify-center mx-auto mb-4`,children:d.jsx(E8,{type:i.icon,className:`w-8 h-8 ${i.iconColor}`})}),d.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:"var(--text-primary)"},children:i.title}),d.jsx("p",{className:"text-sm mb-4",style:{color:"var(--text-muted)"},children:i.description}),o&&t&&d.jsxs("div",{className:"rounded-lg p-3 mb-4",style:{background:"var(--bg-input)"},children:[d.jsx("p",{className:"text-xs font-mono mb-1",style:{color:"var(--text-muted)"},children:t.project_id}),d.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:t.name})]}),d.jsxs("div",{className:"flex gap-2 justify-center",children:[o&&t&&d.jsx("button",{onClick:n,className:"px-4 py-2 rounded-lg text-sm font-medium bg-emerald-500 text-white hover:bg-emerald-400 transition-colors",children:"View Project"}),d.jsx("button",{onClick:r,className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors",style:{background:"var(--bg-button)",color:"var(--text-muted)"},children:"Close"})]})]})}function N8({onClose:e,onComplete:t}){const{phase:n,messages:r,pendingPrompt:i,interpretation:o,missingFields:s,canInitialize:a,gateOutcome:l,project:u,error:c,loading:f,submitting:h,startIntake:p,submitMessage:y,updateField:v,lockAndGenerate:_,reset:m}=p8();E.useEffect(()=>(p(),()=>m()),[]);const g=()=>{m(),e()},x=()=>{u&&t&&t(u),g()},w=()=>{const k=[{id:"describe",label:"Describe"},{id:"review",label:"Review"},{id:"generating",label:"Generate"},{id:"complete",label:"Done"}],N=k.findIndex(j=>j.id===n);return d.jsx("div",{className:"flex items-center gap-1 text-[10px]",children:k.map((j,R)=>d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:`px-2 py-0.5 rounded ${R===N?"bg-violet-500/30 text-violet-300":R<N?"text-emerald-400":"text-slate-500"}`,children:j.label}),R<k.length-1&&d.jsx("span",{className:"mx-1 text-slate-600",children:"/"})]},j.id))})},S=()=>{if(f&&n==="idle")return d.jsx("div",{className:"flex-1 flex items-center justify-center",children:d.jsx("div",{className:"w-8 h-8 border-2 border-t-violet-500 border-r-transparent border-b-transparent border-l-transparent rounded-full animate-spin"})});switch(n){case"describe":return d.jsxs(d.Fragment,{children:[d.jsx(js,{messages:r,pendingPrompt:i}),d.jsx(x8,{onSubmit:y,disabled:h,placeholder:"Describe what you want to build..."})]});case"review":return d.jsxs(d.Fragment,{children:[d.jsx(js,{messages:r}),d.jsx("div",{className:"border-t",style:{borderColor:"var(--border-panel)"},children:d.jsx(b8,{interpretation:o,missingFields:s,canInitialize:a,onUpdateField:v,onInitialize:_,loading:f})})]});case"generating":return d.jsxs(d.Fragment,{children:[d.jsx(js,{messages:r}),d.jsx(S8,{})]});case"complete":return d.jsxs(d.Fragment,{children:[d.jsx(js,{messages:r}),d.jsx(k8,{gateOutcome:l,project:u,onViewProject:x,onClose:g})]});default:return null}};return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0, 0, 0, 0.6)"},children:d.jsxs("div",{className:"flex flex-col w-full max-w-lg h-[80vh] rounded-xl shadow-2xl tray-slide",style:{background:"var(--bg-panel)",border:"1px solid var(--border-panel)"},children:[d.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b",style:{borderColor:"var(--border-panel)"},children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-8 h-8 rounded-lg bg-violet-500/20 flex items-center justify-center",children:d.jsx("svg",{className:"w-4 h-4 text-violet-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"})})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:"New Project"}),w()]})]}),d.jsx("button",{onClick:g,className:"p-2 rounded-lg hover:bg-white/10 transition-colors",style:{color:"var(--text-muted)"},children:d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),c&&d.jsx("div",{className:"px-4 py-2 bg-red-500/20 text-red-300 text-sm",children:c}),S()]})})}function C8(){var M,q,F;const{user:e,logout:t}=Hg(),[n,r]=E.useState(!1),{projects:i,loading:o,error:s,refresh:a}=d8({includeArchived:n}),[l,u]=E.useState(null),[c,f]=E.useState(null),[h,p]=E.useState(!1),{theme:y,setTheme:v}=cN(),_=Object.keys(i),m=l&&i[l]?l:_[0]||null;E.useEffect(()=>{if(m&&i[m]){const L=i[m];document.title=`${L.projectId} - The Combine`}else document.title="The Combine"},[m,i]);const g=L=>{u(L),f(null)},x=()=>{p(!0)},w=async L=>{await a(),L&&L.id&&(u(L.id),f("concierge_intake")),p(!1)},S=()=>{p(!1)},k=async(L,b)=>{try{await Ae.updateProject(L,b),await a()}catch(P){throw console.error("Failed to update project:",P),P}},N=async L=>{try{if(await Ae.archiveProject(L),!n){const b=Object.values(i).sort((z,I)=>{const C=(z.name||"").localeCompare(I.name||"");return C!==0?C:(z.projectId||"").localeCompare(I.projectId||"")}),P=b.findIndex(z=>z.id===L),T=b[P+1]||b[P-1]||null;u((T==null?void 0:T.id)||null)}await a()}catch(b){throw console.error("Failed to archive project:",b),b}},j=async L=>{try{await Ae.unarchiveProject(L),await a()}catch(b){throw console.error("Failed to unarchive project:",b),b}},R=async L=>{try{await Ae.deleteProject(L);const b=Object.values(i).sort((z,I)=>{const C=(z.name||"").localeCompare(I.name||"");return C!==0?C:(z.projectId||"").localeCompare(I.projectId||"")}),P=b.findIndex(z=>z.id===L),T=b[P+1]||b[P-1]||null;u((T==null?void 0:T.id)||null),await a()}catch(b){throw console.error("Failed to delete project:",b),b}};return o?d.jsx("div",{className:`flex h-screen items-center justify-center theme-${y}`,style:{background:"var(--bg-canvas)"},children:d.jsxs("div",{className:"text-center",children:[d.jsx("img",{src:"/logo-light.png",alt:"The Combine",className:"h-16 mx-auto mb-4 animate-pulse"}),d.jsx("p",{style:{color:"var(--text-muted)"},children:"Loading projects..."})]})}):s?d.jsx("div",{className:`flex h-screen items-center justify-center theme-${y}`,style:{background:"var(--bg-canvas)"},children:d.jsxs("div",{className:"text-center p-6 rounded-lg",style:{background:"var(--bg-panel)"},children:[d.jsxs("p",{className:"text-red-500 mb-4",children:["Failed to load projects: ",s]}),d.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-emerald-500 text-white rounded hover:bg-emerald-600",children:"Retry"})]})}):d.jsxs("div",{className:`flex flex-col h-screen theme-${y}`,children:[d.jsxs("header",{className:"h-12 flex items-center justify-between px-4 border-b flex-shrink-0",style:{background:"var(--bg-panel)",borderColor:"var(--border-panel)"},children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:"/logo-256.png",alt:"The Combine",className:"h-7 w-7"}),d.jsx("span",{className:"text-sm font-bold tracking-wide",style:{color:"var(--text-primary)"},children:"THE COMBINE"})]}),d.jsx("button",{className:"p-2 rounded hover:bg-white/10 transition-colors",style:{color:"var(--text-muted)"},title:"Help",children:d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),d.jsx("path",{d:"M12 17h.01"})]})})]}),d.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[d.jsxs("div",{className:"flex flex-col",style:{background:"var(--bg-panel)"},children:[d.jsx(E3,{projects:i,selectedId:m,onSelectProject:g,onNewProject:x,showArchived:n,onToggleShowArchived:()=>r(L=>!L)}),d.jsx("div",{className:"p-3 border-t flex items-center gap-3",style:{borderColor:"var(--border-panel)"},children:d.jsxs("button",{onClick:t,className:"flex items-center gap-3 flex-1 p-2 rounded-lg hover:bg-white/10 transition-colors",style:{color:"var(--text-primary)"},title:"Sign out",children:[e!=null&&e.avatar_url?d.jsx("img",{src:e.avatar_url,alt:e.name,className:"w-8 h-8 rounded-full"}):d.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",style:{background:"var(--bg-canvas)"},children:d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),d.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),d.jsxs("div",{className:"flex-1 text-left overflow-hidden",children:[d.jsx("div",{className:"text-sm font-medium truncate",children:(e==null?void 0:e.name)||"User"}),d.jsx("div",{className:"text-xs truncate",style:{color:"var(--text-muted)"},children:(e==null?void 0:e.email)||""})]})]})})]}),d.jsx("div",{className:"flex-1",children:m?d.jsx(_g,{children:d.jsx(y8,{projectId:m,projectCode:(M=i[m])==null?void 0:M.projectId,projectName:(q=i[m])==null?void 0:q.name,isArchived:(F=i[m])==null?void 0:F.isArchived,autoExpandNodeId:c,theme:y,onThemeChange:v,onProjectUpdate:k,onProjectArchive:N,onProjectUnarchive:j,onProjectDelete:R})},m):d.jsx("div",{className:"flex items-center justify-center h-full",style:{background:"var(--bg-canvas)"},children:d.jsx("div",{className:"text-center",children:d.jsx("p",{style:{color:"var(--text-muted)"},children:"No projects yet. Create one to get started."})})})}),h&&d.jsx(N8,{onClose:S,onComplete:w})]})]})}function j8(){const{login:e}=Hg();return d.jsxs("div",{className:"min-h-screen flex flex-col",style:{background:"#0f172a"},children:[d.jsx("main",{className:"flex-1 flex items-center justify-center p-8",children:d.jsxs("div",{className:"text-center max-w-lg",children:[d.jsx("div",{className:"mb-12",children:d.jsx("img",{src:"/logo-dark.png",alt:"The Combine",className:"h-32 mx-auto"})}),d.jsx("h1",{className:"text-4xl font-bold tracking-[0.3em] mb-3",style:{color:"#f8fafc",fontFamily:"system-ui, -apple-system, sans-serif"},children:"THE COMBINE"}),d.jsx("p",{className:"text-sm tracking-[0.2em] uppercase mb-16",style:{color:"#64748b"},children:"Industrial AI for Knowledge Work"}),d.jsx("div",{className:"p-8 rounded-lg mx-auto max-w-sm",style:{background:"#1e293b",border:"1px solid #334155"},children:d.jsxs("div",{className:"space-y-3",children:[d.jsxs("button",{onClick:()=>e("google"),className:"w-full flex items-center justify-center gap-3 px-4 py-3 rounded font-medium",style:{background:"#0f172a",border:"1px solid #334155",color:"#e2e8f0"},children:[d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[d.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),d.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),d.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),d.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google"]}),d.jsxs("button",{onClick:()=>e("microsoft"),className:"w-full flex items-center justify-center gap-3 px-4 py-3 rounded font-medium",style:{background:"#0f172a",border:"1px solid #334155",color:"#e2e8f0"},children:[d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 23 23",children:[d.jsx("path",{fill:"#f35325",d:"M1 1h10v10H1z"}),d.jsx("path",{fill:"#81bc06",d:"M12 1h10v10H12z"}),d.jsx("path",{fill:"#05a6f0",d:"M1 12h10v10H1z"}),d.jsx("path",{fill:"#ffba08",d:"M12 12h10v10H12z"})]}),"Sign in with Microsoft"]})]})})]})}),d.jsxs("footer",{className:"p-6 flex items-center justify-center gap-6",children:[d.jsx("a",{href:"/terms",className:"text-xs",style:{color:"#475569"},children:"Terms"}),d.jsx("a",{href:"/privacy",className:"text-xs",style:{color:"#475569"},children:"Privacy"}),d.jsx("span",{className:"text-xs",style:{color:"#334155"},children:" 2026 The Combine"})]})]})}function T8(){const{isAuthenticated:e,loading:t}=Hg(),{theme:n}=cN();return t?d.jsx("div",{className:`flex h-screen items-center justify-center theme-${n}`,style:{background:"var(--bg-canvas)"},children:d.jsxs("div",{className:"text-center",children:[d.jsx("img",{src:"/logo-light.png",alt:"The Combine",className:"h-16 mx-auto mb-4 animate-pulse"}),d.jsx("p",{style:{color:"var(--text-muted)"},children:"Loading..."})]})}):e?d.jsx(C8,{}):d.jsx(j8,{})}function R8(){return d.jsx(m8,{children:d.jsx(T8,{})})}Zh.createRoot(document.getElementById("root")).render(d.jsx($.StrictMode,{children:d.jsx(R8,{})}));
//# sourceMappingURL=index-ovSQ9qMm.js.map
