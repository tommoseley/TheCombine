(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var is=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pb={exports:{}},La={},mb={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vo=Symbol.for("react.element"),JN=Symbol.for("react.portal"),ej=Symbol.for("react.fragment"),tj=Symbol.for("react.strict_mode"),nj=Symbol.for("react.profiler"),rj=Symbol.for("react.provider"),ij=Symbol.for("react.context"),oj=Symbol.for("react.forward_ref"),sj=Symbol.for("react.suspense"),aj=Symbol.for("react.memo"),lj=Symbol.for("react.lazy"),nv=Symbol.iterator;function uj(e){return e===null||typeof e!="object"?null:(e=nv&&e[nv]||e["@@iterator"],typeof e=="function"?e:null)}var gb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vb=Object.assign,yb={};function ki(e,t,n){this.props=e,this.context=t,this.refs=yb,this.updater=n||gb}ki.prototype.isReactComponent={};ki.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ki.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xb(){}xb.prototype=ki.prototype;function wm(e,t,n){this.props=e,this.context=t,this.refs=yb,this.updater=n||gb}var _m=wm.prototype=new xb;_m.constructor=wm;vb(_m,ki.prototype);_m.isPureReactComponent=!0;var rv=Array.isArray,wb=Object.prototype.hasOwnProperty,bm={current:null},_b={key:!0,ref:!0,__self:!0,__source:!0};function bb(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)wb.call(t,r)&&!_b.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Vo,type:e,key:o,ref:s,props:i,_owner:bm.current}}function cj(e,t){return{$$typeof:Vo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Sm(e){return typeof e=="object"&&e!==null&&e.$$typeof===Vo}function dj(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var iv=/\/+/g;function Tl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?dj(""+e.key):t.toString(36)}function zs(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Vo:case JN:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Tl(s,0):r,rv(i)?(n="",e!=null&&(n=e.replace(iv,"$&/")+"/"),zs(i,t,n,"",function(u){return u})):i!=null&&(Sm(i)&&(i=cj(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(iv,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",rv(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+Tl(o,a);s+=zs(o,t,n,l,i)}else if(l=uj(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+Tl(o,a++),s+=zs(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function os(e,t,n){if(e==null)return e;var r=[],i=0;return zs(e,r,"","",function(o){return t.call(n,o,i++)}),r}function fj(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ot={current:null},Ds={transition:null},hj={ReactCurrentDispatcher:ot,ReactCurrentBatchConfig:Ds,ReactCurrentOwner:bm};function Sb(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:os,forEach:function(e,t,n){os(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return os(e,function(){t++}),t},toArray:function(e){return os(e,function(t){return t})||[]},only:function(e){if(!Sm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Component=ki;ne.Fragment=ej;ne.Profiler=nj;ne.PureComponent=wm;ne.StrictMode=tj;ne.Suspense=sj;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hj;ne.act=Sb;ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=vb({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=bm.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)wb.call(t,l)&&!_b.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Vo,type:e.type,key:i,ref:o,props:r,_owner:s}};ne.createContext=function(e){return e={$$typeof:ij,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:rj,_context:e},e.Consumer=e};ne.createElement=bb;ne.createFactory=function(e){var t=bb.bind(null,e);return t.type=e,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:oj,render:e}};ne.isValidElement=Sm;ne.lazy=function(e){return{$$typeof:lj,_payload:{_status:-1,_result:e},_init:fj}};ne.memo=function(e,t){return{$$typeof:aj,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=Ds.transition;Ds.transition={};try{e()}finally{Ds.transition=t}};ne.unstable_act=Sb;ne.useCallback=function(e,t){return ot.current.useCallback(e,t)};ne.useContext=function(e){return ot.current.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e){return ot.current.useDeferredValue(e)};ne.useEffect=function(e,t){return ot.current.useEffect(e,t)};ne.useId=function(){return ot.current.useId()};ne.useImperativeHandle=function(e,t,n){return ot.current.useImperativeHandle(e,t,n)};ne.useInsertionEffect=function(e,t){return ot.current.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return ot.current.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return ot.current.useMemo(e,t)};ne.useReducer=function(e,t,n){return ot.current.useReducer(e,t,n)};ne.useRef=function(e){return ot.current.useRef(e)};ne.useState=function(e){return ot.current.useState(e)};ne.useSyncExternalStore=function(e,t,n){return ot.current.useSyncExternalStore(e,t,n)};ne.useTransition=function(){return ot.current.useTransition()};ne.version="18.3.1";mb.exports=ne;var k=mb.exports;const $=xm(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pj=k,mj=Symbol.for("react.element"),gj=Symbol.for("react.fragment"),vj=Object.prototype.hasOwnProperty,yj=pj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xj={key:!0,ref:!0,__self:!0,__source:!0};function Eb(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)vj.call(t,r)&&!xj.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:mj,type:e,key:o,ref:s,props:i,_owner:yj.current}}La.Fragment=gj;La.jsx=Eb;La.jsxs=Eb;pb.exports=La;var d=pb.exports,ap={},kb={exports:{}},St={},Nb={exports:{}},jb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,j){var A=R.length;R.push(j);e:for(;0<A;){var M=A-1>>>1,D=R[M];if(0<i(D,j))R[M]=j,R[A]=D,A=M;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var j=R[0],A=R.pop();if(A!==j){R[0]=A;e:for(var M=0,D=R.length,B=D>>>1;M<B;){var V=2*(M+1)-1,K=R[V],Q=V+1,Z=R[Q];if(0>i(K,A))Q<D&&0>i(Z,K)?(R[M]=Z,R[Q]=A,M=Q):(R[M]=K,R[V]=A,M=V);else if(Q<D&&0>i(Z,A))R[M]=Z,R[Q]=A,M=Q;else break e}}return j}function i(R,j){var A=R.sortIndex-j.sortIndex;return A!==0?A:R.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,h=3,p=!1,y=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(R){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=R)r(u),j.sortIndex=j.expirationTime,t(l,j);else break;j=n(u)}}function w(R){if(v=!1,x(R),!y)if(n(l)!==null)y=!0,T(S);else{var j=n(u);j!==null&&z(w,j.startTime-R)}}function S(R,j){y=!1,v&&(v=!1,g(C),C=-1),p=!0;var A=h;try{for(x(j),f=n(l);f!==null&&(!(f.expirationTime>j)||R&&!q());){var M=f.callback;if(typeof M=="function"){f.callback=null,h=f.priorityLevel;var D=M(f.expirationTime<=j);j=e.unstable_now(),typeof D=="function"?f.callback=D:f===n(l)&&r(l),x(j)}else r(l);f=n(l)}if(f!==null)var B=!0;else{var V=n(u);V!==null&&z(w,V.startTime-j),B=!1}return B}finally{f=null,h=A,p=!1}}var E=!1,N=null,C=-1,I=5,O=-1;function q(){return!(e.unstable_now()-O<I)}function F(){if(N!==null){var R=e.unstable_now();O=R;var j=!0;try{j=N(!0,R)}finally{j?L():(E=!1,N=null)}}else E=!1}var L;if(typeof m=="function")L=function(){m(F)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,P=b.port2;b.port1.onmessage=F,L=function(){P.postMessage(null)}}else L=function(){_(F,0)};function T(R){N=R,E||(E=!0,L())}function z(R,j){C=_(function(){R(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,T(S))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var A=h;h=j;try{return R()}finally{h=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,j){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var A=h;h=R;try{return j()}finally{h=A}},e.unstable_scheduleCallback=function(R,j,A){var M=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?M+A:M):A=M,R){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=A+D,R={id:c++,callback:j,priorityLevel:R,startTime:A,expirationTime:D,sortIndex:-1},A>M?(R.sortIndex=A,t(u,R),n(l)===null&&R===n(u)&&(v?(g(C),C=-1):v=!0,z(w,A-M))):(R.sortIndex=D,t(l,R),y||p||(y=!0,T(S))),R},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(R){var j=h;return function(){var A=h;h=j;try{return R.apply(this,arguments)}finally{h=A}}}})(jb);Nb.exports=jb;var wj=Nb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _j=k,_t=wj;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cb=new Set,xo={};function Ar(e,t){pi(e,t),pi(e+"Capture",t)}function pi(e,t){for(xo[e]=t,e=0;e<t.length;e++)Cb.add(t[e])}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lp=Object.prototype.hasOwnProperty,bj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ov={},sv={};function Sj(e){return lp.call(sv,e)?!0:lp.call(ov,e)?!1:bj.test(e)?sv[e]=!0:(ov[e]=!0,!1)}function Ej(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function kj(e,t,n,r){if(t===null||typeof t>"u"||Ej(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function st(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ke[e]=new st(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ke[t]=new st(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ke[e]=new st(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ke[e]=new st(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ke[e]=new st(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ke[e]=new st(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ke[e]=new st(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ke[e]=new st(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ke[e]=new st(e,5,!1,e.toLowerCase(),null,!1,!1)});var Em=/[\-:]([a-z])/g;function km(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Em,km);Ke[t]=new st(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Em,km);Ke[t]=new st(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Em,km);Ke[t]=new st(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ke[e]=new st(e,1,!1,e.toLowerCase(),null,!1,!1)});Ke.xlinkHref=new st("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ke[e]=new st(e,1,!1,e.toLowerCase(),null,!0,!0)});function Nm(e,t,n,r){var i=Ke.hasOwnProperty(t)?Ke[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(kj(t,n,i,r)&&(n=null),r||i===null?Sj(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Tn=_j.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ss=Symbol.for("react.element"),Wr=Symbol.for("react.portal"),Gr=Symbol.for("react.fragment"),jm=Symbol.for("react.strict_mode"),up=Symbol.for("react.profiler"),Tb=Symbol.for("react.provider"),Ib=Symbol.for("react.context"),Cm=Symbol.for("react.forward_ref"),cp=Symbol.for("react.suspense"),dp=Symbol.for("react.suspense_list"),Tm=Symbol.for("react.memo"),qn=Symbol.for("react.lazy"),Rb=Symbol.for("react.offscreen"),av=Symbol.iterator;function Oi(e){return e===null||typeof e!="object"?null:(e=av&&e[av]||e["@@iterator"],typeof e=="function"?e:null)}var je=Object.assign,Il;function Yi(e){if(Il===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Il=t&&t[1]||""}return`
`+Il+e}var Rl=!1;function Pl(e,t){if(!e||Rl)return"";Rl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{Rl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Yi(e):""}function Nj(e){switch(e.tag){case 5:return Yi(e.type);case 16:return Yi("Lazy");case 13:return Yi("Suspense");case 19:return Yi("SuspenseList");case 0:case 2:case 15:return e=Pl(e.type,!1),e;case 11:return e=Pl(e.type.render,!1),e;case 1:return e=Pl(e.type,!0),e;default:return""}}function fp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Gr:return"Fragment";case Wr:return"Portal";case up:return"Profiler";case jm:return"StrictMode";case cp:return"Suspense";case dp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ib:return(e.displayName||"Context")+".Consumer";case Tb:return(e._context.displayName||"Context")+".Provider";case Cm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Tm:return t=e.displayName||null,t!==null?t:fp(e.type)||"Memo";case qn:t=e._payload,e=e._init;try{return fp(e(t))}catch{}}return null}function jj(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fp(t);case 8:return t===jm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function rr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Cj(e){var t=Pb(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function as(e){e._valueTracker||(e._valueTracker=Cj(e))}function Mb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Pb(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ea(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function hp(e,t){var n=t.checked;return je({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function lv(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=rr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ab(e,t){t=t.checked,t!=null&&Nm(e,"checked",t,!1)}function pp(e,t){Ab(e,t);var n=rr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?mp(e,t.type,n):t.hasOwnProperty("defaultValue")&&mp(e,t.type,rr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function uv(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function mp(e,t,n){(t!=="number"||ea(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Xi=Array.isArray;function oi(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+rr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function gp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return je({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cv(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(H(92));if(Xi(n)){if(1<n.length)throw Error(H(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:rr(n)}}function Ob(e,t){var n=rr(t.value),r=rr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function dv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function qb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?qb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ls,Lb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ls=ls||document.createElement("div"),ls.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ls.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function wo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ao={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tj=["Webkit","ms","Moz","O"];Object.keys(ao).forEach(function(e){Tj.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ao[t]=ao[e]})});function zb(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ao.hasOwnProperty(e)&&ao[e]?(""+t).trim():t+"px"}function Db(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=zb(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Ij=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yp(e,t){if(t){if(Ij[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function xp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wp=null;function Im(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _p=null,si=null,ai=null;function fv(e){if(e=Go(e)){if(typeof _p!="function")throw Error(H(280));var t=e.stateNode;t&&(t=Ba(t),_p(e.stateNode,e.type,t))}}function Fb(e){si?ai?ai.push(e):ai=[e]:si=e}function $b(){if(si){var e=si,t=ai;if(ai=si=null,fv(e),t)for(e=0;e<t.length;e++)fv(t[e])}}function Bb(e,t){return e(t)}function Hb(){}var Ml=!1;function Vb(e,t,n){if(Ml)return e(t,n);Ml=!0;try{return Bb(e,t,n)}finally{Ml=!1,(si!==null||ai!==null)&&(Hb(),$b())}}function _o(e,t){var n=e.stateNode;if(n===null)return null;var r=Ba(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(H(231,t,typeof n));return n}var bp=!1;if(bn)try{var qi={};Object.defineProperty(qi,"passive",{get:function(){bp=!0}}),window.addEventListener("test",qi,qi),window.removeEventListener("test",qi,qi)}catch{bp=!1}function Rj(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var lo=!1,ta=null,na=!1,Sp=null,Pj={onError:function(e){lo=!0,ta=e}};function Mj(e,t,n,r,i,o,s,a,l){lo=!1,ta=null,Rj.apply(Pj,arguments)}function Aj(e,t,n,r,i,o,s,a,l){if(Mj.apply(this,arguments),lo){if(lo){var u=ta;lo=!1,ta=null}else throw Error(H(198));na||(na=!0,Sp=u)}}function Or(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ub(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function hv(e){if(Or(e)!==e)throw Error(H(188))}function Oj(e){var t=e.alternate;if(!t){if(t=Or(e),t===null)throw Error(H(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return hv(i),e;if(o===r)return hv(i),t;o=o.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?e:t}function Wb(e){return e=Oj(e),e!==null?Gb(e):null}function Gb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Gb(e);if(t!==null)return t;e=e.sibling}return null}var Kb=_t.unstable_scheduleCallback,pv=_t.unstable_cancelCallback,qj=_t.unstable_shouldYield,Lj=_t.unstable_requestPaint,Pe=_t.unstable_now,zj=_t.unstable_getCurrentPriorityLevel,Rm=_t.unstable_ImmediatePriority,Yb=_t.unstable_UserBlockingPriority,ra=_t.unstable_NormalPriority,Dj=_t.unstable_LowPriority,Xb=_t.unstable_IdlePriority,za=null,rn=null;function Fj(e){if(rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(za,e,void 0,(e.current.flags&128)===128)}catch{}}var Ht=Math.clz32?Math.clz32:Hj,$j=Math.log,Bj=Math.LN2;function Hj(e){return e>>>=0,e===0?32:31-($j(e)/Bj|0)|0}var us=64,cs=4194304;function Qi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ia(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Qi(a):(o&=s,o!==0&&(r=Qi(o)))}else s=n&~i,s!==0?r=Qi(s):o!==0&&(r=Qi(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ht(t),i=1<<n,r|=e[n],t&=~i;return r}function Vj(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uj(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Ht(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=Vj(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function Ep(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Qb(){var e=us;return us<<=1,!(us&4194240)&&(us=64),e}function Al(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Uo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ht(t),e[t]=n}function Wj(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ht(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Pm(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ht(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var he=0;function Zb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Jb,Mm,e2,t2,n2,kp=!1,ds=[],Gn=null,Kn=null,Yn=null,bo=new Map,So=new Map,Fn=[],Gj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mv(e,t){switch(e){case"focusin":case"focusout":Gn=null;break;case"dragenter":case"dragleave":Kn=null;break;case"mouseover":case"mouseout":Yn=null;break;case"pointerover":case"pointerout":bo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":So.delete(t.pointerId)}}function Li(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Go(t),t!==null&&Mm(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Kj(e,t,n,r,i){switch(t){case"focusin":return Gn=Li(Gn,e,t,n,r,i),!0;case"dragenter":return Kn=Li(Kn,e,t,n,r,i),!0;case"mouseover":return Yn=Li(Yn,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return bo.set(o,Li(bo.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,So.set(o,Li(So.get(o)||null,e,t,n,r,i)),!0}return!1}function r2(e){var t=vr(e.target);if(t!==null){var n=Or(t);if(n!==null){if(t=n.tag,t===13){if(t=Ub(n),t!==null){e.blockedOn=t,n2(e.priority,function(){e2(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Np(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);wp=r,n.target.dispatchEvent(r),wp=null}else return t=Go(n),t!==null&&Mm(t),e.blockedOn=n,!1;t.shift()}return!0}function gv(e,t,n){Fs(e)&&n.delete(t)}function Yj(){kp=!1,Gn!==null&&Fs(Gn)&&(Gn=null),Kn!==null&&Fs(Kn)&&(Kn=null),Yn!==null&&Fs(Yn)&&(Yn=null),bo.forEach(gv),So.forEach(gv)}function zi(e,t){e.blockedOn===t&&(e.blockedOn=null,kp||(kp=!0,_t.unstable_scheduleCallback(_t.unstable_NormalPriority,Yj)))}function Eo(e){function t(i){return zi(i,e)}if(0<ds.length){zi(ds[0],e);for(var n=1;n<ds.length;n++){var r=ds[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Gn!==null&&zi(Gn,e),Kn!==null&&zi(Kn,e),Yn!==null&&zi(Yn,e),bo.forEach(t),So.forEach(t),n=0;n<Fn.length;n++)r=Fn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Fn.length&&(n=Fn[0],n.blockedOn===null);)r2(n),n.blockedOn===null&&Fn.shift()}var li=Tn.ReactCurrentBatchConfig,oa=!0;function Xj(e,t,n,r){var i=he,o=li.transition;li.transition=null;try{he=1,Am(e,t,n,r)}finally{he=i,li.transition=o}}function Qj(e,t,n,r){var i=he,o=li.transition;li.transition=null;try{he=4,Am(e,t,n,r)}finally{he=i,li.transition=o}}function Am(e,t,n,r){if(oa){var i=Np(e,t,n,r);if(i===null)Vl(e,t,r,sa,n),mv(e,r);else if(Kj(i,e,t,n,r))r.stopPropagation();else if(mv(e,r),t&4&&-1<Gj.indexOf(e)){for(;i!==null;){var o=Go(i);if(o!==null&&Jb(o),o=Np(e,t,n,r),o===null&&Vl(e,t,r,sa,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Vl(e,t,r,null,n)}}var sa=null;function Np(e,t,n,r){if(sa=null,e=Im(r),e=vr(e),e!==null)if(t=Or(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ub(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return sa=e,null}function i2(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zj()){case Rm:return 1;case Yb:return 4;case ra:case Dj:return 16;case Xb:return 536870912;default:return 16}default:return 16}}var Un=null,Om=null,$s=null;function o2(){if($s)return $s;var e,t=Om,n=t.length,r,i="value"in Un?Un.value:Un.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return $s=i.slice(e,1<r?1-r:void 0)}function Bs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fs(){return!0}function vv(){return!1}function Et(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?fs:vv,this.isPropagationStopped=vv,this}return je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fs)},persist:function(){},isPersistent:fs}),t}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qm=Et(Ni),Wo=je({},Ni,{view:0,detail:0}),Zj=Et(Wo),Ol,ql,Di,Da=je({},Wo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Di&&(Di&&e.type==="mousemove"?(Ol=e.screenX-Di.screenX,ql=e.screenY-Di.screenY):ql=Ol=0,Di=e),Ol)},movementY:function(e){return"movementY"in e?e.movementY:ql}}),yv=Et(Da),Jj=je({},Da,{dataTransfer:0}),eC=Et(Jj),tC=je({},Wo,{relatedTarget:0}),Ll=Et(tC),nC=je({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),rC=Et(nC),iC=je({},Ni,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),oC=Et(iC),sC=je({},Ni,{data:0}),xv=Et(sC),aC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=uC[e])?!!t[e]:!1}function Lm(){return cC}var dC=je({},Wo,{key:function(e){if(e.key){var t=aC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lm,charCode:function(e){return e.type==="keypress"?Bs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fC=Et(dC),hC=je({},Da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wv=Et(hC),pC=je({},Wo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lm}),mC=Et(pC),gC=je({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),vC=Et(gC),yC=je({},Da,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xC=Et(yC),wC=[9,13,27,32],zm=bn&&"CompositionEvent"in window,uo=null;bn&&"documentMode"in document&&(uo=document.documentMode);var _C=bn&&"TextEvent"in window&&!uo,s2=bn&&(!zm||uo&&8<uo&&11>=uo),_v=" ",bv=!1;function a2(e,t){switch(e){case"keyup":return wC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function l2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Kr=!1;function bC(e,t){switch(e){case"compositionend":return l2(t);case"keypress":return t.which!==32?null:(bv=!0,_v);case"textInput":return e=t.data,e===_v&&bv?null:e;default:return null}}function SC(e,t){if(Kr)return e==="compositionend"||!zm&&a2(e,t)?(e=o2(),$s=Om=Un=null,Kr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return s2&&t.locale!=="ko"?null:t.data;default:return null}}var EC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!EC[e.type]:t==="textarea"}function u2(e,t,n,r){Fb(r),t=aa(t,"onChange"),0<t.length&&(n=new qm("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var co=null,ko=null;function kC(e){w2(e,0)}function Fa(e){var t=Qr(e);if(Mb(t))return e}function NC(e,t){if(e==="change")return t}var c2=!1;if(bn){var zl;if(bn){var Dl="oninput"in document;if(!Dl){var Ev=document.createElement("div");Ev.setAttribute("oninput","return;"),Dl=typeof Ev.oninput=="function"}zl=Dl}else zl=!1;c2=zl&&(!document.documentMode||9<document.documentMode)}function kv(){co&&(co.detachEvent("onpropertychange",d2),ko=co=null)}function d2(e){if(e.propertyName==="value"&&Fa(ko)){var t=[];u2(t,ko,e,Im(e)),Vb(kC,t)}}function jC(e,t,n){e==="focusin"?(kv(),co=t,ko=n,co.attachEvent("onpropertychange",d2)):e==="focusout"&&kv()}function CC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fa(ko)}function TC(e,t){if(e==="click")return Fa(t)}function IC(e,t){if(e==="input"||e==="change")return Fa(t)}function RC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ut=typeof Object.is=="function"?Object.is:RC;function No(e,t){if(Ut(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!lp.call(t,i)||!Ut(e[i],t[i]))return!1}return!0}function Nv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jv(e,t){var n=Nv(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Nv(n)}}function f2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?f2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function h2(){for(var e=window,t=ea();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ea(e.document)}return t}function Dm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function PC(e){var t=h2(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&f2(n.ownerDocument.documentElement,n)){if(r!==null&&Dm(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=jv(n,o);var s=jv(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var MC=bn&&"documentMode"in document&&11>=document.documentMode,Yr=null,jp=null,fo=null,Cp=!1;function Cv(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Cp||Yr==null||Yr!==ea(r)||(r=Yr,"selectionStart"in r&&Dm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fo&&No(fo,r)||(fo=r,r=aa(jp,"onSelect"),0<r.length&&(t=new qm("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Yr)))}function hs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Xr={animationend:hs("Animation","AnimationEnd"),animationiteration:hs("Animation","AnimationIteration"),animationstart:hs("Animation","AnimationStart"),transitionend:hs("Transition","TransitionEnd")},Fl={},p2={};bn&&(p2=document.createElement("div").style,"AnimationEvent"in window||(delete Xr.animationend.animation,delete Xr.animationiteration.animation,delete Xr.animationstart.animation),"TransitionEvent"in window||delete Xr.transitionend.transition);function $a(e){if(Fl[e])return Fl[e];if(!Xr[e])return e;var t=Xr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in p2)return Fl[e]=t[n];return e}var m2=$a("animationend"),g2=$a("animationiteration"),v2=$a("animationstart"),y2=$a("transitionend"),x2=new Map,Tv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ar(e,t){x2.set(e,t),Ar(t,[e])}for(var $l=0;$l<Tv.length;$l++){var Bl=Tv[$l],AC=Bl.toLowerCase(),OC=Bl[0].toUpperCase()+Bl.slice(1);ar(AC,"on"+OC)}ar(m2,"onAnimationEnd");ar(g2,"onAnimationIteration");ar(v2,"onAnimationStart");ar("dblclick","onDoubleClick");ar("focusin","onFocus");ar("focusout","onBlur");ar(y2,"onTransitionEnd");pi("onMouseEnter",["mouseout","mouseover"]);pi("onMouseLeave",["mouseout","mouseover"]);pi("onPointerEnter",["pointerout","pointerover"]);pi("onPointerLeave",["pointerout","pointerover"]);Ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ar("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zi));function Iv(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Aj(r,t,void 0,e),e.currentTarget=null}function w2(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Iv(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Iv(i,a,u),o=l}}}if(na)throw e=Sp,na=!1,Sp=null,e}function ve(e,t){var n=t[Mp];n===void 0&&(n=t[Mp]=new Set);var r=e+"__bubble";n.has(r)||(_2(t,e,2,!1),n.add(r))}function Hl(e,t,n){var r=0;t&&(r|=4),_2(n,e,r,t)}var ps="_reactListening"+Math.random().toString(36).slice(2);function jo(e){if(!e[ps]){e[ps]=!0,Cb.forEach(function(n){n!=="selectionchange"&&(qC.has(n)||Hl(n,!1,e),Hl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ps]||(t[ps]=!0,Hl("selectionchange",!1,t))}}function _2(e,t,n,r){switch(i2(t)){case 1:var i=Xj;break;case 4:i=Qj;break;default:i=Am}n=i.bind(null,t,n,e),i=void 0,!bp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vl(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=vr(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}Vb(function(){var u=o,c=Im(n),f=[];e:{var h=x2.get(e);if(h!==void 0){var p=qm,y=e;switch(e){case"keypress":if(Bs(n)===0)break e;case"keydown":case"keyup":p=fC;break;case"focusin":y="focus",p=Ll;break;case"focusout":y="blur",p=Ll;break;case"beforeblur":case"afterblur":p=Ll;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=yv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=eC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=mC;break;case m2:case g2:case v2:p=rC;break;case y2:p=vC;break;case"scroll":p=Zj;break;case"wheel":p=xC;break;case"copy":case"cut":case"paste":p=oC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=wv}var v=(t&4)!==0,_=!v&&e==="scroll",g=v?h!==null?h+"Capture":null:h;v=[];for(var m=u,x;m!==null;){x=m;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,g!==null&&(w=_o(m,g),w!=null&&v.push(Co(m,w,x)))),_)break;m=m.return}0<v.length&&(h=new p(h,y,null,n,c),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==wp&&(y=n.relatedTarget||n.fromElement)&&(vr(y)||y[Sn]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?vr(y):null,y!==null&&(_=Or(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(v=yv,w="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(v=wv,w="onPointerLeave",g="onPointerEnter",m="pointer"),_=p==null?h:Qr(p),x=y==null?h:Qr(y),h=new v(w,m+"leave",p,n,c),h.target=_,h.relatedTarget=x,w=null,vr(c)===u&&(v=new v(g,m+"enter",y,n,c),v.target=x,v.relatedTarget=_,w=v),_=w,p&&y)t:{for(v=p,g=y,m=0,x=v;x;x=$r(x))m++;for(x=0,w=g;w;w=$r(w))x++;for(;0<m-x;)v=$r(v),m--;for(;0<x-m;)g=$r(g),x--;for(;m--;){if(v===g||g!==null&&v===g.alternate)break t;v=$r(v),g=$r(g)}v=null}else v=null;p!==null&&Rv(f,h,p,v,!1),y!==null&&_!==null&&Rv(f,_,y,v,!0)}}e:{if(h=u?Qr(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=NC;else if(Sv(h))if(c2)S=IC;else{S=CC;var E=jC}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=TC);if(S&&(S=S(e,u))){u2(f,S,n,c);break e}E&&E(e,h,u),e==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&mp(h,"number",h.value)}switch(E=u?Qr(u):window,e){case"focusin":(Sv(E)||E.contentEditable==="true")&&(Yr=E,jp=u,fo=null);break;case"focusout":fo=jp=Yr=null;break;case"mousedown":Cp=!0;break;case"contextmenu":case"mouseup":case"dragend":Cp=!1,Cv(f,n,c);break;case"selectionchange":if(MC)break;case"keydown":case"keyup":Cv(f,n,c)}var N;if(zm)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Kr?a2(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(s2&&n.locale!=="ko"&&(Kr||C!=="onCompositionStart"?C==="onCompositionEnd"&&Kr&&(N=o2()):(Un=c,Om="value"in Un?Un.value:Un.textContent,Kr=!0)),E=aa(u,C),0<E.length&&(C=new xv(C,e,null,n,c),f.push({event:C,listeners:E}),N?C.data=N:(N=l2(n),N!==null&&(C.data=N)))),(N=_C?bC(e,n):SC(e,n))&&(u=aa(u,"onBeforeInput"),0<u.length&&(c=new xv("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=N))}w2(f,t)})}function Co(e,t,n){return{instance:e,listener:t,currentTarget:n}}function aa(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=_o(e,n),o!=null&&r.unshift(Co(e,o,i)),o=_o(e,t),o!=null&&r.push(Co(e,o,i))),e=e.return}return r}function $r(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Rv(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=_o(n,o),l!=null&&s.unshift(Co(n,l,a))):i||(l=_o(n,o),l!=null&&s.push(Co(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var LC=/\r\n?/g,zC=/\u0000|\uFFFD/g;function Pv(e){return(typeof e=="string"?e:""+e).replace(LC,`
`).replace(zC,"")}function ms(e,t,n){if(t=Pv(t),Pv(e)!==t&&n)throw Error(H(425))}function la(){}var Tp=null,Ip=null;function Rp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pp=typeof setTimeout=="function"?setTimeout:void 0,DC=typeof clearTimeout=="function"?clearTimeout:void 0,Mv=typeof Promise=="function"?Promise:void 0,FC=typeof queueMicrotask=="function"?queueMicrotask:typeof Mv<"u"?function(e){return Mv.resolve(null).then(e).catch($C)}:Pp;function $C(e){setTimeout(function(){throw e})}function Ul(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Eo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Eo(t)}function Xn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Av(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ji=Math.random().toString(36).slice(2),tn="__reactFiber$"+ji,To="__reactProps$"+ji,Sn="__reactContainer$"+ji,Mp="__reactEvents$"+ji,BC="__reactListeners$"+ji,HC="__reactHandles$"+ji;function vr(e){var t=e[tn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Sn]||n[tn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Av(e);e!==null;){if(n=e[tn])return n;e=Av(e)}return t}e=n,n=e.parentNode}return null}function Go(e){return e=e[tn]||e[Sn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function Ba(e){return e[To]||null}var Ap=[],Zr=-1;function lr(e){return{current:e}}function ye(e){0>Zr||(e.current=Ap[Zr],Ap[Zr]=null,Zr--)}function ge(e,t){Zr++,Ap[Zr]=e.current,e.current=t}var ir={},Je=lr(ir),dt=lr(!1),jr=ir;function mi(e,t){var n=e.type.contextTypes;if(!n)return ir;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ft(e){return e=e.childContextTypes,e!=null}function ua(){ye(dt),ye(Je)}function Ov(e,t,n){if(Je.current!==ir)throw Error(H(168));ge(Je,t),ge(dt,n)}function b2(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(H(108,jj(e)||"Unknown",i));return je({},n,r)}function ca(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ir,jr=Je.current,ge(Je,e),ge(dt,dt.current),!0}function qv(e,t,n){var r=e.stateNode;if(!r)throw Error(H(169));n?(e=b2(e,t,jr),r.__reactInternalMemoizedMergedChildContext=e,ye(dt),ye(Je),ge(Je,e)):ye(dt),ge(dt,n)}var pn=null,Ha=!1,Wl=!1;function S2(e){pn===null?pn=[e]:pn.push(e)}function VC(e){Ha=!0,S2(e)}function ur(){if(!Wl&&pn!==null){Wl=!0;var e=0,t=he;try{var n=pn;for(he=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}pn=null,Ha=!1}catch(i){throw pn!==null&&(pn=pn.slice(e+1)),Kb(Rm,ur),i}finally{he=t,Wl=!1}}return null}var Jr=[],ei=0,da=null,fa=0,Nt=[],jt=0,Cr=null,mn=1,gn="";function pr(e,t){Jr[ei++]=fa,Jr[ei++]=da,da=e,fa=t}function E2(e,t,n){Nt[jt++]=mn,Nt[jt++]=gn,Nt[jt++]=Cr,Cr=e;var r=mn;e=gn;var i=32-Ht(r)-1;r&=~(1<<i),n+=1;var o=32-Ht(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,mn=1<<32-Ht(t)+i|n<<i|r,gn=o+e}else mn=1<<o|n<<i|r,gn=e}function Fm(e){e.return!==null&&(pr(e,1),E2(e,1,0))}function $m(e){for(;e===da;)da=Jr[--ei],Jr[ei]=null,fa=Jr[--ei],Jr[ei]=null;for(;e===Cr;)Cr=Nt[--jt],Nt[jt]=null,gn=Nt[--jt],Nt[jt]=null,mn=Nt[--jt],Nt[jt]=null}var wt=null,xt=null,_e=!1,$t=null;function k2(e,t){var n=Tt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Lv(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,wt=e,xt=Xn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,wt=e,xt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Cr!==null?{id:mn,overflow:gn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Tt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,wt=e,xt=null,!0):!1;default:return!1}}function Op(e){return(e.mode&1)!==0&&(e.flags&128)===0}function qp(e){if(_e){var t=xt;if(t){var n=t;if(!Lv(e,t)){if(Op(e))throw Error(H(418));t=Xn(n.nextSibling);var r=wt;t&&Lv(e,t)?k2(r,n):(e.flags=e.flags&-4097|2,_e=!1,wt=e)}}else{if(Op(e))throw Error(H(418));e.flags=e.flags&-4097|2,_e=!1,wt=e}}}function zv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wt=e}function gs(e){if(e!==wt)return!1;if(!_e)return zv(e),_e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Rp(e.type,e.memoizedProps)),t&&(t=xt)){if(Op(e))throw N2(),Error(H(418));for(;t;)k2(e,t),t=Xn(t.nextSibling)}if(zv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){xt=Xn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}xt=null}}else xt=wt?Xn(e.stateNode.nextSibling):null;return!0}function N2(){for(var e=xt;e;)e=Xn(e.nextSibling)}function gi(){xt=wt=null,_e=!1}function Bm(e){$t===null?$t=[e]:$t.push(e)}var UC=Tn.ReactCurrentBatchConfig;function Fi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Dv(e){var t=e._init;return t(e._payload)}function j2(e){function t(g,m){if(e){var x=g.deletions;x===null?(g.deletions=[m],g.flags|=16):x.push(m)}}function n(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=er(g,m),g.index=0,g.sibling=null,g}function o(g,m,x){return g.index=x,e?(x=g.alternate,x!==null?(x=x.index,x<m?(g.flags|=2,m):x):(g.flags|=2,m)):(g.flags|=1048576,m)}function s(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,m,x,w){return m===null||m.tag!==6?(m=Jl(x,g.mode,w),m.return=g,m):(m=i(m,x),m.return=g,m)}function l(g,m,x,w){var S=x.type;return S===Gr?c(g,m,x.props.children,w,x.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===qn&&Dv(S)===m.type)?(w=i(m,x.props),w.ref=Fi(g,m,x),w.return=g,w):(w=Ys(x.type,x.key,x.props,null,g.mode,w),w.ref=Fi(g,m,x),w.return=g,w)}function u(g,m,x,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==x.containerInfo||m.stateNode.implementation!==x.implementation?(m=eu(x,g.mode,w),m.return=g,m):(m=i(m,x.children||[]),m.return=g,m)}function c(g,m,x,w,S){return m===null||m.tag!==7?(m=Er(x,g.mode,w,S),m.return=g,m):(m=i(m,x),m.return=g,m)}function f(g,m,x){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Jl(""+m,g.mode,x),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ss:return x=Ys(m.type,m.key,m.props,null,g.mode,x),x.ref=Fi(g,null,m),x.return=g,x;case Wr:return m=eu(m,g.mode,x),m.return=g,m;case qn:var w=m._init;return f(g,w(m._payload),x)}if(Xi(m)||Oi(m))return m=Er(m,g.mode,x,null),m.return=g,m;vs(g,m)}return null}function h(g,m,x,w){var S=m!==null?m.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:a(g,m,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ss:return x.key===S?l(g,m,x,w):null;case Wr:return x.key===S?u(g,m,x,w):null;case qn:return S=x._init,h(g,m,S(x._payload),w)}if(Xi(x)||Oi(x))return S!==null?null:c(g,m,x,w,null);vs(g,x)}return null}function p(g,m,x,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(x)||null,a(m,g,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ss:return g=g.get(w.key===null?x:w.key)||null,l(m,g,w,S);case Wr:return g=g.get(w.key===null?x:w.key)||null,u(m,g,w,S);case qn:var E=w._init;return p(g,m,x,E(w._payload),S)}if(Xi(w)||Oi(w))return g=g.get(x)||null,c(m,g,w,S,null);vs(m,w)}return null}function y(g,m,x,w){for(var S=null,E=null,N=m,C=m=0,I=null;N!==null&&C<x.length;C++){N.index>C?(I=N,N=null):I=N.sibling;var O=h(g,N,x[C],w);if(O===null){N===null&&(N=I);break}e&&N&&O.alternate===null&&t(g,N),m=o(O,m,C),E===null?S=O:E.sibling=O,E=O,N=I}if(C===x.length)return n(g,N),_e&&pr(g,C),S;if(N===null){for(;C<x.length;C++)N=f(g,x[C],w),N!==null&&(m=o(N,m,C),E===null?S=N:E.sibling=N,E=N);return _e&&pr(g,C),S}for(N=r(g,N);C<x.length;C++)I=p(N,g,C,x[C],w),I!==null&&(e&&I.alternate!==null&&N.delete(I.key===null?C:I.key),m=o(I,m,C),E===null?S=I:E.sibling=I,E=I);return e&&N.forEach(function(q){return t(g,q)}),_e&&pr(g,C),S}function v(g,m,x,w){var S=Oi(x);if(typeof S!="function")throw Error(H(150));if(x=S.call(x),x==null)throw Error(H(151));for(var E=S=null,N=m,C=m=0,I=null,O=x.next();N!==null&&!O.done;C++,O=x.next()){N.index>C?(I=N,N=null):I=N.sibling;var q=h(g,N,O.value,w);if(q===null){N===null&&(N=I);break}e&&N&&q.alternate===null&&t(g,N),m=o(q,m,C),E===null?S=q:E.sibling=q,E=q,N=I}if(O.done)return n(g,N),_e&&pr(g,C),S;if(N===null){for(;!O.done;C++,O=x.next())O=f(g,O.value,w),O!==null&&(m=o(O,m,C),E===null?S=O:E.sibling=O,E=O);return _e&&pr(g,C),S}for(N=r(g,N);!O.done;C++,O=x.next())O=p(N,g,C,O.value,w),O!==null&&(e&&O.alternate!==null&&N.delete(O.key===null?C:O.key),m=o(O,m,C),E===null?S=O:E.sibling=O,E=O);return e&&N.forEach(function(F){return t(g,F)}),_e&&pr(g,C),S}function _(g,m,x,w){if(typeof x=="object"&&x!==null&&x.type===Gr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case ss:e:{for(var S=x.key,E=m;E!==null;){if(E.key===S){if(S=x.type,S===Gr){if(E.tag===7){n(g,E.sibling),m=i(E,x.props.children),m.return=g,g=m;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===qn&&Dv(S)===E.type){n(g,E.sibling),m=i(E,x.props),m.ref=Fi(g,E,x),m.return=g,g=m;break e}n(g,E);break}else t(g,E);E=E.sibling}x.type===Gr?(m=Er(x.props.children,g.mode,w,x.key),m.return=g,g=m):(w=Ys(x.type,x.key,x.props,null,g.mode,w),w.ref=Fi(g,m,x),w.return=g,g=w)}return s(g);case Wr:e:{for(E=x.key;m!==null;){if(m.key===E)if(m.tag===4&&m.stateNode.containerInfo===x.containerInfo&&m.stateNode.implementation===x.implementation){n(g,m.sibling),m=i(m,x.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else t(g,m);m=m.sibling}m=eu(x,g.mode,w),m.return=g,g=m}return s(g);case qn:return E=x._init,_(g,m,E(x._payload),w)}if(Xi(x))return y(g,m,x,w);if(Oi(x))return v(g,m,x,w);vs(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,m!==null&&m.tag===6?(n(g,m.sibling),m=i(m,x),m.return=g,g=m):(n(g,m),m=Jl(x,g.mode,w),m.return=g,g=m),s(g)):n(g,m)}return _}var vi=j2(!0),C2=j2(!1),ha=lr(null),pa=null,ti=null,Hm=null;function Vm(){Hm=ti=pa=null}function Um(e){var t=ha.current;ye(ha),e._currentValue=t}function Lp(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ui(e,t){pa=e,Hm=ti=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ut=!0),e.firstContext=null)}function Pt(e){var t=e._currentValue;if(Hm!==e)if(e={context:e,memoizedValue:t,next:null},ti===null){if(pa===null)throw Error(H(308));ti=e,pa.dependencies={lanes:0,firstContext:e}}else ti=ti.next=e;return t}var yr=null;function Wm(e){yr===null?yr=[e]:yr.push(e)}function T2(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Wm(t)):(n.next=i.next,i.next=n),t.interleaved=n,En(e,r)}function En(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ln=!1;function Gm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function I2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,de&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,En(e,n)}return i=r.interleaved,i===null?(t.next=t,Wm(r)):(t.next=i.next,i.next=t),r.interleaved=t,En(e,n)}function Hs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pm(e,n)}}function Fv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ma(e,t,n,r){var i=e.updateQueue;Ln=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var h=a.lane,p=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,v=a;switch(h=t,p=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){f=y.call(p,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,h=typeof y=="function"?y.call(p,f,h):y,h==null)break e;f=je({},f,h);break e;case 2:Ln=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Ir|=s,e.lanes=s,e.memoizedState=f}}function $v(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var Ko={},on=lr(Ko),Io=lr(Ko),Ro=lr(Ko);function xr(e){if(e===Ko)throw Error(H(174));return e}function Km(e,t){switch(ge(Ro,t),ge(Io,e),ge(on,Ko),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:vp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=vp(t,e)}ye(on),ge(on,t)}function yi(){ye(on),ye(Io),ye(Ro)}function R2(e){xr(Ro.current);var t=xr(on.current),n=vp(t,e.type);t!==n&&(ge(Io,e),ge(on,n))}function Ym(e){Io.current===e&&(ye(on),ye(Io))}var ke=lr(0);function ga(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gl=[];function Xm(){for(var e=0;e<Gl.length;e++)Gl[e]._workInProgressVersionPrimary=null;Gl.length=0}var Vs=Tn.ReactCurrentDispatcher,Kl=Tn.ReactCurrentBatchConfig,Tr=0,Ne=null,ze=null,Be=null,va=!1,ho=!1,Po=0,WC=0;function Xe(){throw Error(H(321))}function Qm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ut(e[n],t[n]))return!1;return!0}function Zm(e,t,n,r,i,o){if(Tr=o,Ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vs.current=e===null||e.memoizedState===null?XC:QC,e=n(r,i),ho){o=0;do{if(ho=!1,Po=0,25<=o)throw Error(H(301));o+=1,Be=ze=null,t.updateQueue=null,Vs.current=ZC,e=n(r,i)}while(ho)}if(Vs.current=ya,t=ze!==null&&ze.next!==null,Tr=0,Be=ze=Ne=null,va=!1,t)throw Error(H(300));return e}function Jm(){var e=Po!==0;return Po=0,e}function Zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Ne.memoizedState=Be=e:Be=Be.next=e,Be}function Mt(){if(ze===null){var e=Ne.alternate;e=e!==null?e.memoizedState:null}else e=ze.next;var t=Be===null?Ne.memoizedState:Be.next;if(t!==null)Be=t,ze=e;else{if(e===null)throw Error(H(310));ze=e,e={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},Be===null?Ne.memoizedState=Be=e:Be=Be.next=e}return Be}function Mo(e,t){return typeof t=="function"?t(e):t}function Yl(e){var t=Mt(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=ze,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Tr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,Ne.lanes|=c,Ir|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Ut(r,t.memoizedState)||(ut=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Ne.lanes|=o,Ir|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Xl(e){var t=Mt(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Ut(o,t.memoizedState)||(ut=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function P2(){}function M2(e,t){var n=Ne,r=Mt(),i=t(),o=!Ut(r.memoizedState,i);if(o&&(r.memoizedState=i,ut=!0),r=r.queue,eg(q2.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Be!==null&&Be.memoizedState.tag&1){if(n.flags|=2048,Ao(9,O2.bind(null,n,r,i,t),void 0,null),He===null)throw Error(H(349));Tr&30||A2(n,t,i)}return i}function A2(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ne.updateQueue,t===null?(t={lastEffect:null,stores:null},Ne.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function O2(e,t,n,r){t.value=n,t.getSnapshot=r,L2(t)&&z2(e)}function q2(e,t,n){return n(function(){L2(t)&&z2(e)})}function L2(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ut(e,n)}catch{return!0}}function z2(e){var t=En(e,1);t!==null&&Vt(t,e,1,-1)}function Bv(e){var t=Zt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mo,lastRenderedState:e},t.queue=e,e=e.dispatch=YC.bind(null,Ne,e),[t.memoizedState,e]}function Ao(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ne.updateQueue,t===null?(t={lastEffect:null,stores:null},Ne.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function D2(){return Mt().memoizedState}function Us(e,t,n,r){var i=Zt();Ne.flags|=e,i.memoizedState=Ao(1|t,n,void 0,r===void 0?null:r)}function Va(e,t,n,r){var i=Mt();r=r===void 0?null:r;var o=void 0;if(ze!==null){var s=ze.memoizedState;if(o=s.destroy,r!==null&&Qm(r,s.deps)){i.memoizedState=Ao(t,n,o,r);return}}Ne.flags|=e,i.memoizedState=Ao(1|t,n,o,r)}function Hv(e,t){return Us(8390656,8,e,t)}function eg(e,t){return Va(2048,8,e,t)}function F2(e,t){return Va(4,2,e,t)}function $2(e,t){return Va(4,4,e,t)}function B2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function H2(e,t,n){return n=n!=null?n.concat([e]):null,Va(4,4,B2.bind(null,t,e),n)}function tg(){}function V2(e,t){var n=Mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Qm(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function U2(e,t){var n=Mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Qm(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function W2(e,t,n){return Tr&21?(Ut(n,t)||(n=Qb(),Ne.lanes|=n,Ir|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ut=!0),e.memoizedState=n)}function GC(e,t){var n=he;he=n!==0&&4>n?n:4,e(!0);var r=Kl.transition;Kl.transition={};try{e(!1),t()}finally{he=n,Kl.transition=r}}function G2(){return Mt().memoizedState}function KC(e,t,n){var r=Jn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},K2(e))Y2(t,n);else if(n=T2(e,t,n,r),n!==null){var i=it();Vt(n,e,r,i),X2(n,t,r)}}function YC(e,t,n){var r=Jn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(K2(e))Y2(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Ut(a,s)){var l=t.interleaved;l===null?(i.next=i,Wm(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=T2(e,t,i,r),n!==null&&(i=it(),Vt(n,e,r,i),X2(n,t,r))}}function K2(e){var t=e.alternate;return e===Ne||t!==null&&t===Ne}function Y2(e,t){ho=va=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function X2(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pm(e,n)}}var ya={readContext:Pt,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useInsertionEffect:Xe,useLayoutEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useMutableSource:Xe,useSyncExternalStore:Xe,useId:Xe,unstable_isNewReconciler:!1},XC={readContext:Pt,useCallback:function(e,t){return Zt().memoizedState=[e,t===void 0?null:t],e},useContext:Pt,useEffect:Hv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Us(4194308,4,B2.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Us(4194308,4,e,t)},useInsertionEffect:function(e,t){return Us(4,2,e,t)},useMemo:function(e,t){var n=Zt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Zt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=KC.bind(null,Ne,e),[r.memoizedState,e]},useRef:function(e){var t=Zt();return e={current:e},t.memoizedState=e},useState:Bv,useDebugValue:tg,useDeferredValue:function(e){return Zt().memoizedState=e},useTransition:function(){var e=Bv(!1),t=e[0];return e=GC.bind(null,e[1]),Zt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ne,i=Zt();if(_e){if(n===void 0)throw Error(H(407));n=n()}else{if(n=t(),He===null)throw Error(H(349));Tr&30||A2(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Hv(q2.bind(null,r,o,e),[e]),r.flags|=2048,Ao(9,O2.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Zt(),t=He.identifierPrefix;if(_e){var n=gn,r=mn;n=(r&~(1<<32-Ht(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Po++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=WC++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},QC={readContext:Pt,useCallback:V2,useContext:Pt,useEffect:eg,useImperativeHandle:H2,useInsertionEffect:F2,useLayoutEffect:$2,useMemo:U2,useReducer:Yl,useRef:D2,useState:function(){return Yl(Mo)},useDebugValue:tg,useDeferredValue:function(e){var t=Mt();return W2(t,ze.memoizedState,e)},useTransition:function(){var e=Yl(Mo)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:P2,useSyncExternalStore:M2,useId:G2,unstable_isNewReconciler:!1},ZC={readContext:Pt,useCallback:V2,useContext:Pt,useEffect:eg,useImperativeHandle:H2,useInsertionEffect:F2,useLayoutEffect:$2,useMemo:U2,useReducer:Xl,useRef:D2,useState:function(){return Xl(Mo)},useDebugValue:tg,useDeferredValue:function(e){var t=Mt();return ze===null?t.memoizedState=e:W2(t,ze.memoizedState,e)},useTransition:function(){var e=Xl(Mo)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:P2,useSyncExternalStore:M2,useId:G2,unstable_isNewReconciler:!1};function zt(e,t){if(e&&e.defaultProps){t=je({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function zp(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:je({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ua={isMounted:function(e){return(e=e._reactInternals)?Or(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=it(),i=Jn(e),o=wn(r,i);o.payload=t,n!=null&&(o.callback=n),t=Qn(e,o,i),t!==null&&(Vt(t,e,i,r),Hs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=it(),i=Jn(e),o=wn(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Qn(e,o,i),t!==null&&(Vt(t,e,i,r),Hs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=it(),r=Jn(e),i=wn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Qn(e,i,r),t!==null&&(Vt(t,e,r,n),Hs(t,e,r))}};function Vv(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!No(n,r)||!No(i,o):!0}function Q2(e,t,n){var r=!1,i=ir,o=t.contextType;return typeof o=="object"&&o!==null?o=Pt(o):(i=ft(t)?jr:Je.current,r=t.contextTypes,o=(r=r!=null)?mi(e,i):ir),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ua,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Uv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ua.enqueueReplaceState(t,t.state,null)}function Dp(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Gm(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Pt(o):(o=ft(t)?jr:Je.current,i.context=mi(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(zp(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ua.enqueueReplaceState(i,i.state,null),ma(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function xi(e,t){try{var n="",r=t;do n+=Nj(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Ql(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Fp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var JC=typeof WeakMap=="function"?WeakMap:Map;function Z2(e,t,n){n=wn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){wa||(wa=!0,Xp=r),Fp(e,t)},n}function J2(e,t,n){n=wn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Fp(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Fp(e,t),typeof r!="function"&&(Zn===null?Zn=new Set([this]):Zn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Wv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new JC;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=h4.bind(null,e,t,n),t.then(e,e))}function Gv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Kv(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=wn(-1,1),t.tag=2,Qn(n,t,1))),n.lanes|=1),e)}var e4=Tn.ReactCurrentOwner,ut=!1;function rt(e,t,n,r){t.child=e===null?C2(t,null,n,r):vi(t,e.child,n,r)}function Yv(e,t,n,r,i){n=n.render;var o=t.ref;return ui(t,i),r=Zm(e,t,n,r,o,i),n=Jm(),e!==null&&!ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,kn(e,t,i)):(_e&&n&&Fm(t),t.flags|=1,rt(e,t,r,i),t.child)}function Xv(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!ug(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,eS(e,t,o,r,i)):(e=Ys(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:No,n(s,r)&&e.ref===t.ref)return kn(e,t,i)}return t.flags|=1,e=er(o,r),e.ref=t.ref,e.return=t,t.child=e}function eS(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(No(o,r)&&e.ref===t.ref)if(ut=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(ut=!0);else return t.lanes=e.lanes,kn(e,t,i)}return $p(e,t,n,r,i)}function tS(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(ri,vt),vt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ge(ri,vt),vt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ge(ri,vt),vt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ge(ri,vt),vt|=r;return rt(e,t,i,n),t.child}function nS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function $p(e,t,n,r,i){var o=ft(n)?jr:Je.current;return o=mi(t,o),ui(t,i),n=Zm(e,t,n,r,o,i),r=Jm(),e!==null&&!ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,kn(e,t,i)):(_e&&r&&Fm(t),t.flags|=1,rt(e,t,n,i),t.child)}function Qv(e,t,n,r,i){if(ft(n)){var o=!0;ca(t)}else o=!1;if(ui(t,i),t.stateNode===null)Ws(e,t),Q2(t,n,r),Dp(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Pt(u):(u=ft(n)?jr:Je.current,u=mi(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Uv(t,s,r,u),Ln=!1;var h=t.memoizedState;s.state=h,ma(t,r,s,i),l=t.memoizedState,a!==r||h!==l||dt.current||Ln?(typeof c=="function"&&(zp(t,n,c,r),l=t.memoizedState),(a=Ln||Vv(t,n,a,r,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,I2(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:zt(t.type,a),s.props=u,f=t.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Pt(l):(l=ft(n)?jr:Je.current,l=mi(t,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&Uv(t,s,r,l),Ln=!1,h=t.memoizedState,s.state=h,ma(t,r,s,i);var y=t.memoizedState;a!==f||h!==y||dt.current||Ln?(typeof p=="function"&&(zp(t,n,p,r),y=t.memoizedState),(u=Ln||Vv(t,n,u,r,h,y,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),s.props=r,s.state=y,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Bp(e,t,n,r,o,i)}function Bp(e,t,n,r,i,o){nS(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&qv(t,n,!1),kn(e,t,o);r=t.stateNode,e4.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=vi(t,e.child,null,o),t.child=vi(t,null,a,o)):rt(e,t,a,o),t.memoizedState=r.state,i&&qv(t,n,!0),t.child}function rS(e){var t=e.stateNode;t.pendingContext?Ov(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ov(e,t.context,!1),Km(e,t.containerInfo)}function Zv(e,t,n,r,i){return gi(),Bm(i),t.flags|=256,rt(e,t,n,r),t.child}var Hp={dehydrated:null,treeContext:null,retryLane:0};function Vp(e){return{baseLanes:e,cachePool:null,transitions:null}}function iS(e,t,n){var r=t.pendingProps,i=ke.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ge(ke,i&1),e===null)return qp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Ka(s,r,0,null),e=Er(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Vp(n),t.memoizedState=Hp,e):ng(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return t4(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=er(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=er(a,o):(o=Er(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?Vp(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Hp,r}return o=e.child,e=o.sibling,r=er(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ng(e,t){return t=Ka({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ys(e,t,n,r){return r!==null&&Bm(r),vi(t,e.child,null,n),e=ng(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function t4(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=Ql(Error(H(422))),ys(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Ka({mode:"visible",children:r.children},i,0,null),o=Er(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&vi(t,e.child,null,s),t.child.memoizedState=Vp(s),t.memoizedState=Hp,o);if(!(t.mode&1))return ys(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(H(419)),r=Ql(o,r,void 0),ys(e,t,s,r)}if(a=(s&e.childLanes)!==0,ut||a){if(r=He,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,En(e,i),Vt(r,e,i,-1))}return lg(),r=Ql(Error(H(421))),ys(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=p4.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,xt=Xn(i.nextSibling),wt=t,_e=!0,$t=null,e!==null&&(Nt[jt++]=mn,Nt[jt++]=gn,Nt[jt++]=Cr,mn=e.id,gn=e.overflow,Cr=t),t=ng(t,r.children),t.flags|=4096,t)}function Jv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Lp(e.return,t,n)}function Zl(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function oS(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(rt(e,t,r.children,n),r=ke.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jv(e,n,t);else if(e.tag===19)Jv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ge(ke,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ga(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Zl(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ga(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Zl(t,!0,n,null,o);break;case"together":Zl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ir|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,n=er(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=er(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function n4(e,t,n){switch(t.tag){case 3:rS(t),gi();break;case 5:R2(t);break;case 1:ft(t.type)&&ca(t);break;case 4:Km(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ge(ha,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ge(ke,ke.current&1),t.flags|=128,null):n&t.child.childLanes?iS(e,t,n):(ge(ke,ke.current&1),e=kn(e,t,n),e!==null?e.sibling:null);ge(ke,ke.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return oS(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ge(ke,ke.current),r)break;return null;case 22:case 23:return t.lanes=0,tS(e,t,n)}return kn(e,t,n)}var sS,Up,aS,lS;sS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Up=function(){};aS=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,xr(on.current);var o=null;switch(n){case"input":i=hp(e,i),r=hp(e,r),o=[];break;case"select":i=je({},i,{value:void 0}),r=je({},r,{value:void 0}),o=[];break;case"textarea":i=gp(e,i),r=gp(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=la)}yp(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(xo.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(xo.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ve("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};lS=function(e,t,n,r){n!==r&&(t.flags|=4)};function $i(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function r4(e,t,n){var r=t.pendingProps;switch($m(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(t),null;case 1:return ft(t.type)&&ua(),Qe(t),null;case 3:return r=t.stateNode,yi(),ye(dt),ye(Je),Xm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(gs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,$t!==null&&(Jp($t),$t=null))),Up(e,t),Qe(t),null;case 5:Ym(t);var i=xr(Ro.current);if(n=t.type,e!==null&&t.stateNode!=null)aS(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(H(166));return Qe(t),null}if(e=xr(on.current),gs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[tn]=t,r[To]=o,e=(t.mode&1)!==0,n){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(i=0;i<Zi.length;i++)ve(Zi[i],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":lv(r,o),ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ve("invalid",r);break;case"textarea":cv(r,o),ve("invalid",r)}yp(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&ms(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&ms(r.textContent,a,e),i=["children",""+a]):xo.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ve("scroll",r)}switch(n){case"input":as(r),uv(r,o,!0);break;case"textarea":as(r),dv(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=la)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qb(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[tn]=t,e[To]=r,sS(e,t,!1,!1),t.stateNode=e;e:{switch(s=xp(n,r),n){case"dialog":ve("cancel",e),ve("close",e),i=r;break;case"iframe":case"object":case"embed":ve("load",e),i=r;break;case"video":case"audio":for(i=0;i<Zi.length;i++)ve(Zi[i],e);i=r;break;case"source":ve("error",e),i=r;break;case"img":case"image":case"link":ve("error",e),ve("load",e),i=r;break;case"details":ve("toggle",e),i=r;break;case"input":lv(e,r),i=hp(e,r),ve("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=je({},r,{value:void 0}),ve("invalid",e);break;case"textarea":cv(e,r),i=gp(e,r),ve("invalid",e);break;default:i=r}yp(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Db(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Lb(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&wo(e,l):typeof l=="number"&&wo(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(xo.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ve("scroll",e):l!=null&&Nm(e,o,l,s))}switch(n){case"input":as(e),uv(e,r,!1);break;case"textarea":as(e),dv(e);break;case"option":r.value!=null&&e.setAttribute("value",""+rr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?oi(e,!!r.multiple,o,!1):r.defaultValue!=null&&oi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=la)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qe(t),null;case 6:if(e&&t.stateNode!=null)lS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(H(166));if(n=xr(Ro.current),xr(on.current),gs(t)){if(r=t.stateNode,n=t.memoizedProps,r[tn]=t,(o=r.nodeValue!==n)&&(e=wt,e!==null))switch(e.tag){case 3:ms(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ms(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[tn]=t,t.stateNode=r}return Qe(t),null;case 13:if(ye(ke),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(_e&&xt!==null&&t.mode&1&&!(t.flags&128))N2(),gi(),t.flags|=98560,o=!1;else if(o=gs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(H(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(H(317));o[tn]=t}else gi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Qe(t),o=!1}else $t!==null&&(Jp($t),$t=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ke.current&1?De===0&&(De=3):lg())),t.updateQueue!==null&&(t.flags|=4),Qe(t),null);case 4:return yi(),Up(e,t),e===null&&jo(t.stateNode.containerInfo),Qe(t),null;case 10:return Um(t.type._context),Qe(t),null;case 17:return ft(t.type)&&ua(),Qe(t),null;case 19:if(ye(ke),o=t.memoizedState,o===null)return Qe(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)$i(o,!1);else{if(De!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=ga(e),s!==null){for(t.flags|=128,$i(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ge(ke,ke.current&1|2),t.child}e=e.sibling}o.tail!==null&&Pe()>wi&&(t.flags|=128,r=!0,$i(o,!1),t.lanes=4194304)}else{if(!r)if(e=ga(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),$i(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!_e)return Qe(t),null}else 2*Pe()-o.renderingStartTime>wi&&n!==1073741824&&(t.flags|=128,r=!0,$i(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Pe(),t.sibling=null,n=ke.current,ge(ke,r?n&1|2:n&1),t):(Qe(t),null);case 22:case 23:return ag(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?vt&1073741824&&(Qe(t),t.subtreeFlags&6&&(t.flags|=8192)):Qe(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function i4(e,t){switch($m(t),t.tag){case 1:return ft(t.type)&&ua(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yi(),ye(dt),ye(Je),Xm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ym(t),null;case 13:if(ye(ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));gi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ye(ke),null;case 4:return yi(),null;case 10:return Um(t.type._context),null;case 22:case 23:return ag(),null;case 24:return null;default:return null}}var xs=!1,Ze=!1,o4=typeof WeakSet=="function"?WeakSet:Set,Y=null;function ni(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ce(e,t,r)}else n.current=null}function Wp(e,t,n){try{n()}catch(r){Ce(e,t,r)}}var ey=!1;function s4(e,t){if(Tp=oa,e=h2(),Dm(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=e,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===i&&(a=s),h===o&&++c===r&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ip={focusedElem:e,selectionRange:n},oa=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,_=y.memoizedState,g=t.stateNode,m=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:zt(t.type,v),_);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(w){Ce(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return y=ey,ey=!1,y}function po(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Wp(t,n,o)}i=i.next}while(i!==r)}}function Wa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Gp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function uS(e){var t=e.alternate;t!==null&&(e.alternate=null,uS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[tn],delete t[To],delete t[Mp],delete t[BC],delete t[HC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function cS(e){return e.tag===5||e.tag===3||e.tag===4}function ty(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=la));else if(r!==4&&(e=e.child,e!==null))for(Kp(e,t,n),e=e.sibling;e!==null;)Kp(e,t,n),e=e.sibling}function Yp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Yp(e,t,n),e=e.sibling;e!==null;)Yp(e,t,n),e=e.sibling}var We=null,Dt=!1;function Mn(e,t,n){for(n=n.child;n!==null;)dS(e,t,n),n=n.sibling}function dS(e,t,n){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(za,n)}catch{}switch(n.tag){case 5:Ze||ni(n,t);case 6:var r=We,i=Dt;We=null,Mn(e,t,n),We=r,Dt=i,We!==null&&(Dt?(e=We,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):We.removeChild(n.stateNode));break;case 18:We!==null&&(Dt?(e=We,n=n.stateNode,e.nodeType===8?Ul(e.parentNode,n):e.nodeType===1&&Ul(e,n),Eo(e)):Ul(We,n.stateNode));break;case 4:r=We,i=Dt,We=n.stateNode.containerInfo,Dt=!0,Mn(e,t,n),We=r,Dt=i;break;case 0:case 11:case 14:case 15:if(!Ze&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Wp(n,t,s),i=i.next}while(i!==r)}Mn(e,t,n);break;case 1:if(!Ze&&(ni(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ce(n,t,a)}Mn(e,t,n);break;case 21:Mn(e,t,n);break;case 22:n.mode&1?(Ze=(r=Ze)||n.memoizedState!==null,Mn(e,t,n),Ze=r):Mn(e,t,n);break;default:Mn(e,t,n)}}function ny(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new o4),t.forEach(function(r){var i=m4.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function qt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:We=a.stateNode,Dt=!1;break e;case 3:We=a.stateNode.containerInfo,Dt=!0;break e;case 4:We=a.stateNode.containerInfo,Dt=!0;break e}a=a.return}if(We===null)throw Error(H(160));dS(o,s,i),We=null,Dt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ce(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)fS(t,e),t=t.sibling}function fS(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qt(t,e),Qt(e),r&4){try{po(3,e,e.return),Wa(3,e)}catch(v){Ce(e,e.return,v)}try{po(5,e,e.return)}catch(v){Ce(e,e.return,v)}}break;case 1:qt(t,e),Qt(e),r&512&&n!==null&&ni(n,n.return);break;case 5:if(qt(t,e),Qt(e),r&512&&n!==null&&ni(n,n.return),e.flags&32){var i=e.stateNode;try{wo(i,"")}catch(v){Ce(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Ab(i,o),xp(a,s);var u=xp(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?Db(i,f):c==="dangerouslySetInnerHTML"?Lb(i,f):c==="children"?wo(i,f):Nm(i,c,f,u)}switch(a){case"input":pp(i,o);break;case"textarea":Ob(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?oi(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?oi(i,!!o.multiple,o.defaultValue,!0):oi(i,!!o.multiple,o.multiple?[]:"",!1))}i[To]=o}catch(v){Ce(e,e.return,v)}}break;case 6:if(qt(t,e),Qt(e),r&4){if(e.stateNode===null)throw Error(H(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(v){Ce(e,e.return,v)}}break;case 3:if(qt(t,e),Qt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Eo(t.containerInfo)}catch(v){Ce(e,e.return,v)}break;case 4:qt(t,e),Qt(e);break;case 13:qt(t,e),Qt(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(og=Pe())),r&4&&ny(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Ze=(u=Ze)||c,qt(t,e),Ze=u):qt(t,e),Qt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(Y=e,c=e.child;c!==null;){for(f=Y=c;Y!==null;){switch(h=Y,p=h.child,h.tag){case 0:case 11:case 14:case 15:po(4,h,h.return);break;case 1:ni(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(v){Ce(r,n,v)}}break;case 5:ni(h,h.return);break;case 22:if(h.memoizedState!==null){iy(f);continue}}p!==null?(p.return=h,Y=p):iy(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=zb("display",s))}catch(v){Ce(e,e.return,v)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Ce(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:qt(t,e),Qt(e),r&4&&ny(e);break;case 21:break;default:qt(t,e),Qt(e)}}function Qt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(cS(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(wo(i,""),r.flags&=-33);var o=ty(e);Yp(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=ty(e);Kp(e,a,s);break;default:throw Error(H(161))}}catch(l){Ce(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function a4(e,t,n){Y=e,hS(e)}function hS(e,t,n){for(var r=(e.mode&1)!==0;Y!==null;){var i=Y,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||xs;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ze;a=xs;var u=Ze;if(xs=s,(Ze=l)&&!u)for(Y=i;Y!==null;)s=Y,l=s.child,s.tag===22&&s.memoizedState!==null?oy(i):l!==null?(l.return=s,Y=l):oy(i);for(;o!==null;)Y=o,hS(o),o=o.sibling;Y=i,xs=a,Ze=u}ry(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Y=o):ry(e)}}function ry(e){for(;Y!==null;){var t=Y;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ze||Wa(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ze)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:zt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&$v(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}$v(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Eo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Ze||t.flags&512&&Gp(t)}catch(h){Ce(t,t.return,h)}}if(t===e){Y=null;break}if(n=t.sibling,n!==null){n.return=t.return,Y=n;break}Y=t.return}}function iy(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Y=n;break}Y=t.return}}function oy(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Wa(4,t)}catch(l){Ce(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Ce(t,i,l)}}var o=t.return;try{Gp(t)}catch(l){Ce(t,o,l)}break;case 5:var s=t.return;try{Gp(t)}catch(l){Ce(t,s,l)}}}catch(l){Ce(t,t.return,l)}if(t===e){Y=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Y=a;break}Y=t.return}}var l4=Math.ceil,xa=Tn.ReactCurrentDispatcher,rg=Tn.ReactCurrentOwner,Rt=Tn.ReactCurrentBatchConfig,de=0,He=null,Ae=null,Ge=0,vt=0,ri=lr(0),De=0,Oo=null,Ir=0,Ga=0,ig=0,mo=null,lt=null,og=0,wi=1/0,hn=null,wa=!1,Xp=null,Zn=null,ws=!1,Wn=null,_a=0,go=0,Qp=null,Gs=-1,Ks=0;function it(){return de&6?Pe():Gs!==-1?Gs:Gs=Pe()}function Jn(e){return e.mode&1?de&2&&Ge!==0?Ge&-Ge:UC.transition!==null?(Ks===0&&(Ks=Qb()),Ks):(e=he,e!==0||(e=window.event,e=e===void 0?16:i2(e.type)),e):1}function Vt(e,t,n,r){if(50<go)throw go=0,Qp=null,Error(H(185));Uo(e,n,r),(!(de&2)||e!==He)&&(e===He&&(!(de&2)&&(Ga|=n),De===4&&$n(e,Ge)),ht(e,r),n===1&&de===0&&!(t.mode&1)&&(wi=Pe()+500,Ha&&ur()))}function ht(e,t){var n=e.callbackNode;Uj(e,t);var r=ia(e,e===He?Ge:0);if(r===0)n!==null&&pv(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&pv(n),t===1)e.tag===0?VC(sy.bind(null,e)):S2(sy.bind(null,e)),FC(function(){!(de&6)&&ur()}),n=null;else{switch(Zb(r)){case 1:n=Rm;break;case 4:n=Yb;break;case 16:n=ra;break;case 536870912:n=Xb;break;default:n=ra}n=_S(n,pS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function pS(e,t){if(Gs=-1,Ks=0,de&6)throw Error(H(327));var n=e.callbackNode;if(ci()&&e.callbackNode!==n)return null;var r=ia(e,e===He?Ge:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ba(e,r);else{t=r;var i=de;de|=2;var o=gS();(He!==e||Ge!==t)&&(hn=null,wi=Pe()+500,Sr(e,t));do try{d4();break}catch(a){mS(e,a)}while(!0);Vm(),xa.current=o,de=i,Ae!==null?t=0:(He=null,Ge=0,t=De)}if(t!==0){if(t===2&&(i=Ep(e),i!==0&&(r=i,t=Zp(e,i))),t===1)throw n=Oo,Sr(e,0),$n(e,r),ht(e,Pe()),n;if(t===6)$n(e,r);else{if(i=e.current.alternate,!(r&30)&&!u4(i)&&(t=ba(e,r),t===2&&(o=Ep(e),o!==0&&(r=o,t=Zp(e,o))),t===1))throw n=Oo,Sr(e,0),$n(e,r),ht(e,Pe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(H(345));case 2:mr(e,lt,hn);break;case 3:if($n(e,r),(r&130023424)===r&&(t=og+500-Pe(),10<t)){if(ia(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){it(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Pp(mr.bind(null,e,lt,hn),t);break}mr(e,lt,hn);break;case 4:if($n(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Ht(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=Pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*l4(r/1960))-r,10<r){e.timeoutHandle=Pp(mr.bind(null,e,lt,hn),r);break}mr(e,lt,hn);break;case 5:mr(e,lt,hn);break;default:throw Error(H(329))}}}return ht(e,Pe()),e.callbackNode===n?pS.bind(null,e):null}function Zp(e,t){var n=mo;return e.current.memoizedState.isDehydrated&&(Sr(e,t).flags|=256),e=ba(e,t),e!==2&&(t=lt,lt=n,t!==null&&Jp(t)),e}function Jp(e){lt===null?lt=e:lt.push.apply(lt,e)}function u4(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Ut(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $n(e,t){for(t&=~ig,t&=~Ga,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function sy(e){if(de&6)throw Error(H(327));ci();var t=ia(e,0);if(!(t&1))return ht(e,Pe()),null;var n=ba(e,t);if(e.tag!==0&&n===2){var r=Ep(e);r!==0&&(t=r,n=Zp(e,r))}if(n===1)throw n=Oo,Sr(e,0),$n(e,t),ht(e,Pe()),n;if(n===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,mr(e,lt,hn),ht(e,Pe()),null}function sg(e,t){var n=de;de|=1;try{return e(t)}finally{de=n,de===0&&(wi=Pe()+500,Ha&&ur())}}function Rr(e){Wn!==null&&Wn.tag===0&&!(de&6)&&ci();var t=de;de|=1;var n=Rt.transition,r=he;try{if(Rt.transition=null,he=1,e)return e()}finally{he=r,Rt.transition=n,de=t,!(de&6)&&ur()}}function ag(){vt=ri.current,ye(ri)}function Sr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,DC(n)),Ae!==null)for(n=Ae.return;n!==null;){var r=n;switch($m(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ua();break;case 3:yi(),ye(dt),ye(Je),Xm();break;case 5:Ym(r);break;case 4:yi();break;case 13:ye(ke);break;case 19:ye(ke);break;case 10:Um(r.type._context);break;case 22:case 23:ag()}n=n.return}if(He=e,Ae=e=er(e.current,null),Ge=vt=t,De=0,Oo=null,ig=Ga=Ir=0,lt=mo=null,yr!==null){for(t=0;t<yr.length;t++)if(n=yr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}yr=null}return e}function mS(e,t){do{var n=Ae;try{if(Vm(),Vs.current=ya,va){for(var r=Ne.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}va=!1}if(Tr=0,Be=ze=Ne=null,ho=!1,Po=0,rg.current=null,n===null||n.return===null){De=1,Oo=t,Ae=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=Ge,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=Gv(s);if(p!==null){p.flags&=-257,Kv(p,s,a,o,t),p.mode&1&&Wv(o,u,t),t=p,l=u;var y=t.updateQueue;if(y===null){var v=new Set;v.add(l),t.updateQueue=v}else y.add(l);break e}else{if(!(t&1)){Wv(o,u,t),lg();break e}l=Error(H(426))}}else if(_e&&a.mode&1){var _=Gv(s);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Kv(_,s,a,o,t),Bm(xi(l,a));break e}}o=l=xi(l,a),De!==4&&(De=2),mo===null?mo=[o]:mo.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var g=Z2(o,l,t);Fv(o,g);break e;case 1:a=l;var m=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof m.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Zn===null||!Zn.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t;var w=J2(o,a,t);Fv(o,w);break e}}o=o.return}while(o!==null)}yS(n)}catch(S){t=S,Ae===n&&n!==null&&(Ae=n=n.return);continue}break}while(!0)}function gS(){var e=xa.current;return xa.current=ya,e===null?ya:e}function lg(){(De===0||De===3||De===2)&&(De=4),He===null||!(Ir&268435455)&&!(Ga&268435455)||$n(He,Ge)}function ba(e,t){var n=de;de|=2;var r=gS();(He!==e||Ge!==t)&&(hn=null,Sr(e,t));do try{c4();break}catch(i){mS(e,i)}while(!0);if(Vm(),de=n,xa.current=r,Ae!==null)throw Error(H(261));return He=null,Ge=0,De}function c4(){for(;Ae!==null;)vS(Ae)}function d4(){for(;Ae!==null&&!qj();)vS(Ae)}function vS(e){var t=wS(e.alternate,e,vt);e.memoizedProps=e.pendingProps,t===null?yS(e):Ae=t,rg.current=null}function yS(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=i4(n,t),n!==null){n.flags&=32767,Ae=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{De=6,Ae=null;return}}else if(n=r4(n,t,vt),n!==null){Ae=n;return}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);De===0&&(De=5)}function mr(e,t,n){var r=he,i=Rt.transition;try{Rt.transition=null,he=1,f4(e,t,n,r)}finally{Rt.transition=i,he=r}return null}function f4(e,t,n,r){do ci();while(Wn!==null);if(de&6)throw Error(H(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Wj(e,o),e===He&&(Ae=He=null,Ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ws||(ws=!0,_S(ra,function(){return ci(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Rt.transition,Rt.transition=null;var s=he;he=1;var a=de;de|=4,rg.current=null,s4(e,n),fS(n,e),PC(Ip),oa=!!Tp,Ip=Tp=null,e.current=n,a4(n),Lj(),de=a,he=s,Rt.transition=o}else e.current=n;if(ws&&(ws=!1,Wn=e,_a=i),o=e.pendingLanes,o===0&&(Zn=null),Fj(n.stateNode),ht(e,Pe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(wa)throw wa=!1,e=Xp,Xp=null,e;return _a&1&&e.tag!==0&&ci(),o=e.pendingLanes,o&1?e===Qp?go++:(go=0,Qp=e):go=0,ur(),null}function ci(){if(Wn!==null){var e=Zb(_a),t=Rt.transition,n=he;try{if(Rt.transition=null,he=16>e?16:e,Wn===null)var r=!1;else{if(e=Wn,Wn=null,_a=0,de&6)throw Error(H(331));var i=de;for(de|=4,Y=e.current;Y!==null;){var o=Y,s=o.child;if(Y.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Y=u;Y!==null;){var c=Y;switch(c.tag){case 0:case 11:case 15:po(8,c,o)}var f=c.child;if(f!==null)f.return=c,Y=f;else for(;Y!==null;){c=Y;var h=c.sibling,p=c.return;if(uS(c),c===u){Y=null;break}if(h!==null){h.return=p,Y=h;break}Y=p}}}var y=o.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}Y=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Y=s;else e:for(;Y!==null;){if(o=Y,o.flags&2048)switch(o.tag){case 0:case 11:case 15:po(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,Y=g;break e}Y=o.return}}var m=e.current;for(Y=m;Y!==null;){s=Y;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,Y=x;else e:for(s=m;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Wa(9,a)}}catch(S){Ce(a,a.return,S)}if(a===s){Y=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,Y=w;break e}Y=a.return}}if(de=i,ur(),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(za,e)}catch{}r=!0}return r}finally{he=n,Rt.transition=t}}return!1}function ay(e,t,n){t=xi(n,t),t=Z2(e,t,1),e=Qn(e,t,1),t=it(),e!==null&&(Uo(e,1,t),ht(e,t))}function Ce(e,t,n){if(e.tag===3)ay(e,e,n);else for(;t!==null;){if(t.tag===3){ay(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zn===null||!Zn.has(r))){e=xi(n,e),e=J2(t,e,1),t=Qn(t,e,1),e=it(),t!==null&&(Uo(t,1,e),ht(t,e));break}}t=t.return}}function h4(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=it(),e.pingedLanes|=e.suspendedLanes&n,He===e&&(Ge&n)===n&&(De===4||De===3&&(Ge&130023424)===Ge&&500>Pe()-og?Sr(e,0):ig|=n),ht(e,t)}function xS(e,t){t===0&&(e.mode&1?(t=cs,cs<<=1,!(cs&130023424)&&(cs=4194304)):t=1);var n=it();e=En(e,t),e!==null&&(Uo(e,t,n),ht(e,n))}function p4(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),xS(e,n)}function m4(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(t),xS(e,n)}var wS;wS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||dt.current)ut=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ut=!1,n4(e,t,n);ut=!!(e.flags&131072)}else ut=!1,_e&&t.flags&1048576&&E2(t,fa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var i=mi(t,Je.current);ui(t,n),i=Zm(null,t,r,e,i,n);var o=Jm();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ft(r)?(o=!0,ca(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Gm(t),i.updater=Ua,t.stateNode=i,i._reactInternals=t,Dp(t,r,e,n),t=Bp(null,t,r,!0,o,n)):(t.tag=0,_e&&o&&Fm(t),rt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=v4(r),e=zt(r,e),i){case 0:t=$p(null,t,r,e,n);break e;case 1:t=Qv(null,t,r,e,n);break e;case 11:t=Yv(null,t,r,e,n);break e;case 14:t=Xv(null,t,r,zt(r.type,e),n);break e}throw Error(H(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zt(r,i),$p(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zt(r,i),Qv(e,t,r,i,n);case 3:e:{if(rS(t),e===null)throw Error(H(387));r=t.pendingProps,o=t.memoizedState,i=o.element,I2(e,t),ma(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=xi(Error(H(423)),t),t=Zv(e,t,r,n,i);break e}else if(r!==i){i=xi(Error(H(424)),t),t=Zv(e,t,r,n,i);break e}else for(xt=Xn(t.stateNode.containerInfo.firstChild),wt=t,_e=!0,$t=null,n=C2(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(gi(),r===i){t=kn(e,t,n);break e}rt(e,t,r,n)}t=t.child}return t;case 5:return R2(t),e===null&&qp(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,Rp(r,i)?s=null:o!==null&&Rp(r,o)&&(t.flags|=32),nS(e,t),rt(e,t,s,n),t.child;case 6:return e===null&&qp(t),null;case 13:return iS(e,t,n);case 4:return Km(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=vi(t,null,r,n):rt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zt(r,i),Yv(e,t,r,i,n);case 7:return rt(e,t,t.pendingProps,n),t.child;case 8:return rt(e,t,t.pendingProps.children,n),t.child;case 12:return rt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,ge(ha,r._currentValue),r._currentValue=s,o!==null)if(Ut(o.value,s)){if(o.children===i.children&&!dt.current){t=kn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=wn(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Lp(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(H(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Lp(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}rt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ui(t,n),i=Pt(i),r=r(i),t.flags|=1,rt(e,t,r,n),t.child;case 14:return r=t.type,i=zt(r,t.pendingProps),i=zt(r.type,i),Xv(e,t,r,i,n);case 15:return eS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zt(r,i),Ws(e,t),t.tag=1,ft(r)?(e=!0,ca(t)):e=!1,ui(t,n),Q2(t,r,i),Dp(t,r,i,n),Bp(null,t,r,!0,e,n);case 19:return oS(e,t,n);case 22:return tS(e,t,n)}throw Error(H(156,t.tag))};function _S(e,t){return Kb(e,t)}function g4(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(e,t,n,r){return new g4(e,t,n,r)}function ug(e){return e=e.prototype,!(!e||!e.isReactComponent)}function v4(e){if(typeof e=="function")return ug(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Cm)return 11;if(e===Tm)return 14}return 2}function er(e,t){var n=e.alternate;return n===null?(n=Tt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ys(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")ug(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Gr:return Er(n.children,i,o,t);case jm:s=8,i|=8;break;case up:return e=Tt(12,n,t,i|2),e.elementType=up,e.lanes=o,e;case cp:return e=Tt(13,n,t,i),e.elementType=cp,e.lanes=o,e;case dp:return e=Tt(19,n,t,i),e.elementType=dp,e.lanes=o,e;case Rb:return Ka(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Tb:s=10;break e;case Ib:s=9;break e;case Cm:s=11;break e;case Tm:s=14;break e;case qn:s=16,r=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=Tt(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Er(e,t,n,r){return e=Tt(7,e,r,t),e.lanes=n,e}function Ka(e,t,n,r){return e=Tt(22,e,r,t),e.elementType=Rb,e.lanes=n,e.stateNode={isHidden:!1},e}function Jl(e,t,n){return e=Tt(6,e,null,t),e.lanes=n,e}function eu(e,t,n){return t=Tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function y4(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Al(0),this.expirationTimes=Al(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Al(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function cg(e,t,n,r,i,o,s,a,l){return e=new y4(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Tt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gm(o),e}function x4(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function bS(e){if(!e)return ir;e=e._reactInternals;e:{if(Or(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ft(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var n=e.type;if(ft(n))return b2(e,n,t)}return t}function SS(e,t,n,r,i,o,s,a,l){return e=cg(n,r,!0,e,i,o,s,a,l),e.context=bS(null),n=e.current,r=it(),i=Jn(n),o=wn(r,i),o.callback=t??null,Qn(n,o,i),e.current.lanes=i,Uo(e,i,r),ht(e,r),e}function Ya(e,t,n,r){var i=t.current,o=it(),s=Jn(i);return n=bS(n),t.context===null?t.context=n:t.pendingContext=n,t=wn(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Qn(i,t,s),e!==null&&(Vt(e,i,s,o),Hs(e,i,s)),s}function Sa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ly(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function dg(e,t){ly(e,t),(e=e.alternate)&&ly(e,t)}function w4(){return null}var ES=typeof reportError=="function"?reportError:function(e){console.error(e)};function fg(e){this._internalRoot=e}Xa.prototype.render=fg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));Ya(e,t,null,null)};Xa.prototype.unmount=fg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rr(function(){Ya(null,e,null,null)}),t[Sn]=null}};function Xa(e){this._internalRoot=e}Xa.prototype.unstable_scheduleHydration=function(e){if(e){var t=t2();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Fn.length&&t!==0&&t<Fn[n].priority;n++);Fn.splice(n,0,e),n===0&&r2(e)}};function hg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Qa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function uy(){}function _4(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Sa(s);o.call(u)}}var s=SS(t,r,e,0,null,!1,!1,"",uy);return e._reactRootContainer=s,e[Sn]=s.current,jo(e.nodeType===8?e.parentNode:e),Rr(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Sa(l);a.call(u)}}var l=cg(e,0,!1,null,null,!1,!1,"",uy);return e._reactRootContainer=l,e[Sn]=l.current,jo(e.nodeType===8?e.parentNode:e),Rr(function(){Ya(t,l,n,r)}),l}function Za(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Sa(s);a.call(l)}}Ya(t,s,e,i)}else s=_4(n,t,e,i,r);return Sa(s)}Jb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Qi(t.pendingLanes);n!==0&&(Pm(t,n|1),ht(t,Pe()),!(de&6)&&(wi=Pe()+500,ur()))}break;case 13:Rr(function(){var r=En(e,1);if(r!==null){var i=it();Vt(r,e,1,i)}}),dg(e,1)}};Mm=function(e){if(e.tag===13){var t=En(e,134217728);if(t!==null){var n=it();Vt(t,e,134217728,n)}dg(e,134217728)}};e2=function(e){if(e.tag===13){var t=Jn(e),n=En(e,t);if(n!==null){var r=it();Vt(n,e,t,r)}dg(e,t)}};t2=function(){return he};n2=function(e,t){var n=he;try{return he=e,t()}finally{he=n}};_p=function(e,t,n){switch(t){case"input":if(pp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ba(r);if(!i)throw Error(H(90));Mb(r),pp(r,i)}}}break;case"textarea":Ob(e,n);break;case"select":t=n.value,t!=null&&oi(e,!!n.multiple,t,!1)}};Bb=sg;Hb=Rr;var b4={usingClientEntryPoint:!1,Events:[Go,Qr,Ba,Fb,$b,sg]},Bi={findFiberByHostInstance:vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},S4={bundleType:Bi.bundleType,version:Bi.version,rendererPackageName:Bi.rendererPackageName,rendererConfig:Bi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Wb(e),e===null?null:e.stateNode},findFiberByHostInstance:Bi.findFiberByHostInstance||w4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _s=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_s.isDisabled&&_s.supportsFiber)try{za=_s.inject(S4),rn=_s}catch{}}St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b4;St.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hg(t))throw Error(H(200));return x4(e,t,null,n)};St.createRoot=function(e,t){if(!hg(e))throw Error(H(299));var n=!1,r="",i=ES;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=cg(e,1,!1,null,null,n,!1,r,i),e[Sn]=t.current,jo(e.nodeType===8?e.parentNode:e),new fg(t)};St.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=Wb(t),e=e===null?null:e.stateNode,e};St.flushSync=function(e){return Rr(e)};St.hydrate=function(e,t,n){if(!Qa(t))throw Error(H(200));return Za(null,e,t,!0,n)};St.hydrateRoot=function(e,t,n){if(!hg(e))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=ES;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=SS(t,null,e,1,n??null,i,!1,o,s),e[Sn]=t.current,jo(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xa(t)};St.render=function(e,t,n){if(!Qa(t))throw Error(H(200));return Za(null,e,t,!1,n)};St.unmountComponentAtNode=function(e){if(!Qa(e))throw Error(H(40));return e._reactRootContainer?(Rr(function(){Za(null,null,e,!1,function(){e._reactRootContainer=null,e[Sn]=null})}),!0):!1};St.unstable_batchedUpdates=sg;St.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qa(n))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return Za(e,t,n,!1,r)};St.version="18.3.1-next-f1338f8080-20240426";function kS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kS)}catch(e){console.error(e)}}kS(),kb.exports=St;var E4=kb.exports,cy=E4;ap.createRoot=cy.createRoot,ap.hydrateRoot=cy.hydrateRoot;function mt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=mt(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var NS={exports:{}},jS={},CS={exports:{}},TS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _i=k;function k4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var N4=typeof Object.is=="function"?Object.is:k4,j4=_i.useState,C4=_i.useEffect,T4=_i.useLayoutEffect,I4=_i.useDebugValue;function R4(e,t){var n=t(),r=j4({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return T4(function(){i.value=n,i.getSnapshot=t,tu(i)&&o({inst:i})},[e,n,t]),C4(function(){return tu(i)&&o({inst:i}),e(function(){tu(i)&&o({inst:i})})},[e]),I4(n),n}function tu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!N4(e,n)}catch{return!0}}function P4(e,t){return t()}var M4=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?P4:R4;TS.useSyncExternalStore=_i.useSyncExternalStore!==void 0?_i.useSyncExternalStore:M4;CS.exports=TS;var A4=CS.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ja=k,O4=A4;function q4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var L4=typeof Object.is=="function"?Object.is:q4,z4=O4.useSyncExternalStore,D4=Ja.useRef,F4=Ja.useEffect,$4=Ja.useMemo,B4=Ja.useDebugValue;jS.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=D4(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=$4(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&s.hasValue){var y=s.value;if(i(y,p))return f=y}return f=p}if(y=f,L4(c,p))return y;var v=r(p);return i!==void 0&&i(y,v)?(c=p,y):(c=p,f=v)}var u=!1,c,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var a=z4(e,o[0],o[1]);return F4(function(){s.hasValue=!0,s.value=a},[a]),B4(a),a};NS.exports=jS;var H4=NS.exports;const V4=xm(H4),U4={},dy=e=>{let t;const n=new Set,r=(c,f)=>{const h=typeof c=="function"?c(t):c;if(!Object.is(h,t)){const p=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(y=>y(t,p))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(U4?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,l);return l},W4=e=>e?dy(e):dy,{useDebugValue:G4}=$,{useSyncExternalStoreWithSelector:K4}=V4,Y4=e=>e;function IS(e,t=Y4,n){const r=K4(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return G4(r),r}const fy=(e,t)=>{const n=W4(e),r=(i,o=t)=>IS(n,i,o);return Object.assign(r,n),r},X4=(e,t)=>e?fy(e,t):fy;function et(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var Q4={value:()=>{}};function el(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Xs(n)}function Xs(e){this._=e}function Z4(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Xs.prototype=el.prototype={constructor:Xs,on:function(e,t){var n=this._,r=Z4(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=J4(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=hy(n[i],e.name,t);else if(t==null)for(i in n)n[i]=hy(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Xs(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function J4(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function hy(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Q4,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var em="http://www.w3.org/1999/xhtml";const py={svg:"http://www.w3.org/2000/svg",xhtml:em,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function tl(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),py.hasOwnProperty(t)?{space:py[t],local:e}:e}function e3(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===em&&t.documentElement.namespaceURI===em?t.createElement(e):t.createElementNS(n,e)}}function t3(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function RS(e){var t=tl(e);return(t.local?t3:e3)(t)}function n3(){}function pg(e){return e==null?n3:function(){return this.querySelector(e)}}function r3(e){typeof e!="function"&&(e=pg(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=new Array(s),l,u,c=0;c<s;++c)(l=o[c])&&(u=e.call(l,l.__data__,c,o))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new bt(r,this._parents)}function i3(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function o3(){return[]}function PS(e){return e==null?o3:function(){return this.querySelectorAll(e)}}function s3(e){return function(){return i3(e.apply(this,arguments))}}function a3(e){typeof e=="function"?e=s3(e):e=PS(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&(r.push(e.call(l,l.__data__,u,s)),i.push(l));return new bt(r,i)}function MS(e){return function(){return this.matches(e)}}function AS(e){return function(t){return t.matches(e)}}var l3=Array.prototype.find;function u3(e){return function(){return l3.call(this.children,e)}}function c3(){return this.firstElementChild}function d3(e){return this.select(e==null?c3:u3(typeof e=="function"?e:AS(e)))}var f3=Array.prototype.filter;function h3(){return Array.from(this.children)}function p3(e){return function(){return f3.call(this.children,e)}}function m3(e){return this.selectAll(e==null?h3:p3(typeof e=="function"?e:AS(e)))}function g3(e){typeof e!="function"&&(e=MS(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&a.push(l);return new bt(r,this._parents)}function OS(e){return new Array(e.length)}function v3(){return new bt(this._enter||this._groups.map(OS),this._parents)}function Ea(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Ea.prototype={constructor:Ea,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function y3(e){return function(){return e}}function x3(e,t,n,r,i,o){for(var s=0,a,l=t.length,u=o.length;s<u;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new Ea(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function w3(e,t,n,r,i,o,s){var a,l,u=new Map,c=t.length,f=o.length,h=new Array(c),p;for(a=0;a<c;++a)(l=t[a])&&(h[a]=p=s.call(l,l.__data__,a,t)+"",u.has(p)?i[a]=l:u.set(p,l));for(a=0;a<f;++a)p=s.call(e,o[a],a,o)+"",(l=u.get(p))?(r[a]=l,l.__data__=o[a],u.delete(p)):n[a]=new Ea(e,o[a]);for(a=0;a<c;++a)(l=t[a])&&u.get(h[a])===l&&(i[a]=l)}function _3(e){return e.__data__}function b3(e,t){if(!arguments.length)return Array.from(this,_3);var n=t?w3:x3,r=this._parents,i=this._groups;typeof e!="function"&&(e=y3(e));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),u=0;u<o;++u){var c=r[u],f=i[u],h=f.length,p=S3(e.call(c,c&&c.__data__,u,r)),y=p.length,v=a[u]=new Array(y),_=s[u]=new Array(y),g=l[u]=new Array(h);n(c,f,v,_,g,p,t);for(var m=0,x=0,w,S;m<y;++m)if(w=v[m]){for(m>=x&&(x=m+1);!(S=_[x])&&++x<y;);w._next=S||null}}return s=new bt(s,r),s._enter=a,s._exit=l,s}function S3(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function E3(){return new bt(this._exit||this._groups.map(OS),this._parents)}function k3(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function N3(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var u=n[l],c=r[l],f=u.length,h=a[l]=new Array(f),p,y=0;y<f;++y)(p=u[y]||c[y])&&(h[y]=p);for(;l<i;++l)a[l]=n[l];return new bt(a,this._parents)}function j3(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function C3(e){e||(e=T3);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,l=i[o]=new Array(a),u,c=0;c<a;++c)(u=s[c])&&(l[c]=u);l.sort(t)}return new bt(i,this._parents).order()}function T3(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function I3(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function R3(){return Array.from(this)}function P3(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function M3(){let e=0;for(const t of this)++e;return e}function A3(){return!this.node()}function O3(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}function q3(e){return function(){this.removeAttribute(e)}}function L3(e){return function(){this.removeAttributeNS(e.space,e.local)}}function z3(e,t){return function(){this.setAttribute(e,t)}}function D3(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function F3(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function $3(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function B3(e,t){var n=tl(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?L3:q3:typeof t=="function"?n.local?$3:F3:n.local?D3:z3)(n,t))}function qS(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function H3(e){return function(){this.style.removeProperty(e)}}function V3(e,t,n){return function(){this.style.setProperty(e,t,n)}}function U3(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function W3(e,t,n){return arguments.length>1?this.each((t==null?H3:typeof t=="function"?U3:V3)(e,t,n??"")):bi(this.node(),e)}function bi(e,t){return e.style.getPropertyValue(t)||qS(e).getComputedStyle(e,null).getPropertyValue(t)}function G3(e){return function(){delete this[e]}}function K3(e,t){return function(){this[e]=t}}function Y3(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function X3(e,t){return arguments.length>1?this.each((t==null?G3:typeof t=="function"?Y3:K3)(e,t)):this.node()[e]}function LS(e){return e.trim().split(/^|\s+/)}function mg(e){return e.classList||new zS(e)}function zS(e){this._node=e,this._names=LS(e.getAttribute("class")||"")}zS.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function DS(e,t){for(var n=mg(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function FS(e,t){for(var n=mg(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Q3(e){return function(){DS(this,e)}}function Z3(e){return function(){FS(this,e)}}function J3(e,t){return function(){(t.apply(this,arguments)?DS:FS)(this,e)}}function eT(e,t){var n=LS(e+"");if(arguments.length<2){for(var r=mg(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?J3:t?Q3:Z3)(n,t))}function tT(){this.textContent=""}function nT(e){return function(){this.textContent=e}}function rT(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function iT(e){return arguments.length?this.each(e==null?tT:(typeof e=="function"?rT:nT)(e)):this.node().textContent}function oT(){this.innerHTML=""}function sT(e){return function(){this.innerHTML=e}}function aT(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function lT(e){return arguments.length?this.each(e==null?oT:(typeof e=="function"?aT:sT)(e)):this.node().innerHTML}function uT(){this.nextSibling&&this.parentNode.appendChild(this)}function cT(){return this.each(uT)}function dT(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function fT(){return this.each(dT)}function hT(e){var t=typeof e=="function"?e:RS(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function pT(){return null}function mT(e,t){var n=typeof e=="function"?e:RS(e),r=t==null?pT:typeof t=="function"?t:pg(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function gT(){var e=this.parentNode;e&&e.removeChild(this)}function vT(){return this.each(gT)}function yT(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function xT(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function wT(e){return this.select(e?xT:yT)}function _T(e){return arguments.length?this.property("__data__",e):this.node().__data__}function bT(e){return function(t){e.call(this,t,this.__data__)}}function ST(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function ET(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function kT(e,t,n){return function(){var r=this.__on,i,o=bT(t);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function NT(e,t,n){var r=ST(e+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(i=0,c=a[l];i<o;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(a=t?kT:ET,i=0;i<o;++i)this.each(a(r[i],t,n));return this}function $S(e,t,n){var r=qS(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function jT(e,t){return function(){return $S(this,e,t)}}function CT(e,t){return function(){return $S(this,e,t.apply(this,arguments))}}function TT(e,t){return this.each((typeof t=="function"?CT:jT)(e,t))}function*IT(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var BS=[null];function bt(e,t){this._groups=e,this._parents=t}function Yo(){return new bt([[document.documentElement]],BS)}function RT(){return this}bt.prototype=Yo.prototype={constructor:bt,select:r3,selectAll:a3,selectChild:d3,selectChildren:m3,filter:g3,data:b3,enter:v3,exit:E3,join:k3,merge:N3,selection:RT,order:j3,sort:C3,call:I3,nodes:R3,node:P3,size:M3,empty:A3,each:O3,attr:B3,style:W3,property:X3,classed:eT,text:iT,html:lT,raise:cT,lower:fT,append:hT,insert:mT,remove:vT,clone:wT,datum:_T,on:NT,dispatch:TT,[Symbol.iterator]:IT};function Ct(e){return typeof e=="string"?new bt([[document.querySelector(e)]],[document.documentElement]):new bt([[e]],BS)}function PT(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Ft(e,t){if(e=PT(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const MT={passive:!1},qo={capture:!0,passive:!1};function nu(e){e.stopImmediatePropagation()}function di(e){e.preventDefault(),e.stopImmediatePropagation()}function HS(e){var t=e.document.documentElement,n=Ct(e).on("dragstart.drag",di,qo);"onselectstart"in t?n.on("selectstart.drag",di,qo):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function VS(e,t){var n=e.document.documentElement,r=Ct(e).on("dragstart.drag",null);t&&(r.on("click.drag",di,qo),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const bs=e=>()=>e;function tm(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:s,y:a,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}tm.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function AT(e){return!e.ctrlKey&&!e.button}function OT(){return this.parentNode}function qT(e,t){return t??{x:e.x,y:e.y}}function LT(){return navigator.maxTouchPoints||"ontouchstart"in this}function zT(){var e=AT,t=OT,n=qT,r=LT,i={},o=el("start","drag","end"),s=0,a,l,u,c,f=0;function h(w){w.on("mousedown.drag",p).filter(r).on("touchstart.drag",_).on("touchmove.drag",g,MT).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(w,S){if(!(c||!e.call(this,w,S))){var E=x(this,t.call(this,w,S),w,S,"mouse");E&&(Ct(w.view).on("mousemove.drag",y,qo).on("mouseup.drag",v,qo),HS(w.view),nu(w),u=!1,a=w.clientX,l=w.clientY,E("start",w))}}function y(w){if(di(w),!u){var S=w.clientX-a,E=w.clientY-l;u=S*S+E*E>f}i.mouse("drag",w)}function v(w){Ct(w.view).on("mousemove.drag mouseup.drag",null),VS(w.view,u),di(w),i.mouse("end",w)}function _(w,S){if(e.call(this,w,S)){var E=w.changedTouches,N=t.call(this,w,S),C=E.length,I,O;for(I=0;I<C;++I)(O=x(this,N,w,S,E[I].identifier,E[I]))&&(nu(w),O("start",w,E[I]))}}function g(w){var S=w.changedTouches,E=S.length,N,C;for(N=0;N<E;++N)(C=i[S[N].identifier])&&(di(w),C("drag",w,S[N]))}function m(w){var S=w.changedTouches,E=S.length,N,C;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),N=0;N<E;++N)(C=i[S[N].identifier])&&(nu(w),C("end",w,S[N]))}function x(w,S,E,N,C,I){var O=o.copy(),q=Ft(I||E,S),F,L,b;if((b=n.call(w,new tm("beforestart",{sourceEvent:E,target:h,identifier:C,active:s,x:q[0],y:q[1],dx:0,dy:0,dispatch:O}),N))!=null)return F=b.x-q[0]||0,L=b.y-q[1]||0,function P(T,z,R){var j=q,A;switch(T){case"start":i[C]=P,A=s++;break;case"end":delete i[C],--s;case"drag":q=Ft(R||z,S),A=s;break}O.call(T,w,new tm(T,{sourceEvent:z,subject:b,target:h,identifier:C,active:A,x:q[0]+F,y:q[1]+L,dx:q[0]-j[0],dy:q[1]-j[1],dispatch:O}),N)}}return h.filter=function(w){return arguments.length?(e=typeof w=="function"?w:bs(!!w),h):e},h.container=function(w){return arguments.length?(t=typeof w=="function"?w:bs(w),h):t},h.subject=function(w){return arguments.length?(n=typeof w=="function"?w:bs(w),h):n},h.touchable=function(w){return arguments.length?(r=typeof w=="function"?w:bs(!!w),h):r},h.on=function(){var w=o.on.apply(o,arguments);return w===o?h:w},h.clickDistance=function(w){return arguments.length?(f=(w=+w)*w,h):Math.sqrt(f)},h}function gg(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function US(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Xo(){}var Lo=.7,ka=1/Lo,fi="\\s*([+-]?\\d+)\\s*",zo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",sn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",DT=/^#([0-9a-f]{3,8})$/,FT=new RegExp(`^rgb\\(${fi},${fi},${fi}\\)$`),$T=new RegExp(`^rgb\\(${sn},${sn},${sn}\\)$`),BT=new RegExp(`^rgba\\(${fi},${fi},${fi},${zo}\\)$`),HT=new RegExp(`^rgba\\(${sn},${sn},${sn},${zo}\\)$`),VT=new RegExp(`^hsl\\(${zo},${sn},${sn}\\)$`),UT=new RegExp(`^hsla\\(${zo},${sn},${sn},${zo}\\)$`),my={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gg(Xo,Do,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:gy,formatHex:gy,formatHex8:WT,formatHsl:GT,formatRgb:vy,toString:vy});function gy(){return this.rgb().formatHex()}function WT(){return this.rgb().formatHex8()}function GT(){return WS(this).formatHsl()}function vy(){return this.rgb().formatRgb()}function Do(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=DT.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?yy(t):n===3?new ct(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ss(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ss(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=FT.exec(e))?new ct(t[1],t[2],t[3],1):(t=$T.exec(e))?new ct(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=BT.exec(e))?Ss(t[1],t[2],t[3],t[4]):(t=HT.exec(e))?Ss(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=VT.exec(e))?_y(t[1],t[2]/100,t[3]/100,1):(t=UT.exec(e))?_y(t[1],t[2]/100,t[3]/100,t[4]):my.hasOwnProperty(e)?yy(my[e]):e==="transparent"?new ct(NaN,NaN,NaN,0):null}function yy(e){return new ct(e>>16&255,e>>8&255,e&255,1)}function Ss(e,t,n,r){return r<=0&&(e=t=n=NaN),new ct(e,t,n,r)}function KT(e){return e instanceof Xo||(e=Do(e)),e?(e=e.rgb(),new ct(e.r,e.g,e.b,e.opacity)):new ct}function nm(e,t,n,r){return arguments.length===1?KT(e):new ct(e,t,n,r??1)}function ct(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}gg(ct,nm,US(Xo,{brighter(e){return e=e==null?ka:Math.pow(ka,e),new ct(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Lo:Math.pow(Lo,e),new ct(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ct(kr(this.r),kr(this.g),kr(this.b),Na(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xy,formatHex:xy,formatHex8:YT,formatRgb:wy,toString:wy}));function xy(){return`#${wr(this.r)}${wr(this.g)}${wr(this.b)}`}function YT(){return`#${wr(this.r)}${wr(this.g)}${wr(this.b)}${wr((isNaN(this.opacity)?1:this.opacity)*255)}`}function wy(){const e=Na(this.opacity);return`${e===1?"rgb(":"rgba("}${kr(this.r)}, ${kr(this.g)}, ${kr(this.b)}${e===1?")":`, ${e})`}`}function Na(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function kr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function wr(e){return e=kr(e),(e<16?"0":"")+e.toString(16)}function _y(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Bt(e,t,n,r)}function WS(e){if(e instanceof Bt)return new Bt(e.h,e.s,e.l,e.opacity);if(e instanceof Xo||(e=Do(e)),!e)return new Bt;if(e instanceof Bt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Bt(s,a,l,e.opacity)}function XT(e,t,n,r){return arguments.length===1?WS(e):new Bt(e,t,n,r??1)}function Bt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}gg(Bt,XT,US(Xo,{brighter(e){return e=e==null?ka:Math.pow(ka,e),new Bt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Lo:Math.pow(Lo,e),new Bt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ct(ru(e>=240?e-240:e+120,i,r),ru(e,i,r),ru(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Bt(by(this.h),Es(this.s),Es(this.l),Na(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Na(this.opacity);return`${e===1?"hsl(":"hsla("}${by(this.h)}, ${Es(this.s)*100}%, ${Es(this.l)*100}%${e===1?")":`, ${e})`}`}}));function by(e){return e=(e||0)%360,e<0?e+360:e}function Es(e){return Math.max(0,Math.min(1,e||0))}function ru(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const GS=e=>()=>e;function QT(e,t){return function(n){return e+n*t}}function ZT(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function JT(e){return(e=+e)==1?KS:function(t,n){return n-t?ZT(t,n,e):GS(isNaN(t)?n:t)}}function KS(e,t){var n=t-e;return n?QT(e,n):GS(isNaN(e)?t:e)}const Sy=function e(t){var n=JT(t);function r(i,o){var s=n((i=nm(i)).r,(o=nm(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=KS(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function zn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var rm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,iu=new RegExp(rm.source,"g");function e5(e){return function(){return e}}function t5(e){return function(t){return e(t)+""}}function n5(e,t){var n=rm.lastIndex=iu.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(e=e+"",t=t+"";(r=rm.exec(e))&&(i=iu.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:zn(r,i)})),n=iu.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?t5(l[0].x):e5(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}var Ey=180/Math.PI,im={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function YS(e,t,n,r,i,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Ey,skewX:Math.atan(l)*Ey,scaleX:s,scaleY:a}}var ks;function r5(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?im:YS(t.a,t.b,t.c,t.d,t.e,t.f)}function i5(e){return e==null||(ks||(ks=document.createElementNS("http://www.w3.org/2000/svg","g")),ks.setAttribute("transform",e),!(e=ks.transform.baseVal.consolidate()))?im:(e=e.matrix,YS(e.a,e.b,e.c,e.d,e.e,e.f))}function XS(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,f,h,p,y){if(u!==f||c!==h){var v=p.push("translate(",null,t,null,n);y.push({i:v-4,x:zn(u,f)},{i:v-2,x:zn(c,h)})}else(f||h)&&p.push("translate("+f+t+h+n)}function s(u,c,f,h){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:zn(u,c)})):c&&f.push(i(f)+"rotate("+c+r)}function a(u,c,f,h){u!==c?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:zn(u,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(u,c,f,h,p,y){if(u!==f||c!==h){var v=p.push(i(p)+"scale(",null,",",null,")");y.push({i:v-4,x:zn(u,f)},{i:v-2,x:zn(c,h)})}else(f!==1||h!==1)&&p.push(i(p)+"scale("+f+","+h+")")}return function(u,c){var f=[],h=[];return u=e(u),c=e(c),o(u.translateX,u.translateY,c.translateX,c.translateY,f,h),s(u.rotate,c.rotate,f,h),a(u.skewX,c.skewX,f,h),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,h),u=c=null,function(p){for(var y=-1,v=h.length,_;++y<v;)f[(_=h[y]).i]=_.x(p);return f.join("")}}}var o5=XS(r5,"px, ","px)","deg)"),s5=XS(i5,", ",")",")"),a5=1e-12;function ky(e){return((e=Math.exp(e))+1/e)/2}function l5(e){return((e=Math.exp(e))-1/e)/2}function u5(e){return((e=Math.exp(2*e))-1)/(e+1)}const c5=function e(t,n,r){function i(o,s){var a=o[0],l=o[1],u=o[2],c=s[0],f=s[1],h=s[2],p=c-a,y=f-l,v=p*p+y*y,_,g;if(v<a5)g=Math.log(h/u)/t,_=function(N){return[a+N*p,l+N*y,u*Math.exp(t*N*g)]};else{var m=Math.sqrt(v),x=(h*h-u*u+r*v)/(2*u*n*m),w=(h*h-u*u-r*v)/(2*h*n*m),S=Math.log(Math.sqrt(x*x+1)-x),E=Math.log(Math.sqrt(w*w+1)-w);g=(E-S)/t,_=function(N){var C=N*g,I=ky(S),O=u/(n*m)*(I*u5(t*C+S)-l5(S));return[a+O*p,l+O*y,u*I/ky(t*C+S)]}}return _.duration=g*1e3*t/Math.SQRT2,_}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,l=a*a;return e(s,a,l)},i}(Math.SQRT2,2,4);var Si=0,Ji=0,Hi=0,QS=1e3,ja,eo,Ca=0,Pr=0,nl=0,Fo=typeof performance=="object"&&performance.now?performance:Date,ZS=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function vg(){return Pr||(ZS(d5),Pr=Fo.now()+nl)}function d5(){Pr=0}function Ta(){this._call=this._time=this._next=null}Ta.prototype=JS.prototype={constructor:Ta,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?vg():+n)+(t==null?0:+t),!this._next&&eo!==this&&(eo?eo._next=this:ja=this,eo=this),this._call=e,this._time=n,om()},stop:function(){this._call&&(this._call=null,this._time=1/0,om())}};function JS(e,t,n){var r=new Ta;return r.restart(e,t,n),r}function f5(){vg(),++Si;for(var e=ja,t;e;)(t=Pr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Si}function Ny(){Pr=(Ca=Fo.now())+nl,Si=Ji=0;try{f5()}finally{Si=0,p5(),Pr=0}}function h5(){var e=Fo.now(),t=e-Ca;t>QS&&(nl-=t,Ca=e)}function p5(){for(var e,t=ja,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:ja=n);eo=e,om(r)}function om(e){if(!Si){Ji&&(Ji=clearTimeout(Ji));var t=e-Pr;t>24?(e<1/0&&(Ji=setTimeout(Ny,e-Fo.now()-nl)),Hi&&(Hi=clearInterval(Hi))):(Hi||(Ca=Fo.now(),Hi=setInterval(h5,QS)),Si=1,ZS(Ny))}}function jy(e,t,n){var r=new Ta;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var m5=el("start","end","cancel","interrupt"),g5=[],eE=0,Cy=1,sm=2,Qs=3,Ty=4,am=5,Zs=6;function rl(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;v5(e,n,{name:t,index:r,group:i,on:m5,tween:g5,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:eE})}function yg(e,t){var n=Wt(e,t);if(n.state>eE)throw new Error("too late; already scheduled");return n}function an(e,t){var n=Wt(e,t);if(n.state>Qs)throw new Error("too late; already running");return n}function Wt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function v5(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=JS(o,0,n.time);function o(u){n.state=Cy,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var c,f,h,p;if(n.state!==Cy)return l();for(c in r)if(p=r[c],p.name===n.name){if(p.state===Qs)return jy(s);p.state===Ty?(p.state=Zs,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete r[c]):+c<t&&(p.state=Zs,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete r[c])}if(jy(function(){n.state===Qs&&(n.state=Ty,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=sm,n.on.call("start",e,e.__data__,n.index,n.group),n.state===sm){for(n.state=Qs,i=new Array(h=n.tween.length),c=0,f=-1;c<h;++c)(p=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=p);i.length=f+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=am,1),f=-1,h=i.length;++f<h;)i[f].call(e,c);n.state===am&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Zs,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Js(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>sm&&r.state<am,r.state=Zs,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function y5(e){return this.each(function(){Js(this,e)})}function x5(e,t){var n,r;return function(){var i=an(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function w5(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=an(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=a;break}l===u&&i.push(a)}o.tween=i}}function _5(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Wt(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?x5:w5)(n,e,t))}function xg(e,t,n){var r=e._id;return e.each(function(){var i=an(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Wt(i,r).value[t]}}function tE(e,t){var n;return(typeof t=="number"?zn:t instanceof Do?Sy:(n=Do(t))?(t=n,Sy):n5)(e,t)}function b5(e){return function(){this.removeAttribute(e)}}function S5(e){return function(){this.removeAttributeNS(e.space,e.local)}}function E5(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function k5(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function N5(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function j5(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function C5(e,t){var n=tl(e),r=n==="transform"?s5:tE;return this.attrTween(e,typeof t=="function"?(n.local?j5:N5)(n,r,xg(this,"attr."+e,t)):t==null?(n.local?S5:b5)(n):(n.local?k5:E5)(n,r,t))}function T5(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function I5(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function R5(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&I5(e,o)),n}return i._value=t,i}function P5(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&T5(e,o)),n}return i._value=t,i}function M5(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=tl(e);return this.tween(n,(r.local?R5:P5)(r,t))}function A5(e,t){return function(){yg(this,e).delay=+t.apply(this,arguments)}}function O5(e,t){return t=+t,function(){yg(this,e).delay=t}}function q5(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?A5:O5)(t,e)):Wt(this.node(),t).delay}function L5(e,t){return function(){an(this,e).duration=+t.apply(this,arguments)}}function z5(e,t){return t=+t,function(){an(this,e).duration=t}}function D5(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?L5:z5)(t,e)):Wt(this.node(),t).duration}function F5(e,t){if(typeof t!="function")throw new Error;return function(){an(this,e).ease=t}}function $5(e){var t=this._id;return arguments.length?this.each(F5(t,e)):Wt(this.node(),t).ease}function B5(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;an(this,e).ease=n}}function H5(e){if(typeof e!="function")throw new Error;return this.each(B5(this._id,e))}function V5(e){typeof e!="function"&&(e=MS(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&a.push(l);return new Nn(r,this._parents,this._name,this._id)}function U5(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l=t[a],u=n[a],c=l.length,f=s[a]=new Array(c),h,p=0;p<c;++p)(h=l[p]||u[p])&&(f[p]=h);for(;a<r;++a)s[a]=t[a];return new Nn(s,this._parents,this._name,this._id)}function W5(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function G5(e,t,n){var r,i,o=W5(t)?yg:an;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}function K5(e,t){var n=this._id;return arguments.length<2?Wt(this.node(),n).on.on(e):this.each(G5(n,e,t))}function Y5(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function X5(){return this.on("end.remove",Y5(this._id))}function Q5(e){var t=this._name,n=this._id;typeof e!="function"&&(e=pg(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],l=a.length,u=o[s]=new Array(l),c,f,h=0;h<l;++h)(c=a[h])&&(f=e.call(c,c.__data__,h,a))&&("__data__"in c&&(f.__data__=c.__data__),u[h]=f,rl(u[h],t,n,h,u,Wt(c,n)));return new Nn(o,this._parents,t,n)}function Z5(e){var t=this._name,n=this._id;typeof e!="function"&&(e=PS(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l=r[a],u=l.length,c,f=0;f<u;++f)if(c=l[f]){for(var h=e.call(c,c.__data__,f,l),p,y=Wt(c,n),v=0,_=h.length;v<_;++v)(p=h[v])&&rl(p,t,n,v,h,y);o.push(h),s.push(c)}return new Nn(o,s,t,n)}var J5=Yo.prototype.constructor;function eI(){return new J5(this._groups,this._parents)}function tI(e,t){var n,r,i;return function(){var o=bi(this,e),s=(this.style.removeProperty(e),bi(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function nE(e){return function(){this.style.removeProperty(e)}}function nI(e,t,n){var r,i=n+"",o;return function(){var s=bi(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function rI(e,t,n){var r,i,o;return function(){var s=bi(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),bi(this,e))),s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a))}}function iI(e,t){var n,r,i,o="style."+t,s="end."+o,a;return function(){var l=an(this,e),u=l.on,c=l.value[o]==null?a||(a=nE(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(s,i=c),l.on=r}}function oI(e,t,n){var r=(e+="")=="transform"?o5:tE;return t==null?this.styleTween(e,tI(e,r)).on("end.style."+e,nE(e)):typeof t=="function"?this.styleTween(e,rI(e,r,xg(this,"style."+e,t))).each(iI(this._id,e)):this.styleTween(e,nI(e,r,t),n).on("end.style."+e,null)}function sI(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function aI(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&sI(e,s,n)),r}return o._value=t,o}function lI(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,aI(e,t,n??""))}function uI(e){return function(){this.textContent=e}}function cI(e){return function(){var t=e(this);this.textContent=t??""}}function dI(e){return this.tween("text",typeof e=="function"?cI(xg(this,"text",e)):uI(e==null?"":e+""))}function fI(e){return function(t){this.textContent=e.call(this,t)}}function hI(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&fI(i)),t}return r._value=e,r}function pI(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,hI(e))}function mI(){for(var e=this._name,t=this._id,n=rE(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)if(l=s[u]){var c=Wt(l,t);rl(l,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Nn(r,this._parents,e,n)}function gI(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--i===0&&o()}};n.each(function(){var u=an(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),u.on=t}),i===0&&o()})}var vI=0;function Nn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function rE(){return++vI}var dn=Yo.prototype;Nn.prototype={constructor:Nn,select:Q5,selectAll:Z5,selectChild:dn.selectChild,selectChildren:dn.selectChildren,filter:V5,merge:U5,selection:eI,transition:mI,call:dn.call,nodes:dn.nodes,node:dn.node,size:dn.size,empty:dn.empty,each:dn.each,on:K5,attr:C5,attrTween:M5,style:oI,styleTween:lI,text:dI,textTween:pI,remove:X5,tween:_5,delay:q5,duration:D5,ease:$5,easeVarying:H5,end:gI,[Symbol.iterator]:dn[Symbol.iterator]};function yI(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var xI={time:null,delay:0,duration:250,ease:yI};function wI(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function _I(e){var t,n;e instanceof Nn?(t=e._id,e=e._name):(t=rE(),(n=xI).time=vg(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&rl(l,e,t,u,s,n||wI(l,t));return new Nn(r,this._parents,e,t)}Yo.prototype.interrupt=y5;Yo.prototype.transition=_I;const Ns=e=>()=>e;function bI(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function vn(e,t,n){this.k=e,this.x=t,this.y=n}vn.prototype={constructor:vn,scale:function(e){return e===1?this:new vn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new vn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var _n=new vn(1,0,0);vn.prototype;function ou(e){e.stopImmediatePropagation()}function Vi(e){e.preventDefault(),e.stopImmediatePropagation()}function SI(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function EI(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Iy(){return this.__zoom||_n}function kI(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function NI(){return navigator.maxTouchPoints||"ontouchstart"in this}function jI(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function iE(){var e=SI,t=EI,n=jI,r=kI,i=NI,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,l=c5,u=el("start","zoom","end"),c,f,h,p=500,y=150,v=0,_=10;function g(b){b.property("__zoom",Iy).on("wheel.zoom",C,{passive:!1}).on("mousedown.zoom",I).on("dblclick.zoom",O).filter(i).on("touchstart.zoom",q).on("touchmove.zoom",F).on("touchend.zoom touchcancel.zoom",L).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(b,P,T,z){var R=b.selection?b.selection():b;R.property("__zoom",Iy),b!==R?S(b,P,T,z):R.interrupt().each(function(){E(this,arguments).event(z).start().zoom(null,typeof P=="function"?P.apply(this,arguments):P).end()})},g.scaleBy=function(b,P,T,z){g.scaleTo(b,function(){var R=this.__zoom.k,j=typeof P=="function"?P.apply(this,arguments):P;return R*j},T,z)},g.scaleTo=function(b,P,T,z){g.transform(b,function(){var R=t.apply(this,arguments),j=this.__zoom,A=T==null?w(R):typeof T=="function"?T.apply(this,arguments):T,M=j.invert(A),D=typeof P=="function"?P.apply(this,arguments):P;return n(x(m(j,D),A,M),R,s)},T,z)},g.translateBy=function(b,P,T,z){g.transform(b,function(){return n(this.__zoom.translate(typeof P=="function"?P.apply(this,arguments):P,typeof T=="function"?T.apply(this,arguments):T),t.apply(this,arguments),s)},null,z)},g.translateTo=function(b,P,T,z,R){g.transform(b,function(){var j=t.apply(this,arguments),A=this.__zoom,M=z==null?w(j):typeof z=="function"?z.apply(this,arguments):z;return n(_n.translate(M[0],M[1]).scale(A.k).translate(typeof P=="function"?-P.apply(this,arguments):-P,typeof T=="function"?-T.apply(this,arguments):-T),j,s)},z,R)};function m(b,P){return P=Math.max(o[0],Math.min(o[1],P)),P===b.k?b:new vn(P,b.x,b.y)}function x(b,P,T){var z=P[0]-T[0]*b.k,R=P[1]-T[1]*b.k;return z===b.x&&R===b.y?b:new vn(b.k,z,R)}function w(b){return[(+b[0][0]+ +b[1][0])/2,(+b[0][1]+ +b[1][1])/2]}function S(b,P,T,z){b.on("start.zoom",function(){E(this,arguments).event(z).start()}).on("interrupt.zoom end.zoom",function(){E(this,arguments).event(z).end()}).tween("zoom",function(){var R=this,j=arguments,A=E(R,j).event(z),M=t.apply(R,j),D=T==null?w(M):typeof T=="function"?T.apply(R,j):T,B=Math.max(M[1][0]-M[0][0],M[1][1]-M[0][1]),V=R.__zoom,K=typeof P=="function"?P.apply(R,j):P,Q=l(V.invert(D).concat(B/V.k),K.invert(D).concat(B/K.k));return function(Z){if(Z===1)Z=K;else{var le=Q(Z),re=B/le[2];Z=new vn(re,D[0]-le[0]*re,D[1]-le[1]*re)}A.zoom(null,Z)}})}function E(b,P,T){return!T&&b.__zooming||new N(b,P)}function N(b,P){this.that=b,this.args=P,this.active=0,this.sourceEvent=null,this.extent=t.apply(b,P),this.taps=0}N.prototype={event:function(b){return b&&(this.sourceEvent=b),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(b,P){return this.mouse&&b!=="mouse"&&(this.mouse[1]=P.invert(this.mouse[0])),this.touch0&&b!=="touch"&&(this.touch0[1]=P.invert(this.touch0[0])),this.touch1&&b!=="touch"&&(this.touch1[1]=P.invert(this.touch1[0])),this.that.__zoom=P,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(b){var P=Ct(this.that).datum();u.call(b,this.that,new bI(b,{sourceEvent:this.sourceEvent,target:g,transform:this.that.__zoom,dispatch:u}),P)}};function C(b,...P){if(!e.apply(this,arguments))return;var T=E(this,P).event(b),z=this.__zoom,R=Math.max(o[0],Math.min(o[1],z.k*Math.pow(2,r.apply(this,arguments)))),j=Ft(b);if(T.wheel)(T.mouse[0][0]!==j[0]||T.mouse[0][1]!==j[1])&&(T.mouse[1]=z.invert(T.mouse[0]=j)),clearTimeout(T.wheel);else{if(z.k===R)return;T.mouse=[j,z.invert(j)],Js(this),T.start()}Vi(b),T.wheel=setTimeout(A,y),T.zoom("mouse",n(x(m(z,R),T.mouse[0],T.mouse[1]),T.extent,s));function A(){T.wheel=null,T.end()}}function I(b,...P){if(h||!e.apply(this,arguments))return;var T=b.currentTarget,z=E(this,P,!0).event(b),R=Ct(b.view).on("mousemove.zoom",D,!0).on("mouseup.zoom",B,!0),j=Ft(b,T),A=b.clientX,M=b.clientY;HS(b.view),ou(b),z.mouse=[j,this.__zoom.invert(j)],Js(this),z.start();function D(V){if(Vi(V),!z.moved){var K=V.clientX-A,Q=V.clientY-M;z.moved=K*K+Q*Q>v}z.event(V).zoom("mouse",n(x(z.that.__zoom,z.mouse[0]=Ft(V,T),z.mouse[1]),z.extent,s))}function B(V){R.on("mousemove.zoom mouseup.zoom",null),VS(V.view,z.moved),Vi(V),z.event(V).end()}}function O(b,...P){if(e.apply(this,arguments)){var T=this.__zoom,z=Ft(b.changedTouches?b.changedTouches[0]:b,this),R=T.invert(z),j=T.k*(b.shiftKey?.5:2),A=n(x(m(T,j),z,R),t.apply(this,P),s);Vi(b),a>0?Ct(this).transition().duration(a).call(S,A,z,b):Ct(this).call(g.transform,A,z,b)}}function q(b,...P){if(e.apply(this,arguments)){var T=b.touches,z=T.length,R=E(this,P,b.changedTouches.length===z).event(b),j,A,M,D;for(ou(b),A=0;A<z;++A)M=T[A],D=Ft(M,this),D=[D,this.__zoom.invert(D),M.identifier],R.touch0?!R.touch1&&R.touch0[2]!==D[2]&&(R.touch1=D,R.taps=0):(R.touch0=D,j=!0,R.taps=1+!!c);c&&(c=clearTimeout(c)),j&&(R.taps<2&&(f=D[0],c=setTimeout(function(){c=null},p)),Js(this),R.start())}}function F(b,...P){if(this.__zooming){var T=E(this,P).event(b),z=b.changedTouches,R=z.length,j,A,M,D;for(Vi(b),j=0;j<R;++j)A=z[j],M=Ft(A,this),T.touch0&&T.touch0[2]===A.identifier?T.touch0[0]=M:T.touch1&&T.touch1[2]===A.identifier&&(T.touch1[0]=M);if(A=T.that.__zoom,T.touch1){var B=T.touch0[0],V=T.touch0[1],K=T.touch1[0],Q=T.touch1[1],Z=(Z=K[0]-B[0])*Z+(Z=K[1]-B[1])*Z,le=(le=Q[0]-V[0])*le+(le=Q[1]-V[1])*le;A=m(A,Math.sqrt(Z/le)),M=[(B[0]+K[0])/2,(B[1]+K[1])/2],D=[(V[0]+Q[0])/2,(V[1]+Q[1])/2]}else if(T.touch0)M=T.touch0[0],D=T.touch0[1];else return;T.zoom("touch",n(x(A,M,D),T.extent,s))}}function L(b,...P){if(this.__zooming){var T=E(this,P).event(b),z=b.changedTouches,R=z.length,j,A;for(ou(b),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),j=0;j<R;++j)A=z[j],T.touch0&&T.touch0[2]===A.identifier?delete T.touch0:T.touch1&&T.touch1[2]===A.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(A=Ft(A,this),Math.hypot(f[0]-A[0],f[1]-A[1])<_)){var M=Ct(this).on("dblclick.zoom");M&&M.apply(this,arguments)}}}return g.wheelDelta=function(b){return arguments.length?(r=typeof b=="function"?b:Ns(+b),g):r},g.filter=function(b){return arguments.length?(e=typeof b=="function"?b:Ns(!!b),g):e},g.touchable=function(b){return arguments.length?(i=typeof b=="function"?b:Ns(!!b),g):i},g.extent=function(b){return arguments.length?(t=typeof b=="function"?b:Ns([[+b[0][0],+b[0][1]],[+b[1][0],+b[1][1]]]),g):t},g.scaleExtent=function(b){return arguments.length?(o[0]=+b[0],o[1]=+b[1],g):[o[0],o[1]]},g.translateExtent=function(b){return arguments.length?(s[0][0]=+b[0][0],s[1][0]=+b[1][0],s[0][1]=+b[0][1],s[1][1]=+b[1][1],g):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},g.constrain=function(b){return arguments.length?(n=b,g):n},g.duration=function(b){return arguments.length?(a=+b,g):a},g.interpolate=function(b){return arguments.length?(l=b,g):l},g.on=function(){var b=u.on.apply(u,arguments);return b===u?g:b},g.clickDistance=function(b){return arguments.length?(v=(b=+b)*b,g):Math.sqrt(v)},g.tapDistance=function(b){return arguments.length?(_=+b,g):_},g}const il=k.createContext(null),CI=il.Provider,jn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},oE=jn.error001();function be(e,t){const n=k.useContext(il);if(n===null)throw new Error(oE);return IS(n,e,t)}const Ve=()=>{const e=k.useContext(il);if(e===null)throw new Error(oE);return k.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},TI=e=>e.userSelectionActive?"none":"all";function vo({position:e,children:t,className:n,style:r,...i}){const o=be(TI),s=`${e}`.split("-");return $.createElement("div",{className:mt(["react-flow__panel",n,...s]),style:{...r,pointerEvents:o},...i},t)}function II({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:$.createElement(vo,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},$.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const RI=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:o={},labelBgPadding:s=[2,4],labelBgBorderRadius:a=2,children:l,className:u,...c})=>{const f=k.useRef(null),[h,p]=k.useState({x:0,y:0,width:0,height:0}),y=mt(["react-flow__edge-textwrapper",u]);return k.useEffect(()=>{if(f.current){const v=f.current.getBBox();p({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),typeof n>"u"||!n?null:$.createElement("g",{transform:`translate(${e-h.width/2} ${t-h.height/2})`,className:y,visibility:h.width?"visible":"hidden",...c},i&&$.createElement("rect",{width:h.width+2*s[0],x:-s[0],y:-s[1],height:h.height+2*s[1],className:"react-flow__edge-textbg",style:o,rx:a,ry:a}),$.createElement("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:f,style:r},n),l)};var PI=k.memo(RI);const wg=e=>({width:e.offsetWidth,height:e.offsetHeight}),Ei=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),_g=(e={x:0,y:0},t)=>({x:Ei(e.x,t[0][0],t[1][0]),y:Ei(e.y,t[0][1],t[1][1])}),Ry=(e,t,n)=>e<t?Ei(Math.abs(e-t),1,50)/50:e>n?-Ei(Math.abs(e-n),1,50)/50:0,sE=(e,t)=>{const n=Ry(e.x,35,t.width-35)*20,r=Ry(e.y,35,t.height-35)*20;return[n,r]},aE=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},lE=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),$o=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),uE=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Py=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),MI=(e,t)=>uE(lE($o(e),$o(t))),lm=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},AI=e=>It(e.width)&&It(e.height)&&It(e.x)&&It(e.y),It=e=>!isNaN(e)&&isFinite(e),Te=Symbol.for("internals"),cE=["Enter"," ","Escape"],OI=(e,t)=>{},qI=e=>"nativeEvent"in e;function um(e){var i,o;const t=qI(e)?e.nativeEvent:e,n=((o=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:o[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const dE=e=>"clientX"in e,tr=(e,t)=>{var o,s;const n=dE(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,i=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},Ia=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},Qo=({id:e,path:t,labelX:n,labelY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:h,interactionWidth:p=20})=>$.createElement($.Fragment,null,$.createElement("path",{id:e,style:c,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:h}),p&&$.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}),i&&It(n)&&It(r)?$.createElement(PI,{x:n,y:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u}):null);Qo.displayName="BaseEdge";function Ui(e,t,n){return n===void 0?n:r=>{const i=t().edges.find(o=>o.id===e);i&&n(r,{...i})}}function fE({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,s=Math.abs(r-t)/2,a=r<t?r+s:r-s;return[o,a,i,s]}function hE({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:s,targetControlY:a}){const l=e*.125+i*.375+s*.375+n*.125,u=t*.125+o*.375+a*.375+r*.125,c=Math.abs(l-e),f=Math.abs(u-t);return[l,u,c,f]}var Mr;(function(e){e.Strict="strict",e.Loose="loose"})(Mr||(Mr={}));var _r;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(_r||(_r={}));var Bo;(function(e){e.Partial="partial",e.Full="full"})(Bo||(Bo={}));var Bn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Bn||(Bn={}));var Ra;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Ra||(Ra={}));var X;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(X||(X={}));function My({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===X.Left||e===X.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function pE({sourceX:e,sourceY:t,sourcePosition:n=X.Bottom,targetX:r,targetY:i,targetPosition:o=X.Top}){const[s,a]=My({pos:n,x1:e,y1:t,x2:r,y2:i}),[l,u]=My({pos:o,x1:r,y1:i,x2:e,y2:t}),[c,f,h,p]=hE({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:s,sourceControlY:a,targetControlX:l,targetControlY:u});return[`M${e},${t} C${s},${a} ${l},${u} ${r},${i}`,c,f,h,p]}const bg=k.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=X.Bottom,targetPosition:o=X.Top,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:y,interactionWidth:v})=>{const[_,g,m]=pE({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:o});return $.createElement(Qo,{path:_,labelX:g,labelY:m,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:y,interactionWidth:v})});bg.displayName="SimpleBezierEdge";const Ay={[X.Left]:{x:-1,y:0},[X.Right]:{x:1,y:0},[X.Top]:{x:0,y:-1},[X.Bottom]:{x:0,y:1}},LI=({source:e,sourcePosition:t=X.Bottom,target:n})=>t===X.Left||t===X.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Oy=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function zI({source:e,sourcePosition:t=X.Bottom,target:n,targetPosition:r=X.Top,center:i,offset:o}){const s=Ay[t],a=Ay[r],l={x:e.x+s.x*o,y:e.y+s.y*o},u={x:n.x+a.x*o,y:n.y+a.y*o},c=LI({source:l,sourcePosition:t,target:u}),f=c.x!==0?"x":"y",h=c[f];let p=[],y,v;const _={x:0,y:0},g={x:0,y:0},[m,x,w,S]=fE({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[f]*a[f]===-1){y=i.x??m,v=i.y??x;const N=[{x:y,y:l.y},{x:y,y:u.y}],C=[{x:l.x,y:v},{x:u.x,y:v}];s[f]===h?p=f==="x"?N:C:p=f==="x"?C:N}else{const N=[{x:l.x,y:u.y}],C=[{x:u.x,y:l.y}];if(f==="x"?p=s.x===h?C:N:p=s.y===h?N:C,t===r){const L=Math.abs(e[f]-n[f]);if(L<=o){const b=Math.min(o-1,o-L);s[f]===h?_[f]=(l[f]>e[f]?-1:1)*b:g[f]=(u[f]>n[f]?-1:1)*b}}if(t!==r){const L=f==="x"?"y":"x",b=s[f]===a[L],P=l[L]>u[L],T=l[L]<u[L];(s[f]===1&&(!b&&P||b&&T)||s[f]!==1&&(!b&&T||b&&P))&&(p=f==="x"?N:C)}const I={x:l.x+_.x,y:l.y+_.y},O={x:u.x+g.x,y:u.y+g.y},q=Math.max(Math.abs(I.x-p[0].x),Math.abs(O.x-p[0].x)),F=Math.max(Math.abs(I.y-p[0].y),Math.abs(O.y-p[0].y));q>=F?(y=(I.x+O.x)/2,v=p[0].y):(y=p[0].x,v=(I.y+O.y)/2)}return[[e,{x:l.x+_.x,y:l.y+_.y},...p,{x:u.x+g.x,y:u.y+g.y},n],y,v,w,S]}function DI(e,t,n,r){const i=Math.min(Oy(e,t)/2,Oy(t,n)/2,r),{x:o,y:s}=t;if(e.x===o&&o===n.x||e.y===s&&s===n.y)return`L${o} ${s}`;if(e.y===s){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${o+i*u},${s}Q ${o},${s} ${o},${s+i*c}`}const a=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${o},${s+i*l}Q ${o},${s} ${o+i*a},${s}`}function cm({sourceX:e,sourceY:t,sourcePosition:n=X.Bottom,targetX:r,targetY:i,targetPosition:o=X.Top,borderRadius:s=5,centerX:a,centerY:l,offset:u=20}){const[c,f,h,p,y]=zI({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:a,y:l},offset:u});return[c.reduce((_,g,m)=>{let x="";return m>0&&m<c.length-1?x=DI(c[m-1],g,c[m+1],s):x=`${m===0?"M":"L"}${g.x} ${g.y}`,_+=x,_},""),f,h,p,y]}const ol=k.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,sourcePosition:f=X.Bottom,targetPosition:h=X.Top,markerEnd:p,markerStart:y,pathOptions:v,interactionWidth:_})=>{const[g,m,x]=cm({sourceX:e,sourceY:t,sourcePosition:f,targetX:n,targetY:r,targetPosition:h,borderRadius:v==null?void 0:v.borderRadius,offset:v==null?void 0:v.offset});return $.createElement(Qo,{path:g,labelX:m,labelY:x,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:p,markerStart:y,interactionWidth:_})});ol.displayName="SmoothStepEdge";const Sg=k.memo(e=>{var t;return $.createElement(ol,{...e,pathOptions:k.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});Sg.displayName="StepEdge";function FI({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,o,s,a]=fE({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,o,s,a]}const Eg=k.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:h,interactionWidth:p})=>{const[y,v,_]=FI({sourceX:e,sourceY:t,targetX:n,targetY:r});return $.createElement(Qo,{path:y,labelX:v,labelY:_,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:h,interactionWidth:p})});Eg.displayName="StraightEdge";function js(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function qy({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){switch(e){case X.Left:return[t-js(t-r,o),n];case X.Right:return[t+js(r-t,o),n];case X.Top:return[t,n-js(n-i,o)];case X.Bottom:return[t,n+js(i-n,o)]}}function mE({sourceX:e,sourceY:t,sourcePosition:n=X.Bottom,targetX:r,targetY:i,targetPosition:o=X.Top,curvature:s=.25}){const[a,l]=qy({pos:n,x1:e,y1:t,x2:r,y2:i,c:s}),[u,c]=qy({pos:o,x1:r,y1:i,x2:e,y2:t,c:s}),[f,h,p,y]=hE({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:u,targetControlY:c});return[`M${e},${t} C${a},${l} ${u},${c} ${r},${i}`,f,h,p,y]}const Pa=k.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=X.Bottom,targetPosition:o=X.Top,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:y,pathOptions:v,interactionWidth:_})=>{const[g,m,x]=mE({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:o,curvature:v==null?void 0:v.curvature});return $.createElement(Qo,{path:g,labelX:m,labelY:x,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:y,interactionWidth:_})});Pa.displayName="BezierEdge";const kg=k.createContext(null),$I=kg.Provider;kg.Consumer;const BI=()=>k.useContext(kg),HI=e=>"id"in e&&"source"in e&&"target"in e,VI=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,dm=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,UI=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),WI=(e,t)=>{if(!e.source||!e.target)return t;let n;return HI(e)?n={...e}:n={...e,id:VI(e)},UI(n,t)?t:t.concat(n)},fm=({x:e,y:t},[n,r,i],o,[s,a])=>{const l={x:(e-n)/i,y:(t-r)/i};return o?{x:s*Math.round(l.x/s),y:a*Math.round(l.y/a)}:l},gE=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r}),Nr=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],i={x:e.position.x-n,y:e.position.y-r};return{...i,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:i}},sl=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const{x:o,y:s}=Nr(i,t).positionAbsolute;return lE(r,$o({x:o,y:s,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return uE(n)},vE=(e,t,[n,r,i]=[0,0,1],o=!1,s=!1,a=[0,0])=>{const l={x:(t.x-n)/i,y:(t.y-r)/i,width:t.width/i,height:t.height/i},u=[];return e.forEach(c=>{const{width:f,height:h,selectable:p=!0,hidden:y=!1}=c;if(s&&!p||y)return!1;const{positionAbsolute:v}=Nr(c,a),_={x:v.x,y:v.y,width:f||0,height:h||0},g=lm(l,_),m=typeof f>"u"||typeof h>"u"||f===null||h===null,x=o&&g>0,w=(f||0)*(h||0);(m||x||g>=w||c.dragging)&&u.push(c)}),u},yE=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},xE=(e,t,n,r,i,o=.1)=>{const s=t/(e.width*(1+o)),a=n/(e.height*(1+o)),l=Math.min(s,a),u=Ei(l,r,i),c=e.x+e.width/2,f=e.y+e.height/2,h=t/2-c*u,p=n/2-f*u;return{x:h,y:p,zoom:u}},gr=(e,t=0)=>e.transition().duration(t);function Ly(e,t,n,r){return(t[n]||[]).reduce((i,o)=>{var s,a;return`${e.id}-${o.id}-${n}`!==r&&i.push({id:o.id||null,type:n,nodeId:e.id,x:(((s=e.positionAbsolute)==null?void 0:s.x)??0)+o.x+o.width/2,y:(((a=e.positionAbsolute)==null?void 0:a.y)??0)+o.y+o.height/2}),i},[])}function GI(e,t,n,r,i,o){const{x:s,y:a}=tr(e),u=t.elementsFromPoint(s,a).find(y=>y.classList.contains("react-flow__handle"));if(u){const y=u.getAttribute("data-nodeid");if(y){const v=Ng(void 0,u),_=u.getAttribute("data-handleid"),g=o({nodeId:y,id:_,type:v});if(g){const m=i.find(x=>x.nodeId===y&&x.type===v&&x.id===_);return{handle:{id:_,type:v,nodeId:y,x:(m==null?void 0:m.x)||n.x,y:(m==null?void 0:m.y)||n.y},validHandleResult:g}}}}let c=[],f=1/0;if(i.forEach(y=>{const v=Math.sqrt((y.x-n.x)**2+(y.y-n.y)**2);if(v<=r){const _=o(y);v<=f&&(v<f?c=[{handle:y,validHandleResult:_}]:v===f&&c.push({handle:y,validHandleResult:_}),f=v)}}),!c.length)return{handle:null,validHandleResult:wE()};if(c.length===1)return c[0];const h=c.some(({validHandleResult:y})=>y.isValid),p=c.some(({handle:y})=>y.type==="target");return c.find(({handle:y,validHandleResult:v})=>p?y.type==="target":h?v.isValid:!0)||c[0]}const KI={source:null,target:null,sourceHandle:null,targetHandle:null},wE=()=>({handleDomNode:null,isValid:!1,connection:KI,endHandle:null});function _E(e,t,n,r,i,o,s){const a=i==="target",l=s.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...wE(),handleDomNode:l};if(l){const c=Ng(void 0,l),f=l.getAttribute("data-nodeid"),h=l.getAttribute("data-handleid"),p=l.classList.contains("connectable"),y=l.classList.contains("connectableend"),v={source:a?f:n,sourceHandle:a?h:r,target:a?n:f,targetHandle:a?r:h};u.connection=v,p&&y&&(t===Mr.Strict?a&&c==="source"||!a&&c==="target":f!==n||h!==r)&&(u.endHandle={nodeId:f,handleId:h,type:c},u.isValid=o(v))}return u}function YI({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((i,o)=>{if(o[Te]){const{handleBounds:s}=o[Te];let a=[],l=[];s&&(a=Ly(o,s,"source",`${t}-${n}-${r}`),l=Ly(o,s,"target",`${t}-${n}-${r}`)),i.push(...a,...l)}return i},[])}function Ng(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function su(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function XI(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function bE({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:i,getState:o,setState:s,isValidConnection:a,edgeUpdaterType:l,onReconnectEnd:u}){const c=aE(e.target),{connectionMode:f,domNode:h,autoPanOnConnect:p,connectionRadius:y,onConnectStart:v,panBy:_,getNodes:g,cancelConnection:m}=o();let x=0,w;const{x:S,y:E}=tr(e),N=c==null?void 0:c.elementFromPoint(S,E),C=Ng(l,N),I=h==null?void 0:h.getBoundingClientRect();if(!I||!C)return;let O,q=tr(e,I),F=!1,L=null,b=!1,P=null;const T=YI({nodes:g(),nodeId:n,handleId:t,handleType:C}),z=()=>{if(!p)return;const[A,M]=sE(q,I);_({x:A,y:M}),x=requestAnimationFrame(z)};s({connectionPosition:q,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:C,connectionStartHandle:{nodeId:n,handleId:t,type:C},connectionEndHandle:null}),v==null||v(e,{nodeId:n,handleId:t,handleType:C});function R(A){const{transform:M}=o();q=tr(A,I);const{handle:D,validHandleResult:B}=GI(A,c,fm(q,M,!1,[1,1]),y,T,V=>_E(V,f,n,t,i?"target":"source",a,c));if(w=D,F||(z(),F=!0),P=B.handleDomNode,L=B.connection,b=B.isValid,s({connectionPosition:w&&b?gE({x:w.x,y:w.y},M):q,connectionStatus:XI(!!w,b),connectionEndHandle:B.endHandle}),!w&&!b&&!P)return su(O);L.source!==L.target&&P&&(su(O),O=P,P.classList.add("connecting","react-flow__handle-connecting"),P.classList.toggle("valid",b),P.classList.toggle("react-flow__handle-valid",b))}function j(A){var M,D;(w||P)&&L&&b&&(r==null||r(L)),(D=(M=o()).onConnectEnd)==null||D.call(M,A),l&&(u==null||u(A)),su(O),m(),cancelAnimationFrame(x),F=!1,b=!1,L=null,P=null,c.removeEventListener("mousemove",R),c.removeEventListener("mouseup",j),c.removeEventListener("touchmove",R),c.removeEventListener("touchend",j)}c.addEventListener("mousemove",R),c.addEventListener("mouseup",j),c.addEventListener("touchmove",R),c.addEventListener("touchend",j)}const zy=()=>!0,QI=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),ZI=(e,t,n)=>r=>{const{connectionStartHandle:i,connectionEndHandle:o,connectionClickStartHandle:s}=r;return{connecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n||(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n}},SE=k.forwardRef(({type:e="source",position:t=X.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:s,onConnect:a,children:l,className:u,onMouseDown:c,onTouchStart:f,...h},p)=>{var I,O;const y=s||null,v=e==="target",_=Ve(),g=BI(),{connectOnClick:m,noPanClassName:x}=be(QI,et),{connecting:w,clickConnecting:S}=be(ZI(g,y,e),et);g||(O=(I=_.getState()).onError)==null||O.call(I,"010",jn.error010());const E=q=>{const{defaultEdgeOptions:F,onConnect:L,hasDefaultEdges:b}=_.getState(),P={...F,...q};if(b){const{edges:T,setEdges:z}=_.getState();z(WI(P,T))}L==null||L(P),a==null||a(P)},N=q=>{if(!g)return;const F=dE(q);i&&(F&&q.button===0||!F)&&bE({event:q,handleId:y,nodeId:g,onConnect:E,isTarget:v,getState:_.getState,setState:_.setState,isValidConnection:n||_.getState().isValidConnection||zy}),F?c==null||c(q):f==null||f(q)},C=q=>{const{onClickConnectStart:F,onClickConnectEnd:L,connectionClickStartHandle:b,connectionMode:P,isValidConnection:T}=_.getState();if(!g||!b&&!i)return;if(!b){F==null||F(q,{nodeId:g,handleId:y,handleType:e}),_.setState({connectionClickStartHandle:{nodeId:g,type:e,handleId:y}});return}const z=aE(q.target),R=n||T||zy,{connection:j,isValid:A}=_E({nodeId:g,id:y,type:e},P,b.nodeId,b.handleId||null,b.type,R,z);A&&E(j),L==null||L(q),_.setState({connectionClickStartHandle:null})};return $.createElement("div",{"data-handleid":y,"data-nodeid":g,"data-handlepos":t,"data-id":`${g}-${y}-${e}`,className:mt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",x,u,{source:!v,target:v,connectable:r,connectablestart:i,connectableend:o,connecting:S,connectionindicator:r&&(i&&!w||o&&w)}]),onMouseDown:N,onTouchStart:N,onClick:m?C:void 0,ref:p,...h},l)});SE.displayName="Handle";var or=k.memo(SE);const EE=({data:e,isConnectable:t,targetPosition:n=X.Top,sourcePosition:r=X.Bottom})=>$.createElement($.Fragment,null,$.createElement(or,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,$.createElement(or,{type:"source",position:r,isConnectable:t}));EE.displayName="DefaultNode";var hm=k.memo(EE);const kE=({data:e,isConnectable:t,sourcePosition:n=X.Bottom})=>$.createElement($.Fragment,null,e==null?void 0:e.label,$.createElement(or,{type:"source",position:n,isConnectable:t}));kE.displayName="InputNode";var NE=k.memo(kE);const jE=({data:e,isConnectable:t,targetPosition:n=X.Top})=>$.createElement($.Fragment,null,$.createElement(or,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);jE.displayName="OutputNode";var CE=k.memo(jE);const jg=()=>null;jg.displayName="GroupNode";const JI=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Cs=e=>e.id;function eR(e,t){return et(e.selectedNodes.map(Cs),t.selectedNodes.map(Cs))&&et(e.selectedEdges.map(Cs),t.selectedEdges.map(Cs))}const TE=k.memo(({onSelectionChange:e})=>{const t=Ve(),{selectedNodes:n,selectedEdges:r}=be(JI,eR);return k.useEffect(()=>{const i={nodes:n,edges:r};e==null||e(i),t.getState().onSelectionChange.forEach(o=>o(i))},[n,r,e]),null});TE.displayName="SelectionListener";const tR=e=>!!e.onSelectionChange;function nR({onSelectionChange:e}){const t=be(tR);return e||t?$.createElement(TE,{onSelectionChange:e}):null}const rR=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Br(e,t){k.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function te(e,t,n){k.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const iR=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:i,onConnectStart:o,onConnectEnd:s,onClickConnectStart:a,onClickConnectEnd:l,nodesDraggable:u,nodesConnectable:c,nodesFocusable:f,edgesFocusable:h,edgesUpdatable:p,elevateNodesOnSelect:y,minZoom:v,maxZoom:_,nodeExtent:g,onNodesChange:m,onEdgesChange:x,elementsSelectable:w,connectionMode:S,snapGrid:E,snapToGrid:N,translateExtent:C,connectOnClick:I,defaultEdgeOptions:O,fitView:q,fitViewOptions:F,onNodesDelete:L,onEdgesDelete:b,onNodeDrag:P,onNodeDragStart:T,onNodeDragStop:z,onSelectionDrag:R,onSelectionDragStart:j,onSelectionDragStop:A,noPanClassName:M,nodeOrigin:D,rfId:B,autoPanOnConnect:V,autoPanOnNodeDrag:K,onError:Q,connectionRadius:Z,isValidConnection:le,nodeDragThreshold:re})=>{const{setNodes:ie,setEdges:Ie,setDefaultNodesAndEdges:xe,setMinZoom:Le,setMaxZoom:Me,setTranslateExtent:U,setNodeExtent:oe,reset:W}=be(rR,et),G=Ve();return k.useEffect(()=>{const ae=r==null?void 0:r.map(Re=>({...Re,...O}));return xe(n,ae),()=>{W()}},[]),te("defaultEdgeOptions",O,G.setState),te("connectionMode",S,G.setState),te("onConnect",i,G.setState),te("onConnectStart",o,G.setState),te("onConnectEnd",s,G.setState),te("onClickConnectStart",a,G.setState),te("onClickConnectEnd",l,G.setState),te("nodesDraggable",u,G.setState),te("nodesConnectable",c,G.setState),te("nodesFocusable",f,G.setState),te("edgesFocusable",h,G.setState),te("edgesUpdatable",p,G.setState),te("elementsSelectable",w,G.setState),te("elevateNodesOnSelect",y,G.setState),te("snapToGrid",N,G.setState),te("snapGrid",E,G.setState),te("onNodesChange",m,G.setState),te("onEdgesChange",x,G.setState),te("connectOnClick",I,G.setState),te("fitViewOnInit",q,G.setState),te("fitViewOnInitOptions",F,G.setState),te("onNodesDelete",L,G.setState),te("onEdgesDelete",b,G.setState),te("onNodeDrag",P,G.setState),te("onNodeDragStart",T,G.setState),te("onNodeDragStop",z,G.setState),te("onSelectionDrag",R,G.setState),te("onSelectionDragStart",j,G.setState),te("onSelectionDragStop",A,G.setState),te("noPanClassName",M,G.setState),te("nodeOrigin",D,G.setState),te("rfId",B,G.setState),te("autoPanOnConnect",V,G.setState),te("autoPanOnNodeDrag",K,G.setState),te("onError",Q,G.setState),te("connectionRadius",Z,G.setState),te("isValidConnection",le,G.setState),te("nodeDragThreshold",re,G.setState),Br(e,ie),Br(t,Ie),Br(v,Le),Br(_,Me),Br(C,U),Br(g,oe),null},Dy={display:"none"},oR={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},IE="react-flow__node-desc",RE="react-flow__edge-desc",sR="react-flow__aria-live",aR=e=>e.ariaLiveMessage;function lR({rfId:e}){const t=be(aR);return $.createElement("div",{id:`${sR}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:oR},t)}function uR({rfId:e,disableKeyboardA11y:t}){return $.createElement($.Fragment,null,$.createElement("div",{id:`${IE}-${e}`,style:Dy},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),$.createElement("div",{id:`${RE}-${e}`,style:Dy},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&$.createElement(lR,{rfId:e}))}var Ho=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=k.useState(!1),i=k.useRef(!1),o=k.useRef(new Set([])),[s,a]=k.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),c=u.reduce((f,h)=>f.concat(...h),[]);return[u,c]}return[[],[]]},[e]);return k.useEffect(()=>{const l=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||l;if(e!==null){const c=p=>{if(i.current=p.ctrlKey||p.metaKey||p.shiftKey,(!i.current||i.current&&!t.actInsideInputWithModifier)&&um(p))return!1;const v=$y(p.code,a);o.current.add(p[v]),Fy(s,o.current,!1)&&(p.preventDefault(),r(!0))},f=p=>{if((!i.current||i.current&&!t.actInsideInputWithModifier)&&um(p))return!1;const v=$y(p.code,a);Fy(s,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(p[v]),p.key==="Meta"&&o.current.clear(),i.current=!1},h=()=>{o.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",c),u==null||u.addEventListener("keyup",f),window.addEventListener("blur",h),()=>{u==null||u.removeEventListener("keydown",c),u==null||u.removeEventListener("keyup",f),window.removeEventListener("blur",h)}}},[e,r]),n};function Fy(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function $y(e,t){return t.includes(e)?"code":"key"}function PE(e,t,n,r){var a,l;const i=e.parentNode||e.parentId;if(!i)return n;const o=t.get(i),s=Nr(o,r);return PE(o,t,{x:(n.x??0)+s.x,y:(n.y??0)+s.y,z:(((a=o[Te])==null?void 0:a.z)??0)>(n.z??0)?((l=o[Te])==null?void 0:l.z)??0:n.z??0},r)}function ME(e,t,n){e.forEach(r=>{var o;const i=r.parentNode||r.parentId;if(i&&!e.has(i))throw new Error(`Parent node ${i} not found`);if(i||n!=null&&n[r.id]){const{x:s,y:a,z:l}=PE(r,e,{...r.position,z:((o=r[Te])==null?void 0:o.z)??0},t);r.positionAbsolute={x:s,y:a},r[Te].z=l,n!=null&&n[r.id]&&(r[Te].isParent=!0)}})}function au(e,t,n,r){const i=new Map,o={},s=r?1e3:0;return e.forEach(a=>{var p;const l=(It(a.zIndex)?a.zIndex:0)+(a.selected?s:0),u=t.get(a.id),c={...a,positionAbsolute:{x:a.position.x,y:a.position.y}},f=a.parentNode||a.parentId;f&&(o[f]=!0);const h=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==a.type;Object.defineProperty(c,Te,{enumerable:!1,value:{handleBounds:h||(p=u==null?void 0:u[Te])==null?void 0:p.handleBounds,z:l}}),i.set(a.id,c)}),ME(i,n,o),i}function AE(e,t={}){const{getNodes:n,width:r,height:i,minZoom:o,maxZoom:s,d3Zoom:a,d3Selection:l,fitViewOnInitDone:u,fitViewOnInit:c,nodeOrigin:f}=e(),h=t.initial&&!u&&c;if(a&&l&&(h||!t.initial)){const y=n().filter(_=>{var m;const g=t.includeHiddenNodes?_.width&&_.height:!_.hidden;return(m=t.nodes)!=null&&m.length?g&&t.nodes.some(x=>x.id===_.id):g}),v=y.every(_=>_.width&&_.height);if(y.length>0&&v){const _=sl(y,f),{x:g,y:m,zoom:x}=xE(_,r,i,t.minZoom??o,t.maxZoom??s,t.padding??.1),w=_n.translate(g,m).scale(x);return typeof t.duration=="number"&&t.duration>0?a.transform(gr(l,t.duration),w):a.transform(l,w),!0}}return!1}function cR(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[Te]:r[Te],selected:n.selected})}),new Map(t)}function dR(e,t){return t.map(n=>{const r=e.find(i=>i.id===n.id);return r&&(n.selected=r.selected),n})}function Ts({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:i,edges:o,onNodesChange:s,onEdgesChange:a,hasDefaultNodes:l,hasDefaultEdges:u}=n();e!=null&&e.length&&(l&&r({nodeInternals:cR(e,i)}),s==null||s(e)),t!=null&&t.length&&(u&&r({edges:dR(t,o)}),a==null||a(t))}const Hr=()=>{},fR={zoomIn:Hr,zoomOut:Hr,zoomTo:Hr,getZoom:()=>1,setViewport:Hr,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Hr,fitBounds:Hr,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},hR=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),pR=()=>{const e=Ve(),{d3Zoom:t,d3Selection:n}=be(hR,et);return k.useMemo(()=>n&&t?{zoomIn:i=>t.scaleBy(gr(n,i==null?void 0:i.duration),1.2),zoomOut:i=>t.scaleBy(gr(n,i==null?void 0:i.duration),1/1.2),zoomTo:(i,o)=>t.scaleTo(gr(n,o==null?void 0:o.duration),i),getZoom:()=>e.getState().transform[2],setViewport:(i,o)=>{const[s,a,l]=e.getState().transform,u=_n.translate(i.x??s,i.y??a).scale(i.zoom??l);t.transform(gr(n,o==null?void 0:o.duration),u)},getViewport:()=>{const[i,o,s]=e.getState().transform;return{x:i,y:o,zoom:s}},fitView:i=>AE(e.getState,i),setCenter:(i,o,s)=>{const{width:a,height:l,maxZoom:u}=e.getState(),c=typeof(s==null?void 0:s.zoom)<"u"?s.zoom:u,f=a/2-i*c,h=l/2-o*c,p=_n.translate(f,h).scale(c);t.transform(gr(n,s==null?void 0:s.duration),p)},fitBounds:(i,o)=>{const{width:s,height:a,minZoom:l,maxZoom:u}=e.getState(),{x:c,y:f,zoom:h}=xE(i,s,a,l,u,(o==null?void 0:o.padding)??.1),p=_n.translate(c,f).scale(h);t.transform(gr(n,o==null?void 0:o.duration),p)},project:i=>{const{transform:o,snapToGrid:s,snapGrid:a}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),fm(i,o,s,a)},screenToFlowPosition:i=>{const{transform:o,snapToGrid:s,snapGrid:a,domNode:l}=e.getState();if(!l)return i;const{x:u,y:c}=l.getBoundingClientRect(),f={x:i.x-u,y:i.y-c};return fm(f,o,s,a)},flowToScreenPosition:i=>{const{transform:o,domNode:s}=e.getState();if(!s)return i;const{x:a,y:l}=s.getBoundingClientRect(),u=gE(i,o);return{x:u.x+a,y:u.y+l}},viewportInitialized:!0}:fR,[t,n])};function Cg(){const e=pR(),t=Ve(),n=k.useCallback(()=>t.getState().getNodes().map(v=>({...v})),[]),r=k.useCallback(v=>t.getState().nodeInternals.get(v),[]),i=k.useCallback(()=>{const{edges:v=[]}=t.getState();return v.map(_=>({..._}))},[]),o=k.useCallback(v=>{const{edges:_=[]}=t.getState();return _.find(g=>g.id===v)},[]),s=k.useCallback(v=>{const{getNodes:_,setNodes:g,hasDefaultNodes:m,onNodesChange:x}=t.getState(),w=_(),S=typeof v=="function"?v(w):v;if(m)g(S);else if(x){const E=S.length===0?w.map(N=>({type:"remove",id:N.id})):S.map(N=>({item:N,type:"reset"}));x(E)}},[]),a=k.useCallback(v=>{const{edges:_=[],setEdges:g,hasDefaultEdges:m,onEdgesChange:x}=t.getState(),w=typeof v=="function"?v(_):v;if(m)g(w);else if(x){const S=w.length===0?_.map(E=>({type:"remove",id:E.id})):w.map(E=>({item:E,type:"reset"}));x(S)}},[]),l=k.useCallback(v=>{const _=Array.isArray(v)?v:[v],{getNodes:g,setNodes:m,hasDefaultNodes:x,onNodesChange:w}=t.getState();if(x){const E=[...g(),..._];m(E)}else if(w){const S=_.map(E=>({item:E,type:"add"}));w(S)}},[]),u=k.useCallback(v=>{const _=Array.isArray(v)?v:[v],{edges:g=[],setEdges:m,hasDefaultEdges:x,onEdgesChange:w}=t.getState();if(x)m([...g,..._]);else if(w){const S=_.map(E=>({item:E,type:"add"}));w(S)}},[]),c=k.useCallback(()=>{const{getNodes:v,edges:_=[],transform:g}=t.getState(),[m,x,w]=g;return{nodes:v().map(S=>({...S})),edges:_.map(S=>({...S})),viewport:{x:m,y:x,zoom:w}}},[]),f=k.useCallback(({nodes:v,edges:_})=>{const{nodeInternals:g,getNodes:m,edges:x,hasDefaultNodes:w,hasDefaultEdges:S,onNodesDelete:E,onEdgesDelete:N,onNodesChange:C,onEdgesChange:I}=t.getState(),O=(v||[]).map(P=>P.id),q=(_||[]).map(P=>P.id),F=m().reduce((P,T)=>{const z=T.parentNode||T.parentId,R=!O.includes(T.id)&&z&&P.find(A=>A.id===z);return(typeof T.deletable=="boolean"?T.deletable:!0)&&(O.includes(T.id)||R)&&P.push(T),P},[]),L=x.filter(P=>typeof P.deletable=="boolean"?P.deletable:!0),b=L.filter(P=>q.includes(P.id));if(F||b){const P=yE(F,L),T=[...b,...P],z=T.reduce((R,j)=>(R.includes(j.id)||R.push(j.id),R),[]);if((S||w)&&(S&&t.setState({edges:x.filter(R=>!z.includes(R.id))}),w&&(F.forEach(R=>{g.delete(R.id)}),t.setState({nodeInternals:new Map(g)}))),z.length>0&&(N==null||N(T),I&&I(z.map(R=>({id:R,type:"remove"})))),F.length>0&&(E==null||E(F),C)){const R=F.map(j=>({id:j.id,type:"remove"}));C(R)}}},[]),h=k.useCallback(v=>{const _=AI(v),g=_?null:t.getState().nodeInternals.get(v.id);return!_&&!g?[null,null,_]:[_?v:Py(g),g,_]},[]),p=k.useCallback((v,_=!0,g)=>{const[m,x,w]=h(v);return m?(g||t.getState().getNodes()).filter(S=>{if(!w&&(S.id===x.id||!S.positionAbsolute))return!1;const E=Py(S),N=lm(E,m);return _&&N>0||N>=m.width*m.height}):[]},[]),y=k.useCallback((v,_,g=!0)=>{const[m]=h(v);if(!m)return!1;const x=lm(m,_);return g&&x>0||x>=m.width*m.height},[]);return k.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:i,getEdge:o,setNodes:s,setEdges:a,addNodes:l,addEdges:u,toObject:c,deleteElements:f,getIntersectingNodes:p,isNodeIntersecting:y}),[e,n,r,i,o,s,a,l,u,c,f,p,y])}const mR={actInsideInputWithModifier:!1};var gR=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=Ve(),{deleteElements:r}=Cg(),i=Ho(e,mR),o=Ho(t);k.useEffect(()=>{if(i){const{edges:s,getNodes:a}=n.getState(),l=a().filter(c=>c.selected),u=s.filter(c=>c.selected);r({nodes:l,edges:u}),n.setState({nodesSelectionActive:!1})}},[i]),k.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])};function vR(e){const t=Ve();k.useEffect(()=>{let n;const r=()=>{var o,s;if(!e.current)return;const i=wg(e.current);(i.height===0||i.width===0)&&((s=(o=t.getState()).onError)==null||s.call(o,"004",jn.error004())),t.setState({width:i.width||500,height:i.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const Tg={position:"absolute",width:"100%",height:"100%",top:0,left:0},yR=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Is=e=>({x:e.x,y:e.y,zoom:e.k}),Vr=(e,t)=>e.target.closest(`.${t}`),By=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Hy=e=>{const t=e.ctrlKey&&Ia()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},xR=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),wR=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:i=!0,zoomOnPinch:o=!0,panOnScroll:s=!1,panOnScrollSpeed:a=.5,panOnScrollMode:l=_r.Free,zoomOnDoubleClick:u=!0,elementsSelectable:c,panOnDrag:f=!0,defaultViewport:h,translateExtent:p,minZoom:y,maxZoom:v,zoomActivationKeyCode:_,preventScrolling:g=!0,children:m,noWheelClassName:x,noPanClassName:w})=>{const S=k.useRef(),E=Ve(),N=k.useRef(!1),C=k.useRef(!1),I=k.useRef(null),O=k.useRef({x:0,y:0,zoom:0}),{d3Zoom:q,d3Selection:F,d3ZoomHandler:L,userSelectionActive:b}=be(xR,et),P=Ho(_),T=k.useRef(0),z=k.useRef(!1),R=k.useRef();return vR(I),k.useEffect(()=>{if(I.current){const j=I.current.getBoundingClientRect(),A=iE().scaleExtent([y,v]).translateExtent(p),M=Ct(I.current).call(A),D=_n.translate(h.x,h.y).scale(Ei(h.zoom,y,v)),B=[[0,0],[j.width,j.height]],V=A.constrain()(D,B,p);A.transform(M,V),A.wheelDelta(Hy),E.setState({d3Zoom:A,d3Selection:M,d3ZoomHandler:M.on("wheel.zoom"),transform:[V.x,V.y,V.k],domNode:I.current.closest(".react-flow")})}},[]),k.useEffect(()=>{F&&q&&(s&&!P&&!b?F.on("wheel.zoom",j=>{if(Vr(j,x))return!1;j.preventDefault(),j.stopImmediatePropagation();const A=F.property("__zoom").k||1;if(j.ctrlKey&&o){const le=Ft(j),re=Hy(j),ie=A*Math.pow(2,re);q.scaleTo(F,ie,le,j);return}const M=j.deltaMode===1?20:1;let D=l===_r.Vertical?0:j.deltaX*M,B=l===_r.Horizontal?0:j.deltaY*M;!Ia()&&j.shiftKey&&l!==_r.Vertical&&(D=j.deltaY*M,B=0),q.translateBy(F,-(D/A)*a,-(B/A)*a,{internal:!0});const V=Is(F.property("__zoom")),{onViewportChangeStart:K,onViewportChange:Q,onViewportChangeEnd:Z}=E.getState();clearTimeout(R.current),z.current||(z.current=!0,t==null||t(j,V),K==null||K(V)),z.current&&(e==null||e(j,V),Q==null||Q(V),R.current=setTimeout(()=>{n==null||n(j,V),Z==null||Z(V),z.current=!1},150))},{passive:!1}):typeof L<"u"&&F.on("wheel.zoom",function(j,A){if(!g&&j.type==="wheel"&&!j.ctrlKey||Vr(j,x))return null;j.preventDefault(),L.call(this,j,A)},{passive:!1}))},[b,s,l,F,q,L,P,o,g,x,t,e,n]),k.useEffect(()=>{q&&q.on("start",j=>{var D,B;if(!j.sourceEvent||j.sourceEvent.internal)return null;T.current=(D=j.sourceEvent)==null?void 0:D.button;const{onViewportChangeStart:A}=E.getState(),M=Is(j.transform);N.current=!0,O.current=M,((B=j.sourceEvent)==null?void 0:B.type)==="mousedown"&&E.setState({paneDragging:!0}),A==null||A(M),t==null||t(j.sourceEvent,M)})},[q,t]),k.useEffect(()=>{q&&(b&&!N.current?q.on("zoom",null):b||q.on("zoom",j=>{var M;const{onViewportChange:A}=E.getState();if(E.setState({transform:[j.transform.x,j.transform.y,j.transform.k]}),C.current=!!(r&&By(f,T.current??0)),(e||A)&&!((M=j.sourceEvent)!=null&&M.internal)){const D=Is(j.transform);A==null||A(D),e==null||e(j.sourceEvent,D)}}))},[b,q,e,f,r]),k.useEffect(()=>{q&&q.on("end",j=>{if(!j.sourceEvent||j.sourceEvent.internal)return null;const{onViewportChangeEnd:A}=E.getState();if(N.current=!1,E.setState({paneDragging:!1}),r&&By(f,T.current??0)&&!C.current&&r(j.sourceEvent),C.current=!1,(n||A)&&yR(O.current,j.transform)){const M=Is(j.transform);O.current=M,clearTimeout(S.current),S.current=setTimeout(()=>{A==null||A(M),n==null||n(j.sourceEvent,M)},s?150:0)}})},[q,s,f,n,r]),k.useEffect(()=>{q&&q.filter(j=>{const A=P||i,M=o&&j.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&j.button===1&&j.type==="mousedown"&&(Vr(j,"react-flow__node")||Vr(j,"react-flow__edge")))return!0;if(!f&&!A&&!s&&!u&&!o||b||!u&&j.type==="dblclick"||Vr(j,x)&&j.type==="wheel"||Vr(j,w)&&(j.type!=="wheel"||s&&j.type==="wheel"&&!P)||!o&&j.ctrlKey&&j.type==="wheel"||!A&&!s&&!M&&j.type==="wheel"||!f&&(j.type==="mousedown"||j.type==="touchstart")||Array.isArray(f)&&!f.includes(j.button)&&j.type==="mousedown")return!1;const D=Array.isArray(f)&&f.includes(j.button)||!j.button||j.button<=1;return(!j.ctrlKey||j.type==="wheel")&&D})},[b,q,i,o,s,u,f,c,P]),$.createElement("div",{className:"react-flow__renderer",ref:I,style:Tg},m)},_R=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function bR(){const{userSelectionActive:e,userSelectionRect:t}=be(_R,et);return e&&t?$.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function Vy(e,t){const n=t.parentNode||t.parentId,r=e.find(i=>i.id===n);if(r){const i=t.position.x+t.width-r.width,o=t.position.y+t.height-r.height;if(i>0||o>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,i>0&&(r.style.width+=i),o>0&&(r.style.height+=o),t.position.x<0){const s=Math.abs(t.position.x);r.position.x=r.position.x-s,r.style.width+=s,t.position.x=0}if(t.position.y<0){const s=Math.abs(t.position.y);r.position.y=r.position.y-s,r.style.height+=s,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function OE(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,i)=>{const o=e.filter(a=>a.id===i.id);if(o.length===0)return r.push(i),r;const s={...i};for(const a of o)if(a)switch(a.type){case"select":{s.selected=a.selected;break}case"position":{typeof a.position<"u"&&(s.position=a.position),typeof a.positionAbsolute<"u"&&(s.positionAbsolute=a.positionAbsolute),typeof a.dragging<"u"&&(s.dragging=a.dragging),s.expandParent&&Vy(r,s);break}case"dimensions":{typeof a.dimensions<"u"&&(s.width=a.dimensions.width,s.height=a.dimensions.height),typeof a.updateStyle<"u"&&(s.style={...s.style||{},...a.dimensions}),typeof a.resizing=="boolean"&&(s.resizing=a.resizing),s.expandParent&&Vy(r,s);break}case"remove":return r}return r.push(s),r},n)}function qE(e,t){return OE(e,t)}function SR(e,t){return OE(e,t)}const Dn=(e,t)=>({id:e,type:"select",selected:t});function ii(e,t){return e.reduce((n,r)=>{const i=t.includes(r.id);return!r.selected&&i?(r.selected=!0,n.push(Dn(r.id,!0))):r.selected&&!i&&(r.selected=!1,n.push(Dn(r.id,!1))),n},[])}const lu=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},ER=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),LE=k.memo(({isSelecting:e,selectionMode:t=Bo.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:i,onPaneClick:o,onPaneContextMenu:s,onPaneScroll:a,onPaneMouseEnter:l,onPaneMouseMove:u,onPaneMouseLeave:c,children:f})=>{const h=k.useRef(null),p=Ve(),y=k.useRef(0),v=k.useRef(0),_=k.useRef(),{userSelectionActive:g,elementsSelectable:m,dragging:x}=be(ER,et),w=()=>{p.setState({userSelectionActive:!1,userSelectionRect:null}),y.current=0,v.current=0},S=L=>{o==null||o(L),p.getState().resetSelectedElements(),p.setState({nodesSelectionActive:!1})},E=L=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){L.preventDefault();return}s==null||s(L)},N=a?L=>a(L):void 0,C=L=>{const{resetSelectedElements:b,domNode:P}=p.getState();if(_.current=P==null?void 0:P.getBoundingClientRect(),!m||!e||L.button!==0||L.target!==h.current||!_.current)return;const{x:T,y:z}=tr(L,_.current);b(),p.setState({userSelectionRect:{width:0,height:0,startX:T,startY:z,x:T,y:z}}),r==null||r(L)},I=L=>{const{userSelectionRect:b,nodeInternals:P,edges:T,transform:z,onNodesChange:R,onEdgesChange:j,nodeOrigin:A,getNodes:M}=p.getState();if(!e||!_.current||!b)return;p.setState({userSelectionActive:!0,nodesSelectionActive:!1});const D=tr(L,_.current),B=b.startX??0,V=b.startY??0,K={...b,x:D.x<B?D.x:B,y:D.y<V?D.y:V,width:Math.abs(D.x-B),height:Math.abs(D.y-V)},Q=M(),Z=vE(P,K,z,t===Bo.Partial,!0,A),le=yE(Z,T).map(ie=>ie.id),re=Z.map(ie=>ie.id);if(y.current!==re.length){y.current=re.length;const ie=ii(Q,re);ie.length&&(R==null||R(ie))}if(v.current!==le.length){v.current=le.length;const ie=ii(T,le);ie.length&&(j==null||j(ie))}p.setState({userSelectionRect:K})},O=L=>{if(L.button!==0)return;const{userSelectionRect:b}=p.getState();!g&&b&&L.target===h.current&&(S==null||S(L)),p.setState({nodesSelectionActive:y.current>0}),w(),i==null||i(L)},q=L=>{g&&(p.setState({nodesSelectionActive:y.current>0}),i==null||i(L)),w()},F=m&&(e||g);return $.createElement("div",{className:mt(["react-flow__pane",{dragging:x,selection:e}]),onClick:F?void 0:lu(S,h),onContextMenu:lu(E,h),onWheel:lu(N,h),onMouseEnter:F?void 0:l,onMouseDown:F?C:void 0,onMouseMove:F?I:u,onMouseUp:F?O:void 0,onMouseLeave:F?q:c,ref:h,style:Tg},f,$.createElement(bR,null))});LE.displayName="Pane";function zE(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:zE(r,t):!1}function Uy(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function kR(e,t,n,r){return Array.from(e.values()).filter(i=>(i.selected||i.id===r)&&(!i.parentNode||i.parentId||!zE(i,e))&&(i.draggable||t&&typeof i.draggable>"u")).map(i=>{var o,s;return{id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((o=i.positionAbsolute)==null?void 0:o.x)??0),y:n.y-(((s=i.positionAbsolute)==null?void 0:s.y)??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode||i.parentId,parentId:i.parentNode||i.parentId,width:i.width,height:i.height,expandParent:i.expandParent}})}function NR(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function DE(e,t,n,r,i=[0,0],o){const s=NR(e,e.extent||r);let a=s;const l=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(l&&e.width&&e.height){const f=n.get(l),{x:h,y:p}=Nr(f,i).positionAbsolute;a=f&&It(h)&&It(p)&&It(f.width)&&It(f.height)?[[h+e.width*i[0],p+e.height*i[1]],[h+f.width-e.width+e.width*i[0],p+f.height-e.height+e.height*i[1]]]:a}else o==null||o("005",jn.error005()),a=s;else if(e.extent&&l&&e.extent!=="parent"){const f=n.get(l),{x:h,y:p}=Nr(f,i).positionAbsolute;a=[[e.extent[0][0]+h,e.extent[0][1]+p],[e.extent[1][0]+h,e.extent[1][1]+p]]}let u={x:0,y:0};if(l){const f=n.get(l);u=Nr(f,i).positionAbsolute}const c=a&&a!=="parent"?_g(t,a):t;return{position:{x:c.x-u.x,y:c.y-u.y},positionAbsolute:c}}function uu({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(i=>({...n.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[e?r.find(i=>i.id===e):r[0],r]}const Wy=(e,t,n,r)=>{const i=t.querySelectorAll(e);if(!i||!i.length)return null;const o=Array.from(i),s=t.getBoundingClientRect(),a={x:s.width*r[0],y:s.height*r[1]};return o.map(l=>{const u=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(u.left-s.left-a.x)/n,y:(u.top-s.top-a.y)/n,...wg(l)}})};function Wi(e,t,n){return n===void 0?n:r=>{const i=t().nodeInternals.get(e);i&&n(r,{...i})}}function pm({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:s,nodeInternals:a,onError:l}=t.getState(),u=a.get(e);if(!u){l==null||l("012",jn.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&s)&&(o({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):i([e])}function jR(){const e=Ve();return k.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:i,snapToGrid:o}=e.getState(),s=n.touches?n.touches[0].clientX:n.clientX,a=n.touches?n.touches[0].clientY:n.clientY,l={x:(s-r[0])/r[2],y:(a-r[1])/r[2]};return{xSnapped:o?i[0]*Math.round(l.x/i[0]):l.x,ySnapped:o?i[1]*Math.round(l.y/i[1]):l.y,...l}},[])}function cu(e){return(t,n,r)=>e==null?void 0:e(t,r)}function FE({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,selectNodesOnDrag:s}){const a=Ve(),[l,u]=k.useState(!1),c=k.useRef([]),f=k.useRef({x:null,y:null}),h=k.useRef(0),p=k.useRef(null),y=k.useRef({x:0,y:0}),v=k.useRef(null),_=k.useRef(!1),g=k.useRef(!1),m=k.useRef(!1),x=jR();return k.useEffect(()=>{if(e!=null&&e.current){const w=Ct(e.current),S=({x:C,y:I})=>{const{nodeInternals:O,onNodeDrag:q,onSelectionDrag:F,updateNodePositions:L,nodeExtent:b,snapGrid:P,snapToGrid:T,nodeOrigin:z,onError:R}=a.getState();f.current={x:C,y:I};let j=!1,A={x:0,y:0,x2:0,y2:0};if(c.current.length>1&&b){const D=sl(c.current,z);A=$o(D)}if(c.current=c.current.map(D=>{const B={x:C-D.distance.x,y:I-D.distance.y};T&&(B.x=P[0]*Math.round(B.x/P[0]),B.y=P[1]*Math.round(B.y/P[1]));const V=[[b[0][0],b[0][1]],[b[1][0],b[1][1]]];c.current.length>1&&b&&!D.extent&&(V[0][0]=D.positionAbsolute.x-A.x+b[0][0],V[1][0]=D.positionAbsolute.x+(D.width??0)-A.x2+b[1][0],V[0][1]=D.positionAbsolute.y-A.y+b[0][1],V[1][1]=D.positionAbsolute.y+(D.height??0)-A.y2+b[1][1]);const K=DE(D,B,O,V,z,R);return j=j||D.position.x!==K.position.x||D.position.y!==K.position.y,D.position=K.position,D.positionAbsolute=K.positionAbsolute,D}),!j)return;L(c.current,!0,!0),u(!0);const M=i?q:cu(F);if(M&&v.current){const[D,B]=uu({nodeId:i,dragItems:c.current,nodeInternals:O});M(v.current,D,B)}},E=()=>{if(!p.current)return;const[C,I]=sE(y.current,p.current);if(C!==0||I!==0){const{transform:O,panBy:q}=a.getState();f.current.x=(f.current.x??0)-C/O[2],f.current.y=(f.current.y??0)-I/O[2],q({x:C,y:I})&&S(f.current)}h.current=requestAnimationFrame(E)},N=C=>{var z;const{nodeInternals:I,multiSelectionActive:O,nodesDraggable:q,unselectNodesAndEdges:F,onNodeDragStart:L,onSelectionDragStart:b}=a.getState();g.current=!0;const P=i?L:cu(b);(!s||!o)&&!O&&i&&((z=I.get(i))!=null&&z.selected||F()),i&&o&&s&&pm({id:i,store:a,nodeRef:e});const T=x(C);if(f.current=T,c.current=kR(I,q,T,i),P&&c.current){const[R,j]=uu({nodeId:i,dragItems:c.current,nodeInternals:I});P(C.sourceEvent,R,j)}};if(t)w.on(".drag",null);else{const C=zT().on("start",I=>{const{domNode:O,nodeDragThreshold:q}=a.getState();q===0&&N(I),m.current=!1;const F=x(I);f.current=F,p.current=(O==null?void 0:O.getBoundingClientRect())||null,y.current=tr(I.sourceEvent,p.current)}).on("drag",I=>{var L,b;const O=x(I),{autoPanOnNodeDrag:q,nodeDragThreshold:F}=a.getState();if(I.sourceEvent.type==="touchmove"&&I.sourceEvent.touches.length>1&&(m.current=!0),!m.current){if(!_.current&&g.current&&q&&(_.current=!0,E()),!g.current){const P=O.xSnapped-(((L=f==null?void 0:f.current)==null?void 0:L.x)??0),T=O.ySnapped-(((b=f==null?void 0:f.current)==null?void 0:b.y)??0);Math.sqrt(P*P+T*T)>F&&N(I)}(f.current.x!==O.xSnapped||f.current.y!==O.ySnapped)&&c.current&&g.current&&(v.current=I.sourceEvent,y.current=tr(I.sourceEvent,p.current),S(O))}}).on("end",I=>{if(!(!g.current||m.current)&&(u(!1),_.current=!1,g.current=!1,cancelAnimationFrame(h.current),c.current)){const{updateNodePositions:O,nodeInternals:q,onNodeDragStop:F,onSelectionDragStop:L}=a.getState(),b=i?F:cu(L);if(O(c.current,!1,!1),b){const[P,T]=uu({nodeId:i,dragItems:c.current,nodeInternals:q});b(I.sourceEvent,P,T)}}}).filter(I=>{const O=I.target;return!I.button&&(!n||!Uy(O,`.${n}`,e))&&(!r||Uy(O,r,e))});return w.call(C),()=>{w.on(".drag",null)}}}},[e,t,n,r,o,a,i,s,x]),l}function $E(){const e=Ve();return k.useCallback(n=>{const{nodeInternals:r,nodeExtent:i,updateNodePositions:o,getNodes:s,snapToGrid:a,snapGrid:l,onError:u,nodesDraggable:c}=e.getState(),f=s().filter(m=>m.selected&&(m.draggable||c&&typeof m.draggable>"u")),h=a?l[0]:5,p=a?l[1]:5,y=n.isShiftPressed?4:1,v=n.x*h*y,_=n.y*p*y,g=f.map(m=>{if(m.positionAbsolute){const x={x:m.positionAbsolute.x+v,y:m.positionAbsolute.y+_};a&&(x.x=l[0]*Math.round(x.x/l[0]),x.y=l[1]*Math.round(x.y/l[1]));const{positionAbsolute:w,position:S}=DE(m,x,r,i,void 0,u);m.position=S,m.positionAbsolute=w}return m});o(g,!0,!1)},[])}const hi={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Gi=e=>{const t=({id:n,type:r,data:i,xPos:o,yPos:s,xPosOrigin:a,yPosOrigin:l,selected:u,onClick:c,onMouseEnter:f,onMouseMove:h,onMouseLeave:p,onContextMenu:y,onDoubleClick:v,style:_,className:g,isDraggable:m,isSelectable:x,isConnectable:w,isFocusable:S,selectNodesOnDrag:E,sourcePosition:N,targetPosition:C,hidden:I,resizeObserver:O,dragHandle:q,zIndex:F,isParent:L,noDragClassName:b,noPanClassName:P,initialized:T,disableKeyboardA11y:z,ariaLabel:R,rfId:j,hasHandleBounds:A})=>{const M=Ve(),D=k.useRef(null),B=k.useRef(null),V=k.useRef(N),K=k.useRef(C),Q=k.useRef(r),Z=x||m||c||f||h||p,le=$E(),re=Wi(n,M.getState,f),ie=Wi(n,M.getState,h),Ie=Wi(n,M.getState,p),xe=Wi(n,M.getState,y),Le=Wi(n,M.getState,v),Me=W=>{const{nodeDragThreshold:G}=M.getState();if(x&&(!E||!m||G>0)&&pm({id:n,store:M,nodeRef:D}),c){const ae=M.getState().nodeInternals.get(n);ae&&c(W,{...ae})}},U=W=>{if(!um(W)&&!z)if(cE.includes(W.key)&&x){const G=W.key==="Escape";pm({id:n,store:M,unselect:G,nodeRef:D})}else m&&u&&Object.prototype.hasOwnProperty.call(hi,W.key)&&(M.setState({ariaLiveMessage:`Moved selected node ${W.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~o}, y: ${~~s}`}),le({x:hi[W.key].x,y:hi[W.key].y,isShiftPressed:W.shiftKey}))};k.useEffect(()=>()=>{B.current&&(O==null||O.unobserve(B.current),B.current=null)},[]),k.useEffect(()=>{if(D.current&&!I){const W=D.current;(!T||!A||B.current!==W)&&(B.current&&(O==null||O.unobserve(B.current)),O==null||O.observe(W),B.current=W)}},[I,T,A]),k.useEffect(()=>{const W=Q.current!==r,G=V.current!==N,ae=K.current!==C;D.current&&(W||G||ae)&&(W&&(Q.current=r),G&&(V.current=N),ae&&(K.current=C),M.getState().updateNodeDimensions([{id:n,nodeElement:D.current,forceUpdate:!0}]))},[n,r,N,C]);const oe=FE({nodeRef:D,disabled:I||!m,noDragClassName:b,handleSelector:q,nodeId:n,isSelectable:x,selectNodesOnDrag:E});return I?null:$.createElement("div",{className:mt(["react-flow__node",`react-flow__node-${r}`,{[P]:m},g,{selected:u,selectable:x,parent:L,dragging:oe}]),ref:D,style:{zIndex:F,transform:`translate(${a}px,${l}px)`,pointerEvents:Z?"all":"none",visibility:T?"visible":"hidden",..._},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:re,onMouseMove:ie,onMouseLeave:Ie,onContextMenu:xe,onClick:Me,onDoubleClick:Le,onKeyDown:S?U:void 0,tabIndex:S?0:void 0,role:S?"button":void 0,"aria-describedby":z?void 0:`${IE}-${j}`,"aria-label":R},$.createElement($I,{value:n},$.createElement(e,{id:n,data:i,type:r,xPos:o,yPos:s,selected:u,isConnectable:w,sourcePosition:N,targetPosition:C,dragging:oe,dragHandle:q,zIndex:F})))};return t.displayName="NodeWrapper",k.memo(t)};const CR=e=>{const t=e.getNodes().filter(n=>n.selected);return{...sl(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function TR({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Ve(),{width:i,height:o,x:s,y:a,transformString:l,userSelectionActive:u}=be(CR,et),c=$E(),f=k.useRef(null);if(k.useEffect(()=>{var y;n||(y=f.current)==null||y.focus({preventScroll:!0})},[n]),FE({nodeRef:f}),u||!i||!o)return null;const h=e?y=>{const v=r.getState().getNodes().filter(_=>_.selected);e(y,v)}:void 0,p=y=>{Object.prototype.hasOwnProperty.call(hi,y.key)&&c({x:hi[y.key].x,y:hi[y.key].y,isShiftPressed:y.shiftKey})};return $.createElement("div",{className:mt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l}},$.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:n?void 0:-1,onKeyDown:n?void 0:p,style:{width:i,height:o,top:a,left:s}}))}var IR=k.memo(TR);const RR=e=>e.nodesSelectionActive,BE=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,deleteKeyCode:a,onMove:l,onMoveStart:u,onMoveEnd:c,selectionKeyCode:f,selectionOnDrag:h,selectionMode:p,onSelectionStart:y,onSelectionEnd:v,multiSelectionKeyCode:_,panActivationKeyCode:g,zoomActivationKeyCode:m,elementsSelectable:x,zoomOnScroll:w,zoomOnPinch:S,panOnScroll:E,panOnScrollSpeed:N,panOnScrollMode:C,zoomOnDoubleClick:I,panOnDrag:O,defaultViewport:q,translateExtent:F,minZoom:L,maxZoom:b,preventScrolling:P,onSelectionContextMenu:T,noWheelClassName:z,noPanClassName:R,disableKeyboardA11y:j})=>{const A=be(RR),M=Ho(f),D=Ho(g),B=D||O,V=D||E,K=M||h&&B!==!0;return gR({deleteKeyCode:a,multiSelectionKeyCode:_}),$.createElement(wR,{onMove:l,onMoveStart:u,onMoveEnd:c,onPaneContextMenu:o,elementsSelectable:x,zoomOnScroll:w,zoomOnPinch:S,panOnScroll:V,panOnScrollSpeed:N,panOnScrollMode:C,zoomOnDoubleClick:I,panOnDrag:!M&&B,defaultViewport:q,translateExtent:F,minZoom:L,maxZoom:b,zoomActivationKeyCode:m,preventScrolling:P,noWheelClassName:z,noPanClassName:R},$.createElement(LE,{onSelectionStart:y,onSelectionEnd:v,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,panOnDrag:B,isSelecting:!!K,selectionMode:p},e,A&&$.createElement(IR,{onSelectionContextMenu:T,noPanClassName:R,disableKeyboardA11y:j})))};BE.displayName="FlowRenderer";var PR=k.memo(BE);function MR(e){return be(k.useCallback(n=>e?vE(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function AR(e){const t={input:Gi(e.input||NE),default:Gi(e.default||hm),output:Gi(e.output||CE),group:Gi(e.group||jg)},n={},r=Object.keys(e).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,o)=>(i[o]=Gi(e[o]||hm),i),n);return{...t,...r}}const OR=({x:e,y:t,width:n,height:r,origin:i})=>!n||!r?{x:e,y:t}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:e,y:t}:{x:e-n*i[0],y:t-r*i[1]},qR=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),HE=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,updateNodeDimensions:o,onError:s}=be(qR,et),a=MR(e.onlyRenderVisibleElements),l=k.useRef(),u=k.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const c=new ResizeObserver(f=>{const h=f.map(p=>({id:p.target.getAttribute("data-id"),nodeElement:p.target,forceUpdate:!0}));o(h)});return l.current=c,c},[]);return k.useEffect(()=>()=>{var c;(c=l==null?void 0:l.current)==null||c.disconnect()},[]),$.createElement("div",{className:"react-flow__nodes",style:Tg},a.map(c=>{var S,E,N;let f=c.type||"default";e.nodeTypes[f]||(s==null||s("003",jn.error003(f)),f="default");const h=e.nodeTypes[f]||e.nodeTypes.default,p=!!(c.draggable||t&&typeof c.draggable>"u"),y=!!(c.selectable||i&&typeof c.selectable>"u"),v=!!(c.connectable||n&&typeof c.connectable>"u"),_=!!(c.focusable||r&&typeof c.focusable>"u"),g=e.nodeExtent?_g(c.positionAbsolute,e.nodeExtent):c.positionAbsolute,m=(g==null?void 0:g.x)??0,x=(g==null?void 0:g.y)??0,w=OR({x:m,y:x,width:c.width??0,height:c.height??0,origin:e.nodeOrigin});return $.createElement(h,{key:c.id,id:c.id,className:c.className,style:c.style,type:f,data:c.data,sourcePosition:c.sourcePosition||X.Bottom,targetPosition:c.targetPosition||X.Top,hidden:c.hidden,xPos:m,yPos:x,xPosOrigin:w.x,yPosOrigin:w.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!c.selected,isDraggable:p,isSelectable:y,isConnectable:v,isFocusable:_,resizeObserver:u,dragHandle:c.dragHandle,zIndex:((S=c[Te])==null?void 0:S.z)??0,isParent:!!((E=c[Te])!=null&&E.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!c.width&&!!c.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:c.ariaLabel,hasHandleBounds:!!((N=c[Te])!=null&&N.handleBounds)})}))};HE.displayName="NodeRenderer";var LR=k.memo(HE);const zR=(e,t,n)=>n===X.Left?e-t:n===X.Right?e+t:e,DR=(e,t,n)=>n===X.Top?e-t:n===X.Bottom?e+t:e,Gy="react-flow__edgeupdater",Ky=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:s,type:a})=>$.createElement("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:s,className:mt([Gy,`${Gy}-${a}`]),cx:zR(t,r,e),cy:DR(n,r,e),r,stroke:"transparent",fill:"transparent"}),FR=()=>!0;var Ur=e=>{const t=({id:n,className:r,type:i,data:o,onClick:s,onEdgeDoubleClick:a,selected:l,animated:u,label:c,labelStyle:f,labelShowBg:h,labelBgStyle:p,labelBgPadding:y,labelBgBorderRadius:v,style:_,source:g,target:m,sourceX:x,sourceY:w,targetX:S,targetY:E,sourcePosition:N,targetPosition:C,elementsSelectable:I,hidden:O,sourceHandleId:q,targetHandleId:F,onContextMenu:L,onMouseEnter:b,onMouseMove:P,onMouseLeave:T,reconnectRadius:z,onReconnect:R,onReconnectStart:j,onReconnectEnd:A,markerEnd:M,markerStart:D,rfId:B,ariaLabel:V,isFocusable:K,isReconnectable:Q,pathOptions:Z,interactionWidth:le,disableKeyboardA11y:re})=>{const ie=k.useRef(null),[Ie,xe]=k.useState(!1),[Le,Me]=k.useState(!1),U=Ve(),oe=k.useMemo(()=>`url('#${dm(D,B)}')`,[D,B]),W=k.useMemo(()=>`url('#${dm(M,B)}')`,[M,B]);if(O)return null;const G=Fe=>{var Xt;const{edges:at,addSelectedEdges:Ye,unselectNodesAndEdges:tt,multiSelectionActive:dr}=U.getState(),cn=at.find(Mi=>Mi.id===n);cn&&(I&&(U.setState({nodesSelectionActive:!1}),cn.selected&&dr?(tt({nodes:[],edges:[cn]}),(Xt=ie.current)==null||Xt.blur()):Ye([n])),s&&s(Fe,cn))},ae=Ui(n,U.getState,a),Re=Ui(n,U.getState,L),ue=Ui(n,U.getState,b),pe=Ui(n,U.getState,P),me=Ui(n,U.getState,T),we=(Fe,at)=>{if(Fe.button!==0)return;const{edges:Ye,isValidConnection:tt}=U.getState(),dr=at?m:g,cn=(at?F:q)||null,Xt=at?"target":"source",Mi=tt||FR,Nl=at,Ai=Ye.find(fr=>fr.id===n);Me(!0),j==null||j(Fe,Ai,Xt);const jl=fr=>{Me(!1),A==null||A(fr,Ai,Xt)};bE({event:Fe,handleId:cn,nodeId:dr,onConnect:fr=>R==null?void 0:R(Ai,fr),isTarget:Nl,getState:U.getState,setState:U.setState,isValidConnection:Mi,edgeUpdaterType:Xt,onReconnectEnd:jl})},Ue=Fe=>we(Fe,!0),kt=Fe=>we(Fe,!1),Yt=()=>xe(!0),gt=()=>xe(!1),un=!I&&!s,Pn=Fe=>{var at;if(!re&&cE.includes(Fe.key)&&I){const{unselectNodesAndEdges:Ye,addSelectedEdges:tt,edges:dr}=U.getState();Fe.key==="Escape"?((at=ie.current)==null||at.blur(),Ye({edges:[dr.find(Xt=>Xt.id===n)]})):tt([n])}};return $.createElement("g",{className:mt(["react-flow__edge",`react-flow__edge-${i}`,r,{selected:l,animated:u,inactive:un,updating:Ie}]),onClick:G,onDoubleClick:ae,onContextMenu:Re,onMouseEnter:ue,onMouseMove:pe,onMouseLeave:me,onKeyDown:K?Pn:void 0,tabIndex:K?0:void 0,role:K?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":V===null?void 0:V||`Edge from ${g} to ${m}`,"aria-describedby":K?`${RE}-${B}`:void 0,ref:ie},!Le&&$.createElement(e,{id:n,source:g,target:m,selected:l,animated:u,label:c,labelStyle:f,labelShowBg:h,labelBgStyle:p,labelBgPadding:y,labelBgBorderRadius:v,data:o,style:_,sourceX:x,sourceY:w,targetX:S,targetY:E,sourcePosition:N,targetPosition:C,sourceHandleId:q,targetHandleId:F,markerStart:oe,markerEnd:W,pathOptions:Z,interactionWidth:le}),Q&&$.createElement($.Fragment,null,(Q==="source"||Q===!0)&&$.createElement(Ky,{position:N,centerX:x,centerY:w,radius:z,onMouseDown:Ue,onMouseEnter:Yt,onMouseOut:gt,type:"source"}),(Q==="target"||Q===!0)&&$.createElement(Ky,{position:C,centerX:S,centerY:E,radius:z,onMouseDown:kt,onMouseEnter:Yt,onMouseOut:gt,type:"target"})))};return t.displayName="EdgeWrapper",k.memo(t)};function $R(e){const t={default:Ur(e.default||Pa),straight:Ur(e.bezier||Eg),step:Ur(e.step||Sg),smoothstep:Ur(e.step||ol),simplebezier:Ur(e.simplebezier||bg)},n={},r=Object.keys(e).filter(i=>!["default","bezier"].includes(i)).reduce((i,o)=>(i[o]=Ur(e[o]||Pa),i),n);return{...t,...r}}function Yy(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,i=((n==null?void 0:n.y)||0)+t.y,o=(n==null?void 0:n.width)||t.width,s=(n==null?void 0:n.height)||t.height;switch(e){case X.Top:return{x:r+o/2,y:i};case X.Right:return{x:r+o,y:i+s/2};case X.Bottom:return{x:r+o/2,y:i+s};case X.Left:return{x:r,y:i+s/2}}}function Xy(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const BR=(e,t,n,r,i,o)=>{const s=Yy(n,e,t),a=Yy(o,r,i);return{sourceX:s.x,sourceY:s.y,targetX:a.x,targetY:a.y}};function HR({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:o,width:s,height:a,transform:l}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+r,t.y+o)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=$o({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:s/l[2],height:a/l[2]}),f=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),h=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(f*h)>0}function Qy(e){var r,i,o,s,a;const t=((r=e==null?void 0:e[Te])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)<"u"&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.y)<"u";return[{x:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)||0,y:((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const VR=[{level:0,isMaxLevel:!0,edges:[]}];function UR(e,t,n=!1){let r=-1;const i=e.reduce((s,a)=>{var c,f;const l=It(a.zIndex);let u=l?a.zIndex:0;if(n){const h=t.get(a.target),p=t.get(a.source),y=a.selected||(h==null?void 0:h.selected)||(p==null?void 0:p.selected),v=Math.max(((c=p==null?void 0:p[Te])==null?void 0:c.z)||0,((f=h==null?void 0:h[Te])==null?void 0:f.z)||0,1e3);u=(l?a.zIndex:0)+(y?v:0)}return s[u]?s[u].push(a):s[u]=[a],r=u>r?u:r,s},{}),o=Object.entries(i).map(([s,a])=>{const l=+s;return{edges:a,level:l,isMaxLevel:l===r}});return o.length===0?VR:o}function WR(e,t,n){const r=be(k.useCallback(i=>e?i.edges.filter(o=>{const s=t.get(o.source),a=t.get(o.target);return(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&HR({sourcePos:s.positionAbsolute||{x:0,y:0},targetPos:a.positionAbsolute||{x:0,y:0},sourceWidth:s.width,sourceHeight:s.height,targetWidth:a.width,targetHeight:a.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[e,t]));return UR(r,t,n)}const GR=({color:e="none",strokeWidth:t=1})=>$.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),KR=({color:e="none",strokeWidth:t=1})=>$.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Zy={[Ra.Arrow]:GR,[Ra.ArrowClosed]:KR};function YR(e){const t=Ve();return k.useMemo(()=>{var i,o;return Object.prototype.hasOwnProperty.call(Zy,e)?Zy[e]:((o=(i=t.getState()).onError)==null||o.call(i,"009",jn.error009(e)),null)},[e])}const XR=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:s,orient:a="auto-start-reverse"})=>{const l=YR(t);return l?$.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:a,refX:"0",refY:"0"},$.createElement(l,{color:n,strokeWidth:s})):null},QR=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((i,o)=>([o.markerStart,o.markerEnd].forEach(s=>{if(s&&typeof s=="object"){const a=dm(s,t);r.includes(a)||(i.push({id:a,color:s.color||e,...s}),r.push(a))}}),i),[]).sort((i,o)=>i.id.localeCompare(o.id))},VE=({defaultColor:e,rfId:t})=>{const n=be(k.useCallback(QR({defaultColor:e,rfId:t}),[e,t]),(r,i)=>!(r.length!==i.length||r.some((o,s)=>o.id!==i[s].id)));return $.createElement("defs",null,n.map(r=>$.createElement(XR,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};VE.displayName="MarkerDefinitions";var ZR=k.memo(VE);const JR=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),UE=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:i,noPanClassName:o,onEdgeContextMenu:s,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:c,onEdgeDoubleClick:f,onReconnect:h,onReconnectStart:p,onReconnectEnd:y,reconnectRadius:v,children:_,disableKeyboardA11y:g})=>{const{edgesFocusable:m,edgesUpdatable:x,elementsSelectable:w,width:S,height:E,connectionMode:N,nodeInternals:C,onError:I}=be(JR,et),O=WR(t,C,n);return S?$.createElement($.Fragment,null,O.map(({level:q,edges:F,isMaxLevel:L})=>$.createElement("svg",{key:q,style:{zIndex:q},width:S,height:E,className:"react-flow__edges react-flow__container"},L&&$.createElement(ZR,{defaultColor:e,rfId:r}),$.createElement("g",null,F.map(b=>{const[P,T,z]=Qy(C.get(b.source)),[R,j,A]=Qy(C.get(b.target));if(!z||!A)return null;let M=b.type||"default";i[M]||(I==null||I("011",jn.error011(M)),M="default");const D=i[M]||i.default,B=N===Mr.Strict?j.target:(j.target??[]).concat(j.source??[]),V=Xy(T.source,b.sourceHandle),K=Xy(B,b.targetHandle),Q=(V==null?void 0:V.position)||X.Bottom,Z=(K==null?void 0:K.position)||X.Top,le=!!(b.focusable||m&&typeof b.focusable>"u"),re=b.reconnectable||b.updatable,ie=typeof h<"u"&&(re||x&&typeof re>"u");if(!V||!K)return I==null||I("008",jn.error008(V,b)),null;const{sourceX:Ie,sourceY:xe,targetX:Le,targetY:Me}=BR(P,V,Q,R,K,Z);return $.createElement(D,{key:b.id,id:b.id,className:mt([b.className,o]),type:M,data:b.data,selected:!!b.selected,animated:!!b.animated,hidden:!!b.hidden,label:b.label,labelStyle:b.labelStyle,labelShowBg:b.labelShowBg,labelBgStyle:b.labelBgStyle,labelBgPadding:b.labelBgPadding,labelBgBorderRadius:b.labelBgBorderRadius,style:b.style,source:b.source,target:b.target,sourceHandleId:b.sourceHandle,targetHandleId:b.targetHandle,markerEnd:b.markerEnd,markerStart:b.markerStart,sourceX:Ie,sourceY:xe,targetX:Le,targetY:Me,sourcePosition:Q,targetPosition:Z,elementsSelectable:w,onContextMenu:s,onMouseEnter:a,onMouseMove:l,onMouseLeave:u,onClick:c,onEdgeDoubleClick:f,onReconnect:h,onReconnectStart:p,onReconnectEnd:y,reconnectRadius:v,rfId:r,ariaLabel:b.ariaLabel,isFocusable:le,isReconnectable:ie,pathOptions:"pathOptions"in b?b.pathOptions:void 0,interactionWidth:b.interactionWidth,disableKeyboardA11y:g})})))),_):null};UE.displayName="EdgeRenderer";var eP=k.memo(UE);const tP=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function nP({children:e}){const t=be(tP);return $.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function rP(e){const t=Cg(),n=k.useRef(!1);k.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const iP={[X.Left]:X.Right,[X.Right]:X.Left,[X.Top]:X.Bottom,[X.Bottom]:X.Top},WE=({nodeId:e,handleType:t,style:n,type:r=Bn.Bezier,CustomComponent:i,connectionStatus:o})=>{var E,N,C;const{fromNode:s,handleId:a,toX:l,toY:u,connectionMode:c}=be(k.useCallback(I=>({fromNode:I.nodeInternals.get(e),handleId:I.connectionHandleId,toX:(I.connectionPosition.x-I.transform[0])/I.transform[2],toY:(I.connectionPosition.y-I.transform[1])/I.transform[2],connectionMode:I.connectionMode}),[e]),et),f=(E=s==null?void 0:s[Te])==null?void 0:E.handleBounds;let h=f==null?void 0:f[t];if(c===Mr.Loose&&(h=h||(f==null?void 0:f[t==="source"?"target":"source"])),!s||!h)return null;const p=a?h.find(I=>I.id===a):h[0],y=p?p.x+p.width/2:(s.width??0)/2,v=p?p.y+p.height/2:s.height??0,_=(((N=s.positionAbsolute)==null?void 0:N.x)??0)+y,g=(((C=s.positionAbsolute)==null?void 0:C.y)??0)+v,m=p==null?void 0:p.position,x=m?iP[m]:null;if(!m||!x)return null;if(i)return $.createElement(i,{connectionLineType:r,connectionLineStyle:n,fromNode:s,fromHandle:p,fromX:_,fromY:g,toX:l,toY:u,fromPosition:m,toPosition:x,connectionStatus:o});let w="";const S={sourceX:_,sourceY:g,sourcePosition:m,targetX:l,targetY:u,targetPosition:x};return r===Bn.Bezier?[w]=mE(S):r===Bn.Step?[w]=cm({...S,borderRadius:0}):r===Bn.SmoothStep?[w]=cm(S):r===Bn.SimpleBezier?[w]=pE(S):w=`M${_},${g} ${l},${u}`,$.createElement("path",{d:w,fill:"none",className:"react-flow__connection-path",style:n})};WE.displayName="ConnectionLine";const oP=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function sP({containerStyle:e,style:t,type:n,component:r}){const{nodeId:i,handleType:o,nodesConnectable:s,width:a,height:l,connectionStatus:u}=be(oP,et);return!(i&&o&&a&&s)?null:$.createElement("svg",{style:e,width:a,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},$.createElement("g",{className:mt(["react-flow__connection",u])},$.createElement(WE,{nodeId:i,handleType:o,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function Jy(e,t){return k.useRef(null),Ve(),k.useMemo(()=>t(e),[e])}const GE=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:i,onInit:o,onNodeClick:s,onEdgeClick:a,onNodeDoubleClick:l,onEdgeDoubleClick:u,onNodeMouseEnter:c,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:p,onSelectionContextMenu:y,onSelectionStart:v,onSelectionEnd:_,connectionLineType:g,connectionLineStyle:m,connectionLineComponent:x,connectionLineContainerStyle:w,selectionKeyCode:S,selectionOnDrag:E,selectionMode:N,multiSelectionKeyCode:C,panActivationKeyCode:I,zoomActivationKeyCode:O,deleteKeyCode:q,onlyRenderVisibleElements:F,elementsSelectable:L,selectNodesOnDrag:b,defaultViewport:P,translateExtent:T,minZoom:z,maxZoom:R,preventScrolling:j,defaultMarkerColor:A,zoomOnScroll:M,zoomOnPinch:D,panOnScroll:B,panOnScrollSpeed:V,panOnScrollMode:K,zoomOnDoubleClick:Q,panOnDrag:Z,onPaneClick:le,onPaneMouseEnter:re,onPaneMouseMove:ie,onPaneMouseLeave:Ie,onPaneScroll:xe,onPaneContextMenu:Le,onEdgeContextMenu:Me,onEdgeMouseEnter:U,onEdgeMouseMove:oe,onEdgeMouseLeave:W,onReconnect:G,onReconnectStart:ae,onReconnectEnd:Re,reconnectRadius:ue,noDragClassName:pe,noWheelClassName:me,noPanClassName:we,elevateEdgesOnSelect:Ue,disableKeyboardA11y:kt,nodeOrigin:Yt,nodeExtent:gt,rfId:un})=>{const Pn=Jy(e,AR),Fe=Jy(t,$R);return rP(o),$.createElement(PR,{onPaneClick:le,onPaneMouseEnter:re,onPaneMouseMove:ie,onPaneMouseLeave:Ie,onPaneContextMenu:Le,onPaneScroll:xe,deleteKeyCode:q,selectionKeyCode:S,selectionOnDrag:E,selectionMode:N,onSelectionStart:v,onSelectionEnd:_,multiSelectionKeyCode:C,panActivationKeyCode:I,zoomActivationKeyCode:O,elementsSelectable:L,onMove:n,onMoveStart:r,onMoveEnd:i,zoomOnScroll:M,zoomOnPinch:D,zoomOnDoubleClick:Q,panOnScroll:B,panOnScrollSpeed:V,panOnScrollMode:K,panOnDrag:Z,defaultViewport:P,translateExtent:T,minZoom:z,maxZoom:R,onSelectionContextMenu:y,preventScrolling:j,noDragClassName:pe,noWheelClassName:me,noPanClassName:we,disableKeyboardA11y:kt},$.createElement(nP,null,$.createElement(eP,{edgeTypes:Fe,onEdgeClick:a,onEdgeDoubleClick:u,onlyRenderVisibleElements:F,onEdgeContextMenu:Me,onEdgeMouseEnter:U,onEdgeMouseMove:oe,onEdgeMouseLeave:W,onReconnect:G,onReconnectStart:ae,onReconnectEnd:Re,reconnectRadius:ue,defaultMarkerColor:A,noPanClassName:we,elevateEdgesOnSelect:!!Ue,disableKeyboardA11y:kt,rfId:un},$.createElement(sP,{style:m,type:g,component:x,containerStyle:w})),$.createElement("div",{className:"react-flow__edgelabel-renderer"}),$.createElement(LR,{nodeTypes:Pn,onNodeClick:s,onNodeDoubleClick:l,onNodeMouseEnter:c,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:p,selectNodesOnDrag:b,onlyRenderVisibleElements:F,noPanClassName:we,noDragClassName:pe,disableKeyboardA11y:kt,nodeOrigin:Yt,nodeExtent:gt,rfId:un})))};GE.displayName="GraphView";var aP=k.memo(GE);const mm=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],An={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:mm,nodeExtent:mm,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Mr.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:OI,isValidConnection:void 0},lP=()=>X4((e,t)=>({...An,setNodes:n=>{const{nodeInternals:r,nodeOrigin:i,elevateNodesOnSelect:o}=t();e({nodeInternals:au(n,r,i,o)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(i=>({...r,...i}))})},setDefaultNodesAndEdges:(n,r)=>{const i=typeof n<"u",o=typeof r<"u",s=i?au(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:s,edges:o?r:[],hasDefaultNodes:i,hasDefaultEdges:o})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:i,fitViewOnInit:o,fitViewOnInitDone:s,fitViewOnInitOptions:a,domNode:l,nodeOrigin:u}=t(),c=l==null?void 0:l.querySelector(".react-flow__viewport");if(!c)return;const f=window.getComputedStyle(c),{m22:h}=new window.DOMMatrixReadOnly(f.transform),p=n.reduce((v,_)=>{const g=i.get(_.id);if(g!=null&&g.hidden)i.set(g.id,{...g,[Te]:{...g[Te],handleBounds:void 0}});else if(g){const m=wg(_.nodeElement);!!(m.width&&m.height&&(g.width!==m.width||g.height!==m.height||_.forceUpdate))&&(i.set(g.id,{...g,[Te]:{...g[Te],handleBounds:{source:Wy(".source",_.nodeElement,h,u),target:Wy(".target",_.nodeElement,h,u)}},...m}),v.push({id:g.id,type:"dimensions",dimensions:m}))}return v},[]);ME(i,u);const y=s||o&&!s&&AE(t,{initial:!0,...a});e({nodeInternals:new Map(i),fitViewOnInitDone:y}),(p==null?void 0:p.length)>0&&(r==null||r(p))},updateNodePositions:(n,r=!0,i=!1)=>{const{triggerNodeChanges:o}=t(),s=n.map(a=>{const l={id:a.id,type:"position",dragging:i};return r&&(l.positionAbsolute=a.positionAbsolute,l.position=a.position),l});o(s)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:i,hasDefaultNodes:o,nodeOrigin:s,getNodes:a,elevateNodesOnSelect:l}=t();if(n!=null&&n.length){if(o){const u=qE(n,a()),c=au(u,i,s,l);e({nodeInternals:c})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:i,getNodes:o}=t();let s,a=null;r?s=n.map(l=>Dn(l,!0)):(s=ii(o(),n),a=ii(i,[])),Ts({changedNodes:s,changedEdges:a,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:i,getNodes:o}=t();let s,a=null;r?s=n.map(l=>Dn(l,!0)):(s=ii(i,n),a=ii(o(),[])),Ts({changedNodes:a,changedEdges:s,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:i,getNodes:o}=t(),s=n||o(),a=r||i,l=s.map(c=>(c.selected=!1,Dn(c.id,!1))),u=a.map(c=>Dn(c.id,!1));Ts({changedNodes:l,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:i}=t();r==null||r.scaleExtent([n,i]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:i}=t();r==null||r.scaleExtent([i,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),o=r().filter(a=>a.selected).map(a=>Dn(a.id,!1)),s=n.filter(a=>a.selected).map(a=>Dn(a.id,!1));Ts({changedNodes:o,changedEdges:s,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(i=>{i.positionAbsolute=_g(i.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:i,height:o,d3Zoom:s,d3Selection:a,translateExtent:l}=t();if(!s||!a||!n.x&&!n.y)return!1;const u=_n.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),c=[[0,0],[i,o]],f=s==null?void 0:s.constrain()(u,c,l);return s.transform(a,f),r[0]!==f.x||r[1]!==f.y||r[2]!==f.k},cancelConnection:()=>e({connectionNodeId:An.connectionNodeId,connectionHandleId:An.connectionHandleId,connectionHandleType:An.connectionHandleType,connectionStatus:An.connectionStatus,connectionStartHandle:An.connectionStartHandle,connectionEndHandle:An.connectionEndHandle}),reset:()=>e({...An})}),Object.is),Ig=({children:e})=>{const t=k.useRef(null);return t.current||(t.current=lP()),$.createElement(CI,{value:t.current},e)};Ig.displayName="ReactFlowProvider";const KE=({children:e})=>k.useContext(il)?$.createElement($.Fragment,null,e):$.createElement(Ig,null,e);KE.displayName="ReactFlowWrapper";const uP={input:NE,default:hm,output:CE,group:jg},cP={default:Pa,straight:Eg,step:Sg,smoothstep:ol,simplebezier:bg},dP=[0,0],fP=[15,15],hP={x:0,y:0,zoom:1},pP={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},YE=k.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o=uP,edgeTypes:s=cP,onNodeClick:a,onEdgeClick:l,onInit:u,onMove:c,onMoveStart:f,onMoveEnd:h,onConnect:p,onConnectStart:y,onConnectEnd:v,onClickConnectStart:_,onClickConnectEnd:g,onNodeMouseEnter:m,onNodeMouseMove:x,onNodeMouseLeave:w,onNodeContextMenu:S,onNodeDoubleClick:E,onNodeDragStart:N,onNodeDrag:C,onNodeDragStop:I,onNodesDelete:O,onEdgesDelete:q,onSelectionChange:F,onSelectionDragStart:L,onSelectionDrag:b,onSelectionDragStop:P,onSelectionContextMenu:T,onSelectionStart:z,onSelectionEnd:R,connectionMode:j=Mr.Strict,connectionLineType:A=Bn.Bezier,connectionLineStyle:M,connectionLineComponent:D,connectionLineContainerStyle:B,deleteKeyCode:V="Backspace",selectionKeyCode:K="Shift",selectionOnDrag:Q=!1,selectionMode:Z=Bo.Full,panActivationKeyCode:le="Space",multiSelectionKeyCode:re=Ia()?"Meta":"Control",zoomActivationKeyCode:ie=Ia()?"Meta":"Control",snapToGrid:Ie=!1,snapGrid:xe=fP,onlyRenderVisibleElements:Le=!1,selectNodesOnDrag:Me=!0,nodesDraggable:U,nodesConnectable:oe,nodesFocusable:W,nodeOrigin:G=dP,edgesFocusable:ae,edgesUpdatable:Re,elementsSelectable:ue,defaultViewport:pe=hP,minZoom:me=.5,maxZoom:we=2,translateExtent:Ue=mm,preventScrolling:kt=!0,nodeExtent:Yt,defaultMarkerColor:gt="#b1b1b7",zoomOnScroll:un=!0,zoomOnPinch:Pn=!0,panOnScroll:Fe=!1,panOnScrollSpeed:at=.5,panOnScrollMode:Ye=_r.Free,zoomOnDoubleClick:tt=!0,panOnDrag:dr=!0,onPaneClick:cn,onPaneMouseEnter:Xt,onPaneMouseMove:Mi,onPaneMouseLeave:Nl,onPaneScroll:Ai,onPaneContextMenu:jl,children:Zg,onEdgeContextMenu:fr,onEdgeDoubleClick:wN,onEdgeMouseEnter:_N,onEdgeMouseMove:bN,onEdgeMouseLeave:SN,onEdgeUpdate:EN,onEdgeUpdateStart:kN,onEdgeUpdateEnd:NN,onReconnect:jN,onReconnectStart:CN,onReconnectEnd:TN,reconnectRadius:IN=10,edgeUpdaterRadius:RN=10,onNodesChange:PN,onEdgesChange:MN,noDragClassName:AN="nodrag",noWheelClassName:ON="nowheel",noPanClassName:Jg="nopan",fitView:qN=!1,fitViewOptions:LN,connectOnClick:zN=!0,attributionPosition:DN,proOptions:FN,defaultEdgeOptions:$N,elevateNodesOnSelect:BN=!0,elevateEdgesOnSelect:HN=!1,disableKeyboardA11y:ev=!1,autoPanOnConnect:VN=!0,autoPanOnNodeDrag:UN=!0,connectionRadius:WN=20,isValidConnection:GN,onError:KN,style:YN,id:tv,nodeDragThreshold:XN,...QN},ZN)=>{const Cl=tv||"1";return $.createElement("div",{...QN,style:{...YN,...pP},ref:ZN,className:mt(["react-flow",i]),"data-testid":"rf__wrapper",id:tv},$.createElement(KE,null,$.createElement(aP,{onInit:u,onMove:c,onMoveStart:f,onMoveEnd:h,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:m,onNodeMouseMove:x,onNodeMouseLeave:w,onNodeContextMenu:S,onNodeDoubleClick:E,nodeTypes:o,edgeTypes:s,connectionLineType:A,connectionLineStyle:M,connectionLineComponent:D,connectionLineContainerStyle:B,selectionKeyCode:K,selectionOnDrag:Q,selectionMode:Z,deleteKeyCode:V,multiSelectionKeyCode:re,panActivationKeyCode:le,zoomActivationKeyCode:ie,onlyRenderVisibleElements:Le,selectNodesOnDrag:Me,defaultViewport:pe,translateExtent:Ue,minZoom:me,maxZoom:we,preventScrolling:kt,zoomOnScroll:un,zoomOnPinch:Pn,zoomOnDoubleClick:tt,panOnScroll:Fe,panOnScrollSpeed:at,panOnScrollMode:Ye,panOnDrag:dr,onPaneClick:cn,onPaneMouseEnter:Xt,onPaneMouseMove:Mi,onPaneMouseLeave:Nl,onPaneScroll:Ai,onPaneContextMenu:jl,onSelectionContextMenu:T,onSelectionStart:z,onSelectionEnd:R,onEdgeContextMenu:fr,onEdgeDoubleClick:wN,onEdgeMouseEnter:_N,onEdgeMouseMove:bN,onEdgeMouseLeave:SN,onReconnect:jN??EN,onReconnectStart:CN??kN,onReconnectEnd:TN??NN,reconnectRadius:IN??RN,defaultMarkerColor:gt,noDragClassName:AN,noWheelClassName:ON,noPanClassName:Jg,elevateEdgesOnSelect:HN,rfId:Cl,disableKeyboardA11y:ev,nodeOrigin:G,nodeExtent:Yt}),$.createElement(iR,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:p,onConnectStart:y,onConnectEnd:v,onClickConnectStart:_,onClickConnectEnd:g,nodesDraggable:U,nodesConnectable:oe,nodesFocusable:W,edgesFocusable:ae,edgesUpdatable:Re,elementsSelectable:ue,elevateNodesOnSelect:BN,minZoom:me,maxZoom:we,nodeExtent:Yt,onNodesChange:PN,onEdgesChange:MN,snapToGrid:Ie,snapGrid:xe,connectionMode:j,translateExtent:Ue,connectOnClick:zN,defaultEdgeOptions:$N,fitView:qN,fitViewOptions:LN,onNodesDelete:O,onEdgesDelete:q,onNodeDragStart:N,onNodeDrag:C,onNodeDragStop:I,onSelectionDrag:b,onSelectionDragStart:L,onSelectionDragStop:P,noPanClassName:Jg,nodeOrigin:G,rfId:Cl,autoPanOnConnect:VN,autoPanOnNodeDrag:UN,onError:KN,connectionRadius:WN,isValidConnection:GN,nodeDragThreshold:XN}),$.createElement(nR,{onSelectionChange:F}),Zg,$.createElement(II,{proOptions:FN,position:DN}),$.createElement(uR,{rfId:Cl,disableKeyboardA11y:ev})))});YE.displayName="ReactFlow";function XE(e){return t=>{const[n,r]=k.useState(t),i=k.useCallback(o=>r(s=>e(o,s)),[]);return[n,r,i]}}const mP=XE(qE),gP=XE(SR),QE=({id:e,x:t,y:n,width:r,height:i,style:o,color:s,strokeColor:a,strokeWidth:l,className:u,borderRadius:c,shapeRendering:f,onClick:h,selected:p})=>{const{background:y,backgroundColor:v}=o||{},_=s||y||v;return $.createElement("rect",{className:mt(["react-flow__minimap-node",{selected:p},u]),x:t,y:n,rx:c,ry:c,width:r,height:i,fill:_,stroke:a,strokeWidth:l,shapeRendering:f,onClick:h?g=>h(g,e):void 0})};QE.displayName="MiniMapNode";var vP=k.memo(QE);const yP=e=>e.nodeOrigin,xP=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),du=e=>e instanceof Function?e:()=>e;function wP({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i=2,nodeComponent:o=vP,onClick:s}){const a=be(xP,et),l=be(yP),u=du(t),c=du(e),f=du(n),h=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return $.createElement($.Fragment,null,a.map(p=>{const{x:y,y:v}=Nr(p,l).positionAbsolute;return $.createElement(o,{key:p.id,x:y,y:v,width:p.width,height:p.height,style:p.style,selected:p.selected,className:f(p),color:u(p),borderRadius:r,strokeColor:c(p),strokeWidth:i,shapeRendering:h,onClick:s,id:p.id})}))}var _P=k.memo(wP);const bP=200,SP=150,EP=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?MI(sl(t,e.nodeOrigin),n):n,rfId:e.rfId}},kP="react-flow__minimap-desc";function ZE({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:i="",nodeBorderRadius:o=5,nodeStrokeWidth:s=2,nodeComponent:a,maskColor:l="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:c=1,position:f="bottom-right",onClick:h,onNodeClick:p,pannable:y=!1,zoomable:v=!1,ariaLabel:_="React Flow mini map",inversePan:g=!1,zoomStep:m=10,offsetScale:x=5}){const w=Ve(),S=k.useRef(null),{boundingRect:E,viewBB:N,rfId:C}=be(EP,et),I=(e==null?void 0:e.width)??bP,O=(e==null?void 0:e.height)??SP,q=E.width/I,F=E.height/O,L=Math.max(q,F),b=L*I,P=L*O,T=x*L,z=E.x-(b-E.width)/2-T,R=E.y-(P-E.height)/2-T,j=b+T*2,A=P+T*2,M=`${kP}-${C}`,D=k.useRef(0);D.current=L,k.useEffect(()=>{if(S.current){const K=Ct(S.current),Q=re=>{const{transform:ie,d3Selection:Ie,d3Zoom:xe}=w.getState();if(re.sourceEvent.type!=="wheel"||!Ie||!xe)return;const Le=-re.sourceEvent.deltaY*(re.sourceEvent.deltaMode===1?.05:re.sourceEvent.deltaMode?1:.002)*m,Me=ie[2]*Math.pow(2,Le);xe.scaleTo(Ie,Me)},Z=re=>{const{transform:ie,d3Selection:Ie,d3Zoom:xe,translateExtent:Le,width:Me,height:U}=w.getState();if(re.sourceEvent.type!=="mousemove"||!Ie||!xe)return;const oe=D.current*Math.max(1,ie[2])*(g?-1:1),W={x:ie[0]-re.sourceEvent.movementX*oe,y:ie[1]-re.sourceEvent.movementY*oe},G=[[0,0],[Me,U]],ae=_n.translate(W.x,W.y).scale(ie[2]),Re=xe.constrain()(ae,G,Le);xe.transform(Ie,Re)},le=iE().on("zoom",y?Z:null).on("zoom.wheel",v?Q:null);return K.call(le),()=>{K.on("zoom",null)}}},[y,v,g,m]);const B=h?K=>{const Q=Ft(K);h(K,{x:Q[0],y:Q[1]})}:void 0,V=p?(K,Q)=>{const Z=w.getState().nodeInternals.get(Q);p(K,Z)}:void 0;return $.createElement(vo,{position:f,style:e,className:mt(["react-flow__minimap",t]),"data-testid":"rf__minimap"},$.createElement("svg",{width:I,height:O,viewBox:`${z} ${R} ${j} ${A}`,role:"img","aria-labelledby":M,ref:S,onClick:B},_&&$.createElement("title",{id:M},_),$.createElement(_P,{onClick:V,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:i,nodeStrokeWidth:s,nodeComponent:a}),$.createElement("path",{className:"react-flow__minimap-mask",d:`M${z-T},${R-T}h${j+T*2}v${A+T*2}h${-j-T*2}z
        M${N.x},${N.y}h${N.width}v${N.height}h${-N.width}z`,fill:l,fillRule:"evenodd",stroke:u,strokeWidth:c,pointerEvents:"none"})))}ZE.displayName="MiniMap";var NP=k.memo(ZE);const Rs={active:"#f59e0b",complete:"#10b981",queued:"#64748b"},jP=180,CP=400,TP=260,IP=48;function RP(e){if(!e)return"";try{const t=new Date(e);return t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:t.getFullYear()!==new Date().getFullYear()?"numeric":void 0})}catch{return""}}function PP({projects:e,selectedId:t,onSelectProject:n,onNewProject:r,showArchived:i,onToggleShowArchived:o,userSection:s}){const[a,l]=k.useState(!1),[u,c]=k.useState(TP),[f,h]=k.useState(!1),p=k.useRef(null),y=k.useRef(null);k.useEffect(()=>{y.current&&y.current.scrollIntoView({behavior:"smooth",block:"nearest"})},[t]);const v=k.useMemo(()=>Object.values(e).sort((S,E)=>{const N=(S.name||"").localeCompare(E.name||"");return N!==0?N:(S.projectId||"").localeCompare(E.projectId||"")}),[e]),_=()=>{r()},g=k.useCallback(S=>{S.preventDefault(),h(!0)},[]),m=k.useCallback(S=>{if(!f)return;const E=Math.min(CP,Math.max(jP,S.clientX));c(E)},[f]),x=k.useCallback(()=>{h(!1)},[]);k.useEffect(()=>(f?(document.addEventListener("mousemove",m),document.addEventListener("mouseup",x),document.body.style.cursor="col-resize",document.body.style.userSelect="none"):(document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",x),document.body.style.cursor="",document.body.style.userSelect=""),()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",x),document.body.style.cursor="",document.body.style.userSelect=""}),[f,m,x]);const w=a?IP:u;return d.jsxs("div",{ref:p,className:"h-full flex flex-col relative",style:{width:w,minWidth:w,background:"var(--bg-panel)",borderRight:"1px solid var(--border-panel)",transition:f?"none":"width 0.2s ease"},children:[d.jsxs("div",{className:"p-3 border-b flex items-center justify-between",style:{borderColor:"var(--border-panel)"},children:[!a&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("h2",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:"Projects"}),d.jsx("button",{onClick:o,className:"p-1 rounded hover:bg-white/10 transition-colors",style:{color:i?"#f59e0b":"var(--text-muted)"},title:i?"Hide archived":"Show archived",children:d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M21 8v13H3V8M1 3h22v5H1zM10 12h4"})})})]}),d.jsx("button",{onClick:()=>l(!a),className:"p-1.5 rounded hover:bg-white/10 transition-colors",style:{color:"var(--text-muted)"},title:a?"Expand sidebar":"Collapse sidebar",children:d.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",style:{transform:a?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease"},children:d.jsx("path",{d:"M10 12L6 8L10 4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),!a&&d.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:v.map(S=>{const E=t===S.id;return d.jsxs("div",{ref:E?y:null,onClick:()=>n(S.id),className:"p-3 rounded-lg mb-2 cursor-pointer transition-all",style:{background:E?"var(--state-active-bg)":"transparent",border:E?"1px solid var(--state-active-bg)":"1px solid transparent",boxShadow:E?"0 0 12px rgba(245, 158, 11, 0.3)":"none"},children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 rounded-full flex-shrink-0",style:{background:E?"#ffffff":Rs[S.status]||Rs.queued}}),d.jsx("span",{className:"text-sm font-medium truncate flex-1",style:{color:E?"#ffffff":"var(--text-primary)"},children:S.name}),S.isArchived&&d.jsx("svg",{className:"w-3.5 h-3.5 flex-shrink-0",style:{color:E?"rgba(255,255,255,0.7)":"var(--text-muted)"},viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",title:"Archived",children:d.jsx("path",{d:"M21 8v13H3V8M1 3h22v5H1zM10 12h4"})})]}),d.jsxs("div",{className:"flex items-center justify-between mt-0.5 ml-4",children:[d.jsx("span",{className:"text-[10px] font-mono",style:{color:E?"rgba(255,255,255,0.8)":"var(--text-muted)"},children:S.projectId}),d.jsx("span",{className:"text-[10px]",style:{color:E?"rgba(255,255,255,0.8)":"var(--text-muted)"},children:RP(S.createdAt)})]})]},S.id)})}),a&&d.jsx("div",{className:"flex-1 overflow-y-auto py-2",children:v.map(S=>d.jsx("div",{onClick:()=>n(S.id),className:"flex items-center justify-center py-2 cursor-pointer hover:bg-white/5",title:S.name,children:d.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:Rs[S.status]||Rs.queued,boxShadow:t===S.id?"0 0 0 2px var(--bg-panel), 0 0 0 4px var(--border-node)":"none"}})},S.id))}),!a&&d.jsx("div",{className:"p-3 border-t",style:{borderColor:"var(--border-panel)"},children:d.jsxs("button",{onClick:_,className:"w-full py-2.5 rounded-lg text-sm font-medium flex items-center justify-center gap-2 transition-colors",style:{background:"#10b981",color:"white"},children:[d.jsx("span",{style:{fontSize:18,lineHeight:1},children:"+"}),d.jsx("span",{children:"New Project"})]})}),a&&d.jsx("div",{className:"p-2 border-t flex justify-center",style:{borderColor:"var(--border-panel)"},children:d.jsx("button",{onClick:_,className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:"#10b981",color:"white"},title:"New Project",children:d.jsx("span",{style:{fontSize:18,lineHeight:1},children:"+"})})}),s,!a&&d.jsx("div",{onMouseDown:g,className:"absolute top-0 right-0 w-1 h-full cursor-col-resize hover:bg-emerald-500/50 transition-colors",style:{background:f?"var(--state-active-bg)":"transparent"}})]})}function MP({stations:e}){return e!=null&&e.length?d.jsx("div",{className:"flex items-center gap-0.5 mt-2",children:e.map((t,n)=>{const r=t.state==="complete"?"var(--state-stabilized-bg)":t.state==="active"?"var(--state-active-bg)":"var(--state-queued-bg)",i=t.state==="complete"?"var(--state-stabilized-bg)":"var(--state-queued-bg)",o=t.state==="active"?"var(--state-active-text)":"var(--text-muted)";return d.jsxs($.Fragment,{children:[n>0&&d.jsx("div",{className:"w-4 h-0.5",style:{background:i}}),d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("div",{className:`w-3 h-3 rounded-full${t.state==="active"?" station-active":""}`,style:{background:r}}),d.jsx("span",{className:"text-[7px] mt-0.5",style:{color:o,fontWeight:t.state==="active"?500:400},children:t.label})]})]},t.id)})}):null}const e0={light:{stabilized:"#10b981",active:"#6366f1",queued:"#cbd5e1"},industrial:{stabilized:"#10b981",active:"#f59e0b",queued:"#334155"},blueprint:{stabilized:"#ffffff",active:"#fbbf24",queued:"#d4e8f8"}},JE=(e,t)=>{var n;return((n=e0[t])==null?void 0:n[e])||e0.industrial.queued},Lt={EPICS_PER_ROW:3,EPIC_WIDTH:220,EPIC_HEIGHT:70,EPIC_GAP_X:50,EPIC_GAP_Y:100,EPIC_OFFSET_X:80,EPIC_OFFSET_Y:80},yo={GAP:8,WIDTH:280},fu=["pgc","asm","draft","qa","done"],Hn=["industrial","light","blueprint"];function AP({questions:e,nodeWidth:t,onSubmit:n,onClose:r,onZoomComplete:i}){const[o,s]=k.useState({}),a=e.filter(l=>l.required).every(l=>o[l.id]);return k.useEffect(()=>{if(i){const l=setTimeout(()=>i(),150);return()=>clearTimeout(l)}},[i]),d.jsxs("div",{className:"absolute top-0 border border-amber-500/50 rounded-lg shadow-2xl tray-slide",style:{left:t+yo.GAP,width:yo.WIDTH,boxShadow:"0 0 30px rgba(0,0,0,0.5)",zIndex:1e3,background:"var(--bg-sidecar)"},children:[d.jsx("div",{className:"absolute border-t-2 border-dashed border-amber-500/60",style:{top:14,right:"100%",width:yo.GAP}}),d.jsx("div",{className:"absolute w-2 h-2 rounded-full bg-amber-500",style:{top:11,right:"100%",marginRight:-4}}),d.jsxs("div",{className:"bg-amber-500/10 border-b border-amber-500/30 px-3 py-2 flex justify-between items-center",children:[d.jsx("span",{className:"text-[9px] font-semibold text-amber-600 uppercase tracking-wide",children:"Operator Input Required"}),d.jsx("button",{onClick:r,style:{color:"var(--text-sidecar-muted)"},className:"hover:opacity-70 text-sm leading-none",children:""})]}),d.jsx("div",{className:"p-3 space-y-3 max-h-64 overflow-y-auto",children:e.map(l=>d.jsxs("div",{children:[d.jsxs("label",{className:"block text-[10px] mb-1",style:{color:"var(--text-sidecar-muted)"},children:[l.text," ",l.required&&d.jsx("span",{className:"text-amber-600",children:"*"})]}),d.jsx("input",{type:"text",className:"w-full rounded px-2 py-1.5 text-xs border",style:{background:"var(--bg-input)",borderColor:"var(--border-input)",color:"var(--text-sidecar)"},value:o[l.id]||"",onChange:u=>s(c=>({...c,[l.id]:u.target.value}))})]},l.id))}),d.jsx("div",{className:"p-3",style:{borderTop:"1px solid var(--border-node)"},children:d.jsx("button",{className:`w-full py-2 rounded text-xs font-medium transition-colors ${a?"bg-amber-500 text-slate-900 hover:bg-amber-400":"subway-button cursor-not-allowed"}`,disabled:!a,onClick:()=>n(o),children:"Submit & Continue"})})]})}function OP({features:e,epicName:t,nodeWidth:n,onClose:r,onZoomComplete:i}){const o=e.length>6,s=o?240:320;return k.useEffect(()=>{if(i){const a=setTimeout(()=>i(),150);return()=>clearTimeout(a)}},[i]),d.jsxs("div",{className:"absolute top-0 border border-indigo-500/50 rounded-lg shadow-2xl tray-slide",style:{left:n+yo.GAP,width:s,boxShadow:"0 0 30px rgba(0,0,0,0.5)",zIndex:1e3,background:"var(--bg-sidecar)"},children:[d.jsx("div",{className:"absolute border-t-2 border-dashed border-indigo-500/60",style:{top:14,right:"100%",width:yo.GAP}}),d.jsx("div",{className:"absolute w-2 h-2 rounded-full bg-indigo-500",style:{top:11,right:"100%",marginRight:-4}}),d.jsxs("div",{className:"bg-indigo-500/10 border-b border-indigo-500/30 px-3 py-2 flex justify-between items-center",children:[d.jsxs("span",{className:"text-[9px] font-semibold uppercase tracking-wide",style:{color:"var(--text-sidecar-muted)"},children:["Features - ",t]}),d.jsx("button",{onClick:r,style:{color:"var(--text-sidecar-muted)"},className:"hover:opacity-70 text-sm leading-none",children:""})]}),d.jsx("div",{className:`p-3 max-h-64 overflow-y-auto ${o?"":"grid grid-cols-2 gap-2"}`,children:e.map(a=>{const l=a.state==="complete"?"var(--state-stabilized-bg)":a.state==="active"?"var(--state-active-bg)":"var(--state-queued-bg)";return d.jsxs("div",{className:`flex items-center gap-2 p-1.5 rounded cursor-pointer hover:opacity-80 ${o?"mb-1":""}`,children:[d.jsx("div",{className:"w-2 h-2 rounded-full flex-shrink-0",style:{background:l}}),d.jsx("span",{className:"text-[10px] truncate",style:{color:"var(--text-sidecar)"},children:a.name})]},a.id)})}),d.jsxs("div",{className:"px-3 py-2 text-[9px]",style:{borderTop:"1px solid var(--border-node)",color:"var(--text-sidecar-muted)"},children:[e.length," features"]})]})}const Rg="/api/v1";class qP extends Error{constructor(t,n,r){super(t),this.name="ApiError",this.status=n,this.data=r}}function LP(){const e=document.cookie.match(/(?:^|;\s*)csrf=([^;]*)/);return e?decodeURIComponent(e[1]):null}async function Ee(e,t={}){const n=`${Rg}${e}`,r={headers:{"Content-Type":"application/json",...t.headers},credentials:"same-origin",...t},i=await fetch(n,r);if(!i.ok){const o=await i.json().catch(()=>({}));throw new qP(o.detail||`Request failed: ${i.status}`,i.status,o)}return i.status===204?null:i.json()}const Oe={getMe:()=>fetch("/api/me",{credentials:"same-origin"}).then(e=>{if(e.status===401)return null;if(!e.ok)throw new Error(`Request failed: ${e.status}`);return e.json()}).catch(e=>(console.error("Auth check failed:",e),null)),logout:()=>fetch("/auth/logout",{method:"POST",credentials:"same-origin",headers:{"X-CSRF-Token":LP()||""}}),getProjects:(e={})=>{const t=new URLSearchParams;e.search&&t.set("search",e.search),e.includeArchived&&t.set("include_archived","true");const n=t.toString();return Ee(`/projects${n?"?"+n:""}`)},getProject:e=>Ee(`/projects/${e}`),getProjectTree:e=>Ee(`/projects/${e}/tree`),createProject:e=>Ee("/projects",{method:"POST",body:JSON.stringify(e)}),updateProject:(e,t)=>Ee(`/projects/${e}`,{method:"PATCH",body:JSON.stringify(t)}),archiveProject:e=>Ee(`/projects/${e}/archive`,{method:"POST"}),unarchiveProject:e=>Ee(`/projects/${e}/unarchive`,{method:"POST"}),deleteProject:e=>Ee(`/projects/${e}`,{method:"DELETE"}),getProductionStatus:e=>Ee(`/production/status?project_id=${e}`),startProduction:(e,t=null)=>{const n=new URLSearchParams({project_id:e});return t&&n.set("document_type",t),Ee(`/production/start?${n}`,{method:"POST"})},getProjectInterrupts:e=>Ee(`/projects/${e}/interrupts`),resolveInterrupt:(e,t)=>Ee(`/interrupts/${e}/resolve`,{method:"POST",body:JSON.stringify(t)}),startWorkflow:(e,t,n=null)=>Ee("/document-workflows/start",{method:"POST",body:JSON.stringify({project_id:e,document_type:t,initial_context:n})}),submitWorkflowInput:(e,t,n=null)=>Ee(`/document-workflows/executions/${e}/input`,{method:"POST",body:JSON.stringify({user_input:t,selected_option_id:n})}),getExecutionStatus:e=>Ee(`/document-workflows/executions/${e}`),getPgcAnswers:e=>Ee(`/document-workflows/executions/${e}/pgc-answers`),getDocument:(e,t)=>Ee(`/projects/${e}/documents/${t}`),getDocumentRenderModel:(e,t)=>Ee(`/projects/${e}/documents/${t}/render-model`),startIntake:()=>Ee("/intake/start",{method:"POST"}),getIntakeState:e=>Ee(`/intake/${e}`),submitIntakeMessage:(e,t)=>Ee(`/intake/${e}/message`,{method:"POST",body:JSON.stringify({content:t})}),updateIntakeField:(e,t,n)=>Ee(`/intake/${e}/field/${t}`,{method:"PATCH",body:JSON.stringify({value:n})}),initializeIntake:e=>Ee(`/intake/${e}/initialize`,{method:"POST"})};function zP(e){const t=`${Rg}/production/events?project_id=${e}`;return new EventSource(t)}function DP(e){const t=`${Rg}/intake/${e}/events`;return new EventSource(t)}function FP(e){return`/auth/login/${e}`}const $P=520,BP=900,HP=600,VP=900;function UP({document:e,projectId:t,projectCode:n,nodeWidth:r,onClose:i,onZoomComplete:o,onViewFull:s}){const[a,l]=k.useState(!1),u=a?BP:$P,c=a?VP:HP,[f,h]=k.useState(null),[p,y]=k.useState(!0);if(k.useEffect(()=>{if(o){const _=setTimeout(()=>o(),150);return()=>clearTimeout(_)}},[o]),k.useEffect(()=>{async function _(){if(!t||!e.id){y(!1);return}try{y(!0);const g=await Oe.getDocument(t,e.id);h((g==null?void 0:g.content)||null)}catch(g){console.error("Failed to fetch document for sidecar:",g)}finally{y(!1)}}_()},[t,e.id]),p)return null;const v=WP(e,f,n);return d.jsxs("div",{className:"absolute top-0 tray-slide",style:{left:r+30,width:u,zIndex:1e3,transition:"width 0.2s ease"},children:[d.jsx("div",{className:"absolute",style:{top:40,right:"100%",width:30,height:3,background:"#10b981"}}),d.jsx("div",{className:"absolute rounded-full",style:{top:36,right:"100%",marginRight:26,width:10,height:10,background:"#10b981"}}),d.jsxs("div",{style:{background:"#ffffff",borderRadius:2,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)",minHeight:c,transition:"min-height 0.2s ease"},children:[d.jsx("div",{style:{padding:"24px 32px 16px",borderBottom:"2px solid #10b981",background:"linear-gradient(to bottom, #ffffff, #fafafa)"},children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("div",{style:{fontSize:10,letterSpacing:"0.15em",color:"#10b981",fontWeight:600,marginBottom:4},children:"STABILIZED DOCUMENT"}),d.jsx("h1",{style:{fontSize:20,fontFamily:"Georgia, serif",fontWeight:700,color:"#1a1a1a",margin:0},children:v.title}),d.jsx("div",{style:{fontSize:11,color:"#666",marginTop:4,fontFamily:"monospace"},children:v.serial})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("button",{onClick:()=>l(!a),title:a?"Contract":"Expand",style:{color:"#666",fontSize:16,lineHeight:1,padding:6,background:"none",border:"1px solid #e5e5e5",borderRadius:4,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:a?d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:d.jsx("path",{d:"M9 1v4h4M5 13v-4H1M9 5L13 1M5 9L1 13"})}):d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:d.jsx("path",{d:"M13 5V1h-4M1 9v4h4M13 1L9 5M1 13l4-4"})})}),d.jsx("button",{onClick:i,title:"Close",style:{color:"#999",fontSize:24,lineHeight:1,padding:4,background:"none",border:"none",cursor:"pointer"},children:""})]})]})}),d.jsx("div",{style:{padding:"24px 32px",maxHeight:a?600:400,overflowY:"auto",fontFamily:"Georgia, serif",fontSize:13,lineHeight:1.7,color:"#333"},children:v.sections.map((_,g)=>d.jsxs("div",{style:{marginBottom:20},children:[_.isIntro&&d.jsx("div",{style:{padding:"12px 16px",borderLeft:"4px solid #10b981",background:"#f0fdf4",fontSize:14,color:"#166534"},children:_.content}),_.heading&&d.jsxs(d.Fragment,{children:[d.jsx("h3",{style:{fontSize:11,fontWeight:600,textTransform:"uppercase",letterSpacing:"0.08em",color:"#666",marginBottom:8,fontFamily:"system-ui, sans-serif"},children:_.heading}),_.badge&&d.jsx("span",{style:{display:"inline-block",padding:"4px 12px",borderRadius:20,background:"#ede9fe",color:"#5b21b6",fontSize:12,fontWeight:500,marginBottom:8},children:_.badge}),_.status&&d.jsx("span",{style:{display:"inline-block",padding:"4px 12px",borderRadius:20,background:_.status==="qualified"?"#d1fae5":"#fef3c7",color:_.status==="qualified"?"#065f46":"#92400e",fontSize:12,fontWeight:500,marginBottom:8},children:_.status}),_.content&&d.jsx("p",{style:{margin:0,whiteSpace:"pre-line"},children:_.content}),_.quote&&d.jsxs("blockquote",{style:{margin:"8px 0 0 0",padding:"8px 12px",borderLeft:"3px solid #d1d5db",color:"#6b7280",fontStyle:"italic",fontSize:12},children:['"',_.quote,'"']}),_.nextAction&&d.jsxs("div",{style:{marginTop:8,padding:"8px 12px",borderRadius:6,background:"#ecfdf5",border:"1px solid #a7f3d0",fontSize:12,color:"#065f46"},children:[d.jsx("strong",{children:"Next:"})," ",_.nextAction]})]})]},g))}),d.jsxs("div",{style:{padding:"16px 32px 24px",borderTop:"1px solid #e5e5e5",background:"#fafafa"},children:[d.jsxs("div",{className:"flex justify-between items-end",children:[d.jsxs("div",{children:[d.jsx("div",{style:{fontSize:10,color:"#999",marginBottom:4},children:"APPROVED BY"}),d.jsx("div",{style:{fontFamily:"cursive",fontSize:16,color:"#333",borderBottom:"1px solid #333",paddingBottom:2,display:"inline-block"},children:v.approved}),d.jsx("div",{style:{fontSize:10,color:"#666",marginTop:4},children:v.date})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{style:{fontSize:10,color:"#10b981",fontWeight:600},children:"VERIFIED"}),d.jsx("div",{style:{width:20,height:20,borderRadius:"50%",background:"#10b981",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:12},children:""})]})]}),d.jsxs("button",{onClick:()=>s==null?void 0:s(e.id),style:{marginTop:16,width:"100%",padding:"10px 16px",background:"#10b981",color:"white",border:"none",borderRadius:4,fontSize:12,fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:8},children:[d.jsx("span",{children:"View Full Document"}),d.jsx("span",{style:{fontSize:14},children:""})]})]})]})]})}function WP(e,t,n){var s,a,l;const r=((s=e.name)==null?void 0:s.toUpperCase())||"DOCUMENT",i=(n||e.id)+" - "+(e.name||"Document"),o=[];if(t){const u=((a=t.summary)==null?void 0:a.description)||t.captured_intent||t.conversation_summary;u&&o.push({heading:null,content:u,isIntro:!0});const c=t.project_name,f=((l=t.summary)==null?void 0:l.user_statement)||t.conversation_summary;(c||f)&&o.push({heading:"Project Summary",content:c,quote:f});const h=t.project_type;if(h){const y=typeof h=="string"?h:h.category,v=h.rationale;o.push({heading:"Project Type",badge:y,content:v})}const p=t.outcome||{status:t.gate_outcome,rationale:t.routing_rationale,next_action:t.ready_for};(p.status||p.next_action)&&o.push({heading:"Intake Outcome",status:p.status,content:p.rationale,nextAction:p.next_action})}else o.push({heading:null,content:e.desc||"Loading document content...",isIntro:!0});return{title:r,serial:i,sections:o,approved:"System",date:"January 2026"}}function GP({data:e}){var v,_,g;const n=(e.level||1)===1,r=e.isExpanded,i=e.expandType,o=((v=e.questions)==null?void 0:v.length)>0,s=((_=e.features)==null?void 0:_.length)>0,a=(g=e.stations)==null?void 0:g.some(m=>m.needs_input),l=e.state==="active"&&e.stations,u=e.state==="active"?"node-active":"",c=n?"DOCUMENT":"EPIC",f=n?"subway-node-header-doc":"subway-node-header-epic",h=e.state==="stabilized"?"var(--state-stabilized-bg)":e.state==="active"?"var(--state-active-bg)":"var(--state-queued-bg)",p=e.state==="stabilized"?"var(--state-stabilized-text)":e.state==="active"?"var(--state-active-text)":"var(--state-queued-text)",y=e.state==="active"?"var(--state-active-bg)":e.state==="stabilized"?"var(--state-stabilized-bg)":"var(--border-node)";return d.jsxs("div",{className:"relative",children:[d.jsx(or,{type:"target",position:X.Top,className:"!opacity-0",style:{left:"15%"}}),d.jsxs("div",{className:`subway-node rounded-lg border ${u} overflow-hidden`,style:{width:e.width,minHeight:e.height,borderColor:y},children:[d.jsxs("div",{className:`${f} border-b px-3 py-1.5 flex items-center justify-between`,children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-[8px] font-bold uppercase tracking-wider",style:{color:n?"var(--header-text-doc)":"var(--header-text-epic)"},children:c}),d.jsx("span",{className:"text-[10px] font-medium",style:{color:"var(--text-primary)"},children:e.name})]}),e.intent==="optional"&&d.jsx("span",{className:"subway-button text-[8px] px-1.5 py-0.5 rounded",children:"OPTIONAL"})]}),d.jsxs("div",{className:"p-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"rounded-full flex-shrink-0",style:{width:n?24:18,height:n?24:18,backgroundColor:h}}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-wide",style:{color:p},children:e.state}),n&&e.desc&&d.jsx("p",{className:"text-[9px] mt-0.5 truncate",style:{color:"var(--text-muted)"},children:e.desc})]})]}),l&&d.jsx(MP,{stations:e.stations}),d.jsxs("div",{className:"mt-2 flex flex-wrap gap-1.5",children:[n&&e.state==="stabilized"&&d.jsx("button",{className:"px-2 py-1 bg-emerald-500/20 rounded text-[9px] hover:bg-emerald-500/30 transition-colors",style:{color:"var(--action-success)"},onClick:m=>{var x;m.stopPropagation(),(x=e.onExpand)==null||x.call(e,e.id,"document")},children:"View Document"}),a&&o&&!r&&d.jsx("button",{className:"px-2 py-1 bg-amber-500/20 rounded text-[9px] hover:bg-amber-500/30 transition-colors amber-pulse",style:{color:"var(--action-warning)"},onClick:m=>{var x;m.stopPropagation(),(x=e.onExpand)==null||x.call(e,e.id,"questions")},children:"Answer Questions"}),!n&&s&&(r&&i==="features"?d.jsxs("span",{className:"text-[9px] text-indigo-400",children:[e.features.length," features expanded"]}):d.jsxs("button",{className:"subway-button px-2 py-1 rounded text-[9px] transition-colors flex items-center gap-1",onClick:m=>{var x;m.stopPropagation(),(x=e.onExpand)==null||x.call(e,e.id,"features")},children:[d.jsx("span",{className:"text-indigo-400",children:e.features.length}),d.jsx("span",{children:"features"}),d.jsx("span",{className:"text-indigo-400",children:""})]}))]})]})]}),r&&i==="questions"&&o&&d.jsx(AP,{questions:e.questions,nodeWidth:e.width,onSubmit:m=>{var x;return(x=e.onSubmitQuestions)==null?void 0:x.call(e,e.id,m)},onClose:()=>{var m;return(m=e.onCollapse)==null?void 0:m.call(e)},onZoomComplete:()=>{var m;return(m=e.onZoomToNode)==null?void 0:m.call(e,e.id)}}),r&&i==="features"&&s&&d.jsx(OP,{features:e.features,epicName:e.name,nodeWidth:e.width,onClose:()=>{var m;return(m=e.onCollapse)==null?void 0:m.call(e)},onZoomComplete:()=>{var m;return(m=e.onZoomToNode)==null?void 0:m.call(e,e.id)}}),r&&i==="document"&&n&&e.state==="stabilized"&&d.jsx(UP,{document:e,projectId:e.projectId,projectCode:e.projectCode,nodeWidth:e.width,onClose:()=>{var m;return(m=e.onCollapse)==null?void 0:m.call(e)},onZoomComplete:()=>{var m;return(m=e.onZoomToNode)==null?void 0:m.call(e,e.id)},onViewFull:m=>{var x;return(x=e.onViewFullDocument)==null?void 0:x.call(e,m)}}),d.jsx(or,{type:"source",position:X.Bottom,className:"!opacity-0",style:{left:"15%"}})]})}function KP(){return d.jsxs("div",{style:{width:1,height:1,background:"transparent"},children:[d.jsx(or,{type:"target",position:X.Top,style:{opacity:0}}),d.jsx(or,{type:"source",position:X.Bottom,style:{opacity:0}})]})}function YP({block:e}){const{data:t}=e,n=t.content||t.value||"";return n?d.jsxs("div",{style:{marginBottom:12},children:[d.jsx("p",{style:{margin:0,fontSize:14,lineHeight:1.6,color:"#374151",whiteSpace:"pre-line"},children:n}),t.detail_ref&&d.jsx("a",{href:"#",style:{fontSize:12,color:"#6366f1",textDecoration:"none",marginTop:4,display:"inline-block"},children:"View details "})]}):null}function t0({block:e}){const{data:t}=e,n=t.items||[],r=t.style||"bullet";if(n.length===0)return null;const i=r==="numbered"?"decimal":"disc";return d.jsxs("div",{style:{marginBottom:12},children:[t.title&&d.jsx("h4",{style:{fontSize:12,fontWeight:600,color:"#6b7280",marginBottom:8,textTransform:"uppercase",letterSpacing:"0.05em"},children:t.title}),d.jsx("ul",{style:{margin:0,paddingLeft:r==="check"?0:20,listStyle:r==="check"?"none":i},children:n.map((o,s)=>d.jsxs("li",{style:{fontSize:14,lineHeight:1.6,color:"#374151",marginBottom:4,display:r==="check"?"flex":"list-item",alignItems:"flex-start",gap:8},children:[r==="check"&&d.jsx("span",{style:{color:"#10b981"},children:""}),typeof o=="string"?o:JSON.stringify(o)]},s))})]})}function XP({block:e}){const{data:t}=e,n=t.value||"unknown",r=t.label,o={low:{bg:"#d1fae5",text:"#065f46"},medium:{bg:"#fef3c7",text:"#92400e"},high:{bg:"#fee2e2",text:"#991b1b"},critical:{bg:"#fecaca",text:"#7f1d1d"},none:{bg:"#e5e7eb",text:"#374151"},external:{bg:"#dbeafe",text:"#1e40af"},qualified:{bg:"#d1fae5",text:"#065f46"},not_ready:{bg:"#fef3c7",text:"#92400e"}}[n.toLowerCase()]||{bg:"#f3f4f6",text:"#374151"};return d.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:8,marginBottom:12},children:[r&&d.jsxs("span",{style:{fontSize:12,color:"#6b7280",fontWeight:500},children:[r,":"]}),d.jsx("span",{style:{display:"inline-block",padding:"4px 12px",borderRadius:20,background:o.bg,color:o.text,fontSize:12,fontWeight:500,textTransform:"capitalize"},children:n})]})}function ek({block:e}){const{data:t}=e,{id:n,text:r,blocking:i,why_it_matters:o,priority:s,tags:a,options:l}=t,u={must:{bg:"#fee2e2",text:"#991b1b"},should:{bg:"#fef3c7",text:"#92400e"},could:{bg:"#e5e7eb",text:"#374151"}},c=u[s]||u.should;return d.jsx("div",{style:{padding:"12px 16px",background:i?"#fef2f2":"#f8fafc",borderRadius:8,border:`1px solid ${i?"#fecaca":"#e2e8f0"}`,marginBottom:12},children:d.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:12},children:[d.jsx("span",{style:{fontSize:10,fontFamily:"monospace",color:"#6b7280",background:"#e5e7eb",padding:"2px 6px",borderRadius:4,flexShrink:0},children:n}),d.jsxs("div",{style:{flex:1},children:[d.jsx("p",{style:{margin:0,fontSize:14,fontWeight:500,color:"#111827",marginBottom:6},children:r}),o&&d.jsx("p",{style:{margin:0,fontSize:12,color:"#6b7280",fontStyle:"italic"},children:o}),d.jsxs("div",{style:{display:"flex",gap:6,marginTop:8,flexWrap:"wrap"},children:[i&&d.jsx("span",{style:{fontSize:10,padding:"2px 8px",borderRadius:10,background:"#fee2e2",color:"#991b1b",fontWeight:600},children:"BLOCKING"}),s&&d.jsx("span",{style:{fontSize:10,padding:"2px 8px",borderRadius:10,background:c.bg,color:c.text,textTransform:"uppercase"},children:s}),a==null?void 0:a.map((f,h)=>d.jsx("span",{style:{fontSize:10,padding:"2px 8px",borderRadius:10,background:"#e0e7ff",color:"#3730a3"},children:f},h))]}),l&&l.length>0&&d.jsxs("div",{style:{marginTop:8},children:[d.jsx("span",{style:{fontSize:11,color:"#6b7280"},children:"Options: "}),l.map((f,h)=>d.jsx("span",{style:{fontSize:11,color:"#374151",marginLeft:h>0?8:4},children:f},h))]})]})]})})}function QP({block:e}){const{data:t}=e,n=t.items||[],r=t.total_count||n.length,i=t.blocking_count||n.filter(o=>o.blocking).length;return n.length===0?d.jsx("div",{style:{padding:"16px",background:"#f0fdf4",borderRadius:8,border:"1px solid #bbf7d0",textAlign:"center",color:"#166534",fontSize:14},children:"No open questions"}):d.jsxs("div",{children:[d.jsxs("div",{style:{display:"flex",gap:16,marginBottom:12,padding:"8px 12px",background:"#f8fafc",borderRadius:6,fontSize:12},children:[d.jsxs("span",{style:{color:"#6b7280"},children:[d.jsx("strong",{style:{color:"#374151"},children:r})," questions"]}),i>0&&d.jsxs("span",{style:{color:"#dc2626"},children:[d.jsx("strong",{children:i})," blocking"]})]}),n.map((o,s)=>d.jsx(ek,{block:{type:"schema:OpenQuestionV1",data:o}},o.id||s))]})}function n0({block:e}){const{data:t}=e,n=t.items||[],r=t.title;if(n.length===0)return null;const i={low:{bg:"#d1fae5",text:"#065f46",border:"#a7f3d0"},medium:{bg:"#fef3c7",text:"#92400e",border:"#fde68a"},high:{bg:"#fee2e2",text:"#991b1b",border:"#fecaca"},critical:{bg:"#fecaca",text:"#7f1d1d",border:"#f87171"}};return d.jsxs("div",{style:{marginBottom:12},children:[r&&d.jsx("h4",{style:{fontSize:12,fontWeight:600,color:"#6b7280",marginBottom:8,textTransform:"uppercase",letterSpacing:"0.05em"},children:r}),d.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:n.map((o,s)=>{const a=o.severity||o.likelihood||"medium",l=i[a]||i.medium;return d.jsx("div",{style:{padding:"10px 14px",background:l.bg,borderRadius:6,border:`1px solid ${l.border}`},children:d.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:10},children:[o.id&&d.jsx("span",{style:{fontSize:10,fontFamily:"monospace",color:l.text,background:"rgba(255,255,255,0.5)",padding:"2px 6px",borderRadius:4,flexShrink:0},children:o.id}),d.jsxs("div",{style:{flex:1},children:[d.jsx("p",{style:{margin:0,fontSize:13,color:l.text,fontWeight:500},children:o.description||o.reason||JSON.stringify(o)}),o.impact&&d.jsxs("p",{style:{margin:"4px 0 0",fontSize:12,color:l.text,opacity:.8},children:["Impact: ",o.impact]}),o.mitigation&&d.jsxs("p",{style:{margin:"4px 0 0",fontSize:12,color:l.text,opacity:.8},children:["Mitigation: ",o.mitigation]})]}),d.jsx("span",{style:{fontSize:10,padding:"2px 8px",borderRadius:10,background:"rgba(255,255,255,0.5)",color:l.text,textTransform:"uppercase",fontWeight:600},children:a})]})},o.id||s)})})]})}function ZP({block:e}){const{data:t}=e,{problem_understanding:n,architectural_intent:r,scope_pressure_points:i}=t,o=[{title:"Problem Understanding",content:n},{title:"Architectural Intent",content:r},{title:"Scope Pressure Points",content:i}].filter(s=>s.content);return o.length===0?null:d.jsx("div",{style:{marginBottom:12},children:o.map((s,a)=>d.jsxs("div",{style:{marginBottom:a<o.length-1?16:0},children:[d.jsx("h4",{style:{fontSize:12,fontWeight:600,color:"#6b7280",marginBottom:6,textTransform:"uppercase",letterSpacing:"0.05em"},children:s.title}),d.jsx("div",{style:{padding:"12px 16px",background:"#f8fafc",borderRadius:6,borderLeft:"3px solid #6366f1"},children:d.jsx("p",{style:{margin:0,fontSize:14,lineHeight:1.6,color:"#374151",whiteSpace:"pre-line"},children:s.content})})]},a))})}function r0({block:e}){const{data:t}=e,{epic_id:n,title:r,name:i,intent:o,phase:s,risk_level:a,stories:l,detail_ref:u}=t,c=r||i,f={low:{bg:"#d1fae5",text:"#065f46"},medium:{bg:"#fef3c7",text:"#92400e"},high:{bg:"#fee2e2",text:"#991b1b"}},h=f[a]||f.medium,p={mvp:{bg:"#dbeafe",text:"#1e40af"},later:{bg:"#e5e7eb",text:"#374151"}},y=p[s]||p.mvp;return d.jsxs("div",{style:{padding:"14px 16px",background:"#ffffff",borderRadius:8,border:"1px solid #e2e8f0",marginBottom:12,boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",gap:12},children:[d.jsxs("div",{style:{flex:1},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:6},children:[n&&d.jsx("span",{style:{fontSize:10,fontFamily:"monospace",color:"#6366f1",background:"#eef2ff",padding:"2px 6px",borderRadius:4},children:n}),d.jsx("h4",{style:{margin:0,fontSize:14,fontWeight:600,color:"#111827"},children:c})]}),o&&d.jsx("p",{style:{margin:0,fontSize:13,color:"#6b7280",lineHeight:1.5},children:o}),l&&l.length>0&&d.jsxs("div",{style:{marginTop:8,fontSize:12,color:"#6b7280"},children:[l.length," stories"]})]}),d.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4,alignItems:"flex-end"},children:[s&&d.jsx("span",{style:{fontSize:10,padding:"2px 8px",borderRadius:10,background:y.bg,color:y.text,textTransform:"uppercase",fontWeight:500},children:s}),a&&d.jsxs("span",{style:{fontSize:10,padding:"2px 8px",borderRadius:10,background:h.bg,color:h.text,textTransform:"uppercase",fontWeight:500},children:[a," risk"]})]})]}),u&&d.jsx("div",{style:{marginTop:10,paddingTop:10,borderTop:"1px solid #f3f4f6"},children:d.jsx("a",{href:"#",style:{fontSize:12,color:"#6366f1",textDecoration:"none"},children:"View epic details "})})]})}function JP({block:e}){const{data:t}=e,{story_id:n,title:r,intent:i,phase:o,risk_level:s,detail_ref:a}=t,u={low:{bg:"#d1fae5",text:"#065f46"},medium:{bg:"#fef3c7",text:"#92400e"},high:{bg:"#fee2e2",text:"#991b1b"}}[s]||null,c={mvp:{bg:"#dbeafe",text:"#1e40af"},later:{bg:"#e5e7eb",text:"#374151"}},f=c[o]||c.mvp;return d.jsx("div",{style:{padding:"10px 14px",background:"#fafafa",borderRadius:6,border:"1px solid #e5e7eb",marginBottom:8},children:d.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",gap:10},children:[d.jsxs("div",{style:{flex:1},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:4},children:[n&&d.jsx("span",{style:{fontSize:10,fontFamily:"monospace",color:"#059669",background:"#ecfdf5",padding:"1px 5px",borderRadius:3},children:n}),d.jsx("span",{style:{fontSize:13,fontWeight:500,color:"#111827"},children:r})]}),i&&d.jsx("p",{style:{margin:0,fontSize:12,color:"#6b7280",lineHeight:1.4},children:i})]}),d.jsxs("div",{style:{display:"flex",gap:4},children:[o&&d.jsx("span",{style:{fontSize:9,padding:"2px 6px",borderRadius:8,background:f.bg,color:f.text,textTransform:"uppercase",fontWeight:500},children:o}),u&&d.jsx("span",{style:{fontSize:9,padding:"2px 6px",borderRadius:8,background:u.bg,color:u.text,textTransform:"uppercase",fontWeight:500},children:s})]})]})})}function eM({block:e}){const{type:t,data:n}=e;return d.jsxs("div",{style:{padding:"12px 16px",background:"#f8fafc",borderRadius:6,border:"1px solid #e2e8f0",marginBottom:12},children:[d.jsx("div",{style:{fontSize:10,color:"#94a3b8",marginBottom:8,fontFamily:"monospace"},children:t}),d.jsx("pre",{style:{fontSize:12,color:"#475569",margin:0,whiteSpace:"pre-wrap",wordBreak:"break-word"},children:JSON.stringify(n,null,2)})]})}function tM({block:e}){const{data:t}=e,{description:n,user_statement:r}=t;return d.jsxs("div",{style:{marginBottom:12},children:[n&&d.jsx("div",{style:{paddingLeft:16,borderLeft:"4px solid #8b5cf6",color:"#374151",marginBottom:16,fontSize:14,lineHeight:1.6},children:n}),r&&d.jsxs("blockquote",{style:{paddingLeft:16,borderLeft:"4px solid #d1d5db",color:"#6b7280",fontStyle:"italic",margin:0,fontSize:13,lineHeight:1.5},children:['"',r,'"']})]})}function nM({block:e}){const{data:t}=e,{category:n,confidence:r,rationale:i}=t;return d.jsxs("div",{style:{marginBottom:12},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:8},children:[d.jsx("span",{style:{padding:"4px 12px",borderRadius:16,fontSize:13,fontWeight:500,background:"#ede9fe",color:"#6d28d9"},children:n}),r&&d.jsxs("span",{style:{fontSize:13,color:"#6b7280"},children:["Confidence: ",r]})]}),i&&d.jsx("p",{style:{margin:0,fontSize:13,color:"#6b7280",lineHeight:1.5},children:i})]})}function rM({block:e}){const{data:t}=e,{explicit:n=[],inferred:r=[]}=t,i=n&&n.length>0,o=r&&r.length>0;return!i&&!o?null:d.jsxs("div",{style:{marginBottom:12},children:[i&&d.jsxs("div",{style:{marginBottom:o?16:0},children:[d.jsx("h4",{style:{fontSize:12,fontWeight:500,color:"#6b7280",marginBottom:8,marginTop:0},children:"Explicit"}),d.jsx("ul",{style:{margin:0,paddingLeft:20,listStyle:"none"},children:n.map((s,a)=>d.jsxs("li",{style:{display:"flex",alignItems:"flex-start",gap:8,marginBottom:6,fontSize:13,color:"#374151"},children:[d.jsx("span",{style:{color:"#f59e0b"},children:""}),d.jsx("span",{children:s})]},a))})]}),o&&d.jsxs("div",{children:[d.jsx("h4",{style:{fontSize:12,fontWeight:500,color:"#6b7280",marginBottom:8,marginTop:0},children:"Inferred"}),d.jsx("ul",{style:{margin:0,paddingLeft:20,listStyle:"none"},children:r.map((s,a)=>d.jsxs("li",{style:{display:"flex",alignItems:"flex-start",gap:8,marginBottom:6,fontSize:13,color:"#374151"},children:[d.jsx("span",{style:{color:"#3b82f6"},children:""}),d.jsx("span",{children:s})]},a))})]})]})}function iM({block:e}){const{data:t}=e,{questions:n=[],missing_context:r=[],assumptions_made:i=[]}=t,o=n&&n.length>0,s=r&&r.length>0,a=i&&i.length>0;return!o&&!s&&!a?null:d.jsxs("div",{style:{marginBottom:12},children:[o&&d.jsxs("div",{style:{marginBottom:s||a?16:0},children:[d.jsx("h4",{style:{fontSize:12,fontWeight:500,color:"#6b7280",marginBottom:8,marginTop:0},children:"Questions"}),d.jsx("ul",{style:{margin:0,paddingLeft:20,listStyle:"none"},children:n.map((l,u)=>d.jsxs("li",{style:{display:"flex",alignItems:"flex-start",gap:8,marginBottom:6,fontSize:13,color:"#374151"},children:[d.jsx("span",{style:{color:"#3b82f6"},children:""}),d.jsx("span",{children:l})]},u))})]}),s&&d.jsxs("div",{style:{marginBottom:a?16:0},children:[d.jsx("h4",{style:{fontSize:12,fontWeight:500,color:"#6b7280",marginBottom:8,marginTop:0},children:"Missing Context"}),d.jsx("ul",{style:{margin:0,paddingLeft:20,listStyle:"none"},children:r.map((l,u)=>d.jsxs("li",{style:{display:"flex",alignItems:"flex-start",gap:8,marginBottom:6,fontSize:13,color:"#374151"},children:[d.jsx("span",{style:{color:"#f59e0b"},children:""}),d.jsx("span",{children:l})]},u))})]}),a&&d.jsxs("div",{children:[d.jsx("h4",{style:{fontSize:12,fontWeight:500,color:"#6b7280",marginBottom:8,marginTop:0},children:"Assumptions"}),d.jsx("ul",{style:{margin:0,paddingLeft:20,listStyle:"none"},children:i.map((l,u)=>d.jsxs("li",{style:{display:"flex",alignItems:"flex-start",gap:8,marginBottom:6,fontSize:13,color:"#374151"},children:[d.jsx("span",{style:{color:"#6b7280"},children:""}),d.jsx("span",{children:l})]},u))})]})]})}function oM({block:e}){const{data:t}=e,{status:n,rationale:r,next_action:i}=t,s={qualified:{bg:"#d1fae5",text:"#065f46"},not_ready:{bg:"#fef3c7",text:"#92400e"},out_of_scope:{bg:"#fee2e2",text:"#991b1b"},redirect:{bg:"#e0e7ff",text:"#3730a3"}}[n]||{bg:"#f3f4f6",text:"#374151"};return d.jsxs("div",{style:{marginBottom:12},children:[n&&d.jsx("div",{style:{marginBottom:12},children:d.jsx("span",{style:{padding:"4px 12px",borderRadius:16,fontSize:13,fontWeight:500,background:s.bg,color:s.text},children:n})}),r&&d.jsx("p",{style:{margin:0,marginBottom:i?12:0,fontSize:13,color:"#6b7280",lineHeight:1.5},children:r}),i&&d.jsx("div",{style:{padding:12,borderRadius:8,background:"#ecfdf5",border:"1px solid #a7f3d0"},children:d.jsxs("span",{style:{fontSize:13,fontWeight:500,color:"#065f46"},children:["Next: ",i]})})]})}const sM={"schema:ParagraphBlockV1":YP,"schema:StringListBlockV1":t0,"schema:IndicatorBlockV1":XP,"schema:OpenQuestionV1":ek,"schema:OpenQuestionsBlockV1":QP,"schema:RisksBlockV1":n0,"schema:DependenciesBlockV1":n0,"schema:SummaryBlockV1":ZP,"schema:EpicSummaryBlockV1":r0,"schema:StorySummaryBlockV1":JP,"schema:EpicStoriesCardBlockV1":r0,"schema:StoriesBlockV1":t0,"schema:IntakeSummaryBlockV1":tM,"schema:IntakeProjectTypeBlockV1":nM,"schema:IntakeConstraintsBlockV1":rM,"schema:IntakeOpenGapsBlockV1":iM,"schema:IntakeOutcomeBlockV1":oM};function aM(e){return sM[e]||eM}function lM(e,t){const n=aM(e.type);return d.jsx(n,{block:e},e.key||t)}function uM({renderModel:e,variant:t="full",onSectionClick:n,className:r=""}){var h;const[i,o]=k.useState(new Set(((h=e==null?void 0:e.sections)==null?void 0:h.map(p=>p.section_id))||[]));if(!e)return d.jsx("div",{style:{padding:20,textAlign:"center",color:"#6b7280"},children:"No render model available"});const{title:s,subtitle:a,sections:l=[],metadata:u}=e;if(u!=null&&u.fallback&&e.raw_content)return d.jsx(dM,{title:s,content:e.raw_content,reason:u.reason});const c=p=>{o(y=>{const v=new Set(y);return v.has(p)?v.delete(p):v.add(p),v})},f=t==="compact"||t==="sidecar";return d.jsxs("div",{className:r,children:[t==="full"&&d.jsxs("div",{style:{marginBottom:24},children:[d.jsx("h1",{style:{margin:0,fontSize:24,fontWeight:700,color:"#111827"},children:s}),a&&d.jsx("p",{style:{margin:"8px 0 0",fontSize:14,color:"#6b7280"},children:a})]}),d.jsx("div",{style:{display:"flex",flexDirection:"column",gap:f?12:20},children:l.map(p=>d.jsx(cM,{section:p,isExpanded:i.has(p.section_id),onToggle:()=>c(p.section_id),onClick:()=>n==null?void 0:n(p),variant:t},p.section_id))}),l.length===0&&d.jsx("div",{style:{padding:32,textAlign:"center",color:"#9ca3af",background:"#f9fafb",borderRadius:8},children:"No content sections available"})]})}function cM({section:e,isExpanded:t,onToggle:n,onClick:r,variant:i}){const{section_id:o,title:s,description:a,blocks:l=[]}=e,u=i==="compact"||i==="sidecar";return l.length===0?null:d.jsxs("div",{style:{background:"#ffffff",borderRadius:8,border:"1px solid #e5e7eb",overflow:"hidden"},children:[d.jsxs("button",{onClick:n,style:{width:"100%",padding:u?"10px 14px":"14px 18px",background:"#f9fafb",border:"none",borderBottom:t?"1px solid #e5e7eb":"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",textAlign:"left"},children:[d.jsxs("div",{children:[d.jsx("h3",{style:{margin:0,fontSize:u?13:15,fontWeight:600,color:"#111827"},children:s}),a&&!u&&d.jsx("p",{style:{margin:"4px 0 0",fontSize:12,color:"#6b7280"},children:a})]}),d.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{color:"#9ca3af",transform:t?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"},children:d.jsx("path",{d:"M4 6l4 4 4-4"})})]}),t&&d.jsx("div",{style:{padding:u?12:18},children:l.map((c,f)=>lM(c,f))})]})}function dM({title:e,content:t,reason:n}){return d.jsxs("div",{children:[d.jsxs("div",{style:{padding:"12px 16px",background:"#fef3c7",border:"1px solid #fde68a",borderRadius:8,marginBottom:16,fontSize:12,color:"#92400e"},children:["Displaying raw content (reason: ",n||"unknown",")"]}),d.jsx("div",{style:{background:"#f8fafc",borderRadius:8,padding:16,overflow:"auto"},children:d.jsx("pre",{style:{margin:0,fontSize:12,color:"#374151",whiteSpace:"pre-wrap",wordBreak:"break-word",fontFamily:"monospace"},children:JSON.stringify(t,null,2)})})]})}function fM({projectId:e,docTypeId:t,onClose:n}){const[r,i]=k.useState(null),[o,s]=k.useState(null),[a,l]=k.useState(!0),[u,c]=k.useState(null);return k.useEffect(()=>{async function f(){var h;try{l(!0),c(null);try{const y=await Oe.getDocumentRenderModel(e,t);if(y&&y.sections&&y.sections.length>0){s(y),i(null);return}if((h=y==null?void 0:y.metadata)!=null&&h.fallback){s(y),i(null);return}}catch(y){console.log("RenderModel not available, falling back to raw document:",y.message)}const p=await Oe.getDocument(e,t);i(p),s(null)}catch(p){c(p.message),console.error("Failed to fetch document:",p)}finally{l(!1)}}f()},[e,t]),k.useEffect(()=>{const f=h=>{h.key==="Escape"&&n()};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[n]),a?null:d.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center",style:{background:"rgba(0,0,0,0.8)"},onClick:f=>f.target===f.currentTarget&&n(),children:d.jsxs("div",{className:"relative w-full max-w-4xl max-h-[90vh] overflow-hidden rounded-lg shadow-2xl",style:{background:"#ffffff"},children:[d.jsxs("div",{className:"sticky top-0 px-6 py-4 border-b flex items-center justify-between",style:{background:"#f8fafc",borderColor:"#e2e8f0"},children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900",children:(o==null?void 0:o.title)||(r==null?void 0:r.title)||gM(t)}),((r==null?void 0:r.updated_at)||(o==null?void 0:o.subtitle))&&d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:(o==null?void 0:o.subtitle)||`Last updated: ${vM(r==null?void 0:r.updated_at)}`})]}),d.jsx("button",{onClick:n,className:"p-2 rounded-lg hover:bg-gray-200 transition-colors",children:d.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),d.jsxs("div",{className:"overflow-y-auto p-6",style:{maxHeight:"calc(90vh - 80px)"},children:[u&&d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-red-500",children:u})}),o&&d.jsx(uM,{renderModel:o,variant:"full"}),r&&!o&&d.jsx(hM,{docTypeId:t,content:r.content})]})]})})}function hM({docTypeId:e,content:t}){if(!t)return d.jsx("p",{className:"text-gray-500",children:"No content available"});switch(e){case"concierge_intake":return d.jsx(pM,{content:t});case"project_discovery":return d.jsx(mM,{content:t});default:return d.jsx(tk,{content:t})}}function pM({content:e}){var l,u;const t=e.project_name,n=((l=e.summary)==null?void 0:l.description)||e.captured_intent||"",r=((u=e.summary)==null?void 0:u.user_statement)||e.conversation_summary||"",i=e.project_type,o=e.constraints,s=e.open_gaps||{questions:e.known_unknowns||[]},a=e.outcome||{status:e.gate_outcome,rationale:e.routing_rationale,next_action:e.ready_for};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs(Jt,{title:"Project Summary",icon:"clipboard",children:[t&&d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t}),n&&d.jsx("div",{className:"pl-4 border-l-4 border-violet-500 text-gray-700 mb-4",children:n}),r&&d.jsxs("blockquote",{className:"pl-4 border-l-4 border-gray-300 text-gray-500 italic",children:['"',r,'"']})]}),i&&d.jsxs(Jt,{title:"Project Type",icon:"tag",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-violet-100 text-violet-800",children:typeof i=="string"?i:i.category}),i.confidence&&d.jsxs("span",{className:"text-sm text-gray-500",children:["Confidence: ",i.confidence]})]}),i.rationale&&d.jsx("p",{className:"text-gray-600",children:i.rationale})]}),o&&(nt(o.explicit)||nt(o.inferred)||nt(o))&&d.jsxs(Jt,{title:"Constraints",icon:"lock",children:[Array.isArray(o)&&o.length>0&&d.jsx(en,{items:o,icon:"lock",color:"amber"}),!Array.isArray(o)&&d.jsxs(d.Fragment,{children:[nt(o.explicit)&&d.jsxs("div",{className:"mb-3",children:[d.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Explicit"}),d.jsx(en,{items:o.explicit,icon:"lock",color:"amber"})]}),nt(o.inferred)&&d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Inferred"}),d.jsx(en,{items:o.inferred,icon:"lightbulb",color:"blue"})]})]})]}),s&&(nt(s.questions)||nt(s.missing_context)||nt(s.assumptions_made))&&d.jsxs(Jt,{title:"Open Gaps",icon:"help-circle",children:[nt(s.questions)&&d.jsxs("div",{className:"mb-3",children:[d.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Questions"}),d.jsx(en,{items:s.questions,icon:"help",color:"blue"})]}),nt(s.missing_context)&&d.jsxs("div",{className:"mb-3",children:[d.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Missing Context"}),d.jsx(en,{items:s.missing_context,icon:"alert",color:"amber"})]}),nt(s.assumptions_made)&&d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Assumptions"}),d.jsx(en,{items:s.assumptions_made,icon:"lightbulb",color:"gray"})]})]}),a&&(a.status||a.rationale)&&d.jsxs(Jt,{title:"Intake Outcome",icon:"flag",children:[a.status&&d.jsx("div",{className:"mb-3",children:d.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${a.status==="qualified"?"bg-emerald-100 text-emerald-800":a.status==="not_ready"?"bg-amber-100 text-amber-800":"bg-gray-100 text-gray-800"}`,children:a.status})}),a.rationale&&d.jsx("p",{className:"text-gray-600 mb-3",children:a.rationale}),a.next_action&&d.jsx("div",{className:"p-3 rounded-lg bg-emerald-50 border border-emerald-200",children:d.jsxs("span",{className:"text-sm font-medium text-emerald-800",children:["Next: ",a.next_action]})})]}),e.metadata&&d.jsx(Jt,{title:"Metadata",icon:"info",collapsed:!0,children:d.jsxs("dl",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.metadata.conversation_turn_count&&d.jsxs(d.Fragment,{children:[d.jsx("dt",{className:"text-gray-500",children:"Conversation Turns"}),d.jsx("dd",{className:"text-gray-900",children:e.metadata.conversation_turn_count})]}),e.metadata.workflow_id&&d.jsxs(d.Fragment,{children:[d.jsx("dt",{className:"text-gray-500",children:"Workflow"}),d.jsx("dd",{className:"text-gray-900 font-mono text-xs",children:e.metadata.workflow_id})]})]})})]})}function mM({content:e}){var t;return d.jsxs("div",{className:"space-y-6",children:[e.project_name&&d.jsxs(Jt,{title:"Project",icon:"compass",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.project_name}),((t=e.summary)==null?void 0:t.description)&&d.jsx("p",{className:"text-gray-600 mt-2",children:e.summary.description})]}),e.goals&&nt(e.goals)&&d.jsx(Jt,{title:"Goals",icon:"target",children:d.jsx(en,{items:e.goals,color:"emerald"})}),e.stakeholders&&nt(e.stakeholders)&&d.jsx(Jt,{title:"Stakeholders",icon:"users",children:d.jsx(en,{items:e.stakeholders,color:"blue"})}),e.scope&&d.jsxs(Jt,{title:"Scope",icon:"box",children:[e.scope.in_scope&&nt(e.scope.in_scope)&&d.jsxs("div",{className:"mb-3",children:[d.jsx("h4",{className:"text-sm font-medium text-emerald-600 mb-2",children:"In Scope"}),d.jsx(en,{items:e.scope.in_scope,color:"emerald"})]}),e.scope.out_of_scope&&nt(e.scope.out_of_scope)&&d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Out of Scope"}),d.jsx(en,{items:e.scope.out_of_scope,color:"gray"})]})]}),!e.project_name&&!e.goals&&d.jsx(tk,{content:e})]})}function tk({content:e}){return d.jsx("div",{className:"bg-gray-50 rounded-lg p-4 overflow-x-auto",children:d.jsx("pre",{className:"text-sm text-gray-800 whitespace-pre-wrap font-mono",children:JSON.stringify(e,null,2)})})}function Jt({title:e,icon:t,collapsed:n=!1,children:r}){const[i,o]=k.useState(!n);return d.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[d.jsxs("button",{onClick:()=>o(!i),className:"w-full px-4 py-3 flex items-center justify-between bg-gray-50 hover:bg-gray-100 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-gray-400",children:nk(t)}),d.jsx("span",{className:"font-medium text-gray-900",children:e})]}),d.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",className:`text-gray-400 transition-transform ${i?"rotate-180":""}`,children:d.jsx("path",{d:"M6 8l4 4 4-4",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),i&&d.jsx("div",{className:"px-4 py-4 bg-white",children:r})]})}function en({items:e,icon:t,color:n="gray"}){if(!e||e.length===0)return null;const r={gray:"text-gray-600",blue:"text-blue-600",emerald:"text-emerald-600",amber:"text-amber-600",violet:"text-violet-600"};return d.jsx("ul",{className:"space-y-2",children:e.map((i,o)=>d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:`mt-0.5 ${r[n]}`,children:nk(t||"dot")}),d.jsx("span",{className:"text-gray-700",children:typeof i=="string"?i:JSON.stringify(i)})]},o))})}function nt(e){return Array.isArray(e)&&e.length>0}function gM(e){return e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function vM(e){return e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):""}function nk(e){return{clipboard:"",tag:"",lock:"",lightbulb:"","help-circle":"",help:"",alert:"",flag:"",info:"",compass:"",target:"",users:"",box:"",dot:""}[e]||""}function Pg(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var hu,i0;function yM(){if(i0)return hu;i0=1;function e(){this.__data__=[],this.size=0}return hu=e,hu}var pu,o0;function Ci(){if(o0)return pu;o0=1;function e(t,n){return t===n||t!==t&&n!==n}return pu=e,pu}var mu,s0;function al(){if(s0)return mu;s0=1;var e=Ci();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return mu=t,mu}var gu,a0;function xM(){if(a0)return gu;a0=1;var e=al(),t=Array.prototype,n=t.splice;function r(i){var o=this.__data__,s=e(o,i);if(s<0)return!1;var a=o.length-1;return s==a?o.pop():n.call(o,s,1),--this.size,!0}return gu=r,gu}var vu,l0;function wM(){if(l0)return vu;l0=1;var e=al();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return vu=t,vu}var yu,u0;function _M(){if(u0)return yu;u0=1;var e=al();function t(n){return e(this.__data__,n)>-1}return yu=t,yu}var xu,c0;function bM(){if(c0)return xu;c0=1;var e=al();function t(n,r){var i=this.__data__,o=e(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return xu=t,xu}var wu,d0;function ll(){if(d0)return wu;d0=1;var e=yM(),t=xM(),n=wM(),r=_M(),i=bM();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,wu=o,wu}var _u,f0;function SM(){if(f0)return _u;f0=1;var e=ll();function t(){this.__data__=new e,this.size=0}return _u=t,_u}var bu,h0;function EM(){if(h0)return bu;h0=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return bu=e,bu}var Su,p0;function kM(){if(p0)return Su;p0=1;function e(t){return this.__data__.get(t)}return Su=e,Su}var Eu,m0;function NM(){if(m0)return Eu;m0=1;function e(t){return this.__data__.has(t)}return Eu=e,Eu}var ku,g0;function rk(){if(g0)return ku;g0=1;var e=typeof is=="object"&&is&&is.Object===Object&&is;return ku=e,ku}var Nu,v0;function Gt(){if(v0)return Nu;v0=1;var e=rk(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return Nu=n,Nu}var ju,y0;function Ti(){if(y0)return ju;y0=1;var e=Gt(),t=e.Symbol;return ju=t,ju}var Cu,x0;function jM(){if(x0)return Cu;x0=1;var e=Ti(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function o(s){var a=n.call(s,i),l=s[i];try{s[i]=void 0;var u=!0}catch{}var c=r.call(s);return u&&(a?s[i]=l:delete s[i]),c}return Cu=o,Cu}var Tu,w0;function CM(){if(w0)return Tu;w0=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return Tu=n,Tu}var Iu,_0;function qr(){if(_0)return Iu;_0=1;var e=Ti(),t=jM(),n=CM(),r="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function s(a){return a==null?a===void 0?i:r:o&&o in Object(a)?t(a):n(a)}return Iu=s,Iu}var Ru,b0;function At(){if(b0)return Ru;b0=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Ru=e,Ru}var Pu,S0;function Zo(){if(S0)return Pu;S0=1;var e=qr(),t=At(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function s(a){if(!t(a))return!1;var l=e(a);return l==r||l==i||l==n||l==o}return Pu=s,Pu}var Mu,E0;function TM(){if(E0)return Mu;E0=1;var e=Gt(),t=e["__core-js_shared__"];return Mu=t,Mu}var Au,k0;function IM(){if(k0)return Au;k0=1;var e=TM(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return Au=n,Au}var Ou,N0;function ik(){if(N0)return Ou;N0=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return Ou=n,Ou}var qu,j0;function RM(){if(j0)return qu;j0=1;var e=Zo(),t=IM(),n=At(),r=ik(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,s=Function.prototype,a=Object.prototype,l=s.toString,u=a.hasOwnProperty,c=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(h){if(!n(h)||t(h))return!1;var p=e(h)?c:o;return p.test(r(h))}return qu=f,qu}var Lu,C0;function PM(){if(C0)return Lu;C0=1;function e(t,n){return t==null?void 0:t[n]}return Lu=e,Lu}var zu,T0;function Lr(){if(T0)return zu;T0=1;var e=RM(),t=PM();function n(r,i){var o=t(r,i);return e(o)?o:void 0}return zu=n,zu}var Du,I0;function Mg(){if(I0)return Du;I0=1;var e=Lr(),t=Gt(),n=e(t,"Map");return Du=n,Du}var Fu,R0;function ul(){if(R0)return Fu;R0=1;var e=Lr(),t=e(Object,"create");return Fu=t,Fu}var $u,P0;function MM(){if(P0)return $u;P0=1;var e=ul();function t(){this.__data__=e?e(null):{},this.size=0}return $u=t,$u}var Bu,M0;function AM(){if(M0)return Bu;M0=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return Bu=e,Bu}var Hu,A0;function OM(){if(A0)return Hu;A0=1;var e=ul(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var s=this.__data__;if(e){var a=s[o];return a===t?void 0:a}return r.call(s,o)?s[o]:void 0}return Hu=i,Hu}var Vu,O0;function qM(){if(O0)return Vu;O0=1;var e=ul(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var o=this.__data__;return e?o[i]!==void 0:n.call(o,i)}return Vu=r,Vu}var Uu,q0;function LM(){if(q0)return Uu;q0=1;var e=ul(),t="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=e&&i===void 0?t:i,this}return Uu=n,Uu}var Wu,L0;function zM(){if(L0)return Wu;L0=1;var e=MM(),t=AM(),n=OM(),r=qM(),i=LM();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Wu=o,Wu}var Gu,z0;function DM(){if(z0)return Gu;z0=1;var e=zM(),t=ll(),n=Mg();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return Gu=r,Gu}var Ku,D0;function FM(){if(D0)return Ku;D0=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return Ku=e,Ku}var Yu,F0;function cl(){if(F0)return Yu;F0=1;var e=FM();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Yu=t,Yu}var Xu,$0;function $M(){if($0)return Xu;$0=1;var e=cl();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return Xu=t,Xu}var Qu,B0;function BM(){if(B0)return Qu;B0=1;var e=cl();function t(n){return e(this,n).get(n)}return Qu=t,Qu}var Zu,H0;function HM(){if(H0)return Zu;H0=1;var e=cl();function t(n){return e(this,n).has(n)}return Zu=t,Zu}var Ju,V0;function VM(){if(V0)return Ju;V0=1;var e=cl();function t(n,r){var i=e(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return Ju=t,Ju}var ec,U0;function Ag(){if(U0)return ec;U0=1;var e=DM(),t=$M(),n=BM(),r=HM(),i=VM();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,ec=o,ec}var tc,W0;function UM(){if(W0)return tc;W0=1;var e=ll(),t=Mg(),n=Ag(),r=200;function i(o,s){var a=this.__data__;if(a instanceof e){var l=a.__data__;if(!t||l.length<r-1)return l.push([o,s]),this.size=++a.size,this;a=this.__data__=new n(l)}return a.set(o,s),this.size=a.size,this}return tc=i,tc}var nc,G0;function dl(){if(G0)return nc;G0=1;var e=ll(),t=SM(),n=EM(),r=kM(),i=NM(),o=UM();function s(a){var l=this.__data__=new e(a);this.size=l.size}return s.prototype.clear=t,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=o,nc=s,nc}var rc,K0;function Og(){if(K0)return rc;K0=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i&&n(t[r],r,t)!==!1;);return t}return rc=e,rc}var ic,Y0;function ok(){if(Y0)return ic;Y0=1;var e=Lr(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return ic=t,ic}var oc,X0;function fl(){if(X0)return oc;X0=1;var e=ok();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return oc=t,oc}var sc,Q0;function hl(){if(Q0)return sc;Q0=1;var e=fl(),t=Ci(),n=Object.prototype,r=n.hasOwnProperty;function i(o,s,a){var l=o[s];(!(r.call(o,s)&&t(l,a))||a===void 0&&!(s in o))&&e(o,s,a)}return sc=i,sc}var ac,Z0;function Jo(){if(Z0)return ac;Z0=1;var e=hl(),t=fl();function n(r,i,o,s){var a=!o;o||(o={});for(var l=-1,u=i.length;++l<u;){var c=i[l],f=s?s(o[c],r[c],c,o,r):void 0;f===void 0&&(f=r[c]),a?t(o,c,f):e(o,c,f)}return o}return ac=n,ac}var lc,J0;function WM(){if(J0)return lc;J0=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return lc=e,lc}var uc,ex;function ln(){if(ex)return uc;ex=1;function e(t){return t!=null&&typeof t=="object"}return uc=e,uc}var cc,tx;function GM(){if(tx)return cc;tx=1;var e=qr(),t=ln(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return cc=r,cc}var dc,nx;function es(){if(nx)return dc;nx=1;var e=GM(),t=ln(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=e(function(){return arguments}())?e:function(s){return t(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return dc=o,dc}var fc,rx;function qe(){if(rx)return fc;rx=1;var e=Array.isArray;return fc=e,fc}var to={exports:{}},hc,ix;function KM(){if(ix)return hc;ix=1;function e(){return!1}return hc=e,hc}to.exports;var ox;function Ii(){return ox||(ox=1,function(e,t){var n=Gt(),r=KM(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;e.exports=u}(to,to.exports)),to.exports}var pc,sx;function pl(){if(sx)return pc;sx=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??e,!!i&&(o=="number"||o!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return pc=n,pc}var mc,ax;function qg(){if(ax)return mc;ax=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return mc=t,mc}var gc,lx;function YM(){if(lx)return gc;lx=1;var e=qr(),t=qg(),n=ln(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",s="[object Date]",a="[object Error]",l="[object Function]",u="[object Map]",c="[object Number]",f="[object Object]",h="[object RegExp]",p="[object Set]",y="[object String]",v="[object WeakMap]",_="[object ArrayBuffer]",g="[object DataView]",m="[object Float32Array]",x="[object Float64Array]",w="[object Int8Array]",S="[object Int16Array]",E="[object Int32Array]",N="[object Uint8Array]",C="[object Uint8ClampedArray]",I="[object Uint16Array]",O="[object Uint32Array]",q={};q[m]=q[x]=q[w]=q[S]=q[E]=q[N]=q[C]=q[I]=q[O]=!0,q[r]=q[i]=q[_]=q[o]=q[g]=q[s]=q[a]=q[l]=q[u]=q[c]=q[f]=q[h]=q[p]=q[y]=q[v]=!1;function F(L){return n(L)&&t(L.length)&&!!q[e(L)]}return gc=F,gc}var vc,ux;function ml(){if(ux)return vc;ux=1;function e(t){return function(n){return t(n)}}return vc=e,vc}var no={exports:{}};no.exports;var cx;function Lg(){return cx||(cx=1,function(e,t){var n=rk(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=a}(no,no.exports)),no.exports}var yc,dx;function ts(){if(dx)return yc;dx=1;var e=YM(),t=ml(),n=Lg(),r=n&&n.isTypedArray,i=r?t(r):e;return yc=i,yc}var xc,fx;function sk(){if(fx)return xc;fx=1;var e=WM(),t=es(),n=qe(),r=Ii(),i=pl(),o=ts(),s=Object.prototype,a=s.hasOwnProperty;function l(u,c){var f=n(u),h=!f&&t(u),p=!f&&!h&&r(u),y=!f&&!h&&!p&&o(u),v=f||h||p||y,_=v?e(u.length,String):[],g=_.length;for(var m in u)(c||a.call(u,m))&&!(v&&(m=="length"||p&&(m=="offset"||m=="parent")||y&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||i(m,g)))&&_.push(m);return _}return xc=l,xc}var wc,hx;function gl(){if(hx)return wc;hx=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return wc=t,wc}var _c,px;function ak(){if(px)return _c;px=1;function e(t,n){return function(r){return t(n(r))}}return _c=e,_c}var bc,mx;function XM(){if(mx)return bc;mx=1;var e=ak(),t=e(Object.keys,Object);return bc=t,bc}var Sc,gx;function zg(){if(gx)return Sc;gx=1;var e=gl(),t=XM(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!e(o))return t(o);var s=[];for(var a in Object(o))r.call(o,a)&&a!="constructor"&&s.push(a);return s}return Sc=i,Sc}var Ec,vx;function In(){if(vx)return Ec;vx=1;var e=Zo(),t=qg();function n(r){return r!=null&&t(r.length)&&!e(r)}return Ec=n,Ec}var kc,yx;function cr(){if(yx)return kc;yx=1;var e=sk(),t=zg(),n=In();function r(i){return n(i)?e(i):t(i)}return kc=r,kc}var Nc,xx;function QM(){if(xx)return Nc;xx=1;var e=Jo(),t=cr();function n(r,i){return r&&e(i,t(i),r)}return Nc=n,Nc}var jc,wx;function ZM(){if(wx)return jc;wx=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return jc=e,jc}var Cc,_x;function JM(){if(_x)return Cc;_x=1;var e=At(),t=gl(),n=ZM(),r=Object.prototype,i=r.hasOwnProperty;function o(s){if(!e(s))return n(s);var a=t(s),l=[];for(var u in s)u=="constructor"&&(a||!i.call(s,u))||l.push(u);return l}return Cc=o,Cc}var Tc,bx;function zr(){if(bx)return Tc;bx=1;var e=sk(),t=JM(),n=In();function r(i){return n(i)?e(i,!0):t(i)}return Tc=r,Tc}var Ic,Sx;function eA(){if(Sx)return Ic;Sx=1;var e=Jo(),t=zr();function n(r,i){return r&&e(i,t(i),r)}return Ic=n,Ic}var ro={exports:{}};ro.exports;var Ex;function lk(){return Ex||(Ex=1,function(e,t){var n=Gt(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var f=u.length,h=a?a(f):new u.constructor(f);return u.copy(h),h}e.exports=l}(ro,ro.exports)),ro.exports}var Rc,kx;function uk(){if(kx)return Rc;kx=1;function e(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}return Rc=e,Rc}var Pc,Nx;function ck(){if(Nx)return Pc;Nx=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=0,s=[];++r<i;){var a=t[r];n(a,r,t)&&(s[o++]=a)}return s}return Pc=e,Pc}var Mc,jx;function dk(){if(jx)return Mc;jx=1;function e(){return[]}return Mc=e,Mc}var Ac,Cx;function Dg(){if(Cx)return Ac;Cx=1;var e=ck(),t=dk(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(s){return s==null?[]:(s=Object(s),e(i(s),function(a){return r.call(s,a)}))}:t;return Ac=o,Ac}var Oc,Tx;function tA(){if(Tx)return Oc;Tx=1;var e=Jo(),t=Dg();function n(r,i){return e(r,t(r),i)}return Oc=n,Oc}var qc,Ix;function Fg(){if(Ix)return qc;Ix=1;function e(t,n){for(var r=-1,i=n.length,o=t.length;++r<i;)t[o+r]=n[r];return t}return qc=e,qc}var Lc,Rx;function vl(){if(Rx)return Lc;Rx=1;var e=ak(),t=e(Object.getPrototypeOf,Object);return Lc=t,Lc}var zc,Px;function fk(){if(Px)return zc;Px=1;var e=Fg(),t=vl(),n=Dg(),r=dk(),i=Object.getOwnPropertySymbols,o=i?function(s){for(var a=[];s;)e(a,n(s)),s=t(s);return a}:r;return zc=o,zc}var Dc,Mx;function nA(){if(Mx)return Dc;Mx=1;var e=Jo(),t=fk();function n(r,i){return e(r,t(r),i)}return Dc=n,Dc}var Fc,Ax;function hk(){if(Ax)return Fc;Ax=1;var e=Fg(),t=qe();function n(r,i,o){var s=i(r);return t(r)?s:e(s,o(r))}return Fc=n,Fc}var $c,Ox;function pk(){if(Ox)return $c;Ox=1;var e=hk(),t=Dg(),n=cr();function r(i){return e(i,n,t)}return $c=r,$c}var Bc,qx;function rA(){if(qx)return Bc;qx=1;var e=hk(),t=fk(),n=zr();function r(i){return e(i,n,t)}return Bc=r,Bc}var Hc,Lx;function iA(){if(Lx)return Hc;Lx=1;var e=Lr(),t=Gt(),n=e(t,"DataView");return Hc=n,Hc}var Vc,zx;function oA(){if(zx)return Vc;zx=1;var e=Lr(),t=Gt(),n=e(t,"Promise");return Vc=n,Vc}var Uc,Dx;function mk(){if(Dx)return Uc;Dx=1;var e=Lr(),t=Gt(),n=e(t,"Set");return Uc=n,Uc}var Wc,Fx;function sA(){if(Fx)return Wc;Fx=1;var e=Lr(),t=Gt(),n=e(t,"WeakMap");return Wc=n,Wc}var Gc,$x;function Ri(){if($x)return Gc;$x=1;var e=iA(),t=Mg(),n=oA(),r=mk(),i=sA(),o=qr(),s=ik(),a="[object Map]",l="[object Object]",u="[object Promise]",c="[object Set]",f="[object WeakMap]",h="[object DataView]",p=s(e),y=s(t),v=s(n),_=s(r),g=s(i),m=o;return(e&&m(new e(new ArrayBuffer(1)))!=h||t&&m(new t)!=a||n&&m(n.resolve())!=u||r&&m(new r)!=c||i&&m(new i)!=f)&&(m=function(x){var w=o(x),S=w==l?x.constructor:void 0,E=S?s(S):"";if(E)switch(E){case p:return h;case y:return a;case v:return u;case _:return c;case g:return f}return w}),Gc=m,Gc}var Kc,Bx;function aA(){if(Bx)return Kc;Bx=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var i=r.length,o=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(o.index=r.index,o.input=r.input),o}return Kc=n,Kc}var Yc,Hx;function gk(){if(Hx)return Yc;Hx=1;var e=Gt(),t=e.Uint8Array;return Yc=t,Yc}var Xc,Vx;function $g(){if(Vx)return Xc;Vx=1;var e=gk();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return Xc=t,Xc}var Qc,Ux;function lA(){if(Ux)return Qc;Ux=1;var e=$g();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return Qc=t,Qc}var Zc,Wx;function uA(){if(Wx)return Zc;Wx=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return Zc=t,Zc}var Jc,Gx;function cA(){if(Gx)return Jc;Gx=1;var e=Ti(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return Jc=r,Jc}var ed,Kx;function vk(){if(Kx)return ed;Kx=1;var e=$g();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return ed=t,ed}var td,Yx;function dA(){if(Yx)return td;Yx=1;var e=$g(),t=lA(),n=uA(),r=cA(),i=vk(),o="[object Boolean]",s="[object Date]",a="[object Map]",l="[object Number]",u="[object RegExp]",c="[object Set]",f="[object String]",h="[object Symbol]",p="[object ArrayBuffer]",y="[object DataView]",v="[object Float32Array]",_="[object Float64Array]",g="[object Int8Array]",m="[object Int16Array]",x="[object Int32Array]",w="[object Uint8Array]",S="[object Uint8ClampedArray]",E="[object Uint16Array]",N="[object Uint32Array]";function C(I,O,q){var F=I.constructor;switch(O){case p:return e(I);case o:case s:return new F(+I);case y:return t(I,q);case v:case _:case g:case m:case x:case w:case S:case E:case N:return i(I,q);case a:return new F;case l:case f:return new F(I);case u:return n(I);case c:return new F;case h:return r(I)}}return td=C,td}var nd,Xx;function yk(){if(Xx)return nd;Xx=1;var e=At(),t=Object.create,n=function(){function r(){}return function(i){if(!e(i))return{};if(t)return t(i);r.prototype=i;var o=new r;return r.prototype=void 0,o}}();return nd=n,nd}var rd,Qx;function xk(){if(Qx)return rd;Qx=1;var e=yk(),t=vl(),n=gl();function r(i){return typeof i.constructor=="function"&&!n(i)?e(t(i)):{}}return rd=r,rd}var id,Zx;function fA(){if(Zx)return id;Zx=1;var e=Ri(),t=ln(),n="[object Map]";function r(i){return t(i)&&e(i)==n}return id=r,id}var od,Jx;function hA(){if(Jx)return od;Jx=1;var e=fA(),t=ml(),n=Lg(),r=n&&n.isMap,i=r?t(r):e;return od=i,od}var sd,e1;function pA(){if(e1)return sd;e1=1;var e=Ri(),t=ln(),n="[object Set]";function r(i){return t(i)&&e(i)==n}return sd=r,sd}var ad,t1;function mA(){if(t1)return ad;t1=1;var e=pA(),t=ml(),n=Lg(),r=n&&n.isSet,i=r?t(r):e;return ad=i,ad}var ld,n1;function wk(){if(n1)return ld;n1=1;var e=dl(),t=Og(),n=hl(),r=QM(),i=eA(),o=lk(),s=uk(),a=tA(),l=nA(),u=pk(),c=rA(),f=Ri(),h=aA(),p=dA(),y=xk(),v=qe(),_=Ii(),g=hA(),m=At(),x=mA(),w=cr(),S=zr(),E=1,N=2,C=4,I="[object Arguments]",O="[object Array]",q="[object Boolean]",F="[object Date]",L="[object Error]",b="[object Function]",P="[object GeneratorFunction]",T="[object Map]",z="[object Number]",R="[object Object]",j="[object RegExp]",A="[object Set]",M="[object String]",D="[object Symbol]",B="[object WeakMap]",V="[object ArrayBuffer]",K="[object DataView]",Q="[object Float32Array]",Z="[object Float64Array]",le="[object Int8Array]",re="[object Int16Array]",ie="[object Int32Array]",Ie="[object Uint8Array]",xe="[object Uint8ClampedArray]",Le="[object Uint16Array]",Me="[object Uint32Array]",U={};U[I]=U[O]=U[V]=U[K]=U[q]=U[F]=U[Q]=U[Z]=U[le]=U[re]=U[ie]=U[T]=U[z]=U[R]=U[j]=U[A]=U[M]=U[D]=U[Ie]=U[xe]=U[Le]=U[Me]=!0,U[L]=U[b]=U[B]=!1;function oe(W,G,ae,Re,ue,pe){var me,we=G&E,Ue=G&N,kt=G&C;if(ae&&(me=ue?ae(W,Re,ue,pe):ae(W)),me!==void 0)return me;if(!m(W))return W;var Yt=v(W);if(Yt){if(me=h(W),!we)return s(W,me)}else{var gt=f(W),un=gt==b||gt==P;if(_(W))return o(W,we);if(gt==R||gt==I||un&&!ue){if(me=Ue||un?{}:y(W),!we)return Ue?l(W,i(me,W)):a(W,r(me,W))}else{if(!U[gt])return ue?W:{};me=p(W,gt,we)}}pe||(pe=new e);var Pn=pe.get(W);if(Pn)return Pn;pe.set(W,me),x(W)?W.forEach(function(Ye){me.add(oe(Ye,G,ae,Ye,W,pe))}):g(W)&&W.forEach(function(Ye,tt){me.set(tt,oe(Ye,G,ae,tt,W,pe))});var Fe=kt?Ue?c:u:Ue?S:w,at=Yt?void 0:Fe(W);return t(at||W,function(Ye,tt){at&&(tt=Ye,Ye=W[tt]),n(me,tt,oe(Ye,G,ae,tt,W,pe))}),me}return ld=oe,ld}var ud,r1;function gA(){if(r1)return ud;r1=1;var e=wk(),t=4;function n(r){return e(r,t)}return ud=n,ud}var cd,i1;function Bg(){if(i1)return cd;i1=1;function e(t){return function(){return t}}return cd=e,cd}var dd,o1;function vA(){if(o1)return dd;o1=1;function e(t){return function(n,r,i){for(var o=-1,s=Object(n),a=i(n),l=a.length;l--;){var u=a[t?l:++o];if(r(s[u],u,s)===!1)break}return n}}return dd=e,dd}var fd,s1;function Hg(){if(s1)return fd;s1=1;var e=vA(),t=e();return fd=t,fd}var hd,a1;function Vg(){if(a1)return hd;a1=1;var e=Hg(),t=cr();function n(r,i){return r&&e(r,i,t)}return hd=n,hd}var pd,l1;function yA(){if(l1)return pd;l1=1;var e=In();function t(n,r){return function(i,o){if(i==null)return i;if(!e(i))return n(i,o);for(var s=i.length,a=r?s:-1,l=Object(i);(r?a--:++a<s)&&o(l[a],a,l)!==!1;);return i}}return pd=t,pd}var md,u1;function yl(){if(u1)return md;u1=1;var e=Vg(),t=yA(),n=t(e);return md=n,md}var gd,c1;function Dr(){if(c1)return gd;c1=1;function e(t){return t}return gd=e,gd}var vd,d1;function _k(){if(d1)return vd;d1=1;var e=Dr();function t(n){return typeof n=="function"?n:e}return vd=t,vd}var yd,f1;function bk(){if(f1)return yd;f1=1;var e=Og(),t=yl(),n=_k(),r=qe();function i(o,s){var a=r(o)?e:t;return a(o,n(s))}return yd=i,yd}var xd,h1;function Sk(){return h1||(h1=1,xd=bk()),xd}var wd,p1;function xA(){if(p1)return wd;p1=1;var e=yl();function t(n,r){var i=[];return e(n,function(o,s,a){r(o,s,a)&&i.push(o)}),i}return wd=t,wd}var _d,m1;function wA(){if(m1)return _d;m1=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return _d=t,_d}var bd,g1;function _A(){if(g1)return bd;g1=1;function e(t){return this.__data__.has(t)}return bd=e,bd}var Sd,v1;function Ek(){if(v1)return Sd;v1=1;var e=Ag(),t=wA(),n=_A();function r(i){var o=-1,s=i==null?0:i.length;for(this.__data__=new e;++o<s;)this.add(i[o])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,Sd=r,Sd}var Ed,y1;function bA(){if(y1)return Ed;y1=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return Ed=e,Ed}var kd,x1;function kk(){if(x1)return kd;x1=1;function e(t,n){return t.has(n)}return kd=e,kd}var Nd,w1;function Nk(){if(w1)return Nd;w1=1;var e=Ek(),t=bA(),n=kk(),r=1,i=2;function o(s,a,l,u,c,f){var h=l&r,p=s.length,y=a.length;if(p!=y&&!(h&&y>p))return!1;var v=f.get(s),_=f.get(a);if(v&&_)return v==a&&_==s;var g=-1,m=!0,x=l&i?new e:void 0;for(f.set(s,a),f.set(a,s);++g<p;){var w=s[g],S=a[g];if(u)var E=h?u(S,w,g,a,s,f):u(w,S,g,s,a,f);if(E!==void 0){if(E)continue;m=!1;break}if(x){if(!t(a,function(N,C){if(!n(x,C)&&(w===N||c(w,N,l,u,f)))return x.push(C)})){m=!1;break}}else if(!(w===S||c(w,S,l,u,f))){m=!1;break}}return f.delete(s),f.delete(a),m}return Nd=o,Nd}var jd,_1;function SA(){if(_1)return jd;_1=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,o){r[++n]=[o,i]}),r}return jd=e,jd}var Cd,b1;function Ug(){if(b1)return Cd;b1=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return Cd=e,Cd}var Td,S1;function EA(){if(S1)return Td;S1=1;var e=Ti(),t=gk(),n=Ci(),r=Nk(),i=SA(),o=Ug(),s=1,a=2,l="[object Boolean]",u="[object Date]",c="[object Error]",f="[object Map]",h="[object Number]",p="[object RegExp]",y="[object Set]",v="[object String]",_="[object Symbol]",g="[object ArrayBuffer]",m="[object DataView]",x=e?e.prototype:void 0,w=x?x.valueOf:void 0;function S(E,N,C,I,O,q,F){switch(C){case m:if(E.byteLength!=N.byteLength||E.byteOffset!=N.byteOffset)return!1;E=E.buffer,N=N.buffer;case g:return!(E.byteLength!=N.byteLength||!q(new t(E),new t(N)));case l:case u:case h:return n(+E,+N);case c:return E.name==N.name&&E.message==N.message;case p:case v:return E==N+"";case f:var L=i;case y:var b=I&s;if(L||(L=o),E.size!=N.size&&!b)return!1;var P=F.get(E);if(P)return P==N;I|=a,F.set(E,N);var T=r(L(E),L(N),I,O,q,F);return F.delete(E),T;case _:if(w)return w.call(E)==w.call(N)}return!1}return Td=S,Td}var Id,E1;function kA(){if(E1)return Id;E1=1;var e=pk(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,s,a,l,u,c){var f=a&t,h=e(o),p=h.length,y=e(s),v=y.length;if(p!=v&&!f)return!1;for(var _=p;_--;){var g=h[_];if(!(f?g in s:r.call(s,g)))return!1}var m=c.get(o),x=c.get(s);if(m&&x)return m==s&&x==o;var w=!0;c.set(o,s),c.set(s,o);for(var S=f;++_<p;){g=h[_];var E=o[g],N=s[g];if(l)var C=f?l(N,E,g,s,o,c):l(E,N,g,o,s,c);if(!(C===void 0?E===N||u(E,N,a,l,c):C)){w=!1;break}S||(S=g=="constructor")}if(w&&!S){var I=o.constructor,O=s.constructor;I!=O&&"constructor"in o&&"constructor"in s&&!(typeof I=="function"&&I instanceof I&&typeof O=="function"&&O instanceof O)&&(w=!1)}return c.delete(o),c.delete(s),w}return Id=i,Id}var Rd,k1;function NA(){if(k1)return Rd;k1=1;var e=dl(),t=Nk(),n=EA(),r=kA(),i=Ri(),o=qe(),s=Ii(),a=ts(),l=1,u="[object Arguments]",c="[object Array]",f="[object Object]",h=Object.prototype,p=h.hasOwnProperty;function y(v,_,g,m,x,w){var S=o(v),E=o(_),N=S?c:i(v),C=E?c:i(_);N=N==u?f:N,C=C==u?f:C;var I=N==f,O=C==f,q=N==C;if(q&&s(v)){if(!s(_))return!1;S=!0,I=!1}if(q&&!I)return w||(w=new e),S||a(v)?t(v,_,g,m,x,w):n(v,_,N,g,m,x,w);if(!(g&l)){var F=I&&p.call(v,"__wrapped__"),L=O&&p.call(_,"__wrapped__");if(F||L){var b=F?v.value():v,P=L?_.value():_;return w||(w=new e),x(b,P,g,m,w)}}return q?(w||(w=new e),r(v,_,g,m,x,w)):!1}return Rd=y,Rd}var Pd,N1;function jk(){if(N1)return Pd;N1=1;var e=NA(),t=ln();function n(r,i,o,s,a){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,o,s,n,a)}return Pd=n,Pd}var Md,j1;function jA(){if(j1)return Md;j1=1;var e=dl(),t=jk(),n=1,r=2;function i(o,s,a,l){var u=a.length,c=u,f=!l;if(o==null)return!c;for(o=Object(o);u--;){var h=a[u];if(f&&h[2]?h[1]!==o[h[0]]:!(h[0]in o))return!1}for(;++u<c;){h=a[u];var p=h[0],y=o[p],v=h[1];if(f&&h[2]){if(y===void 0&&!(p in o))return!1}else{var _=new e;if(l)var g=l(y,v,p,o,s,_);if(!(g===void 0?t(v,y,n|r,l,_):g))return!1}}return!0}return Md=i,Md}var Ad,C1;function Ck(){if(C1)return Ad;C1=1;var e=At();function t(n){return n===n&&!e(n)}return Ad=t,Ad}var Od,T1;function CA(){if(T1)return Od;T1=1;var e=Ck(),t=cr();function n(r){for(var i=t(r),o=i.length;o--;){var s=i[o],a=r[s];i[o]=[s,a,e(a)]}return i}return Od=n,Od}var qd,I1;function Tk(){if(I1)return qd;I1=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return qd=e,qd}var Ld,R1;function TA(){if(R1)return Ld;R1=1;var e=jA(),t=CA(),n=Tk();function r(i){var o=t(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(s){return s===i||e(s,i,o)}}return Ld=r,Ld}var zd,P1;function Pi(){if(P1)return zd;P1=1;var e=qr(),t=ln(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return zd=r,zd}var Dd,M1;function Wg(){if(M1)return Dd;M1=1;var e=qe(),t=Pi(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){if(e(o))return!1;var a=typeof o;return a=="number"||a=="symbol"||a=="boolean"||o==null||t(o)?!0:r.test(o)||!n.test(o)||s!=null&&o in Object(s)}return Dd=i,Dd}var Fd,A1;function IA(){if(A1)return Fd;A1=1;var e=Ag(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var o=function(){var s=arguments,a=i?i.apply(this,s):s[0],l=o.cache;if(l.has(a))return l.get(a);var u=r.apply(this,s);return o.cache=l.set(a,u)||l,u};return o.cache=new(n.Cache||e),o}return n.Cache=e,Fd=n,Fd}var $d,O1;function RA(){if(O1)return $d;O1=1;var e=IA(),t=500;function n(r){var i=e(r,function(s){return o.size===t&&o.clear(),s}),o=i.cache;return i}return $d=n,$d}var Bd,q1;function PA(){if(q1)return Bd;q1=1;var e=RA(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(t,function(s,a,l,u){o.push(l?u.replace(n,"$1"):a||s)}),o});return Bd=r,Bd}var Hd,L1;function xl(){if(L1)return Hd;L1=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=Array(i);++r<i;)o[r]=n(t[r],r,t);return o}return Hd=e,Hd}var Vd,z1;function MA(){if(z1)return Vd;z1=1;var e=Ti(),t=xl(),n=qe(),r=Pi(),i=e?e.prototype:void 0,o=i?i.toString:void 0;function s(a){if(typeof a=="string")return a;if(n(a))return t(a,s)+"";if(r(a))return o?o.call(a):"";var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}return Vd=s,Vd}var Ud,D1;function Ik(){if(D1)return Ud;D1=1;var e=MA();function t(n){return n==null?"":e(n)}return Ud=t,Ud}var Wd,F1;function wl(){if(F1)return Wd;F1=1;var e=qe(),t=Wg(),n=PA(),r=Ik();function i(o,s){return e(o)?o:t(o,s)?[o]:n(r(o))}return Wd=i,Wd}var Gd,$1;function ns(){if($1)return Gd;$1=1;var e=Pi();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Gd=t,Gd}var Kd,B1;function _l(){if(B1)return Kd;B1=1;var e=wl(),t=ns();function n(r,i){i=e(i,r);for(var o=0,s=i.length;r!=null&&o<s;)r=r[t(i[o++])];return o&&o==s?r:void 0}return Kd=n,Kd}var Yd,H1;function AA(){if(H1)return Yd;H1=1;var e=_l();function t(n,r,i){var o=n==null?void 0:e(n,r);return o===void 0?i:o}return Yd=t,Yd}var Xd,V1;function OA(){if(V1)return Xd;V1=1;function e(t,n){return t!=null&&n in Object(t)}return Xd=e,Xd}var Qd,U1;function Rk(){if(U1)return Qd;U1=1;var e=wl(),t=es(),n=qe(),r=pl(),i=qg(),o=ns();function s(a,l,u){l=e(l,a);for(var c=-1,f=l.length,h=!1;++c<f;){var p=o(l[c]);if(!(h=a!=null&&u(a,p)))break;a=a[p]}return h||++c!=f?h:(f=a==null?0:a.length,!!f&&i(f)&&r(p,f)&&(n(a)||t(a)))}return Qd=s,Qd}var Zd,W1;function Pk(){if(W1)return Zd;W1=1;var e=OA(),t=Rk();function n(r,i){return r!=null&&t(r,i,e)}return Zd=n,Zd}var Jd,G1;function qA(){if(G1)return Jd;G1=1;var e=jk(),t=AA(),n=Pk(),r=Wg(),i=Ck(),o=Tk(),s=ns(),a=1,l=2;function u(c,f){return r(c)&&i(f)?o(s(c),f):function(h){var p=t(h,c);return p===void 0&&p===f?n(h,c):e(f,p,a|l)}}return Jd=u,Jd}var ef,K1;function Mk(){if(K1)return ef;K1=1;function e(t){return function(n){return n==null?void 0:n[t]}}return ef=e,ef}var tf,Y1;function LA(){if(Y1)return tf;Y1=1;var e=_l();function t(n){return function(r){return e(r,n)}}return tf=t,tf}var nf,X1;function zA(){if(X1)return nf;X1=1;var e=Mk(),t=LA(),n=Wg(),r=ns();function i(o){return n(o)?e(r(o)):t(o)}return nf=i,nf}var rf,Q1;function Rn(){if(Q1)return rf;Q1=1;var e=TA(),t=qA(),n=Dr(),r=qe(),i=zA();function o(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?t(s[0],s[1]):e(s):i(s)}return rf=o,rf}var of,Z1;function Ak(){if(Z1)return of;Z1=1;var e=ck(),t=xA(),n=Rn(),r=qe();function i(o,s){var a=r(o)?e:t;return a(o,n(s,3))}return of=i,of}var sf,J1;function DA(){if(J1)return sf;J1=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,i){return r!=null&&t.call(r,i)}return sf=n,sf}var af,ew;function Ok(){if(ew)return af;ew=1;var e=DA(),t=Rk();function n(r,i){return r!=null&&t(r,i,e)}return af=n,af}var lf,tw;function FA(){if(tw)return lf;tw=1;var e=zg(),t=Ri(),n=es(),r=qe(),i=In(),o=Ii(),s=gl(),a=ts(),l="[object Map]",u="[object Set]",c=Object.prototype,f=c.hasOwnProperty;function h(p){if(p==null)return!0;if(i(p)&&(r(p)||typeof p=="string"||typeof p.splice=="function"||o(p)||a(p)||n(p)))return!p.length;var y=t(p);if(y==l||y==u)return!p.size;if(s(p))return!e(p).length;for(var v in p)if(f.call(p,v))return!1;return!0}return lf=h,lf}var uf,nw;function qk(){if(nw)return uf;nw=1;function e(t){return t===void 0}return uf=e,uf}var cf,rw;function Lk(){if(rw)return cf;rw=1;var e=yl(),t=In();function n(r,i){var o=-1,s=t(r)?Array(r.length):[];return e(r,function(a,l,u){s[++o]=i(a,l,u)}),s}return cf=n,cf}var df,iw;function zk(){if(iw)return df;iw=1;var e=xl(),t=Rn(),n=Lk(),r=qe();function i(o,s){var a=r(o)?e:n;return a(o,t(s,3))}return df=i,df}var ff,ow;function $A(){if(ow)return ff;ow=1;function e(t,n,r,i){var o=-1,s=t==null?0:t.length;for(i&&s&&(r=t[++o]);++o<s;)r=n(r,t[o],o,t);return r}return ff=e,ff}var hf,sw;function BA(){if(sw)return hf;sw=1;function e(t,n,r,i,o){return o(t,function(s,a,l){r=i?(i=!1,s):n(r,s,a,l)}),r}return hf=e,hf}var pf,aw;function Dk(){if(aw)return pf;aw=1;var e=$A(),t=yl(),n=Rn(),r=BA(),i=qe();function o(s,a,l){var u=i(s)?e:r,c=arguments.length<3;return u(s,n(a,4),l,c,t)}return pf=o,pf}var mf,lw;function HA(){if(lw)return mf;lw=1;var e=qr(),t=qe(),n=ln(),r="[object String]";function i(o){return typeof o=="string"||!t(o)&&n(o)&&e(o)==r}return mf=i,mf}var gf,uw;function VA(){if(uw)return gf;uw=1;var e=Mk(),t=e("length");return gf=t,gf}var vf,cw;function UA(){if(cw)return vf;cw=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",s="\\u200d",a=RegExp("["+s+e+i+o+"]");function l(u){return a.test(u)}return vf=l,vf}var yf,dw;function WA(){if(dw)return yf;dw=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",s="["+e+"]",a="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+a+"|"+l+")",c="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",y=u+"?",v="["+o+"]?",_="(?:"+p+"(?:"+[c,f,h].join("|")+")"+v+y+")*",g=v+y+_,m="(?:"+[c+a+"?",a,f,h,s].join("|")+")",x=RegExp(l+"(?="+l+")|"+m+g,"g");function w(S){for(var E=x.lastIndex=0;x.test(S);)++E;return E}return yf=w,yf}var xf,fw;function GA(){if(fw)return xf;fw=1;var e=VA(),t=UA(),n=WA();function r(i){return t(i)?n(i):e(i)}return xf=r,xf}var wf,hw;function KA(){if(hw)return wf;hw=1;var e=zg(),t=Ri(),n=In(),r=HA(),i=GA(),o="[object Map]",s="[object Set]";function a(l){if(l==null)return 0;if(n(l))return r(l)?i(l):l.length;var u=t(l);return u==o||u==s?l.size:e(l).length}return wf=a,wf}var _f,pw;function YA(){if(pw)return _f;pw=1;var e=Og(),t=yk(),n=Vg(),r=Rn(),i=vl(),o=qe(),s=Ii(),a=Zo(),l=At(),u=ts();function c(f,h,p){var y=o(f),v=y||s(f)||u(f);if(h=r(h,4),p==null){var _=f&&f.constructor;v?p=y?new _:[]:l(f)?p=a(_)?t(i(f)):{}:p={}}return(v?e:n)(f,function(g,m,x){return h(p,g,m,x)}),p}return _f=c,_f}var bf,mw;function XA(){if(mw)return bf;mw=1;var e=Ti(),t=es(),n=qe(),r=e?e.isConcatSpreadable:void 0;function i(o){return n(o)||t(o)||!!(r&&o&&o[r])}return bf=i,bf}var Sf,gw;function Gg(){if(gw)return Sf;gw=1;var e=Fg(),t=XA();function n(r,i,o,s,a){var l=-1,u=r.length;for(o||(o=t),a||(a=[]);++l<u;){var c=r[l];i>0&&o(c)?i>1?n(c,i-1,o,s,a):e(a,c):s||(a[a.length]=c)}return a}return Sf=n,Sf}var Ef,vw;function QA(){if(vw)return Ef;vw=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return Ef=e,Ef}var kf,yw;function Fk(){if(yw)return kf;yw=1;var e=QA(),t=Math.max;function n(r,i,o){return i=t(i===void 0?r.length-1:i,0),function(){for(var s=arguments,a=-1,l=t(s.length-i,0),u=Array(l);++a<l;)u[a]=s[i+a];a=-1;for(var c=Array(i+1);++a<i;)c[a]=s[a];return c[i]=o(u),e(r,this,c)}}return kf=n,kf}var Nf,xw;function ZA(){if(xw)return Nf;xw=1;var e=Bg(),t=ok(),n=Dr(),r=t?function(i,o){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:n;return Nf=r,Nf}var jf,ww;function JA(){if(ww)return jf;ww=1;var e=800,t=16,n=Date.now;function r(i){var o=0,s=0;return function(){var a=n(),l=t-(a-s);if(s=a,l>0){if(++o>=e)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return jf=r,jf}var Cf,_w;function $k(){if(_w)return Cf;_w=1;var e=ZA(),t=JA(),n=t(e);return Cf=n,Cf}var Tf,bw;function bl(){if(bw)return Tf;bw=1;var e=Dr(),t=Fk(),n=$k();function r(i,o){return n(t(i,o,e),i+"")}return Tf=r,Tf}var If,Sw;function Bk(){if(Sw)return If;Sw=1;function e(t,n,r,i){for(var o=t.length,s=r+(i?1:-1);i?s--:++s<o;)if(n(t[s],s,t))return s;return-1}return If=e,If}var Rf,Ew;function e6(){if(Ew)return Rf;Ew=1;function e(t){return t!==t}return Rf=e,Rf}var Pf,kw;function t6(){if(kw)return Pf;kw=1;function e(t,n,r){for(var i=r-1,o=t.length;++i<o;)if(t[i]===n)return i;return-1}return Pf=e,Pf}var Mf,Nw;function n6(){if(Nw)return Mf;Nw=1;var e=Bk(),t=e6(),n=t6();function r(i,o,s){return o===o?n(i,o,s):e(i,t,s)}return Mf=r,Mf}var Af,jw;function r6(){if(jw)return Af;jw=1;var e=n6();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return Af=t,Af}var Of,Cw;function i6(){if(Cw)return Of;Cw=1;function e(t,n,r){for(var i=-1,o=t==null?0:t.length;++i<o;)if(r(n,t[i]))return!0;return!1}return Of=e,Of}var qf,Tw;function o6(){if(Tw)return qf;Tw=1;function e(){}return qf=e,qf}var Lf,Iw;function s6(){if(Iw)return Lf;Iw=1;var e=mk(),t=o6(),n=Ug(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(o){return new e(o)}:t;return Lf=i,Lf}var zf,Rw;function a6(){if(Rw)return zf;Rw=1;var e=Ek(),t=r6(),n=i6(),r=kk(),i=s6(),o=Ug(),s=200;function a(l,u,c){var f=-1,h=t,p=l.length,y=!0,v=[],_=v;if(c)y=!1,h=n;else if(p>=s){var g=u?null:i(l);if(g)return o(g);y=!1,h=r,_=new e}else _=u?[]:v;e:for(;++f<p;){var m=l[f],x=u?u(m):m;if(m=c||m!==0?m:0,y&&x===x){for(var w=_.length;w--;)if(_[w]===x)continue e;u&&_.push(x),v.push(m)}else h(_,x,c)||(_!==v&&_.push(x),v.push(m))}return v}return zf=a,zf}var Df,Pw;function Hk(){if(Pw)return Df;Pw=1;var e=In(),t=ln();function n(r){return t(r)&&e(r)}return Df=n,Df}var Ff,Mw;function l6(){if(Mw)return Ff;Mw=1;var e=Gg(),t=bl(),n=a6(),r=Hk(),i=t(function(o){return n(e(o,1,r,!0))});return Ff=i,Ff}var $f,Aw;function u6(){if(Aw)return $f;Aw=1;var e=xl();function t(n,r){return e(r,function(i){return n[i]})}return $f=t,$f}var Bf,Ow;function Vk(){if(Ow)return Bf;Ow=1;var e=u6(),t=cr();function n(r){return r==null?[]:e(r,t(r))}return Bf=n,Bf}var Hf,qw;function Ot(){if(qw)return Hf;qw=1;var e;if(typeof Pg=="function")try{e={clone:gA(),constant:Bg(),each:Sk(),filter:Ak(),has:Ok(),isArray:qe(),isEmpty:FA(),isFunction:Zo(),isUndefined:qk(),keys:cr(),map:zk(),reduce:Dk(),size:KA(),transform:YA(),union:l6(),values:Vk()}}catch{}return e||(e=window._),Hf=e,Hf}var Vf,Lw;function Kg(){if(Lw)return Vf;Lw=1;var e=Ot();Vf=i;var t="\0",n="\0",r="";function i(c){this._isDirected=e.has(c,"directed")?c.directed:!0,this._isMultigraph=e.has(c,"multigraph")?c.multigraph:!1,this._isCompound=e.has(c,"compound")?c.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(c){return this._label=c,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultNodeLabelFn=c,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return e.keys(this._nodes)},i.prototype.sources=function(){var c=this;return e.filter(this.nodes(),function(f){return e.isEmpty(c._in[f])})},i.prototype.sinks=function(){var c=this;return e.filter(this.nodes(),function(f){return e.isEmpty(c._out[f])})},i.prototype.setNodes=function(c,f){var h=arguments,p=this;return e.each(c,function(y){h.length>1?p.setNode(y,f):p.setNode(y)}),this},i.prototype.setNode=function(c,f){return e.has(this._nodes,c)?(arguments.length>1&&(this._nodes[c]=f),this):(this._nodes[c]=arguments.length>1?f:this._defaultNodeLabelFn(c),this._isCompound&&(this._parent[c]=n,this._children[c]={},this._children[n][c]=!0),this._in[c]={},this._preds[c]={},this._out[c]={},this._sucs[c]={},++this._nodeCount,this)},i.prototype.node=function(c){return this._nodes[c]},i.prototype.hasNode=function(c){return e.has(this._nodes,c)},i.prototype.removeNode=function(c){var f=this;if(e.has(this._nodes,c)){var h=function(p){f.removeEdge(f._edgeObjs[p])};delete this._nodes[c],this._isCompound&&(this._removeFromParentsChildList(c),delete this._parent[c],e.each(this.children(c),function(p){f.setParent(p)}),delete this._children[c]),e.each(e.keys(this._in[c]),h),delete this._in[c],delete this._preds[c],e.each(e.keys(this._out[c]),h),delete this._out[c],delete this._sucs[c],--this._nodeCount}return this},i.prototype.setParent=function(c,f){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(f))f=n;else{f+="";for(var h=f;!e.isUndefined(h);h=this.parent(h))if(h===c)throw new Error("Setting "+f+" as parent of "+c+" would create a cycle");this.setNode(f)}return this.setNode(c),this._removeFromParentsChildList(c),this._parent[c]=f,this._children[f][c]=!0,this},i.prototype._removeFromParentsChildList=function(c){delete this._children[this._parent[c]][c]},i.prototype.parent=function(c){if(this._isCompound){var f=this._parent[c];if(f!==n)return f}},i.prototype.children=function(c){if(e.isUndefined(c)&&(c=n),this._isCompound){var f=this._children[c];if(f)return e.keys(f)}else{if(c===n)return this.nodes();if(this.hasNode(c))return[]}},i.prototype.predecessors=function(c){var f=this._preds[c];if(f)return e.keys(f)},i.prototype.successors=function(c){var f=this._sucs[c];if(f)return e.keys(f)},i.prototype.neighbors=function(c){var f=this.predecessors(c);if(f)return e.union(f,this.successors(c))},i.prototype.isLeaf=function(c){var f;return this.isDirected()?f=this.successors(c):f=this.neighbors(c),f.length===0},i.prototype.filterNodes=function(c){var f=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});f.setGraph(this.graph());var h=this;e.each(this._nodes,function(v,_){c(_)&&f.setNode(_,v)}),e.each(this._edgeObjs,function(v){f.hasNode(v.v)&&f.hasNode(v.w)&&f.setEdge(v,h.edge(v))});var p={};function y(v){var _=h.parent(v);return _===void 0||f.hasNode(_)?(p[v]=_,_):_ in p?p[_]:y(_)}return this._isCompound&&e.each(f.nodes(),function(v){f.setParent(v,y(v))}),f},i.prototype.setDefaultEdgeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultEdgeLabelFn=c,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return e.values(this._edgeObjs)},i.prototype.setPath=function(c,f){var h=this,p=arguments;return e.reduce(c,function(y,v){return p.length>1?h.setEdge(y,v,f):h.setEdge(y,v),v}),this},i.prototype.setEdge=function(){var c,f,h,p,y=!1,v=arguments[0];typeof v=="object"&&v!==null&&"v"in v?(c=v.v,f=v.w,h=v.name,arguments.length===2&&(p=arguments[1],y=!0)):(c=v,f=arguments[1],h=arguments[3],arguments.length>2&&(p=arguments[2],y=!0)),c=""+c,f=""+f,e.isUndefined(h)||(h=""+h);var _=a(this._isDirected,c,f,h);if(e.has(this._edgeLabels,_))return y&&(this._edgeLabels[_]=p),this;if(!e.isUndefined(h)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(f),this._edgeLabels[_]=y?p:this._defaultEdgeLabelFn(c,f,h);var g=l(this._isDirected,c,f,h);return c=g.v,f=g.w,Object.freeze(g),this._edgeObjs[_]=g,o(this._preds[f],c),o(this._sucs[c],f),this._in[f][_]=g,this._out[c][_]=g,this._edgeCount++,this},i.prototype.edge=function(c,f,h){var p=arguments.length===1?u(this._isDirected,arguments[0]):a(this._isDirected,c,f,h);return this._edgeLabels[p]},i.prototype.hasEdge=function(c,f,h){var p=arguments.length===1?u(this._isDirected,arguments[0]):a(this._isDirected,c,f,h);return e.has(this._edgeLabels,p)},i.prototype.removeEdge=function(c,f,h){var p=arguments.length===1?u(this._isDirected,arguments[0]):a(this._isDirected,c,f,h),y=this._edgeObjs[p];return y&&(c=y.v,f=y.w,delete this._edgeLabels[p],delete this._edgeObjs[p],s(this._preds[f],c),s(this._sucs[c],f),delete this._in[f][p],delete this._out[c][p],this._edgeCount--),this},i.prototype.inEdges=function(c,f){var h=this._in[c];if(h){var p=e.values(h);return f?e.filter(p,function(y){return y.v===f}):p}},i.prototype.outEdges=function(c,f){var h=this._out[c];if(h){var p=e.values(h);return f?e.filter(p,function(y){return y.w===f}):p}},i.prototype.nodeEdges=function(c,f){var h=this.inEdges(c,f);if(h)return h.concat(this.outEdges(c,f))};function o(c,f){c[f]?c[f]++:c[f]=1}function s(c,f){--c[f]||delete c[f]}function a(c,f,h,p){var y=""+f,v=""+h;if(!c&&y>v){var _=y;y=v,v=_}return y+r+v+r+(e.isUndefined(p)?t:p)}function l(c,f,h,p){var y=""+f,v=""+h;if(!c&&y>v){var _=y;y=v,v=_}var g={v:y,w:v};return p&&(g.name=p),g}function u(c,f){return a(c,f.v,f.w,f.name)}return Vf}var Uf,zw;function c6(){return zw||(zw=1,Uf="2.1.8"),Uf}var Wf,Dw;function d6(){return Dw||(Dw=1,Wf={Graph:Kg(),version:c6()}),Wf}var Gf,Fw;function f6(){if(Fw)return Gf;Fw=1;var e=Ot(),t=Kg();Gf={write:n,read:o};function n(s){var a={options:{directed:s.isDirected(),multigraph:s.isMultigraph(),compound:s.isCompound()},nodes:r(s),edges:i(s)};return e.isUndefined(s.graph())||(a.value=e.clone(s.graph())),a}function r(s){return e.map(s.nodes(),function(a){var l=s.node(a),u=s.parent(a),c={v:a};return e.isUndefined(l)||(c.value=l),e.isUndefined(u)||(c.parent=u),c})}function i(s){return e.map(s.edges(),function(a){var l=s.edge(a),u={v:a.v,w:a.w};return e.isUndefined(a.name)||(u.name=a.name),e.isUndefined(l)||(u.value=l),u})}function o(s){var a=new t(s.options).setGraph(s.value);return e.each(s.nodes,function(l){a.setNode(l.v,l.value),l.parent&&a.setParent(l.v,l.parent)}),e.each(s.edges,function(l){a.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),a}return Gf}var Kf,$w;function h6(){if($w)return Kf;$w=1;var e=Ot();Kf=t;function t(n){var r={},i=[],o;function s(a){e.has(r,a)||(r[a]=!0,o.push(a),e.each(n.successors(a),s),e.each(n.predecessors(a),s))}return e.each(n.nodes(),function(a){o=[],s(a),o.length&&i.push(o)}),i}return Kf}var Yf,Bw;function Uk(){if(Bw)return Yf;Bw=1;var e=Ot();Yf=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,r){var i=this._keyIndices;if(n=String(n),!e.has(i,n)){var o=this._arr,s=o.length;return i[n]=s,o.push({key:n,priority:r}),this._decrease(s),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)},t.prototype._heapify=function(n){var r=this._arr,i=2*n,o=i+1,s=n;i<r.length&&(s=r[i].priority<r[s].priority?i:s,o<r.length&&(s=r[o].priority<r[s].priority?o:s),s!==n&&(this._swap(n,s),this._heapify(s)))},t.prototype._decrease=function(n){for(var r=this._arr,i=r[n].priority,o;n!==0&&(o=n>>1,!(r[o].priority<i));)this._swap(n,o),n=o},t.prototype._swap=function(n,r){var i=this._arr,o=this._keyIndices,s=i[n],a=i[r];i[n]=a,i[r]=s,o[a.key]=n,o[s.key]=r},Yf}var Xf,Hw;function Wk(){if(Hw)return Xf;Hw=1;var e=Ot(),t=Uk();Xf=r;var n=e.constant(1);function r(o,s,a,l){return i(o,String(s),a||n,l||function(u){return o.outEdges(u)})}function i(o,s,a,l){var u={},c=new t,f,h,p=function(y){var v=y.v!==f?y.v:y.w,_=u[v],g=a(y),m=h.distance+g;if(g<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+y+" Weight: "+g);m<_.distance&&(_.distance=m,_.predecessor=f,c.decrease(v,m))};for(o.nodes().forEach(function(y){var v=y===s?0:Number.POSITIVE_INFINITY;u[y]={distance:v},c.add(y,v)});c.size()>0&&(f=c.removeMin(),h=u[f],h.distance!==Number.POSITIVE_INFINITY);)l(f).forEach(p);return u}return Xf}var Qf,Vw;function p6(){if(Vw)return Qf;Vw=1;var e=Wk(),t=Ot();Qf=n;function n(r,i,o){return t.transform(r.nodes(),function(s,a){s[a]=e(r,a,i,o)},{})}return Qf}var Zf,Uw;function Gk(){if(Uw)return Zf;Uw=1;var e=Ot();Zf=t;function t(n){var r=0,i=[],o={},s=[];function a(l){var u=o[l]={onStack:!0,lowlink:r,index:r++};if(i.push(l),n.successors(l).forEach(function(h){e.has(o,h)?o[h].onStack&&(u.lowlink=Math.min(u.lowlink,o[h].index)):(a(h),u.lowlink=Math.min(u.lowlink,o[h].lowlink))}),u.lowlink===u.index){var c=[],f;do f=i.pop(),o[f].onStack=!1,c.push(f);while(l!==f);s.push(c)}}return n.nodes().forEach(function(l){e.has(o,l)||a(l)}),s}return Zf}var Jf,Ww;function m6(){if(Ww)return Jf;Ww=1;var e=Ot(),t=Gk();Jf=n;function n(r){return e.filter(t(r),function(i){return i.length>1||i.length===1&&r.hasEdge(i[0],i[0])})}return Jf}var eh,Gw;function g6(){if(Gw)return eh;Gw=1;var e=Ot();eh=n;var t=e.constant(1);function n(i,o,s){return r(i,o||t,s||function(a){return i.outEdges(a)})}function r(i,o,s){var a={},l=i.nodes();return l.forEach(function(u){a[u]={},a[u][u]={distance:0},l.forEach(function(c){u!==c&&(a[u][c]={distance:Number.POSITIVE_INFINITY})}),s(u).forEach(function(c){var f=c.v===u?c.w:c.v,h=o(c);a[u][f]={distance:h,predecessor:u}})}),l.forEach(function(u){var c=a[u];l.forEach(function(f){var h=a[f];l.forEach(function(p){var y=h[u],v=c[p],_=h[p],g=y.distance+v.distance;g<_.distance&&(_.distance=g,_.predecessor=v.predecessor)})})}),a}return eh}var th,Kw;function Kk(){if(Kw)return th;Kw=1;var e=Ot();th=t,t.CycleException=n;function t(r){var i={},o={},s=[];function a(l){if(e.has(o,l))throw new n;e.has(i,l)||(o[l]=!0,i[l]=!0,e.each(r.predecessors(l),a),delete o[l],s.push(l))}if(e.each(r.sinks(),a),e.size(i)!==r.nodeCount())throw new n;return s}function n(){}return n.prototype=new Error,th}var nh,Yw;function v6(){if(Yw)return nh;Yw=1;var e=Kk();nh=t;function t(n){try{e(n)}catch(r){if(r instanceof e.CycleException)return!1;throw r}return!0}return nh}var rh,Xw;function Yk(){if(Xw)return rh;Xw=1;var e=Ot();rh=t;function t(r,i,o){e.isArray(i)||(i=[i]);var s=(r.isDirected()?r.successors:r.neighbors).bind(r),a=[],l={};return e.each(i,function(u){if(!r.hasNode(u))throw new Error("Graph does not have node: "+u);n(r,u,o==="post",l,s,a)}),a}function n(r,i,o,s,a,l){e.has(s,i)||(s[i]=!0,o||l.push(i),e.each(a(i),function(u){n(r,u,o,s,a,l)}),o&&l.push(i))}return rh}var ih,Qw;function y6(){if(Qw)return ih;Qw=1;var e=Yk();ih=t;function t(n,r){return e(n,r,"post")}return ih}var oh,Zw;function x6(){if(Zw)return oh;Zw=1;var e=Yk();oh=t;function t(n,r){return e(n,r,"pre")}return oh}var sh,Jw;function w6(){if(Jw)return sh;Jw=1;var e=Ot(),t=Kg(),n=Uk();sh=r;function r(i,o){var s=new t,a={},l=new n,u;function c(h){var p=h.v===u?h.w:h.v,y=l.priority(p);if(y!==void 0){var v=o(h);v<y&&(a[p]=u,l.decrease(p,v))}}if(i.nodeCount()===0)return s;e.each(i.nodes(),function(h){l.add(h,Number.POSITIVE_INFINITY),s.setNode(h)}),l.decrease(i.nodes()[0],0);for(var f=!1;l.size()>0;){if(u=l.removeMin(),e.has(a,u))s.setEdge(u,a[u]);else{if(f)throw new Error("Input graph is not connected: "+i);f=!0}i.nodeEdges(u).forEach(c)}return s}return sh}var ah,e_;function _6(){return e_||(e_=1,ah={components:h6(),dijkstra:Wk(),dijkstraAll:p6(),findCycles:m6(),floydWarshall:g6(),isAcyclic:v6(),postorder:y6(),preorder:x6(),prim:w6(),tarjan:Gk(),topsort:Kk()}),ah}var lh,t_;function b6(){if(t_)return lh;t_=1;var e=d6();return lh={Graph:e.Graph,json:f6(),alg:_6(),version:e.version},lh}var Ma;if(typeof Pg=="function")try{Ma=b6()}catch{}Ma||(Ma=window.graphlib);var Kt=Ma,uh,n_;function S6(){if(n_)return uh;n_=1;var e=wk(),t=1,n=4;function r(i){return e(i,t|n)}return uh=r,uh}var ch,r_;function Sl(){if(r_)return ch;r_=1;var e=Ci(),t=In(),n=pl(),r=At();function i(o,s,a){if(!r(a))return!1;var l=typeof s;return(l=="number"?t(a)&&n(s,a.length):l=="string"&&s in a)?e(a[s],o):!1}return ch=i,ch}var dh,i_;function E6(){if(i_)return dh;i_=1;var e=bl(),t=Ci(),n=Sl(),r=zr(),i=Object.prototype,o=i.hasOwnProperty,s=e(function(a,l){a=Object(a);var u=-1,c=l.length,f=c>2?l[2]:void 0;for(f&&n(l[0],l[1],f)&&(c=1);++u<c;)for(var h=l[u],p=r(h),y=-1,v=p.length;++y<v;){var _=p[y],g=a[_];(g===void 0||t(g,i[_])&&!o.call(a,_))&&(a[_]=h[_])}return a});return dh=s,dh}var fh,o_;function k6(){if(o_)return fh;o_=1;var e=Rn(),t=In(),n=cr();function r(i){return function(o,s,a){var l=Object(o);if(!t(o)){var u=e(s,3);o=n(o),s=function(f){return u(l[f],f,l)}}var c=i(o,s,a);return c>-1?l[u?o[c]:c]:void 0}}return fh=r,fh}var hh,s_;function N6(){if(s_)return hh;s_=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return hh=t,hh}var ph,a_;function j6(){if(a_)return ph;a_=1;var e=N6(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return ph=n,ph}var mh,l_;function C6(){if(l_)return mh;l_=1;var e=j6(),t=At(),n=Pi(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt;function l(u){if(typeof u=="number")return u;if(n(u))return r;if(t(u)){var c=typeof u.valueOf=="function"?u.valueOf():u;u=t(c)?c+"":c}if(typeof u!="string")return u===0?u:+u;u=e(u);var f=o.test(u);return f||s.test(u)?a(u.slice(2),f?2:8):i.test(u)?r:+u}return mh=l,mh}var gh,u_;function Xk(){if(u_)return gh;u_=1;var e=C6(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var o=i<0?-1:1;return o*n}return i===i?i:0}return gh=r,gh}var vh,c_;function T6(){if(c_)return vh;c_=1;var e=Xk();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return vh=t,vh}var yh,d_;function I6(){if(d_)return yh;d_=1;var e=Bk(),t=Rn(),n=T6(),r=Math.max;function i(o,s,a){var l=o==null?0:o.length;if(!l)return-1;var u=a==null?0:n(a);return u<0&&(u=r(l+u,0)),e(o,t(s,3),u)}return yh=i,yh}var xh,f_;function R6(){if(f_)return xh;f_=1;var e=k6(),t=I6(),n=e(t);return xh=n,xh}var wh,h_;function Qk(){if(h_)return wh;h_=1;var e=Gg();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return wh=t,wh}var _h,p_;function P6(){if(p_)return _h;p_=1;var e=Hg(),t=_k(),n=zr();function r(i,o){return i==null?i:e(i,t(o),n)}return _h=r,_h}var bh,m_;function M6(){if(m_)return bh;m_=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return bh=e,bh}var Sh,g_;function A6(){if(g_)return Sh;g_=1;var e=fl(),t=Vg(),n=Rn();function r(i,o){var s={};return o=n(o,3),t(i,function(a,l,u){e(s,l,o(a,l,u))}),s}return Sh=r,Sh}var Eh,v_;function Yg(){if(v_)return Eh;v_=1;var e=Pi();function t(n,r,i){for(var o=-1,s=n.length;++o<s;){var a=n[o],l=r(a);if(l!=null&&(u===void 0?l===l&&!e(l):i(l,u)))var u=l,c=a}return c}return Eh=t,Eh}var kh,y_;function O6(){if(y_)return kh;y_=1;function e(t,n){return t>n}return kh=e,kh}var Nh,x_;function q6(){if(x_)return Nh;x_=1;var e=Yg(),t=O6(),n=Dr();function r(i){return i&&i.length?e(i,n,t):void 0}return Nh=r,Nh}var jh,w_;function Zk(){if(w_)return jh;w_=1;var e=fl(),t=Ci();function n(r,i,o){(o!==void 0&&!t(r[i],o)||o===void 0&&!(i in r))&&e(r,i,o)}return jh=n,jh}var Ch,__;function L6(){if(__)return Ch;__=1;var e=qr(),t=vl(),n=ln(),r="[object Object]",i=Function.prototype,o=Object.prototype,s=i.toString,a=o.hasOwnProperty,l=s.call(Object);function u(c){if(!n(c)||e(c)!=r)return!1;var f=t(c);if(f===null)return!0;var h=a.call(f,"constructor")&&f.constructor;return typeof h=="function"&&h instanceof h&&s.call(h)==l}return Ch=u,Ch}var Th,b_;function Jk(){if(b_)return Th;b_=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return Th=e,Th}var Ih,S_;function z6(){if(S_)return Ih;S_=1;var e=Jo(),t=zr();function n(r){return e(r,t(r))}return Ih=n,Ih}var Rh,E_;function D6(){if(E_)return Rh;E_=1;var e=Zk(),t=lk(),n=vk(),r=uk(),i=xk(),o=es(),s=qe(),a=Hk(),l=Ii(),u=Zo(),c=At(),f=L6(),h=ts(),p=Jk(),y=z6();function v(_,g,m,x,w,S,E){var N=p(_,m),C=p(g,m),I=E.get(C);if(I){e(_,m,I);return}var O=S?S(N,C,m+"",_,g,E):void 0,q=O===void 0;if(q){var F=s(C),L=!F&&l(C),b=!F&&!L&&h(C);O=C,F||L||b?s(N)?O=N:a(N)?O=r(N):L?(q=!1,O=t(C,!0)):b?(q=!1,O=n(C,!0)):O=[]:f(C)||o(C)?(O=N,o(N)?O=y(N):(!c(N)||u(N))&&(O=i(C))):q=!1}q&&(E.set(C,O),w(O,C,x,S,E),E.delete(C)),e(_,m,O)}return Rh=v,Rh}var Ph,k_;function F6(){if(k_)return Ph;k_=1;var e=dl(),t=Zk(),n=Hg(),r=D6(),i=At(),o=zr(),s=Jk();function a(l,u,c,f,h){l!==u&&n(u,function(p,y){if(h||(h=new e),i(p))r(l,u,y,c,a,f,h);else{var v=f?f(s(l,y),p,y+"",l,u,h):void 0;v===void 0&&(v=p),t(l,y,v)}},o)}return Ph=a,Ph}var Mh,N_;function $6(){if(N_)return Mh;N_=1;var e=bl(),t=Sl();function n(r){return e(function(i,o){var s=-1,a=o.length,l=a>1?o[a-1]:void 0,u=a>2?o[2]:void 0;for(l=r.length>3&&typeof l=="function"?(a--,l):void 0,u&&t(o[0],o[1],u)&&(l=a<3?void 0:l,a=1),i=Object(i);++s<a;){var c=o[s];c&&r(i,c,s,l)}return i})}return Mh=n,Mh}var Ah,j_;function B6(){if(j_)return Ah;j_=1;var e=F6(),t=$6(),n=t(function(r,i,o){e(r,i,o)});return Ah=n,Ah}var Oh,C_;function eN(){if(C_)return Oh;C_=1;function e(t,n){return t<n}return Oh=e,Oh}var qh,T_;function H6(){if(T_)return qh;T_=1;var e=Yg(),t=eN(),n=Dr();function r(i){return i&&i.length?e(i,n,t):void 0}return qh=r,qh}var Lh,I_;function V6(){if(I_)return Lh;I_=1;var e=Yg(),t=Rn(),n=eN();function r(i,o){return i&&i.length?e(i,t(o,2),n):void 0}return Lh=r,Lh}var zh,R_;function U6(){if(R_)return zh;R_=1;var e=Gt(),t=function(){return e.Date.now()};return zh=t,zh}var Dh,P_;function W6(){if(P_)return Dh;P_=1;var e=hl(),t=wl(),n=pl(),r=At(),i=ns();function o(s,a,l,u){if(!r(s))return s;a=t(a,s);for(var c=-1,f=a.length,h=f-1,p=s;p!=null&&++c<f;){var y=i(a[c]),v=l;if(y==="__proto__"||y==="constructor"||y==="prototype")return s;if(c!=h){var _=p[y];v=u?u(_,y,p):void 0,v===void 0&&(v=r(_)?_:n(a[c+1])?[]:{})}e(p,y,v),p=p[y]}return s}return Dh=o,Dh}var Fh,M_;function G6(){if(M_)return Fh;M_=1;var e=_l(),t=W6(),n=wl();function r(i,o,s){for(var a=-1,l=o.length,u={};++a<l;){var c=o[a],f=e(i,c);s(f,c)&&t(u,n(c,i),f)}return u}return Fh=r,Fh}var $h,A_;function K6(){if(A_)return $h;A_=1;var e=G6(),t=Pk();function n(r,i){return e(r,i,function(o,s){return t(r,s)})}return $h=n,$h}var Bh,O_;function Y6(){if(O_)return Bh;O_=1;var e=Qk(),t=Fk(),n=$k();function r(i){return n(t(i,void 0,e),i+"")}return Bh=r,Bh}var Hh,q_;function X6(){if(q_)return Hh;q_=1;var e=K6(),t=Y6(),n=t(function(r,i){return r==null?{}:e(r,i)});return Hh=n,Hh}var Vh,L_;function Q6(){if(L_)return Vh;L_=1;var e=Math.ceil,t=Math.max;function n(r,i,o,s){for(var a=-1,l=t(e((i-r)/(o||1)),0),u=Array(l);l--;)u[s?l:++a]=r,r+=o;return u}return Vh=n,Vh}var Uh,z_;function Z6(){if(z_)return Uh;z_=1;var e=Q6(),t=Sl(),n=Xk();function r(i){return function(o,s,a){return a&&typeof a!="number"&&t(o,s,a)&&(s=a=void 0),o=n(o),s===void 0?(s=o,o=0):s=n(s),a=a===void 0?o<s?1:-1:n(a),e(o,s,a,i)}}return Uh=r,Uh}var Wh,D_;function J6(){if(D_)return Wh;D_=1;var e=Z6(),t=e();return Wh=t,Wh}var Gh,F_;function e8(){if(F_)return Gh;F_=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return Gh=e,Gh}var Kh,$_;function t8(){if($_)return Kh;$_=1;var e=Pi();function t(n,r){if(n!==r){var i=n!==void 0,o=n===null,s=n===n,a=e(n),l=r!==void 0,u=r===null,c=r===r,f=e(r);if(!u&&!f&&!a&&n>r||a&&l&&c&&!u&&!f||o&&l&&c||!i&&c||!s)return 1;if(!o&&!a&&!f&&n<r||f&&i&&s&&!o&&!a||u&&i&&s||!l&&s||!c)return-1}return 0}return Kh=t,Kh}var Yh,B_;function n8(){if(B_)return Yh;B_=1;var e=t8();function t(n,r,i){for(var o=-1,s=n.criteria,a=r.criteria,l=s.length,u=i.length;++o<l;){var c=e(s[o],a[o]);if(c){if(o>=u)return c;var f=i[o];return c*(f=="desc"?-1:1)}}return n.index-r.index}return Yh=t,Yh}var Xh,H_;function r8(){if(H_)return Xh;H_=1;var e=xl(),t=_l(),n=Rn(),r=Lk(),i=e8(),o=ml(),s=n8(),a=Dr(),l=qe();function u(c,f,h){f.length?f=e(f,function(v){return l(v)?function(_){return t(_,v.length===1?v[0]:v)}:v}):f=[a];var p=-1;f=e(f,o(n));var y=r(c,function(v,_,g){var m=e(f,function(x){return x(v)});return{criteria:m,index:++p,value:v}});return i(y,function(v,_){return s(v,_,h)})}return Xh=u,Xh}var Qh,V_;function i8(){if(V_)return Qh;V_=1;var e=Gg(),t=r8(),n=bl(),r=Sl(),i=n(function(o,s){if(o==null)return[];var a=s.length;return a>1&&r(o,s[0],s[1])?s=[]:a>2&&r(s[0],s[1],s[2])&&(s=[s[0]]),t(o,e(s,1),[])});return Qh=i,Qh}var Zh,U_;function o8(){if(U_)return Zh;U_=1;var e=Ik(),t=0;function n(r){var i=++t;return e(r)+i}return Zh=n,Zh}var Jh,W_;function s8(){if(W_)return Jh;W_=1;function e(t,n,r){for(var i=-1,o=t.length,s=n.length,a={};++i<o;){var l=i<s?n[i]:void 0;r(a,t[i],l)}return a}return Jh=e,Jh}var ep,G_;function a8(){if(G_)return ep;G_=1;var e=hl(),t=s8();function n(r,i){return t(r||[],i||[],e)}return ep=n,ep}var Aa;if(typeof Pg=="function")try{Aa={cloneDeep:S6(),constant:Bg(),defaults:E6(),each:Sk(),filter:Ak(),find:R6(),flatten:Qk(),forEach:bk(),forIn:P6(),has:Ok(),isUndefined:qk(),last:M6(),map:zk(),mapValues:A6(),max:q6(),merge:B6(),min:H6(),minBy:V6(),now:U6(),pick:X6(),range:J6(),reduce:Dk(),sortBy:i8(),uniqueId:o8(),values:Vk(),zipObject:a8()}}catch{}Aa||(Aa=window._);var Se=Aa,l8=El;function El(){var e={};e._next=e._prev=e,this._sentinel=e}El.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return tN(t),t};El.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&tN(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};El.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,u8)),n=n._prev;return"["+e.join(", ")+"]"};function tN(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function u8(e,t){if(e!=="_next"&&e!=="_prev")return t}var yn=Se,c8=Kt.Graph,d8=l8,f8=p8,h8=yn.constant(1);function p8(e,t){if(e.nodeCount()<=1)return[];var n=g8(e,t||h8),r=m8(n.graph,n.buckets,n.zeroIdx);return yn.flatten(yn.map(r,function(i){return e.outEdges(i.v,i.w)}),!0)}function m8(e,t,n){for(var r=[],i=t[t.length-1],o=t[0],s;e.nodeCount();){for(;s=o.dequeue();)tp(e,t,n,s);for(;s=i.dequeue();)tp(e,t,n,s);if(e.nodeCount()){for(var a=t.length-2;a>0;--a)if(s=t[a].dequeue(),s){r=r.concat(tp(e,t,n,s,!0));break}}}return r}function tp(e,t,n,r,i){var o=i?[]:void 0;return yn.forEach(e.inEdges(r.v),function(s){var a=e.edge(s),l=e.node(s.v);i&&o.push({v:s.v,w:s.w}),l.out-=a,gm(t,n,l)}),yn.forEach(e.outEdges(r.v),function(s){var a=e.edge(s),l=s.w,u=e.node(l);u.in-=a,gm(t,n,u)}),e.removeNode(r.v),o}function g8(e,t){var n=new c8,r=0,i=0;yn.forEach(e.nodes(),function(a){n.setNode(a,{v:a,in:0,out:0})}),yn.forEach(e.edges(),function(a){var l=n.edge(a.v,a.w)||0,u=t(a),c=l+u;n.setEdge(a.v,a.w,c),i=Math.max(i,n.node(a.v).out+=u),r=Math.max(r,n.node(a.w).in+=u)});var o=yn.range(i+r+3).map(function(){return new d8}),s=r+1;return yn.forEach(n.nodes(),function(a){gm(o,s,n.node(a))}),{graph:n,buckets:o,zeroIdx:s}}function gm(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var br=Se,v8=f8,y8={run:x8,undo:_8};function x8(e){var t=e.graph().acyclicer==="greedy"?v8(e,n(e)):w8(e);br.forEach(t,function(r){var i=e.edge(r);e.removeEdge(r),i.forwardName=r.name,i.reversed=!0,e.setEdge(r.w,r.v,i,br.uniqueId("rev"))});function n(r){return function(i){return r.edge(i).weight}}}function w8(e){var t=[],n={},r={};function i(o){br.has(r,o)||(r[o]=!0,n[o]=!0,br.forEach(e.outEdges(o),function(s){br.has(n,s.w)?t.push(s):i(s.w)}),delete n[o])}return br.forEach(e.nodes(),i),t}function _8(e){br.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}var fe=Se,nN=Kt.Graph,pt={addDummyNode:rN,simplify:b8,asNonCompoundGraph:S8,successorWeights:E8,predecessorWeights:k8,intersectRect:N8,buildLayerMatrix:j8,normalizeRanks:C8,removeEmptyRanks:T8,addBorderNode:I8,maxRank:iN,partition:R8,time:P8,notime:M8};function rN(e,t,n,r){var i;do i=fe.uniqueId(r);while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function b8(e){var t=new nN().setGraph(e.graph());return fe.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),fe.forEach(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),t}function S8(e){var t=new nN({multigraph:e.isMultigraph()}).setGraph(e.graph());return fe.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),fe.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t}function E8(e){var t=fe.map(e.nodes(),function(n){var r={};return fe.forEach(e.outEdges(n),function(i){r[i.w]=(r[i.w]||0)+e.edge(i).weight}),r});return fe.zipObject(e.nodes(),t)}function k8(e){var t=fe.map(e.nodes(),function(n){var r={};return fe.forEach(e.inEdges(n),function(i){r[i.v]=(r[i.v]||0)+e.edge(i).weight}),r});return fe.zipObject(e.nodes(),t)}function N8(e,t){var n=e.x,r=e.y,i=t.x-n,o=t.y-r,s=e.width/2,a=e.height/2;if(!i&&!o)throw new Error("Not possible to find intersection inside of the rectangle");var l,u;return Math.abs(o)*s>Math.abs(i)*a?(o<0&&(a=-a),l=a*i/o,u=a):(i<0&&(s=-s),l=s,u=s*o/i),{x:n+l,y:r+u}}function j8(e){var t=fe.map(fe.range(iN(e)+1),function(){return[]});return fe.forEach(e.nodes(),function(n){var r=e.node(n),i=r.rank;fe.isUndefined(i)||(t[i][r.order]=n)}),t}function C8(e){var t=fe.min(fe.map(e.nodes(),function(n){return e.node(n).rank}));fe.forEach(e.nodes(),function(n){var r=e.node(n);fe.has(r,"rank")&&(r.rank-=t)})}function T8(e){var t=fe.min(fe.map(e.nodes(),function(o){return e.node(o).rank})),n=[];fe.forEach(e.nodes(),function(o){var s=e.node(o).rank-t;n[s]||(n[s]=[]),n[s].push(o)});var r=0,i=e.graph().nodeRankFactor;fe.forEach(n,function(o,s){fe.isUndefined(o)&&s%i!==0?--r:r&&fe.forEach(o,function(a){e.node(a).rank+=r})})}function I8(e,t,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),rN(e,"border",i,t)}function iN(e){return fe.max(fe.map(e.nodes(),function(t){var n=e.node(t).rank;if(!fe.isUndefined(n))return n}))}function R8(e,t){var n={lhs:[],rhs:[]};return fe.forEach(e,function(r){t(r)?n.lhs.push(r):n.rhs.push(r)}),n}function P8(e,t){var n=fe.now();try{return t()}finally{console.log(e+" time: "+(fe.now()-n)+"ms")}}function M8(e,t){return t()}var oN=Se,A8=pt,O8={run:q8,undo:z8};function q8(e){e.graph().dummyChains=[],oN.forEach(e.edges(),function(t){L8(e,t)})}function L8(e,t){var n=t.v,r=e.node(n).rank,i=t.w,o=e.node(i).rank,s=t.name,a=e.edge(t),l=a.labelRank;if(o!==r+1){e.removeEdge(t);var u,c,f;for(f=0,++r;r<o;++f,++r)a.points=[],c={width:0,height:0,edgeLabel:a,edgeObj:t,rank:r},u=A8.addDummyNode(e,"edge",c,"_d"),r===l&&(c.width=a.width,c.height=a.height,c.dummy="edge-label",c.labelpos=a.labelpos),e.setEdge(n,u,{weight:a.weight},s),f===0&&e.graph().dummyChains.push(u),n=u;e.setEdge(n,i,{weight:a.weight},s)}}function z8(e){oN.forEach(e.graph().dummyChains,function(t){var n=e.node(t),r=n.edgeLabel,i;for(e.setEdge(n.edgeObj,r);n.dummy;)i=e.successors(t)[0],e.removeNode(t),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),t=i,n=e.node(t)})}var Ps=Se,kl={longestPath:D8,slack:F8};function D8(e){var t={};function n(r){var i=e.node(r);if(Ps.has(t,r))return i.rank;t[r]=!0;var o=Ps.min(Ps.map(e.outEdges(r),function(s){return n(s.w)-e.edge(s).minlen}));return(o===Number.POSITIVE_INFINITY||o===void 0||o===null)&&(o=0),i.rank=o}Ps.forEach(e.sources(),n)}function F8(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var Oa=Se,$8=Kt.Graph,qa=kl.slack,sN=B8;function B8(e){var t=new $8({directed:!1}),n=e.nodes()[0],r=e.nodeCount();t.setNode(n,{});for(var i,o;H8(t,e)<r;)i=V8(t,e),o=t.hasNode(i.v)?qa(e,i):-qa(e,i),U8(t,e,o);return t}function H8(e,t){function n(r){Oa.forEach(t.nodeEdges(r),function(i){var o=i.v,s=r===o?i.w:o;!e.hasNode(s)&&!qa(t,i)&&(e.setNode(s,{}),e.setEdge(r,s,{}),n(s))})}return Oa.forEach(e.nodes(),n),e.nodeCount()}function V8(e,t){return Oa.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return qa(t,n)})}function U8(e,t,n){Oa.forEach(e.nodes(),function(r){t.node(r).rank+=n})}var Cn=Se,W8=sN,G8=kl.slack,K8=kl.longestPath,Y8=Kt.alg.preorder,X8=Kt.alg.postorder,Q8=pt.simplify,Z8=Fr;Fr.initLowLimValues=Qg;Fr.initCutValues=Xg;Fr.calcCutValue=aN;Fr.leaveEdge=uN;Fr.enterEdge=cN;Fr.exchangeEdges=dN;function Fr(e){e=Q8(e),K8(e);var t=W8(e);Qg(t),Xg(t,e);for(var n,r;n=uN(t);)r=cN(t,e,n),dN(t,e,n,r)}function Xg(e,t){var n=X8(e,e.nodes());n=n.slice(0,n.length-1),Cn.forEach(n,function(r){J8(e,t,r)})}function J8(e,t,n){var r=e.node(n),i=r.parent;e.edge(n,i).cutvalue=aN(e,t,n)}function aN(e,t,n){var r=e.node(n),i=r.parent,o=!0,s=t.edge(n,i),a=0;return s||(o=!1,s=t.edge(i,n)),a=s.weight,Cn.forEach(t.nodeEdges(n),function(l){var u=l.v===n,c=u?l.w:l.v;if(c!==i){var f=u===o,h=t.edge(l).weight;if(a+=f?h:-h,tO(e,n,c)){var p=e.edge(n,c).cutvalue;a+=f?-p:p}}}),a}function Qg(e,t){arguments.length<2&&(t=e.nodes()[0]),lN(e,{},1,t)}function lN(e,t,n,r,i){var o=n,s=e.node(r);return t[r]=!0,Cn.forEach(e.neighbors(r),function(a){Cn.has(t,a)||(n=lN(e,t,n,a,r))}),s.low=o,s.lim=n++,i?s.parent=i:delete s.parent,n}function uN(e){return Cn.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function cN(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var o=e.node(r),s=e.node(i),a=o,l=!1;o.lim>s.lim&&(a=s,l=!0);var u=Cn.filter(t.edges(),function(c){return l===K_(e,e.node(c.v),a)&&l!==K_(e,e.node(c.w),a)});return Cn.minBy(u,function(c){return G8(t,c)})}function dN(e,t,n,r){var i=n.v,o=n.w;e.removeEdge(i,o),e.setEdge(r.v,r.w,{}),Qg(e),Xg(e,t),eO(e,t)}function eO(e,t){var n=Cn.find(e.nodes(),function(i){return!t.node(i).parent}),r=Y8(e,n);r=r.slice(1),Cn.forEach(r,function(i){var o=e.node(i).parent,s=t.edge(i,o),a=!1;s||(s=t.edge(o,i),a=!0),t.node(i).rank=t.node(o).rank+(a?s.minlen:-s.minlen)})}function tO(e,t,n){return e.hasEdge(t,n)}function K_(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}var nO=kl,fN=nO.longestPath,rO=sN,iO=Z8,oO=sO;function sO(e){switch(e.graph().ranker){case"network-simplex":Y_(e);break;case"tight-tree":lO(e);break;case"longest-path":aO(e);break;default:Y_(e)}}var aO=fN;function lO(e){fN(e),rO(e)}function Y_(e){iO(e)}var vm=Se,uO=cO;function cO(e){var t=fO(e);vm.forEach(e.graph().dummyChains,function(n){for(var r=e.node(n),i=r.edgeObj,o=dO(e,t,i.v,i.w),s=o.path,a=o.lca,l=0,u=s[l],c=!0;n!==i.w;){if(r=e.node(n),c){for(;(u=s[l])!==a&&e.node(u).maxRank<r.rank;)l++;u===a&&(c=!1)}if(!c){for(;l<s.length-1&&e.node(u=s[l+1]).minRank<=r.rank;)l++;u=s[l]}e.setParent(n,u),n=e.successors(n)[0]}})}function dO(e,t,n,r){var i=[],o=[],s=Math.min(t[n].low,t[r].low),a=Math.max(t[n].lim,t[r].lim),l,u;l=n;do l=e.parent(l),i.push(l);while(l&&(t[l].low>s||a>t[l].lim));for(u=l,l=r;(l=e.parent(l))!==u;)o.push(l);return{path:i.concat(o.reverse()),lca:u}}function fO(e){var t={},n=0;function r(i){var o=n;vm.forEach(e.children(i),r),t[i]={low:o,lim:n++}}return vm.forEach(e.children(),r),t}var xn=Se,ym=pt,hO={run:pO,cleanup:vO};function pO(e){var t=ym.addDummyNode(e,"root",{},"_root"),n=mO(e),r=xn.max(xn.values(n))-1,i=2*r+1;e.graph().nestingRoot=t,xn.forEach(e.edges(),function(s){e.edge(s).minlen*=i});var o=gO(e)+1;xn.forEach(e.children(),function(s){hN(e,t,i,o,r,n,s)}),e.graph().nodeRankFactor=i}function hN(e,t,n,r,i,o,s){var a=e.children(s);if(!a.length){s!==t&&e.setEdge(t,s,{weight:0,minlen:n});return}var l=ym.addBorderNode(e,"_bt"),u=ym.addBorderNode(e,"_bb"),c=e.node(s);e.setParent(l,s),c.borderTop=l,e.setParent(u,s),c.borderBottom=u,xn.forEach(a,function(f){hN(e,t,n,r,i,o,f);var h=e.node(f),p=h.borderTop?h.borderTop:f,y=h.borderBottom?h.borderBottom:f,v=h.borderTop?r:2*r,_=p!==y?1:i-o[s]+1;e.setEdge(l,p,{weight:v,minlen:_,nestingEdge:!0}),e.setEdge(y,u,{weight:v,minlen:_,nestingEdge:!0})}),e.parent(s)||e.setEdge(t,l,{weight:0,minlen:i+o[s]})}function mO(e){var t={};function n(r,i){var o=e.children(r);o&&o.length&&xn.forEach(o,function(s){n(s,i+1)}),t[r]=i}return xn.forEach(e.children(),function(r){n(r,1)}),t}function gO(e){return xn.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}function vO(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,xn.forEach(e.edges(),function(n){var r=e.edge(n);r.nestingEdge&&e.removeEdge(n)})}var np=Se,yO=pt,xO=wO;function wO(e){function t(n){var r=e.children(n),i=e.node(n);if(r.length&&np.forEach(r,t),np.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,s=i.maxRank+1;o<s;++o)X_(e,"borderLeft","_bl",n,i,o),X_(e,"borderRight","_br",n,i,o)}}np.forEach(e.children(),t)}function X_(e,t,n,r,i,o){var s={width:0,height:0,rank:o,borderType:t},a=i[t][o-1],l=yO.addDummyNode(e,"border",s,n);i[t][o]=l,e.setParent(l,r),a&&e.setEdge(a,l,{weight:1})}var nn=Se,_O={adjust:bO,undo:SO};function bO(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&pN(e)}function SO(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&EO(e),(t==="lr"||t==="rl")&&(kO(e),pN(e))}function pN(e){nn.forEach(e.nodes(),function(t){Q_(e.node(t))}),nn.forEach(e.edges(),function(t){Q_(e.edge(t))})}function Q_(e){var t=e.width;e.width=e.height,e.height=t}function EO(e){nn.forEach(e.nodes(),function(t){rp(e.node(t))}),nn.forEach(e.edges(),function(t){var n=e.edge(t);nn.forEach(n.points,rp),nn.has(n,"y")&&rp(n)})}function rp(e){e.y=-e.y}function kO(e){nn.forEach(e.nodes(),function(t){ip(e.node(t))}),nn.forEach(e.edges(),function(t){var n=e.edge(t);nn.forEach(n.points,ip),nn.has(n,"x")&&ip(n)})}function ip(e){var t=e.x;e.x=e.y,e.y=t}var fn=Se,NO=jO;function jO(e){var t={},n=fn.filter(e.nodes(),function(a){return!e.children(a).length}),r=fn.max(fn.map(n,function(a){return e.node(a).rank})),i=fn.map(fn.range(r+1),function(){return[]});function o(a){if(!fn.has(t,a)){t[a]=!0;var l=e.node(a);i[l.rank].push(a),fn.forEach(e.successors(a),o)}}var s=fn.sortBy(n,function(a){return e.node(a).rank});return fn.forEach(s,o),i}var On=Se,CO=TO;function TO(e,t){for(var n=0,r=1;r<t.length;++r)n+=IO(e,t[r-1],t[r]);return n}function IO(e,t,n){for(var r=On.zipObject(n,On.map(n,function(u,c){return c})),i=On.flatten(On.map(t,function(u){return On.sortBy(On.map(e.outEdges(u),function(c){return{pos:r[c.w],weight:e.edge(c).weight}}),"pos")}),!0),o=1;o<n.length;)o<<=1;var s=2*o-1;o-=1;var a=On.map(new Array(s),function(){return 0}),l=0;return On.forEach(i.forEach(function(u){var c=u.pos+o;a[c]+=u.weight;for(var f=0;c>0;)c%2&&(f+=a[c+1]),c=c-1>>1,a[c]+=u.weight;l+=u.weight*f})),l}var Z_=Se,RO=PO;function PO(e,t){return Z_.map(t,function(n){var r=e.inEdges(n);if(r.length){var i=Z_.reduce(r,function(o,s){var a=e.edge(s),l=e.node(s.v);return{sum:o.sum+a.weight*l.order,weight:o.weight+a.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:n}})}var yt=Se,MO=AO;function AO(e,t){var n={};yt.forEach(e,function(i,o){var s=n[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:o};yt.isUndefined(i.barycenter)||(s.barycenter=i.barycenter,s.weight=i.weight)}),yt.forEach(t.edges(),function(i){var o=n[i.v],s=n[i.w];!yt.isUndefined(o)&&!yt.isUndefined(s)&&(s.indegree++,o.out.push(n[i.w]))});var r=yt.filter(n,function(i){return!i.indegree});return OO(r)}function OO(e){var t=[];function n(o){return function(s){s.merged||(yt.isUndefined(s.barycenter)||yt.isUndefined(o.barycenter)||s.barycenter>=o.barycenter)&&qO(o,s)}}function r(o){return function(s){s.in.push(o),--s.indegree===0&&e.push(s)}}for(;e.length;){var i=e.pop();t.push(i),yt.forEach(i.in.reverse(),n(i)),yt.forEach(i.out,r(i))}return yt.map(yt.filter(t,function(o){return!o.merged}),function(o){return yt.pick(o,["vs","i","barycenter","weight"])})}function qO(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}var io=Se,LO=pt,zO=DO;function DO(e,t){var n=LO.partition(e,function(c){return io.has(c,"barycenter")}),r=n.lhs,i=io.sortBy(n.rhs,function(c){return-c.i}),o=[],s=0,a=0,l=0;r.sort(FO(!!t)),l=J_(o,i,l),io.forEach(r,function(c){l+=c.vs.length,o.push(c.vs),s+=c.barycenter*c.weight,a+=c.weight,l=J_(o,i,l)});var u={vs:io.flatten(o,!0)};return a&&(u.barycenter=s/a,u.weight=a),u}function J_(e,t,n){for(var r;t.length&&(r=io.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}function FO(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}var Vn=Se,$O=RO,BO=MO,HO=zO,VO=mN;function mN(e,t,n,r){var i=e.children(t),o=e.node(t),s=o?o.borderLeft:void 0,a=o?o.borderRight:void 0,l={};s&&(i=Vn.filter(i,function(y){return y!==s&&y!==a}));var u=$O(e,i);Vn.forEach(u,function(y){if(e.children(y.v).length){var v=mN(e,y.v,n,r);l[y.v]=v,Vn.has(v,"barycenter")&&WO(y,v)}});var c=BO(u,n);UO(c,l);var f=HO(c,r);if(s&&(f.vs=Vn.flatten([s,f.vs,a],!0),e.predecessors(s).length)){var h=e.node(e.predecessors(s)[0]),p=e.node(e.predecessors(a)[0]);Vn.has(f,"barycenter")||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+h.order+p.order)/(f.weight+2),f.weight+=2}return f}function UO(e,t){Vn.forEach(e,function(n){n.vs=Vn.flatten(n.vs.map(function(r){return t[r]?t[r].vs:r}),!0)})}function WO(e,t){Vn.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var oo=Se,GO=Kt.Graph,KO=YO;function YO(e,t,n){var r=XO(e),i=new GO({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(o){return e.node(o)});return oo.forEach(e.nodes(),function(o){var s=e.node(o),a=e.parent(o);(s.rank===t||s.minRank<=t&&t<=s.maxRank)&&(i.setNode(o),i.setParent(o,a||r),oo.forEach(e[n](o),function(l){var u=l.v===o?l.w:l.v,c=i.edge(u,o),f=oo.isUndefined(c)?0:c.weight;i.setEdge(u,o,{weight:e.edge(l).weight+f})}),oo.has(s,"minRank")&&i.setNode(o,{borderLeft:s.borderLeft[t],borderRight:s.borderRight[t]}))}),i}function XO(e){for(var t;e.hasNode(t=oo.uniqueId("_root")););return t}var QO=Se,ZO=JO;function JO(e,t,n){var r={},i;QO.forEach(n,function(o){for(var s=e.parent(o),a,l;s;){if(a=e.parent(s),a?(l=r[a],r[a]=s):(l=i,i=s),l&&l!==s){t.setEdge(l,s);return}s=a}})}var nr=Se,eq=NO,tq=CO,nq=VO,rq=KO,iq=ZO,oq=Kt.Graph,eb=pt,sq=aq;function aq(e){var t=eb.maxRank(e),n=tb(e,nr.range(1,t+1),"inEdges"),r=tb(e,nr.range(t-1,-1,-1),"outEdges"),i=eq(e);nb(e,i);for(var o=Number.POSITIVE_INFINITY,s,a=0,l=0;l<4;++a,++l){lq(a%2?n:r,a%4>=2),i=eb.buildLayerMatrix(e);var u=tq(e,i);u<o&&(l=0,s=nr.cloneDeep(i),o=u)}nb(e,s)}function tb(e,t,n){return nr.map(t,function(r){return rq(e,r,n)})}function lq(e,t){var n=new oq;nr.forEach(e,function(r){var i=r.graph().root,o=nq(r,i,n,t);nr.forEach(o.vs,function(s,a){r.node(s).order=a}),iq(r,n,o.vs)})}function nb(e,t){nr.forEach(t,function(n){nr.forEach(n,function(r,i){e.node(r).order=i})})}var J=Se,uq=Kt.Graph,cq=pt,dq={positionX:bq};function fq(e,t){var n={};function r(i,o){var s=0,a=0,l=i.length,u=J.last(o);return J.forEach(o,function(c,f){var h=pq(e,c),p=h?e.node(h).order:l;(h||c===u)&&(J.forEach(o.slice(a,f+1),function(y){J.forEach(e.predecessors(y),function(v){var _=e.node(v),g=_.order;(g<s||p<g)&&!(_.dummy&&e.node(y).dummy)&&gN(n,v,y)})}),a=f+1,s=p)}),o}return J.reduce(t,r),n}function hq(e,t){var n={};function r(o,s,a,l,u){var c;J.forEach(J.range(s,a),function(f){c=o[f],e.node(c).dummy&&J.forEach(e.predecessors(c),function(h){var p=e.node(h);p.dummy&&(p.order<l||p.order>u)&&gN(n,h,c)})})}function i(o,s){var a=-1,l,u=0;return J.forEach(s,function(c,f){if(e.node(c).dummy==="border"){var h=e.predecessors(c);h.length&&(l=e.node(h[0]).order,r(s,u,f,a,l),u=f,a=l)}r(s,u,s.length,l,o.length)}),s}return J.reduce(t,i),n}function pq(e,t){if(e.node(t).dummy)return J.find(e.predecessors(t),function(n){return e.node(n).dummy})}function gN(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function mq(e,t,n){if(t>n){var r=t;t=n,n=r}return J.has(e[t],n)}function gq(e,t,n,r){var i={},o={},s={};return J.forEach(t,function(a){J.forEach(a,function(l,u){i[l]=l,o[l]=l,s[l]=u})}),J.forEach(t,function(a){var l=-1;J.forEach(a,function(u){var c=r(u);if(c.length){c=J.sortBy(c,function(v){return s[v]});for(var f=(c.length-1)/2,h=Math.floor(f),p=Math.ceil(f);h<=p;++h){var y=c[h];o[u]===u&&l<s[y]&&!mq(n,u,y)&&(o[y]=u,o[u]=i[u]=i[y],l=s[y])}}})}),{root:i,align:o}}function vq(e,t,n,r,i){var o={},s=yq(e,t,n,i),a=i?"borderLeft":"borderRight";function l(f,h){for(var p=s.nodes(),y=p.pop(),v={};y;)v[y]?f(y):(v[y]=!0,p.push(y),p=p.concat(h(y))),y=p.pop()}function u(f){o[f]=s.inEdges(f).reduce(function(h,p){return Math.max(h,o[p.v]+s.edge(p))},0)}function c(f){var h=s.outEdges(f).reduce(function(y,v){return Math.min(y,o[v.w]-s.edge(v))},Number.POSITIVE_INFINITY),p=e.node(f);h!==Number.POSITIVE_INFINITY&&p.borderType!==a&&(o[f]=Math.max(o[f],h))}return l(u,s.predecessors.bind(s)),l(c,s.successors.bind(s)),J.forEach(r,function(f){o[f]=o[n[f]]}),o}function yq(e,t,n,r){var i=new uq,o=e.graph(),s=Sq(o.nodesep,o.edgesep,r);return J.forEach(t,function(a){var l;J.forEach(a,function(u){var c=n[u];if(i.setNode(c),l){var f=n[l],h=i.edge(f,c);i.setEdge(f,c,Math.max(s(e,u,l),h||0))}l=u})}),i}function xq(e,t){return J.minBy(J.values(t),function(n){var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return J.forIn(n,function(o,s){var a=Eq(e,s)/2;r=Math.max(o+a,r),i=Math.min(o-a,i)}),r-i})}function wq(e,t){var n=J.values(t),r=J.min(n),i=J.max(n);J.forEach(["u","d"],function(o){J.forEach(["l","r"],function(s){var a=o+s,l=e[a],u;if(l!==t){var c=J.values(l);u=s==="l"?r-J.min(c):i-J.max(c),u&&(e[a]=J.mapValues(l,function(f){return f+u}))}})})}function _q(e,t){return J.mapValues(e.ul,function(n,r){if(t)return e[t.toLowerCase()][r];var i=J.sortBy(J.map(e,r));return(i[1]+i[2])/2})}function bq(e){var t=cq.buildLayerMatrix(e),n=J.merge(fq(e,t),hq(e,t)),r={},i;J.forEach(["u","d"],function(s){i=s==="u"?t:J.values(t).reverse(),J.forEach(["l","r"],function(a){a==="r"&&(i=J.map(i,function(f){return J.values(f).reverse()}));var l=(s==="u"?e.predecessors:e.successors).bind(e),u=gq(e,i,n,l),c=vq(e,i,u.root,u.align,a==="r");a==="r"&&(c=J.mapValues(c,function(f){return-f})),r[s+a]=c})});var o=xq(e,r);return wq(r,o),_q(r,e.graph().align)}function Sq(e,t,n){return function(r,i,o){var s=r.node(i),a=r.node(o),l=0,u;if(l+=s.width/2,J.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":u=-s.width/2;break;case"r":u=s.width/2;break}if(u&&(l+=n?u:-u),u=0,l+=(s.dummy?t:e)/2,l+=(a.dummy?t:e)/2,l+=a.width/2,J.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":u=a.width/2;break;case"r":u=-a.width/2;break}return u&&(l+=n?u:-u),u=0,l}}function Eq(e,t){return e.node(t).width}var so=Se,vN=pt,kq=dq.positionX,Nq=jq;function jq(e){e=vN.asNonCompoundGraph(e),Cq(e),so.forEach(kq(e),function(t,n){e.node(n).x=t})}function Cq(e){var t=vN.buildLayerMatrix(e),n=e.graph().ranksep,r=0;so.forEach(t,function(i){var o=so.max(so.map(i,function(s){return e.node(s).height}));so.forEach(i,function(s){e.node(s).y=r+o/2}),r+=o+n})}var ee=Se,rb=y8,ib=O8,Tq=oO,Iq=pt.normalizeRanks,Rq=uO,Pq=pt.removeEmptyRanks,ob=hO,Mq=xO,sb=_O,Aq=sq,Oq=Nq,sr=pt,qq=Kt.Graph,Lq=zq;function zq(e,t){var n=t&&t.debugTiming?sr.time:sr.notime;n("layout",function(){var r=n("  buildLayoutGraph",function(){return Yq(e)});n("  runLayout",function(){Dq(r,n)}),n("  updateInputGraph",function(){Fq(e,r)})})}function Dq(e,t){t("    makeSpaceForEdgeLabels",function(){Xq(e)}),t("    removeSelfEdges",function(){oL(e)}),t("    acyclic",function(){rb.run(e)}),t("    nestingGraph.run",function(){ob.run(e)}),t("    rank",function(){Tq(sr.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){Qq(e)}),t("    removeEmptyRanks",function(){Pq(e)}),t("    nestingGraph.cleanup",function(){ob.cleanup(e)}),t("    normalizeRanks",function(){Iq(e)}),t("    assignRankMinMax",function(){Zq(e)}),t("    removeEdgeLabelProxies",function(){Jq(e)}),t("    normalize.run",function(){ib.run(e)}),t("    parentDummyChains",function(){Rq(e)}),t("    addBorderSegments",function(){Mq(e)}),t("    order",function(){Aq(e)}),t("    insertSelfEdges",function(){sL(e)}),t("    adjustCoordinateSystem",function(){sb.adjust(e)}),t("    position",function(){Oq(e)}),t("    positionSelfEdges",function(){aL(e)}),t("    removeBorderNodes",function(){iL(e)}),t("    normalize.undo",function(){ib.undo(e)}),t("    fixupEdgeLabelCoords",function(){nL(e)}),t("    undoCoordinateSystem",function(){sb.undo(e)}),t("    translateGraph",function(){eL(e)}),t("    assignNodeIntersects",function(){tL(e)}),t("    reversePoints",function(){rL(e)}),t("    acyclic.undo",function(){rb.undo(e)})}function Fq(e,t){ee.forEach(e.nodes(),function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))}),ee.forEach(e.edges(),function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,ee.has(i,"x")&&(r.x=i.x,r.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var $q=["nodesep","edgesep","ranksep","marginx","marginy"],Bq={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},Hq=["acyclicer","ranker","rankdir","align"],Vq=["width","height"],Uq={width:0,height:0},Wq=["minlen","weight","width","height","labeloffset"],Gq={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Kq=["labelpos"];function Yq(e){var t=new qq({multigraph:!0,compound:!0}),n=sp(e.graph());return t.setGraph(ee.merge({},Bq,op(n,$q),ee.pick(n,Hq))),ee.forEach(e.nodes(),function(r){var i=sp(e.node(r));t.setNode(r,ee.defaults(op(i,Vq),Uq)),t.setParent(r,e.parent(r))}),ee.forEach(e.edges(),function(r){var i=sp(e.edge(r));t.setEdge(r,ee.merge({},Gq,op(i,Wq),ee.pick(i,Kq)))}),t}function Xq(e){var t=e.graph();t.ranksep/=2,ee.forEach(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function Qq(e){ee.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i=e.node(t.w),o={rank:(i.rank-r.rank)/2+r.rank,e:t};sr.addDummyNode(e,"edge-proxy",o,"_ep")}})}function Zq(e){var t=0;ee.forEach(e.nodes(),function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=ee.max(t,r.maxRank))}),e.graph().maxRank=t}function Jq(e){ee.forEach(e.nodes(),function(t){var n=e.node(t);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function eL(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=e.graph(),s=o.marginx||0,a=o.marginy||0;function l(u){var c=u.x,f=u.y,h=u.width,p=u.height;t=Math.min(t,c-h/2),n=Math.max(n,c+h/2),r=Math.min(r,f-p/2),i=Math.max(i,f+p/2)}ee.forEach(e.nodes(),function(u){l(e.node(u))}),ee.forEach(e.edges(),function(u){var c=e.edge(u);ee.has(c,"x")&&l(c)}),t-=s,r-=a,ee.forEach(e.nodes(),function(u){var c=e.node(u);c.x-=t,c.y-=r}),ee.forEach(e.edges(),function(u){var c=e.edge(u);ee.forEach(c.points,function(f){f.x-=t,f.y-=r}),ee.has(c,"x")&&(c.x-=t),ee.has(c,"y")&&(c.y-=r)}),o.width=n-t+s,o.height=i-r+a}function tL(e){ee.forEach(e.edges(),function(t){var n=e.edge(t),r=e.node(t.v),i=e.node(t.w),o,s;n.points?(o=n.points[0],s=n.points[n.points.length-1]):(n.points=[],o=i,s=r),n.points.unshift(sr.intersectRect(r,o)),n.points.push(sr.intersectRect(i,s))})}function nL(e){ee.forEach(e.edges(),function(t){var n=e.edge(t);if(ee.has(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function rL(e){ee.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}function iL(e){ee.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),o=e.node(ee.last(n.borderLeft)),s=e.node(ee.last(n.borderRight));n.width=Math.abs(s.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}}),ee.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function oL(e){ee.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function sL(e){var t=sr.buildLayerMatrix(e);ee.forEach(t,function(n){var r=0;ee.forEach(n,function(i,o){var s=e.node(i);s.order=o+r,ee.forEach(s.selfEdges,function(a){sr.addDummyNode(e,"selfedge",{width:a.label.width,height:a.label.height,rank:s.rank,order:o+ ++r,e:a.e,label:a.label},"_se")}),delete s.selfEdges})})}function aL(e){ee.forEach(e.nodes(),function(t){var n=e.node(t);if(n.dummy==="selfedge"){var r=e.node(n.e.v),i=r.x+r.width/2,o=r.y,s=n.x-i,a=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*s/3,y:o-a},{x:i+5*s/6,y:o-a},{x:i+s,y:o},{x:i+5*s/6,y:o+a},{x:i+2*s/3,y:o+a}],n.label.x=n.x,n.label.y=n.y}})}function op(e,t){return ee.mapValues(ee.pick(e,t),Number)}function sp(e){var t={};return ee.forEach(e,function(n,r){t[r.toLowerCase()]=n}),t}var Ms=Se,lL=pt,uL=Kt.Graph,cL={debugOrdering:dL};function dL(e){var t=lL.buildLayerMatrix(e),n=new uL({compound:!0,multigraph:!0}).setGraph({});return Ms.forEach(e.nodes(),function(r){n.setNode(r,{label:r}),n.setParent(r,"layer"+e.node(r).rank)}),Ms.forEach(e.edges(),function(r){n.setEdge(r.v,r.w,{},r.name)}),Ms.forEach(t,function(r,i){var o="layer"+i;n.setNode(o,{rank:"same"}),Ms.reduce(r,function(s,a){return n.setEdge(s,a,{style:"invis"}),a})}),n}var fL="0.8.5",hL={graphlib:Kt,layout:Lq,debug:cL,util:{time:pt.time,notime:pt.notime},version:fL};const ab=xm(hL),lb=(e,t)=>{const n=new ab.graphlib.Graph;return n.setGraph({rankdir:"TB",align:"UL",nodesep:20,ranksep:70,marginx:100,marginy:30,ranker:"longest-path"}),n.setDefaultEdgeLabel(()=>({})),e.forEach(r=>{n.setNode(r.id,{width:r.data.width??280,height:r.data.height??90})}),t.forEach(r=>{n.setEdge(r.source,r.target)}),ab.layout(n),{nodes:e.map(r=>{const i=n.node(r.id);return{...r,targetPosition:X.Top,sourcePosition:X.Bottom,position:{x:i.x-(r.data.width??280)/2,y:i.y-(r.data.height??90)/2}}}),edges:t}},ub=(e,t,n)=>{let r=[],i=[],o=null,s=null,a=[];const l=n.theme||"industrial";return e.forEach((u,c)=>{var y,v;if((u.level||1)!==1)return;const f=280;let h=95;u.state==="active"&&u.stations&&(h+=35);const p=t===u.id;if(r.push({id:u.id,type:"documentNode",data:{...u,width:f,height:h,isExpanded:p,...n},draggable:!1,connectable:!1,position:{x:0,y:0},zIndex:p?1e3:0}),o){const _=(y=e[c-1])==null?void 0:y.state;i.push({id:"e-"+o+"-"+u.id,source:o,target:u.id,type:"smoothstep",animated:_==="active",style:{stroke:JE(_,l),strokeWidth:3}})}((v=u.children)==null?void 0:v.length)>0&&(s=u.id,a=u.children),o=u.id}),{nodes:r,edges:i,epicBacklogId:s,epicChildren:a}},cb=(e,t,n,r,i)=>{const{nodes:o,edges:s}=e;if(!t||!n.length)return{nodes:o,edges:s};const a=o.find(x=>x.id===t);if(!a)return{nodes:o,edges:s};const l=a.position.x,u=a.position.y+(a.data.height||95),c=a.data.state,f=i.theme||"industrial",h=JE(c,f),p=c==="active",y=Lt.EPIC_HEIGHT+Lt.EPIC_GAP_Y,v=Math.ceil(n.length/Lt.EPICS_PER_ROW),_=l+280*.15,g=50,m={};n.forEach((x,w)=>{const S=Math.floor(w/Lt.EPICS_PER_ROW);m[S]||(m[S]=[]),m[S].push({epic:x,idx:w})});for(let x=0;x<v;x++){const w=m[x]||[];if(w.length===0)continue;const S=u+Lt.EPIC_OFFSET_Y+x*y,E=`junction-row-${x}`;o.push({id:E,type:"waypoint",position:{x:_,y:S-g},draggable:!1,connectable:!1,selectable:!1}),x===0?s.push({id:`e-spine-drop-${x}`,source:t,target:E,type:"straight",animated:p,style:{stroke:h,strokeWidth:2}}):s.push({id:`e-spine-${x-1}-to-${x}`,source:`junction-row-${x-1}`,target:E,type:"straight",animated:p,style:{stroke:h,strokeWidth:2}}),w.forEach(({epic:N,idx:C})=>{const I=C%Lt.EPICS_PER_ROW,O=l+Lt.EPIC_OFFSET_X+I*(Lt.EPIC_WIDTH+Lt.EPIC_GAP_X),q=S,F=r===N.id;o.push({id:N.id,type:"documentNode",data:{...N,width:Lt.EPIC_WIDTH,height:Lt.EPIC_HEIGHT,isExpanded:F,...i},draggable:!1,connectable:!1,position:{x:O,y:q},targetPosition:X.Top,sourcePosition:X.Bottom,zIndex:F?1e3:0}),s.push({id:`e-branch-${N.id}`,source:E,target:N.id,type:"smoothstep",pathOptions:{borderRadius:20},animated:p,style:{stroke:h,strokeWidth:2}})})}return{nodes:o,edges:s}},pL={queued:"queued",blocked:"queued",assembling:"active",binding:"active",auditing:"active",remediating:"active",awaiting_operator:"active",stabilized:"stabilized",halted:"queued"},db={pgc:"PGC",bind:"BIND",asm:"ASM",aud:"AUD",rem:"REM",done:"DONE"};function mL(e){const t={};for(const n of e.projects)t[n.id]={id:n.id,projectId:n.project_id,name:n.name,description:n.description||"",status:n.status==="active"?"active":n.is_archived?"complete":"queued",icon:n.icon,createdAt:n.created_at,isArchived:n.is_archived||!1};return t}function gL(e,t=[]){const n=[],r=[],i=[];for(const o of e.tracks){const s=vL(o,t);o.scope==="epic"?i.push(s):r.push(s)}for(const o of r)o.id==="epic_backlog"&&i.length>0&&(o.children=i.map(s=>({...s,level:2}))),n.push(o);return n}function vL(e,t=[]){const n=pL[e.state]||"queued",r=e.state==="awaiting_operator",i=t.find(a=>a.document_type===e.document_type);let o=null;(n==="active"||r)&&(o=yL(e.stations,e.state));let s=null;return i&&i.questions&&(s=i.questions.map((a,l)=>({id:a.id||`q${l+1}`,text:a.question||a.text||a,required:a.required!==!1}))),{id:e.document_type,name:e.document_name||xL(e.document_type),desc:e.description||"",state:n,intent:"mandatory",level:1,stations:o,questions:s,interruptId:i==null?void 0:i.id,blockedBy:e.blocked_by||[]}}function yL(e,t){if(!e||e.length===0){const n=t==="awaiting_operator"?"pgc":t==="assembling"?"asm":t==="binding"?"pgc":t==="auditing"?"aud":null;return fu.map(r=>({id:r,label:db[r]||r.toUpperCase(),state:n===r?"active":fu.indexOf(r)<fu.indexOf(n)?"complete":"pending",needs_input:r==="pgc"&&t==="awaiting_operator"}))}return e.map(n=>({id:n.station,label:db[n.station]||n.station.toUpperCase(),state:n.state||"pending",needs_input:n.needs_input||!1}))}function xL(e){return e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function wL({includeArchived:e=!1}={}){const[t,n]=k.useState({}),[r,i]=k.useState(!0),[o,s]=k.useState(null),a=k.useCallback(async()=>{i(!0),s(null);try{const u=await Oe.getProjects({includeArchived:e}),c=mL(u);n(c)}catch(u){s(u.message),console.error("Failed to fetch projects:",u)}finally{i(!1)}},[e]),l=k.useCallback(async u=>{try{const c=await Oe.createProject({name:u,description:""});return n(f=>({...f,[c.id]:{id:c.id,projectId:c.project_id,name:c.name,description:c.description||"",status:"active",icon:c.icon,createdAt:c.created_at}})),c}catch(c){throw s(c.message),console.error("Failed to create project:",c),c}},[]);return k.useEffect(()=>{a()},[a]),{projects:t,loading:r,error:o,addProject:l,refresh:a}}function _L(e){const[t,n]=k.useState([]),[r,i]=k.useState("idle"),[o,s]=k.useState([]),[a,l]=k.useState(!0),[u,c]=k.useState(null),[f,h]=k.useState(!1),p=k.useRef(null),y=k.useRef(null),v=k.useCallback(async()=>{if(e)try{l(!0),c(null);const[w,S]=await Promise.all([Oe.getProductionStatus(e),Oe.getProjectInterrupts(e).catch(()=>[])]);s(S),i(w.line_state),n(gL(w,S))}catch(w){c(w.message),console.error("Failed to fetch production status:",w)}finally{l(!1)}},[e]),_=k.useCallback(()=>{if(!e)return;p.current&&p.current.close();const w=zP(e);p.current=w,w.addEventListener("connected",()=>{h(!0),c(null),console.log(`SSE connected for project ${e}`)}),w.addEventListener("station_transition",S=>{try{const E=JSON.parse(S.data);console.log("Station transition:",E),v()}catch(E){console.error("Failed to parse station_transition:",E)}}),w.addEventListener("line_stopped",S=>{try{const E=JSON.parse(S.data);console.log("Line stopped:",E),i("stopped"),v()}catch(E){console.error("Failed to parse line_stopped:",E)}}),w.addEventListener("production_complete",S=>{try{const E=JSON.parse(S.data);console.log("Production complete:",E),i("complete"),v()}catch(E){console.error("Failed to parse production_complete:",E)}}),w.addEventListener("interrupt_resolved",S=>{try{const E=JSON.parse(S.data);console.log("Interrupt resolved:",E),v()}catch(E){console.error("Failed to parse interrupt_resolved:",E)}}),w.addEventListener("track_started",S=>{try{const E=JSON.parse(S.data);console.log("Track started:",E),i("active"),v()}catch(E){console.error("Failed to parse track_started:",E)}}),w.onerror=S=>{console.error("SSE error:",S),h(!1),c("Connection lost"),w.close(),y.current=setTimeout(()=>{console.log("Attempting SSE reconnect..."),_()},3e3)}},[e,v]),g=k.useCallback(()=>{y.current&&clearTimeout(y.current),p.current&&(p.current.close(),p.current=null),h(!1)},[]),m=k.useCallback(async(w,S)=>{try{await Oe.resolveInterrupt(w,{answers:S}),await v()}catch(E){throw console.error("Failed to resolve interrupt:",E),E}},[v]),x=k.useCallback(async(w=null)=>{try{await Oe.startProduction(e,w),i("active"),await v()}catch(S){throw console.error("Failed to start production:",S),S}},[e,v]);return k.useEffect(()=>(v(),_(),()=>g()),[v,_,g]),{data:t,lineState:r,interrupts:o,loading:a,error:u,connected:f,refresh:v,resolveInterrupt:m,startProduction:x}}const fb="combine-theme";function yN(e="industrial"){const[t,n]=k.useState(()=>{if(typeof window>"u")return e;const o=localStorage.getItem(fb);return o&&Hn.includes(o)?o:e});k.useEffect(()=>{localStorage.setItem(fb,t)},[t]);const r=k.useCallback(o=>{Hn.includes(o)&&n(o)},[]),i=k.useCallback(()=>{n(o=>{const s=Hn.indexOf(o);return Hn[(s+1)%Hn.length]})},[]);return{theme:t,setTheme:r,cycleTheme:i}}function bL(){const[e,t]=k.useState(null),[n,r]=k.useState("idle"),[i,o]=k.useState([]),[s,a]=k.useState(null),[l,u]=k.useState(null),[c,f]=k.useState({}),[h,p]=k.useState(0),[y,v]=k.useState([]),[_,g]=k.useState(!1),[m,x]=k.useState(null),[w,S]=k.useState(null),[E,N]=k.useState(null),[C,I]=k.useState(!1),[O,q]=k.useState(!1),F=k.useRef(null),L=k.useRef(!0);k.useEffect(()=>(L.current=!0,()=>{L.current=!1,F.current&&F.current.close()}),[]);const b=k.useCallback(M=>{L.current&&(r(M.phase),o(M.messages||[]),a(M.pending_prompt),u(M.pending_choices),f(M.interpretation||{}),p(M.confidence||0),v(M.missing_fields||[]),g(M.can_initialize||!1),x(M.gate_outcome),S(M.project))},[]),P=k.useCallback(async()=>{N(null),I(!0);try{const M=await Oe.startIntake();if(!L.current)return;t(M.execution_id),r(M.phase||"describe"),a(M.pending_prompt),o([]),f({}),S(null),x(null)}catch(M){if(!L.current)return;N(M.message||"Failed to start intake")}finally{L.current&&I(!1)}},[]),T=k.useCallback(async M=>{if(!e||!M.trim())return;N(null),q(!0);const D={role:"user",content:M};o(B=>[...B,D]);try{const B=await Oe.submitIntakeMessage(e,M);if(!L.current)return;b(B)}catch(B){if(!L.current)return;o(V=>V.filter(K=>K!==D)),N(B.message||"Failed to submit message")}finally{L.current&&q(!1)}},[e,b]),z=k.useCallback(async(M,D)=>{if(e){N(null),f(B=>({...B,[M]:{value:D,source:"user",locked:!0}}));try{const B=await Oe.updateIntakeField(e,M,D);if(!L.current)return;b(B)}catch(B){if(!L.current)return;N(B.message||"Failed to update field");const V=await Oe.getIntakeState(e);L.current&&b(V)}}},[e,b]),R=k.useCallback(async()=>{if(!(!e||!_)){N(null),I(!0);try{const M=await Oe.initializeIntake(e);if(!L.current)return;b(M),M.phase==="generating"&&j()}catch(M){if(!L.current)return;N(M.message||"Failed to initialize project"),I(!1)}}},[e,_,b]),j=k.useCallback(()=>{F.current&&F.current.close();const M=DP(e);F.current=M,M.addEventListener("started",D=>{if(!L.current)return;const B=JSON.parse(D.data);console.log("Intake started:",B)}),M.addEventListener("progress",D=>{if(!L.current)return;const B=JSON.parse(D.data);console.log("Intake progress:",B.current_node)}),M.addEventListener("complete",async D=>{if(!L.current)return;const B=JSON.parse(D.data);console.log("Intake complete:",B),M.close(),F.current=null,r("complete"),x(B.gate_outcome),S(B.project),I(!1)}),M.addEventListener("error",D=>{if(L.current&&M.readyState!==EventSource.CLOSED){try{const B=JSON.parse(D.data);N(B.message||"Generation failed")}catch{N("Connection lost during generation")}M.close(),F.current=null,I(!1)}}),M.onerror=()=>{L.current&&M.readyState===EventSource.CLOSED&&(F.current=null,I(!1))}},[e]),A=k.useCallback(()=>{F.current&&(F.current.close(),F.current=null),t(null),r("idle"),o([]),a(null),u(null),f({}),p(0),v([]),g(!1),x(null),S(null),N(null),I(!1),q(!1)},[]);return{executionId:e,phase:n,messages:i,pendingPrompt:s,pendingChoices:l,interpretation:c,confidence:h,missingFields:y,canInitialize:_,gateOutcome:m,project:w,error:E,loading:C,submitting:O,startIntake:P,submitMessage:T,updateField:z,lockAndGenerate:R,reset:A}}const xN=k.createContext(null);function SL({children:e}){const[t,n]=k.useState(null),[r,i]=k.useState(!0),[o,s]=k.useState(null);k.useEffect(()=>{a()},[]);const a=k.useCallback(async()=>{i(!0),s(null);try{const f=await Oe.getMe();f&&f.user?n(f.user):n(null)}catch(f){console.error("Auth check failed:",f),s(f.message),n(null)}finally{i(!1)}},[]),l=k.useCallback(f=>{window.location.href=FP(f)},[]),u=k.useCallback(async()=>{try{await Oe.logout(),n(null),window.location.href="/"}catch(f){console.error("Logout failed:",f),n(null)}},[]),c={user:t,loading:r,error:o,isAuthenticated:!!t,isAdmin:(t==null?void 0:t.is_admin)||!1,login:l,logout:u,checkAuth:a};return d.jsx(xN.Provider,{value:c,children:e})}function rs(){const e=k.useContext(xN);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}const EL={documentNode:GP,waypoint:KP},kL={industrial:"Industrial",light:"Light",blueprint:"Blueprint"};function NL({projectId:e,projectCode:t,projectName:n,isArchived:r,autoExpandNodeId:i,theme:o,onThemeChange:s,onProjectUpdate:a,onProjectArchive:l,onProjectUnarchive:u,onProjectDelete:c}){const{data:f,lineState:h,loading:p,error:y,connected:v,resolveInterrupt:_}=_L(e),[g,m]=k.useState([]),[x,w]=k.useState(null),[S,E]=k.useState(null),[N,C]=k.useState(null),[I,O]=k.useState(!1),[q,F]=k.useState(""),[L,b]=k.useState(!1),[P,T]=k.useState(!1),z=Cg();k.useEffect(()=>{f.length>0&&m(f)},[f]),k.useEffect(()=>{i&&g.length>0&&setTimeout(()=>{w(i),E("questions")},300)},[i,g.length]),k.useEffect(()=>{w(null),E(null)},[e]);const R=k.useCallback(()=>{const U=Hn.indexOf(o);s(Hn[(U+1)%Hn.length])},[o,s]),j=k.useCallback(()=>{F(n||""),O(!0)},[n]),A=k.useCallback(async()=>{if(!q.trim()||q===n){O(!1);return}T(!0);try{await a(e,{name:q.trim()}),O(!1)}catch(U){console.error("Failed to update name:",U)}finally{T(!1)}},[q,n,e,a]),M=k.useCallback(()=>{O(!1),F("")},[]),D=k.useCallback(async()=>{T(!0);try{r?await u(e):await l(e)}catch(U){console.error("Failed to toggle archive:",U)}finally{T(!1)}},[e,r,l,u]),B=k.useCallback(async()=>{T(!0);try{await c(e),b(!1)}catch(U){console.error("Failed to delete:",U)}finally{T(!1)}},[e,c]),V=k.useCallback(U=>{const oe=z.getNode(U);if(oe){const G=window.innerWidth,ae=-oe.position.x*.9+G/2-400,Re=-oe.position.y*.9+120;z.setViewport({x:ae,y:Re,zoom:.9},{duration:800})}},[z]),K=k.useMemo(()=>({onExpand:(U,oe)=>{w(U),E(oe)},onCollapse:()=>{w(null),E(null),setTimeout(()=>z.fitView({padding:.2,duration:300}),50)},onViewFullDocument:U=>{C(U)},onSubmitQuestions:async(U,oe)=>{console.log("Submitted:",U,oe);const W=g.find(G=>G.id===U);if(W!=null&&W.interruptId)try{await _(W.interruptId,oe)}catch(G){console.error("Failed to submit answers:",G)}w(null),E(null),m(G=>{const ae=Re=>Re.map(ue=>ue.id===U&&ue.stations?{...ue,stations:ue.stations.map(pe=>pe.id==="pgc"?{...pe,state:"complete",needs_input:!1}:pe.id==="asm"?{...pe,state:"active"}:pe)}:ue.children?{...ue,children:ae(ue.children)}:ue);return ae(G)})}}),[z,g,_]),{layoutNodes:Q,layoutEdges:Z}=k.useMemo(()=>{if(g.length===0)return{layoutNodes:[],layoutEdges:[]};const U={...K,expandType:S,theme:o,onZoomToNode:V,projectId:e,projectCode:t},{nodes:oe,edges:W,epicBacklogId:G,epicChildren:ae}=ub(g,x,U),Re=lb(oe,W),{nodes:ue,edges:pe}=cb(Re,G,ae,x,U);return{layoutNodes:ue.map(we=>({...we,data:{...we.data,expandType:we.id===x?S:null}})),layoutEdges:pe}},[g,x,S,K,o,V,e,t]),[le,re,ie]=mP(Q),[Ie,xe,Le]=gP(Z);k.useEffect(()=>{if(g.length===0)return;const U={...K,expandType:S,theme:o,onZoomToNode:V,projectId:e,projectCode:t},{nodes:oe,edges:W,epicBacklogId:G,epicChildren:ae}=ub(g,x,U),Re=lb(oe,W),{nodes:ue,edges:pe}=cb(Re,G,ae,x,U),me=ue.map(we=>({...we,data:{...we.data,expandType:we.id===x?S:null}}));re(me),xe(pe)},[g,x,S,K,re,xe,o,V,e,t]);const Me=k.useCallback((U,oe)=>{if(x)return;const W=["queued","active","stabilized"];m(G=>{const ae=Re=>Re.map(ue=>{var pe;if(ue.id===oe.id){const me=W[(W.indexOf(ue.state)+1)%W.length],we=(pe=ue.stations)==null?void 0:pe.map(Ue=>{var kt;return me==="stabilized"?{...Ue,state:"complete",needs_input:!1}:me==="active"?Ue.id==="pgc"?{...Ue,state:"active",needs_input:!!((kt=ue.questions)!=null&&kt.length)}:{...Ue,state:"pending"}:{...Ue,state:"pending",needs_input:!1}});return{...ue,state:me,stations:we}}return ue.children?{...ue,children:ae(ue.children)}:ue});return ae(G)})},[x]);return p&&g.length===0?d.jsx("div",{className:"flex items-center justify-center h-full",style:{background:"var(--bg-canvas)"},children:d.jsxs("div",{className:"text-center",children:[d.jsx("img",{src:"/logo-light.png",alt:"The Combine",className:"h-12 mx-auto mb-4 animate-pulse"}),d.jsx("p",{style:{color:"var(--text-muted)"},children:"Loading production line..."})]})}):y&&g.length===0?d.jsx("div",{className:"flex items-center justify-center h-full",style:{background:"var(--bg-canvas)"},children:d.jsx("div",{className:"text-center p-6 rounded-lg",style:{background:"var(--bg-panel)"},children:d.jsx("p",{className:"text-red-500 mb-4",children:y})})}):d.jsxs("div",{className:"w-full h-full",children:[d.jsxs(YE,{nodes:le,edges:Ie,onNodesChange:ie,onEdgesChange:Le,onNodeClick:Me,nodeTypes:EL,nodesDraggable:!1,nodesConnectable:!1,edgesUpdatable:!1,edgesFocusable:!1,elementsSelectable:!1,fitView:!0,fitViewOptions:{padding:.2},minZoom:.3,maxZoom:1.5,style:{background:"var(--bg-canvas)"},proOptions:{hideAttribution:!0},defaultEdgeOptions:{type:"smoothstep"},children:[d.jsx(vo,{position:"top-left",children:d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"subway-panel backdrop-blur rounded-lg px-4 py-3 border",children:d.jsxs("div",{className:"flex items-center justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:"Production Line"}),d.jsxs("p",{className:"text-xs",style:{color:"var(--text-muted)"},children:[h==="active"&&d.jsx("span",{className:"text-amber-500",children:" Active"}),h==="stopped"&&d.jsx("span",{className:"text-red-500",children:" Stopped"}),h==="complete"&&d.jsx("span",{className:"text-emerald-500",children:" Complete"}),h==="idle"&&d.jsx("span",{children:" Idle"}),!v&&d.jsx("span",{className:"ml-2 text-red-400",children:"(Disconnected)"})]})]}),d.jsx("button",{onClick:R,className:"subway-button px-3 py-1.5 rounded-md text-xs font-medium transition-colors",children:kL[o]})]})}),d.jsx("div",{className:"subway-panel backdrop-blur rounded-lg px-4 py-3 border",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0",style:{background:"var(--state-active-bg)"},children:d.jsx("svg",{className:"w-5 h-5 text-white",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("p",{className:"text-xs font-mono",style:{color:"var(--text-muted)"},children:t||"No Project"}),I?d.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d.jsx("input",{type:"text",value:q,onChange:U=>F(U.target.value),onKeyDown:U=>{U.key==="Enter"&&A(),U.key==="Escape"&&M()},className:"flex-1 px-2 py-1 text-sm rounded border bg-transparent",style:{color:"var(--text-primary)",borderColor:"var(--border-panel)"},autoFocus:!0,disabled:P}),d.jsx("button",{onClick:A,disabled:P,className:"p-1 rounded hover:bg-white/10",title:"Save",children:d.jsx("svg",{className:"w-4 h-4 text-emerald-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M5 13l4 4L19 7"})})}),d.jsx("button",{onClick:M,disabled:P,className:"p-1 rounded hover:bg-white/10",title:"Cancel",children:d.jsx("svg",{className:"w-4 h-4",style:{color:"var(--text-muted)"},viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}):d.jsx("p",{className:"text-sm font-semibold truncate",style:{color:"var(--text-primary)"},children:n||"Untitled Project"})]}),!I&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("button",{onClick:j,className:"p-1.5 rounded hover:bg-white/10 transition-colors",style:{color:"var(--text-muted)"},title:"Edit name",children:d.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"}),d.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),d.jsx("button",{onClick:D,disabled:P,className:"p-1.5 rounded hover:bg-white/10 transition-colors",style:{color:r?"#f59e0b":"var(--text-muted)"},title:r?"Unarchive project":"Archive project",children:d.jsxs("svg",{className:"w-4 h-4 relative",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M21 8v13H3V8M1 3h22v5H1zM10 12h4"}),r&&d.jsx("path",{d:"M4 20L20 4",strokeWidth:"2.5",stroke:"currentColor"})]})}),d.jsx("button",{onClick:()=>b(!0),disabled:P||!r,className:`p-1.5 rounded transition-colors ${r?"hover:bg-red-500/20":""}`,style:{color:"var(--text-muted)",opacity:r?1:.3,cursor:r?"pointer":"not-allowed"},title:r?"Delete project":"Archive project first to delete",children:d.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"})})})]})]})})]})}),d.jsx(NP,{position:"top-right",nodeColor:U=>{var oe,W;return((oe=U.data)==null?void 0:oe.state)==="stabilized"?"#10b981":((W=U.data)==null?void 0:W.state)==="active"?"#f59e0b":"#475569"},maskColor:"rgba(11, 17, 32, 0.85)",style:{background:"var(--bg-panel)",border:"1px solid var(--border-panel)",borderRadius:8},pannable:!0,zoomable:!0}),d.jsx(vo,{position:"bottom-left",children:d.jsxs("div",{className:"subway-panel flex gap-4 text-[10px] backdrop-blur px-4 py-2.5 rounded-lg border",children:[d.jsx("span",{style:{color:"var(--text-muted)"},className:"font-medium",children:"STATE:"}),d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:"var(--state-stabilized-bg)"}}),d.jsx("span",{style:{color:"var(--text-muted)"},children:"Stabilized"})]}),d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:"var(--state-active-bg)"}}),d.jsx("span",{style:{color:"var(--text-muted)"},children:"Active"})]}),d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:"var(--state-queued-bg)"}}),d.jsx("span",{style:{color:"var(--text-muted)"},children:"Queued"})]})]})}),d.jsx(vo,{position:"bottom-right",children:d.jsx("div",{className:"subway-panel text-[10px] px-2 py-1 rounded",style:{color:"var(--text-muted)"},children:"Scroll to zoom | Drag to pan"})})]}),N&&d.jsx(fM,{projectId:e,docTypeId:N,onClose:()=>C(null)}),L&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:d.jsxs("div",{className:"rounded-lg p-6 max-w-sm mx-4",style:{background:"var(--bg-panel)",border:"1px solid var(--border-panel)"},children:[d.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:"var(--text-primary)"},children:"Delete Project?"}),d.jsxs("p",{className:"text-sm mb-4",style:{color:"var(--text-muted)"},children:["This will permanently delete ",d.jsx("strong",{children:n})," and all its documents. This action cannot be undone."]}),d.jsxs("div",{className:"flex gap-3 justify-end",children:[d.jsx("button",{onClick:()=>b(!1),disabled:P,className:"px-4 py-2 rounded text-sm font-medium transition-colors",style:{color:"var(--text-muted)"},children:"Cancel"}),d.jsx("button",{onClick:B,disabled:P,className:"px-4 py-2 rounded text-sm font-medium bg-red-500 text-white hover:bg-red-600 transition-colors",children:P?"Deleting...":"Delete"})]})]})})]})}function As({messages:e,pendingPrompt:t}){const n=k.useRef(null);return k.useEffect(()=>{var r;(r=n.current)==null||r.scrollIntoView({behavior:"smooth"})},[e,t]),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[e.map((r,i)=>d.jsx("div",{className:`flex ${r.role==="user"?"justify-end":"justify-start"}`,children:d.jsx("div",{className:`max-w-[85%] rounded-lg px-3 py-2 text-sm ${r.role==="user"?"bg-emerald-500/20 text-emerald-100 rounded-br-sm":"bg-violet-500/20 text-violet-100 rounded-bl-sm"}`,children:r.content})},i)),t&&d.jsx("div",{className:"flex justify-start",children:d.jsx("div",{className:"max-w-[85%] rounded-lg px-3 py-2 text-sm bg-violet-500/20 text-violet-100 rounded-bl-sm",children:t})}),d.jsx("div",{ref:n})]})}function jL({onSubmit:e,disabled:t,placeholder:n}){const[r,i]=k.useState(""),o=k.useRef(null);k.useEffect(()=>{var l;t||(l=o.current)==null||l.focus()},[t]);const s=l=>{l.key==="Enter"&&!l.shiftKey&&(l.preventDefault(),r.trim()&&!t&&(e(r.trim()),i("")))},a=()=>{r.trim()&&!t&&(e(r.trim()),i(""))};return d.jsxs("div",{className:"p-3 border-t",style:{borderColor:"var(--border-panel)"},children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx("textarea",{ref:o,value:r,onChange:l=>i(l.target.value),onKeyDown:s,disabled:t,placeholder:n||"Type your message...",rows:2,className:"flex-1 rounded-lg px-3 py-2 text-sm resize-none",style:{background:"var(--bg-input)",border:"1px solid var(--border-input)",color:"var(--text-primary)"}}),d.jsx("button",{onClick:a,disabled:t||!r.trim(),className:`px-4 rounded-lg font-medium text-sm transition-colors ${t||!r.trim()?"bg-slate-600 text-slate-400 cursor-not-allowed":"bg-violet-500 text-white hover:bg-violet-400"}`,children:"Send"})]}),d.jsx("p",{className:"text-[10px] mt-1",style:{color:"var(--text-muted)"},children:"Press Enter to send, Shift+Enter for newline"})]})}const CL={project_name:"Project Name",problem_statement:"Problem Statement",project_type:"Project Type"},TL=["project_name","problem_statement","project_type"];function IL({interpretation:e,missingFields:t,canInitialize:n,onUpdateField:r,onInitialize:i,loading:o}){const[s,a]=k.useState(null),[l,u]=k.useState(""),c=(p,y)=>{a(p),u(y)},f=async()=>{s&&l.trim()&&(await r(s,l.trim()),a(null),u(""))},h=()=>{a(null),u("")};return d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide",style:{color:"var(--text-muted)"},children:"Review & Lock"}),t.length>0&&d.jsxs("span",{className:"text-[10px] px-2 py-0.5 rounded bg-amber-500/20 text-amber-400",children:[t.length," missing"]})]}),TL.map(p=>{const y=e[p];if(!y)return null;const v=y.locked,_=t.includes(p),g=s===p;return d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("label",{className:"text-[10px] font-medium",style:{color:"var(--text-muted)"},children:[CL[p]||p,_&&d.jsx("span",{className:"text-amber-400 ml-1",children:"*"})]}),v&&d.jsx("span",{className:"text-[9px] px-1.5 py-0.5 rounded bg-emerald-500/20 text-emerald-400",children:"locked"})]}),g?d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:l,onChange:m=>u(m.target.value),onKeyDown:m=>{m.key==="Enter"&&f(),m.key==="Escape"&&h()},autoFocus:!0,className:"flex-1 rounded px-2 py-1.5 text-xs",style:{background:"var(--bg-input)",border:"1px solid var(--border-input)",color:"var(--text-primary)"}}),d.jsx("button",{onClick:f,className:"px-2 py-1 rounded text-xs bg-emerald-500 text-white",children:"Save"}),d.jsx("button",{onClick:h,className:"px-2 py-1 rounded text-xs",style:{background:"var(--bg-button)",color:"var(--text-muted)"},children:"Cancel"})]}):d.jsx("div",{onClick:()=>!v&&c(p,y.value),className:`rounded px-2 py-1.5 text-xs ${v?"cursor-default":"cursor-pointer hover:bg-white/5"} ${_?"border border-amber-500/50":""}`,style:{background:"var(--bg-input)",color:y.value?"var(--text-primary)":"var(--text-muted)"},children:y.value||"Click to edit..."})]},p)}),d.jsx("button",{onClick:i,disabled:!n||o,className:`w-full py-2.5 rounded-lg text-sm font-medium transition-colors ${n&&!o?"bg-violet-500 text-white hover:bg-violet-400":"bg-slate-600 text-slate-400 cursor-not-allowed"}`,children:o?"Initializing...":"Lock & Initialize Project"}),!n&&d.jsx("p",{className:"text-[10px] text-center",style:{color:"var(--text-muted)"},children:"Fill all required fields to continue"})]})}function RL(){return d.jsxs("div",{className:"flex flex-col items-center justify-center py-8 px-4",children:[d.jsxs("div",{className:"relative w-16 h-16 mb-4",children:[d.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-violet-500/20"}),d.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-t-violet-500 border-r-transparent border-b-transparent border-l-transparent animate-spin"}),d.jsx("div",{className:"absolute inset-3 rounded-full bg-violet-500/20 animate-pulse"})]}),d.jsx("h3",{className:"text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Generating Project"}),d.jsx("p",{className:"text-xs text-center max-w-[200px]",style:{color:"var(--text-muted)"},children:"Creating intake document and running quality checks..."}),d.jsxs("div",{className:"flex gap-1 mt-4",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-violet-500 animate-bounce",style:{animationDelay:"0ms"}}),d.jsx("div",{className:"w-2 h-2 rounded-full bg-violet-500 animate-bounce",style:{animationDelay:"150ms"}}),d.jsx("div",{className:"w-2 h-2 rounded-full bg-violet-500 animate-bounce",style:{animationDelay:"300ms"}})]})]})}const hb={qualified:{icon:"check",iconBg:"bg-emerald-500/20",iconColor:"text-emerald-400",title:"Project Created",description:"Your project is ready for PM Discovery."},not_ready:{icon:"warning",iconBg:"bg-amber-500/20",iconColor:"text-amber-400",title:"Not Ready",description:"Additional information is needed before proceeding."},out_of_scope:{icon:"x",iconBg:"bg-slate-500/20",iconColor:"text-slate-400",title:"Out of Scope",description:"This request is outside the scope of The Combine."},redirect:{icon:"arrow",iconBg:"bg-blue-500/20",iconColor:"text-blue-400",title:"Redirected",description:"This request has been redirected to a different engagement type."},blocked:{icon:"warning",iconBg:"bg-amber-500/20",iconColor:"text-amber-400",title:"Blocked",description:"The workflow could not complete due to validation issues."}};function PL({type:e,className:t}){switch(e){case"check":return d.jsx("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("polyline",{points:"20 6 9 17 4 12"})});case"warning":return d.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M12 9v4M12 17h.01"}),d.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"})]});case"x":return d.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]});case"arrow":return d.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),d.jsx("polyline",{points:"12 5 19 12 12 19"})]});default:return null}}function ML({gateOutcome:e,project:t,onViewProject:n,onClose:r}){const i=hb[e]||hb.blocked,o=e==="qualified";return d.jsxs("div",{className:"p-6 text-center",children:[d.jsx("div",{className:`w-16 h-16 rounded-full ${i.iconBg} flex items-center justify-center mx-auto mb-4`,children:d.jsx(PL,{type:i.icon,className:`w-8 h-8 ${i.iconColor}`})}),d.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:"var(--text-primary)"},children:i.title}),d.jsx("p",{className:"text-sm mb-4",style:{color:"var(--text-muted)"},children:i.description}),o&&t&&d.jsxs("div",{className:"rounded-lg p-3 mb-4",style:{background:"var(--bg-input)"},children:[d.jsx("p",{className:"text-xs font-mono mb-1",style:{color:"var(--text-muted)"},children:t.project_id}),d.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:t.name})]}),d.jsxs("div",{className:"flex gap-2 justify-center",children:[o&&t&&d.jsx("button",{onClick:n,className:"px-4 py-2 rounded-lg text-sm font-medium bg-emerald-500 text-white hover:bg-emerald-400 transition-colors",children:"View Project"}),d.jsx("button",{onClick:r,className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors",style:{background:"var(--bg-button)",color:"var(--text-muted)"},children:"Close"})]})]})}function AL({onClose:e,onComplete:t}){const{phase:n,messages:r,pendingPrompt:i,interpretation:o,missingFields:s,canInitialize:a,gateOutcome:l,project:u,error:c,loading:f,submitting:h,startIntake:p,submitMessage:y,updateField:v,lockAndGenerate:_,reset:g}=bL();k.useEffect(()=>(p(),()=>g()),[]);const m=()=>{g(),e()},x=()=>{u&&t&&t(u),m()},w=()=>{const E=[{id:"describe",label:"Describe"},{id:"review",label:"Review"},{id:"generating",label:"Generate"},{id:"complete",label:"Done"}],N=E.findIndex(C=>C.id===n);return d.jsx("div",{className:"flex items-center gap-1 text-[10px]",children:E.map((C,I)=>d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:`px-2 py-0.5 rounded ${I===N?"bg-violet-500/30 text-violet-300":I<N?"text-emerald-400":"text-slate-500"}`,children:C.label}),I<E.length-1&&d.jsx("span",{className:"mx-1 text-slate-600",children:"/"})]},C.id))})},S=()=>{if(f&&n==="idle")return d.jsx("div",{className:"flex-1 flex items-center justify-center",children:d.jsx("div",{className:"w-8 h-8 border-2 border-t-violet-500 border-r-transparent border-b-transparent border-l-transparent rounded-full animate-spin"})});switch(n){case"describe":return d.jsxs(d.Fragment,{children:[d.jsx(As,{messages:r,pendingPrompt:i}),d.jsx(jL,{onSubmit:y,disabled:h,placeholder:"Describe what you want to build..."})]});case"review":return d.jsxs(d.Fragment,{children:[d.jsx(As,{messages:r}),d.jsx("div",{className:"border-t",style:{borderColor:"var(--border-panel)"},children:d.jsx(IL,{interpretation:o,missingFields:s,canInitialize:a,onUpdateField:v,onInitialize:_,loading:f})})]});case"generating":return d.jsxs(d.Fragment,{children:[d.jsx(As,{messages:r}),d.jsx(RL,{})]});case"complete":return d.jsxs(d.Fragment,{children:[d.jsx(As,{messages:r}),d.jsx(ML,{gateOutcome:l,project:u,onViewProject:x,onClose:m})]});default:return null}};return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0, 0, 0, 0.6)"},children:d.jsxs("div",{className:"flex flex-col w-full max-w-lg h-[80vh] rounded-xl shadow-2xl tray-slide",style:{background:"var(--bg-panel)",border:"1px solid var(--border-panel)"},children:[d.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b",style:{borderColor:"var(--border-panel)"},children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-8 h-8 rounded-lg bg-violet-500/20 flex items-center justify-center",children:d.jsx("svg",{className:"w-4 h-4 text-violet-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"})})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:"New Project"}),w()]})]}),d.jsx("button",{onClick:m,className:"p-2 rounded-lg hover:bg-white/10 transition-colors",style:{color:"var(--text-muted)"},children:d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),c&&d.jsx("div",{className:"px-4 py-2 bg-red-500/20 text-red-300 text-sm",children:c}),S()]})})}function OL({onClose:e}){const{user:t,logout:n}=rs(),[r,i]=k.useState(null),[o,s]=k.useState([]),[a,l]=k.useState(!1),[u,c]=k.useState(null);k.useEffect(()=>{r==="linked"&&f()},[r]);const f=async()=>{try{l(!0);const w=await fetch("/auth/accounts",{credentials:"include"});if(w.ok){const S=await w.json();s(S.identities||[])}}catch(w){console.error("Failed to load accounts:",w)}finally{l(!1)}},h=w=>{window.location.href=`/auth/accounts/link/${w}`},p=async w=>{var S;if(o.length<=1){c({type:"error",text:"Cannot unlink your only account"});return}if(confirm(`Unlink your ${w} account?`))try{const E=(S=document.cookie.split("; ").find(C=>C.startsWith("csrf=")||C.startsWith("__Host-csrf=")))==null?void 0:S.split("=")[1],N=await fetch(`/auth/accounts/${w}`,{method:"DELETE",credentials:"include",headers:{"X-CSRF-Token":E||""}});if(N.ok)c({type:"success",text:"Account unlinked"}),await f();else{const C=await N.json();throw new Error(C.detail||"Failed to unlink")}}catch(E){c({type:"error",text:E.message})}},y=async()=>{await n(),e()},v=w=>{i(r===w?null:w),c(null)},_={google:d.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:[d.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),d.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),d.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),d.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),microsoft:d.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 23 23",children:[d.jsx("path",{fill:"#f35325",d:"M1 1h10v10H1z"}),d.jsx("path",{fill:"#81bc06",d:"M12 1h10v10H12z"}),d.jsx("path",{fill:"#05a6f0",d:"M1 12h10v10H1z"}),d.jsx("path",{fill:"#ffba08",d:"M12 12h10v10H12z"})]})},g=[{id:"account",label:"Account",icon:"user",future:!1},{id:"linked",label:"Linked Accounts",icon:"link",future:!1},{id:"team",label:"Team / Org",icon:"users",future:!0},{id:"billing",label:"Billing",icon:"credit-card",future:!0},{id:"preferences",label:"Preferences",icon:"settings",future:!0}],m=w=>{const S={user:d.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),d.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),link:d.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),d.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]}),users:d.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),d.jsx("circle",{cx:"9",cy:"7",r:"4"}),d.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),d.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),"credit-card":d.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),d.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),settings:d.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("circle",{cx:"12",cy:"12",r:"3"}),d.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]})};return S[w]||S.user},x=w=>{switch(w){case"account":return d.jsxs("div",{className:"px-4 py-3 space-y-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs uppercase tracking-wide",style:{color:"var(--text-muted)"},children:"Email"}),d.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-primary)"},children:(t==null?void 0:t.email)||"-"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs uppercase tracking-wide",style:{color:"var(--text-muted)"},children:"Member since"}),d.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-primary)"},children:t!=null&&t.user_created_at?new Date(t.user_created_at).toLocaleDateString("en-US",{month:"long",year:"numeric"}):"-"})]})]});case"linked":return d.jsxs("div",{className:"px-4 py-3",children:[u&&d.jsx("div",{className:`mb-3 px-3 py-2 rounded text-xs ${u.type==="error"?"bg-red-500/20 text-red-300":"bg-emerald-500/20 text-emerald-300"}`,children:u.text}),a?d.jsx("div",{className:"flex items-center justify-center py-4",children:d.jsx("div",{className:"w-5 h-5 border-2 border-t-blue-500 border-r-transparent border-b-transparent border-l-transparent rounded-full animate-spin"})}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"space-y-2 mb-4",children:o.map(S=>d.jsxs("div",{className:"flex items-center justify-between p-2 rounded",style:{background:"var(--bg-canvas)",border:"1px solid var(--border-panel)"},children:[d.jsxs("div",{className:"flex items-center gap-2",children:[_[S.provider_id],d.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)"},children:S.provider_email})]}),d.jsx("button",{onClick:()=>p(S.provider_id),disabled:o.length<=1,className:`text-xs px-2 py-1 rounded ${o.length<=1?"text-slate-600 cursor-not-allowed":"text-red-400 hover:bg-red-500/20"}`,children:"Unlink"})]},S.provider_id))}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"text-xs uppercase tracking-wide mb-2",style:{color:"var(--text-muted)"},children:"Link another"}),d.jsxs("button",{onClick:()=>h("google"),className:"w-full flex items-center gap-2 p-2 rounded text-xs hover:bg-white/5",style:{background:"var(--bg-canvas)",border:"1px solid var(--border-panel)",color:"var(--text-primary)"},children:[_.google,"Google"]}),d.jsxs("button",{onClick:()=>h("microsoft"),className:"w-full flex items-center gap-2 p-2 rounded text-xs hover:bg-white/5",style:{background:"var(--bg-canvas)",border:"1px solid var(--border-panel)",color:"var(--text-primary)"},children:[_.microsoft,"Microsoft"]})]})]})]});default:return d.jsx("div",{className:"px-4 py-3 text-xs",style:{color:"var(--text-muted)"},children:"Coming soon"})}};return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"fixed inset-0 z-40",style:{background:"rgba(0, 0, 0, 0.3)"},onClick:e}),d.jsxs("div",{className:"fixed top-12 bottom-0 z-50 w-72 flex flex-col shadow-2xl",style:{left:"240px",background:"var(--bg-panel)",borderRight:"1px solid var(--border-panel)"},children:[d.jsxs("div",{className:"px-4 py-4 border-b",style:{borderColor:"var(--border-panel)"},children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t!=null&&t.avatar_url?d.jsx("img",{src:t.avatar_url,alt:t.name,className:"w-10 h-10 rounded-full"}):d.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{background:"var(--bg-canvas)"},children:d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{color:"var(--text-muted)"},children:[d.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),d.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),d.jsxs("div",{className:"flex-1 overflow-hidden",children:[d.jsx("div",{className:"text-sm font-medium truncate",style:{color:"var(--text-primary)"},children:(t==null?void 0:t.name)||"User"}),d.jsx("div",{className:"text-xs truncate",style:{color:"var(--text-muted)"},children:(t==null?void 0:t.email)||""})]}),d.jsx("button",{onClick:e,className:"p-1.5 rounded hover:bg-white/10 transition-colors",style:{color:"var(--text-muted)"},children:d.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),d.jsx("div",{className:"text-xs px-2 py-1 rounded inline-block",style:{background:"var(--bg-canvas)",color:"var(--text-muted)"},children:"Plan: Individual"})]}),d.jsx("div",{className:"flex-1 overflow-y-auto",children:g.map(w=>d.jsxs("div",{style:{borderBottom:"1px solid var(--border-panel)"},children:[d.jsxs("button",{onClick:()=>!w.future&&v(w.id),className:`w-full flex items-center gap-3 px-4 py-3 transition-colors ${w.future?"cursor-not-allowed opacity-50":"hover:bg-white/5"}`,style:{color:"var(--text-primary)"},disabled:w.future,children:[d.jsx("span",{style:{color:"var(--text-muted)"},children:m(w.icon)}),d.jsx("span",{className:"flex-1 text-sm text-left",children:w.label}),w.future?d.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded",style:{background:"var(--bg-canvas)",color:"var(--text-muted)"},children:"Soon"}):d.jsx("svg",{className:"w-4 h-4 transition-transform",style:{color:"var(--text-muted)",transform:r===w.id?"rotate(90deg)":"rotate(0deg)"},viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("polyline",{points:"9 18 15 12 9 6"})})]}),r===w.id&&!w.future&&d.jsx("div",{style:{background:"var(--bg-canvas)",borderTop:"1px solid var(--border-panel)"},children:x(w.id)})]},w.id))}),d.jsx("div",{className:"p-4 border-t",style:{borderColor:"var(--border-panel)"},children:d.jsxs("button",{onClick:y,className:"w-full flex items-center justify-center gap-2 px-4 py-2 rounded text-sm transition-colors hover:bg-white/5",style:{color:"var(--text-muted)"},children:[d.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),d.jsx("polyline",{points:"16 17 21 12 16 7"}),d.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"Sign Out"]})})]})]})}const ce={bg:"#0f172a",bgElevated:"#1e293b",border:"#334155",textPrimary:"#f8fafc",textSecondary:"#94a3b8",textMuted:"#64748b",textSubtle:"#475569",accent:"#3b82f6",accentHover:"#2563eb"};function qL(){return d.jsx("header",{className:"h-16 flex items-center justify-center border-b",style:{background:ce.bg,borderColor:ce.border},children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:"/logo-dark.png",alt:"The Combine",className:"h-8"}),d.jsxs("div",{children:[d.jsx("span",{className:"text-sm font-bold tracking-[0.2em]",style:{color:ce.textPrimary},children:"THE COMBINE"}),d.jsx("span",{className:"text-xs tracking-wide ml-4",style:{color:ce.textMuted},children:"Industrial AI for Knowledge Work"})]})]})})}function LL(){return d.jsxs("section",{className:"text-center max-w-2xl mx-auto",children:[d.jsx("h1",{className:"text-3xl font-semibold mb-6 leading-tight",style:{color:ce.textPrimary},children:"Turn complex intent into governed, repeatable artifacts."}),d.jsx("p",{className:"text-lg leading-relaxed mb-6",style:{color:ce.textSecondary},children:"The Combine applies manufacturing discipline to AI knowledge work. Every output is traceable. Every decision is auditable. Production over prompting."}),d.jsxs("a",{href:"/learn",className:"text-sm transition-colors inline-flex items-center gap-1",style:{color:ce.textMuted},onMouseOver:e=>e.currentTarget.style.color=ce.textSecondary,onMouseOut:e=>e.currentTarget.style.color=ce.textMuted,children:["Learn how The Combine works",d.jsx("span",{"aria-hidden":"true",children:""})]})]})}function zL(){const e=[{icon:d.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:d.jsx("path",{d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z",strokeLinecap:"round",strokeLinejoin:"round"})}),title:"Express Intent",description:"Describe what you need"},{icon:d.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:d.jsx("path",{d:"M19.5 12c0-1.232-.046-2.453-.138-3.662a4.006 4.006 0 00-3.7-3.7 48.678 48.678 0 00-7.324 0 4.006 4.006 0 00-3.7 3.7c-.017.22-.032.441-.046.662M19.5 12l3-3m-3 3l-3-3m-12 3c0 1.232.046 2.453.138 3.662a4.006 4.006 0 003.7 3.7 48.656 48.656 0 007.324 0 4.006 4.006 0 003.7-3.7c.017-.22.032-.441.046-.662M4.5 12l3 3m-3-3l-3 3",strokeLinecap:"round",strokeLinejoin:"round"})}),title:"Line Assembles",description:"Stations configure"},{icon:d.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:d.jsx("path",{d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z",strokeLinecap:"round",strokeLinejoin:"round"})}),title:"Gates Enforce",description:"Validation required"},{icon:d.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:d.jsx("path",{d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z",strokeLinecap:"round",strokeLinejoin:"round"})}),title:"Artifacts Stabilize",description:"Versioned, ready"}];return d.jsx("section",{className:"max-w-4xl mx-auto",children:d.jsx("div",{className:"flex items-start justify-between gap-4",children:e.map((t,n)=>d.jsxs("div",{className:"flex-1 text-center group",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-10 h-10 rounded-full mb-3",style:{background:ce.bgElevated,border:`1px solid ${ce.border}`,color:ce.textMuted},children:t.icon}),d.jsx("h3",{className:"text-sm font-medium mb-1",style:{color:ce.textPrimary},children:t.title}),d.jsx("p",{className:"text-xs",style:{color:ce.textMuted},children:t.description}),n<e.length-1&&d.jsx("div",{className:"absolute top-5 -right-2 hidden md:block",style:{color:ce.border}})]},n))})})}function DL(){const e=["Auditable outputs","Traceable decisions","Validated delivery","Human accountability"];return d.jsx("section",{className:"text-center",children:d.jsx("div",{className:"flex flex-wrap justify-center gap-x-6 gap-y-2",children:e.map((t,n)=>d.jsx("span",{className:"text-xs",style:{color:ce.textMuted},children:t},n))})})}function FL({onLogin:e}){return d.jsxs("section",{className:"text-center",children:[d.jsx("p",{className:"text-sm font-medium mb-4",style:{color:ce.textSecondary},children:"Ready?"}),d.jsxs("div",{className:"inline-flex flex-col gap-3",children:[d.jsxs("button",{onClick:()=>e("google"),className:"w-64 flex items-center justify-center gap-3 px-4 py-3 rounded font-medium transition-colors",style:{background:ce.accent,color:"#ffffff"},onMouseOver:t=>t.currentTarget.style.background=ce.accentHover,onMouseOut:t=>t.currentTarget.style.background=ce.accent,children:[d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[d.jsx("path",{fill:"#ffffff",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),d.jsx("path",{fill:"#ffffff",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),d.jsx("path",{fill:"#ffffff",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),d.jsx("path",{fill:"#ffffff",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),d.jsxs("button",{onClick:()=>e("microsoft"),className:"w-64 flex items-center justify-center gap-3 px-4 py-3 rounded font-medium transition-colors",style:{background:ce.bg,border:`1px solid ${ce.border}`,color:ce.textPrimary},onMouseOver:t=>t.currentTarget.style.background=ce.bgElevated,onMouseOut:t=>t.currentTarget.style.background=ce.bg,children:[d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 23 23",children:[d.jsx("path",{fill:"#f35325",d:"M1 1h10v10H1z"}),d.jsx("path",{fill:"#81bc06",d:"M12 1h10v10H12z"}),d.jsx("path",{fill:"#05a6f0",d:"M1 12h10v10H1z"}),d.jsx("path",{fill:"#ffba08",d:"M12 12h10v10H12z"})]}),"Continue with Microsoft"]})]})]})}function $L(){return d.jsxs("footer",{className:"py-6 flex items-center justify-center gap-6",children:[d.jsx("a",{href:"/terms",className:"text-xs transition-colors",style:{color:ce.textSubtle},onMouseOver:e=>e.currentTarget.style.color=ce.textMuted,onMouseOut:e=>e.currentTarget.style.color=ce.textSubtle,children:"Terms"}),d.jsx("a",{href:"/privacy",className:"text-xs transition-colors",style:{color:ce.textSubtle},onMouseOver:e=>e.currentTarget.style.color=ce.textMuted,onMouseOut:e=>e.currentTarget.style.color=ce.textSubtle,children:"Privacy"}),d.jsx("span",{className:"text-xs",style:{color:ce.border},children:" 2026 The Combine"})]})}function BL(){const{login:e}=rs();return d.jsxs("div",{className:"min-h-screen flex flex-col",style:{background:ce.bg},children:[d.jsx(qL,{}),d.jsx("main",{className:"flex-1 flex flex-col justify-center px-8 py-12",children:d.jsxs("div",{className:"space-y-12",children:[d.jsx(LL,{}),d.jsx(zL,{}),d.jsx(DL,{}),d.jsx(FL,{onLogin:e})]})}),d.jsx($L,{})]})}const se={bg:"#0f172a",bgElevated:"#1e293b",border:"#334155",textPrimary:"#f8fafc",textSecondary:"#94a3b8",textMuted:"#64748b",textSubtle:"#475569",accent:"#3b82f6",accentHover:"#2563eb"};function HL(){return d.jsxs("header",{className:"h-16 flex items-center justify-between px-6 border-b",style:{background:se.bg,borderColor:se.border},children:[d.jsxs("a",{href:"/",className:"flex items-center gap-3 transition-colors",style:{color:se.textMuted},onMouseOver:e=>e.currentTarget.style.color=se.textSecondary,onMouseOut:e=>e.currentTarget.style.color=se.textMuted,children:[d.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M19 12H5M12 19l-7-7 7-7",strokeLinecap:"round",strokeLinejoin:"round"})}),d.jsx("span",{className:"text-sm",children:"Back"})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:"/logo-dark.png",alt:"The Combine",className:"h-6"}),d.jsx("span",{className:"text-sm font-bold tracking-[0.15em]",style:{color:se.textPrimary},children:"THE COMBINE"})]}),d.jsx("div",{className:"w-16"})," "]})}function hr({title:e,children:t}){return d.jsxs("section",{className:"mb-16",children:[e&&d.jsx("h2",{className:"text-xl font-semibold mb-6",style:{color:se.textPrimary},children:e}),t]})}function $e({children:e,className:t=""}){return d.jsx("p",{className:`text-base leading-relaxed mb-4 ${t}`,style:{color:se.textSecondary},children:e})}function Ki({children:e}){return d.jsx("p",{className:"text-base leading-relaxed mb-4 pl-4",style:{color:se.textPrimary,borderLeft:`2px solid ${se.border}`},children:e})}function Os({items:e}){return d.jsx("ul",{className:"space-y-2 mb-4",children:e.map((t,n)=>d.jsxs("li",{className:"text-base flex items-start gap-3",style:{color:se.textSecondary},children:[d.jsx("span",{style:{color:se.textMuted},children:"-"}),t]},n))})}function qs({number:e,title:t,children:n}){return d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex items-baseline gap-3 mb-2",children:[d.jsxs("span",{className:"text-sm font-mono",style:{color:se.textMuted},children:[e,"."]}),d.jsx("h3",{className:"text-base font-medium",style:{color:se.textPrimary},children:t})]}),d.jsx("div",{className:"pl-7",children:d.jsx($e,{children:n})})]})}function Ls({title:e,children:t}){return d.jsxs("div",{className:"mb-6",children:[d.jsx("h3",{className:"text-base font-medium mb-2",style:{color:se.textPrimary},children:e}),d.jsx($e,{className:"mb-0",children:t})]})}function VL({onLogin:e}){return d.jsxs("section",{className:"text-center py-12 rounded-lg",style:{background:se.bgElevated,border:`1px solid ${se.border}`},children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",style:{color:se.textPrimary},children:"When You're Ready"}),d.jsx($e,{className:"max-w-md mx-auto mb-2",children:"You don't need to prepare anything."}),d.jsx($e,{className:"max-w-md mx-auto mb-2",children:"You don't need to know the workflow in advance."}),d.jsx($e,{className:"max-w-md mx-auto mb-8",children:"You start by stating intent  the system handles the rest."}),d.jsxs("div",{className:"inline-flex flex-col gap-3",children:[d.jsxs("button",{onClick:()=>e("google"),className:"w-64 flex items-center justify-center gap-3 px-4 py-3 rounded font-medium transition-colors",style:{background:se.accent,color:"#ffffff"},onMouseOver:t=>t.currentTarget.style.background=se.accentHover,onMouseOut:t=>t.currentTarget.style.background=se.accent,children:[d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[d.jsx("path",{fill:"#ffffff",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),d.jsx("path",{fill:"#ffffff",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),d.jsx("path",{fill:"#ffffff",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),d.jsx("path",{fill:"#ffffff",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),d.jsxs("button",{onClick:()=>e("microsoft"),className:"w-64 flex items-center justify-center gap-3 px-4 py-3 rounded font-medium transition-colors",style:{background:se.bg,border:`1px solid ${se.border}`,color:se.textPrimary},onMouseOver:t=>t.currentTarget.style.background=se.bgElevated,onMouseOut:t=>t.currentTarget.style.background=se.bg,children:[d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 23 23",children:[d.jsx("path",{fill:"#f35325",d:"M1 1h10v10H1z"}),d.jsx("path",{fill:"#81bc06",d:"M12 1h10v10H12z"}),d.jsx("path",{fill:"#05a6f0",d:"M1 12h10v10H1z"}),d.jsx("path",{fill:"#ffba08",d:"M12 12h10v10H12z"})]}),"Continue with Microsoft"]})]})]})}function UL(){return d.jsxs("footer",{className:"py-8 text-center",children:[d.jsx("p",{className:"text-sm mb-6",style:{color:se.textMuted},children:"The Combine does not replace human judgment. It makes it visible."}),d.jsxs("div",{className:"flex items-center justify-center gap-6",children:[d.jsx("a",{href:"/terms",className:"text-xs transition-colors",style:{color:se.textSubtle},onMouseOver:e=>e.currentTarget.style.color=se.textMuted,onMouseOut:e=>e.currentTarget.style.color=se.textSubtle,children:"Terms"}),d.jsx("a",{href:"/privacy",className:"text-xs transition-colors",style:{color:se.textSubtle},onMouseOver:e=>e.currentTarget.style.color=se.textMuted,onMouseOut:e=>e.currentTarget.style.color=se.textSubtle,children:"Privacy"}),d.jsx("span",{className:"text-xs",style:{color:se.border},children:" 2026 The Combine"})]})]})}function WL(){const{login:e}=rs();return d.jsxs("div",{className:"min-h-screen flex flex-col",style:{background:se.bg},children:[d.jsx(HL,{}),d.jsx("main",{className:"flex-1 px-6 py-12",children:d.jsxs("article",{className:"max-w-2xl mx-auto",children:[d.jsx("h1",{className:"text-3xl font-semibold mb-12 text-center",style:{color:se.textPrimary},children:"Learn More"}),d.jsxs(hr,{title:"What The Combine Is",children:[d.jsx($e,{children:"The Combine is an AI-assisted production system for knowledge work."}),d.jsx($e,{children:"It applies manufacturing discipline to work that is normally informal, fragile, and difficult to audit  system design, architecture, requirements, analysis, and planning."}),d.jsx(Ki,{children:"Instead of prompts and chat history, The Combine produces governed artifacts."}),d.jsx(Ki,{children:"Instead of experimentation without memory, it runs repeatable production lines."})]}),d.jsxs(hr,{title:"Why It Exists",children:[d.jsx($e,{children:"Most AI tools optimize for speed and creativity. That works well for drafts and exploration."}),d.jsx($e,{children:"It breaks down when the work must be:"}),d.jsx(Os,{items:["Auditable","Traceable","Reviewed","Approved","Reused","Defended"]}),d.jsx($e,{children:"The Combine exists for situations where quality, accountability, and repeatability matter more than cleverness."})]}),d.jsxs(hr,{title:'Why "The Combine"',children:[d.jsx($e,{children:"The Combine takes its name from the combine harvester  one of the most important industrial inventions of the 20th century."}),d.jsx($e,{children:"Before the combine, harvesting was fragmented, manual, and inconsistent. Separate steps. Separate tools. High variability. Heavy dependence on individual skill."}),d.jsx($e,{children:"The combine harvester changed that by integrating many steps into a single, governed production line  increasing consistency, traceability, and scale without removing human oversight."}),d.jsx($e,{children:"The Combine applies the same philosophy to AI-driven knowledge work."}),d.jsx($e,{children:"Instead of scattered prompts, fragile documents, and unrepeatable decisions, it assembles intent through a structured line:"}),d.jsx(Os,{items:["Inputs are clarified","Work moves through defined stations","Quality gates enforce discipline","Outputs stabilize into reusable artifacts"]}),d.jsx($e,{children:"This is not automation for speed. It is industrialization for reliability."}),d.jsx(Ki,{children:"As with the original combine, the breakthrough is not intelligence, but integration."})]}),d.jsxs(hr,{title:"How It Works",children:[d.jsx(qs,{number:1,title:"You express intent",children:"You describe what you want to build. The system listens, asks clarifying questions, and confirms scope and constraints."}),d.jsx(qs,{number:2,title:"A production line is assembled",children:"Based on your intent, The Combine configures a sequence of specialized stations  each responsible for producing a specific artifact."}),d.jsx(qs,{number:3,title:"Quality gates enforce discipline",children:"Artifacts move forward only when they meet defined criteria. Nothing proceeds without validation."}),d.jsx(qs,{number:4,title:"Outputs stabilize",children:"Approved artifacts are versioned, bound, and ready for use  not just today, but later."})]}),d.jsxs(hr,{title:"What Makes It Different",children:[d.jsx(Ls,{title:"Production over prompting",children:"Work progresses through defined stages, not conversations."}),d.jsx(Ls,{title:"Human accountability remains central",children:"AI assists, but humans approve. Nothing ships without oversight."}),d.jsx(Ls,{title:"Every decision is traceable",children:"Why something exists, who approved it, and what assumptions were made are always visible."}),d.jsx(Ls,{title:"Designed for real-world constraints",children:"Compliance, audits, handoffs, and change management are first-class concerns."})]}),d.jsxs(hr,{title:"What The Combine Is Not",children:[d.jsx(Os,{items:["A chat interface","A creative writing tool","An autonomous agent that acts without approval","A system that hides its reasoning or decisions"]}),d.jsx($e,{children:"If you want improvisation, there are better tools."}),d.jsx(Ki,{children:"If you need defensible outcomes, this is what The Combine is built for."})]}),d.jsxs(hr,{title:"Who It's For",children:[d.jsx($e,{children:"The Combine is designed for people responsible for outcomes, including:"}),d.jsx(Os,{items:["Architects and technical leaders","Product and delivery leaders","Compliance-conscious teams","Organizations that need repeatable, explainable AI support"]}),d.jsx(Ki,{children:`If the phrase "nothing ships without validation" resonates, you're in the right place.`})]}),d.jsx(VL,{onLogin:e})]})}),d.jsx(UL,{})]})}function GL({user:e,onClick:t}){return d.jsx("div",{className:"p-3 border-t",style:{borderColor:"var(--border-panel)"},children:d.jsxs("button",{onClick:t,className:"flex items-center gap-3 w-full p-2 rounded-lg hover:bg-white/10 transition-colors",style:{color:"var(--text-primary)"},children:[e!=null&&e.avatar_url?d.jsx("img",{src:e.avatar_url,alt:e.name,className:"w-8 h-8 rounded-full"}):d.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",style:{background:"var(--bg-canvas)"},children:d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),d.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),d.jsxs("div",{className:"flex-1 text-left overflow-hidden",children:[d.jsx("div",{className:"text-sm font-medium truncate",children:(e==null?void 0:e.name)||"User"}),d.jsx("div",{className:"text-xs truncate",style:{color:"var(--text-muted)"},children:(e==null?void 0:e.email)||""})]})]})})}function KL(){var q,F,L;const{user:e}=rs(),[t,n]=k.useState(!1),{projects:r,loading:i,error:o,refresh:s}=wL({includeArchived:t}),[a,l]=k.useState(null),[u,c]=k.useState(null),[f,h]=k.useState(!1),[p,y]=k.useState(!1),{theme:v,setTheme:_}=yN(),g=Object.keys(r),m=a&&r[a]?a:g[0]||null;k.useEffect(()=>{if(m&&r[m]){const b=r[m];document.title=`${b.projectId} - The Combine`}else document.title="The Combine"},[m,r]);const x=b=>{l(b),c(null)},w=()=>{h(!0)},S=async b=>{await s(),b&&b.id&&(l(b.id),c("concierge_intake")),h(!1)},E=()=>{h(!1)},N=async(b,P)=>{try{await Oe.updateProject(b,P),await s()}catch(T){throw console.error("Failed to update project:",T),T}},C=async b=>{try{if(await Oe.archiveProject(b),!t){const P=Object.values(r).sort((R,j)=>{const A=(R.name||"").localeCompare(j.name||"");return A!==0?A:(R.projectId||"").localeCompare(j.projectId||"")}),T=P.findIndex(R=>R.id===b),z=P[T+1]||P[T-1]||null;l((z==null?void 0:z.id)||null)}await s()}catch(P){throw console.error("Failed to archive project:",P),P}},I=async b=>{try{await Oe.unarchiveProject(b),await s()}catch(P){throw console.error("Failed to unarchive project:",P),P}},O=async b=>{try{await Oe.deleteProject(b);const P=Object.values(r).sort((R,j)=>{const A=(R.name||"").localeCompare(j.name||"");return A!==0?A:(R.projectId||"").localeCompare(j.projectId||"")}),T=P.findIndex(R=>R.id===b),z=P[T+1]||P[T-1]||null;l((z==null?void 0:z.id)||null),await s()}catch(P){throw console.error("Failed to delete project:",P),P}};return i?d.jsx("div",{className:`flex h-screen items-center justify-center theme-${v}`,style:{background:"var(--bg-canvas)"},children:d.jsxs("div",{className:"text-center",children:[d.jsx("img",{src:"/logo-light.png",alt:"The Combine",className:"h-16 mx-auto mb-4 animate-pulse"}),d.jsx("p",{style:{color:"var(--text-muted)"},children:"Loading projects..."})]})}):o?d.jsx("div",{className:`flex h-screen items-center justify-center theme-${v}`,style:{background:"var(--bg-canvas)"},children:d.jsxs("div",{className:"text-center p-6 rounded-lg",style:{background:"var(--bg-panel)"},children:[d.jsxs("p",{className:"text-red-500 mb-4",children:["Failed to load projects: ",o]}),d.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-emerald-500 text-white rounded hover:bg-emerald-600",children:"Retry"})]})}):d.jsxs("div",{className:`flex flex-col h-screen theme-${v}`,children:[d.jsxs("header",{className:"h-12 flex items-center justify-between px-4 border-b flex-shrink-0",style:{background:"var(--bg-panel)",borderColor:"var(--border-panel)"},children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:"/logo-256.png",alt:"The Combine",className:"h-7 w-7"}),d.jsx("span",{className:"text-sm font-bold tracking-wide",style:{color:"var(--text-primary)"},children:"THE COMBINE"})]}),d.jsx("button",{className:"p-2 rounded hover:bg-white/10 transition-colors",style:{color:"var(--text-muted)"},title:"Help",children:d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),d.jsx("path",{d:"M12 17h.01"})]})})]}),d.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[d.jsx(PP,{projects:r,selectedId:m,onSelectProject:x,onNewProject:w,showArchived:t,onToggleShowArchived:()=>n(b=>!b),userSection:d.jsx(GL,{user:e,onClick:()=>y(!0)})}),d.jsx("div",{className:"flex-1",children:m?d.jsx(Ig,{children:d.jsx(NL,{projectId:m,projectCode:(q=r[m])==null?void 0:q.projectId,projectName:(F=r[m])==null?void 0:F.name,isArchived:(L=r[m])==null?void 0:L.isArchived,autoExpandNodeId:u,theme:v,onThemeChange:_,onProjectUpdate:N,onProjectArchive:C,onProjectUnarchive:I,onProjectDelete:O})},m):d.jsx("div",{className:"flex items-center justify-center h-full",style:{background:"var(--bg-canvas)"},children:d.jsx("div",{className:"text-center",children:d.jsx("p",{style:{color:"var(--text-muted)"},children:"No projects yet. Create one to get started."})})})}),f&&d.jsx(AL,{onClose:E,onComplete:S}),p&&d.jsx(OL,{onClose:()=>y(!1)})]})]})}function YL(){const{isAuthenticated:e,loading:t}=rs(),{theme:n}=yN(),[r,i]=k.useState(window.location.pathname);return k.useEffect(()=>{const o=()=>i(window.location.pathname);return window.addEventListener("popstate",o),()=>window.removeEventListener("popstate",o)},[]),t?d.jsx("div",{className:`flex h-screen items-center justify-center theme-${n}`,style:{background:"var(--bg-canvas)"},children:d.jsxs("div",{className:"text-center",children:[d.jsx("img",{src:"/logo-light.png",alt:"The Combine",className:"h-16 mx-auto mb-4 animate-pulse"}),d.jsx("p",{style:{color:"var(--text-muted)"},children:"Loading..."})]})}):e?d.jsx(KL,{}):r==="/learn"?d.jsx(WL,{}):d.jsx(BL,{})}function XL(){return d.jsx(SL,{children:d.jsx(YL,{})})}ap.createRoot(document.getElementById("root")).render(d.jsx($.StrictMode,{children:d.jsx(XL,{})}));
//# sourceMappingURL=index-qNAmW3_q.js.map
