============================= test session starts =============================
platform win32 -- Python 3.13.2, pytest-8.4.2, pluggy-1.6.0 -- C:\Program Files\Python313\python.exe
cachedir: .pytest_cache
rootdir: C:\dev\The Combine
plugins: anyio-4.10.0, asyncio-1.3.0, cov-7.0.0, httpx-0.35.0
asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 17 items

tests/tier1/test_llm_execution_logger.py::test_start_run_persists_record PASSED [  5%]
tests/tier1/test_llm_execution_logger.py::test_start_run_rejects_none_correlation_id PASSED [ 11%]
tests/tier1/test_llm_execution_logger.py::test_add_input_persists_with_content PASSED [ 17%]
tests/tier1/test_llm_execution_logger.py::test_content_deduplication PASSED [ 23%]
tests/tier1/test_llm_execution_logger.py::test_log_error_updates_run_summary PASSED [ 29%]
tests/tier1/test_llm_execution_logger.py::test_complete_run_sets_final_status PASSED [ 35%]
tests/tier1/test_llm_execution_logger.py::test_get_run_by_correlation_id PASSED [ 41%]
tests/tier2/test_llm_logging_wiring.py::test_start_run_calls_insert_run_and_commit PASSED [ 47%]
tests/tier2/test_llm_logging_wiring.py::test_add_input_calls_content_check_insert_commit PASSED [ 52%]
tests/tier2/test_llm_logging_wiring.py::test_add_input_records_correct_kind PASSED [ 58%]
tests/tier2/test_llm_logging_wiring.py::test_add_output_calls_correct_methods PASSED [ 64%]
tests/tier2/test_llm_logging_wiring.py::test_log_error_calls_insert_and_bump PASSED [ 70%]
tests/tier2/test_llm_logging_wiring.py::test_log_warning_does_not_bump PASSED [ 76%]
tests/tier2/test_llm_logging_wiring.py::test_complete_run_calls_update_and_commit PASSED [ 82%]
tests/tier2/test_llm_logging_wiring.py::test_complete_run_passes_token_counts PASSED [ 88%]
tests/tier2/test_llm_logging_wiring.py::test_correlation_id_propagates_to_run_record PASSED [ 94%]
tests/tier2/test_llm_logging_wiring.py::test_effective_prompt_hash_computed PASSED [100%]

============================= 17 passed in 0.09s ==============================
